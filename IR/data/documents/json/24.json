{"content": "Nơi tổng_hợp và chia_sẻ những kiến_thức liên_quan tới giải_thuật nói_chung và lý_thuyết khoa_học máy_tính nói_riêng .\nin_Như Donald_Knuth 2 đã nói , thao_tác với bít là \"một thành_phần không_thể thiếu trong toolkit của các lập_trình_viên tốt\" .\nTrong bài này chúng_ta sẽ tìm_hiểu tại_sao thao_tác với bít lại quan trong như_vậy .\nSử_dụng thao_tác bít , chúng_ta có_thể thực_hiện nhiều thứ rất \"ảo\" bằng một_vài câu_lệnh đơn_giản . Xét một ví_dụ \"đơn giản\" sau : cho một_số nguyên 64 bít không dấu , kiểm_tra xem có_phải là một_lũy thừa của 2 hay_không , i . e , kiểm_tra xem có tồn_tại một_số sao_cho ?\nCó_lẽ một_số trong chúng_ta sẽ tiếp_cận như_sau : với mỗi , ta tính và so_sánh với : Tất_nhiên bạn có_thể thêm một_vài heuristic để thuật_toán nhanh hơn , còn_về mặt ý_tưởng thì_là như_vậy .\nTuy_nhiên , nếu bạn biết xử_lí bít thì hàm trên có_thể được thực_hiện nhanh và ngắn_gọn như_sau : Code_C : Trong đó là phép AND .\nHi_vọng ví_dụ trên đủ để thuyết_phục bạn rằng nắm_chắc các kĩ_thuật xử_lí bít là một điều không_thể thiếu trong các kĩ_năng của bạn .\nTrong các phần tiếp_theo chúng_ta sẽ tìm_hiểu tại_sao thuật_toán là đúng .\nTa sẽ kí_hiệu_số nguyên có dấu là và số_nguyên không dấu là trong đó là số bít .\nVí_dụ số_nguyên 64 bít không dấu là và số_nguyên 32 bít có dấu là .\nCác thao_tác bít cơ_bản và kí_hiệu toán_học dùng trong các bài viết này được cho bởi bảng dưới : Các ngôn_ngữ_lập_trình thường cung_cấp 2 phép SHIFT_RIGHT là LOGICAL_SHIFT_RIGHT và ARITHMETIC_SHIFT_RIGHT .\nSự khác_nhau nằm ở chỗ bít dấu sẽ được shift như_thế nào .\nTrong_LOGICAL_SHIFT_RIGHT , kí_hiệu , bít dấu không được giữ_nguyên khi shift Trong_ARITHMETIC_SHIFT_RIGHT , kí_hiệu , bít dấu sẽ được shift lan về bên phải_khi shift .\nHai ví_dụ cuối_cùng trong bảng trên của hàng SHIFT_RIGHT minh_họa cho sự khác_nhau này .\nNếu số được shift là số_không dấu thì ARITHMETIC_SHIFT_RIGHT và LOGICAL_SHIFT_RIGHT là như_nhau .\nMột_số ngôn_ngữ có hai phép SHIFT_LEFT là ARITHMETIC_SHIFT_LEFT và LOGICAL_SHIFT_LEFT .\nTuy_nhiên trong khuôn_khổ những bài viết ở đây , ta chỉ xét LOGICAL_SHIFT_LEFT mà ta gọi_là SHIFT_LEFT cho ngắn_gọn .\nMột trong những điều chúng_ta phải hết_sức chú_ý đó là của các thao_tác .\nThứ_tự thông_thường như_sau : NOT > nhân , chia > cộng , trừ > SHIFT_LEFT , SHIFT_RIGHT > AND > XOR > OR Một_số tính_chất của các thao_tác như_sau : Các tính_chất không quá khó để chứng_minh .\nDo các thao_tác áp_dụng kiểu bitwise (không có nhớ) , để chứng_minh , ta chỉ_cần kiểm_tra các thao_tác trên đúng_với trường_hợp chỉ_có 1 bít .\nChi_tiết coi_như bài_tập cho bạn_đọc .\nChú_ý có biểu_diễn nhị_phân là (chỉ gồm các bít 1) .\nTính_chất ( không dấu) được suy ra từ định_nghĩa của các phép shift . Ta dễ thấy : , từ_đó suy ra : Thay bởi , ta cũng suy ra : Kết hơp ta có .\nBằng phép quy_nạp , ta suy ra : Trong các ví_dụ dưới_đây , các giá_trị boolean TRUE/FALSE sẽ được coi là các giá_trị . Cho hai số_nguyên kiểu , trả về nếu khác dấu và 0 nếu ngược_lại .\nCác thủ_tục dưới_đây thực_hiện hàm này .\nTính đúng_đắn coi_như bài_tập cho bạn_đọc .\nCode_C : Tính giá_trị_tuyệt_đối của số_nguyên có độ_dài bít : Code_C : Chứng_minh trả_lại giá_trị_tuyệt_đối của coi_như bài_tập cho bạn_đọc .\nTa sẽ chứng_minh thủ_tục là đúng : Chứng_minh đúng tương_tự như chứng_minh đúng .\nChi_tiết coi_như bài_tập cho bạn_đọc .\nGiả_sử_ta có_một số_nguyên có dấu độ_dài bít , ta muốn mở_rộng bít thứ của ra thành bít dấu : Ví_dụ , giá_trị sau khi mở_rộng là .\nVí_dụ khác , , giá_trị sau khi mở_rộng là .\nTa có_thể làm như_sau : Code_C : Ta sẽ chứng_minh đúng .\nCác thủ_tục khác chứng_minh tương_tự .\nGọi với và .\nTa cần chứng_minh thủ_tục sẽ trả về nếu và nếu . Thật_vậy , sau khi đã xóa_bít đầu_tiên (lệnh ) , ta có .\nNếu , ta suy ra và thủ_tục sẽ trả_lại .\nNếu , ta có và .\nDo_đó , thủ_tục trả_lại .\nMột trong những thủ_tục trong các thuật_toán sắp_xếp là đổi chỗ hai biến .\nThông_thường , ta sẽ dùng một biến trung_gian để lưu một trong hai giá_trị trong quá_trình đổi chỗ .\nNếu hai biến cần đổi chỗ là các số_nguyên_ta không cần phải sử_dụng biến trung_gian đó .\nCode_C : Chứng_minh tính đúng_đắn coi_như bài_tập cho bạn_đọc . Cho hai giá_trị nguyên , tìm giá_trị lớn nhất , nhỏ nhất của hai số .\nCode_C : Tính đúng_đắn coi_như bài_tập cho bạn_đọc .\nThủ_tục tính max tương_tự như tính min .\nChi_tiết coi_như bài_tập cho bạn_đọc .\nGiả_sử_ta có_một số_nguyên có dấu và một biến .\nNếu thì ta phải đổi dấu của .\nNếu ta giữ_nguyên giá_trị .\nCode_C : Ta chứng_minh đúng .\nNếu , dễ_dàng kiểm_tra được thủ_tục trả_lại giá_trị .\nNếu , ta có : Tương_tự như_vậy , ta có_thể chứng_minh được đúng .\nTrong phần này , giả_sử số_nguyên có biểu_diễn nhị_phân như_sau : trong đó có_thể bằng .\nTa dễ_dàng suy ra : Từ_đó suy ra .\nTa lại thu được các đẳng_thức ở trên . Một_số thao_tác với bít 1 tận_cùng bên phải quan_trọng nên nhớ : Các mặt_nạ \"thần kì\" (magic mask) được sử_dụng rất rất nhiều trong các thủ_tục thao_tác bít .\nCác mặt_nạ thần_kì được định_nghĩa như_sau : Về_mặt toán_học , là khai_triển nhị_phân của do Ở đây , bạn_đọc chỉ_cần nhớ gồm mỗi dãy lặp_lại số liên_tiếp sau_đó là số 1 liên_tiếp .\nThủ_tục ở trên kiểm_tra xem có tồn_tại sao_cho hay_không ?\nDễ thấy , nếu thì_có đúng 1 bít 1 .\nTheo , sẽ xóa_bít 1 tận_cùng bên phải .\nDo_đó , trả về 0 khi và chỉ khi và với một_số nào_đó .\nCho một_số nguyên (không dấu) , đếm_số bít của .\nTa có_thể thực_hiện sử_dụng thao_tác bít trong đó là số bít biểu_diễn của như_sau : Code_C : Sử_dụng thuật_toán trên trong trường_hợp có bít cần khoảng phép_tính .\nĐể tăng_tốc thuật_toán , ta sẽ sử_dụng một bảng , gọi_là bảng nhớ , để tính trước .\nGiả_sử_ta có bảng trong đó nếu trong biểu_diễn nhịn phân cuả có bít 1 .\nNếu bảng đã được tính sẵn , ta có_thể đếm_số bít 1 của trong 11 phép_tính như_sau : Code_C : Trong trường_hợp số_lượng bít 1 của không nhiều , ta có_thể sử_dụng .\nCụ_thể , nếu có bít 1 thì ta chỉ_cần phép_tính .\nCode_C : Chứng_minh thủ_tục đúng coi_như bài_tập cho bạn_đọc .\nCho một_số nguyên , gọi_là số_lượng bít 0 cuối_cùng (trailing zeros) của .\nTính .\nVí_dụ , ta có .\nDễ thấy nếu lẻ thì .\nTa có_công thức đệ_quy sau của : Trong đó là số bít biểu_diễn của .\nCách đầu_tiên_ta có_thể nghĩ đến_là duyệt các bít của từ trái sang phải để đếm_số lượng bít 0 cho_đến khi ta bắt gắp bít 1 đầu_tiên thì dừng .\nCách này cần khoảng phép_tính trong đó là số_lượng bít 0 cuối_cùng .\nTrong trường_hợp tồi nhất , đếm_số bít 0 cuối_cùng cuả số_nguyên không dấu 32 bít cần hơn 150 phép_tính .\nCó_thể tăng_tốc thuật_toán này bằng cách sử_dụng bảng nhớ như_trên .\nCách khác ta có_thể nghĩ tới là sử_dụng chia_để_trị để tìm bít 1 phải nhất .\nCách này áp_dụng cho mọi số_nguyên 32 bít sử_dụng 19 phép_tính .\nCode_C : Tính đúng_đắn coi_như bài_tập cho bạn_đọc .\nNgoài_ra ta có_thể sử_dụng mặt_nạ thần_kì để tính .\nNhận_thấy nếu với một_số nào_đó thì : trong đó hàm nếu là TRUE và nếu ngược_lại .\nDo_đó , để áp_dụng , ta sẽ áp_dụng trước để xóa hết các bít 1 bên trái của bít 1 cuối_cùng .\nNếp áp_dụng phương_pháp này cho số_nguyên có bít thì mất cỡ 16 phép_tính .\nGiả mã như_sau : Code_C : Cho số_nguyên , ví_dụ bít , đảo_ngược biểu_diễn nhị_phân của , i . e , trả_lại .\nCách đơn_giản nhất_là copy các bít của sang một_số theo thứ_tự đảo_ngược .\nCách này mất phép_tính trong đó là vị_trí của bít 1 tận_cùng bên trái của .\nDo_đó , khi áp_dụng cho số 32 bít , trong trường_hợp xấu nhất , tổng_số thao_tác ta cần sử_dụng là hơn 180 phép_tính .\nCode_C : Trong bài toàn này ta cũng có_thể áp_dụng chia_để_trị .\nVí_dụ với có 8 bít như_trên , ta có_thể đảo_ngược các bít của trong 3 bước như_sau : Để thực_hiện bước 1 , ta sẽ làm như_sau : Tương_tự như_vậy các bước tiếp_theo ta thực_hiện với mặt_nạ thần_kì .\nGiả mã với là số_nguyên 32 bít không dấu như_sau : Code_C : Dễ thấy sử_dụng các mặt_nạ thần_kì , ta có_thể đảo bít số_nguyên 32 bít trong phép_tính và số_nguyên 64 bít trong 26 phép_tính .\nChứng_minh tính đúng_đắn của thủ_tục trên coi_như bài_tập cho bạn_đọc .\nTrong ví_dụ tiếp_theo , ta sẽ áp_dụng phương_pháp đổi chỗ hai bít để đảo bít số_nguyên 64 bít sử_dụng 26 phép_tính . Cho số_nguyên không dấu , đổi chỗ hai bít và của ( < ) .\nĐặt , ta tiến_hành đổi chỗ như_sau : Code_C : Trong giả mã trên , bước_đầu tiên , ta tách ra khỏi và đặt vào vị_trí thứ .\nSau_đó , ta tách ra khỏi và đặt vào bít thứ .\nMặt_nạ ở trên có tất_cả các bít là 1 ngoại_trừ bít thứ và .\nSuy ra , sẽ thiết_lập bít và về 0 .\nNhư_vậy , kết_quả cuối_cùng sẽ là .\nChú_ý trong ví_dụ đổi chỗ hai số_nguyên không dùng biến thứ 3 , ta sử_dụng phép XOR .\nỞ bài_toán này , ta có_thể thực_hiện ý_tưởng tương_tự .\nCode_C : Đầu_tiên_ta tính và đưa kết qủa vào vị_trí thứ .\nsau_đó đổi thành và thành .\nDễ thấy cách này sử_dụng ít thao_tác bít hơn cách ở trên .\nÝ_tưởng của thuật_toán còn có_thể được dùng để đổi chỗ vài cặp bít cùng một_lúc (giống như cách chúng_ta đảo bít ở trên) .\nThông_thường , để thực_hiện đảo nhiều cặp bít , ta sẽ dùng mặt_nạ thay_vì như_trên .\nTa sẽ gọi thủ_tục này là -swap .\nSử_dụng -swap , ta có_thể thực_hiện đảo bít số_nguyên 64 bít không dấu trong 26 phép_tính (thay vì 28) như_sau : Chi_tiết chứng_minh tính đúng_đắn của thuật_toán trên coi_như bài_tập cho bạn_đọc . Code : 1 Donald_E .\nKnuth .\n.\nAddison-Wesley_Professional , 2009 .\n2 3 Warren , Henry_S .\n.\nPearson_Education , 2012 .\n, , Powered by and\n", "tagged": "Nơi/N tổng_hợp/V và/Cc chia_sẻ/V những/L kiến_thức/N liên_quan/V tới/E giải_thuật/Np nói_chung/X và/Cc lý_thuyết/Np khoa_học/N máy_tính/N nói_riêng/X ./CH\nin_Như/Np Donald_Knuth/Np 2/M đã/R nói/V ,/CH thao_tác/V với/E bít/V là/V \"một/Np thành_phần/N không_thể/R thiếu/A trong/E toolkit/Np của/E các/L lập_trình_viên/Np tốt\"/Np ./CH\nTrong/E bài/N này/P chúng_ta/P sẽ/R tìm_hiểu/V tại_sao/X thao_tác/V với/E bít/V lại/R quan/N trong/E như_vậy/X ./CH\nSử_dụng/V thao_tác/V bít/V ,/CH chúng_ta/P có_thể/R thực_hiện/V nhiều/A thứ/N rất/R \"ảo\"/Np bằng/E một_vài/L câu_lệnh/Np đơn_giản/A ./CH Xét/V một/M ví_dụ/C \"đơn/Np giản\"/Np sau/E :/CH cho/E một_số/L nguyên/A 64/M bít/V không/R dấu/N ,/CH kiểm_tra/V xem/V có_phải/Np là/V một_lũy/Np thừa/V của/E 2/M hay_không/Np ,/CH i/M ./CH e/Ni ,/CH kiểm_tra/V xem/V có/V tồn_tại/V một_số/L sao_cho/Np ?/CH\nCó_lẽ/X một_số/L trong/E chúng_ta/P sẽ/R tiếp_cận/V như_sau/Np :/CH với/E mỗi/L ,/CH ta/P tính/V và/Cc so_sánh/V với/E :/CH Tất_nhiên/A bạn/N có_thể/R thêm/V một_vài/L heuristic/Np để/E thuật_toán/N nhanh/A hơn/A ,/CH còn_về/Np mặt/N ý_tưởng/N thì_là/Np như_vậy/X ./CH\nTuy_nhiên/C ,/CH nếu/C bạn/N biết/V xử_lí/V bít/V thì/C hàm/Np trên/E có_thể/R được/V thực_hiện/V nhanh/A và/Cc ngắn_gọn/A như_sau/Np :/CH Code_C/Np :/CH Trong/E đó/P là/V phép/N AND/Np ./CH\nHi_vọng/V ví_dụ/C trên/E đủ/A để/E thuyết_phục/V bạn/N rằng/C nắm_chắc/Np các/L kĩ_thuật/N xử_lí/V bít/V là/V một/M điều/N không_thể/R thiếu/A trong/E các/L kĩ_năng/N của/E bạn/N ./CH\nTrong/E các/L phần/N tiếp_theo/V chúng_ta/P sẽ/R tìm_hiểu/V tại_sao/X thuật_toán/N là/V đúng/A ./CH\nTa/P sẽ/R kí_hiệu_số/Np nguyên/A có/V dấu/N là/V và/Cc số_nguyên/Np không/R dấu/N là/V trong/E đó/P là/V số/N bít/V ./CH\nVí_dụ/C số_nguyên/Np 64/M bít/V không/R dấu/N là/V và/Cc số_nguyên/Np 32/M bít/V có/V dấu/N là/V ./CH\nCác/L thao_tác/V bít/V cơ_bản/A và/Cc kí_hiệu/Np toán_học/N dùng/V trong/E các/L bài/N viết/V này/P được/V cho/E bởi/E bảng/N dưới/E :/CH Các/L ngôn_ngữ_lập_trình/Np thường/R cung_cấp/V 2/M phép/N SHIFT_RIGHT/Np là/V LOGICAL_SHIFT_RIGHT/Np và/Cc ARITHMETIC_SHIFT_RIGHT/Np ./CH\nSự/N khác_nhau/Np nằm/V ở/E chỗ/N bít/V dấu/N sẽ/R được/V shift/Np như_thế/X nào/P ./CH\nTrong_LOGICAL_SHIFT_RIGHT/Np ,/CH kí_hiệu/Np ,/CH bít/V dấu/N không/R được/V giữ_nguyên/Np khi/N shift/Np Trong_ARITHMETIC_SHIFT_RIGHT/Np ,/CH kí_hiệu/Np ,/CH bít/V dấu/N sẽ/R được/V shift/Np lan/V về/E bên/N phải_khi/Np shift/Np ./CH\nHai/M ví_dụ/C cuối_cùng/A trong/E bảng/N trên/E của/E hàng/N SHIFT_RIGHT/Np minh_họa/V cho/E sự/N khác_nhau/Np này/P ./CH\nNếu/C số/N được/V shift/Np là/V số_không/Np dấu/N thì/C ARITHMETIC_SHIFT_RIGHT/Np và/Cc LOGICAL_SHIFT_RIGHT/Np là/V như_nhau/Np ./CH\nMột_số/L ngôn_ngữ/N có/V hai/M phép/N SHIFT_LEFT/Np là/V ARITHMETIC_SHIFT_LEFT/Np và/Cc LOGICAL_SHIFT_LEFT/Np ./CH\nTuy_nhiên/C trong/E khuôn_khổ/N những/L bài/N viết/V ở/E đây/P ,/CH ta/P chỉ/R xét/V LOGICAL_SHIFT_LEFT/Np mà/C ta/P gọi_là/V SHIFT_LEFT/Np cho/E ngắn_gọn/A ./CH\nMột/M trong/E những/L điều/N chúng_ta/P phải/V hết_sức/R chú_ý/V đó/P là/V của/E các/L thao_tác/V ./CH\nThứ_tự/N thông_thường/A như_sau/Np :/CH NOT/Np >/CH nhân/N ,/CH chia/V >/CH cộng/V ,/CH trừ/V >/CH SHIFT_LEFT/Np ,/CH SHIFT_RIGHT/Np >/CH AND/Np >/CH XOR/Np >/CH OR/Np Một_số/L tính_chất/N của/E các/L thao_tác/V như_sau/Np :/CH Các/L tính_chất/N không/R quá/R khó/A để/E chứng_minh/V ./CH\nDo/E các/L thao_tác/V áp_dụng/V kiểu/N bitwise/Np (không/Np có/V nhớ)/Np ,/CH để/E chứng_minh/V ,/CH ta/P chỉ_cần/Np kiểm_tra/V các/L thao_tác/V trên/E đúng_với/Np trường_hợp/N chỉ_có/Np 1/M bít/V ./CH\nChi_tiết/N coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nChú_ý/V có/V biểu_diễn/V nhị_phân/Np là/V (chỉ/Np gồm/V các/L bít/V 1)/Np ./CH\nTính_chất/N (/CH không/R dấu)/Np được/V suy/V ra/V từ/E định_nghĩa/N của/E các/L phép/N shift/Np ./CH Ta/P dễ/A thấy/V :/CH ,/CH từ_đó/Np suy/V ra/V :/CH Thay/V bởi/E ,/CH ta/P cũng/R suy/V ra/V :/CH Kết/V hơp/Np ta/P có/V ./CH\nBằng/E phép/N quy_nạp/Np ,/CH ta/P suy/V ra/V :/CH Trong/E các/L ví_dụ/C dưới_đây/Np ,/CH các/L giá_trị/N boolean/Np TRUE/Np sẽ/R được/V coi/V là/V các/L giá_trị/N ./CH Cho/E hai/M số_nguyên/Np kiểu/N ,/CH trả/V về/E nếu/C khác/A dấu/N và/Cc 0/M nếu/C ngược_lại/X ./CH\nCác/L thủ_tục/N dưới_đây/Np thực_hiện/V hàm/Np này/P ./CH\nTính/V đúng_đắn/A coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nCode_C/Np :/CH Tính/V giá_trị_tuyệt_đối/Np của/E số_nguyên/Np có/V độ_dài/Np bít/V :/CH Code_C/Np :/CH Chứng_minh/V trả_lại/Np giá_trị_tuyệt_đối/Np của/E coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nTa/P sẽ/R chứng_minh/V thủ_tục/N là/V đúng/A :/CH Chứng_minh/V đúng/A tương_tự/A như/C chứng_minh/V đúng/A ./CH\nChi_tiết/N coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nGiả_sử_ta/Np có_một/Np số_nguyên/Np có/V dấu/N độ_dài/Np bít/V ,/CH ta/P muốn/V mở_rộng/V bít/V thứ/N của/E ra/V thành/V bít/V dấu/N :/CH Ví_dụ/C ,/CH giá_trị/N sau/E khi/N mở_rộng/V là/V ./CH\nVí_dụ/C khác/A ,/CH ,/CH giá_trị/N sau/E khi/N mở_rộng/V là/V ./CH\nTa/P có_thể/R làm/V như_sau/Np :/CH Code_C/Np :/CH Ta/P sẽ/R chứng_minh/V đúng/A ./CH\nCác/L thủ_tục/N khác/A chứng_minh/V tương_tự/A ./CH\nGọi/V với/E và/Cc ./CH\nTa/P cần/V chứng_minh/V thủ_tục/N sẽ/R trả/V về/E nếu/C và/Cc nếu/C ./CH Thật_vậy/Np ,/CH sau/E khi/N đã/R xóa_bít/Np đầu_tiên/A (lệnh/Np )/CH ,/CH ta/P có/V ./CH\nNếu/C ,/CH ta/P suy/V ra/V và/Cc thủ_tục/N sẽ/R trả_lại/Np ./CH\nNếu/C ,/CH ta/P có/V và/Cc ./CH\nDo_đó/C ,/CH thủ_tục/N trả_lại/Np ./CH\nMột/M trong/E những/L thủ_tục/N trong/E các/L thuật_toán/N sắp_xếp/V là/V đổi/V chỗ/N hai/M biến/V ./CH\nThông_thường/A ,/CH ta/P sẽ/R dùng/V một/M biến/V trung_gian/N để/E lưu/V một/M trong/E hai/M giá_trị/N trong/E quá_trình/N đổi/V chỗ/N ./CH\nNếu/C hai/M biến/V cần/V đổi/V chỗ/N là/V các/L số_nguyên_ta/Np không/R cần/V phải/V sử_dụng/V biến/V trung_gian/N đó/P ./CH\nCode_C/Np :/CH Chứng_minh/V tính/V đúng_đắn/A coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH Cho/E hai/M giá_trị/N nguyên/A ,/CH tìm/V giá_trị/N lớn/A nhất/A ,/CH nhỏ/A nhất/A của/E hai/M số/N ./CH\nCode_C/Np :/CH Tính/V đúng_đắn/A coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nThủ_tục/N tính/V max/Np tương_tự/A như/C tính/V min/Np ./CH\nChi_tiết/N coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nGiả_sử_ta/Np có_một/Np số_nguyên/Np có/V dấu/N và/Cc một/M biến/V ./CH\nNếu/C thì/C ta/P phải/V đổi/V dấu/N của/E ./CH\nNếu/C ta/P giữ_nguyên/Np giá_trị/N ./CH\nCode_C/Np :/CH Ta/P chứng_minh/V đúng/A ./CH\nNếu/C ,/CH dễ_dàng/A kiểm_tra/V được/V thủ_tục/N trả_lại/Np giá_trị/N ./CH\nNếu/C ,/CH ta/P có/V :/CH Tương_tự/A như_vậy/X ,/CH ta/P có_thể/R chứng_minh/V được/V đúng/A ./CH\nTrong/E phần/N này/P ,/CH giả_sử/Np số_nguyên/Np có/V biểu_diễn/V nhị_phân/Np như_sau/Np :/CH trong/E đó/P có_thể/R bằng/E ./CH\nTa/P dễ_dàng/A suy/V ra/V :/CH Từ_đó/Np suy/V ra/V ./CH\nTa/P lại/R thu/V được/V các/L đẳng_thức/Np ở/E trên/E ./CH Một_số/L thao_tác/V với/E bít/V 1/M tận_cùng/N bên/N phải/V quan_trọng/A nên/C nhớ/V :/CH Các/L mặt_nạ/Np \"thần/Np kì\"/Np (magic/Np mask)/Np được/V sử_dụng/V rất/R rất/R nhiều/A trong/E các/L thủ_tục/N thao_tác/V bít/V ./CH\nCác/L mặt_nạ/Np thần_kì/A được/V định_nghĩa/N như_sau/Np :/CH Về_mặt/Np toán_học/N ,/CH là/V khai_triển/Np nhị_phân/Np của/E do/E Ở/E đây/P ,/CH bạn_đọc/N chỉ_cần/Np nhớ/V gồm/V mỗi/L dãy/Nc lặp_lại/Np số/N liên_tiếp/A sau_đó/Np là/V số/N 1/M liên_tiếp/A ./CH\nThủ_tục/N ở/E trên/E kiểm_tra/V xem/V có/V tồn_tại/V sao_cho/Np hay_không/Np ?/CH\nDễ/A thấy/V ,/CH nếu/C thì_có/X đúng/A 1/M bít/V 1/M ./CH\nTheo/V ,/CH sẽ/R xóa_bít/Np 1/M tận_cùng/N bên/N phải/V ./CH\nDo_đó/C ,/CH trả/V về/E 0/M khi/N và/Cc chỉ/R khi/N và/Cc với/E một_số/L nào_đó/P ./CH\nCho/E một_số/L nguyên/A (không/Np dấu)/Np ,/CH đếm_số/Np bít/V của/E ./CH\nTa/P có_thể/R thực_hiện/V sử_dụng/V thao_tác/V bít/V trong/E đó/P là/V số/N bít/V biểu_diễn/V của/E như_sau/Np :/CH Code_C/Np :/CH Sử_dụng/V thuật_toán/N trên/E trong/E trường_hợp/N có/V bít/V cần/V khoảng/N phép_tính/Np ./CH\nĐể/E tăng_tốc/Np thuật_toán/N ,/CH ta/P sẽ/R sử_dụng/V một/M bảng/N ,/CH gọi_là/V bảng/N nhớ/V ,/CH để/E tính/V trước/E ./CH\nGiả_sử_ta/Np có/V bảng/N trong/E đó/P nếu/C trong/E biểu_diễn/V nhịn/V phân/V cuả/Np có/V bít/V 1/M ./CH\nNếu/C bảng/N đã/R được/V tính/V sẵn/A ,/CH ta/P có_thể/R đếm_số/Np bít/V 1/M của/E trong/E 11/M phép_tính/Np như_sau/Np :/CH Code_C/Np :/CH Trong/E trường_hợp/N số_lượng/N bít/V 1/M của/E không/R nhiều/A ,/CH ta/P có_thể/R sử_dụng/V ./CH\nCụ_thể/A ,/CH nếu/C có/V bít/V 1/M thì/C ta/P chỉ_cần/Np phép_tính/Np ./CH\nCode_C/Np :/CH Chứng_minh/V thủ_tục/N đúng/A coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nCho/E một_số/L nguyên/A ,/CH gọi_là/V số_lượng/N bít/V 0/M cuối_cùng/A (trailing/Np zeros)/Np của/E ./CH\nTính/V ./CH\nVí_dụ/C ,/CH ta/P có/V ./CH\nDễ/A thấy/V nếu/C lẻ/A thì/C ./CH\nTa/P có_công/Np thức/V đệ_quy/Np sau/E của/E :/CH Trong/E đó/P là/V số/N bít/V biểu_diễn/V của/E ./CH\nCách/N đầu_tiên_ta/Np có_thể/R nghĩ/V đến_là/Np duyệt/V các/L bít/V của/E từ/E trái/Nc sang/V phải/V để/E đếm_số/Np lượng/N bít/V 0/M cho_đến/E khi/N ta/P bắt/V gắp/Np bít/V 1/M đầu_tiên/A thì/C dừng/V ./CH\nCách/N này/P cần/V khoảng/N phép_tính/Np trong/E đó/P là/V số_lượng/N bít/V 0/M cuối_cùng/A ./CH\nTrong/E trường_hợp/N tồi/A nhất/A ,/CH đếm_số/Np bít/V 0/M cuối_cùng/A cuả/Np số_nguyên/Np không/R dấu/N 32/M bít/V cần/V hơn/A 150/M phép_tính/Np ./CH\nCó_thể/R tăng_tốc/Np thuật_toán/N này/P bằng/E cách/N sử_dụng/V bảng/N nhớ/V như_trên/Np ./CH\nCách/N khác/A ta/P có_thể/R nghĩ/V tới/E là/V sử_dụng/V chia_để_trị/Np để/E tìm/V bít/V 1/M phải/V nhất/A ./CH\nCách/N này/P áp_dụng/V cho/E mọi/L số_nguyên/Np 32/M bít/V sử_dụng/V 19/M phép_tính/Np ./CH\nCode_C/Np :/CH Tính/V đúng_đắn/A coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nNgoài_ra/X ta/P có_thể/R sử_dụng/V mặt_nạ/Np thần_kì/A để/E tính/V ./CH\nNhận_thấy/Np nếu/C với/E một_số/L nào_đó/P thì/C :/CH trong/E đó/P hàm/Np nếu/C là/V TRUE/Np và/Cc nếu/C ngược_lại/X ./CH\nDo_đó/C ,/CH để/E áp_dụng/V ,/CH ta/P sẽ/R áp_dụng/V trước/E để/E xóa/V hết/V các/L bít/V 1/M bên/N trái/Nc của/E bít/V 1/M cuối_cùng/A ./CH\nNếp/N áp_dụng/V phương_pháp/N này/P cho/E số_nguyên/Np có/V bít/V thì/C mất/V cỡ/N 16/M phép_tính/Np ./CH\nGiả/A mã/N như_sau/Np :/CH Code_C/Np :/CH Cho/E số_nguyên/Np ,/CH ví_dụ/C bít/V ,/CH đảo_ngược/V biểu_diễn/V nhị_phân/Np của/E ,/CH i/M ./CH e/Ni ,/CH trả_lại/Np ./CH\nCách/N đơn_giản/A nhất_là/X copy/Np các/L bít/V của/E sang/V một_số/L theo/V thứ_tự/N đảo_ngược/V ./CH\nCách/N này/P mất/V phép_tính/Np trong/E đó/P là/V vị_trí/N của/E bít/V 1/M tận_cùng/N bên/N trái/Nc của/E ./CH\nDo_đó/C ,/CH khi/N áp_dụng/V cho/E số/N 32/M bít/V ,/CH trong/E trường_hợp/N xấu/A nhất/A ,/CH tổng_số/N thao_tác/V ta/P cần/V sử_dụng/V là/V hơn/A 180/M phép_tính/Np ./CH\nCode_C/Np :/CH Trong/E bài/N toàn/R này/P ta/P cũng/R có_thể/R áp_dụng/V chia_để_trị/Np ./CH\nVí_dụ/C với/E có/V 8/M bít/V như_trên/Np ,/CH ta/P có_thể/R đảo_ngược/V các/L bít/V của/E trong/E 3/M bước/V như_sau/Np :/CH Để/E thực_hiện/V bước/V 1/M ,/CH ta/P sẽ/R làm/V như_sau/Np :/CH Tương_tự/A như_vậy/X các/L bước/V tiếp_theo/V ta/P thực_hiện/V với/E mặt_nạ/Np thần_kì/A ./CH\nGiả/A mã/N với/E là/V số_nguyên/Np 32/M bít/V không/R dấu/N như_sau/Np :/CH Code_C/Np :/CH Dễ/A thấy/V sử_dụng/V các/L mặt_nạ/Np thần_kì/A ,/CH ta/P có_thể/R đảo/N bít/V số_nguyên/Np 32/M bít/V trong/E phép_tính/Np và/Cc số_nguyên/Np 64/M bít/V trong/E 26/M phép_tính/Np ./CH\nChứng_minh/V tính/V đúng_đắn/A của/E thủ_tục/N trên/E coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nTrong/E ví_dụ/C tiếp_theo/V ,/CH ta/P sẽ/R áp_dụng/V phương_pháp/N đổi/V chỗ/N hai/M bít/V để/E đảo/N bít/V số_nguyên/Np 64/M bít/V sử_dụng/V 26/M phép_tính/Np ./CH Cho/E số_nguyên/Np không/R dấu/N ,/CH đổi/V chỗ/N hai/M bít/V và/Cc của/E (/CH </Np )/CH ./CH\nĐặt/V ,/CH ta/P tiến_hành/V đổi/V chỗ/N như_sau/Np :/CH Code_C/Np :/CH Trong/E giả/A mã/N trên/E ,/CH bước_đầu/N tiên/N ,/CH ta/P tách/V ra/V khỏi/V và/Cc đặt/V vào/E vị_trí/N thứ/N ./CH\nSau_đó/Np ,/CH ta/P tách/V ra/V khỏi/V và/Cc đặt/V vào/E bít/V thứ/N ./CH\nMặt_nạ/Np ở/E trên/E có/V tất_cả/P các/L bít/V là/V 1/M ngoại_trừ/Np bít/V thứ/N và/Cc ./CH\nSuy/V ra/V ,/CH sẽ/R thiết_lập/V bít/V và/Cc về/E 0/M ./CH\nNhư_vậy/X ,/CH kết_quả/N cuối_cùng/A sẽ/R là/V ./CH\nChú_ý/V trong/E ví_dụ/C đổi/V chỗ/N hai/M số_nguyên/Np không/R dùng/V biến/V thứ/N 3/M ,/CH ta/P sử_dụng/V phép/N XOR/Np ./CH\nỞ/E bài_toán/N này/P ,/CH ta/P có_thể/R thực_hiện/V ý_tưởng/N tương_tự/A ./CH\nCode_C/Np :/CH Đầu_tiên_ta/Np tính/V và/Cc đưa/V kết/V qủa/Np vào/E vị_trí/N thứ/N ./CH\nsau_đó/Np đổi/V thành/V và/Cc thành/V ./CH\nDễ/A thấy/V cách/N này/P sử_dụng/V ít/A thao_tác/V bít/V hơn/A cách/N ở/E trên/E ./CH\nÝ_tưởng/N của/E thuật_toán/N còn/R có_thể/R được/V dùng/V để/E đổi/V chỗ/N vài/L cặp/N bít/V cùng/A một_lúc/Np (giống/Np như/C cách/N chúng_ta/P đảo/N bít/V ở/E trên)/Np ./CH\nThông_thường/A ,/CH để/E thực_hiện/V đảo/N nhiều/A cặp/N bít/V ,/CH ta/P sẽ/R dùng/V mặt_nạ/Np thay_vì/X như_trên/Np ./CH\nTa/P sẽ/R gọi/V thủ_tục/N này/P là/V -swap/Np ./CH\nSử_dụng/V -swap/Np ,/CH ta/P có_thể/R thực_hiện/V đảo/N bít/V số_nguyên/Np 64/M bít/V không/R dấu/N trong/E 26/M phép_tính/Np (thay/Np vì/E 28)/Np như_sau/Np :/CH Chi_tiết/N chứng_minh/V tính/V đúng_đắn/A của/E thuật_toán/N trên/E coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH Code/Np :/CH 1/M Donald_E/Np ./CH\nKnuth/Np ./CH\n./CH\nAddison-Wesley_Professional/Np ,/CH 2009/M ./CH\n2/M 3/M Warren/Np ,/CH Henry_S/Np ./CH\n./CH\nPearson_Education/Np ,/CH 2012/M ./CH\n,/CH ,/CH Powered/Np by/Np and/Np\n", "title": "Các kĩ thuật xử lí bít I-- Bitwise tricks I\n", "link": "http://www.giaithuatlaptrinh.com/?p=515\n"}