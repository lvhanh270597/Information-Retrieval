{"content": "Nơi tổng_hợp và chia_sẻ những kiến_thức liên_quan tới giải_thuật nói_chung và lý_thuyết khoa_học máy_tính nói_riêng .\nin Trong bài này mình sẽ giới_thiệu về cấu_trúc dữ_liệu splay tree (do không tìm được thuật_ngữ Tiếng_Việt nên mình giữ_nguyên thuật_ngữ tiếng anh) .\nSplay_Tree được giới_thiệu bởi Sleator và Tarjan vào năm 1985 1 .\nCấu_trúc Splay_Tree thuộc về lớp các cây tìm_kiếm nhị_phân tự cân_bằng (Self-Adjusting Binary_Search_Tree - BST) , có_nghĩa là nó sẽ tự_điều_chỉnh cấu_trúc của nó mỗi khi có_một thao_tác thực hiên trên cây .\nSo_với cây cân_bằng AVL_Tree và Red_Black_Tree (mình sẽ blog về cây này vào một ngày đẹp_trời nào đó) , Splay_Tree có_một số ưu_điểm sau 2 : Tuy_nhiên , điểm yếu của Splay_Tree là chiều_cao của cây có_thể và một_số thao_tác có_thể rất tốn_kém (nhưng trung_bình sẽ là ) .\nOk , tóm_lại Splay_Tree tốt hơn về một_số mặt .\nBây_giờ chúng_ta sẽ tìm_hiểu cụ_thể hơn .\nCây_Splay Tree là một cây nhị_phân tự cân_bằng .\nCác thao_tác cơ_bản bao_gồm : Ngoài 3 thao_tác trên , cây_Splay Tree cung_cấp thêm thao_tác .\nMột nút được splay sẽ được đưa lên làm gốc của cây_splay tree thông_qua một loạt các thao_tác quay cây (tree rotations) mô_tả dưới_đây .\nTrọng_tâm của bài viết là định_lý sau : Trong giả các giả mã dưới_đây , mình sẽ sử_dụng cấu_trúc dữ_liệu cho mỗi nút của cây .\nCấu_trúc này bao_gồm các trường sau : Biểu_diễn trong C : Có_một phiên_bản thực_thi khác của cây_Splay Tree mà không cần trường parent , do_đó tiết_kiệm được thêm bộ_nhớ và thời_gian (để cập_nhật trường parent sau mỗi thao tác) .\nTất_nhiên là thực_thi cũng sẽ phức_tạp hơn một_chút .\nBạn_đọc tham_khảo cách thực_thi này bằng Java tại 4 . Cũng_như AVL và Red_Black_Tree , cây_Splay Tree cũng sử_dụng các thao_tác quay để làm_cho cây trở_nên cân_bằng .\nHai thao_tác quay cơ_bản là và .\nHai thao_tác này được minh_họa trong hình dưới_đây : Từ cây bên trái , để thu được cây ở hình bên phải , ta thực_hiện .\nTương_tự như_vậy , từ cây bên phải , để thu được cây ở hình bên trái , ta thực_hiện .\nChú_ý cây_con màu đỏ của và của trong hai hình đổi chỗ khi thực_hiện quay .\nGọi_là cha của và là con phải của .\nĐể quay_phải , ta làm_theo các bước sau : Giả mã quay_phải tại như_sau : Code_C : Quay_trái ta làm tương_tự như quay_phải , cập_nhật các con_trỏ .\nGiả mã quay_trái tại như_sau : Code_C : Khi thực_thi bằng code , các bạn chú_ý check null .\nĐể giả mã sáng_sủa , mình bỏ_qua các bước check null . Ta dễ thấy : Ngoài_ra , khác với AVL_Tree , Splay_Tree còn sử_dụng hai phép : và Phép_Zig-Zag có hai dạng là Zig-Zag trái và Zig-Zag phải .\nHai phép zig-zag trái và phải được minh_họa trong hình dưới_đây : Trong cả hai phép , nút sẽ được đưa lên làm gốc thay cho .\nPhép zig-zag trái gồm hai phép : quay_trái tại , sau_đó quay_phải tại .\nPhép zig-zag phải gồm hai phép : quay_phải tại , sau_đó quay_trái tại .\nChú_ý sự thay_đổi cha của các cây_con được tô_màu của . Giả mã của phép zig-zag trái tại : Code_C : Giả mã của phép zig-zag phải tại : Code_C : Tương_tự như zig-zag , có hai phép Roller-Coaster là phải và trái , được minh_họa trong hình dưới_đây : Phép roller-coaster phải tại gồm hai phép : quay rollaer-coaster phải tại , sau_đó quay_phải tại .\nPhép roller-coaster trái tại gồm hai phép : quay_trái tại , sau_đó quay_trái tại .\nChú_ý sự thay_đổi cha của các cây_con được tô_màu của . Giả mã của phép roller-coaster phải tại : Code_C : Giả mã của phép roller-coaster trái tại : Code_C : Phần tiếp_theo chúng_ta sẽ thực_hiện phép Splay .\nCác thao_tác chèn , xóa , tìm_kiếm đều sử_dụng phép Splay như_là một thủ_tục con .\nNhư đã nói ở trên , phép splay một nút sẽ thực_hiện đưa một nút con lên làm nút gốc của cây_Splay Tree .\nPhép_Splay được thực_hiện thông_qua một loạt các phép quay , zig-zag và roller-coaster phụ_thuộc vào cấu_trúc của cây tại nút đó .\nƯu_tiên thực_hiện zig-zag và roller-coaster trước .\nPhép quay nếu có thực_hiện thì sẽ chỉ_thực hiện một_lần và là lần cuối khi đưa lên làm gốc .\nVí_dụ ta muốn splay nút của cây trái nhất trong hình sau (hình được lấy từ 3) : Ta có các bước sau : Giả mã của phép Splay như_sau : Code_C : Ta sẽ chứng_minh bổ_đề dưới_đây ở phần phân_tích cuối bài .\nBây_giờ ta có_thể thực_hiện được các thao_tác cơ_bản . Khi thực_thi splay , thông_thường đầu_vào là một khóa và chúng_ta phải tìm nút có khóa đó và splay thành gốc của cây_Splay Tree . Để tìm_kiếm một nút có khóa , ta sẽ tìm_kiếm nút có khóa trong cây như tìm kếm trên Binary_Search_Tree .\nNếu ta tìm_thấy có khóa thì ta sẽ Spaly .\nNếu nút đó không tồn_tại , ta sẽ splay .\nVí_dụ với hình_vẽ ở phần Splay , nếu đầu_vào là khóa có_giá trị thì ta sẽ splay nút vì khi ta tìm_kiếm từ gốc đến_thì ta sẽ thấy khóa sẽ không có ở trông cây và là nút cuối_cùng trên đường_đi tìm_kiếm đó .\nGiả mã như_sau ( ở đây là nút gốc của Splay_Tree) : Code_C : Thủ_tục tìm_kiếm khóa và trả_lại nút như mô_tả ở trên .\nChú_ý là khóa của có_thể không_bằng trong trường_hợp không có trong cây_Splay .\nGiả mã của thủ_tục này như_sau : Code_C : Do mỗi khi tìm_kiếm một nút , ta splay nút đó lên làm gốc .\nDo_đó , các thao_tác tìm_kiếm tiếp_theo đó sẽ ít tốn_kém hơn . Bổ_đề sau là hệ_quả trực_tiếp của Lemma 2 : Để chèn một nút có khóa , trước_hết ta sẽ chèn khóa vào cây như chèn cây nhị_phân và sau_đó splay nút vừa chèn .\nCode_C : Bổ_đề sau là hệ_quả trực_tiếp của Lemma 2 : Để xóa_một nút có khóa , ta làm_theo các bước sau : , , , Trackback link : Powered by and\n", "tagged": "Nơi/N tổng_hợp/V và/Cc chia_sẻ/V những/L kiến_thức/N liên_quan/V tới/E giải_thuật/Np nói_chung/X và/Cc lý_thuyết/Np khoa_học/N máy_tính/N nói_riêng/X ./CH\nin/V Trong/E bài/N này/P mình/P sẽ/R giới_thiệu/V về/E cấu_trúc/N dữ_liệu/N splay/Np tree/Np (do/Np không/R tìm/V được/V thuật_ngữ/N Tiếng_Việt/Np nên/C mình/P giữ_nguyên/Np thuật_ngữ/N tiếng/N anh)/Np ./CH\nSplay_Tree/Np được/V giới_thiệu/V bởi/E Sleator/Np và/Cc Tarjan/Np vào/E năm/N 1985/M 1/M ./CH\nCấu_trúc/N Splay_Tree/Np thuộc/V về/E lớp/N các/L cây/N tìm_kiếm/V nhị_phân/Np tự/P cân_bằng/A (Self-Adjusting/Np Binary_Search_Tree/Np -/CH BST)/Np ,/CH có_nghĩa/A là/V nó/P sẽ/R tự_điều_chỉnh/Np cấu_trúc/N của/E nó/P mỗi/L khi/N có_một/Np thao_tác/V thực/A hiên/N trên/E cây/N ./CH\nSo_với/Np cây/N cân_bằng/A AVL_Tree/Np và/Cc Red_Black_Tree/Np (mình/Np sẽ/R blog/Np về/E cây/N này/P vào/E một/M ngày/N đẹp_trời/Np nào/P đó)/Np ,/CH Splay_Tree/Np có_một/Np số/N ưu_điểm/N sau/E 2/M :/CH Tuy_nhiên/C ,/CH điểm/N yếu/A của/E Splay_Tree/Np là/V chiều_cao/N của/E cây/N có_thể/R và/Cc một_số/L thao_tác/V có_thể/R rất/R tốn_kém/V (nhưng/Np trung_bình/A sẽ/R là/V )/CH ./CH\nOk/Np ,/CH tóm_lại/Np Splay_Tree/Np tốt/A hơn/A về/E một_số/L mặt/N ./CH\nBây_giờ/P chúng_ta/P sẽ/R tìm_hiểu/V cụ_thể/A hơn/A ./CH\nCây_Splay/Np Tree/Np là/V một/M cây/N nhị_phân/Np tự/P cân_bằng/A ./CH\nCác/L thao_tác/V cơ_bản/A bao_gồm/V :/CH Ngoài/E 3/M thao_tác/V trên/E ,/CH cây_Splay/Np Tree/Np cung_cấp/V thêm/V thao_tác/V ./CH\nMột/M nút/N được/V splay/Np sẽ/R được/V đưa/V lên/V làm/V gốc/N của/E cây_splay/Np tree/Np thông_qua/V một/M loạt/N các/L thao_tác/V quay/V cây/N (tree/Np rotations)/Np mô_tả/V dưới_đây/Np ./CH\nTrọng_tâm/A của/E bài/N viết/V là/V định_lý/Np sau/E :/CH Trong/E giả/A các/L giả/A mã/N dưới_đây/Np ,/CH mình/P sẽ/R sử_dụng/V cấu_trúc/N dữ_liệu/N cho/E mỗi/L nút/N của/E cây/N ./CH\nCấu_trúc/N này/P bao_gồm/V các/L trường/N sau/E :/CH Biểu_diễn/V trong/E C/Ni :/CH Có_một/Np phiên_bản/N thực_thi/V khác/A của/E cây_Splay/Np Tree/Np mà/C không/R cần/V trường/N parent/Np ,/CH do_đó/C tiết_kiệm/V được/V thêm/V bộ_nhớ/Np và/Cc thời_gian/N (để/Np cập_nhật/V trường/N parent/Np sau/E mỗi/L thao/Np tác)/Np ./CH\nTất_nhiên/A là/V thực_thi/V cũng/R sẽ/R phức_tạp/A hơn/A một_chút/L ./CH\nBạn_đọc/N tham_khảo/V cách/N thực_thi/V này/P bằng/E Java/Np tại/E 4/M ./CH Cũng_như/C AVL/Np và/Cc Red_Black_Tree/Np ,/CH cây_Splay/Np Tree/Np cũng/R sử_dụng/V các/L thao_tác/V quay/V để/E làm_cho/Np cây/N trở_nên/V cân_bằng/A ./CH\nHai/M thao_tác/V quay/V cơ_bản/A là/V và/Cc ./CH\nHai/M thao_tác/V này/P được/V minh_họa/V trong/E hình/N dưới_đây/Np :/CH Từ/E cây/N bên/N trái/Nc ,/CH để/E thu/V được/V cây/N ở/E hình/N bên/N phải/V ,/CH ta/P thực_hiện/V ./CH\nTương_tự/A như_vậy/X ,/CH từ/E cây/N bên/N phải/V ,/CH để/E thu/V được/V cây/N ở/E hình/N bên/N trái/Nc ,/CH ta/P thực_hiện/V ./CH\nChú_ý/V cây_con/Np màu/N đỏ/A của/E và/Cc của/E trong/E hai/M hình/N đổi/V chỗ/N khi/N thực_hiện/V quay/V ./CH\nGọi_là/V cha/N của/E và/Cc là/V con/Nc phải/V của/E ./CH\nĐể/E quay_phải/Np ,/CH ta/P làm_theo/Np các/L bước/V sau/E :/CH Giả/A mã/N quay_phải/Np tại/E như_sau/Np :/CH Code_C/Np :/CH Quay_trái/Np ta/P làm/V tương_tự/A như/C quay_phải/Np ,/CH cập_nhật/V các/L con_trỏ/Np ./CH\nGiả/A mã/N quay_trái/Np tại/E như_sau/Np :/CH Code_C/Np :/CH Khi/N thực_thi/V bằng/E code/Np ,/CH các/L bạn/N chú_ý/V check/Np null/Np ./CH\nĐể/E giả/A mã/N sáng_sủa/N ,/CH mình/P bỏ_qua/V các/L bước/V check/Np null/Np ./CH Ta/P dễ/A thấy/V :/CH Ngoài_ra/X ,/CH khác/A với/E AVL_Tree/Np ,/CH Splay_Tree/Np còn/R sử_dụng/V hai/M phép/N :/CH và/Cc Phép_Zig-Zag/Np có/V hai/M dạng/N là/V Zig-Zag/Np trái/Nc và/Cc Zig-Zag/Np phải/V ./CH\nHai/M phép/N zig-zag/Np trái/Nc và/Cc phải/V được/V minh_họa/V trong/E hình/N dưới_đây/Np :/CH Trong/E cả/P hai/M phép/N ,/CH nút/N sẽ/R được/V đưa/V lên/V làm/V gốc/N thay/V cho/E ./CH\nPhép/N zig-zag/Np trái/Nc gồm/V hai/M phép/N :/CH quay_trái/Np tại/E ,/CH sau_đó/Np quay_phải/Np tại/E ./CH\nPhép/N zig-zag/Np phải/V gồm/V hai/M phép/N :/CH quay_phải/Np tại/E ,/CH sau_đó/Np quay_trái/Np tại/E ./CH\nChú_ý/V sự/N thay_đổi/V cha/N của/E các/L cây_con/Np được/V tô_màu/Np của/E ./CH Giả/A mã/N của/E phép/N zig-zag/Np trái/Nc tại/E :/CH Code_C/Np :/CH Giả/A mã/N của/E phép/N zig-zag/Np phải/V tại/E :/CH Code_C/Np :/CH Tương_tự/A như/C zig-zag/Np ,/CH có/V hai/M phép/N Roller-Coaster/Np là/V phải/V và/Cc trái/Nc ,/CH được/V minh_họa/V trong/E hình/N dưới_đây/Np :/CH Phép/N roller-coaster/Np phải/V tại/E gồm/V hai/M phép/N :/CH quay/V rollaer-coaster/Np phải/V tại/E ,/CH sau_đó/Np quay_phải/Np tại/E ./CH\nPhép/N roller-coaster/Np trái/Nc tại/E gồm/V hai/M phép/N :/CH quay_trái/Np tại/E ,/CH sau_đó/Np quay_trái/Np tại/E ./CH\nChú_ý/V sự/N thay_đổi/V cha/N của/E các/L cây_con/Np được/V tô_màu/Np của/E ./CH Giả/A mã/N của/E phép/N roller-coaster/Np phải/V tại/E :/CH Code_C/Np :/CH Giả/A mã/N của/E phép/N roller-coaster/Np trái/Nc tại/E :/CH Code_C/Np :/CH Phần/N tiếp_theo/V chúng_ta/P sẽ/R thực_hiện/V phép/N Splay/Np ./CH\nCác/L thao_tác/V chèn/V ,/CH xóa/V ,/CH tìm_kiếm/V đều/R sử_dụng/V phép/N Splay/Np như_là/V một/M thủ_tục/N con/Nc ./CH\nNhư/C đã/R nói/V ở/E trên/E ,/CH phép/N splay/Np một/M nút/N sẽ/R thực_hiện/V đưa/V một/M nút/N con/Nc lên/V làm/V nút/N gốc/N của/E cây_Splay/Np Tree/Np ./CH\nPhép_Splay/Np được/V thực_hiện/V thông_qua/V một/M loạt/N các/L phép/N quay/V ,/CH zig-zag/Np và/Cc roller-coaster/Np phụ_thuộc/V vào/E cấu_trúc/N của/E cây/N tại/E nút/N đó/P ./CH\nƯu_tiên/V thực_hiện/V zig-zag/Np và/Cc roller-coaster/Np trước/E ./CH\nPhép/N quay/V nếu/C có/V thực_hiện/V thì/C sẽ/R chỉ_thực/Np hiện/N một_lần/Np và/Cc là/V lần/N cuối/N khi/N đưa/V lên/V làm/V gốc/N ./CH\nVí_dụ/C ta/P muốn/V splay/Np nút/N của/E cây/N trái/Nc nhất/A trong/E hình/N sau/E (hình/Np được/V lấy/V từ/E 3)/Np :/CH Ta/P có/V các/L bước/V sau/E :/CH Giả/A mã/N của/E phép/N Splay/Np như_sau/Np :/CH Code_C/Np :/CH Ta/P sẽ/R chứng_minh/V bổ_đề/Np dưới_đây/Np ở/E phần/N phân_tích/V cuối/N bài/N ./CH\nBây_giờ/P ta/P có_thể/R thực_hiện/V được/V các/L thao_tác/V cơ_bản/A ./CH Khi/N thực_thi/V splay/Np ,/CH thông_thường/A đầu_vào/N là/V một/M khóa/N và/Cc chúng_ta/P phải/V tìm/V nút/N có/V khóa/N đó/P và/Cc splay/Np thành/V gốc/N của/E cây_Splay/Np Tree/Np ./CH Để/E tìm_kiếm/V một/M nút/N có/V khóa/N ,/CH ta/P sẽ/R tìm_kiếm/V nút/N có/V khóa/N trong/E cây/N như/C tìm/V kếm/Np trên/E Binary_Search_Tree/Np ./CH\nNếu/C ta/P tìm_thấy/Np có/V khóa/N thì/C ta/P sẽ/R Spaly/Np ./CH\nNếu/C nút/N đó/P không/R tồn_tại/V ,/CH ta/P sẽ/R splay/Np ./CH\nVí_dụ/C với/E hình_vẽ/Np ở/E phần/N Splay/Np ,/CH nếu/C đầu_vào/N là/V khóa/N có_giá/Np trị/V thì/C ta/P sẽ/R splay/Np nút/N vì/E khi/N ta/P tìm_kiếm/V từ/E gốc/N đến_thì/Np ta/P sẽ/R thấy/V khóa/N sẽ/R không/R có/V ở/E trông/V cây/N và/Cc là/V nút/N cuối_cùng/A trên/E đường_đi/Np tìm_kiếm/V đó/P ./CH\nGiả/A mã/N như_sau/Np (/CH ở/E đây/P là/V nút/N gốc/N của/E Splay_Tree)/Np :/CH Code_C/Np :/CH Thủ_tục/N tìm_kiếm/V khóa/N và/Cc trả_lại/Np nút/N như/C mô_tả/V ở/E trên/E ./CH\nChú_ý/V là/V khóa/N của/E có_thể/R không_bằng/Np trong/E trường_hợp/N không/R có/V trong/E cây_Splay/Np ./CH\nGiả/A mã/N của/E thủ_tục/N này/P như_sau/Np :/CH Code_C/Np :/CH Do/E mỗi/L khi/N tìm_kiếm/V một/M nút/N ,/CH ta/P splay/Np nút/N đó/P lên/V làm/V gốc/N ./CH\nDo_đó/C ,/CH các/L thao_tác/V tìm_kiếm/V tiếp_theo/V đó/P sẽ/R ít/A tốn_kém/V hơn/A ./CH Bổ_đề/Np sau/E là/V hệ_quả/Np trực_tiếp/A của/E Lemma/Np 2/M :/CH Để/E chèn/V một/M nút/N có/V khóa/N ,/CH trước_hết/N ta/P sẽ/R chèn/V khóa/N vào/E cây/N như/C chèn/V cây/N nhị_phân/Np và/Cc sau_đó/Np splay/Np nút/N vừa/R chèn/V ./CH\nCode_C/Np :/CH Bổ_đề/Np sau/E là/V hệ_quả/Np trực_tiếp/A của/E Lemma/Np 2/M :/CH Để/E xóa_một/Np nút/N có/V khóa/N ,/CH ta/P làm_theo/Np các/L bước/V sau/E :/CH ,/CH ,/CH ,/CH Trackback/Np link/Np :/CH Powered/Np by/Np and/Np\n", "title": "Cây Splay -- Splay Tree\n", "link": "http://www.giaithuatlaptrinh.com/?p=613\n"}