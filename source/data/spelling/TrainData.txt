<s> thuật toán  còn gọi là giải thuật là một tập hợp hữu hạn của các chỉ thị hay phương cách được định nghĩa rõ ràng cho việc hoàn tất một số sự việc từ một trạng thái ban đầu cho trước khi các chỉ thị này được áp dụng triệt để thì sẽ dẫn đến kết quả sau cùng như đã dự đoán trước </s> <s> </s> <s> </s> <s> nói cách khác thuật toán là một bộ các quy tắc hay quy trình cụ thể nhằm giải quyết một vấn đề trong một số bước hữu hạn hoặc nhằm cung cấp một kết quả từ một tập hợp của các dữ kiện đưa vào </s> <s> </s> <s> </s> <s> khi một thuật toán đã hình thành thì ta không xét đến việc chứng minh thuật toán đó mà chỉ chú trọng đến việc áp dụng các bước theo sự hướng dẫn sẽ có kết quả đúng </s> <s> việc chứng minh tính đầy đủ và tính đúng của các thuật toán phải được tiến hành xong trước khi có thuật toán </s> <s> nói rõ hơn thuật toán có thể chỉ là việc áp dụng các công thức hay quy tắc quy trình đã được công nhận là đúng hay đã được chứng minh về mặt toán học </s> <s> </s> <s> </s> <s> thuật toán hiện nay thường được dùng để chỉ thuật toán giải quyết các vấn đề tin học </s> <s> hầu hết các thuật toán tin học đều có thể viết thành các chương trình máy tính mặc dù chúng thường có một vài hạn chế vì khả năng của máy tính và khả năng của người lập trình </s> <s> trong nhiều trường hợp một chương trình khi thiết kế bị thất bại là do lỗi ở các thuật toán mà người lập trình đưa vào là không chính xác không đầy đủ hay không ước định được trọn vẹn lời giải của vấn đề </s> <s> tuy nhiên cũng có một số bài toán mà hiện nay người ta chưa tìm được lời giải triệt để những bài toán ấy gọi là những bài toán npkhông đầy đủ </s> <s> </s> <s> như trênthuật toán ngoài ra còn chỉ những phương pháp đem lại được kết quả một cách tối ưugiảm lượng tài nguyên bỏ ra để đạt được </s> <s> những phương pháp này có thể được rút ra từ thực nghiệm và có thể giải được bằng toán học hoặc khôngtuy nhiên mọi thuật toán đáp ứng tính logic tối hậu của tự nhiên mà là nguyên do của nhiều loại logic mờ </s> <s> </s> <s> </s> <s> một thuật toán có các tính chất sau </s> <s> tính chính xác để đảm bảo kết quả tính toán hay các thao tác mà máy tính thực hiện được là chính xác </s> <s> </s> <s> tính rõ ràng thuật toán phải được thể hiện bằng các câu lệnh minh bạch các câu lệnh được sắp xếp theo thứ tự nhất định </s> <s> </s> <s> tính khách quan một thuật toán dù được viết bởi nhiều người trên nhiều máy tính vẫn phải cho kết quả như nhau </s> <s> </s> <s> tính phổ dụng thuật toán không chỉ áp dụng cho một bài toán nhất định mà có thể áp dụng cho một lớp các bài toán có đầu vào tương tự nhau </s> <s> </s> <s> tính kết thúc thuật toán phải gồm một số hữu hạn các bước tính toán </s> <s> </s> <s> công nghệ thông tin viết tắt cntt tiếng anh information technology hay là it là một nhánh ngành kỹ thuật sử dụng máy tính và phần mềm máy tính để chuyển đổi lưu trữ bảo vệ xử lý truyền tải và thu thập thông tin </s> <s>  </s> <s> </s> <s> ở việt nam khái niệm công nghệ thông tin được hiểu và định nghĩa trong nghị quyết chính phủ /cp ký ngày // công nghệ thông tin là tập hợp các phương pháp khoa học các phương tiện và công cụ kĩ thuật hiện đại  chủ yếu là kĩ thuật máy tính và viễn thông  nhằm tổ chức khai thác và sử dụng có hiệu quả các nguồn tài nguyên thông tin rất phong phú và tiềm năng trong mọi lĩnh vực hoạt động của con người và xã hội </s> <s>  </s> <s> </s> <s> thuật ngữ công nghệ thông tin xuất hiện lần đầu vào năm  trong bài viết xuất bản tại tạp chí harvard business review </s> <s> hai tác giả của bài viết leavitt và whisler đã bình luận công nghệ mới chưa thiết lập một tên riêng </s> <s> chúng ta sẽ gọi là công nghệ thông tin information technology  it </s> <s>   </s> <s> </s> <s> các lĩnh vực chính của công nghệ thông tin bao gồm quá trình tiếp thu xử lý lưu trữ và phổ biến hóa âm thanh phim ảnh văn bản và thông tin số bởi các vi điện tử dựa trên sự kết hợp giữa máy tính và truyền thông </s> <s>  một vài lĩnh vực hiện đại và nổi bật của công nghệ thông tin như các tiêu chuẩn web thế hệ tiếp theo sinh tin điện toán đám mây hệ thống thông tin toàn cầu tri thức quy mô lớn và nhiều lĩnh vực khác </s> <s> các nghiên cứu phát triển chủ yếu trong ngành khoa học máy tính </s> <s> </s> <s> khai phá dữ liệu data mining là quá trình tính toán để tìm ra các mẫu trong các bộ dữ liệu lớn liên quan đến các phương pháp tại giao điểm của máy học thống kê và các hệ thống cơ sở dữ liệu </s> <s> đây là một lĩnh vực liên ngành của khoa học máy tính </s> <s> </s> <s>  mục tiêu tổng thể của quá trình khai thác dữ liệu là trích xuất thông tin từ một bộ dữ liệu và chuyển nó thành một cấu trúc dễ hiểu để sử dụng tiếp </s> <s>  ngoài bước phân tích thô nó còn liên quan tới cơ sở dữ liệu và các khía cạnh quản lý dữ liệu xử lý dữ liệu trước suy xét mô hình và suy luận thống kê các thước đo thú vị các cân nhắc phức tạp xuất kết quả về các cấu trúc được phát hiện hiện hình hóa và cập nhật trực tuyến </s> <s>  khai thác dữ liệu là bước phân tích của quá trình khám phá kiến thức trong cơ sở dữ liệu hoặc kdd </s> <s>  </s> <s> </s> <s> khai phá dữ liệu là một bước của quá trình khai thác tri thức knowledge discovery process bao gồm </s> <s> </s> <s> xác định vấn đề và không gian dữ liệu để giải quyết vấn đề problem understanding and data understanding </s> <s> </s> <s> chuẩn bị dữ liệu data preparation bao gồm các quá trình làm sạch dữ liệu data cleaning tích hợp dữ liệu data integration chọn dữ liệu data selection biến đổi dữ liệu data transformation </s> <s> </s> <s> khai thác dữ liệu data mining xác định nhiệm vụ khai thác dữ liệu và lựa chọn kỹ thuật khai thác dữ liệu </s> <s> kết quả cho ta một nguồn tri thức thô </s> <s> </s> <s> đánh giá evaluation dựa trên một số tiêu chí tiến hành kiểm tra và lọc nguồn tri thức thu được </s> <s> </s> <s> triển khai deployment </s> <s> </s> <s> quá trình khai thác tri thức không chỉ là một quá trình tuần tự từ bước đầu tiên đến bước cuối cùng mà là một quá trình lặp và có quay trở lại các bước đã qua </s> <s> </s> <s> </s> <s> các phương pháp khai thác dữ liệu </s> <s> phân loại classification là phương pháp dự báo cho phép phân loại một đối tượng vào một hoặc một số lớp cho trước </s> <s> </s> <s> hồi qui regression discovery of a prediction learning function which maps a data item to a realvalue prediction variable </s> <s> </s> <s> phân nhóm clustering a common descriptive task in which one seeks to identify a finite set of categories or clusters to describe the data </s> <s> </s> <s> tổng hợp summarization an additional descriptive task that involves methods for finding a compact description for a set or subset of data </s> <s> </s> <s> mô hình ràng buộc dependency modeling finding a local model that describes significant dependencies between variables or between the values of a feature in a data set or in a part of a data set </s> <s> </s> <s> dò tìm biến đổi và độ lệch change and deviation dectection discovering the most significant changes in the data set </s> <s> </s> <s> heuristic  /hyʉˈrɪstɪk/ dấu phụ hy lạp εὑρίσκω tìm kiếm hoặc khám phá là các kỹ thuật dựa trên kinh nghiệm để giải quyết vấn đề học hỏi hay khám phá nhằm đưa ra một giải pháp mà không được đảm bảo là tối ưu </s> <s> với việc nghiên cứu khảo sát không có tính thực tế các phương pháp heuristic được dùng nhằm tăng nhanh quá trình tìm kiếm với các giải pháp hợp lý thông qua các suy nghĩ rút gọn để giảm bớt việc nhận thức vấn đề khi đưa ra quyết định </s> <s> ví dụ của phương pháp này bao gồm sử dụng một luật ngón tay cái giả thuyết phán đoán trực giác khuôn mẫu hay nhận thức thông thường </s> <s> </s> <s> </s> <s> thuật giải heuristic là một sự mở rộng khái niệm thuật toán </s> <s> nó thể hiện cách giải bài toán với các đặc tính sau  </s> <s> </s> <s> thường tìm được lời giải tốt nhưng không chắc là lời giải tốt nhất </s> <s> </s> <s> giải bài toán theo thuật giải heuristic thường dễ dàng và nhanh chóng đưa ra kết quả hơn so với giải thuật tối ưu vì vậy chi phí thấp hơn </s> <s> </s> <s> </s> <s> thuật giải heuristic thường thể hiện khá tự nhiên gần gũi với cách suy nghĩ và hành động của con người </s> <s> </s> <s> </s> <s> có nhiều phương pháp để xây dựng một thuật giải heuristic trong đó người ta thường dựa vào một số nguyên lý cơ sở như sau </s> <s> </s> <s> nguyên lý vét cạn thông minh  </s> <s> </s> <s> trong một bài toán tìm kiếm nào đó khi không gian tìm kiếm lớn ta thường tìm cách giới hạn lại không gian tìm kiếm hoặc thực hiện một kiểu dò tìm đặc biệt dựa vào đặc thù của bài toán để nhanh chóng tìm ra mục tiêu </s> <s> </s> <s> </s> <s> nguyên lý tham lam greedy </s> <s> </s> <s> lấy tiêu chuẩn tối ưu trên phạm vi toàn cục của bài toán để làm tiêu chuẩn chọn lựa hành động cho phạm vi cục bộ của từng bước hay từng giai đoạn trong quá trình tìm kiếm lời giải </s> <s> </s> <s> </s> <s> nguyên lý thứ tự  </s> <s> </s> <s> thực hiện hành động dựa trên một cấu trúc thứ tự hợp lý của không gian khảo sát nhằm nhanh chóng đạt được một lời giải tốt </s> <s> </s> <s> </s> <s> hàm heuristic </s> <s> </s> <s> trong việc xây dựng các thuật giải heuristic người ta thường dùng các hàm heuristic </s> <s> ðó là các hàm đánh giá thô giá trị của hàm phụ thuộc vào trạng thái hiện tại của bài toán tại mỗi bước giải </s> <s> nhờ giá trị này ta có thể chọn được cách hành động tương đối hợp lý trong từng bước của thuật giải </s> <s> </s> <s> sắp xếp nhanh quicksort còn được gọi là sắp xếp kiểu phân chia part sort là một thuật toán sắp xếp phát triển bởi c </s> <s> a </s> <s> r </s> <s> hoarec sắp thành hai danh sách con </s> <s> khác với sắp xếp trộn chia danh sách cần sắp xếp a </s> <s> </s> <s> n thành hai danh sách con có kích thước tương đối bằng nhau nhờ chỉ số đứng giữa danh sách sắp xếp nhanh chia nó thành hai danh sách bằng cách so sánh từng phần tử của danh sách với một phần tử được chọn được gọi là phần tử chốt </s> <s> những phần tử nhỏ hơn hoặc bằng phần tử chốt được đưa về phía trước và nằm trong danh sách con thứ nhất các phần tử lớn hơn chốt được đưa về phía sau và thuộc danh sách đứng sau </s> <s> cứ tiếp tục chia như vậy tới khi các danh sách con đều có độ dài bằng  </s> <s> </s> <s> </s> <s> phần tử chốt pivot </s> <s> kỹ thuật chọn phần tử chốt ảnh hưởng khá nhiều đến khả năng rơi vào các vòng lặp vô hạn đối với các trường hợp đặc biệt </s> <s> tốt nhất là chọn phần tử chốt là trung vị của danh sách </s> <s> khi đó sau logn lần phân chia ta sẽ đạt tới kích thước danh sách bằng  </s> <s> tuy nhiên điều đó rất khó </s> <s> có các cách chọn phần tử chốt như sau </s> <s> </s> <s> chọn phần tử đứng đầu hoặc đứng cuối làm phần tử chốt </s> <s> </s> <s> chọn phần tử đứng giữa danh sách làm phần tử chốt </s> <s> </s> <s> chọn phần tử trung vị trong  phần tử đứng đầu đứng giữa và đứng cuối làm phần tử chốt </s> <s> </s> <s> chọn phần tử ngẫu nhiên làm phần tử chốt </s> <s> cách này có thể dẫn đến khả năng rơi vào các trường hợp đặc biệt </s> <s> thuật phân chia </s> <s> sau khi phần tử chốt được chọn giải thuật phân chia nên tiến hành như thế nào </s> <s> </s> <s> một giải pháp đơn giản nhất cho vấn đề này là duyệt từ đầu đến cuối lần lượt so sánh các phần tử của danh sách với phần tử chốt </s> <s> theo cách này ta phải tiến hành n phép so sánh ngoài ra còn phải dành n đơn vị bộ nhớ để lưu giữ các giá trị trung gian </s> <s> </s> <s> một giải pháp khác được đề nghị là duyệt theo hai đường </s> <s> một đường từ đầu danh sách một đường từ cuối danh sách </s> <s> theo cách này ta tìm phần tử đầu tiên tính từ trái lớn hơn phần tử chốt và phần tử đầu tiên phía phải nhỏ hơn hoặc bằng phần tử chốt rồi đổi chỗ cho nhau </s> <s> tiếp tục như vậy cho đến khi hai đường gặp nhau </s> <s> </s> <s> để có thể gọi đệ quy ta xét bài toán phân chia một danh sách con của aakk thành hai danh sách </s> <s> </s> <s> tam giác sierpinski </s> <s> đệ quy tiếng anh recursion là phương pháp dùng trong các chương trình máy tính trong đó có một hàm tự gọi chính nó </s> <s> </s> <s> khái niệm hình thức về đệ quy </s> <s> trong toán học và khoa học máy tính các tính chất hoặc cấu trúc được gọi là đệ quy nếu trong đó một lớp các đối tượng hoặc phương pháp được xác định bằng việc xác định một số rất ít các trường hợp hoặc phương pháp đơn giản thông thường chỉ một và sau đó xác định quy tắc đưa các trường hợp phức tạp về các trường hợp đơn giản </s> <s> </s> <s> </s> <s> chẳng hạn định nghĩa sau là định nghĩa đệ quy của tổ tiên </s> <s> </s> <s> bố mẹ của một người là tổ tiên của người ấy trường hợp cơ bản </s> <s> bố mẹ của tổ tiên một người bất kỳ là tổ tiên của người ấy bước đệ quy </s> <s> </s> <s> các định nghĩa kiểu như vậy cũng thường thấy trong toán học chính là quy nạp toán học </s> <s> </s> <s> định nghĩa theo đệ quy </s> <s> một khái niệm x được định nghĩa theo đệ quy nếu trong định nghĩa x có sử dụng ngay chính khái niệm x </s> <s> </s> <s> </s> <s> ví dụ  định nghĩa số tự nhiên </s> <s>   là một số tự nhiên </s> <s> </s> <s>  n là số tự nhiên nếu n   là số tự nhiên </s> <s> </s> <s> đệ quy trong khoa học máy tính </s> <s> bài chi tiết giải thuât đệ quy </s> <s> có một phương pháp chung để giải các bài toán là chia bài toán thành các bài toán con đơn giản hơn cùng loại </s> <s> phương pháp này được gọi là kỹ‎ thuật lập trình chia để trị </s> <s> chính nó là chìa khóa để thiết kế nhiều giải thuật quan trọng là cơ sở của quy hoạch động </s> <s> </s> <s> khái niệm hình thức về đệ quy </s> <s> trong toán học và khoa học máy tính các tính chất hoặc cấu trúc được gọi là đệ quy nếu trong đó một lớp các đối tượng hoặc phương pháp được xác định bằng việc xác định một số rất ít các trường hợp hoặc phương pháp đơn giản thông thường chỉ một và sau đó xác định quy tắc đưa các trường hợp phức tạp về các trường hợp đơn giản </s> <s> </s> <s> </s> <s> chẳng hạn định nghĩa sau là định nghĩa đệ quy của tổ tiên </s> <s> </s> <s> bố mẹ của một người là tổ tiên của người ấy trường hợp cơ bản </s> <s> bố mẹ của tổ tiên một người bất kỳ là tổ tiên của người ấy bước đệ quy </s> <s> </s> <s> các định nghĩa kiểu như vậy cũng thường thấy trong toán học chính là quy nạp toán học </s> <s> </s> <s> định nghĩa theo đệ quy </s> <s> một khái niệm x được định nghĩa theo đệ quy nếu trong định nghĩa x có sử dụng ngay chính khái niệm x </s> <s> </s> <s> </s> <s> ví dụ  định nghĩa số tự nhiên </s> <s>   là một số tự nhiên </s> <s> </s> <s>  n là số tự nhiên nếu n   là số tự nhiên </s> <s> </s> <s> đệ quy trong khoa học máy tính </s> <s> bài chi tiết giải thuât đệ quy </s> <s> có một phương pháp chung để giải các bài toán là chia bài toán thành các bài toán con đơn giản hơn cùng loại </s> <s> phương pháp này được gọi là kỹ‎ thuật lập trình chia để trị </s> <s> chính nó là chìa khóa để thiết kế nhiều giải thuật quan trọng là cơ sở của quy hoạch động </s> <s> </s> <s> một vài bài tập về palindrome </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/palindromeproblems </s> <s> </s> <s> </s> <s> </s> <s> tác giả  nguyễn hoành tiến </s> <s> </s> <s> table of contents bài  kiểm tra palindrome bài  xâu con palindrome dài nhất cách  qhđ cách  duyệt có cận bài  chia một xâu thành ít nhất các palindrome bài  pal  ioicamp  marathon  bài  palindrome  ioi  bài tập luyện tập </s> <s> </s> <s> palindrome hay còn gọi là xâu đối xứng xâu đối gương là tên gọi của những xâu kí tự mà khi viết từ phải qua trái hay từ trái qua phải thì xâu đó không thay đổi </s> <s> vd madam ioi </s> <s> </s> <s> </s> <s> nhờ tính chất đặc biệt đó mà có khá nhiều bài tập có liên quan đến palindrome phần lớn trong chúng thường đi kèm với qhđ </s> <s> tôi xin giới thiệu với các bạn một vài bài tập như vậy </s> <s> </s> <s> </s> <s> bài  kiểm tra palindrome </s> <s> </s> <s> bài toán  cho  xâu </s> <s> kiểm tra nó có phải là palindrome hay không </s> <s> </s> <s> đây là một bài cơ bản nhưng quan trọng vì nó được đề cập đến trong nhiều bài tập khác </s> <s> cách làm tốt nhất là duyệt đơn thuần mất on </s> <s> </s> <s> </s> <s> function ispalindrome  s  string  boolean  </s> <s> </s> <s> var i  n  integer  </s> <s> </s> <s> begin </s> <s> n  length  s  </s> <s> for i   to  n div   do </s> <s> if s  i  ltgt s  n    i  then exit  false  </s> <s> exit  true  </s> <s> end  </s> <s> </s> <s> </s> <s> một đoạn chương trình khác </s> <s> </s> <s> function ispalindrome  s  string   boolean  </s> <s> </s> <s> var i  j  integer  </s> <s> </s> <s> begin </s> <s> i    </s> <s> j  length  n  </s> <s> while  i lt j  </s> <s> begin </s> <s> if s  i  ltgt s  j  then exit  false  </s> <s> inc  i  </s> <s> dec  j  </s> <s> end  </s> <s> exit  true  </s> <s> end  </s> <s> </s> <s> </s> <s> bài  xâu con palindrome dài nhất </s> <s> </s> <s> bài toán  cho một xâu s độ dài không quá  kí tự </s> <s> tìm palindrome dài nhất là xâu con của s xâu con là một dãy các kí tự liên tiếp </s> <s> </s> <s> </s> <s> đây cũng là một bài cơ bản với nhiều cách làm </s> <s> </s> <s> </s> <s> cách  qhđ </s> <s> </s> <s> dùng mảng fi j có ý nghĩa fi j  true/false nếu đoạn gồm các kí tự từ i đến j của s có/không là palindrome </s> <s> </s> <s> </s> <s> ta có công thức là </s> <s> </s> <s> </s> <s> </s> <s> fi i  true  xâu  ký tự luôn đối xứng </s> <s> </s> <s> </s> <s> fi j  fi j nếu si  sj </s> <s> </s> <s> </s> <s> fi j  false nếu si ne sj </s> <s> </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> fillchar  f  sizeof  f  false  </s> <s> </s> <s> for i   to n do </s> <s> f  i  i   true  </s> <s> </s> <s> for k   to  n    do </s> <s> for i   to  n  k  do </s> <s> begin </s> <s> j  i  k  </s> <s> f  i  j    f  i    j     and  s  i   s  j   </s> <s> end  </s> <s> </s> <s> kết quả là maxji le j thỏa fij  true </s> <s> </s> <s> </s> <s> độ phức tạp thuật toán là on </s> <s> </s> <s> </s> <s> chú ý với n lớn ta phải thay mảng  chiều f bằng  mảng  chiều và dùng thêm biến max lưu giá trị tối ưu </s> <s> </s> <s> </s> <s> cách  duyệt có cận </s> <s> </s> <s> ta xét từng vị trí i </s> <s> </s> <s> </s> <s> xem si có phải là tâm của palindrome có lẻ kí tự không ví dụ palindrome madam có tâm là kí tự d </s> <s> xem si và si có phải là tâm của palindrome có chẵn kí tự không ví dụ palindrome abba có tâm là  kí tự bb </s> <s> với mỗi kí tự ta tìm palindrome dài nhất nhận nó là tâm cập nhập lại kết quả khi duyệt </s> <s> ta duyệt từ giữa ra để dùng kết quả hiện tại làm cận </s> <s> </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> procedure lam  </s> <s> var i  j  longint  </s> <s> </s> <s> procedure try  first  last  longint  </s> <s> var dd  longint  </s> <s> begin </s> <s> if first  last then </s> <s> begin </s> <s> dd    </s> <s> dec  first  </s> <s> inc  last  </s> <s> end </s> <s> else dd    </s> <s> </s> <s> repeat </s> <s> if  first lt   or  last gt n  then break  </s> <s> if s  i   s  j  then </s> <s> begin </s> <s> dd  dd    </s> <s> first  first    </s> <s> last  last    </s> <s> end </s> <s> else break  </s> <s> until false  </s> <s> if max lt dd then max  dd  </s> <s> end  </s> <s> </s> <s> begin </s> <s> i  n div   </s> <s> j  n div     </s> <s> max    </s> <s> while  i gt max div   and  j lt n  max div   do </s> <s> begin </s> <s> if i gt max div  then </s> <s> begin </s> <s> try  i  i  </s> <s> try  i  i    </s> <s> end  </s> <s> if j lt n  max div  then </s> <s> begin </s> <s> try  j  j  </s> <s> try  j  j    </s> <s> end  </s> <s> i  i    </s> <s> j  j    </s> <s> end  </s> <s> end  </s> <s> </s> <s> cách làm này có độ phức tạp max  nmax </s> <s> vì vậy nó chạy nhanh hơn cách qhđ trên thời gian chậm nhất khi tất cả các ký tự giống nhau khi đó max  n/ cũng chỉ mất n/ và nhanh gấp  lần cách dùng qhđ </s> <s> nhờ vậy chúng ta biết là không phải lúc nào qhđ cũng chấp nhận được về mặt thời gian và không phải lúc nào duyệt lúc nào cũng chậm </s> <s> </s> <s> </s> <s> bài này còn có một cách nlogn nữa là dùng suffix aray  thậm chí có cách on là sử dụng suffix tree và thuật toán tìm lca </s> <s> đương nhiên cách cài đặt không hề dễ dàng tôi sẽ thảo luận với các bạn vào một dịp khác </s> <s> </s> <s> </s> <s> bài  chia một xâu thành ít nhất các palindrome </s> <s> </s> <s> bài toán  cho  xâu độ dài không quá  </s> <s> chia nó thành ít nhất các palindrome </s> <s> </s> <s> </s> <s> bài này phức tạp hơn bài trên cách làm thì vẫn là qhđ </s> <s> </s> <s> </s> <s> </s> <s> gọi fi là số palindrome ít nhất mà đoạn  </s> <s> </s> <s> i chia thành được </s> <s> </s> <s> ta có công thức fi  minfi fj   với j lt i thỏa mãn đoạn j </s> <s> </s> <s> i là palindrome </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> f     infinity  </s> <s> </s> <s> for i   to n do </s> <s> for j  i   downto  do </s> <s> if  ispalindrome  j    i  then f  i   min  f  i  f  j    </s> <s> </s> <s> </s> <s> hai vòng for lồng nhau mất on phần kiểm tra đoạn j </s> <s> </s> <s> i là palindrome hay không mất on vậy độ phức tạp thuật toán là on </s> <s> sẽ không được khả thi nếu n   </s> <s> để giảm độ phức tạp thuật toán ta sử dụng mảng li j có ý nghĩa tương tự như mảng fi j ở bài  </s> <s> qhđ lập mảng li j mất on </s> <s> tổng cộng là on vì mỗi lần kiểm tra chỉ mất o </s> <s> </s> <s> </s> <s> một cách khác sử dụng ít bộ nhớ hơn là dùng hai mảng một chiều li và ci có ý nghĩa </s> <s> </s> <s> </s> <s> li là độ dài lớn nhất của palindrome độ dài lẻ nhận si làm tâm </s> <s> ci là độ dài lớn nhất của palindrome độ dài chẵn nhận si và si làm tâm </s> <s> li và ci có thể tính được bằng cách  bài  trong on </s> <s> phần kiểm tra ta viết lại như sau </s> <s> </s> <s> </s> <s> function ispalindrome  i  j  integer   boolean  </s> <s> </s> <s> var dd  integer  </s> <s> </s> <s> begin </s> <s> dd  j  i    </s> <s> if odd  dd  then ispalindrome   l  i  j  div   gt n  </s> <s> else ispalindrome   c  i  j  div   gt n  </s> <s> end  </s> <s> </s> <s> vậy thuật toán của chúng ta có độ phức tạp tính toán là on chi phí bộ nhớ là on </s> <s> </s> <s> </s> <s> bài  pal  ioicamp  marathon  </s> <s> </s> <s> bài toán  cho một xâu hỏi nó có bao nhiêu xâu con là palindrome xâu con ở đây gồm các kí tự không cần liên tiếp độ dài không quá  </s> <s> </s> <s> </s> <s> ví dụ xâu ioicamp có  xâu con là palindrome </s> <s> </s> <s> i </s> <s> o </s> <s> i </s> <s> c </s> <s> a </s> <s> m </s> <s> p </s> <s> ii </s> <s> ioi </s> <s> </s> <s> đây là một bài tập rất thú vị </s> <s> phương pháp là dùng qhđ </s> <s> </s> <s> </s> <s> </s> <s> gọi fi j là số palindrome là xâu con của đoạn i j </s> <s> </s> <s> ta có công thức  </s> <s> </s> <s> </s> <s> fi i   </s> <s> fi j  fi j  fi j  fi j  t </s> <s> nếu si  sj thì t  fi j   </s> <s> </s> <s> nếu si ne sj thì t   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> procedure lam  </s> <s> </s> <s> var k  i  j  integer  </s> <s> </s> <s> begin </s> <s> n  length  s  </s> <s> for i   to n do </s> <s> f  i  i     </s> <s> </s> <s> for k   to n   do </s> <s> for i   to n  k do </s> <s> begin </s> <s> j  i  k  </s> <s> f  i  j   f  i  j     f  i    j   f  i    j    </s> <s> if s  i   s  j  then f  i  j   f  i  j   f  i    j       </s> <s> end  </s> <s> end  </s> <s> </s> <s> để chương trình chạy nhanh hơn chúng ta sửa lại đoạn mã một chút như sau </s> <s> </s> <s> procedure lam  </s> <s> </s> <s> var k  i  j  integer  </s> <s> </s> <s> begin </s> <s> n  length  s  </s> <s> for i   to n do </s> <s> f  i  i     </s> <s> </s> <s> for k   to n do </s> <s> for i   to n  k do </s> <s> begin </s> <s> j  i  k  </s> <s> f  i  j   f  i  j     f  i    j  </s> <s> </s> <s> if s  i   s  j  then f  i  j   f  i  j    </s> <s> else f  i  j   f  i  j   f  i    j    </s> <s> end  </s> <s> end  </s> <s> </s> <s> đoạn chương trình trên chỉ có tính mô phỏng muốn hoàn thiện bạn phải cài đặt các phép tính cộng trừ số lớn vì kết quả có thể lên tới n </s> <s> độ phức tạp của thuật toán là on </s> <s> vì vậy chúng ta hoàn toàn có thể làm với n   khí đó cần rút gọn mảng f thành ba mảng một chiều </s> <s> </s> <s> </s> <s> bài  palindrome  ioi  </s> <s> </s> <s> bài toán  cho một xâu độ dài không quá  hỏi phải thêm vào nó ít nhất bao nhiêu xâu kí tự để nó trở thành một palindrome </s> <s> </s> <s> </s> <s> bài này cũng sử dụng qhđ gọi fi j là số phép biến đổi ít nhất cần thêm vào đoạn i j để đoạn i j trở thành palindrome </s> <s> </s> <s> </s> <s> ta có công thức </s> <s> </s> <s> </s> <s> fi i   </s> <s> nếu si  sj thì fi j  fi j </s> <s> </s> <s> nếu si ne sj thì fi j  min fi j fi j    </s> <s> </s> <s> </s> <s> </s> <s> bài này được ra từ thời năm  khi đó bộ nhớ cho phép rất nhỏ </s> <s> muốn chương trình chạy với n   thì cần rút gọn f thành ba mảng một chiều </s> <s> muốn truy vết bạn phải dùng mảng bit hoặc dùng dữ liệu động </s> <s> </s> <s> </s> <s> bài tập luyện tập </s> <s> </s> <s> </s> <s> spoj  palin </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp tính toán </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/computationalcomplexitysection </s> <s> </s> <s> </s> <s> </s> <s> table of contents giới thiệu tầm quan trọng của những lý luận ví dụ  mẹo gộp hai thuật toán thế nào là độ hiệu quả của thuật toán ví dụ  lưu ý về kích cỡ tập đầu vào tính toán độ hiệu quả của thuật toán như thế nào các khái niệm cơ bản xác định thời gian chạy dựa vào đánh giá cận trên lưu ý khi phân tích độ phức tạp thuật toán ví dụ  kết luận </s> <s> </s> <s> nguồn bài topcoder </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> trong bài viết này tôi sẽ giới thiệu tới các bạn về chủ đề độ phức tạp tính toán </s> <s> trước khi đi vào định nghĩa chính xác của các khái niệm bài viết sẽ giải thích các lý luận đằng sau những khái niệm đó </s> <s> tôi cho rằng việc hiểu các lý luận này có thể còn quan trọng hơn bản thân định nghĩa của các khái niệm </s> <s> </s> <s> </s> <s> tầm quan trọng của những lý luận </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> giả sử bạn được phân công viết một chương trình để xử lý một tập dữ liệu gồm nhiều bản ghi mà công ty của bạn đã thu thập </s> <s> bạn cài đặt hai thuật toán và kiểm tra chúng bằng một vài tập dữ liệu khác nhau </s> <s> thời gian chạy được thống kê trong bảng  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số lượng bản ghi </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> thuật toán  </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s> min </s> <s> </s> <s> </s> <s> thuật toán  </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bảng  thời gian chạy của hai thuật toán   </s> <s> </s> <s> từ bảng  ta có thể đánh giá một cách không chính thức rằng thuật toán nào tốt hơn vì thường là ta có thể ước lượng số lượng bản ghi cần xử lý </s> <s> với một công ty thì kết luận dựa trên việc chạy thử như vậy có thể chấp nhận được </s> <s> nhưng với người lập trình nó sẽ tốt hơn nếu có thể đánh giá thời gian chạy của hai thuật toán trước khi viết code và chạy thử  sau đó chỉ cần cài đặt thuật toán tốt hơn </s> <s> </s> <s> </s> <s> các kỳ thi lập trình cũng đòi hỏi việc đánh giá tương tự kích cỡ của tập dữ liệu được cho trước trong đề bài </s> <s> giả sử ta đã nghĩ ra được một thuật toán </s> <s> câu hỏi cần đặt ra trước khi bắt tay vào cài đặt là thuật toán này có đáng để cài đặt không liệu nó có thể chạy trên bộ test lớn nhất trong thời gian cho phép không nếu ta có thể nghĩ ra một vài thuật toán khác nên chọn thuật nào để cài đặt </s> <s> </s> <s> các câu hỏi trên dẫn tới câu hỏi cốt lõi hơn làm sao để so sánh hai thuật toán với nhau quay trở lại ví dụ  ta có thể ước lượng rằng khi số bản ghi vượt quá  thuật toán  sẽ chạy nhanh hơn nhiều lần thuật toán  </s> <s> nói cách khác xét trên tất cả các tập dữ liệu có thể thuật toán  sẽ chạy tốt hơn trong hầu hết các trường hợp </s> <s> </s> <s> </s> <s> có thể kết luận được rằng trong hầu hết các trường hợp  cho trước  thuật toán hoặc là một thuật toán gần như luôn luôn tốt hơn hoặc là cả hai xấp xỉ tốt như nhau </s> <s> như vậy chúng ta sẽ định nghĩa độ tốt của thuật toán dựa vào đánh giá độ hiệu quả chạy trên toàn bộ tập dữ liệu như trên </s> <s> đánh giá này sẽ là ý tưởng chính đằng sau các định nghĩa cụ thể mà chúng ta sẽ đề cập về sau </s> <s> </s> <s> </s> <s> mẹo gộp hai thuật toán </s> <s> </s> <s> nếu đối chiếu với hai thuật toán ví dụ  không khó để thấy rằng có một thuật toán với thời gian chạy tương tự với chúng trong bảng  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số lượng bản ghi </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> thuật toán  </s> <s> n  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bảng  thời gian chạy của thuật toán  </s> <s> </s> <s> ý tưởng của thuât toán  nếu số lượng bản ghi nhỏ thì ta áp dụng thuật toán  ngược lại áp dụng thuật toán  </s> <s> </s> <s> </s> <s> ý tưởng tương tự thường được áp dụng vào thực tế </s> <s> một ví dụ là trong các hàm sắp xếp sort được cung cấp bởi thư viện của các ngôn ngữ lập trình thường được cài đặt theo thuật toán quicksort với nhiều cải tiến ví dụ </s> <s> </s> <s> </s> <s> nếu số lượng phần tử quá nhỏ chạy thuật toán sắp xếp chèn insertsort vì insertsort chạy nhanh hơn với tập dữ liệu kích thước nhỏ </s> <s> </s> <s> nếu vị trí phần tử chốt không tốt chuyển sang chạy thuật toán sắp xếp trộn mergesort </s> <s> </s> <s> </s> <s> </s> <s> thế nào là độ hiệu quả của thuật toán </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> giả sử bạn có đoạn mã sau </s> <s> </s> <s> for  int i    i lt n  i   </s> <s> for  int j  i    j lt n  j   </s> <s> if  a  i  gt a  j  </s> <s> swap  a  i  a  j  </s> <s> </s> <s> đây thực ra là một cách cài đặt của thuật toán minsort  giả sử chúng ta được cho một mảng dữ liệu đầu vào mảng a và số phần tử n ta có thể tính chính xác số bước chạy của thuật toán trên đầu vào đã cho </s> <s> ta thậm chí có thể tính chính xác số lệnh thực thi trong bộ vi xử lý nếu ta muốn nd chuyển đoạn mã c trên thành mã assembly </s> <s> tuy nhiên có rất nhiều giá trị mà bộ dữ liệu đầu vào có thể nhận nên việc tính toán số bước như trên với mọi khả năng đầu vào là không thể </s> <s> </s> <s> </s> <s> thực tế trên dẫn ta tới câu hỏi quan trọng hơn đánh giá quan trọng nhất về độ hiệu quả mà chúng ta cần tới là gì thông thường thì đó là tốc độ chạy thuật toán trong trường hợp xấu nhất  ta cần tìm ra một đánh giá cận trên của tốc độ chạy thuật toán </s> <s> </s> <s> </s> <s> tuy nhiên thế nào là là trường hợp xấu nhất một cách đơn giản để làm cho thuật toán chạy chậm hơn là tăng kích cỡ đầu vào </s> <s> vì cận trên của số phần tử đã bị chặn bởi đề bài các câu hỏi quan trọng hơn là tập đầu vào xấu nhất trong các tập có cùng số phần tử là tập nào khi tăng kích cỡ tập đầu vào thì độ phức tạp trong trường hợp xấu nhất tăng như thế nào  </s> <s> </s> <s> lưu ý về kích cỡ tập đầu vào </s> <s> </s> <s> hiểu chính xác thì kích cỡ tập đầu vào là đại lượng gì theo định nghĩa chính thống kích cỡ tập đầu vào được viết thành một tập hữu hạn các ký tự với ít nhất  ký tự </s> <s> trong bài này ta có thể coi tập ký tự đó là các số tự nhiên từ  tới  </s> <s> như vậy kích cỡ tập đầu vào được tính đúng bằng số bytes của tệp chứa dữ liệu đầu vào input file </s> <s> </s> <s> </s> <s> thường thì một phần của bộ dữ liệu sẽ là một số hoặc một vài số mà kích cỡ của tập đầu vào sẽ tỉ lệ thuận với số này </s> <s> </s> <s> </s> <s> chẳng hạn như trong ví dụ  ta có một số tự nhiên n và một mảng với n số integer </s> <s> kích cỡ theo đơn vị bytes của file đầu vào sẽ xấp xỉ n phụ thuộc vào hệ điều hành và cấu trúc máy tính nhưng sẽ luôn tuyến tính với n </s> <s> </s> <s> </s> <s> trong các trường hợp này ta có thể chọn số hoặc các số đó để biểu diễn kích cỡ tập đầu vào </s> <s> vì vậy khi nói về các bài toán có mảng / chuỗi kích cỡ tập đầu vào là độ dài của mảng / chuỗi đó khi nói về các bài toán đồ thị ta biểu thị bằng cả hai đại lượng số lượng đỉnh và số lượng cạnh </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> với cách tiếp cận đó kể từ đây cho tới cuối bài viết ta ký hiệu n là kích cỡ tập đầu vào </s> <s> </s> <s> </s> <s> một trường hợp cần lưu ý là khi viết một số n ta chỉ cần logn khoảng trống ví dụ để viết  trong hệ cơ số  ta chỉ cần log chữ số </s> <s> cần phân biệt hai đại lượng này  với thuật toán kiểm tra số nguyên tố đơn giản có độ phức tạp đa thức trên độ lớn của số được kiểm tra chứ không phải là trên số lượng chữ số của số đó nếu bạn chưa từng gặp khái niệm độ phức tạp đa thức thì cũng không cần lo lắng vì khái niệm này sẽ được giải thích trong phần sau </s> <s> </s> <s> </s> <s> tính toán độ hiệu quả của thuật toán như thế nào </s> <s> </s> <s> nhắc lại rằng cho trước một bộ dữ liệu đầu vào ta có thể đếm số bước thực hiện các phép toán của một thuật toán bằng cách mô phỏng các bước chạy thuật toán đó trên bộ dữ liệu được cho </s> <s> giả sử ta tiến hành đếm như vậy với tất cả các bộ dữ liệu có kích thước tối đa n </s> <s> ký hiệu fn là số bước cần thực hiện nhiều nhất trường hợp xấu nhất </s> <s> hàm f được gọi là độ phức tạp thời gian  hoặc ngắn gọn thời gian chạy của thuật toán </s> <s> </s> <s> </s> <s> nói cách khác nếu ta có dữ liệu vào với kích cỡ n việc thực hiện thuật toán mất tối đa fn bước </s> <s> </s> <s> </s> <s> quay trở lai thuật toán trong ví dụ  </s> <s> tập đầu vào xấu nhất có n phần tử là tập nào nói cách khác trong số các mảng có n phần tử mảng nào khiến cho thuật toán phải thực hiện nhiều bước nhất từ đoạn mã của thuật toán ta thấy </s> <s> </s> <s> </s> <s> bước thứ nhất được thực hiện đúng n lần </s> <s> bước thứ hai và thứ ba được thực hiện đúng fracnn lần </s> <s> bước thứ tư được thực hiện nhiều nhất fracnn lần </s> <s> </s> <s> </s> <s> dễ thấy nếu các phần tử trong mảng a được sắp xếp theo chiều giảm dần ngay từ đầu bước thứ  sẽ luôn luôn được thực hiện </s> <s> vì vậy thuật toán sẽ chạy trong fracnn  n   </s> <s> n   </s> <s> n bước </s> <s> vì vậy thuật toán trên có số bước tối đa là fn   </s> <s> n   </s> <s> n </s> <s> </s> <s> </s> <s> có thể thấy rằng việc xác định chính xác hàm f cho các chương trình phức tạp hơn là khá khó khăn </s> <s> thêm vào đó trong nhiều trường hợp dạng chính xác của hàm f là không cần thiết </s> <s> trong tính toán trên giá trị  </s> <s> n có thể bỏ qua vì khi n lớn thì  </s> <s> n nhỏ hơn rất nhiều so với  </s> <s> n và không ảnh hưởng lớn tới thời gian chạy </s> <s> mệnh đề fn xấp xỉ bằng  </s> <s> n cho ta tất cả thông tin mà ta cần </s> <s> tiếp theo chúng ta sẽ thấy rằng khi so sánh thuật toán này với một thuật toán nào đó khác để giải cùng một bài toán hằng số  </s> <s>  cũng không thật quan trọng </s> <s> </s> <s> </s> <s> xét hai thuật toán một có thời gian chạy n và một có thời gian chạy  </s> <s> n </s> <s> dễ nhận thấy rằng với n gt  thì thuật toán đầu tiên chạy nhanh hơn  khi n tăng khoảng cách về độ hiệu quả giữa hai thuật toán càng trở nên rõ ràng </s> <s> trong khi thuật toán đầu tiên có thể giải quyết bài toán với n    chỉ trong thời gian tính bằng giây thuật toán thứ hai phải mất tới vài phút trên các máy tính hiện đại </s> <s> </s> <s> </s> <s> sự khác biệt như trên sẽ luôn xảy ra nếu một trong hai thuật toán có thời gian chạy tăng tiệm cận nhanh hơn so với thời gian chạy của thuật toán còn lại nói cách khác khi n đủ lớn để kết quả phép tính giới hạn lim của tỷ lệ giữa hai đại lượng này bằng  hoặc infty </s> <s> nd trong bài này tác giả không nói rõ việc so sánh độ phức tạp theo phép tính giới hạn chỉ cần hiểu khái niệm tiệm cận có nghĩa là kích cỡ đầu vào đủ lớn </s> <s> như vậy tiệm cận nhanh hơn có nghĩa là nhanh hơn khi đầu vào đủ lớn  </s> <s> bất kể các hằng số nhận giá trị nào một thuật toán có thời gian chạy tỷ lệ thuận với n sẽ luôn luôn hiệu quả hơn một thuật toán khác có thời gian chạy tỷ lệ với n trong hầu hết các trường hợp của tập đầu vào </s> <s> nhận định này chính là ý tưởng chủ đạo để xây dựng định nghĩa chính thức của các khái niệm </s> <s> </s> <s> </s> <s> các khái niệm cơ bản </s> <s> </s> <s> gọi f g là các hàm số dương không giảm trên tập số nguyên dương lưu ý rằng hàm thời gian chạy thỏa mãn điều kiện này </s> <s> ta nói rằng fn thuộc ogn cách đọc f thuộc olớn của g nếu tồn tại các giá trị c và n thỏa mãn điều kiện sau </s> <s> </s> <s>  </s> <s> forall n gt n fn lt c </s> <s> gn </s> <s>  </s> <s> </s> <s> mệnh đề trên có thể diễn dịch như sau fn thuộc ogn nếu với c nào đó toàn bộ đồ thị của hàm f nằm dưới đồ thị của hàm c </s> <s> g </s> <s> chú ý rằng điều này có nghĩa là tốc độ tăng của hàm f không vượt quá độ tăng của hàm g </s> <s> nd ký hiệu olớn là ký hiệu chỉ tập hợp của các hàm số  vì vậy ở đây quan hệ giữa f và ogn là phần tử thuộc tập hợp </s> <s>  </s> <s> </s> <s> thay vì viết fn thuộc ogn ta thường viết là fn  ogn </s> <s> chú ý là dấu  không có tính đối xứng  viết ogn  f n là sai và không có ý nghĩa gì đồng thời mệnh đề gn  of n cũng không phải luôn đúng sẽ được chỉ ra ở phần sau của bài viết </s> <s> </s> <s> </s> <s> định nghĩa trên được biết tới là ký pháp olớn và được sử dụng để chỉ ra cận trên của tốc độ tăng của một hàm số </s> <s> </s> <s> </s> <s> xét hàm số f n   </s> <s> n –  </s> <s> n trong ví dụ  </s> <s> ta có thể phát biểu rằng f n  on một trường hợp khả dĩ cho các hằng số là c   và n   </s> <s> điều này có nghĩa là hàm f không tăng tiệm cận nhanh hơn n </s> <s> </s> <s> </s> <s> lưu ý rằng thời gian chạy chính xác của hàm f không cho ta câu trả lời cho câu hỏi chương trình trên chạy mất bao lâu trên máy tính </s> <s> nhận định quan trọng rút ra từ ví dụ trên là thời gian chạy của hàm f đó là hàm bậc hai </s> <s> nếu ta tăng gấp đôi kích cỡ đầu vào thời gian chạy sẽ tăng xấp xỉ  lần thời gian chạy ban đầu không quan trọng máy tính của ta nhanh như thế nào </s> <s> </s> <s> </s> <s> việc xác định được cận trên on của fn cũng đưa ta tới cùng nhận định như trên  đảm bảo rằng độ tăng của hàm thời gian chạy tối đa là hàm bậc hai </s> <s> </s> <s> </s> <s> vì vậy chúng ta sẽ sử dụng ký pháp olớn để mô tả độ phức tạp thời gian và đôi khi là cả bộ nhớ  của các thuật toán </s> <s> với thuật toán trong ví dụ  ta sẽ nói độ phức tạp thời gian của thuật toán này là on hoặc ngắn gọn hơn thuật toán này là on </s> <s> </s> <s> </s> <s> theo cách tương tự ta sẽ định nghĩa  omega omegalớn and  theta thetalớn </s> <s> </s> <s> </s> <s> ta nói rằng f n omegagn nếu gn  of n nói cách khác nếu f tăng nhanh hơn hoặc bằng g </s> <s> </s> <s> </s> <s> ta nói rằng f n  thetagn nếu f n  ogn và gn  of n nói cách khác nếu cả hai hàm số có độ hiệu quả xấp xỉ bằng nhau </s> <s> </s> <s> </s> <s> dễ dàng nhận thấy là hàm omegalớn dùng để chỉ cận dưới và hàm thetalớn dùng để chỉ đánh giá chặt cả hai cận của một hàm số </s> <s> có những đánh giá cận khác tương tự nhưng ít phổ biến hơn </s> <s> </s> <s> </s> <s> một vài mệnh đề sử dụng các ký pháp trên </s> <s> </s> <s> </s> <s>  </s> <s> n  </s> <s> n  on </s> <s> </s> <s> n log n  on </s> <s> </s> <s> n log n    n  thetan log n </s> <s> </s> <s> tất cả các đa thức bậc k là onk </s> <s> </s> <s> độ phức tạp thời gian của thuật toán trong ví dụ  là  thetan </s> <s> </s> <s> nếu một thuật toán thuộc on nó cũng thuộc on </s> <s> </s> <s> các thuật toán sắp xếp dựa trên phép so sánh đều là  omegan log n </s> <s> </s> <s> thuật toán sắp xếp trộn mergesort chạy trên mảng gồm n phần tử thực hiện xấp xỉ n log n phép so sánh </s> <s> vì vậy độ phức tạp thời gian của mergesort là  thetan log n </s> <s> nếu mệnh đề trước đó là đúng thì mergesort tiệm cận thuật toán tối ưu nhất trong các thuật toán sắp xếp dựa trên phép so sánh </s> <s> </s> <s> thuật toán trong ví dụ  sử dụng  thetan bytes bộ nhớ </s> <s> </s> <s> hàm số cho biết số răng của một người ở một thời điểm xác định là o </s> <s> </s> <s> một thuật toán quay lui đơn giản giải các bài toán trên bàn cờ vua là o vì cây vị trí mà thuật toán duyệt qua có kích cỡ giới hạn </s> <s> tuy nhiên giá trị hằng số trong o này lại rất lớn </s> <s> mệnh đề độ phức tạp thời gian của thuật toán này tối thiểu là on là vô nghĩa </s> <s> diễn dịch giá trị tối thiểu của độ phức tạp thời gian của thuật toán này tối đa là xấp xỉ hàm bậc hai </s> <s> phát biểu đúng là độ phức tạp thời gian của thuật toán này là  omegan </s> <s>  </s> <s> </s> <s> </s> <s> khi nói về độ phức tạp thời gian/bộ nhớ của một thuật toán thay vì sử dụng ký pháp thetalớn  thetaf n ta có thể đơn giản chỉ ra tên của lớp hàm chứa hàm f </s> <s> ví dụ với f n  thetan ta gọi thuật toán đó là tuyến tính </s> <s> một vài ví dụ khác </s> <s> </s> <s> </s> <s> f n  thetalog n hàm log </s> <s> f n  thetan hàm bậc  </s> <s> f n  thetan hàm bậc  </s> <s> f n  onk  hàm đa thức </s> <s> f n  omegan hàm mũ </s> <s> </s> <s> </s> <s> với các bài toán trên đồ thị độ phức tạp  thetan  m được gọi là tuyến tính theo độ lớn của đồ thị </s> <s> </s> <s> </s> <s> xác định thời gian chạy dựa vào đánh giá cận trên </s> <s> </s> <s> với hầu hết các thuật toán thường gặp trong thực tế giá trị hằng số của o hoặc  theta thường là khá nhỏ </s> <s> nếu một thuật toán là  thetan độ phức tạp chính xác là vào khoảng n chứ không phải n </s> <s> </s> <s> </s> <s> nói cách khác nếu hằng số là lớn thì thường là các hằng số đó có liên quan tới các đại lượng có sẵn trong đề bài </s> <s> trong trường hợp này cách làm thông thường là gán một tên gọi cho hằng số đó và thêm nó vào đánh giá độ phức tạp theo ký pháp thay vì bỏ qua như ta đã làm với số  </s> <s>  ở ví dụ  </s> <s> </s> <s> </s> <s> ví dụ bài toán yêu cầu đếm số lần xuất hiện của mỗi loại ký tự trong một chuỗi độ dài n ký tự </s> <s> thuật toán đơn giản nhất là duyệt cả chuỗi một lần cho mỗi loại ký tự </s> <s> kích cỡ bảng chữ cái không thay đổi ví dụ nhiều nhất là  ký tự trong ngôn ngữ c vì vậy thuật toán là tuyến tính với n </s> <s> mặc dù vậy ta nên viết độ phức tạp thời gian là  thetas </s> <s> n trong đó s là bảng chữ cái được sử dụng lưu ý là có một thuật toán tốt hơn giải bài toán này trong  theta s  n </s> <s> </s> <s> </s> <s> trong một kỳ thi trên topcoder một thuật toán thực thi     phép nhân hiếm khi chạy trong giới hạn thời gian cho phép </s> <s> thực tế này cộng với quan sát ở trên và một vài kinh nghiệm với các bài toán trên topcoder giúp ta tổng kết bảng sau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> complexity </s> <s> maximum n </s> <s> </s> <s> </s> <s>  thetan </s> <s>    </s> <s> </s> <s> </s> <s>  thetan log n </s> <s>    </s> <s> </s> <s> </s> <s>  thetan </s> <s>   </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bảng  giá trị n lớn nhất để các thuật toán có độ phức tạp khác nhau chạy trong tối đa  giây </s> <s> </s> <s> lưu ý khi phân tích độ phức tạp thuật toán </s> <s> </s> <s> thông thường khi trình bày một thuật toán cách tốt nhất để đánh giá độ phức tạp của nó là ký pháp theta theta </s> <s> tuy nhiên trong thực tế thường ta chỉ trình bày cận olớn vì ký pháp này dễ viết hơn và phổ biến hơn </s> <s> nhắc lại rằng olớn chỉ mang ý nghĩa cận trên </s> <s> thông thường ta tìm cận trên olớn nhỏ nhất có thể </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> cho một mảng a đã được sắp xếp </s> <s> xác định xem liệu có tồn tại  phần tử trong mảng mà cách nhau d đơn vị hay không </s> <s> xét lời giải sau </s> <s> </s> <s> int j    </s> <s> for  int i    i lt n  i    </s> <s> while   j lt n    ampamp  a  i   a  j  gt d   </s> <s> j   </s> <s> if  a  i   a  j   d  return   </s> <s>  </s> <s> </s> <s> thoạt nhìn ta có thể sẽ đánh giá thuật toán trên có cận on  vòng lặp trong cùng chạy n lần mỗi lần tăng biến j tối đa n lần </s> <s> phân tích kỹ hơn ta thấy rằng cận trên có đánh giá tốt hơn là on  thật ra tổng thể số lần chạy câu lệnh j trong toàn bộ thuật toán không vượt quá n lần </s> <s> </s> <s> </s> <s> mệnh đề thuật toán trên là on vẫn là một mệnh đề đúng </s> <s> tuy nhiên bằng việc nói rằng thuật toán trên là on ta cung cấp nhiều thông tin hơn về thuật toán đó </s> <s> </s> <s> </s> <s> kết luận </s> <s> </s> <s> chúng ta đã chỉ ra cách viết các cận trên dưới theo độ phức tạp tính toán của thuật toán </s> <s> ta cũng đã chứng minh rằng các cận đó là các thuộc tính cơ bản và thường là hiệu quả để đánh giá các thuật toán </s> <s> </s> <s> trong phần sau chúng ta sẽ phân tích làm thế nào để ước lượng độ phức tạp tính toán của các thuật toán </s> <s> như ta đã thấy trong ví dụ  việc phân tích này có thể trở nên khá khó khăn </s> <s> một nguyên nhân khác làm cho việc phân tích khó khăn là các thuật toán đệ quy </s> <s> các vấn đề này sẽ được xử lý trong phần  của bài viết </s> <s> </s> <s> </s> <s> </s> <s> những cách tiếp cận bài toán phần  </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/planninganapproachtoatopcoderproblempart </s> <s> </s> <s> </s> <s> </s> <s> bài viết bởi leadhyenainran </s> <s> </s> <s> </s> <s> nguồn topcoder </s> <s> </s> <s> table of contents tư duy theo lối mòn pattern mining and wrong mindset coding kata chiến thuật định hướng giải bài approach tactics chia nhỏ vấn đề kế hoạch debug atomic code </s> <s> </s> <s> giải bài là một nghệ thuật nó có thể gây khó khăn cho cả những coder kì cựu nhất cũng như những người mới học </s> <s> để tìm cách giải phù hợp chúng ta phải biết kết hợp nhiều phương pháp khác nhau như cảm nhận bằng trực giác sáng tạo và thậm chí là may mắn </s> <s> cảm giác bất lực trước những bài khó thường làm chúng ta nản chí và có thể bỏ cuộc giữa chừng </s> <s> tuy nhiên không gì là không thể nếu bạn có đủ quyết tâm cũng như kĩ năng cần thiết </s> <s> bởi lí do đó bài hướng dẫn này sẽ đưa ra những kĩ năng để giúp các bạn chọn những hướng tiếp cận rõ ràng cho những bài toán như vậy </s> <s> </s> <s> </s> <s> tư duy theo lối mòn pattern mining and wrong mindset </s> <s> </s> <s> chúng ta rất dễ hướng các suy nghĩ vào việc tìm giải thuật dựa trên từng dạng của đề bài </s> <s> với những người đã làm khá nhiều bài tập họ sẽ nhận ra được dạng của những bài toán khác nhau và khi đọc thấy một bài toán nào đó quen thuộc thì suy nghĩ hiện ra ngay tức khắc trong đầu là “ồ đây là dạng bài x nên sử dụng thuật toán này áp dụng kĩ thuật này” </s> <s> cách này khá hữu ích đối với những người mới học nếu chưa thể giải được thì họ sẽ tập trung vào luyện tập với những dạng đề bài này để khiến nó trở thành một dạng bài quen thuộc </s> <s> </s> <s> </s> <s> tuy nhiên cách tiếp cận này cũng có nhược điểm khá lớn </s> <s> có những lúc ta tưởng rằng mình đang code đúng hướng nhờ vào lối tư duy như vậy nhưng khi test thử thì không khớp một ví dụ nào cả </s> <s> lúc đó đọc kĩ lại đề bài mới nhận ra mình chưa gặp dạng này bao giờ và bế tắc hoàn toàn </s> <s> bạn sẽ trải nghiệm điều này nhiều lần khi giải các bài toán gốc và độc đáo và kể cả những coder lão làng cũng có lúc bị chính kinh nghiệm của mình đánh lừa </s> <s> </s> <s> </s> <s> tư duy lối mòn thường khiến ta ảo tưởng rằng mọi bài toán đều đã được phân loại và ta chỉ cần áp dụng đúng thuật trong khi thực tế điều này bất khả thi </s> <s> khi ta tạm quên hết những lối mòn đó và sử dụng hết khả năng suy nghĩ phân tích trình độ của ta sẽ được cải thiện rất nhiều </s> <s> </s> <s> </s> <s> coding kata </s> <s> </s> <s> đây là thử thách đầu tiên hãy chọn bất cứ bài tập nào trong practice rooms mà bạn chưa làm </s> <s> hốt nó cho dù phải mất bao nhiêu thời gian và hoàn thành nó có thể sử dụng editorial nếu quá bí </s> <s> sau khi làm xong accepted hãy xem bạn mất bao nhiêu thời gian để giải </s> <s> tiếp theo xóa hết code và gõ lại lần nữa check thời gian sau khi làm xong </s> <s> tiếp tục lần thứ  như thế </s> <s> </s> <s> </s> <s> thời gian hoàn thành lần đầu tiên là thời gian để giải bài toán khi bạn không có bất cứ hướng suy nghĩ hay cách tiếp cận nào về bài toán </s> <s> thời gian hoàn thành lần thứ  là thời gian lần đầu tiên trừ đi thời gian bạn dùng để đọc và hiểu đề đừng quá ngạc nhiên với số lỗi bạn lặp lại ở lần này </s> <s> còn thời gian hoàn thành lần cuối là thời gian bạn có thể giải được trong lúc thi thật nếu tìm thấy được cách tiếp cận đúng ngay sau khi đọc đề bài </s> <s> việc giải bài với thời gian của lần cuối cùng hoàn toàn có thể làm được thậm chí không cần khả năng gõ phím nhanh </s> <s> nhưng điều mà bạn cũng nhận ra ở lần giải thứ  là cảm giác bạn đã biết trước chiến thuật nên code thế nào dễ bị bug nhất ở những đoạn nào </s> <s> </s> <s> </s> <s> đó là cảm giác để có được một cách tiếp cận đúng </s> <s> </s> <s> </s> <s> ở nhiều môn võ có một thuật ngữ luyện tập gọi là kata </s> <s> người tập sẽ thi triển những đòn thế được kịch bản sẵn và cố phòng thủ trước các đòn tấn công  cũng đã được kịch bản </s> <s> thoạt nghe thì phương pháp này chả có tác dụng gì vì sẽ chẳng lúc nào đánh nhau được tiện như vậy </s> <s> hơn nữa có vẻ như nó khuyến khích lối tư duy luyện tập theo lối mòn được đề cập ở trên </s> <s> thế nhưng kata sẽ cho người tập cảm giác của việc có một kế hoạch rõ ràng và khuyến khích ý chí </s> <s> tin học cũng như vậy chỉ sau khi code  lần một dạng bài trong một thời gian đủ nhiều ta mới nhuần nhuyễn hết mọi mặt của bài toán  định hướng trình bày code và debug </s> <s> </s> <s> </s> <s> chiến thuật định hướng giải bài approach tactics </s> <s> </s> <s> bây giờ bạn đã biết việc định hướng giải bài nó như thế nào và nó bao gồm những gì bạn sẽ nhận ra rằng trước đây bạn đã biết khá nhiều cách để tiếp cận một bài toán </s> <s> dạng như “tôi dùng quy hoạch động dynamic programming cho bài đó”  “tôi có thể dùng tham lam greedy để giải bài này không”  “đừng nói với tôi rằng duyệt bruteforce có thể ăn bài này” </s> <s> thật ra bạn đang dùng sai những từ ngữ ở đây vì bạn không thể phân loại mỗi bài tập chỉ với tham hay duyệt </s> <s> có rất rất nhiều dạng bài tập và cũng rất nhiều cách tiếp cận và thậm chí với mỗi hướng tiếp cận có thể tồn tại rất nhiều cách thể hiện khác nhau </s> <s> cách dùng từ như vậy chỉ tổng quát được những bước đi lớn để đến được đáp án </s> <s> </s> <s> </s> <s> trong topcoder có nhiều bài có lời giải hoàn chỉnh và chú thích cặn kẽ </s> <s> lần tham gia contest tiếp theo bạn hãy thử tìm một bài viết tốt và nghiên cứu các bước tiếp cận cụ thể của bài toán mà tác giả đã chỉ ra </s> <s> bạn sẽ bắt đầu chú ý rằng có một tính chất nào đó của bài toán sẽ gợi ra cho bạn một cách tiếp cận hay những cách biến đổi chuyển hướng phân tích </s> <s> </s> <s> </s> <s> làm bạn đến gần hơn với đáp án hay ít nhất giúp bạn không nghĩ theo hướng sai </s> <s> khi tìm một cách tiếp cận hãy thử tất cả những hướng đi bạn có như kiểu bạn đã gõ sẵn code hết trong đầu  bạn thuyết phục bản thân rằng hướng đi của bạn là đúng </s> <s> </s> <s> </s> <s> những coder có kiến thức toán cơ bản tốt sẽ có thể biết được hướng suy nghĩ này bởi vì những hướng tiếp cận đó rất giống với kĩ năng chứng minh toán học </s> <s> với những kì thủ họ sẽ thấy nó giống như việc nghĩ trước các nước cờ hay những người thiết kế ứng dụng có thể đã quen với nó trong khi làm việc với các design patterns thuật ngữ trong lập trình ứng dụng chỉ những phương pháp thiết kế hiệu quả đã được nghiên cứu kĩ </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> để luyện tập cách tư duy và tìm ra phương pháp phù hợp với mình ghi chú lại hướng giải của các bài toán là rất quan trọng </s> <s> sau đó hãy viết một bài phân tích dựa trên những gì bạn đã làm càng chi tiết càng tốt để những người khác có thể biết được cách bạn suy nghĩ như thế nào </s> <s> việc viết lại như thế không chỉ giúp bạn hiểu rõ hơn cách tiếp cận của mình mà còn tìm ra được những sai lầm của bản thân và cải thiện nó </s> <s> hãy nhớ rằng rất khó để cải thiện được những điều mà bạn còn chưa hiểu </s> <s> </s> <s> </s> <s> chia nhỏ vấn đề </s> <s> </s> <s> hãy bàn về một trong những cách tiếp cận phổ biến nhất chia nhỏ vấn đề ra còn được gọi là tiếp cận từ trên xuống topdown programming </s> <s> ý tưởng cơ bản ở đây là code của bạn phải được thực hiện theo thứ tự nên hãy bắt đầu bằng việc suy nghĩ xem phần chương trình chính sẽ cần những gì trước khi xây dựng những hàm con </s> <s> điều này cho phép bạn thấy được tổng thể chương trình cũng như chia nhỏ vấn đề từ những thứ phức tạp cho đến đơn giản </s> <s> </s> <s> </s> <s> một ví dụ áp dụng cách tiếp cận này </s> <s> round  matarith topcoder invitational   bài toán yêu cầu bạn phải tính giá trị biểu thức có sử dụng ma trận </s> <s> để có được những con số chúng ta phải xử lý xâu vì input là string tính toán dựa trên đó và trả ngược về string </s> <s> nên bạn cần một hàm print để in kết quả một hàm parse để xử lý xâu và một hàm calc để xử lí toán học </s> <s> không cần suy nghĩ quá phức tạp nếu chúng ta có đủ  hàm đó thì vấn đề sẽ được giải quyết chỉ trong  dòng code </s> <s> </s> <s> public string  calculate  string  a  string  b  string  c  string eval  </s> <s> return print  calc  parse  a  parse  b  parse  c  eval  </s> <s>  </s> <s> </s> <s> cái hay của các tiếp cận này là tạo ra một hệ thống cấp bậc các hàm hàm trên sẽ dựa vào kết quả của hàm dưới để chạy </s> <s> bây giờ công việc đã được chia làm  phần tạo hàm parse  hàm print  và hàm calc </s> <s> nếu bạn chia bài toán thành những bài toán con đủ nhỏ bạn sẽ không phải tốn nhiều thời gian vào việc suy nghĩ cho những bước không đơn giản bởi vì nó sẽ trở nên atomic sẽ được đề cập phía dưới </s> <s> thay vào đó chúng ta có thể tập trung vào hàm cộng và hàm nhân ma trận hay hàm đọc dữ liệu vào sao cho chính xác </s> <s> </s> <s> </s> <s> cách tiếp cận này có thể ứng dụng khá hiệu quả vào những bài toán đệ quy </s> <s> toàn bộ ý tưởng của đệ quy đó là chia vấn đề lớn thành những vấn đề nhỏ hơn nhưng giống chính xác với vấn đề gốc vậy chúng ta chỉ cần giải được một  vấn đề gốc là xong </s> <s> cách tiếp cận này cũng được sử dụng rất phổ biến trong functional programming một lớp các ngôn ngữ lập trình mà chương trình được xây dựng chỉ từ các hàm </s> <s> có khá nhiều bài viết đã bàn sâu về vấn đề này nhưng ý tưởng cơ bản chính là nếu ta chia nhỏ bài toán một cách đúng đắn chương trình sẽ tự động gửi tham số qua mỗi lời gọi hàm không cần thiết lưu trữ dữ liệu giữa các bước </s> <s> nhưng có một nhược điểm là sẽ khó debug hơn </s> <s> </s> <s> </s> <s> kế hoạch debug </s> <s> </s> <s> bất cứ khi nào có một cách tiếp cận chúng ta phải luôn có một kế hoạch debug cho cách tiếp cận đó </s> <s> có rất nhiều khả năng xảy ra làm cho chương trình chúng ta chạy sai bằng cách suy nghĩ trước các hướng chương trình sẽ chạy sai chúng ta có thể ngăn chặn bug trước khi code </s> <s> hơn thế nữa nếu không vượt qua được các test mẫu chúng ta sẽ biết ngay vị trí thích hợp để bắt đầu tìm lỗi </s> <s> cuối cùng bằng cách chú ý đến điểm trọng yếu nhất sẽ dễ dàng hơn để chứng minh cách tiếp cận của bạn là đúng </s> <s> </s> <s> </s> <s> với trường hợp tiếp cận topdown việc chia nhỏ những phần code thành những hàm con giúp chúng ta cô lập những phần code lỗi và chỉ phải sửa lại code ở một nơi </s> <s> cũng như việc test được một tổ hợp các hàm dễ bị bug nhất </s> <s> copy và paste nhiều lúc cũng làm việc sửa lỗi tốn nhiều công sức hơn thay vì viết riêng một hàm con </s> <s> một kinh nghiệm nữa cho cách tiếp cận từ trên xuống là chúng ta nên tìm bugs bên trong hàm trước khi tìm giữa những lời gọi hàm </s> <s> những cách này tạo nên một chiến thuật debug biết được vị trí nào cần test trước tiên chỗ nào bạn nghĩ là sai và cần kiểm tra hay chứng minh những đoạn code chuẩn và bỏ qua chúng </s> <s> nếu luyện tập thường xuyên bạn sẽ thấy rằng những kĩ năng này vô cùng hữu ích </s> <s> </s> <s> </s> <s> atomic code </s> <s> </s> <s> nếu chúng ta đi đến một phần code mà chúng ta không thể chia nhỏ được nữa thì phần đó gọi là atomic code </s> <s> hi vọng các bạn đều biết cách code những phần như vậy vì đó sẽ là những phần bạn sẽ code thường xuyên nhất </s> <s> nhưng đừng lo nếu bạn chưa thuần thục nó những atomic code khó như vậy thường làm cho bài toán trở nên thú vị hơn và thình thoảng thấy trước được điều đó sẽ giúp bạn có một bước tiến lớn trong việc tìm cách tiếp cận đúng đắn hạn chế được việc phung phí thời gian cho những cách tiếp cận sai </s> <s> </s> <s> </s> <s> dạng atomic code bạn viết thường xuyên nhất đó là dạng tối giản nhất nên phần lớn sẽ có lệnh sẵn trong thư viện để hỗ trợ nó </s> <s> việc sử dụng thành thạo thư viện là một lợi thế lớn nó giúp chúng ta viết được atomic code trong sáng và rõ ràng hơn </s> <s> còn cách nào để tiết kiệm thời gian hơn khi bạn biết rằng một phần atomic code khá khó xơi lại là một hàm hay một lớp nào đó trong thư viện sẵn có </s> <s> </s> <s> mình sẽ gọi dạng atomic code thứ hai mà bạn sẽ viết là language techniques một dạng kĩ năng về ngôn ngữ </s> <s> đó là những phần code nhỏ mà bạn thuộc lòng để giải quyết một phép xử lí nào đó như tìm chỉ số của phần tử nhỏ nhất đầu tiên trong mảng hay tách một xâu ra thành những chuỗi con mà không có khoảng trắng </s> <s> những kĩ thuật trên rất cần thiết cho việc tìm cách tiếp cận bài toán bởi vì nếu bạn biết rõ cách hoạt động của những thao tác cơ bản đó sẽ làm cho việc quá trình chia nhỏ nhanh đến atomic hơn nó cũng sẽ hạn chế việc tạo ra bug không đáng có </s> <s> thêm nữa nếu bạn cần phải cài một hàm hơi tương tự như một language technique mà bạn đã biết thì việc đó sẽ trở nên vô cùng dễ dàng dựa trên việc chỉ cần sửa đổi nó chút ít </s> <s> luyện tập với những language technique đó nên là việc làm hàng ngày và bất kì atomic code nào cũng sẽ có thể bay ra khỏi bàn tay và bay vào màn hình ngay khi bạn vừa nghĩ đến nó </s> <s> </s> <s> </s> <s> về việc sử dụng thư viện cá nhân tôi thấy có nhiều người sử dụng thư viện bằng cách chèn những đoạn code thường dùng vào phần đầu của file </s> <s> điều này hoàn toàn hợp lí và hợp pháp </s> <s> những ưu điểm của cách làm này là có thể tạo ra được nhiều phần trước cho những atomic code thường gặp có nhiều lợi ích cho việc tiếp cận topdown cũng như bottomup sẽ đề cập sau </s> <s> tuy nhiên theo ý kiến cá nhân nhược điểm của cách làm này không tương xứng với hiệu quả </s> <s> nó có thể làm chậm code của bạn đi bởi vì bạn phải tìm cách làm cho input của đề bài khớp với đầu vào của thư viện của bạn hoặc thư viện của bạn không được định nghĩa đủ tốt để làm điều đó </s> <s> điều hiển nhiên là những thư viện bạn tự viết có thể bị bugged và việc debug thư viện của bạn lúc đang thi đấu sẽ rất nguy hiểm bởi vì bạn phải sửa lại những bài bạn đã submit trước khi xem thêm bất kì bài nào khác </s> <s> thêm nữa thư viện cá nhân không được sử dụng ở các kì thi onsite ví dụ như thi hsg qg </s> <s> cuối cùng việc sử dụng thư viện cá nhân sẽ làm bạn phải học kỹ năng sử dụng nó chứ không phải kỹ năng của ngôn ngữ khiến việc đọc hiểu được bài giải của người khác khó hơn </s> <s> nếu sử dụng đúng lúc thì nó sẽ là một vũ khí hiệu quả nhưng nó không phải là vũ khí vạn năng trong mọi trường hợp </s> <s> </s> <s> </s> <s> có những lúc bạn sẽ gặp những atomic code mà bạn không thể chia nhỏ vấn đề được nữa </s> <s> đây là lúc bạn phải bắt đầu phân tích cách tiếp cận hiện tại của bạn </s> <s> tôi có nên chia nhỏ vấn đề theo cách khác không có nên lưu trữ dữ liệu bằng cấu trúc khác đây có phải là nhân tố để làm cho bài toán trở nên khó hơn bạn phải xét đến những thứ đó trước khi tìm ra đáp án </s> <s> thậm chí ở thời điểm bạn nhận ra bạn không tìm ra được hướng suy nghĩ tiếp theo thì vẫn luôn có cách để thoát ra khỏi tình huống đó mình sẽ giới thiệu nó ở phần tiếp theo </s> <s> </s> <s> </s> <s> </s> <s> nghệ thuật giải bài </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/howtofindasolution </s> <s> </s> <s> </s> <s> </s> <s> bài viết gốc how to find a solution  đăng bởi dumitru trên topcoder </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> với nhiều bài toán trên topcoder tc lời giải có thể được tìm ra ngay sau một nốt nhạc </s> <s> điều này có được là do những nét tương đồng giữa những bài toán có lời giải giống nhau </s> <s> những nét tương đồng này chính là những gợi ý tuyệt vời cho những coder kinh nghiệm để có thể nhận định được lời giải bài toán </s> <s> mục tiêu chính của bài viết này là hướng dẫn để các bạn cũng có thể nhận định được chúng </s> <s> </s> <s> </s> <s> những bài toán không yêu cầu kĩ năng đặc biệt mô phỏng tìm kiếm sắp xếp </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> hầu hết các trường hợp những bài toán này thường chỉ yêu cầu bạn thực hiện từng bước một với những công việc rất đơn giản </s> <s> giới hạn thì không quá lớn cũng không quá nhỏ </s> <s> và những bài này thường là bài đầu tiên bài dễ nhất trong tc srm </s> <s> chúng thường để kiểm tra xem bạn code nhanh và chính xác như nào và không yêu cầu kiến thức về thuật toán </s> <s> </s> <s> </s> <s> hầu hết các bài toàn sẽ yêu cầu bạn mô phỏng tất cả các bước được nêu ra trong đề </s> <s> </s> <s> </s> <s> </s> <s> businesstasks  srm  div  </s> <s> có n nhiệm vụ được liệt kê dưới dạng  vòng tròn nhiệm vụ đầu tiên kề với nhiệm vụ cuối cùng </s> <s> cho một số n </s> <s> bắt đầu từ nhiệm vụ đầu tiên di chuyển theo chiều kim đồng hồ từ thứ  đến thứ  rồi tiếp tục như vậy và đồng thời đếm từ  đến n </s> <s> vừa di chuyển vừa đếm khi đếm đến n bỏ nhiệm vụ hiện tại ra khỏi danh sách và đếm từ nhiệm vụ tiếp theo </s> <s> lặp lại thủ tục này cho đến khi chỉ còn  nhiệm vụ </s> <s> tìm nhiệm vụ đó </s> <s> </s> <s> </s> <s> </s> <s> với n le  bài này chỉ là vấn đề của code không có thuật toán gì đặc biệt  thực hiện từng bước một cho đến khi chỉ còn lại một nhiệm vụ </s> <s> những loại bài toán này thường có n nhỏ vậy nên không cần phải quan tâm đến trường hợp n lớn </s> <s> cần nhớ rằng trong topcoder thì  triệu phép tính vẫn có thể chạy được </s> <s> </s> <s> </s> <s> có một số bài yêu cầu bạn phải tìm kiếm </s> <s> </s> <s> </s> <s> tallpeople  srm  div  </s> <s> có một nhóm người được xếp thành một ma trận r  c r hàng c cột </s> <s> nhiệm vụ của bạn là trả về  số  số thứ nhất là chiều cao của người cao nhất trong những người thấp nhất ở mỗi hàng số thứ hai là chiều cao của người thấp nhất trong những người cao nhất ở mỗi cột </s> <s> </s> <s> </s> <s> </s> <s> như bạn có thể thấy đây là một bài toán tìm kiếm rất đơn giản </s> <s> bạn chỉ cần theo các bước được mô tả trong đề và tìm ra  giá trị yêu cầu </s> <s> những bài tc khác có thể yêu cầu sắp xếp các bộ theo quy luật nào đó </s> <s> bạn có thể làm với thuật toán sort on hoặc sử dụng các thư viên có sẵn </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> medaltable  srm  div  </s> <s> </s> <s> tìm kiếm theo chiều rộng breadth first search  bfs </s> <s> </s> <s> những bài sử dụng bfs thường yêu cầu tìm số bước ít nhất hoặc đường đi ngắn nhất từ điểm đầu đến điểm cuối </s> <s> bên cạnh đó đường đi giữa  điểm bất kì thường có chung trọng số và thường là  </s> <s> phổ biến nhất là dạng bài cho bảng n  m có những ô đi qua được và những ô không đi qua được </s> <s> bảng này có thể là mê cung sơ đồ các thành phố hoặc các thứ các thứ tương đương </s> <s> có thể nói đây là những bài toàn bfs kinh điển classic </s> <s> bởi vì độ phức tạp của bfs là tuyến tính trong hầu hết các trường hợp n hoặc nlogn giới hạn của n hoặc m có thể lớn lên tới  triệu </s> <s> </s> <s> </s> <s> </s> <s> smartwordtoy  srm  div  </s> <s> cho một từ gồm  chữ cái latin in thường </s> <s> với một lần click bạn có thể đổi bất kì chữ nào thành chữ cái trước hoặc sau nó trong bảng chữ cái ví dụ c có thể thành b hoặc d </s> <s> bảng chữ cái sẽ theo chu kì vòng lặp tức là a có thể thành z và z có thể thành a </s> <s> </s> <s> </s> <s> cho một tập các rằng buộc mỗi rằng buộc sẽ là tập các từ bị cấm </s> <s> một rằng buộc bao gồm  xâu kí tự </s> <s> một từ gọi là bị cấm nếu mỗi chữ cái của nó đều xuất hiện trong chính ràng buộc ở vị trí đó i </s> <s> e </s> <s> chữ đầu tiên ở trong xâu đầu tiên chữ thứ  trong xâu thứ  </s> <s> </s> <s> </s> <s> ví dụ có rằng buộc sau lf a tc e thì các từ sau bị cấm late fate lace và face </s> <s> </s> <s> </s> <s> bạn cần phải tìm số lần bấm nút ít nhất để từ ban đầu biến thành từ đích mà không đi qua từ cấm hoặc trả về  nếu không thể biến được </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> coi các từ là các trạng thái </s> <s> có nhiều nhất  từ khác nhau gồm  chữ cái </s> <s> </s> <s> có nhiều cách để biến một trạng thái về một trạng thái khác </s> <s> </s> <s> chi phí để biến đổi  trạng thái luôn là  với  lần click </s> <s> bạn cần phải tìm số bước nhỏ nhất để đến được trạng thái đích từ trạng thái ban đầu </s> <s> </s> <s> </s> <s> </s> <s> mọi thứ đều chỉ ra rằng bài này cần giải bằng bfs </s> <s> những điều tương tự như trên sẽ thường thấy trong các bài bfs </s> <s> bây giờ chúng ta cùng xem một bfs bài khá thú vị </s> <s> </s> <s> </s> <s> </s> <s> capturethemall  srm  div  rd problem </s> <s> harry đang chơi cờ vua </s> <s> anh có một quân mã còn đối thủ là joe có  quân hậu và  quân xe </s> <s> hãy tìm số bước nhỏ nhất quân mã phải đi để ăn được cả hậu và xe </s> <s> </s> <s> </s> <s> </s> <s> hints mới đầu có vẻ như bài này là  bài quy hoạch động hoặc backtrack </s> <s> nhưng nếu để ý kĩ đề bài ta sẽ có những nhận xét sau </s> <s> </s> <s> </s> <s> đề cho  bảng </s> <s> </s> <s> quân mã có thể đi từ  ô tới các ô mà nó có thể đi được </s> <s> </s> <s> chi phí ở mỗi bước đi là  </s> <s> </s> <s> bạn cần tìm số bước đi nhỏ nhất </s> <s> </s> <s> </s> <s> </s> <s> với những thông tin trên ta có thể dễ dàng giải được bằng bfs </s> <s> đừng bối rối nếu những điểm liên thông là những ô không kề nhau </s> <s> hãy nghĩ mỗi ô là một điểm trên đồ thị hay một trạng thái hay bất cứ cái gì bạn muốn </s> <s> </s> <s> </s> <s> chú ý rằng phần lớn những gợi ý về thuật giải bfs là chi phí bằng  cho mỗi bước </s> <s> </s> <s> </s> <s> bạn có thể luyện tập thêm về bfs bằng những ví dụ sau </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> revolvingdoors  srm  div  </s> <s> </s> <s> walkinghome  srm  div  </s> <s> </s> <s> turntableservice  srm  div  </s> <s> </s> <s> loang flood fill </s> <s> </s> <s> thỉnh thoảng bạn sẽ gặp phải bài toán cần tới loang một kĩ thuật sử dụng bfs để tìm tất cả các điểm có thể đi tới </s> <s> điểm khác biệt giữa loang so với những bài bfs ở trên là bạn không phải tìm chi phí nhỏ nhất </s> <s> </s> <s> </s> <s> ví dụ có một mê cung ô  là không đi được và  là đi được </s> <s> ban cần phải tìm tất cả các ô mà có thể đi đến từ ô góc trái trên </s> <s> bài này chỉ cần lấy ra một đỉnh đã thăm nhét tất cả các đỉnh chưa thăm mà kề với đỉnh hiện tại vào queue rồi tiếp tục làm như vậy cho đến khi queue rỗng </s> <s> lưu ý rằng nếu số đỉnh lớn cài đặt bằng dfs depth first search sẽ có thể bị tràn stack do đệ quy quá sâu và compile code không tăng kích thước stack xem thêm giải thích ở đây  </s> <s> tốt hơn hết là nên dùng bfs </s> <s> đây là một bài ví dụ </s> <s> </s> <s> </s> <s> grafixmask  srm  div  </s> <s> cho một bitmap    </s> <s> có một tập hình chữ nhật bao phủ bitmap này các góc của chúng có tọa độ nguyên </s> <s> bạn cần phải tìm ra tất cả các vùng liên tiếp không bị phủ và kích thước của chúng </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> có một map bảng </s> <s> </s> <s> một số điểm không đi qua được </s> <s> </s> <s> cần tìm ra những vùng liên thông </s> <s> </s> <s> </s> <s> </s> <s> những dấu hiệu trên cho thấy bài này cần phải sử dụng loang </s> <s> </s> <s> duyệt trâu và quay lui brute force and backtracking </s> <s> </s> <s> hai kĩ thuật này được gộp chung vào một loại vì chúng khá giống nhau </s> <s> quay lui là kĩ thuật nâng cao và tối ưu hơn so với duyệt trâu </s> <s> nó thường sử dụng đệ quy và áp dụng cho những bài có giới hạn nhỏ n le  </s> <s> </s> <s> duyệt trâu brute force </s> <s> </s> <s> đối với những bài duyệt trâu thì giới hạn thường bé </s> <s> duyệt trâu bản chất đúng như cái tên của nó là duyệt hết tất cả các trường hợp và chọn ra cái tốt nhất </s> <s> nó rất dễ xây dựng và cài đặt </s> <s> </s> <s> </s> <s> </s> <s> generalchess  srm  div  </s> <s> cho một số quân mã nhiều nhất là  cùng với vị trí của chúng  le x y le  </s> <s> bạn cần phải tìm các vị trí để đặt thêm một quân mã mà nó có thể ăn được tất cả các quân đã cho </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> đề yêu cầu tìm các trường hợp thỏa mã  quy luật nhất định ở đây là ăn tất cả các quân đã cho </s> <s> </s> <s> giới hạn bé  chỉ có  quân mã </s> <s> </s> <s> </s> <s> </s> <s> giới hạn x y trong bài trên không quan trọng bạn chỉ cần thử các vị trí có thể ăn một quân mã và đối với từng vị trí thì xét xem nó có ăn được các quân còn lại không </s> <s> </s> <s> </s> <s> một ví dụ khác </s> <s> </s> <s> </s> <s> largestcircle  srm  div  rd problem </s> <s> cho một lưới vuông với một số ô đã bị đánh dấu </s> <s> tìm đường tròn lớn nhất không đi qua các ô đã bị đánh dấu và có tâm nằm trên điểm giao của lưới ô vuông bán kính là số nguyên </s> <s> trả lại bán kính của đường tròn </s> <s> </s> <s> </s> <s> kích thước lớn nhất của lưới là  </s> <s> </s> <s> </s> <s> hints tại mỗi điểm giao bạn thử từng bán kính một sao cho thỏa mãn đề bài </s> <s> rồi chọn ra bán kính lớn nhất trong số chúng </s> <s> </s> <s> phân tích độ phức tạp có nhiều nhất là    ô bán kính là một số nguyên với max là  và bạn cần kiểm tra các điểm trên thuộc đường tròn trong một thời gian tuyến tính </s> <s> tổng độ phức tạp sẽ rất bé và bạn có thể yên tâm duyệt trâu </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> cafeteria – srm  div  </s> <s> </s> <s> wordfind – srm  div  </s> <s> </s> <s> quay lui backtracking </s> <s> </s> <s> kĩ thuật này thường được sử dụng với những bài có giới hạn nhỏ </s> <s> các dạng quay lui mà bạn có thể gặp phải là tìm </s> <s> </s> <s> </s> <s> tất cả các cấu hình hoặc một tập các cấu hình thỏa mãn một yêu cầu </s> <s> </s> <s> cấu hình tốt nhất theo một một tiêu chí nào đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bridgecrossing – srm  div  rd problem </s> <s> có một nhóm người cần sang cầu </s> <s> tuy nhiên do cầu quá cũ nên một lần chỉ được tối đa  người qua cầu </s> <s> trời thì tối chỉ có một cái đèn pin </s> <s> hai người cùng đi qua cầu thì thời gian của hai người sẽ là thời gian của người chậm hơn </s> <s> do không thể ném đèn pin từ bên này sang bên kia nên một người sẽ phải quay lại rồi đi với một người khác </s> <s> hỏi thời gian ít nhất để tất cả cùng qua cầu </s> <s> </s> <s> </s> <s> có nhiều nhất là  người </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> giới hạn chỉ có nhiều nhất  người </s> <s> quá đủ để có thể sinh ra tất cả các hoán vị </s> <s> </s> <s> bạn cần tìm ra cách tốt nhất trong số các cách đưa mọi người sang cầu </s> <s> </s> <s> </s> <s> </s> <s> ta sẽ bắt đầu bằng việc đưa  người bất kì qua cầu rồi tiếp tục đưa những người còn lại sang </s> <s> người quay lại sẽ là người nhanh nhất </s> <s> so sánh và tìm ra phương án tốn ít thời gian nhất </s> <s> mặc dù còn có một thuật giải khác cho bài này nhưng với giới hạn bé như vậy thì chúng ta không cần thiết phải quan tâm </s> <s> </s> <s> </s> <s> </s> <s> mns – srm  div  </s> <s> cho  số nguyên trong khoảng từ  đến  </s> <s> một ô vuông thần kì là ô vuông mà các số được sắp xếp sao cho tổng mỗi hàng và mỗi cột đều bằng nhau </s> <s> tính số cách khác nhau để sắp xêp dãy số đã cho thành một ô vuông thần kì </s> <s> hai cách sắp xếp khác nhau nếu chúng khác nhau ở ít nhất  vị trí </s> <s> </s> <s> </s> <s> </s> <s> hints do chỉ có  số nên hoàn toàn có thể sinh ra hết các cách sắp xếp của chúng </s> <s> liệt kê các hoán vị của  số đồng thời lưu lại một danh sách các cách sắp xếp khác nhau đã có để kiểm tra </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> weirdrooks – srm  div  </s> <s> </s> <s> quy hoạch động dynamic programming </s> <s> </s> <s> để giải quyết cũng như nhìn ra dạng bài này thì chủ yếu dựa vào kinh nghiệm </s> <s> thường thì giới hạn trong các bài qhđ không lớn cũng không nhỏ độ phức tạp thường là n  n  </s> <s> </s> <s> </s> <s> nếu như giới hạn quá nhỏ với tc thì thường n le  thì thường không phải là dp </s> <s> trong qhđ thì các bài toán lớn sẽ được chia thành các bài toán nhỏ hơn và tính dựa vào chúng </s> <s> để hiểu hơn về qhđ bạn có thể tham khảo bài này </s> <s> </s> <s> </s> <s> </s> <s> thử phân tích một ví dụ đơn giản </s> <s> cho n đồng xu với giá trị của chúngv v </s> <s> </s> <s> </s> <s>  vn và một số s </s> <s> tìm số đồng xu nhỏ nhất mà tổng giá trị của chúng bằng s bạn có thể dùng một đồng nhiều lần hoặc thông báo không có cách nào như vậy </s> <s> </s> <s> n le  và s le  </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> giới hạn của n và s đều ở mức vừa phải </s> <s> </s> <s> một trạng thái định nghĩa là số đồng xu nhỏ nhất để tổng bằng  giá trị </s> <s> </s> <s> tổng i phụ thuộc vào các tổng bé hơn j j lt i </s> <s> </s> <s> bằng cách thêm một đồng xu ta di chuyển từ trạng thái này sang trạng thái khác </s> <s> </s> <s> </s> <s> </s> <s> tất cả những tính chất trên cho thấy đây là một bài qhđ </s> <s> </s> <s> </s> <s> </s> <s> zigzag –  tccc semifinals  </s> <s> một dãy số được gọi là zigzag nếu các hiệu giữa những liền nhau là một dãy đan dấu luân phiên âm dương âm dương </s> <s> </s> <s> </s> <s>  </s> <s> dãy có ít hơn  số là  dãy zigzag </s> <s> cho một dãy số tìm dãy con zigzag dài nhất </s> <s> một dãy con thu được bằng cách xóa bỏ một số số trong dãy ban đầu hoặc không xóa </s> <s> giới hạn n le  </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> giới hạn của n không lớn không nhỏ </s> <s> </s> <s> fi d là độ dài dãy con zigzag dài nhất kết thúc tại i còn d   nếu số trước i bé hơn nó và d   nếu ngược lại </s> <s> </s> <s> fi d được tính bởi fj e j lt i </s> <s> </s> <s> nếu thêm một số vào trong dãy hiện tại thì ta được một dãy dài hơn </s> <s> </s> <s> </s> <s> </s> <s> như vậy bài này cũng có những dâu hiệu giống với bài trên và những bài qhđ khác </s> <s> phần khó nhất là xác định được bài đưa ra là qhđ bằng những dấu hiệu trên </s> <s> sau đó bước tiếp theo chỉ là xây dựng thuật toán và cài đặt </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> chessmetric –  tccc round  </s> <s> </s> <s> avoidroads –  tco semifinals  </s> <s> </s> <s> flowergarden –  tccc round  </s> <s> </s> <s> badneighbors –  tccc round  </s> <s> </s> <s> nâng cao hard drills </s> <s> </s> <s> luồng cực đại maximum flow </s> <s> </s> <s> cũng không dễ để có thể xác định được một bài toán sử dụng luồng </s> <s> tuy nhiên một số dấu hiệu sau có thể giúp bạn </s> <s> </s> <s> </s> <s> để ý vào giới hạn những bài này thường có giới hạn phù hợp với on hoặc on </s> <s> đồ thị với các cạnh có trọng số cho trực tiếp hoặc gián tiếp </s> <s> </s> <s> cần tìm giá trị lớn nhất của cái gì đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ví dụ </s> <s> cho một danh sách các ống nước mỗi ống chỉ cho một lượng nước nhất định được đi qua </s> <s> các ông được nối với nhau </s> <s> </s> <s> </s> <s> tìm lượng nước lớn nhất có thể chảy được từ điểm đầu đến điểm cuối trong một đơn vị thời gian </s> <s> </s> <s> </s> <s> n le  </s> <s> </s> <s> </s> <s> dễ dàng thấy được lượng nước ở mỗi ống là trọng số các cạnh khớp nối các ống là các đỉnh trong đồ thị </s> <s> bạn phải tìm lượng nước lớn nhất chảy từ đỉnh bắt đầu đến đỉnh kết thúc </s> <s> </s> <s> </s> <s> cặp ghép optimal pair matching </s> <s> </s> <s> dạng bài này thường cho  tập và các quy tắc bạn phải sử dụng các quy tắc này để ghép càng nhiều càng tốt các phần tử ở tập a với các phần tử ở tập b </s> <s> </s> <s> </s> <s> </s> <s> parking – srm  div  </s> <s> cho n cái xe và m chỗ đỗ xe trên một cái bảng hình chữ nhật trong đó có một số ô không đi qua được </s> <s> bạn cần tìm một cách để đưa tất cả các xe vào điểm đỗ xe sao cho số lớn nhất trong các khoảng cách từ một xe đến chỗ đỗ của nó là nhỏ nhất có thể </s> <s> một điểm đỗ xe chỉ cho phép một xe đỗ </s> <s> </s> <s> </s> <s> </s> <s> hints nhận xét bài này ta thấy có  tập xe và điểm đỗ xe chúng ta cần thực hiện ghép mỗi xe với một điểm đỗ tương ứng </s> <s> tồn tại một cạnh giữa  xe và  điểm đỗ nếu có đường đi giữa chúng và trọng số của cạnh này là đường đi ngắn nhất giữa  điểm này </s> <s> bước tiếp theo là chia nhị phân khoảng cách dài nhất ở mỗi bước xóa đi các cạnh có độ dài lớn hơn c nếu vẫn có thể ghép tất cả các xe vào điểm đỗ thì chọn một giá trị c nhỏ hơn ngược lại thì chọn một giá trị c lớn hơn </s> <s> khi đã chia nhị phân xong giá trị c nhỏ nhất sẽ là kết quả cần tìm </s> <s> </s> <s> </s> <s> quy hoạch tuyến tính linear programming amp thuật toán simplex </s> <s> </s> <s> dấu hiệu nhận biết </s> <s> </s> <s> </s> <s> cho một tập các vật với khối lượng hoặc số lượng cần đạt được của mỗi vật </s> <s> </s> <s> cho một danh sách các tập hợp </s> <s> mỗi tập bao gồm một số vật với một số lượng nhất định </s> <s> mỗi tập có một chi phí </s> <s> </s> <s> mục đích của bài toán là tìm một tập tối ưu từ các tập trên sao cho tổng số lượng của mỗi vật bằng số lượng cần đạt được </s> <s> </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> mixture – srm  div  </s> <s> bạn đang muốn làm ra một hỗn hợp từ các hợp chất khác nhau mỗi hợp chất cần phải đúng liều lượng </s> <s> bởi vì các hợp chất đôi khi không được bán riêng mà bạn phải mua các hỗn hợp có sẵn mà chứa chúng </s> <s> mỗi hỗn hợp lại có một lượng nhất định của mỗi hợp chất cấu thành </s> <s> bạn không cần phải mua toàn bộ hỗn hợp mà có thể mua những hợp chất bạn cần với liều lượng tùy chọn </s> <s> nhiệm vụ của bạn là tìm ra cách tiêu ít tiền nhất đề có thể tạo ra được hỗn hợp mong muốn </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> một tập các vật hợp chất </s> <s> </s> <s> một danh sách các tập các hỗn hợp có sẵn </s> <s> </s> <s> tìm chi phí nhỏ nhất để tạo ra tập mong muốn từ các tập có sẵn </s> <s> </s> <s> </s> <s> </s> <s> những tính chất trên giống hệt với dấu hiệu nhận biết của dạng linear programming </s> <s> </s> <s> </s> <s> đây là  kĩ thuật nâng cao bạn có thể tham khảo thêm ở </s> <s> </s> <s> </s> <s> wikipedia  linear programming </s> <s> simplex algorithm </s> <s> </s> <s> </s> <s> kết luận </s> <s> </s> <s> để có thể tìm ra được lời giải cho một bài toán bạn cần phải làm nhiều bài tập để luyện khả năng nhận định bài toán cũng như tăng thêm kinh nghiệm </s> <s> ngoài ra còn rất nhiều dạng bài khác mà trong phạm vi bài viết này không thể bao phủ hết được </s> <s> </s> <s> </s> <s> </s> <s> hash a string matching algorithm </s> <s> http//vnoi </s> <s> info/wiki/algo/string/hash </s> <s> </s> <s> </s> <s> </s> <s> tác giả  lê khắc minh tuệ </s> <s> </s> <s> chỉnh sửa  nguyễn rr thành trung phạm văn hạnh </s> <s> </s> <s> table of contents giới thiệu hoàn cảnh phát biểu bài toán thuật toán mục đích bài viết thuật toán hash ký hiệu mô tả thuật toán mã chương trình đánh giá chi tiết cài đặt  </s> <s> chọn số nguyên tố cho hệ cơ số và modulo  </s> <s> chọn hệ cơ số  </s> <s> chọn modulo  </s> <s> hash tràn số và hash có mod  </s> <s> một số lời khuyên nho nhỏ ứng dụng longest palindrome substring kth alphabetical cyclic longest substring and appear at least k times đánh giá độ chính xác trường hợp  trường hợp  tổng kết thuật toán cài đặt ưu điểm nhược điểm bài tập áp dụng các nguồn tham khảo </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> hoàn cảnh </s> <s> </s> <s> một lớp những bài toán rất được quan tâm trong khoa học máy tính nói chung và lập trình thi cử nói riêng đó là xử lý xâu chuỗi </s> <s> trong lớp bài toán này người ta thường rất hay phải đối mặt với một bài toán tìm kiếm xâu chuỗi </s> <s> </s> <s> </s> <s> phát biểu bài toán </s> <s> </s> <s> </s> <s> cho một đoạn văn bản gồm m ký tự </s> <s> </s> <s> cho một đoạn mẫu gồm n ký tự </s> <s> </s> <s> máy tính cần trả lời câu hỏi đoạn mẫu xuất hiện bao nhiêu lần trong đoạn văn bản và chỉ ra các vị trí xuất hiện đó </s> <s> </s> <s> </s> <s> </s> <s> thuật toán </s> <s> </s> <s> có rất nhiều thuật toán có thể giải quyết bài toán này </s> <s> người viết xin tóm tắt  thuật toán phổ biến được dùng trong các kì thi lập trình </s> <s> </s> <s> </s> <s> </s> <s> bruteforce  với một cách tiếp cận trực tiếp chúng ta có thể thu được thuật toán để giải </s> <s> tuy nhiên độ phực tạp của nó là rất lớn trong trường hợp xấu nhất </s> <s> thuật toán bruteforce so khớp tất cả các vị trí xuất hiện của đoạn mẫu trong đoạn văn bản </s> <s> cụ thể độ phức tạp cho thuật toán này là omn </s> <s> </s> <s> knuthmorrispratt  hay còn được viết tắt là kmp được phát minh vào năm  bởi donald knuth vaughan pratt và james h </s> <s> morris </s> <s> thuật toán này sử dụng một correctionarray là một thuật toán rất hiệu quả có độ phức tạp là om  n </s> <s> </s> <s> </s> <s> </s> <s> mục đích bài viết </s> <s> </s> <s> trong bài viết này người viết chỉ tập trung vào thuật toán hash tên chuẩn của thuật toán này là rabin–karp hoặc rolling hash  tuy nhiên ở việt nam thường được gọi là hash </s> <s> theo như bản thân người viết đánh giá đây là thuật toán rất hiệu quả đặc biệt là trong thi cử </s> <s> nó hiệu quả bởi  yếu tố tốc độ thực thi linh động trong việc sử dụng ứng dụng hiệu quả và sự đơn giản trong cài đặt </s> <s> </s> <s> </s> <s> đầu tiên người viết xin được trình bày về thuật toán này </s> <s> sau đó người viết sẽ trình bày một vài ứng dụng cách sử dụng và phát triển thuật toán hash trong các bài toán tin học </s> <s> </s> <s> </s> <s> thuật toán hash </s> <s> </s> <s> ký hiệu </s> <s> </s> <s> </s> <s> tập hợp các chữ cái được sử dụng sigma </s> <s> đoạn con từ i đến j của một xâu s si </s> <s> </s> <s> j </s> <s> đoạn văn bản t </s> <s> </s> <s> m </s> <s> đoạn mẫu p </s> <s> </s> <s> n </s> <s> </s> <s> </s> <s> chúng ta cần tìm ra tất cả các vị trí i  le i le m − n   thỏa mãn ti </s> <s> </s> <s> in−  p </s> <s> </s> <s> </s> <s> mô tả thuật toán </s> <s> </s> <s> để đơn giản giả sử rằng sigma  a b </s> <s> </s> <s> </s> <s>  z nói cách khác sigma chỉ gồm các chữ cái in thường </s> <s> để biểu diễn một xâu thay vì dùng chữ cái chúng ta sẽ chuyển sang biểu diễn dạng số </s> <s> ví dụ xâu aczd được viết dưới dạng số là một dãy gồm  số  </s> <s> như vậy một xâu được biểu diễn dưới dạng một số ở hệ cơ số base với base gt  </s> <s> từ đây suy ra  xâu bằng nhau khi và chỉ khi biểu diễn của  xâu ở hệ cơ số  giống nhau </s> <s> </s> <s> </s> <s> lưu ý  </s> <s> </s> <s> </s> <s> ở đây mình đổi chữ a thành số  chứ không phải số  </s> <s> đây là chi tiết vô cùng quan trọng để tránh  xâu abc và bc bằng nhau khi đổi ra số </s> <s> bạn có thể đọc thêm chi tiết ở phần chi tiết cài đặt </s> <s> </s> <s> thông thường ta chọn base là một số nguyên tố </s> <s> mình sẽ giải thích thêm trong phần chi tiết cài đặt </s> <s> </s> <s> </s> <s> </s> <s> đây chính là tư tưởng của thuật toán đổi  xâu từ hệ cơ số base ra hệ cơ số  rồi đem so sánh ở hệ cơ số  </s> <s> tuy nhiên chúng ta nhận thấy rằng khi đổi  xâu ra biểu diễn ở hệ cơ số  biểu diễn này có thể rất lớn và nằm ngoài phạm vi lưu trữ số nguyên của máy tính </s> <s> </s> <s> </s> <s> để khắc phục điều này chúng ta chuyển sang so sánh  biểu diễn của  xâu ở hệ cơ số  sau khi lấy phần dư cho một số nguyên đủ lớn </s> <s> cụ thể hơn nếu biểu diễn trong hệ thập phân của xâu a là x và biểu diễn trong hệ thập phân của xâu b là y chúng ta sẽ coi a bằng b ‘khi và chỉ khi’ x bmod mod  y bmod mod trong đó mod là một số nguyên đủ lớn </s> <s> </s> <s> </s> <s> lưu ý  lý do chọn mod là số nguyên tố được giải thích thêm trong phần chi tiết cài đặt </s> <s> </s> <s> </s> <s> dễ dàng nhận thấy việc so sánh x bmod mod với y bmod mod rồi kết luận a có bằng với b hay không là sai </s> <s> x bmod mod  y bmod mod chỉ là điều kiện cần để a bằng b chứ chưa phải điều kiện đủ </s> <s> tuy nhiên chúng ta sẽ chấp nhận lập luận sai này trong thuật toán hash </s> <s> và coi điều kiện cần như điều kiện đủ </s> <s> trên thực tế lập luận sai này có thể dẫn đến kết quả sai nếu bạn không hiểu rõ mình đang làm gì </s> <s> để hiểu rõ về tỉ lệ sai của thuật toán hash các bạn đọc thêm phần đánh giá độ chính xác </s> <s> phần chi tiết cài đặt cũng nói thêm về cách tránh bị sai số khi cài đặt hash </s> <s> </s> <s> </s> <s> để đơn giản trong việc trình bày tiếp thuật toán chúng ta sẽ gọi biểu diễn của một xâu trong hệ thập phân sau khi lấy phần dư cho mod là mã hash của xâu đó </s> <s> nhắc lại  xâu bằng nhau ‘khi và chỉ khi’ mã hash của  xâu bằng nhau </s> <s> </s> <s> </s> <s> trở lại bài toán ban đầu chúng ta cần chỉ ra p xuất hiện ở những vị trí nào trong t </s> <s> để làm được việc này chúng ta chỉ cần duyệt qua mọi vị trí xuất phát có thể của p trong t </s> <s> giả sử vị trí đó là i chúng ta sẽ kiểm tra ti </s> <s> </s> <s> in− có bằng với p hay không </s> <s> để kiểm tra điều này chúng ta cần tính được mã hash của đoạn ti </s> <s> </s> <s> in− và mã hash của xâu p </s> <s> </s> <s> </s> <s> để tính mã hash của xâu p chúng ta chỉ cần làm đơn giản như sau </s> <s> </s> <s> const base   </s> <s> hashp   </s> <s> for i   </s> <s> </s> <s> n </s> <s> hashp  hashp  base  pi  a   mod mod </s> <s> </s> <s> phần khó hơn của thuật toán hash là tính mã hash của một đoạn con ti </s> <s> </s> <s> j của xâu t  le i le j le n </s> <s> </s> <s> </s> <s> </s> <s> để hình dung cho đơn giản xét ví dụ sau xét xâu s và biểu diễn của nó dưới cơ số base  </s> <s> chúng ta cần lấy mã hash của đoạn con từ phần tử thứ  đến phần tử thứ  nghĩa là cần lấy mã hash của xâu  </s> <s> nhận thấy để lấy được xâu s </s> <s> </s> <s>  chỉ cần lấy số s </s> <s> </s> <s>  là  trừ cho số s </s> <s> </s> <s>  nhân với base là  ta sẽ thu được  </s> <s> </s> <s> để cài đặt ý tưởng này chúng ta cần khởi tạo basex bmod mod với  le x le m và mã hash của tất cả những tiền tố của s cụ thể là mã hash của những xâu s </s> <s> </s> <s> i với  le i le m </s> <s> </s> <s> </s> <s> </s> <s> pow   </s> <s> for i   </s> <s> </s> <s> m </s> <s> powi  powi  base mod mod </s> <s> </s> <s> </s> <s> hasht   </s> <s> for i   </s> <s> </s> <s> m </s> <s> hashti  hashti  base  ti  a mod mod </s> <s> </s> <s> </s> <s> trong đoạn code trên chúng ta thu được mảng powi lưu lại basei bmod mod và mảng hashti lưu lại mã hash của t </s> <s> </s> <s> i </s> <s> </s> <s> </s> <s> </s> <s> để lấy mã hash của ti </s> <s> </s> <s> j ta viết hàm sau </s> <s> </s> <s> </s> <s> function gethashti j </s> <s> return hashtj  hashti    powj  i    mod  mod mod mod </s> <s> </s> <s> </s> <s> bài toán chính đã được giải quyết và đây là chương trình chính </s> <s> </s> <s> for i   </s> <s> </s> <s> m  n  </s> <s> if hashp  gethashti i  n   </s> <s> printmatch position  i </s> <s> </s> <s> mã chương trình </s> <s> </s> <s> chương trình sau tôi viết bằng ngôn ngữ c là lời giải cho bài substr  </s> <s> </s> <s> typedef long long ll  </s> <s> </s> <s> const int base    </s> <s> const ll mod    </s> <s> const ll maxn    </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> ll pow  maxn  hasht  maxn  </s> <s> </s> <s> </s> <s> ll gethasht  int i  int j   </s> <s> return  hasht  j   hasht  i     pow  j  i     mod  mod   mod  </s> <s>  </s> <s> </s> <s> </s> <s> int main   </s> <s> // input </s> <s> string t  p  </s> <s> cin gtgt t gtgt p  </s> <s> </s> <s> // initialize </s> <s> int lent  t </s> <s> size  lenp  p </s> <s> size  </s> <s> t     t  </s> <s> p     p  </s> <s> pow       </s> <s> </s> <s> // precalculate basei </s> <s> for  int i    i lt lent  i   </s> <s> pow  i    pow  i     base   mod  </s> <s> </s> <s> // calculate hash value of t </s> <s> </s> <s> i </s> <s> for  int i    i lt lent  i   </s> <s> hasht  i    hasht  i     base  t  i   a     mod  </s> <s> </s> <s> // calculate hash value of p </s> <s> ll hashp    </s> <s> for  int i    i lt lenp  i   </s> <s> hashp   hashp  base  p  i   a     mod  </s> <s> </s> <s> // finding substrings of t equal to string p </s> <s> for  int i    i lt lent  lenp    i   </s> <s> if  hashp  gethasht  i  i  lenp    </s> <s> printf  d   i  </s> <s>  </s> <s> </s> <s> đánh giá </s> <s> </s> <s> độ phức tạp của thuật toán là om  n </s> <s> nhưng điều quan trọng là chúng ta có thể kiểm tra  xâu có giống nhau hay không trong o </s> <s> đây là điều tạo nên sự linh động cho thuật toán hash </s> <s> ngoài sự linh động và tốc độ thực thi chúng ta có thể thấy cài đặt thuật toán này thực sự rất đơn giản nếu so với các thuật toán xử lý xâu khác </s> <s> </s> <s> </s> <s> chi tiết cài đặt </s> <s> </s> <s> trong thuật toán hash có hai yếu tố cần quan tâm là hệ cơ số base và modulo mod </s> <s> </s> <s> </s> <s>  </s> <s> chọn số nguyên tố cho hệ cơ số và modulo </s> <s> </s> <s> ý tưởng của thuật toán hash là dựa trên một ngộ nhận sai lầm nhưng xảy ra sai sót với xác suất vô cùng nhỏ a bmod m  b bmod m ltgt a  b </s> <s> để xác suất xảy ra sai là /m cho một truy vấn các bạn cần chọn hệ cơ số và modulo thỏa mãn đồng thời </s> <s> </s> <s> </s> <s> base là số nguyên tố lớn hơn các chữ cái của xâu s </s> <s> </s> <s> mod là số nguyên tố </s> <s> </s> <s> </s> <s> </s> <s> phần chứng minh sai số bạn có thể đọc thêm trong blog rng  tuy nhiên phần chứng minh rất phức tạp nên mình sẽ không trình bày ở đây </s> <s> </s> <s> </s> <s>  </s> <s> chọn hệ cơ số </s> <s> </s> <s> mình khuyến khích các bạn chọn hệ cơ số gt  mình thường chọn là số nguyên tố  </s> <s> nếu bạn chọn hệ cơ số là  bạn chỉ làm việc với xâu gồm toàn các kí tự in thường và phải mã hóa các kí tự từ a đến z thành các số từ  đến  </s> <s> điều này khiến code của bạn bị dài </s> <s> nếu bài toán cho xâu có các kí tự a </s> <s> </s> <s> </s> <s> z a </s> <s> </s> <s> z và  </s> <s> </s> <s> </s> <s>  việc bạn mã hóa chúng thành các số từ  đến  là phức tạp và không cần thiết </s> <s> </s> <s> </s> <s> chưa kể nếu bạn quên mất không  và mã hoá a thành  là hành động tự treo cổ vì rất dễ bị hack </s> <s> </s> <s> </s> <s> nếu bạn chọn hệ cơ số gt  bạn chỉ cần dùng mã ascii của các kí tự là xong và lại tránh bị hack </s> <s> </s> <s> </s> <s>  </s> <s> chọn modulo </s> <s> </s> <s> nếu bạn không hiểu rõ về cách đánh giá độ chính xác của thuật hash trình bày ở mục đánh giá độ chính xác  bạn chỉ cần chọn  số nguyên tố khác nhau làm mod </s> <s> bạn có thể tham khảo code của phạm văn hạnh </s> <s> tuy nhiên các bạn cũng nên lưu ý là dùng nhiều mod quá cũng làm chương trình chạy chậm đi </s> <s> </s> <s> </s> <s>  </s> <s> hash tràn số và hash có mod </s> <s> </s> <s> trên thực tế khi cài đặt hash sử dụng nhiều phép mod sẽ làm chương trình chạy chậm </s> <s> vì vậy để tăng tốc độ người ta thường cài đặt với mod   </s> <s> do đó nếu sử dụng kiểu dữ liệu số bit ta không cần dùng phép mod mà cứ để các phép tính tràn số </s> <s> kĩ thuật này được gọi là hash tràn số </s> <s> tuy nhiên khi cài đặt như vậy có một vài chú ý </s> <s> </s> <s> </s> <s> việc sử dụng mod không phải là số nguyên tố và hơn nữa lại là  số cố định khiến cho hàm hash không đủ tốt </s> <s> nếu test được sinh ngẫu nhiên thì nó không có vấn đề gì cả </s> <s> nhưng ở trên codeforces vì những người thi cùng có thể hack code của bạn bằng test tự sinh nên bạn hầu như không thể ac các bài hash với hash tràn số </s> <s> bạn có thể đọc thêm về cách sinh test giết hash tràn số ở đây </s> <s> cách giải quyết là dùng hash tràn số kết hợp với một mod khác </s> <s> </s> <s> nếu dùng pascal cần tắt báo tràn số  q  nếu không chương trình sẽ chạy bị lỗi </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> một số lời khuyên nho nhỏ </s> <s> </s> <s> chỉ so sánh mã hash của hai xâu có cùng độ dài </s> <s> hiển nhiên hai xâu kí tự không cùng độ dài thì không bằng nhau </s> <s> điều này có thể giảm xác suất rủi ro khi hash một modulo đáng kể </s> <s> </s> <s> </s> <s> ứng dụng </s> <s> </s> <s> như đã đề cập ở trên thuật toán này sẽ có trường hợp chạy sai </s> <s> tất nhiên bên cạnh việc sử dụng hash còn có nhiều thuật toán xử lý xâu chuỗi khác mang lại sự chính xác tuyệt đối </s> <s> tôi tạm gọi những thuật toán đó là ‘thuật toán chuẩn’ </s> <s> việc cài đặt ‘thuật toán chuẩn’ có thể mang lại một tốc độ chạy chương trình cao hơn độ chính xác của chương trình lớn hơn </s> <s> tuy nhiên người làm bài sẽ phải trả giá là sự phức tạp khi cài đặt các ‘thuật toán chuẩn’ đó </s> <s> </s> <s> </s> <s> sử dụng hash không chỉ giúp người làm bài dễ dàng cài đặt hơn mà quan trọng ở chỗ hash có thể làm được những việc mà ‘thuật toán chuẩn’ không làm được </s> <s> sau đây tôi sẽ xét một vài ví dụ để chứng minh điều này </s> <s> </s> <s> </s> <s> longest palindrome substring </s> <s> </s> <s> bài toán đặt ra như sau bạn được cho một xâu s độ dài n n le  </s> <s> bạn cần tìm độ dài của xâu đối xứng dài nhất gồm các kí tự liên tiếp trong s </s> <s> xâu đối xứng là xâu đọc từ  chiều giống nhau </s> <s> </s> <s> </s> <s> </s> <s> một ‘thuật toán chuẩn’ không thể áp dụng vào bài toán này đó là thuật toán kmp </s> <s> ngoài kmp ra có  ‘thuật toán chuẩn’ có thể áp dụng được </s> <s> thuật toán thứ nhất đó là sử dụng thuật toán manacher để tính bán kính đối xứng tại tất cả vị trí trong xâu </s> <s> thuật toán thứ  đó là sử dụng suffix array và lcp longest common prefix cho xâu được nối bởi s và xâu s viết theo thứ tự ngược lại </s> <s>  thuật toán này đều không dễ và nằm ngoài phạm vi bài viết nên tôi chỉ nêu sơ qua mà không đi vào chi tiết </s> <s> </s> <s> bây giờ chúng ta sẽ xét thuật toán ‘không chuẩn’ là thuật toán hash </s> <s> để đơn giản chúng ta xét trường hợp độ dài của xâu đối xứng là lẻ trường hợp chẵn xử lý hoàn toàn tương tự </s> <s> </s> <s> giả sử xâu đối xứng độ dài lẻ dài nhất có độ dài là l </s> <s> dễ thấy trong xâu s tồn tại xâu đối xứng độ dài l− l− </s> <s> </s> <s> </s> <s> tuy nhiên xâu s không tồn tài xâu đối xứng độ dài l l </s> <s> </s> <s> </s> <s> như vậy s thỏa mãn tính chất chia nhị phân </s> <s> chúng ta sẽ chia nhị phân để tìm độ dài lớn nhất có thể </s> <s> với mỗi độ dài l chúng ta cần kiểm tra xem trong xâu có tồn tại một xâu con là xâu đối xứng độ dài l hay không </s> <s> để làm việc này ta duyệt qua tất cả tất cả các xâu con độ dài l trong s </s> <s> </s> <s> bài toán còn lại là kiểm tra xem si </s> <s> </s> <s> j với  le i le j le m j−i bmod    có phải là xâu đối xứng hay không </s> <s> </s> <s> cách làm như sau </s> <s> gọi t là xâu s viết theo thứ tự ngược lại </s> <s> bằng thuật toán hash chúng ta có thể kiểm tra được một xâu con nào đó của t có bằng một xâu con nào đó của s hay không </s> <s> như vậy chúng ta cần kiểm tra si </s> <s> </s> <s> k có bằng tn−j </s> <s> </s> <s> n−k hay không với k là tâm đối xứng nói cách khác k  ij/ </s> <s> như vậy bài toán đã được giải </s> <s> độ phức tạp cho cách làm này là on logn </s> <s> </s> <s> </s> <s> </s> <s> kth alphabetical cyclic </s> <s> </s> <s> bài toán đặt ra như sau bạn được cho một dãy a a </s> <s> </s> <s> </s> <s>  an n le  </s> <s> sắp xếp n hoán vị vòng tròn của dãy này theo thứ tự từ điển </s> <s> cụ thể các hoán vị vòng quanh của dãy này là a a </s> <s> </s> <s> </s> <s>  an a a </s> <s> </s> <s> </s> <s>  an a a a </s> <s> </s> <s> </s> <s>  an a a </s> <s> </s> <s> </s> <s> dãy này có thứ tự từ điển nhỏ hơn dãy kia nếu số đầu tiên khác nhau của dãy này nhỏ hơn dãy kia </s> <s> yêu cầu bài toán là in ra dãy có thứ tự từ điển lớn thứ k </s> <s> </s> <s> </s> <s> </s> <s> bài toán này có thể được giải bằng suffix array tuy nhiên cách cài đặt phức tạp và không phải trọng tâm của bài viết nên tôi sẽ không nêu ra ở đây </s> <s> </s> <s> nếu tiếp cận một cách trực tiếp chúng ta sẽ sinh ra tất cả các dãy hoán vị vòng quanh rồi sau đó dùng một thuật toán sắp xếp để sắp xếp lại chúng theo thứ tự từ điển cuối cùng chỉ việc in ra dãy thứ k sau khi sắp xếp </s> <s> tuy nhiên độ phức tạp của thuật toán này là rất lớn và không thể đáp ứng được yêu cầu về thời gian </s> <s> cụ thể cách này có độ phức tạp là on  logn đây là tích của độ phức tạp của sắp xếp và độ phức tạp của mỗi phép so sánh dãy </s> <s> </s> <s> vẫn giữ tư tưởng là sắp xếp lại tất cả các dãy hoán vị vòng quanh rồi in ra dãy đứng ở vị trí thứ k chúng ta cố gắng cải tiến độ phức tạp của việc so sánh thứ tự từ điển của  dãy </s> <s> </s> <s> nhắc lại định nghĩa về thứ tự từ điển của  dãy xét  dãy a và b có cùng số phần tử </s> <s> gọi ví trí thứ i là vị trí đầu tiên từ trái sang mà ai ne bi </s> <s> a lt b leftrightarrow ai lt bi </s> <s> như vậy ta phải tìm đoạn tiền tố giống nhau dài nhất của a và b rồi so sánh kí tự tiếp theo </s> <s> để tìm được đoạn tiền tố giống nhau dài nhất ta có thể sử dụng hash kết hợp với chia nhị phân </s> <s> </s> <s> để giải được bài này cần sử dụng thêm một kỹ thuật nhỏ nữa thay vì sinh ra tất cả các hoán vị vòng quanh chúng ta chỉ cần nhân đôi dãy a lên dãy mới sẽ có n phần tử a a </s> <s> </s> <s> </s> <s>  an a a </s> <s> </s> <s> </s> <s>  an </s> <s> một hoán vị vòng quanh sẽ là một dãy con liên tiếp độ dài n của dãy nhân đôi này </s> <s> </s> <s> </s> <s> </s> <s> từ đó ta thu được thuật toán với độ phức tạp onlogn </s> <s> </s> <s> longest substring and appear at least k times </s> <s> </s> <s> bài toán đặt ra như sau bạn được cho xâu s độ dài n n le  bạn cần tìm ra xâu con của s có độ dài lớn nhất và xâu con này xuất hiện ít nhất k lần </s> <s> </s> <s> </s> <s> </s> <s> bài toán này có thể được giải bằng suffix array tuy nhiên cách cài đặt phức tạp và không phải trọng tâm của bài viết nên tôi sẽ không nêu ra ở đây </s> <s> </s> <s> tiếp tục bàn đến thuật toán hash để thay thế thuật toán chuẩn </s> <s> nhận xét rằng giả sử độ dài lớn nhất tìm được là l thì với mọi l′ le l luôn tồn tại xâu có độ dài l′ xuất hiện ít nhất k lần </s> <s> tuy nhiên với mọi l′ gt l không tồn tại xâu có độ dài l′ xuất hiện ít nhất k lần do l đã là lớn nhất </s> <s> như vậy l thỏa mãn tính chất chia nhị phân </s> <s> chúng ta có thể áp dụng thuật toán tìm kiếm nhị phân để tìm ra l lớn nhất </s> <s> </s> <s> bây giờ với mỗi l khi đang chia nhị phân chúng ta sẽ phải kiểm tra liệu có tồn tại xâu con nào xuất hiện ít nhất k lần hay không </s> <s> điều này được làm rất đơn giản bằng cách sinh mọi mã hash của các xâu con độ dài k trong s </s> <s> sau đó sắp xếp lại các mã hash này theo chiều tăng dần rồi kiếm tra xem có một đoạn liên tiếp các mã hash nào giống nhau độ dài l hay không </s> <s> </s> <s> như vậy độ phức tạp để chia nhị phân là ologn độ phức tạp của sắp xếp là on logn vậy độ phức tạp của cả bài toán là on logn  </s> <s> </s> <s> </s> <s> </s> <s> đánh giá độ chính xác </s> <s> </s> <s> thông thường khi sử dụng hash ta thường gặp phải  trường hợp như sau </s> <s> </s> <s> </s> <s> trả lời q truy vấn mỗi truy vấn có dạng kiểm tra  đoạn con của  xâu có bằng nhau hay không </s> <s> cho n xâu kiểm tra tất cả các xâu có phân biệt hay không </s> <s> </s> <s> </s> <s> </s> <s> giả sử ta chọn mod là một số nguyên tố khoảng  và giả sử dữ liệu được sinh ngẫu nhiên và hàm hash của chúng ta đủ tốt để hash của các xâu được phân bố đều và ngẫu nhiên </s> <s> </s> <s> </s> <s> trường hợp  </s> <s> </s> <s> giả sử q khoảng  và bộ test có t   test </s> <s> </s> <s> </s> <s> </s> <s> với  xâu khác nhau xác suất để nó có cùng hash là xấp xỉ  /  </s> <s> như vậy xác suất để trả lời đúng  truy vấn là    /  </s> <s> </s> <s> ở trường hợp xấu nhất ta có q truy vấn mà mỗi truy vấn là một cặp xâu khác nhau </s> <s> xác suất để ta trả lời đúng tất cả các truy vấn là    / q </s> <s> </s> <s> xác suất để ta trả lời đúng tất cả các truy vấn của tất cả các test là    / q  t </s> <s> </s> <s> </s> <s> </s> <s> thay số vào xác suất để trả lời đúng tất cả các truy vấn là  </s> <s>  đủ lớn để ta yên tâm qua tất cả các test với điều kiện test không được sinh dựa trên p </s> <s> chú ý nếu bạn đang thi những contest như topcoder/codeforces người khác có thể đọc được p của bạn và sinh test để challenge code của bạn </s> <s> </s> <s> </s> <s> trường hợp  </s> <s> </s> <s> theo birthday paradox  ta dễ dàng thấy rằng nếu có sqrtp   xâu xác suất để  xâu bằng nhau là rất lớn </s> <s> thật vậy xác suất để tất cả các xâu khác nhau là </s> <s> </s> <s>    /      /      /   </s> <s> </s> <s> </s> <s>   n /  </s> <s> </s> <s> </s> <s> với n   tích trên là  </s> <s>  nghĩa là bạn có gần  </s> <s>  xác suất trả lời sai </s> <s> do vậy bạn bắt buộc phải dùng nhiều mod khác nhau </s> <s> </s> <s> </s> <s> tổng kết </s> <s> </s> <s> thuật toán </s> <s> </s> <s> ý tưởng thuật toán hash dựa trên việc đổi từ hệ cơ số lớn sang hệ thập phân so sánh hai số thập phân lớn bằng cách so sánh phần dư của chúng với một số đủ lớn </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> khi cài đặt hash ta cần chọn </s> <s> </s> <s> </s> <s> hệ cơ số </s> <s> mod </s> <s> </s> <s> </s> <s> với những trang web mà người khác có thể đọc code bạn rồi tìm test sai như codeforces topcoder nếu hash tràn số hoặc mod là  số nguyên biết trước có thể sinh test để làm code bạn sai </s> <s> với những kỳ thi như hsg qg ioi acm và các online judge thông thường sẽ không có những test như vậy </s> <s> tóm lại khi chọn mod và hệ cơ số ta làm như sau </s> <s> </s> <s> </s> <s> chọn hệ cơ số là số nguyên tố lớn hơn số lượng ký tự ví dụ   </s> <s> </s> <s> chọn mod đủ lớn theo nguyên tắc đã phân tích ở phần đánh giá độ chính xác </s> <s> </s> <s> nếu là topcoder hoặc codeforces dùng kết hợp hash tràn số và  mod đủ lớn </s> <s> </s> <s> nếu không phải topcoder hay codeforces có thể dùng hash tràn số </s> <s> nếu mod   chưa đủ lớn thì dùng thêm  mod nữa </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> ưu điểm của thuật toán hash là cài đặt rất dễ dàng </s> <s> linh động trong ứng dụng và có thể thay thế các thuật toán chuẩn ‘hầm hố’ khác </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> nhược điểm của thuật toán hash là tính chính xác </s> <s> mặc dù rất khó sinh test để có thể làm cho thuật toán chạy sai nhưng không phải là không thể </s> <s> vì vậy để nâng cao tính chính xác của thuật toán người ta thường dùng nhiều modulo khác nhau để so sánh mã hash ví dụ như dùng  modulo một lúc </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> voj  substr </s> <s> voj  paliny </s> <s> voj  dtksub </s> <s> voj  dtcstr </s> <s> voj  twoopers </s> <s> voj  vostr </s> <s> sgu  </s> <s> </s> <s> </s> <s> các nguồn tham khảo </s> <s> </s> <s> </s> <s> wikipedia  string searching algorithm </s> <s> wikipedia  kmp </s> <s> wikipedia  rabin karp </s> <s> wikipedia  alphabetical order </s> <s> </s> <s> </s> <s> </s> <s> nhập môn quy hoạch động </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/dynamicprogramming </s> <s> </s> <s> </s> <s> </s> <s> nguồn topcoder </s> <s> </s> <s> </s> <s> có rất nhiều bài toán được áp dụng quy hoạch động qhđ  dynamic programming  </s> <s> qhđ là một trong những kĩ thuật quan trọng </s> <s> bài viết này sẽ giúp bạn hiểu được qhđ thông qua các ví dụ cụ thể </s> <s> </s> <s> </s> <s> note trong bài này có thể có nhiều phần bạn đã biết bạn hoàn toàn có thể chuyển qua đọc phần khác </s> <s> </s> <s> </s> <s> beginner </s> <s> </s> <s> qhđ là gì  </s> <s> </s> <s> qhđ là kĩ thuật được được dùng khi có một công thức và một hoặc một vài trạng thái bắt đầu </s> <s> một bài toán được tính bởi các bài toán nhỏ hơn đã tìm ra trước đó </s> <s> qhđ có độ phức tạp đa thức nên sẽ chạy nhanh hơn quay lui và duyệt trâu </s> <s> </s> <s> </s> <s> để hiểu rõ hơn hãy xem ví dụ sau </s> <s> </s> <s> </s> <s> cho n đồng xu và giá tiền của mỗi đồng vv </s> <s> </s> <s> </s> <s> vn~ và số s </s> <s> tìm số đồng xu nhỏ nhất để tổng giá trị của chúng bằng s số lượng đồng xu không giới hạn </s> <s> </s> <s> </s> <s> </s> <s> bây giờ chúng ta sẽ xây dựng thuật giải </s> <s> </s> <s> đầu tiên cần tìm một trạng thái của bài toán </s> <s> </s> <s> </s> <s> trạng thái là gì  </s> <s> </s> <s> trạng thái là một trường hợp một bài toán con của bài toán lớn </s> <s> </s> <s> </s> <s> ví dụ trạng thái trong bài này là số lượng xu nhỏ nhất để tổng bằng i với i le s </s> <s> để tìm ra trạng thái i cần phải tìm tất cả các trạng thái j mà j lt i </s> <s> một khi đã tìm ra trạng thái i ta có thể dễ dàng tìm ra trạng thái của i </s> <s> </s> <s> </s> <s> làm thế nào để tìm được  </s> <s> </s> <s> với mỗi j vj le i tìm số đồng xu nhỏ nhất để tổng bằng ivj </s> <s> giả sử nó bằng m </s> <s> nếu m nhỏ hơn số lượng đồng xu hiện tại cho tổng i thì ta cập nhập nó bằng m </s> <s> </s> <s> </s> <s> sau đây là ví dụ </s> <s> cho các đồng xu với giá tiền   và  </s> <s> </s> <s> và s   </s> <s> </s> <s> </s> <s> đầu tiên ta bắt đầu từ trạng thái  chúng ta có f   </s> <s> </s> <s> xét đến tổng  </s> <s> có duy nhất đồng xu  nhỏ hơn hoặc bằng tổng  nên ta có f  fv    f     </s> <s> </s> <s> xét đến tổng  </s> <s> cũng giống như tổng trước chỉ có  đổng xu le  có f  fv    f   </s> <s> đến tổng  </s> <s> lần này có  đồng xu le  là  và  </s> <s> </s> <s>  nếu ta chọn đồng  ta có f  fv    f     </s> <s>  nếu ta chọn đồng  ta có f  fv    f     </s> <s> rõ ràng là  le  nên ta chọn đồng  và f   </s> <s> xét tiếp đến tổng  rồi đến  bằng cách như trên </s> <s> </s> <s> </s> <s> mã giả </s> <s> </s> <s> gán mini bằng dương vô cùng với mọi i </s> <s> min </s> <s> </s> <s> for i   to s </s> <s> for j   to n   </s> <s> if vjlti and minivjltmini </s> <s> then miniminivj </s> <s> output mins </s> <s> </s> <s> </s> <s> đây là lời giải cho tất cả các tổng </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng </s> <s> lượng xu nhỏ nhất </s> <s> xu được chọn </s> <s> tổng còn lại </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vậy là chúng ta đã tìm được lời giải cho  đồng xu tổng bằng  </s> <s> </s> <s> dựa vào bảng trên ta có thể truy vết lại được những đồng xu nào được chọn để tối ưu bài toán </s> <s> </s> <s> bài qhđ trên còn có một cách tiếp cận khác nữa </s> <s> lần này ta sẽ không tính liên tiếp các tổng </s> <s> bắt đầu từ trạng thái  </s> <s> thử nhét đồng xu thứ  vào các tổng đã tính </s> <s> nếu như tổng t có số đồng xu ít hơn số đồng xu hiện tại thì tiến hành cập nhật </s> <s> rồi tiếp tục thử với đồng thứ   cho đến khi thử hết các đồng </s> <s> ví dụ nhét đồng  giá trị  vào tổng  ta có tổng  </s> <s> vì ta chưa tính tổng  nên s   </s> <s> nhét đồng  vào tổng  ta có s   </s> <s> tiếp tục làm như vậy với các tổng còn lại </s> <s> sau đồng  ta nhét đồng giá trị  vào tổng  ta được  mà s   gt  ta cập nhật s   </s> <s> tiếp tục nhét đồng  vào các tổng còn lại cũng nhứ thử nhét các đồng xu khác </s> <s> </s> <s> </s> <s> elementary </s> <s> </s> <s> bây giờ chúng ta cùng đến một khái niệm mới công thức truy hồi recurrent relation  mối liên hệ giữa những trạng thái </s> <s> </s> <s> </s> <s> ví dụ </s> <s> cho một dãy n số  a a </s> <s> </s> <s> </s> <s>  an </s> <s> tìm dãy con không giảm dài nhất </s> <s> </s> <s> </s> <s> ta quy định trạng thái si là dãy con không giảm dài nhất kết thúc tại ai </s> <s> với igt và jlti tính được i khi tồn tại aj le ai vì đây là dãy không giảm </s> <s> khi đó si  maxsi sj   </s> <s> tiếp tục tính như vậy cho đến khi đến được trạng thái sn </s> <s> </s> <s> </s> <s> hãy xem bảng sau với dãy       </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> i </s> <s> độ dài dãy con </s> <s> không giảm dài nhất </s> <s> của i số đầu tiên </s> <s> vị trí của kí tự cuối </s> <s> trong dãy </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bài luyện tập </s> <s> cho đồ thị vô hướng g có n đỉnh n le  và các cạnh có trọng số dương </s> <s> tìm đường đi ngắn nhất từ đỉnh  đến đỉnh n hoặc thông báo không tồn tại đường đi </s> <s> </s> <s> gợi ý tại mỗi bước chọn ra trong số các đỉnh chưa thăm mà có đường đi từ  chọn ra đỉnh có đường đi ngắn nhất </s> <s> </s> <s> </s> <s> các bài ví dụ khác </s> <s> </s> <s> </s> <s> </s> <s> zigzag –  tccc semifinals  </s> <s> </s> <s> </s> <s> badneighbors –  tccc round  </s> <s> </s> <s> </s> <s> flowergarden –  tccc round  </s> <s> </s> <s> </s> <s> </s> <s> intermediate </s> <s> </s> <s> tới đây bạn sẽ được làm quen với qhđ  chiều </s> <s> </s> <s> </s> <s> bài toán </s> <s> cho một bảng m  n mỗi ô có một lượng táo </s> <s> bắt đầu từ ô trái trên mỗi bước có thể đi sang phải hoặc xuống dưới </s> <s> bạn có thể ăn được nhiều nhất bao nhiêu quả táo  </s> <s> </s> <s> cách giải bài này cũng tương tự như những bài trước </s> <s> </s> <s> </s> <s> đầu tiên là phải xác định trạng thái là gì </s> <s> ở mỗi ô có nhiều nhất  cách có thể tới được ô đó từ ô bên trái và ô phía trên </s> <s> do vậy để tìm trạng thái hiện tại ta phải tính trước các ô có thể đến được nó </s> <s> </s> <s> </s> <s> ta có công thức truy hồi sau </s> <s> sijaij  maxsij if  igt  sij if jgt </s> <s> trong đó i là hàng j là cột aij là số táo ở ô ij </s> <s> sij có thể được tính từ trái sang phải từ trên xuống dưới hoặc từ trên xuống từ trái sang </s> <s> </s> <s> </s> <s> mã giả </s> <s> </s> <s> for i   to n   </s> <s> for j   to m   </s> <s> sij  aij  </s> <s> maxsij if jgt  sij if igt   </s> <s> </s> <s> output snm </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> </s> <s> </s> <s> avoidroads –  tco semifinals  </s> <s> </s> <s> chessmetric –  tccc round  </s> <s> </s> <s> </s> <s> upperintermediate </s> <s> </s> <s> phần này sẽ giới thiệu với bạn những bài toán cùng với một số điều kiện </s> <s> </s> <s> </s> <s> đây là một ví dụ cụ thể </s> <s> </s> <s> cho đồ thị vô hướng g có trọng số dương và n đỉnh </s> <s> </s> <s> </s> <s> ban đầu bạn có số tiền là m </s> <s> để đi qua đỉnh i bạn phải trả số tiền là si </s> <s> và đương nhiên nếu không đủ tiền thì bạn không đi được </s> <s> tìm đường đi ngắn nhất từ  tới n thỏa mãn tiêu chí trên </s> <s> nếu có nhiều đường ngắn nhất in ra đường với chi phí nhỏ nhất </s> <s> giới hạn ltn le    le m le   le si le  </s> <s> </s> <s> </s> <s> có thể dễ dàng thấy đây là một bài dijkstra cơ bản tuy nhiên chỉ khác ở chỗ nó có thêm một điều kiện </s> <s> trong bài toán dijkstra cơ bản ta có mini  là độ dài đường đi ngắn nhất từ  tới i </s> <s> còn ở đây chúng ta cần phải quan tâm đến số tiền còn lại </s> <s> do đó chúng ta có thể mở rộng mảng này thành minij  là độ dài đường đi ngắn nhất tới i và còn lại số tiền là j </s> <s> bằng cách này bài toán đã được đưa về bài toán dijkstra quen thuộc </s> <s> tại mỗi bước ta tìm trạng thái ij có quãng đường ngắn nhất đánh dấu là đã thăm rồi update cho các trạng thái cạnh nó </s> <s> đáp án sẽ là minnj có giá trị nhỏ nhất và j lớn nhất trong số các minnj có cùng giá trị </s> <s> </s> <s> </s> <s> mã giả </s> <s> </s> <s> gán mọiij là chưa thăm </s> <s> gán minij bằng dương vô cùng với mọi ij </s> <s> </s> <s> minm </s> <s> </s> <s> whiletrue </s> <s> </s> <s> trong số những trạng thái chưa thăm ij tìm cái có minij </s> <s> nhỏ nhất </s> <s> giải sử nó là kl </s> <s> </s> <s> </s> <s> nếu không tìm được kl nào mà minkl nhỏ hơn dương vô cùng  thoát vòng lặp </s> <s> </s> <s> </s> <s> đánh dấu kl đã thăm </s> <s> </s> <s> for all neighbors p of vertex k </s> <s> </s> <s> if lspgt and </s> <s> minplspgtminkldistkp </s> <s> then minplspminkldistkp </s> <s> i </s> <s> e </s> <s> </s> <s> nếu tại ij có đủ tiền để đi qua p lsp là số tiền còn lại sau khi đi qua p và đường đi ngắn nhất của plsp lớn hơn đường đi ngắn nhất tới kl  khoảng cách từ k tới p </s> <s> thì gán ij bằn tổng này </s> <s> </s> <s> end for </s> <s> </s> <s> end while </s> <s> </s> <s> tìm số nhỏ nhất trong các minnj for all j ltjltm </s> <s> nếu có nhiều hơn một trạng thái lấy trạng thái nào có j lớn nhất </s> <s> nếu không có nj nào nhỏ hơn dương vô cùng  không tồn tại đường đi </s> <s> </s> <s> </s> <s> </s> <s> các bài luyện tập </s> <s> </s> <s> </s> <s> </s> <s> jewelry –  tco online round  </s> <s> </s> <s> stripepainter – srm  div  </s> <s> </s> <s> quicksums – srm  div  </s> <s> </s> <s> shortpalindromes – srm  div  </s> <s> </s> <s> </s> <s> advanced </s> <s> </s> <s> những bài sau đây sẽ cần một chút kĩ năng phân tích để có thể tối ưu chúng thành bài qhđ </s> <s> </s> <s> </s> <s> problem staradventure – srm  div  </s> <s> </s> <s> cho ma trận m hàng n cột n  m </s> <s> mỗi ô có một lượng táo </s> <s> </s> <s> bạn đang ở ô góc trái trên </s> <s> bạn chỉ có thể đi xuống hoặc sang phải </s> <s> bạn cần tới ô góc phải dưới </s> <s> rồi quay lại ô trái trên bằng cách lên hoặc sang trái </s> <s> cuối cùng bạn quay lại ô phải dưới </s> <s> </s> <s> tìm số táo nhiều nhất mà bạn có thể ăn được </s> <s> </s> <s> khi đi qua một ô toàn bộ táo của ô đấy sẽ bị ăn hết </s> <s> </s> <s> </s> <s> giới hạn  lt n m le  mỗi ô có từ  đến  quả táo </s> <s> </s> <s> </s> <s> đọc đến đây hẳn bạn sẽ thấy cái đề này quen quen nó chính là bài mở rộng của bài toán phần intermediate </s> <s> ta có thể thử đưa bài toán này về thành bài toán trên </s> <s> để ý thấy đường đi từ ô góc phải dưới lên trái trên cũng có thể coi là một đường đi từ góc trái trên xuống </s> <s> như vậy chúng ta phải xử lý bài toán với  đường đi từ trái trên xuống </s> <s> gọi  đường này là trái giữa và phải </s> <s> khi  đường giao nhau như hình dưới </s> <s> </s> <s> </s> <s> </s> <s> thì nó cũng tương đương với hình sau </s> <s> </s> <s> </s> <s> </s> <s> bằng cách này chúng ta đã có một cái nhìn khác về bài toán </s> <s> các đường này sẽ không giao nhau trừ ô góc trái trên và phải dưới </s> <s> với mỗi hàng y không phải hàng đầu và cuối tọa độ x ở mỗi đường sẽ là xy  xy và xy   xy lt xy lt xy </s> <s> ta xét hàng thứ y </s> <s> giả sử ta xét xy  xy and xy và số táo hiện giờ thu được là nhiều nhất </s> <s> từ đó ta có thể tối ưu cho hàng y </s> <s> chúng ta cần tìm cách chuyển trạng thái </s> <s> gọi maxijk là lượng táo nhiều nhất thu được đến hàng y với  đường đang dừng ở cột i j và k </s> <s> với hàng y thêm vào maxijk số lượng táo ở các ô yi  yj and yk </s> <s> vì chúng ta đang đi xuống </s> <s> sau đó chúng ta xét đến những đường có thể sang phải </s> <s> để tránh việc giao nhau ta xét lần lượt các bước ở trái phải rồi giữa </s> <s> </s> <s> </s> <s> bài luyện tập thêm </s> <s> </s> <s> </s> <s> </s> <s> minipaint – srm  div  </s> <s> </s> <s> </s> <s> note </s> <s> khi gặp một bài toán hãy để ý xem nó có được giải trong thời gian đa thức không </s> <s> nếu có thử xác định trạng thái của nó cách chuyển trạng thái và nếu không chuyển được trạng thái hãy thử tối ưu nó về một bài qhđ như ví dụ ở trên </s> <s> </s> <s> </s> <s> những bài đã đề cập ở trên </s> <s> </s> <s> </s> <s> tccc ’ semifinals  div i easy – </s> <s> zigzag </s> <s> </s> <s> tccc ’ round  div i easy – </s> <s> badneighbors </s> <s> </s> <s> tccc ’ round  div i med – </s> <s> flowergarden </s> <s> </s> <s> tco ’ semifinals  div i easy – </s> <s> avoidroads </s> <s> </s> <s> tccc ’ round  div i easy – </s> <s> chessmetric </s> <s> </s> <s> tco ’ round  div i med – </s> <s> jewelry </s> <s> </s> <s> srm  div i med – </s> <s> stripepainter </s> <s> </s> <s> srm  div ii hard – </s> <s> quicksums </s> <s> </s> <s> srm  div ii hard – </s> <s> shortpalindromes </s> <s> </s> <s> srm  div i hard – </s> <s> staradventure </s> <s> </s> <s> srm  div i hard – </s> <s> minipaint </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tầm quan trọng của thuật toán </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/theimportanceofalgorithm </s> <s> </s> <s> </s> <s> </s> <s> bài viết gốc the importance of algorithms  đăng bởi lbackstrom trên topcoder </s> <s> </s> <s> mở đầu </s> <s> </s> <s> để hiểu được tầm quan trọng của việc học và hiểu về thuật toán đầu tiên ta cần định nghĩa chính xác thuật toán là gì </s> <s> theo như cuốn sách nổi tiếng introduction to algorithms mở đầu về thuật toán thì thuật toán là một quá trình tính toán cụ thể trong đó lấy một hay nhiều giá trị làm đầu vào  input  và cho ra một hay nhiều giá trị kết quả  output  </s> <s> nói cách khác thuật toán giống như bản đồ chỉ đường giúp ta giải quyết một vấn đề rõ ràng cụ thể </s> <s> ví dụ nhiều dòng code để tính dãy fibonacci là một cách cài đặt của một thuật toán nào đó </s> <s> một hàm để cộng hai số cũng được gọi là một thuật toán mặc dù nó rất đơn giản </s> <s> </s> <s> </s> <s> một số thuật toán như thuật để tính dãy fibonacci khá trực quan và ta có thể suy ra nhờ vào suy luận logic cũng như kĩ năng giải bài </s> <s> tuy nhiên đối với những thuật toán phức tạp hơn chúng ta cần học và hiểu để làm nền tảng cho việc giải quyết những bài toán khó hơn </s> <s> trong cuộc sống hàng ngày những việc tưởng chừng như đơn giản như kiểm tra email hay nghe nhạc đều đòi hỏi những thuật toán rất phức tạp </s> <s> trong bài viết này chúng ta sẽ cùng xem một vài ví dụ về cách áp dụng thuật toán </s> <s> </s> <s> </s> <s> phân tích thời gian thực hiện thuật toán </s> <s> </s> <s> một trong những yếu tố quan trọng nhất của một thuật toán là việc nó chạy nhanh hay chậm </s> <s> nghĩ ra một thuật để giải một bài toán là việc dễ nhưng để nó có ý nghĩa trong thực tế thì thuật toán phải chạy đủ nhanh </s> <s> tốc độ của một thuật tùy thuộc vào tốc độ máy cũng như chi tiết cài đặt các nhà khoa học máy tính thường đề cập đến runtime thời gian chạy tương ứng với kích thước input </s> <s> ví dụ nếu input gồm n số một thuật toán có thời gian chạy tỉ lệ thuận với n được kí hiệu là on </s> <s> ký hiệu này nghĩa là khi máy tính chạy một chương trình cài đặt thuật toán trên với độ lớn input là n chương trình sẽ tốn cn giây với c là một hằng số không phụ thuộc vào kích thước input </s> <s> </s> <s> </s> <s> tuy nhiên thời gian chạy thực tế của nhiều thuật toán phức tạp còn phụ thuộc nhiều yếu tố khác ngoài độ lớn input </s> <s> ví dụ một thuật toán sắp xếp sẽ chạy nhanh hơn nhiều khi được xử lí một dãy số đã sắp xếp sẵn so với khi phải giải quyết một dãy số lộn xộn </s> <s> từ đó sinh ra hai khái niệm thời gian chạy tối đa và thời gian chạy trung bình </s> <s> thời gian chạy tối đa là thời gian thuật toán cần để xử lí input trong trường hợp tồi nhất </s> <s> thời gian chạy trung bình là thời gian trung bình cho mọi input có thể xuất hiện </s> <s> trong  thuật ngữ thời gian tối đa thường dễ phân tích hơn nên nó thường được sử dụng để đánh giá các thuật toán </s> <s> việc tính toán độ phức tạp nhiều lúc không đơn giản vì ta không thể kiểm tra được hết mọi trường hợp </s> <s> bạn có thể tìm đọc thêm về một số kĩ năng tính toán độ phức tạp ở các nguồn khác </s> <s> </s> <s> </s> <s> ước tính thời gian chạy của các thuật n   </s> <s> </s> <s> </s> <s> ologn  giây </s> <s> on  giây </s> <s> onlogn  giây </s> <s> on  giây </s> <s> on  phút </s> <s> on  năm </s> <s> on  năm </s> <s> </s> <s> </s> <s> sắp xếp </s> <s> </s> <s> thuật toán sắp xếp là một thuật toán rất hay được sử dụng trong khoa học máy tính </s> <s> cách đơn giản nhất để sắp xếp một nhóm đồ vật là lấy ra món đồ nhỏ nhất và đặt lên đầu </s> <s> ta lại lấy ra món đồ nhỏ thứ hai và đặt cạnh món đầu tiên cứ thế tiếp tục </s> <s> đáng tiếc độ phức tạp của thuật toán này là on tức thời gian chạy của thuật sẽ tương ứng với bình phương độ lớn input </s> <s> nếu cần sắp xếp  tỉ số thuật sẽ cần  câu lệnh máy tính instructions </s> <s> để dễ hình dung thì một chiếc máy tính hiện đại mỗi giây chỉ giải quyết được gần  câu lệnh và sẽ cần nhiều năm mới sắp xếp xong  tỉ con số nói trên </s> <s> </s> <s> </s> <s> may thay có nhiều thuật toán sắp xếp khác hiệu quả hơn như quick sort  heap sort  merge sort  </s> <s> </s> <s> </s> <s> nhiều thuật có độ phức tạp chỉ onlogn </s> <s> độ phức tạp nhỏ hơn rút ngắn rất nhiều thời gian để sắp xếp  tỉ con số đến mức một chiếc máy tính bình thường nhất cũng thực hiện được trong chưa đến một phút </s> <s> thay vì  câu lệnh máy chỉ phải thực hiện  </s> <s> </s> <s> </s> <s> đường đi ngắn nhất </s> <s> </s> <s> thuật toán tìm đường đi ngắn nhất giữa hai điểm đã được nghiên cứu từ rất lâu </s> <s> ứng dụng của thuật toán này rất nhiều nhưng tạm thời hãy xét bài toán cơ bản nhất tìm đường đi ngắn nhất từ a đến b trong một thành phố với một số con đường và giao lộ </s> <s> có rất nhiều thuật toán được phát triển để giải quyết các bài kiểu này với mỗi phương pháp có ưu nhược điểm riêng </s> <s> trước khi tìm hiểu về chúng hãy xem thử thuật trâu  xét hết các khả năng  sẽ mất bao lâu để giải </s> <s> đáng tiếc ta sẽ không sống đủ lâu để biết kết quả từ phương pháp này  cho dù a và b đều ở trong một thị trấn nhỏ bởi độ phức tạp của thuật là oc  n với c là hằng số </s> <s> dù c có nhỏ c  n sẽ trở nên lớn khủng khiếp ngay cả với các giá trị vừa phải của n </s> <s> </s> <s> </s> <s> một trong những thuật toán nhanh nhất để giải quyết bài toán này có độ phức tạp oe  logv với e là số đường đi v là số giao lộ </s> <s> để dễ hình dung thuật toán sẽ mất  giây để tìm đường đi ngắn nhất trong thành phố có  giao lộ và  con đường </s> <s> thuật toán này  djikstra  khá phức tạp và đòi hỏi sử dụng cấu trúc dữ liệu hàng đợi ưu tiên priority queue </s> <s> tuy nhiên có những trường hợp mà ngay cả djisktra cũng trở nên quá chậm ví dụ đường đi ngắn nhất từ hà nội đến sillicon valley  có đến hàng tỉ giao lộ các lập trình viên sẽ sử dụng heuristics </s> <s> heuristics là một hàm xấp xỉ của một tính chất của bài toán </s> <s> ví dụ trong bài toán này  heuristic có thể là khoảng cách đường chim bay giữa  điểm </s> <s> sử dụng heuristic chúng ta có thể tìm được lời giải nhanh hơn ví dụ thuật toán a có thể chạy nhanh hơn dijkstra trong nhiều trường hợp </s> <s> phương pháp này không phải lúc nào cũng rút ngắn thời gian chạy của thuật trong trường hợp tệ nhất nhưng nó hiệu quả với phần lớn trường hợp trong thực tế </s> <s> </s> <s> </s> <s> thuật toán xấp xỉ </s> <s> </s> <s> thế nhưng đôi khi ngay cả với thuật mạnh nhất dùng heuristics tốt nhất chạy trên máy tính nhanh nhất cũng trở nên quá chậm </s> <s> đối với các trường hợp này ta buộc phải hi sinh phần nào sự chính xác của kết quả </s> <s> thay vì cố đi tìm đường đi ngắn nhất ta đã có thể thỏa mãn với một con đường không dài hơn  so với kết quả tối ưu </s> <s> </s> <s> </s> <s> thực tế có nhiều bài toán quan trọng mà thuật tối ưu của chúng quá chậm và không sử dụng được </s> <s> nhóm bài nổi tiếng nhất cho tính cách này được gọi là np  nondeterministic polynomial </s> <s> khi một bài toán nào đó được cho là nphard hay npcomplete đồng nghĩa không ai biết thuật toán tối ưu của nó </s> <s> hơn nữa nếu ai đó nghĩ ra được thuật tối ưu cho một bài toán npcomplete thuật đó cũng áp dụng được cho mọi bài toán npcomplete khác </s> <s> </s> <s> </s> <s> một ví dụ nổi tiếng của nphard là bài toán người bán hàng traveling salesman problem  tsp </s> <s> một người bán hàng cần đi đến n thành phố và anh ta biết cần bao lâu để đi từ một thành phố đến một thành phố khác </s> <s> câu hỏi đặt ra là nhanh nhất thì mất bao lâu để anh ta đi hết n thành phố bởi thuật toán nhanh nhất cho tsp vẫn quá chậm  nhiều người tin là điều này sẽ luôn đúng  ta tìm đến những phương pháp đủ nhanh mà đưa ra được kết quả gần đúng thay vì thuật toán tối ưu </s> <s> </s> <s> </s> <s> thuật toán ngẫu nhiên </s> <s> </s> <s> một cách tiếp cận vấn đề khác đó là thử random theo một cách nào đó </s> <s> tuy không cải thiện tốc độ trong trường hợp xấu nhất biện pháp này sẽ có hiệu quả với những trường hợp bình thường </s> <s> quicksort là một ví dụ điển hình cho việc random như vậy </s> <s> khi suy biến quicksort sẽ sắp xếp một dãy trong on với n là số phần tử của dãy </s> <s> nhưng nếu áp dụng random vào thuật toán xác suất xảy ra suy biến là cực kì thấp và độ phức tạp trung bình của quicksort trở thành on logn </s> <s> có những thuật có độ phức tạp on logn kể cả ở trường hợp xấu nhưng chúng sẽ chậm hơn ở trường hợp bình thường </s> <s> dù độ phức tạp cùng là onlogn quicksort có hằng số c nhỏ hơn nhiều tức số phép tính cần thực hiện nhỏ hơn </s> <s> </s> <s> </s> <s> một thuật toán khác dùng random để tìm trung vị của một dãy với độ phức tạp trung bình on </s> <s> đây là cải tiến rất lớn so với việc sắp xếp lại dãy và chọn ra phần tử giữa vốn có độ phức tạp onlogn </s> <s> thêm nữa cho dù vẫn có các thuật toán tìm trung vị khôngrandom với độ phức tạp on thuật toán này vẫn được áp dụng nhiều hơn nhờ cài đặt giản và tốc độ chạy nhanh hơn </s> <s> </s> <s> </s> <s> ý tưởng chính của thuật toán trung vị này là chọn ngẫu nhiên một số x bất kì trong dãy và đếm xem có bao nhiêu số nhỏ hơn nó </s> <s> giả sử dãy có n số và có k số nhỏ hơn hoặc bằng x </s> <s> nếu kltn/ vậy ta biết trung vị sẽ là số thứ n/  k lớn hơn x </s> <s> ta bỏ đi k số nhỏ hơn hoặc bằng x </s> <s> bây giờ ta phải tìm số nhỏ thứ n/k thay vì số trung vị </s> <s> ta tiếp tục random một số x khác và lặp lại </s> <s> </s> <s> </s> <s> compression  nén </s> <s> </s> <s> một lớp khác của thuật toán sẽ xử lí những vấn đề như data compression nén dữ liệu </s> <s> loại thuật toán này không có output xác định mà thay vào đó cố gắng tối ưu ở những tiêu chí khác </s> <s> với data compression thuật như lzw  sẽ cố gắng để cho output nhỏ nhất có thể và vẫn có khả năng phục hồi lại trạng thái ban đầu </s> <s> những thuật toán kiểu này cho ra kết quả có thể chấp nhận được nhưng không phải tối ưu nhất </s> <s> ví dụ thuật toán của jpg và mp dù khiến dữ liệu bị giảm chất lượng đi đôi chút sẽ tạo ra những files nhỏ hơn files gốc rất nhiều </s> <s> files mp không cố gắng giữ lại mọi âm thanh của bài hát mà ghi vừa đủ thông tin để chất lượng vừa tốt dung lượng files lại nhỏ </s> <s> files jpg cũng dựa trên ý tưởng tương tự </s> <s> </s> <s> </s> <s> tầm quan trọng của thuật toán </s> <s> </s> <s> với một lập trình viên hay một nhà khoa học máy tính hiểu rõ về các thuật toán vừa nêu là rất quan trọng để có thể áp dụng thực tiễn </s> <s> nếu ta viết một phần mềm ta sẽ phải đánh giá được phần mềm đó sẽ hoạt động nhanh chậm ra sao </s> <s> những đánh giá như vậy sẽ kém chính xác hơn nhiều nếu ta không có hiểu biết về thời gian chạy hay độ phức tạp </s> <s> thêm nữa hiểu biết về thuật toán của những gì ta đang làm sẽ giúp ta dự đoán những trường hợp đặc biệt khiến phần mềm chạy chậm đi hay xảy ra lỗi </s> <s> </s> <s> </s> <s> tất nhiên ta sẽ thường xuyên gặp những bài toán chưa được nghiên cứu trước đó </s> <s> lúc này ta phải tự nghĩ ra thuật mới hoặc áp dụng thuật cũ một cách sáng tạo hơn </s> <s> càng có kiến thức về thuật toán ta càng có khả năng giải quyết thành công vấn đề </s> <s> trong nhiều trường hợp một vấn đề mới có thể được đưa về một vấn đề cũ hơn mà không cần quá nhiều sức lực với điều kiện ta phải có kiến thức đủ sâu về vấn đề cũ này </s> <s> </s> <s> </s> <s> để minh họa hãy tưởng tượng về công việc của một switch internet </s> <s> một switch có n sợi dây cáp và sẽ nhận các gói data từ các sợi cáp này </s> <s> switch sẽ phải phân tích các gói data này rồi trả chúng về đúng dây cáp cũ </s> <s> cái switch này cũng giống như một chiếc máy tính làm việc dựa trên các xung nhịp với các bước rành mạch các gói dữ liệu được gửi ra ở các quãng nghỉ  intervals  thay vì liên tục </s> <s> ở một switch nhanh chúng ta cần gửi các gói dữ liệu này càng nhanh càng tốt ở mỗi quãng nghỉ để chúng không ứ đọng và bị bỏ qua </s> <s> vậy mục tiêu của thuật toán là gửi càng nhiều gói data càng tốt ở mỗi quãng nghỉ và gói nào đến trước thì được chuyển đi trước </s> <s> hóa ra một thuật toán có tên  stable matching  có liên hệ trực tiếp tới vấn đề này và hoàn toàn có thể áp dụng dù nhìn sơ mối tương quan giữa vấn đề và thuật toán có vẻ không rõ ràng </s> <s> chỉ có nền tảng thuật toán vững vàng mới giúp ta đi đến lời giải cho những trường hợp như vậy </s> <s> </s> <s> </s> <s> một vài ví dụ thực tế </s> <s> </s> <s> có rất nhiều ví dụ cho thấy các vấn đề thực tế đòi hỏi hiểu biết về thuật toán </s> <s> gần như mọi thứ bạn đang làm với máy tính được dựa trên một thuật toán nào đó mà có người phải rất vất vả mới tìm ra </s> <s> cho dù là ứng dụng đơn giản nhất của máy tính hiện đại cũng cần đến thuật toán để quản lí dữ bộ nhớ và truy xuất thông tin từ hard drive ổ cứng </s> <s> </s> <s> </s> <s> có rất nhiều ví dụ trong đời sống ở đây tôi sẽ giới thiệu  bài toán thực tế có cùng độ khó với các bài ở topcoder </s> <s> bài đầu là maximum flow problem luồng cực đại  và bài sau có liên quan đến dynamic programming quy hoạch động  một kĩ thuật giải quyết được những vấn đề tưởng như không thể với tốc độ cao </s> <s> </s> <s> </s> <s> maximum flow  luồng cực đại </s> <s> </s> <s> bài toán luồng cực đại liên quan đến bài toán tìm đường đi ngắn nhất đã được nói ở trên </s> <s> vào những năm  bài toán lần đầu được nghiên cứu để áp dụng với mạng lưới đường sắt của liên xô </s> <s> mỹ muốn biết liên xô có thể tiếp tế cho các nước vệ tinh ở đông âu thông qua mạng lưới đường sắt nhanh như thế nào </s> <s> </s> <s> </s> <s> thêm vào đó mỹ còn muốn biết tuyến đường nào có thể bị phá hoại dễ dàng nhất nhằm chia cắt các nước này khỏi liên bang </s> <s> hóa ra  vấn đề này liên quan mật thiết và giải quyết được bài toán về tiếp tế sẽ giải quyết luôn vấn đề thứ hai </s> <s> </s> <s> </s> <s> thuật toán hiệu quả đầu tiên cho bài toán tìm luồng cực đại được phát triển bởi ford và fulkerson thuật toán được đặt tên  nhà khoa học máy tính này và đã trở thành một trong những thuật toán nổi tiếng nhất ngành </s> <s> trong  năm qua một số cải tiến đã được áp dụng để thuật nhanh hơn nhiều trong số đó vô cùng tinh tế </s> <s> </s> <s> </s> <s> từ lúc bài toán được nghiên cứu có nhiều ứng dụng đã được đưa ra </s> <s> ví dụ trong mạng máy tính ta cần truyền thật nhiều dữ liệu từ một điểm đến một điểm khác </s> <s> trong kinh doanh thuật toán này được áp dụng trong nghiên cứu vận hành operations research </s> <s> ví dụ nếu bạn có n nhân viên và n công việc cần làm nhưng không phải ai cũng làm được tất cả mọi công việc thuật toán tìm luồng cực đại sẽ chỉ ra cách giao việc để các công việc đều hoàn thành miễn là có phương án khả thi </s> <s> </s> <s> </s> <s> sequence comparison  so sánh chuỗi </s> <s> </s> <s> nhiều coder đi làm cả đời mà không từng phải cài một thuật toán quy hoạch động nào </s> <s> thế nhưng quy hoạch động là cần thiết cho nhiều thuật toán quan trọng </s> <s> một thuật toán có lẽ nhiều người đã từng sử dụng qua mà không biết là tìm khoảng cách của  chuỗi </s> <s> cụ thể hơn tính toán xem sau bao nhiêu lần thêm xóa hay sửa thì xâu a sẽ trở thành xâu b </s> <s> </s> <s> </s> <s> ví dụ có  xâu aabaa và aaab </s> <s> để chuyển xâu đầu thành xâu sau đơn giản nhất là xóa kí tự b ở giữa rồi chuyển a cuối xâu thành b </s> <s> thuật toán này có rất nhiều ứng dụng ví dụ như trong các vấn đề liên quan đến dna hay chống đạo văn </s> <s> với các lập trình viên thuật toán này thường được dùng trong việc so sánh  phiên bản source code mã nguồn của cùng  file </s> <s> nếu các phần tử của chuỗi là các dòng của file thuật sẽ cho ta biết dòng code nào bị xóa dòng nào bị thêm vào hay sửa đi trong các phiên bản đó </s> <s> </s> <s> </s> <s> không có quy hoạch động ta sẽ phải xét các trường hợp theo cấp số mũ để biến một xâu thành xâu khác </s> <s> với quy hoạch động bài toán này được giải quyết với độ phức tạp chỉ onm trong đó n và m là số phần tử của mỗi xâu </s> <s> </s> <s> </s> <s> kết luận </s> <s> </s> <s> số thuật toán khác nhau mà con người học cũng nhiều như số bài toán khác nhau mà ta cần giải </s> <s> thế nhưng khả năng cao là bài toán bạn đang cố gắng giải có liên quan đến một bài toán khác theo một cách nào đó </s> <s> có một vốn hiểu biết sâu và rộng về các thuật toán sẽ giúp bạn chọn lựa được hướng đi đúng và áp dụng thành công </s> <s> khi nghiên cứu thuật toán nhiều bài toán nhìn có vẻ không thực tế nhưng kĩ năng giải quyết đó lại được áp dụng trong những bài toán mà chúng ta gặp hàng ngày </s> <s> </s> <s> </s> <s> </s> <s> z algorithm </s> <s> http//vnoi </s> <s> info/wiki/translate/codeforces/zalgo </s> <s> </s> <s> </s> <s> </s> <s> nguồn bài  codeforces </s> <s> </s> <s> table of contents bài toán thuật toán độ phức tạp cài đặt áp dụng </s> <s> </s> <s> trước khi đọc bài này các bạn có thể đọc bài xử lý xâu để nắm được các thuật ngữ cơ bản </s> <s> </s> <s> </s> <s> z algorithm hay còn gọi là z function là thuật toán áp dụng cho các bài so khớp chuỗi </s> <s> </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một chuỗi s có độ dài n thuật toán z function tạo ra một mảng z mà tại mỗi vị trí i ta có zi là độ dài chuỗi con dài nhất là tiền tố của s bắt đầu tại vị trí si hay nói một cách khác zi là một số nguyên k lớn nhất mà sjsi  j với mọi  le j lt k </s> <s> trường hợp si ne s thì zi   </s> <s> </s> <s> </s> <s> thuật toán </s> <s> </s> <s> ta duyệt qua tất cả các ký tự của s chỉ số i từ  đến n   </s> <s> trong quá trình duyệt ta duy trì một đoạn l r với r là một số lớn nhất thỏa  le l le i le r và l r là một tiền tố của s nếu không xuất hiện các đoạn như vậy thì đặt l  r   </s> <s> </s> <s> </s> <s> với i   ta có thể dễ dàng tính l và r bằng phép so sánh s </s> <s> </s> <s>  với s </s> <s> </s> <s>  </s> <s> đồng thời ta có thể tính giá trị z </s> <s> </s> <s> </s> <s> giả sử ta đã xây dựng được đoạn l r và các giá trị z </s> <s> </s> <s> i   ta sẽ tính zi và cập nhật đoạn lr mới như sau </s> <s> </s> <s> </s> <s> nếu i gt r khi đấy không tồn tại một chuỗi con là tiền tố của s bắt đầu tại một vị trí trước i và kết thúc tại ví trí i hoặc sau i </s> <s> bởi nếu như có một tiền tố như vậy thì đoạn l i sẽ là chuỗi tiền tố tối ưu chứ không phải l r </s> <s> do đó ta sẽ cập nhật lại đoạn l r bằng cách so sánh s </s> <s> </s> <s>  với si </s> <s> </s> <s>  và lấy giá trị zi hiện tại zi  r  l   </s> <s> </s> <s> </s> <s> ngược lại i le r thì đoạn l r hiện tại kéo dài ít nhất đến i </s> <s> đặt k  i  l </s> <s> ta biết rằng zi ge minzk r  i   bởi vì si </s> <s> </s> <s>  bằng với sk </s> <s> </s> <s>  ít nhất là r  i   ký tự </s> <s> xét các trường hợp sau </s> <s> </s> <s> </s> <s> nếu zk lt r  i   thì sẽ không có chuỗi con nào là tiền tố của s dài hơn zk bắt đầu tại si </s> <s> nghĩa là zi  zk và đoạn l r vẫn giữ nguyên do đoạn l r chỉ thay đổi nếu chuỗi tiền tố bắt đầu tại si vượt ra khỏi đoạn l r </s> <s> </s> <s> nếu zk ge r  i   thì chuỗi si </s> <s> </s> <s>  là tiền tố của s và có nhiều hơn r  i   ký tự tức là kết thúc sau vị trí r </s> <s> như vậy ta cần cập nhật đoạn l r bằng cách đặt lại l  i và so sánh từ vị trí sr   trở đi để được một vị trí r mới </s> <s> đồng thời ta tính được giá trị của zi </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> tại mỗi bước trong vòng lặp chúng ta không cần so sánh ký tự tại các vị trí nhỏ hơn r và mỗi lần ký tự r phù hợp thì ta tăng r lên một vì thế ta sẽ tốn nhiều nhất n phép so sánh </s> <s> ngoài ra với mỗi giá trị i ta chỉ tìm thấy một ký tự không phù hợp điều kiện tăng r </s> <s> vì thế không thể có nhiều hơn n phép so sánh cho kết quả sai </s> <s> đưa đến độ phức tạp thuật toán là on </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> có thể dễ dàng cài đặt </s> <s> chú ý việc tối ưu hóa l  r  i được sử dụng khi s ne si điều đó không làm ảnh hưởng đến thuật toán kể từ giá trị kế tiếp i gt r không phân biệt </s> <s> </s> <s> </s> <s> int l    r    </s> <s> z     n  </s> <s> for  int i    i lt n  i   </s> <s> if  i gt r  </s> <s>  </s> <s> l  r  i  </s> <s> while  r lt n ampamp s  r   s  r  l  r   </s> <s> z  i   r  l  r   </s> <s>  </s> <s> else </s> <s>  </s> <s> int k  i  l  </s> <s> if  z  k  lt r  i    z  i   z  k  </s> <s> else </s> <s>  </s> <s> l  i  </s> <s> while  r lt n ampamp s  r   s  r  l  r   </s> <s> z  i   r  l  r   </s> <s>  </s> <s>  </s> <s> </s> <s> áp dụng </s> <s> </s> <s> voj  substr </s> <s> </s> <s> có thể dùng zfuntion để giải bài này </s> <s> ta tạo ra một chuỗi sba sao đó xây dựng mảng z </s> <s> những vị trí có zi ge lengthb với lengthb le i lt lengthalengthb là vị trí tương ứng của b trong a </s> <s> </s> <s> </s> <s> </s> <s> quay luibacktracking </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  quy lui là một kĩ thuật thiết kế giải thuật dựa trên đệ quy </s> <s> ý tưởng của quay lui là tìm lời giải từng bước mỗi bước chọn một trong số các lựa chọn khả dĩ và đệ quy </s> <s> ok </s> <s> có vẻ vẫn chưa được rõ ràng lắm </s> <s> giờ chúng ta xem xét một vài ví dụ và khái quát hóa phương pháp quay lui </s> <s> bài toán như sau  ta thấy để các quân hâu không ăn được nhau ta phải xếp quân hậu trên hàng của bàn cờ </s> <s> ta dùng mảng  trong đó nếu quân hậu ở hàng thứ được đặt ở cột </s> <s>  giả sử chúng ta đã đặt được quân hậu  trên hàng đầu tiên sao cho không có  quân hậu nào ăn được nhau </s> <s> cụ thể các phần tử sẽ khác và các phần tử đều bằng </s> <s> chúng ta tìm cách đặt một quân hậu trên hàng thứ </s> <s> ta sẽ thử lần lượt đặt vào cột thứ </s> <s> nếu đặt vào cột thứ mà bị một trong quân hậu đã đặt trước đó ăn ta sẽ thử cột thứ </s> <s> nếu ta tìm được một ví trí đặt khả dĩ a feasible position ta sẽ đặt vào đó và gọi đệ quy để đặt hàng thứ </s> <s> giả mã như sau </s> <s> </s> <s> </s> <s> </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được cho ở cuối bài </s> <s> </s> <s> là một cách nhìn khác của thuật toán </s> <s> tưởng tượng ta có một cây với gốc tượng trưng cho cấu hình ban đầu của bàn cờ mảng gồm toàn  </s> <s> nút con của gốc gọi là nút level  là các cách đặt một quân hậu vào hàng thứ  </s> <s> nút con của một nút level  gọi là nút level  là các cách đặt khả dĩ một quân hậu vào hàng thứ  </s> <s> cứ như thế đến nút level  ta sẽ thu được một cây gọi là cây đệu quy </s> <s> có thể thấy rằng thuật toán quay lui ở trên thực ra chính là một cách duyệt cây theo chiều sâu cho đến khi tìm được một nút ở level </s> <s> hình minh họa sau với được lấy từ  </s> <s> </s> <s> có thể thấy thuật toán trên có thời gian cỡ </s> <s> tuy nhiên nếu bạn cần một lời giải bất kì bài toán này có công thức giải và bạn chỉ mất thời gian để in lời giải ra  </s> <s> sudoku là một trò chơi khá phổ biến và chắc ai readers of this bog cũng biết </s> <s> trò chơi như sau có một hình vuông được chia thành x ô vuông con </s> <s> mỗi ô vuông con có giá trị trong khoảng từ  đến  </s> <s> ban đầu hình vuông có một số ô vuông con cho trước có điền sẵn số và còn lại là trống </s> <s> hãy điền các số từ  vào các ô con lại sao cho hàng ngang là các số khác nhau từ  đến  hàng dọc là các số khác nhau từ  đến  và mỗi khối x chính là các số khác nhau từ  đến  </s> <s> ví dụ một câu đố và lời gải tương ứng như sau hình được lấy từ  </s> <s> trong bài này mình sẽ giới thiệu cách giải sudoku bằng thuật toán quay lui </s> <s> ý tưởng của thuật toán cũng giống bài toán quân hậu </s> <s> mỗi bước tìm tập các giá trị khả dĩ để điền vào ô trống và sau đó đệ quy để điền ô tiếp theo </s> <s> giả mã của thuật toán ở đây chú ý mảng chỉ có kích thước  </s> <s> thủ tục kiểm trả xem giá trị có khả dĩ với ô không </s> <s> </s> <s> code của giả mã trên bằng c </s> <s> giả mã của thủ tục như sau </s> <s> code bằng c của giả mã code đầy đủ được cho ở cuối bài subset sum là một trong những </s> <s> trong bài này chúng ta sẽ thiết kế thuật toán quay lui để giải bài toán subset sum </s> <s> </s> <s> ví dụ và </s> <s> lời giải là true vì tập con của có tổng bằng  </s> <s> ý tưởng của thuật toán quay lui dựa trên quan sát sau xét một phần tử  tồn tại một dãy con có tổng bằng nếu một trong hai điều kiện sau là đúnggiả mã như sau </s> <s> code của giả mã bằng c ở mỗi bước của thuật toán quay lui ta gọi đệ quy hai lần trên mảng con của với kích thước nhỏ hơn  </s> <s> ta có code     uiuc </s> <s> </s> <s> </s> <s> cho một mảng phần tử </s> <s> tìm một dãy dài nhất  lớn nhất các chỉ số </s> <s> cho một dãy  tìm dãy con gia tốc dài nhất của </s> <s> tìm công thức đệ quy cho bài toán dựa vào đó thiết kế giải thuật quay lui </s> <s> hãy sửa đổi thuật toán quay lui ở trên của bài toán subset sum để in ra ít nhất một dãy con có tổng bằng của </s> <s>     trackback link on chào anh em đọc code giải sudoku của anh có đoạn em không hiểu lắm ạiffeasibles x y k    </s> <s> sxy  k </s> <s> solvesudokus x y </s> <s> sxy   </s> <s> tại sao sau khi gọi lại hàm solvesudokus x y lại phải gán sxy   vậy ạ on hi bạn muaxuan </s> <s> nếu bạn để ý kĩ hàm feasiblesxyk của mình đúng nếu đầu vào là ô </s> <s> do đó sau mỗi lần thử đặt vào ô  mình gán lại ô này bằng </s> <s> thực ra nếu để ý kĩ bạn sẽ thấy ta không nhất thiết phải làm như vậy </s> <s> bạn có thể đặt lệnh gán ra ngoài vòng lặp fork   k <  k </s> <s> lý do ta phải gán bằng  là như sau </s> <s> </s> <s> giả sử ô trước khi gán giá trị cho là ô cả hai ô ban đầu là rỗng </s> <s> nếu bạn vẽ cây đệ quy ra bạn sẽ thấy mỗi lần thử  bạn sẽ gán mọi giá trị có thể có cho ô tiêp theo </s> <s> sau khi thử  bạn thử </s> <s> khi thử  bạn lại phải thử lại toàn bộ giá trị có thể của </s> <s> do đó trước khi thử gán  bạn phải đảm bảo để code chạy đúng </s> <s> </s> <s> </s> <s> hi vọng mình trả lời đúng câu hỏi của bạn </s> <s> nếu bạn vẫn thấy chưa hoàn toàn trả lời được bạn có thể comment mình sẽ giải thích thêm </s> <s> </s> <s> on nếu như vậy thì sau lần cuối cùng thế k vào hàm feasiblelần lặp cuối cùng thì sxy cũng dc gán   thì đáng lý ra các ô sxy  rỗng ban đầu sau đó cũng đều   hết chứ sao nó lại lưu lại được  giá trị khác  vậy bạn  mình vẫn chưa hiểu lắm mong bạn giúp đỡ mình </s> <s> cảm ơn nhiều nhé bạn </s> <s> on khi lần cuối cùng bạn gán một giá trị vào và gọi đệ quy lần cuối thì lúc đó thủ tục sẽ in ra luôn  câu lệnh if đầu tiên của thủ tục sudoku </s> <s> sau khi đã in ra rồi thì thủ tục sẽ exit </s> <s> nếu để ý phần code bằng c minh họa thì sẽ có câu lệnh exit để thoát luôn khỏi chương trình ngay sau khi nó tìm được lời giải </s> <s> on ohhhh ra là vậy mình hiểu r cảm ơn bạn nhiều nha </s> <s> on ban đầu em cũng nghĩ như vậy nhưng không chắc nên đã hỏi cảm ơn anh đã trả lời 🙂 on không có gì cám ơn bạn đã ghé thăm </s> <s> on ở phần giả mã của bài n queens không biết có phải là e hiểu sai không nhưng nghĩ vòng lặp lớn phải cho j chạy từ  > n chứ sao lại là i ạ on đúng rồi bạn </s> <s> mình gõ sai </s> <s> trong phần code thật thì mình để là j </s> <s> cám ơn bạn đã chỉ ra lỗi </s> <s> on anh có thể gợi ý bài dãy gia tốc được không ạ  on cho mình hỏi có thể áp dụng giải thuật quay lui này để giải bài toán mã đi tuần được không on hi bạn </s> <s> câu trả lời là có nhé </s> <s> quay lui có thể áp dụng cho tất cả các bài toán mà bạn gặp trong thực tế </s> <s> vấn đề chỉ là nhanh hay chậm mà thôi </s> <s> hùng on em chào anh  em cũng đang bắt đầu làm quen với các thuật toán cơ bản này </s> <s> anh cho em hỏi ở bài nqueens tại sao lại là qijri và qijri vậy ạ  on hi châu </s> <s> đó là điều kiện kiểm tra xem nếu đặt vào ô rj thì ở đường chéo xuôi và ngược giao nhau tại rj đã đặt quân hậu nào trước đó hay chưa </s> <s> best </s> <s> hùng on anh có thể đưa bài giải của phần bài tập không ạ em mần nát óc mấy hôm nay mà chưa giải nổi on hi bạn </s> <s> cụ thể bạn muốn gợi ý bài nào mình có lẽ sẽ không có lời giải hoàn chỉnh nhưng sẽ gợi ý đến mức cụ thể nhất có thể </s> <s> hùng on bài  anh ơi </s> <s> em không biết phải làm thế nào để nó quay lui trong bài toán này </s> <s> em cảm ơn anh trước on hmm </s> <s> mình không biết gợi ý này có hữu dụng hay không bạn có thể thử ngẫm nghĩ </s> <s> bạn dùng thêm một biến j để lưu trữ phần tử cuối cùng trong dãy con tăng đã tìm được khi tới bước đệ quy hiện tại </s> <s> sau đó xét thêm một phần tử mới ai trong bước đệ quy hiện tại và so sánh ai với aj </s> <s>  nếu ai geq aj thì bạn có thể lựa chọn cho ai vào dãy con tăng hay không và đệ quy tiếp </s> <s> nếu không thì bạn bỏ qua ai và xét aibest </s> <s> hùng on bài toán subset sum hình như thiếu điều kiện mảng x là mảng không âm </s> <s> </s> <s> thanks on đúng rồi cám ơn bạn </s> <s> mình đã bổ sungpowered by and </s> <s> thuật toán tarjan tìm thành phần liên thông mạnh  tarjans strongly connected component algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ tìm hiểu tìm thành phần liên thông mạnh của một đồ thị có hướng </s> <s> trước đây mình có một bài về cho bài toán này </s> <s> ưu điểm của thuật toán kosaraju là dễ hiểu hơn thuật toán tarjan </s> <s> tuy nhiên thuật toán kosaraju chậm hơn so với thuật toán tarjan do nó duyệt qua đồ thị hai lần trong khi thuật toán tarjan chỉ duyệt qua đồ thị một lần </s> <s> ngoài ra ta có thể dễ dàng sửa đổi thuật toán tarjan để áp dụng cho bài toán tìm các thành phần song liên thông biconnected components của đồ thị vô hướng bài tập  </s> <s> trước khi đi sâu vào chi tiết mình khuyến khích bạn đọc xem lại bài và bài </s> <s> bài viết này của mình ít nhiều giống bài viết trên </s> <s> khái niệm thế nào là một thành phần bạn đọc xem tại bài  mình sẽ không nhắc lại khái niệm này ở đây </s> <s> gọi gve là đồ thị có hướng đầu vào </s> <s> gọi f là một rừng forest sau khi áp dụng dfs trên g </s> <s> gọi c là một thành phần liên thông mạnh nào đó của g </s> <s> từ định nghĩ của thành phần liên thông mạnh ta có </s> <s> observation  cho ta biết đỉnh của cùng một thành phần liên thông mạnh không thể nằm trên  cây khác nhau của f </s> <s> do đó ta có thể liệt kê các thành phần liên thông mạnh của g băng cách lần lượt xét mỗi cây của f </s> <s> gọi t là một cây dfs của gve có gốc tại nút r </s> <s> giả sử c là một thành phần liên thông mạnh có các đỉnh thuộc t </s> <s> đỉnh v được gọi là gốc của c nếu v là nút gần gốc r nhất trong c i </s> <s> e v được thăm sớm nhất trong số các đỉnh của c trong quá trình thực hiện thăm dfs </s> <s> từ định nghĩa của thành phần liên thông mạnh ta có để phát hiện thành phần liên thông mạnh c đầu tiên ta sẽ tìm gốc v của nó </s> <s> đâu là sự khác biệt của v so với các nút khác cùng nằm trong c vì v là đỉnh được thăm sớm nhất trong quá trình dfs ta có nếu bằng cách nào đó trong quá trình duyệt đồ thị ta đánh dấu được các đỉnh u có đường đi tới ít nhất một đỉnh w đã được thăm trước u và nằm trong cùng một thành phần liên thông mạnh với u thì ít nhất ta có thể phát hiện được các đỉnh gốc của các thành phần liên thông mạnh </s> <s> để minh họa ý tưởng trước hết ta xét trường hợp đặc biệt khi đồ thị không có chung chéo </s> <s> </s> <s> nhắc lại trong bài  ta đã phân loại các cung của g ra  loại sau khi thực hiện dfs cung của cây dfs tree arc cung ngược back arc cung xuôi forward arc và cung chéo cross arc </s> <s> ta sẽ sử dụng dfs để đánh dấu các đỉnh không phải gốc </s> <s> khi thực hiện dfs mỗi lần ta thăm một đỉnh mới u ta gán cho nó một biến thời gian iu đánh dấu thời điểm mà u được thăm </s> <s> ir   với r là gốc của cây t </s> <s>  ta sẽ coi iu như một định danh id của đỉnh u </s> <s> gọi au là định danh của một đỉnh w bất kì đã được thăm trước u cùng nằm trong một thành phần liên thông mạnh với u và tồn tại một đường đi có hướng từ u tới w </s> <s> ban đầu ta gán au iu và ta sẽ cập nhật lại au trong quá trình thăm dfs </s> <s> nếu sau khi thăm dfs au  iu thì ta biết rằng u là gốc của một thành phần liên thông mạnh chứa u </s> <s> giả mã như sau chứng minh tính đúng đắn của thủ tục ta coi như bài tập cho bạn đọc </s> <s> gợi ý chứng minh của bạn phải sử dụng tính chất đồ thị không có cung chéo </s> <s> nếu đồ thị có cung chéo thì thủ tục trên không còn đúng nữa như sẽ chỉ ra dưới đây </s> <s> mình khuyến khích bạn đọc tự tìm phản ví dụ trước khi đọc tiếp </s> <s> nhắc lại cung chéo là các cung u rightarrow v trong đó v được thăm trước u nhưng không phải là tổ tiên ancestor của u </s> <s> xét ví dụ trong figure  dưới đây </s> <s> các cung màu đỏ là các cung của cây dfs </s> <s> cung màu xanh là cung chéo duy nhất của đồ thị </s> <s> mỗi đỉnh được đánh dấu bằng một cặp iu au trong đó iu là định danh của u và au là giá trị thu được sau khi áp dụng thủ tục </s> <s> để ý vào đỉnh được tô đậm e </s> <s> đỉnh này có ie < ae nhưng nó lại là gốc của thành phần liên thông mạnh efg </s> <s> tổng quát hóa lên thuật toán cập nhật sẽ sai nếu như ta gặp một cung chéo u rightarrow w mà w lại không nằm trong cùng một thành phần liên thông mạnh với u </s> <s> tuy nhiên trong trường hợp này theo observation  thành phần liên thông mạnh chứa w trong quá trình dfs trước khi ta thăm u </s> <s> trở lại ví dụ trong figure  giá trị ae bị sai vì sự xuất hiện của cung chéo e rightarrow d trong khi d được thăm trước e và không nằm trong cùng một thành phần liên thông mạnh với e </s> <s> nếu bằng cách nào đó mỗi khi thăm xong một thành phần liên thông mạnh mà ta có thể xóa nó ra khỏi đồ thị thì thủ tục vẫn đúng </s> <s> đó là điểm chính trong ý tưởng của tarjan </s> <s> trong quá trình thăm tarjan sử dụng thêm một cấu trúc ngăn xếp s </s> <s> khi thăm mỗi đỉnh tarjan sẽ đẩy đỉnh đó vào s </s> <s> mỗi khi thăm xong các đỉnh của một thành phần liên thông mạnh c tarjan sẽ xóa các đỉnh của c ra khỏi s </s> <s> việc xóa ra khỏi s sẽ tương đương với việc đánh dấu c đã bị xóa ra khỏi đồ thị </s> <s> giả mã của thuật toán tarjan như sau </s> <s> code c </s> <s> phần bôi đỏ là sự thay đổi chính so với thủ tục tìm gốc của các thành phần liên thông mạnh khi không có cung chéo </s> <s> thủ tục su s và s lần lượt là thủ tục đẩy một đỉnh u vào ngăn xếp thủ tục lấy giá trị của phần tử trên đầu ngăn xếp mà không xóa khỏi ngăn xếp và thủ tục xóa một đỉnh ra khỏi ngăn xếp </s> <s> để chứng minh tính đúng đắn của thuật toán tarjan ta cần phải chứng minh  điều  mỗi khi một thành phần liên thông mạnh được dfs thăm xong thì đều bị xóa ra khỏi ngăn xếp  nếu v là gốc của một thành phần liên thông mạnh khi và chỉ khi av  iv và  một đỉnh chỉ bị xóa khỏi ngăn xếp khi thành phần liên thông mạnh chứa nó đã được thăm xong </s> <s> tất cả đều có thể chứng minh bằng quy nạp và mình coi đó như bài tập cho bạn đọc </s> <s> điều  có thể suy ra được từ điều  phỏng theo lập luận như trong trường hợp không có cung chéo </s> <s> điều  và  sẽ đảm bảo mỗi khi ta phát hiện được điểm gốc v thì toàn bộ phần của ngăn xếp từ đầu cho đến đỉnh v đều thuộc thành phần liên thông mạnh gốc tại v </s> <s>  r </s> <s> tarjan </s> <s> siam journal on computing  </s> <s>    </s> <s> áp dụng thuật toán tarjan cho đồ thị trong figure  vẽ lại trạng thái của ngăn xếp s trong mỗi bước đi của thuật toán </s> <s> cho một đồ thị đơn liên thông vô hướng gve </s> <s> ta gọi u in v là một đỉnh khớp cut vertex nếu như gsetminus u có ít nhất  thành phần liên thông </s> <s> ta gọi cạnh e in e là một cầu bridge edge nếu gsetminus e có ít nhất  thành phần liên thông </s> <s> hãy thay đổi thuật toán tarjan để liêt kê tất cả cầu và khớp của đồ thị gve trong thời gian ove </s> <s>      trackback link powered by and </s> <s> thuật toán kosaraju tìm thành phần liên thông mạnh  kosarajus algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ tìm hiểu thuật toán kosaraju thuật toán dễ hiểu nhất trong số các thuật toán tìm thành phần liên thông mạnh </s> <s> thuật toán này về cơ bản sẽ duyệt qua đồ thị  lần do đó có thời gian tiệm cận </s> <s> so với các thuật toán tìm thành phần liên thông mạnh khác như thuật toán cầukhớp của tarjan thì thuật toán kosaraju chậm hơn nhưng có cùng thời gian tiệm cận </s> <s> đồ thị trong phần này của chúng ta là đồ thị có hướng và có thể có cung song song ngược chiều </s> <s> mình khuyến khích bạn đọc xem lại một số khái niệm có hướng </s> <s> ta sẽ kí hiệu đồ thị đầu vào là và kí hiệu đồ thị có hướng thu được bằng cách đảo chiều các cạnh của đồ thị </s> <s> là </s> <s> ta gọi là đồ thị ngược reversed graph của đồ thị </s> <s> một đồ thị có hướng được gọi là strongly connected nếu tồn tại một đường đi có hướng từ tới  với mọi cặp đỉnh của đồ thị </s> <s> một đồ thị con của đồ thị có hướng được gọi là một thành phần liên thông mạnh strongly connected component nếu nó liên thông mạnh và tối đại maximal i </s> <s> e tồn tại một đồ thị con liên thông mạnh của mà là đồ thị con của </s> <s> xem ví dụ minh họa trong figure  </s> <s> </s> <s> ba đỉnh tạo nên một thành phần liên thông mạnh của đồ thị </s> <s> ba đỉnh không tạo nên thành phần liên thông mạnh vì tồn tại một đồ thị con liên thông mạnh lớn hơn chứa ba đỉnh này </s> <s> trong nhận xét trên không thay đổi được hiểu theo nghĩa là của thành phần liên thông mạnh không thay đổi </s> <s> hay nói cách khác nếu là tập đỉnh của một thành phần liên thông mạnh trong thì tập đỉnh này cũng là tập đỉnh của một thành phần liên thông mạnh trong </s> <s> chứng minh nhận xét trên coi như bài tập cho bạn đọc </s> <s> thuật toán kosaraju gồm hai bước chính xem thêm giả mã dưới đây    trackback link powered by and </s> <s> xử lý xâu </s> <s> http//vnoi </s> <s> info/wiki/algo/string/basic </s> <s> </s> <s> </s> <s> </s> <s> xâu  string  xuất hiện rất nhiều trong các bài toán </s> <s> bài viết này giới thiệu sơ qua một số thuật ngữ cũng như thuật toán về xâu </s> <s> </s> <s> </s> <s> thuật ngữ </s> <s> </s> <s> </s> <s> một xâu x là xâu con  substring  của một xâu y nếu x là một chuỗi các ký tự liên tiếp của y </s> <s> ví dụ ab và bc là  xâu con của abcd </s> <s> nhưng ac thì không phải là xâu con của abcd </s> <s> </s> <s> một xâu x là tiền tố  prefix  của một xâu y nếu x là xâu con của y và x xuất hiện ở đầu của xâu y </s> <s> ví dụ ab là tiền tố của abcd  nhưng bc không phải là tiền tố của abcd </s> <s> </s> <s> một xâu x là một tiền tố không tầm thường  proper prefix  của xâu y nếu nó là tiền tố của xâu y và khác xâu y </s> <s> </s> <s> một xâu x là hậu tố  hậu tố  của một xâu y nếu x là xâu con của y và x xuất hiện ở cuối của xâu y </s> <s> ví dụ cd là hậu tố của abcd  nhưng bc không phải là hậu tố của abcd </s> <s> </s> <s> một xâu x là một hậu tố không tầm thường  proper suffix  của xâu y nếu nó là hậu tố của xâu y và khác xâu y </s> <s> </s> <s> </s> <s> </s> <s> các dạng bài </s> <s> </s> <s> so khớp chuỗi string matching </s> <s> </s> <s> cho một xâu t và xâu s </s> <s> tìm tất cả các lần xuất hiện của xâu s trong xâu t </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> s  abc </s> <s> t  abcabcabc </s> <s> </s> <s> các lần xuất hiện    </s> <s> </s> <s> </s> <s> bài toán này còn được gọi là tìm kiếm cây kim  needle  trong đống rơm  haystack  vì nó xuất hiện trong thực tế khi ta cần tìm một xâu rất nhỏ trong một lượng dữ liệu rất lớn ví dụ google cần tìm từ khóa trong hàng tỉ tỉ trang web </s> <s> </s> <s> </s> <s> có  thuật toán chính để giải quyết bài này đó là </s> <s> </s> <s> </s> <s> thuật toán kmp </s> <s> hash </s> <s> z algorithm </s> <s> </s> <s> </s> <s> xâu đối xứng palindrome </s> <s> </s> <s> palindrome hay còn gọi là xâu đối xứng xâu đối gương là tên gọi của những xâu kí tự mà khi viết từ phải qua trái hay từ trái qua phải thì xâu đó không thay đổi </s> <s> vd madam ioi </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> có rất nhiều bài tập liên quan đến xâu đối xứng </s> <s> các bạn có thể tìm đọc ở trong các bài viết </s> <s> </s> <s> </s> <s> một vài bài tập qhd về palindrome </s> <s> hash </s> <s> palindrome tree </s> <s> </s> <s> </s> <s> cấu trúc dữ liệu </s> <s> </s> <s> </s> <s> </s> <s> trie là ctdl cơ bản nhất trong xử lý xâu </s> <s> nó giúp giải quyết các bài toán về tìm kiếm xâu </s> <s> </s> <s> </s> <s> lớp ctdl được gọi chung là suffix structures gồm </s> <s> </s> <s> </s> <s> suffix array </s> <s> suffix automaton </s> <s> suffix tree </s> <s> aho corasick </s> <s> </s> <s> </s> <s> gọi chung như vậy vì các ctdl này có thể dùng thay thế nhau để giải quyết cùng một lớp bài toán liên quan đến các suffix của cây </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> các bài adhoc </s> <s> </s> <s> trong xử lý xâu còn một vài thuật toán chỉ áp dụng được cho  bài toán adhoc </s> <s> </s> <s> </s> <s> thuật toán manacher </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho xâu s </s> <s> </s> <s> </s> <s> </s> <s> với mỗi vị trí i của xâu s tìm xâu đối xứng dài nhất nhận i là tâm </s> <s> </s> <s> với mỗi cặp i i của xâu s tìm xâu đối xứng dài nhất nhận i và i là tâm </s> <s> </s> <s> </s> <s> </s> <s> mô tả thuật toán </s> <s> </s> <s> tham khảo thêm ở link </s> <s> </s> <s> code </s> <s> </s> <s> const char dummy   </s> <s>   </s> <s> </s> <s> int manacher  string s   </s> <s> // để tránh phải xét riêng trường hợp độ dài xâu đối xứng chẵn / lẻ </s> <s> // ta thêm  ký tự dummy vào giữa các ký tự của s </s> <s> </s> <s> // chú ý phải đảm bảo dummy không có trong xâu s </s> <s> </s> <s> int n  s </s> <s> size       </s> <s> vector lt int gt f  vector lt int gt  n    </s> <s> </s> <s> // tạo xâu a bằng cách chèn ký tự dummy vào giữa các ký tự của s </s> <s> </s> <s> // ví dụ </s> <s> // s  aabcb </s> <s> // a  a </s> <s> a </s> <s> b </s> <s> c </s> <s> b </s> <s> string a  string  n  dummy  </s> <s> for  int i    i lt n  i    a  i   s  i /   </s> <s> </s> <s> int l    r     center  res    </s> <s> for  int i    j    i lt n  i    </s> <s> j   i gt r    min  f  l  r  i  r  i     </s> <s> while  i  j gt  ampamp i  j lt n ampamp a  i  j   a  i  j  j   </s> <s> f  i    j  </s> <s> if  i  j gt r   </s> <s> r  i  j  </s> <s> l  i  j  </s> <s>  </s> <s> </s> <s> int len   f  i   i    /       i    </s> <s> if  len gt res   </s> <s> res  len  </s> <s> center  i  </s> <s>  </s> <s>  </s> <s> // với mỗi vị trí i xâu đối xứng dài nhất nhận i là tâm là i  fi i  fi </s> <s> </s> <s> // ví dụ </s> <s> // s  aabcb </s> <s> // a  a </s> <s> a </s> <s> b </s> <s> c </s> <s> b </s> <s> // f   </s> <s> return res  </s> <s>  </s> <s> </s> <s> minimal string rotation </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một xâu s </s> <s> xét các xâu thu được từ xâu s bằng phép xoay </s> <s> ví dụ s  abcd  thì các xâu thu được từ s bằng phép xoay là </s> <s> </s> <s> </s> <s> abcd </s> <s> bcda </s> <s> cdab </s> <s> dabc </s> <s> </s> <s> </s> <s> tìm xâu có thứ tự từ điển nhỏ nhất </s> <s> </s> <s> </s> <s> mô tả thuật toán </s> <s> </s> <s> bạn có thể xem ở đây </s> <s> </s> <s> code </s> <s> </s> <s> // tính vị trí của xâu xoay vòng có thứ tự từ điển nhỏ nhất của xâu s </s> <s> int minmove  string s   </s> <s> int n  s </s> <s> length  </s> <s> int x  y  i  j  u  v  // x is the smallest string before string y </s> <s> for  x    y    y lt n   y   </s> <s> i  u  x  </s> <s> j  v  y  </s> <s> while  s  i   s  j   </s> <s>  u   v  </s> <s> if   i  n  i    </s> <s> if   j  n  j    </s> <s> if  i  x  break  // all strings are equal </s> <s>  </s> <s> if  s  i  lt s  j  y  v  </s> <s> else  </s> <s> x  y  </s> <s> if  u gt y  y  u  </s> <s>  </s> <s>  </s> <s> return x  </s> <s>  </s> <s> </s> <s> lyndon decomposition </s> <s> </s> <s> bài toán </s> <s> </s> <s> lyndon word là các xâu khác rỗng mà có thứ tự từ điển nhỏ hơn tất cả các xâu thu được bằng phép xoay của nó </s> <s> </s> <s> </s> <s> cho một xâu s </s> <s> tìm cách tách s thành ít nhất các xâu sao cho mỗi xâu đều là lyndon word </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> void lyndon  string s   </s> <s> int n   int  s </s> <s> length  </s> <s> int i    </s> <s> while  i lt n   </s> <s> int j  i    k  i  </s> <s> while  j lt n ampamp s  k  lt s  j   </s> <s> if  s  k  lt s  j  k  i  </s> <s> else  k  </s> <s>  j  </s> <s>  </s> <s> while  i lt k   </s> <s> cout ltlt s </s> <s> substr  i  j  k  ltlt    </s> <s> i  j  k  </s> <s>  </s> <s>  </s> <s> cout ltlt endl  </s> <s>  </s> <s> </s> <s> </s> <s> dfs phân loại cung và sắp xếp topo  dfs arc classification and topological sort </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong  chúng ta đã làm quen với thuật toán duyệt theo chiều sâu dfs trên đồ thị vô hướng </s> <s> chúng ta cũng chưa có dịp để thảo luận về các ứng dụng của thuật toán dfs mặc dù đây là một thuật toán có rất nhiều ứng dụng trong thiết kế giải thuật </s> <s> trong phần này chúng ta sẽ làm quen với ứng dụng của dfs trong bài toán sắp xếp topo topological sort </s> <s> </s> <s> để dễ phân biết ta kí hiệu đồ thị có hướng là </s> <s> đồ thị vô hướng thu được từ bằng cách bỏ qua hướng của cạnh ta sẽ kí hiệu là </s> <s> một số khái niệm khác ở chúng ta sẽ không nhắc lại ở đây nữa </s> <s> giả mã của thuật toán dfs cơ bản thăm đồ thị như sau gọi là các đỉnh được thăm ở dòng </s> <s> một đỉnh được gọi là reachable from  nếu tồn tại một đường đi có hướng từ tới </s> <s> dễ thấy với mọi  đỉnh nằm trong tầm với một trong các đỉnh của </s> <s> bây giờ ta muốn xem mỗi đỉnh nằm trong tầm với của đỉnh nào trong </s> <s> một đỉnh có thể nằm trong tầm với của hai hay nhiều đỉnh khác nhau trong  nhưng ở đây ta chỉ quan tâm để đỉnh đầu tiên trong  i </s> <s> e đỉnh có chỉ số nhỏ nhất mà nằm trong tầm với của đỉnh đó </s> <s> ngoài ra nếu nằm trong tầm với của  ta muốn in ra đường đi từ đến </s> <s> ta gọi mỗi đỉnh là của </s> <s> để thu được thông tin đó ta sẽ sửa đổi dfs một chút bằng cách thêm một vài mảng đánh dấu </s> <s> ta sử dụng mảng trong đó nếu là nguồn của </s> <s> ban đầu khởi tạo với mỗi </s> <s> để lưu vết đường đi từ đến  ta sẽ lưu một mảng trong đó nếu cung nằm trong đường đi từ tới </s> <s> hay nói cách khác đứng ngay trước trong đường đi có hướng từ tới </s> <s> ta gọi cung là bởi dfs </s> <s> khi ta đã có mảng thì đường đi từ tới viết theo thứ tự ngược là </s> <s> </s> <s> thủ tục in ra đường đi từ tới theo thứ tự ngược in thứ tự xuôi coi như bài tập cho bạn đọc </s> <s> code cgiả mã của dfs sửa đổi code cví dụ thực thi thủ tục trên trong hình dưới đây </s> <s> các cung màu đỏ là các cung được thăm bởi dfs </s> <s> nhìn vào hình vẽ ta thấy các cung này sẽ tạo thành một rừng forest gọi là dfs forest trong đó gốc của mỗi cây đỉnh được tô màu trong rừng là một đỉnh trong </s> <s> ta sẽ chứng minh điều này một cách hình thức hơn trong lemma  </s> <s> gọi là tập các cung được thăm bởi dfs </s> <s> ta có </s> <s> ta sẽ chứng minh mỗi là một cây có hướng gốc tại </s> <s> việc chứng minh các đỉnh của đều đến được từ coi như bài tập cho bạn đọc </s> <s> từ thủ tục dfs ở trên ta có nhận xét mỗi đỉnh  tồn tại duy nhất một đỉnh sao cho </s> <s> xét cây vô hướng tương ứng  giả sử có ít nhất một chu trình </s> <s> xét một chu trình vô hướng nào đó của có đỉnh </s> <s> gọi là một đỉnh của được thăm đầu tiên bởi dfs </s> <s> gọi là thứ tự các đỉnh dọc theo sao cho kề với </s> <s> do là đỉnh được thăm đầu tiên được thăm sau </s> <s> do các cạnh thăm bởi dfs đều có dạng và là duy nhất ta suy ra </s> <s> lập luận tương tự ta có do  ta dễ dàng suy ra hoặc </s> <s> do và  ta có </s> <s> nhưng điều này trái với giả thiết là đỉnh được thăm đầu tiên của </s> <s> do đó chu trình không tồn tại </s> <s> hay nói cách khác là một cây </s> <s> xét các cung được thăm và không được thăm bởi dfs ta có  loại cung saucác cung của cây dfs khá là dễ phân bệt và đó chính là cung trong đó là đỉnh được gọi ở dòng trong giả mã có đoạn mã màu đỏ ở trên </s> <s> trong điều kiên ở vòng for ở thủ tục  các cung mà là visitted sẽ có thể là một trong  loại cung chéo ngược hoặc xuối </s> <s> do đó chỉ với hai nhãn này thì ta chưa phân biết được cung ngược với các cung khác bài này ta chưa cần phân biệt cung chéo và cung xuôi </s> <s> nhắc lại cung ngược là cung từ một đỉnh tới một đỉnh tổ tiên của nó trong cùng một cây của rừng dfs </s> <s> để phát hiện ra cung xuôi ta phải dùng thêm một nhãn nữa là nhãn  bên cạnh hai nhãn là visitted và unvissited </s> <s> ý nghĩa các nhãn như sau dựa vào định nghĩa của các nhãn ta suy ra khi đang thăm đỉnh có nhãn visitting nếu ta bắt gặp đỉnh mànhư vậy ta gần như đã phân loại được được các cạnh của dfs </s> <s> để phân biệt cung xuôi và cung chéo ta cần sửa đổi dfs hơn nữa </s> <s> vấn đề này ta sẽ tìm hiểu trong bài sau </s> <s> giả mã như sau </s> <s> code cmột đồ thị có hướng được gọi là directed acyclic graph  đồ thị có hướng và không có chu trình nếu </s> <s> ở đây ta nhấn mạnh cụm từ </s> <s> điều đó có nghĩa là đồ thị vô hướng tương ứng vẫn có thể có chu trình </s> <s> đồ thị trong ví dụ ở trên không phải là dag do đồ thị đó có chu trình </s> <s> đồ thị trong hình dưới đây là một dag </s> <s> ta có bài toán sau gọi là đồ thị thu được bằng cách đảo ngược các cung của </s> <s> ta có nhận xét sau đỉnh của đồ thị được gọi là một source vertex nếu như không tồn tại sao cho </s> <s> nói cách khác là phát nếu bậc tới indegree của bằng </s> <s> đỉnh của đồ thị được gọi là một sink vertex nếu như không tồn tại sao cho </s> <s> hay nói cách khác là đỉnh thu nếu bậc lui outdegree của bằng </s> <s> ví dụ trong hình dưới đây các đỉnh là các đỉnh phát các đỉnh là các đỉnh thu </s> <s> ta có bổ đề sau </s> <s> nhận xét đỉnh phát của chính là đỉnh thu của </s> <s> do đó dựa vào fact  ta chỉ cần chứng minh luôn có một đỉnh phátchọn một đỉnh và đánh dấu đỉnh </s> <s> gọi là đỉnh sao cho </s> <s> nếu không tồn tại thì là đỉnh thu bổ đề là đúng </s> <s> nếu tồn tại ta tiếp tục đánh dấu và lặp lại quá trình đánh dấu như vậy cho đến khi ta gặp một đỉnh là đỉnh thu hoặc tồn tại một đỉnh sao cho và đã được đánh dấu </s> <s> trong trường hợp sau ta sẽ tìm được một chu trình có hướng bao gồm các đỉnh đã đánh dấu trái với giả thiết là dag </s> <s> gọi là tập các đỉnh nguồn của </s> <s> thêm vào một đỉnh và thêm cung </s> <s> gọi là đồ thị thu được </s> <s> dễ thấy nếu là dag thì cũng là dag và ngược lại </s> <s> </s> <s> ngoài ra nếu ta thực hiện dfs bắt đầu từ  ta sẽ chỉ thu được duy nhất một cây dfs gốc tại tại sao </s> <s> ta có bổ đề sau </s> <s> chiều thuận của bổ đề khá dễ để chứng minh </s> <s> nếu cây dfs gốc tại có cung là cung ngược và đều có nhãn unvisiting </s> <s> do đó là cung ngược sẽ là tổ tiền của trong cây dfs </s> <s> hay nói cách khác có một đường đi từ đến </s> <s> đường đi đó kết hợp với cạnh sẽ tạo thành một chu trình có hướng </s> <s> do đó không phải là dag </s> <s> ta chứng minh chiều ngược lại bằng phản chứng </s> <s> giả sử không phải là dag gọi là một chu trình có hướng của </s> <s> gọi là đỉnh đầu tiên của được thăm bởi dfs và là đỉnh mà </s> <s> đỉnh chỉ được đánh dấu là visited sau khi tất cả các đỉnh trong tầm với của reachable from  trong đó có  đã được đánh dấu là visited </s> <s> do đó khi ta thăm  đỉnh đang được đánh dấu là visiting </s> <s> như vậy là cung ngược trái với giả thiết là cây dfs không có cung ngược </s> <s> từ lemma  ta có thể giải problem  bằng cách thay đổi một chút thủ tục như sau </s> <s> code c nếu biểu diễn đồ thị bằng danh sách kề mỗi đỉnh có hai danh sách một danh sách các đỉnh gọi là các đỉnh tới sao cho và một danh sách khác lưu các đỉnh gọi là các đỉnh lui sao cho thì việc phát hiện các đỉnh phát sink có thể được thực hiện trong thời gian </s> <s> nếu ta chỉ lưu một danh sách là các đỉnh tới thì việc phát hiện nguồn có thể thực hiện trong thời gian bằng cách duyệt qua các cung và đánh dấu các đỉnh cuối của mỗi cung </s> <s> các đỉnh không bị đánh dấu chính là các đỉnh nguồn </s> <s> việc thêm đỉnh vào đồ thị cũng có thể được thực hiện trong thời gian </s> <s> thuật toán dfs có thời gian </s> <s> do đó thời gian của thuật toán là </s> <s>  đỉnh thêm vào đồ thị để việc trình bày thuật toạn được đơn giản hơn </s> <s> khi thực thi thuật toán  ta không nhất thiết phải thêm vào đỉnh này </s> <s> ngoài ra dựa vào chứng minh của lemma  ta có thể dễ dàng mở rộng thuật toán để in ra một chu trình có hướng trong trường hợp không phải là dag </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> của một đồ thị có hướng là một cách sắp xếp các đỉnh trên một đường thẳng sao cho với mỗi cung  đỉnh nằm bên trái đỉnh trên đường thẳng đó </s> <s> ví dụ hình  dưới đây là một sắp xếp topo của đồ thị trong hình  </s> <s> từ định nghĩa của săp xếp topo ta có thể dễ dàng thấy rằng nếu có một sắp xếp topo thì không thể có một chu trình có hướng </s> <s> hay nói cách khác là một dag </s> <s> ngược lại cho một dag  luôn tồn tại một sắp xếp topo cho </s> <s> ta sẽ chứng minh điều này bằng cách thiết kế một giải thuật để tìm sắp xếp topo đó </s> <s> ta có ta có thể coi sắp xếp topo giống như gán lại chỉ số trong tập cho mỗi đỉnh sao cho với mỗi cung  đỉnh được gán chỉ số nhỏ hơn </s> <s> để biểu diễn thứ tự của sắp xếp topo ta sẽ dùng một mảng trong đó nếu thì </s> <s> gọi là tập các đỉnh nguồn của </s> <s> ta có </s> <s> </s> <s> </s> <s> </s> <s> ta có thể đổi chỗ các đỉnh trong tập trong một sắp xếp topo của mà thứ tự các đỉnh sau khi đổi chỗ vẫn là thứ tự của một sắp xếp topo khác của </s> <s> dựa vào nhận xét trên ta có thể tìm một sắp xếp topo của dag như sau mỗi lần ta phát hiện ra một đỉnh nguồn mới ta sẽ đưa đỉnh đó vào vị trí còn trống đầu tiên của mảng và xóa đỉnh nguồn đó từ đồ thị </s> <s> ngoài ra ta sẽ dùng một tập hợp để lưu trữ các đỉnh nguồn của đồ thị hiện tại </s> <s> thuật toán như sau trong thực tế cài đặt ta sẽ không thực sự xóa đỉnh ra khỏi đồ thị mà ta chỉ cần dùng mảng để đánh dấu là đỉnh đó đã bị xóa </s> <s> ta sẽ chứng minh </s> <s> ta sẽ chứng minh nếu thì sẽ được gán chỉ số nhỏ hơn </s> <s> giả sử ngược lại tồn tại cung mà được gán chỉ số lớn hơn </s> <s> từ đó suy ra khi ta gán chỉ số cho  đã được gán chỉ số rồi và do đó sẽ bị xóa khỏi đồ thị </s> <s> do đó đã được đưa vào trong khỏi </s> <s> nhưng điều đó có nghĩa là khi vào  cung vẫn thuộc  trái với điều kiện khi ta đưa vào </s> <s> do đó cung như vậy không tồn tại </s> <s> hay nói cách khác đầu ra của thuật toán là một sắp xếp topo </s> <s> ta sẽ dùng danh sách kề với mỗi đỉnh  danh sách kề của chỉ lưu các đỉnh mà </s> <s> hay nói cách khác danh sách kề của chỉ lưu các outneighbor của </s> <s> ta sẽ dùng một mảng để đánh dấu đỉnh nào đã bị xóa ra khỏi đồ thị i </s> <s> e nếu bị xóa và nếu ngược lại </s> <s> thao tác khó nhất là kiểm tra xem sau khi xóa khỏi đồ thị có trở thành đỉnh nguồn hay không dòng if có comment ở giả mã trên </s> <s> ta có thể thực thi bằng cách duyệt qua các hàng xóm tới inneighbors của và kiểm tra xem hay không </s> <s> nếu mọi hàng xóm tới của đều đã bị xóa sẽ là đỉnh nguồn và ta đưa vào </s> <s> tuy nhiên để làm như vậy ta phải lưu thêm một danh sách các hàng xóm tới cho mỗi đỉnh và nếu không cẩn thận mỗi thao tác duyệt sẽ mất thời gian là bậc tới của  do đó làm cho tổng thời gian thành </s> <s> để giải quyết tình trạng này ta sẽ lưu thêm một mảng trong đó nếu bậc tới indegree của là trong đồ thị hiện tại không tính các đỉnh đã xóa </s> <s> do đó mỗi lần xóa ra khỏi đồ thị ta chỉ việc cập nhật lại mảng và đỉnh điều kiện ở dòng if sẽ trở thành xem giả mã dưới đây </s> <s> do đó thao tác kiểm tra này mất </s> <s> như vậy tổng thời gian của thuật toán là </s> <s> giả mã </s> <s> code c theo  giải thuật sắp xếp topo mà ta mô tả ở đây được phát triển bởi kahn  năm  </s> <s> ngoài ra còn giải thuật khác sử dụng dfs khá giống với thủ tục </s> <s> giải thuật này được mô tả bởi tarjan  vào năm  và được sử dụng trong textbook clrs </s> <s> code đầy đủ   </s> <s>  kahn arthur b </s> <s> communications of the acm  </s> <s>    </s> <s> </s> <s>  tarjan robert endre </s> <s> computer science department school of humanities and sciences stanford university  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford   </s> <s> nd ed </s> <s>  </s> <s> chapter  </s> <s>  </s> <s> mit press and mcgrawhill </s> <s>     trackback link powered by and </s> <s> đồ thị  introduction to algorithmic graph theory </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này và loạt bài tiếp theo chúng ta sẽ làm quen với đồ thị và các thuật toán với đồ thị </s> <s> đồ thị là một đối tượng tổ hợp combinatorial object được nghiên cứu và ứng dụng rất nhiều trong thực tế có lẽ hơi thừa khi viết điều này </s> <s> phần này chúng ta sẽbạn đọc có thể bỏ qua các phần mà các bạn đã quen thuộc </s> <s> note  của jeff erickson vẫn là tài liệu tham khảo chính của bài này </s> <s> một  kí hiệu là  gồm hai thành phầnta sẽ kí hiệu lần lượt là số đỉnh và số cạnh của đồ thị i </s> <s> e </s> <s> số đỉnh của đồ thị đôi khi ta cũng gọi là order of the graph </s> <s> các đỉnh ta sẽ kí hiệu bằng các chữ in thường như </s> <s> cạnh giữa hai đỉnh có thể là hoặc </s> <s> trong trường hợp đầu ta sẽ kí hiệu cạnh là  còn trong trường hợp sau ta sẽ kí hiệu là để chỉ rõ hướng của cạnh là từ đến </s> <s> thông thường khi ta nói cạnh thì ta ám chỉ cạnh vô hướng còn với một cạnh có hướng ta sẽ gọi nó là một arc </s> <s> hình của hình dưới đây biểu diễn một đồ thị vô hướng các cạnh là vô hướng và hình phải của hình dưới đây biểu diễn một đồ thị có hướng </s> <s> trong hình  cạnh được gọi là loop và hai cạnh giữa cặp đỉnh được gọi là hai parallel edges </s> <s> một đồ thị được gọi là một simple graph nếu nó không có cạnh lặp và cạnh song song hình  </s> <s> nếu một đồ thị không phải là đơn đồ thị thì chúng ta sẽ goị nó là multigraph </s> <s> trong các loạt bài đồ thị ở đây ta chủ yếu xét đơn đồ thị </s> <s> do đó khi nói đồ thị ta sẽ ngầm hiểu là đơn đồ thị </s> <s> ta có nếu đồ thị vô hướng với mỗi cạnh  đỉnh được gọi là kề incident với cạnh </s> <s> đỉnh được gọi là hàng xóm neighbor của </s> <s> degree của đỉnh  thường kí hiệu là  là số hàng xóm của đỉnh </s> <s> nếu đồ thị có hướng với mỗi cung  đỉnh được gọi là successor của và đỉnh được gọi là predecessor của </s> <s> indegree của là số đỉnh liền trước và outdegree của là số đỉnh liền sau </s> <s> ví dụ bậc tới của trong hình là  và bậc lui là </s> <s> ta gọi là subgraph của nếu và </s> <s> một walk là một dãy các cạnh trong đó hai cạnh liền kề bất kì và đều có chung một đỉnh </s> <s> </s> <s> chú ý là đường đi có thể đi qua một đỉnh nhiều lần </s> <s> trong trường hợp mỗi đỉnh được thăm đúng  lần ta sẽ gọi đó là path </s> <s> ví dụ trong đồ thì ở hình dưới đây là một đường đi giữa và và là một đường đi đơn giữa và </s> <s> một closed walk là một đường đi bắt đầu và kết thục tại cùng một điểm </s> <s> một cycle là một đường đi đơn bắt đầu và kết thúc tại cùng một điểm </s> <s> có thể nói một chu trình là một đường đi đóng đi qua mỗi điểm đúng  lần ngoại trừ điểm đầu và điểm cuối </s> <s> các khái niệm vừa rồi nếu áp dụng cho đồ thị có hướng thì ta sẽ thêm từ có hướng vào đằng trước </s> <s> </s> <s> một đồ thị vô hướng được gọi là connected nếu tồn tại một đường đi giữa mọi cặp điểm </s> <s> một đồ thị có hướng gọi là liên thông yếu nếu đồ thị vô hướng thu được từ đồ thị đó bằng cách bỏ qua hướng của cạnh là liên thông </s> <s> một đồ thị có hướng gọi là strongly connected nếu tồn tại một đường đi có hướng giữa mọi cặp điểm </s> <s> hiển nhiên nếu một đồ thị có hướng liên thông mạnh thì nó cũng liên thông yếu </s> <s> tuy nhiên điều ngược lại chưa chắc đúng ví dụ </s> <s> ví dụ đồ thị dưới đây là không liên thông đồ thị liên thông đồ thị liên thông yếu nhưng không mạnh và đồ thị liên thông mạnh </s> <s> nếu một đồ thị vô hướng không liên thông tập các đỉnh liên thông với nhau tạo thành một connected component </s> <s> tương tự như vậy ta có thể định nghĩa thành phần liên thông yếu hay mạnh cho đồ thị có hướng </s> <s> một đồ thị acyclic thì ta gọ là một forest </s> <s> một rừng chỉ có một thành phần liên thông thì ta gọi nó là một tree </s> <s> khái niệm cây và rừng có hướng tương tự như đồ thị có hướng </s> <s> có lẽ ta sẽ dừng định nghĩa khái niệm ở đây </s> <s> còn các khái niệm khác chúng ta sẽ định nghĩa khi mà chúng ta cần </s> <s> gần như tất cả các khái niệm cơ bản đã được liệt kê ở  mà bạn đọc có thể tham khảo thêm </s> <s> trong phần tiếp theo ta xét vô hướng </s> <s> các thao tác với đồ thị có hướng có thể được mở rộng và áp dụng một cách tương tự </s> <s> chúng ta có thể biểu diễn đồ thị bằng một adjacency matrix có kích thước trong đó có thể thấy ngay là kích thước của cách biểu diễn này là bất kể số lượng cạnh là nhiều hay ít </s> <s> theo fact  số lượng cạnh của một đồ thị có thể lên tới cạnh ta gọi là đồ thị dầy </s> <s> do đó cách biểu diễn này có thể nói là phù hợp với đồ thị dầy </s> <s> tuy nhiên nhiều đồ thị đặc biệt các đồ thị thực tế như mạng xã hôi số lượng cạnh ta gọi là đồ thị thưa </s> <s> do đó cách biểu diễn này khá tốn kém với đồ thị thưa </s> <s> để tiết kiệm bộ nhớ với mỗi đỉnh  ta lưu trữ một danh sách các đỉnh kề với nó </s> <s> như vậy đỉnh cần một danh sách có phần tử </s> <s> do đó tổng số phần tử của các danh sách là tổng là do mỗi cạnh được đếm hai lần trong tổng bậc của hai đỉnh kề với nó </s> <s> cách biểu diễn như trên gọi là biểu diễn bằng adjacency list </s> <s> cách biểu diễn này phù hợp với cả đồ thị thưa </s> <s> mặc dù tiết kiệm bộ nhớ cách biểu diễn này không phù hợp với một số thao tác của đồ thị </s> <s> bảng dưới đây so sánh hai cách biểu diễn vừa trình bày </s> <s> ví dụ về hai cách biểu diễn đồ thị cho trong hình dưới đâyta còn có thể kết hợp cách biểu diễn danh sách kề với một vài cấu trúc dữ liệu khác </s> <s> cụ thể thay vì dùng danh sách liên kết để biểu diễn các đỉnh kề với một đỉnh  ta còn có thể dùng bảng băm hoặc cấu trúc cây để biểu diễn </s> <s> trong khuôn khổ các bài viết ở đây ta ít dùng hoặc không dùng các cấu trúc như vậy </s> <s> ngoài ra ta có thể biểu diễn đồ thị bằng cách liệt kê tất cả các cặp thỏa mãn </s> <s> cách biểu diễn này có bộ nhớ là </s> <s> tuy nhiên việc thực hiện các thao tác cơ bản trong cách biểu diễn này sẽ rất tốn kém </s> <s> đôi khi ta có thể kết hợp cách biểu diễn này với cách biểu diễn danh sách kề để tận dụng ưu thế của cả hai cách biểu diễn mà bộ nhớ vẫn là tuyến tính </s> <s> ta gọi bài toán trên là bài toán duyệt đồ thị từ một đỉnh </s> <s> để đơn giản ta sẽ giả sử đồ thị là liên thông </s> <s> trường hợp đồ thị không liên thông sẽ được mở rộng ở cuối phần này </s> <s> cách thức chung để duyệt đồ thị như sau ta sẽ sử dụng  loại nhãn để gán cho các đỉnh của đồ thị unvisited và visited </s> <s> ban đầu tất cả các đỉnh được đánh dấu là chưa thăm unvisited </s> <s> ta sẽ duy trì một tập hợp thực thi tập thế nào ta sẽ tìm hiểu sau ban đầu khởi tạo rỗng </s> <s> ta sẽ thực hiện lặp  bước sau thuật toán dừng khi </s> <s> giả mã như sau một đỉnh có thể được đưa nhiều lần vào tập do đó không hẳn là tập hợp vì có nhiều phần tử giống nhau </s> <s> ví dụ xét  đỉnh đôi một kề nhau </s> <s> đỉnh được lấy ra từ đầu tiên đánh dấu là đã thăm </s> <s> ngay sau đó và sẽ được đưa vào </s> <s> tiếp theo lấy ra khỏi và đánh dấu là đã thăm </s> <s> lúc này ta lại tiếp tục đưa vào một lần nữa vì theo giả mã trên là hàng xóm của và có nhãn chưa thăm </s> <s> ở đây ta sẽ kiểm tra xem một đỉnh đã nằm trong hay chưa trước khi đưa vào </s> <s> từ giả mã trên ta thấy tập lưu các đỉnh </s> <s> giả sử rằng ta sử dụng một cấu trúc để thực thi sao cho việc thêm vào hoặc lấy một đỉnh bất kì dòng và dòng cuối cùng được thực hiện trong thời gian ví dụ nếu thưc thi bằng danh sách liên kết thì thêm vào hoặc lấy ra đỉnh ở đầu danh sách có thể được thực hiện trong thời gian  </s> <s> ta có một vài nhận xét sautừ các nhận xét trên ta suy ra tổng thời gian tính toán của thuật toán là </s> <s> trong trường hợp đồ thị không liên thông ta phải duyệt qua từng thành phần liên thông một </s> <s> do đồ thị có tối đa thành phần liên thông ta có nếu ta thực thi bằng danh sách liên kết thì có lẽ không có gì thú vị cả </s> <s> tuy nhiên nếu ta thực thi bằng hàng đợi queue hoặc ngăn xếp stack thì ta sẽ thu được một số tính chất thú vị từ đồ thị </s> <s> trường hợp ta thực thi bằng hàng đợi ta gọi thuật toán là breath first search  bfs </s> <s> trường hợp ta thực thi bằng ngăn xếp ta gọi thuật toán là depth first search  dfs </s> <s> sau đây ta sẽ thảo luận cả hai thuật toán </s> <s> như đã nói ở trên thuật toán bfs sẽ thực thi bằng hàng đợi </s> <s> ta sẽ thay thủ tục bằng thủ tục và thủ tục bằng thủ tục </s> <s> ngoài khung cơ bản như thuật toán ở trên ta sẽ gán cho mỗi đỉnh một nhãn </s> <s> giá trị của  như ta sẽ chỉ ra dưới đây là khoảng cách ngắn nhất từ tới </s> <s> giả mã như sau </s> <s> code của giả mã bằng cví dụ ta thực thi thuật toán trên với đồ thị trong hình bên trái và kết qủa thu được trong hình bên phải </s> <s> các số ứng với các đỉnh tương ứng là nhãn của các đỉnh đó </s> <s> những cạnh màu đỏ laf những cạnh mà có nhãn unvisited ở dòng được thăm bởi bfs </s> <s> gọi mức level của một đỉnh  kí hiệu là  là khoảng cách ngắn nhất từ đỉnh tới </s> <s> trong ví dụ trên đỉnh có mức  có mức  </s> <s> </s> <s> </s> <s> </s> <s> bằng quy nạp ta có thể chứng minh rằng coi như bài tập cho bạn đọc các đỉnh ở mức sẽ được thăm sau các đỉnh ở các mức </s> <s> </s> <s> ta quy nạp trên biến để chứng minh rằng nhãn của cũng chính là mức của  i </s> <s> e </s> <s> xét một đỉnh </s> <s> lần đầu tiên được đưa vào hàng đợi là khi ta thăm một đỉnh nào đó kề với và theo claim trên mức của sẽ nhỏ hơn mức của </s> <s> từ định nghĩa của mức ta suy ra </s> <s> theo giả thiết quy nạp  ta suy ra </s> <s> theo giả mã khi đưa vào hàng đợi ta cập nhật </s> <s> do đó  dpcm </s> <s> kết hợp theorm  và theorem  ta có hệ quả sau corollary  có ý nghĩa rất lớn vì ta sẽ thấy trong bài  thuật toán tốt nhất tìm đường đi ngắn nhất với đồ thị có trong số có thời gian ngay cả trong đồ thị thưa m  on </s> <s> thuật toán bfs sẽ là thuật toán đơn giản và hiệu quả để tìm đường đi ngắn nhất trong đồ thị không có trong số </s> <s> trong duyệt theo chiều sâu dfs ta thực thi sử dụng ngăn xếp </s> <s> ta sẽ thay thủ tục bằng thủ tục và thủ tục bằng thủ tục </s> <s> </s> <s> code của giả mã bằng cnếu chỉ nhìn qua thi không thấy sự khác biệt qúa nhiều giữa dfs và thuật toán chung để duyệt đồ thị </s> <s> tuy nhiên bằng cách cập nhật thêm một vài thông tin trong quá trình duyệt đồ thị giống như bfs ta có thể phát hiện ra những tính chất rất thú vị của dfs </s> <s> ta sẽ thảo luận những tính chất đó ở bài sau </s> <s> hình dưới đây là một ví dụ thực thi dfs trên đồ thị </s> <s> số tương ứng của mỗi đỉnh ở bên phải là thứ tự của đỉnh thăm bởi dfs </s> <s> ngoài thủ tục lặp dfs sử dụng ngăn xếp như trên có lẽ một trong số chúng ta cũng khá quen thuộc với thủ tục thực thi dfs sử dụng đệ quy sau </s> <s> code của giả mã bằngta thấy cách thứ hai đơn giản hơn do không phải thực thi stack </s> <s> tuy nhiên cách này sẽ sử dụng nhiều call stack của máy tính và trong trường hợp độ sâu đệ quy lớn có thể gây ra stack overflow </s> <s> một trong những ứng dụng đơn giản nhất để duyệt đồ thị là phát hiện ra các thành phần liên thông </s> <s> để phát hiện ra các thành phần liên thông của đồ thị vô hướng ta thực hiện lặp lại thao tác sau chọn một đỉnh chưa thăm và thực hiện thăm các đỉnh trong thành phần liên thông chứa </s> <s> thủ tục sau đây trả lại số thành phần liên thông của đồ thị đầu vào </s> <s> code ccode đầy đủ  </s> <s> </s> <s>  jeff erickson  uiuc </s> <s> </s> <s>  diestel reinhard </s> <s> grad </s> <s> texts in math  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>      trackback link powered by and </s> <s> thuật toán pollardrho phân tích ra thừa số pollardrho algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này là tiếp nối của về bài toán phân tích ra thừa số </s> <s> trong bài này chúng ta sẽ thảo luận thuật toán pollardrho được đề xuất bởi pollard  và năm  </s> <s> độ phức tạp của thuật toán là </s> <s> chúng ta tạm quên bài toán phân tích ra thừa số để xét hai bài toán thú vị sau như ta đã biết theo nguyên lý dirichlet hay  trong  người thì sẽ có ít nhất hai người có cùng ngày sinh không tính năm nhuận nhé </s> <s> không có gì đặc biệt trong phát biểu này </s> <s> tuy nhiên nhìn dưới quan điểm của xác suất thì mở rộng của phát biểu này có những tính chất rất thú vị </s> <s> theo quan điểm của xác suất phát biểu trên có thể được phát biểu lại như sau trong  người xác suất tìm được hai người có cúng ngày sinh là </s> <s> giả sử xác xuất một người bất kì có ngày sinh vào một ngày nào đó trong năm là </s> <s> ta mở rộng phát biểu đó ra bài toán sau </s> <s> lời giải của bài toán trên vô cùng kinh ngạc chỉ cần  người </s> <s> lời giải đó minh họa cho một nghịch lí mà người ta gọi là ngịch lí ngày sinh nhất  </s> <s> gọi là sự kiện trong người không có hai người nào có cùng ngày sinh </s> <s> cố định ngày sinh của người thứ nhất </s> <s> ta códo đó ta có với  ta có   do đó xác suất để ít nhất hai người có cùng ngày sinh là </s> <s> </s> <s> bằng phân tích tương tự như trên xác suất để không có hai người nào trong số người có cùng ngày sinh trong thế giới là giả sử nhỏ hơn nhiều so với như với cũng là nhỏ hơn nhiều rồi sử dụng xấp xỉ  ta có thay thì ta có </s> <s> từ đó suy ra xác suất tìm được hai người có cùng ngày sinh ít nhất là </s> <s> để giải bài toán này chúng ta có thể tiến hành duyệt danh sách từ phần tử  lưu giữ thông tin về những phần tử đã duyệt qua </s> <s> mỗi lần duyệt đến phần tử mới ta lại so sánh với các phần tử đã duyệt qua để phát hiện vòng </s> <s> thuật toán này sẽ mất thời gian và bộ nhớ </s> <s> </s> <s> tuy nhiên thuật toán rùa và thỏ  hay còn gọi thuật toán floy sẽ cho ta lời giải với thời gian và bộ nhớ </s> <s> như cái tên của thuật toán ta sẽ sử dụng hai con trỏ </s> <s> một con trỏ chạy với vận tốc và con kia chạy với vận tốc </s> <s> nếu hai con trỏ gặp nhau thì danh sách có vòng </s> <s> giả mã như sau </s> <s> bây giờ chúng ta sẽ quay trở lại bài toán phân tích ra thừa số </s> <s> thuật toán pollard kết hợp ý tưởng từ hai bài toán tưỏng chừng như chả liên quan gì ở trên </s> <s> để việc phân tích và trình bày thuật toán đơn giản giả sử trong đó là hai số nguyên tố </s> <s> việc mở rộng phân tích ra trường hợp tổng quát coi như bài tập cho bạn đọc </s> <s> giả sử ta chọn số ngẫu nhiên trong khoảng </s> <s> xét dãy </s> <s> nếu tồn tại hai số sao cho  thì ta có </s> <s> từ đó suy ra chia hết cho </s> <s> do đó ta có thể tính tính ước chung lớn nhất có thể được thực hiện khá hiệu quả sử dụng thao tác bít </s> <s> một câu hỏi đặt ra là cần sinh bao nhiêu số ngẫu nhiên thì xác suất tìm được là khá cao nếu phân tích kĩ bài toán này thì đây chính là bài toán trong nghịch lý ngày sinh </s> <s> thế giới ở đây chính là thế giớ đồng dư modulo và số ngày ở đây là </s> <s> do đó nếu chọn thì xác suất tìm được hai số ta gọi là cặp số tốt như vậy ít nhất là </s> <s> để tăng xác suất tìm được cặp số tốt ta chỉ việc tăng lên </s> <s> cụ thể nếu tăng lên thì xác suất là chứng minh coi như bài tập  chỉ cần mở rộng chứng minh ở trên </s> <s> ví dụ ta muốn xác suất là thì ta sẽ tăng lên  </s> <s> nhưng ở đây ta đang đi tìm  làm sao ta xác định được  thực tế ta không cần xác định mà ta cứ sinh ngẫu nhiên có thể vô hạn cho đến khi ta tìm được thỏa mãn </s> <s> phân tích trên chỉ ra rằng quá trình sinh đó sẽ </s> <s> gỉa sử ta đã sinh được số ngẫu nhiên và ta cũng đã biết rằng sẽ tồn tại một cặp số tốt trong số các số đã sinh đó </s> <s> để tìm cặp số tốt này ta phải duyệt qua cặp </s> <s> thời gian để duyệt đó là nhắc lại  cách này không tốt hơn thuật toán mà chúng ta đã biết </s> <s> wait bài toán phát hiện vòng trong danh sách liên kết có thể có liên quan gì đó ở đây sự thông minh của thuật toán pollard chính là ở chỗ này </s> <s> để giải quyết vấn để này pollard đề xuất sử dụng một hàm giả ngẫu nhiên để sinh dãy </s> <s> hàm đơn giản nhất thỏa mãn tính chất này là mình không đi sâu giải thích tại sao knuth  là nguồn tham khảo khá đầy đủ của vấn đề này </s> <s> như vậy ta sẽ chỉ sinh một số hoàn toàn ngẫu nhiên và các phần tử còn lại sẽ sinh được sinh dựa trên </s> <s> dãy số ngẫu nhiên ta thu được cuối cùng là do dãy được sinh bởi hàm  nếu tồn tại thì ta dễ dàng suy ra nói cách khác ta sẽ có một vòng cycle trong các dãy số bở khi lấy giống như hình vẽ vòng của danh sách liên kết ở trên </s> <s> để tìm được giá trị thỏa mãn hay tương đương với  ta chỉ cần phát hiện ra vòng trong dãy này </s> <s> đó chính là vấn đề chúng ta đã giải quyết trong phần phát hiện vòng của danh sách liên kết </s> <s> như vậy ta đã có đầy đủ các công cụ cần thiết để thực thi thuật toán pollard </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầu đủ được đính ở cuối bàithủ tục kiểm tra xem có phải là số nguyên tố hay không sử dụng </s> <s> chú ý do các phân tích trên chỉ đúng khi đủ lớn </s> <s> do đó nếu quá nhỏ ta có thể sử dụng thuật toán chính là dòng trong giả mã trên </s> <s> </s> <s> gọi là ước số nguyên tố nhỏ nhất của </s> <s> gọi là thời gian để thuật toán tìm được </s> <s> do có tối đa ước số xem phần phân tích thuật toán của  thuật toán sẽ mất để phân tích thành các thừa số nguyên tố </s> <s> theo phân tích ở trên thủ tục  có thời gian kì vọng là để tìm ra một thừa số của có thể không nguyên tố do phép lấy ước chúng ở dòng của giả mã mà là một thừa số nguyên tố của </s> <s> sau khi đã tìm được  thuật toán tiếp tục gọi đệ quy để tìm </s> <s> nếu không quá nhỏ nếu không ta có thể tìm được với thời gian hằng số ta sẽ tiếp tục sử dụng  trong thời gian kì vọng  để tìm ra một thừa số của mà là một thừa số nguyên tố của </s> <s> tiếp tục như vậy ta sẽ phả mất thời gian là  trong đó là số thừa số nguyên tố của </s> <s> do  ta có </s> <s> do đó ta có code </s> <s>  pollard j </s> <s> m </s> <s>  </s> <s>  bit numerical mathematics   – </s> <s> </s> <s>  knuth donald e </s> <s> seminumerical algorithms  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn     trackback link on vì sao tn  √n </s> <s> logn  thời gian tính là otnlogn mà kết quả định lý lại là o√n ạ </s> <s> với lại chỗ knuth giải thích cho việc chọn fxx nằm ở phần nào của quyển sách vậy ạ </s> <s> </s> <s> cám ơn a ạ </s> <s> on hi bk </s> <s> cám ơn bạn đã đặt câu hỏi </s> <s> về câu hỏi đầu tiên bạn chú ý và là hai kí hiệu khác nhau </s> <s> kí hiệu sẽ bỏ qua nhân tử vì nó quá bé so với khi đủ lớn </s> <s> kí hiệu ít được dùng trong khoa học máy tính </s> <s> mình dùng kí hiệu này vì nó cho biểu thức đẹp hơn </s> <s> về câu hỏi  bạn xem trang  đoạn văn cuối cùng của vol  taocp </s> <s> hùng on vâng ạ cám ơn a nhiềupowered by and </s> <s> phân tích ra thừa số  integer factorization </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài toán phân tích một số nguyên thành tích của các thừa số nguyên tố là một bài toán khó nằm trong lớp các bài tóan  </s> <s> hiện tai chưa có thuật toán thời gian đa thức polynomial time nào có thể giải được bài toán này nếu có thì toàn bộ các hệ thống bảo mật hiện tại sẽ đổ vỡ </s> <s> tuy nhiên điều đó không có nghĩa là chúng ta hoàn toàn không giải được </s> <s> trong phần này chúng ta sẽ thảo luận một số thuật toán thời gian lũy thừa để giải bài toán này qua đó có một cái nhìn sâu hơn về bài toán </s> <s> </s> <s> chú ý theo định lý cơ bản của số học  phép phân tích với là duy nhất </s> <s> ý tưởng cơ bản nhất để giải quyết bài toán này là duyệt dãy số nguyên tố để tìm ước nguyên tố của </s> <s> thông thường sinh dãy số nguyên tố như vậy có thể rất tốn kém phương pháp thường dùng là sử dụng tốn khá nhiều bộ nhớ </s> <s> do đó ta sẽ duyệt qua một dãy dễ sinh hơn dãy sao cho  có thể chứa hợp số </s> <s> donald knuth  p </s> <s>  đề xuất sử dụng dãy ngoại trừ  số đầu tiên dãy có khoảng cách giữa hai số kề nhau thay đổi liên tục giữa và </s> <s> giả mã như sau </s> <s> mặc dù có thể chứa hợp số ta có thể dễ dàng chứng minh coi như bài tập cho bạn các số đầu ra của thuật toán luôn là các số nguyên tố và có giá trị tăng dần </s> <s> từ giả mã trên ta thấy số lần lặp của vòng lặp chính bằng số phần tử của dãy </s> <s> hơn nữa dãy càng gần dãy thì số lần lặp càng ít </s> <s> trong trường hợp dãy như đề xuất  số lần lặp xấp xỉ bằng </s> <s> trường hợp  số phần tử của chính là số lượng các số nguyên tố </s> <s> gọi là số các số nguyên tố nhỏ hơn hoặc bằng </s> <s> định lý sau cho chúng ta biết giá trị tiệm cận của  do đó theo prime number theorem số lần lặp của vòng trong trường hợp là  tốt hơn đề xuất lần </s> <s> với số nguyên là rất lớn sự khác nhau này thực sự không nhiều </s> <s> chúng ta có thể cải tiến thuật toán dựa trên nhận xét sau nếu không phải số nguyên tố thì </s> <s> do đó trong vòng lặp ở trên ta chỉ việc thêm thủ tục kiểm tra tính nguyên tố của sử dụng thuật toán  và thay điều kiện bằng </s> <s> giả mã của thuật toán như sau </s> <s> code của giả mã bằng c code đầy đủ được đính kèm ở cuối bài nhắc lại là ước số nguyên tố lớn thứ  của </s> <s> vòng lặp ít nhất phải duyệt đến phần tử thứ của mảng sao cho </s> <s> sau khi đã duyệt và in ra   do đó thủ tục kiểm tra tính nguyên tố ở dòng sẽ in ra và thuật toán kết thúc </s> <s> từ đó suy ra số lần lặp xấp xỉ là </s> <s> do  số lần lặp là </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ta sẽ tính tổng số phép kiểm tra tính nguyên tố mỗi phép kiểm tra sử dụng thao tác bít </s> <s> thủ tục kiểm tra tính nguyên tố sẽ được gọi mỗi lần tìm thấy một ước số của </s> <s> do đó tổng số phép kiểm tra tính nguyên tố xấp xỉ </s> <s> ta có từ đó suy ra tổng số phép kiểm tra nguyên tố là </s> <s> tương tự như vậy tổng số phép tính xấp xỉ là </s> <s> mỗi phép khai căn có thể được thực hiện sử dụng thao tác bít </s> <s> do đó tổng thời gian cho phép khai căn là </s> <s> như vậy tổng thời gian của thuật toán là trong đó nhân tử là thời gian để thực hiện một phép cộng hoặc đồng dư bít </s> <s> code  </s> <s>  knuth donald e </s> <s> seminumerical algorithms  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>  pollard john m </s> <s> bit numerical mathematics  </s> <s>    </s> <s>   trackback link powered by and </s> <s> thuật toán millerrabin kiểm tra tính nguyên tố  millerrabin primality testing </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong phần này chúng ta sẽ tìm hiểu bài toán kiểm tra tính nguyên tố primality testing của một số nguyên </s> <s> đây là một bài toán có rất nhiều ứng dụng trong các lĩnh vực của tin học đặc biệt trong bảo mật thông tin </s> <s> bài toán phát biểu như sau </s> <s> bằng cách duyệt qua mỗi phần tử và kiểm tra xem có phải là ước của hay không ta có thể giải bài toán này trong thời gian có thể tăng tốc thêm một chút bằng cách chỉ kiểm tra và các số lẻ </s> <s> thuật toán không phải là thuật toán có thời gian đa thức polynomial time vì đầu vào có thể biểu diễn bởi bit trong khi thời gian tính toán là </s> <s> do đó thuật toán này không thể áp dụng cho các số rất lớn </s> <s> bài toán kiểm tra tính nguyên tố có thể được thực hiện trong thời gian đa thức hay không là một câu hỏi mở trong một khoảng thời gian rất dài và được giải quyết năm  bởi manindra agrawal neeraj kayal và nitin saxena thuật toán  </s> <s> tuy nhiên thuật toán aks sử dụng thao tác bít và vì vậy không phù hợp với các ứng dụng thực tế </s> <s> thuật toán millerrabin là thuật toán ngẫu nhiên kiểm tra tính nguyên tố sử dụng thao tác bít với xác suất lỗi thấp </s> <s> do đó thuật toán này được áp dụng khả phổ biển trong các ứng dụng thực tế </s> <s> ban đầu thuật toán này được đề xuất bở miller  và là thuật toán tất định deterministic </s> <s> sau đó rabin  sửa đổi thành thuật toán ngẫu nhiên </s> <s> về lịch sử của thuật toán xem thêm tại </s> <s> do phân tích các thuật toán trong phần này dùng một số kiến thức về đồng dư và lý thuyết nhóm mình sẽ trình bày các bổ đề và thuật toán trước </s> <s> chứng minh và phân tích mình sẽ đẩy về cuối bài viết </s> <s> trước hết chúng ta xem xét thuật toán dựa trên </s> <s> định lý nhỏ fermat phát biểu như sau dựa trên fermats little theorem ta có thuật toán kiểm tra số nguyên tố của một số nguyên code của giả mã bằng ctrong giả mã trên hàm  tính ước số chung lớn nhất giữa hai số nguyên dựa trên </s> <s> hàm này sử dụng thao tác cơ bản cộng trừ modulo </s> <s> các thao tác cơ bản này đều được thực hiện sử dụng số phép thao tác bít bằng số lương bít biểu diễn </s> <s> hàm  tính sử dụng phép nhân  số bít </s> <s> để đơn giản ta sẽ giả sử phép nhân  số bít được thực hiện sử dụng thao tác bít  về mặt  ta có thể thực hiện phép nhân sử dụng thao tác bít </s> <s> do đó ta có theo định lí fermat thuật toán luôn trả lại kết quả đúng nếu đầu vào là số nguyên tố </s> <s> hầu hết các thuật toán kiểm tra nguyên tố ngẫu nhiên thỏa mãn tính chất này </s> <s> tuy nhiên nếu đầu vào là một hợp số thì thuật toán vẫn có thể trả lại prime </s> <s> một thuật toán ngẫu nhiên kiểm tra tính nguyên tố gọi là nếu với một đầu vào là hợp số đầu ra của thuật toán là prime </s> <s> với thuật toán  giả sử là một hợp số thuật toán sẽ trả lại prime nếu số lựa chọn ngẫu nhiên trong thuật toán thỏa mãn </s> <s> tồi tệ hơn nữa tồn tại những hợp số gọi là số  thỏa mãn tính chất với mọi số  </s> <s> do đó thuật toán chỉ trả lại composite khi </s> <s> tuy nhiên các ước số của cũng là những số lớn thì xác suất chọn được số nguyên có rất nhỏ </s> <s> tóm lại nếu là số carmichael thì thuật fermat có lỗi khá cao </s> <s> may mắn là số lượng các số carmichael so với  do đó thuật toán vẫn được sử dụng trong một số ứng dụng </s> <s> ngược lại nếu không phải là số carmichael thuật toán trả lại kết qủa đúng với xác xuất khá cao do đó bằng cách thực hiện lặp lại thuật toán  lần xác suất lỗi của thuật toán chỉ còn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán millerrabin có độ chnh xác khá cao ngay cả khi đầu vào là số carmichael </s> <s> thuật toán được xây dựng dựa trên định lí sau hoặc tồn tại thỏa mãn và </s> <s> </s> <s>  gọi số nguyên là căn bậc  đồng dư của modulo nếu </s> <s> nếu là một số nguyên tố ta có thể dễ dàng chứng minh được là căn bậc  đồng dư duy nhất của modulo </s> <s> gọi  ta có gọi là số nhỏ nhất sao cho </s> <s> số tồn tại vì </s> <s> theo phương trình  ta có và do đó </s> <s> từ đó ta suy ra theorem  </s> <s> gọi là một bằng chứng witness cho biết là hợp số nếu cả và trong theorem  đều không thỏa mãn </s> <s> với bằng chứng và số nguyên  thủ tục  sẽ trả về composite nếu là bằng chứng cho biết là hợp số và trả về prime nếu ngược lại </s> <s> giả mã của thuật toán millerrabin kiểm tra tính nguyên tố như sau code của giả mã bằng ctrong giả mã trên chỉ phụ thuộc vào </s> <s> do đó bạn có thể tiết kiệm bộ nhớ một chút bằng cách sử dụng hai biến thay vì cả mảng </s> <s> thủ tục thực hiện thao tác bít để tách </s> <s> thủ tục sử dụng phép nhân hai số bít và phép toán cơ bản </s> <s> do  ta suy ra ví dụ là số carmichael hãy xem thuật toán millerrabi thực hiện như thế nào </s> <s> trước hếtt tách  do đó </s> <s> giả sử  ta có do  thuật toán millerrabin sẽ trả lại </s> <s> theo theorem  thuật toán millerrabin luôn trả lại nếu đầu vào là số nguyên tố </s> <s> cũng như thuật toán fermat thuật toán millerrabin cũng có lỗi nếu đầu vào là hợp số </s> <s> tuy nhiên ngay cả khi đầu vào là số carmichael thuật toán millerrabin có lỗi khá nhỏ </s> <s> do đó thuật toán này thường được sử dụng trong thực tế để kiểm tra tính nguyên tố của một số nguyên </s> <s> </s> <s> về mặt lý thuyết có thể chứng minh được xác suất lỗi của thuật toán millerrabin trong theorem  là </s> <s> tuy nhiên chứng minh sẽ phức tạp hơn </s> <s>  xét số sau giả sử tồn tại hai số sao cho </s> <s> do là một số nguyên tố ta suy ra hoặc </s> <s> cả hai trường hợp đều không thể xảy ra </s> <s> từ đó suy ra không có hai số nào trong số trên đồng dư </s> <s> do đó số dư của dãy số trên khi lấy modulo là hoán vị của </s> <s> do đó </s> <s> </s> <s> </s> <s> </s> <s> từ đó suy ra định lý fermat </s> <s> một là một cấu trúc đại số gồm một tập hợp và một phép toán kết hợp hai phần tử của tạo ra một phần tử thứ  thỏa mãn  tiên đề sauví dụ với là một nhóm </s> <s> bạn có thể kiểm tra  tiên đề của phép thao tác trên tập hợp các số nguyên </s> <s> chú ý với không phải là một nhóm vì có phần tử nghịch đảo là </s> <s> một nhóm được gọi là hữu hạn nếu số lượng các phần tử của  thường gọi là bậc của nhóm v kí hiệu là  hữu hạn </s> <s> một nhóm là một nhóm con của nếu hai phép toán thao tác trên hai tập này là một và </s> <s> định lý nổi tiếng largrange cho biết mối quan hệ giữa bậc của một nhóm và bậc của nhóm con của nó divides ví dụ là nhóm con của chính nó </s> <s> ví dụ khác trong đó là một nhóm con của </s> <s> gọi là tập các số nguyên tố cùng nhau với và nhỏ hơn </s> <s> phép nhân đồng dư định nghĩa trên trên như sau với  là tích của lấy đồng dư modulo </s> <s> ta sẽ chứng minh là một nhóm với </s> <s> ta kiểm tra  tiên đề của nhóm  tiên đề đầu không khó để kiểm tra và coi như bài tập cho bạn đọc </s> <s> với tiên đề cuối cùng gọi là một phần tử của </s> <s> do  theo  tồn tại hai số nguyên sao cho </s> <s> suy ra  do đó là phần tử nghịch đảo của </s> <s> từ đoạn này về cuối ta chỉ xét nhóm và các nhóm con của nó </s> <s> để đơn giản ta sẽ bỏ toán tử trong kí hiệu của nhóm i </s> <s> e sử dụng luôn kí hiệu tập hợp thay cho </s> <s>  nếu  thuật toán fermat sẽ trả lại </s> <s> phép kiểm tra ước chung lớn nhất chỉ thực sự hiệu quả xác xuất tìm được số như vậy  khi là số chẵn </s> <s> do đó hiệu quả của thuật toán fermat nằm ở bước kiểm tra </s> <s> số ngẫu nhiên sau bước kiểm tra ước chung lớn nhất với sẽ là một phần tử của nhóm </s> <s> giả sử là một hợp số và không là số carmichael </s> <s> thuật toán fermat sẽ trả lại có lỗi nếu số chọn ngẫu nhiên thỏa mãn </s> <s> gọi </s> <s> nhận thấy coi như bài tập cho bạn đọc là một nhóm con của với phép nhân đồng dư module  </s> <s> do không phải là số carmichael là một nhóm con đúng của  </s> <s> theo định lý lagrange là một ước số của  do đó </s> <s> từ đó suy ra xác xuất có lỗi của thuật toán fermat là ta chỉ cần chứng minh theorem  với trường hợp là số carmichael vì phép thử fermat là một thủ tục con của thuật toán millerrabin </s> <s> trước hết ta chứng minh không có số carmichael có dạng với và là một số nguyên tố </s> <s> thật vậy giả sử claim  là sai i </s> <s> e tồn tại số carmichael có dạng </s> <s> nhóm có bậc trong đó là </s> <s> từ đó suy ra vớ mọi </s> <s> do là số carmichael  từ đó suy ra </s> <s> tuy nhiên điều này là không thể vì chia hết cho còn thì không </s> <s> do đó claim  là đúng </s> <s> như vậy không phải là lũy thừa của một số nguyên tố </s> <s> gọi là một nếu tồn tại sao cho </s> <s> định nghĩa </s> <s> ta sẽ chứng minh nếu là một hợp số lẻ và không phải là lũy thừa của một số nguyên tố thì là một nhóm con đúng của </s> <s> ta sẽ tìm một số mà </s> <s> trước hết ta có thể kiểm tra coi như bài tập cho bạn đọc các tiên đề của nhóm đối với </s> <s> vì là một hợp số lẻ và không phải là lũy thừa của một số nguyên tố tồn tại lẻ nguyên tố cùng nhau sao cho </s> <s> vì là một số mũ tồi tồn tại sao cho </s> <s> áp dụng chinese remainder theorem ta tìm được sao cho beginarraylcl b  equiv  a mod n  b  equiv   mod n endarray từ đó ta suy ra và </s> <s> nếu  ta có </s> <s> ta có hai trường hợpdo đó </s> <s> như vậy claim  là đúng </s> <s> gọi với là số mũ tồi lớn nhất </s> <s> tồn tại vì lẻ và </s> <s> giả sử không phải là bằng chứng cho biết là hợp số </s> <s> gọi là số trong theorem  có hai trường hợptheo claim  là một nhóm con đúng của  ta có xác suất số ngẫu nhiên là </s> <s> từ đó suy ra theorem  </s> <s> thông thường trong các ứng dụng chúng ta phải kiểm tra tính nguyên tố của các số rất lớn </s> <s> các số này có số lượng bít biểu diễn lớn do đó rất dễ bị hiện tượng tràn số nếu chúng ta thực thi không cẩn thận </s> <s> xét trường hợp là số nguyên  bít khi thực hiện tính sử dụng thủ tục  ở trên chúng ta sẽ phải thực hiên phép nhân hoặc với là các số nguyên  bít </s> <s> kết quả của các phép nhân này có thể vượt quá  bít và do đó chúng ta sẽ bị tràn số nếu chúng ta sử dụng kiểu giả sử bạn sử dụng ngôn ngữ  </s> <s> ta có thể giải quyết vấn đề này như sau </s> <s> trước hết tính </s> <s> sau đó ta sẽ khai báo một biến kiểu unsigned long long để lưu giữ kết quả của trước khi lấy </s> <s> bạn có thể áp dụng kĩ thuật trên cho </s> <s> tuy nhiên không phải lúc nào chúng ta cũng có thể sử dụng biến kiểu dữ liệu lớn hơn </s> <s> giả sử kiểu dữ liệu lớn nhất chúng ta có là bít thông thường là  bít hoặc  bít trong khi có kích thước bít như trong  </s> <s> để tính tích  ta thể sử dụng hai số bít để lưu trữ tích của hai số bít trước khi lấy modulo tuy nhiên ta sẽ phải tự thực hiện phép modulo </s> <s> may mắn là có một kĩ thuật giúp chúng ta tính sử dụng các số bít mà không phải thực hiện lai phép modulo </s> <s> tuy nhiên chúng ta sẽ phải sử dụng thao tác bít cho phép nhân </s> <s> thuật toán như sau </s> <s> mình khuyến khích bạn đọc thực thi và áp dụng vào bài toán kiểm tra tính nguyên tố </s> <s> code cho bài toán này mình đính ở cuối bài </s> <s> code  </s> <s> </s> <s>  miller gary l </s> <s> journal of computer and system sciences  </s> <s>    </s> <s> </s> <s>  rabin michael o </s> <s> journal of number theory  </s> <s>    </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s> </s> <s>  james r </s> <s> lee  university of washington winter  </s> <s>    trackback link on chỗ cái hàm fermattesting câu return cuối là prime bác ad ơi </s> <s> on đúng rồi bạn </s> <s> trong code thật mình để prime </s> <s> lỗi đánh máy </s> <s> cám ơn bạn đã chỉ ra </s> <s> hùng on anh cho em hỏi là trong research  thì với cùng  cài đặt hoàn toàn như nhau thuật toán ngẫu nhiên có xác suất lỗi </ thì việc chứng minh </ có nhiều ý nghĩa không ạ còn trong thực hành thì sao ạ </s> <s> dĩ nhiên là nếu chứng minh được / thì số lần lặp chỉ cần bằng  nửa so với nếu chỉ chứng minh được / </s> <s> on anh cho em hỏi là trong research với cùng với cài đặt hoàn toàn như nhau thuật toán ngẫu nhiên có xác suất lỗi </ thì việc chứng minh tiếp </ có nhiều ý nghĩa không ạ còn trong thực tế thì sao ạ </s> <s> dĩ nhiên là nếu chứng minh được </ thì số lần lặp chỉ cần bằng một nửa so với chỉ chứng minh được / on câu hỏi của bạn rất hay </s> <s> câu hỏi này để trả lời đầy đủ thì rất dài </s> <s> nhưng mình tạm trả lời ngắn gọn như saunếu nói về ý nghĩa thì mình nghĩ là nhiều </s> <s> thứ nhất nó làm thay đổi cách hiểu về thuật toán nếu thực sự xưa nay người ta chỉ mới chứng minh dc / nhưng có vừa mới có người chứng minh được / </s> <s> thứ hai các phân tích mới thường mang vào những ý tưởng mới hoặc công cụ mới </s> <s> các ý tưởng này có thể sẽ mở ra những hướng mới không chỉ với bài toán hiện tại mà cả các bài toán liên quan </s> <s> trong thực tế thì cac phân tích mới không thay đổi tính chất của thuật toán hiện tại nhưng nó thay đổi cách mà chúng ta nghĩ về nó và ứng dụng nó </s> <s> ví dụ anh a nghĩ ra một thuật toán a đơn giản với xác suất / và có thể / nhưng chưa ai chứng minh được còn anh b nghĩ ra thuật toán b có thể chậm hơn  </s> <s>  lần nhưng đảm bảo xác suất / </s> <s> nếu cài đặt thì có thể bạn sẽ chọn a hoặc b tùy vào bài toán </s> <s> nhưng nếu anh c chứng minh được thuật toán anh a có xác suất / thì có lẽ chả có lí do gì mà bạn chọn b cả </s> <s> hùng on vâng ạ cám ơn a đã giải đáp rõ ràng ạ </s> <s> on đối với code c cần highlight bạn có thể dùng trang  tạo file </s> <s> c và lấy link nhúm ở phần embed on cám ơn bạn đã gợi ý </s> <s> thực ra c code không phải là trọng tâm </s> <s> chủ yếu là mình minh họa cho một số bạn chưa quen nhiều với lập trình </s> <s> còn các bạn đã quen thì hiểu ý tưởng là các bạn đã code được rồi </s> <s> powered by and </s> <s> cơ sở toán học của phép băm iii băm địa chỉ mở và băm hoàn hảo mathematical foundation of hashing iii </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này là bài cuối cũng nằm trong chuỗi bài về phép băm và các phân tích </s> <s> trước khi đọc bài này mình khuyến khích bạn đọc xem lại bài viết trước về  phương pháp địa chỉ mở và băm hoàn hảo </s> <s> gọi là số phần tử ta muốn lưu trữ trong bảng băm các phần tử này xuất phát từ một tập gốc </s> <s> bảng băm của chúng ta có kích thước </s> <s> để băm vào bảng ta sử dụng một hàm  hàm băm này được chọn ngẫu nhiên từ một họ hàm băm </s> <s> bằng cách chọn ngẫu nhiên như vậy thỏa mãn dấu ở đây có nghĩa là tỉ lệ vớii </s> <s> e với một hằng số nào đó </s> <s> điểm quan trọng nhất mà bạn đọc cần nhớ ở đây chúng ta không có bất kì giả sử nào về dữ liệu i </s> <s> e chúng ta sẽ không giả sử dữ liệu đầu vào là ngẫu nhiên </s> <s> tất cả các phân tích ngẫu nhiên ở đây đến từ việc chọn hàm băm ngẫu nhiên </s> <s> do đó nếu ta có định sẵn một hàm băm thì tất cả các phân tích dưới đây đều vô nghĩa </s> <s> trong băm địa chỉ mở ta giải quyết xung đột bằng cách sử dụng hàm băm thỏa mãn từ tính chất trên của hàm băm ta suy ra  với mỗi cho trước đều có thể nhận một trong các giá trị với xác suất </s> <s> hai câu hỏi mà ta quan tâm khi sử dụng băm địa chỉ mở là câu hỏi đầu tiên cho chúng ta biết thời gian của phép dò unsuccessful search và câu hỏi thứ hai cho chúng ta biết thời gian của một phép dò successful search </s> <s> khi ta tìm kiếm một khóa không nằm trong bảng ta lần lượt dò các vị trí cho đến khi i ta gặp một ô trống đầu tiên hoặc ii dò đến hết bảng i </s> <s> e dò </s> <s> gọi là biến ngẫu nhiên mà giá trị của biến này là số lần dò thực hiện khi tìm kiếm một khóa không nằm trong bảng </s> <s> ta sẽ tính kì vọng </s> <s> ta thấy bất kể có phải là ô trống hay không ta đều phải sử dụng một phép dò </s> <s> nếu trống thì ta dừng lại </s> <s> nếu không trống ta phải dò tiếp </s> <s> xác suất để ô không trống là </s> <s> khi ta dò tiếp ta sẽ dò với tập hàm băm </s> <s> một điểm chú ý là do tính ngẫu nhiên đồng đều các ô ta dò tiếp theo sẽ không bao giờ trùng với các ô đã dò trước đó </s> <s> do đó ta có thể coi bước dò tiếp theo như dò bảng băm kích thước  trong bảng sẵn có ô không trống </s> <s> từ đó ta suy ra công thức đệ quy do khi bảng rỗng thì ta luôn kết thúc sau  phép dò với mọi >  bằng phương pháp quy nạp coi như bài tập cho bạn đọc ta có thể chứng minh được giả sử >  </s> <s> trong đó là hệ số tải </s> <s> nếu ta khải triển công thức có ý nghĩa rất hay ta luôn phải trả một phép dò đầu tiên với xác suất  ta phải dò lần thứ  với xác suất  ta phải dò lần thứ  </s> <s> </s> <s> </s> <s> </s> <s> công thức cho chúng ta biết khi sử dụng băm địa chỉ mở ta không nên để hệ số tải quá gần  nếu không số phép dò sẽ rất lớn </s> <s> trong thực tế hệ số tải ta nên để ở tầm  khi đó số phéo dò trung bình là </s> <s> khi chèn một khóa vào bảng băm theo phương pháp địa chỉ mở ta sẽ lần lượt dò bảng cho đến khi tìm được một ô trống và đặt khóa cần chền vào ô trống đó </s> <s> ở đây ta dễ dàng nhận thấy sự liên hệ giữa số phép dò cần thiết để chèn một khóa vào bảng và số phép dò tìm kiếm không thành công một khóa </s> <s> cụ thể số phép dò cần để chèn khóa thứ vào bảng sẽ tương đương với số phép dò trong kiếm không thành công trong trường hợp bảng băm có phần tử </s> <s> đương nhiên số phép dò để tìm kiếm thành công một khóa bằng số phép dò để chèn khóa đó </s> <s> do đó số phép dò kì vọng cần thiết để tìm kiếm khóa  kí hiệu  là từ đó suy ra số phép dò cần thiết để tìm kiếm khóa cuối cùng là xấp xỉ thời gian tìm kiếm không thành công và là </s> <s> giả sử khả năng tìm kiếm các khóa là như nhau ta suy ra thời gian tìm kiếm trung bình là </s> <s> trong đó là thứ </s> <s> do  ta suy ra </s> <s> các bạn có thể xem đặc tính biến đổi của số phép dò trong phương trình theo </s> <s> ví dụ nếu ta lấy  từ ta suy ra số phép dò trong một tìm kiếm thành công giả sử khả năng tìm kiếm các khóa là như nhau là khoảng phép dò </s> <s> từ thảo luận ở trên ta có thể nhận ra một điểm là các khóa càng sớm được băm vào bảng thì có số phép dò tìm kiếm thành công càng ít </s> <s> do đó trong thực tế nếu chúng ta biết thêm thông tin về tần suất tìm kiếm khóa thì chúng ta có thể sắp xếp các khóa theo giảm dần của tần suất và băm theo thứ tự đó vào bảng </s> <s> mẹo này sẽ giúp chúng ta giảm được thời gian tìm kiếm thành công trung bình </s> <s> trong băm hoàn hảo ta sẽ thực hiện băm hai pha </s> <s> sau pha đầu tiên ta sẽ đếm xem với mỗi  có bao nhiêu phần tử được băm vào cùng một vị trí </s> <s> gọi là số phần tử được băm vào cùng </s> <s> trong pha  ta tạo ra một bảng phụ có kích thước và sử dụng hàm băm khác để băm các phần tử có cùng mã băm trong pha  vào bảng phụ này </s> <s> giả sử hệ số tải tổng kích thước bộ nhớ là ta sẽ tính kì vọng </s> <s> trước khi đi sâu vào chi tiết mình khuyến khích bạn đọc xem lại một số tính chất của biến ngẫu nhiên /  </s> <s> đặc biệt định lý  sẽ là định lý mà chúng ta hay sử dụng ở đây </s> <s> kí hiệu là biến ngẫu nhiên / cho sự kiện  i </s> <s> e nếu sự kiện xảy ra và nếu ngược lại </s> <s> ví dụ là biến ngẫu nhiên / cho sự kiện </s> <s> nếu thì và thì </s> <s> do  ta suy ra và </s> <s> do đó ta có và do là số phần tử được băm vào cùng vị trí  ta suy ra do đó từ dòng thứ  xuống dòng thứ  ta khai triển bình phương của tổng </s> <s> từ dòng thứ  xuống dòng thứ  ta áp dụng tính tuyến tính của kì vọng </s> <s> từ dòng thứ  xuống dòng thứ  ta áp dụng tính tuyến tính của kì vọng và đổi thứ tự tổng </s> <s> từ dòng thứ  xuống dòng thứ  ta áp dụng tính chất nếu là biến ngẫu nhiên / </s> <s> từ dòng thứ  xuống dòng  ta áp dụng và </s> <s>  donald e </s> <s> knuth </s> <s> addison wesley longman publishing co </s> <s>  inc </s> <s>  redwood city ca usa  </s> <s> </s> <s>  jeff erickson </s> <s> uiuc  </s> <s> </s> <s>  thomas h </s> <s> cormen clifford stein ronald l </s> <s> rivest and charles e </s> <s> leiserson </s> <s> chapter  </s> <s> mcgrawhill higher education  </s> <s>      trackback link powered by and </s> <s> cơ sở toán học của phép băm ii xích ngăn cách  mathematical foundation of hashing ii </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài  chúng ta đã nghiên cứu cách thiết kế bảng băm và ba phương pháp giải quyết xung đột cơ bản xích ngăn cách chaining băm địa chỉ mở open addressing và băm hoàn hảo perfect hashing </s> <s> bài này chúng ta sẽ phân tích kĩ hơn phương pháp xích ngăn cách </s> <s> cụ thể chúng ta sẽ tìm câu trả lời cho các câu hỏicâu trả lời cho câu hỏi đầu tiên sẽ cho chúng ta biết khi chúng ta tìm kiếm một khóa thì trung bình chúng ta sẽ mất bao nhiêu thời gian </s> <s> câu trả lời cho câu hỏi thứ hai sẽ cho chúng ta biết trong trường hợp  chúng ta sẽ mất bao nhiêu thời gian để tìm kiếm một khóa </s> <s> gọi là số phần tử ta muốn lưu trữ trong bảng băm các phần tử này xuất phát từ một tập gốc </s> <s> bảng băm của chúng ta có kích thước </s> <s> để băm vào bảng ta sử dụng một hàm  hàm băm này được chọn ngẫu nhiên từ một họ hàm băm </s> <s> bằng cách chọn ngẫu nhiên như vậy thỏa mãn dấu ở đây có nghĩa là tỉ lệ vớii </s> <s> e với một hằng số nào đó </s> <s> điểm quan trọng nhất mà bạn đọc cần nhớ ở đây chúng ta không có bất kì giả sử nào về dữ liệu i </s> <s> e chúng ta sẽ không giả sử dữ liệu đầu vào là ngẫu nhiên </s> <s> tất cả các phân tích ngẫu nhiên ở đây đến từ việc chọn hàm băm ngẫu nhiên </s> <s> do đó nếu ta có định sẵn một hàm băm thì tất cả các phân tích dưới đây đều vô nghĩa </s> <s> nhắc lại hệ số tải cố định một khóa </s> <s> gọi là chiều dài của danh sách lưu khóa </s> <s> gọi là biến ngẫu nhiên trong đó nếu được băm vào cùng ô với và nếu ngược lại </s> <s> do là biến ngẫu nhiên  ta có ngoài ra ta có thể biểu diễ dưới dạng các biến như sau do đó theo tính tuyến tính của kì vọng như vậy chiều dài trung bình của một xích trong bảng băm tỉ lệ với hệ số tải </s> <s> để phân tích chiều dài của danh sách dài nhất ta sẽ xem xét mô hình ném bóng vào rổ  dưới đây </s> <s> mô hình này sẽ tương ứng với trường hợp hệ số tải </s> <s> trước khi trả lời câu hỏi trên chúng ta sẽ xem xét một vài câu hỏi đơn giản hơn để có một cách nhìn sâu hơn về bài toán này </s> <s> một số bạn có lẽ quen với cách kí hiệu số tổ hợp </s> <s> trong bài này mình dùng kí hiệu để nhất quán với các kí hiệu của wikipedia </s> <s> xác suất để rổ  có ít nhất một quả bóng là bao nhiêu xác suất khi ném ngẫu nhiên một quả bóng vào rổ  là </s> <s> do đó xác suất khi ta ném ngẫu nhiên độc lập quả bóng mà không quả nào vào rổ  là </s> <s> sử dụng xấp xỉ  ta có xác suất không quả bóng nào vào rổ  là </s> <s> như vậy xác suất để rổ  có ít nhất  quả bóng là </s> <s> xác suất để rổ  có quả bóng là bao nhiêu ở trên ta sử dụng xấp xỉ xem  xác suất để rổ  có quả bóng là bao nhiêu xác suất để tồn tại một rổ bất kì trong số rổ có quả bóng là bao nhiêu bây giờ chúng ta có thể trả lời một số câu hỏi thú vị hơn về mô hình này </s> <s> </s> <s> ta sẽ chứng minh phiên bản dễ hơn một chút với xác suất  mọi rổ có không quá quả bóng </s> <s> cách chứng minh ta sẽ trình bày có thể áp dụng bằng một sửa đổi nhỏ để chứng minh lemma  </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> ta sẽ tìm xác suất để một rổ có ít nhất quả bóng </s> <s> áp dụng câu hỏi  với  ta có do đó xác suất để có tối đa quả bóng là </s> <s> lemma  cho chúng ta biết nếu sử dụng xích ngăn cách khi hệ số tải  với xác suất cao danh sách dài nhất có phần tử </s> <s> câu hỏi còn lại là với xác suất cao danh sách dài nhất có bao nhiêu phần tử chứng minh lemma  khó hơn lemma  rất nhiều </s> <s> bạn đọc quan tâm có thể tham khảo thêm tại  lemma  </s> <s>  </s> <s> kết hợp lemma  và  ta suy ra với xác suất  danh sách dài nhất có phần tử </s> <s> nếu ta ném quả bóng vào cái rổ khi thì với xác suất cao rổ đầy nhất sẽ có khoảng quả bóng </s> <s> chi tiết xem thêm tại  </s> <s> trong mô hình ném bóng vào rổ khi ném một quả bóng thay ném ngẫu nhiên vào rổ bất kì ta sẽ chọn ra ngẫu nhiên  rổ và đặt quả bóng vào rổ có ít bóng hơn </s> <s> câu hỏi mà chúng ta quan tâm là </s> <s> ta sẽ chứng minh chứng minh một cách đầy đủ lemma  không hề đơn giản </s> <s> phương pháp chứng minh hay sử dụng cho bài toán này là quy nạp theo lớp layered induction xem thêm tại  theorem  </s> <s>  </s> <s> chứng minh mình sẽ trình bày dưới đây  đã đơn giản hóa rất nhiều và hi vọng sẽ cho bạn đọc một cách nhìn về bài toán </s> <s> chứng minh này không phải là một chứng minh toán học đầy đủ </s> <s> gọi chiều cao của một quả bóng là nếu quả bóng đó là quả bóng thứ được đưa vào rổ chứa nó </s> <s> do rổ có ít nhất quả bóng sẽ chứa ít nhất một quả bóng có chiều cao ít nhất là  ta có số quả bóng có chiều cao nhiều hơn số rổ có ít nhất quả bónggọi là số rổ có ít nhất quả bóng và đặt </s> <s> một quả bóng có chiều cao ít nhất khi và chỉ khi ta chọn được hai rổ có ít nhất quả bóng </s> <s> xác suất đó là </s> <s> do đó do  ta có công thức đệ quy do ta chỉ có tối đa rổ có ít nhât quả bóng suy ra </s> <s> giải công thức đệ quy ta được </s> <s> ta chọn sao cho tương đương với  ta suy ra dpcm </s> <s>  michael mitzenmacher and eli upfal </s> <s> </s> <s> cambridge university press new york ny usa  </s> <s> </s> <s>  shuchi chawla </s> <s> </s> <s> university of wisconsin  </s> <s> </s> <s>  martin raab and angelika steger </s> <s> </s> <s> in random  springerverlag   </s> <s> </s> <s>  michael mitzenmacher </s> <s> parallel and distributed systems ieee transactions on  </s> <s>    </s> <s> </s> <s>  anupam gupta </s> <s>  cmu </s> <s> </s> <s>  udi wieder </s> <s> </s> <s> windows on theory blog post accessed may/ </s> <s> </s> <s>  richard m </s> <s> karp michael luby and friedhelm meyer auf der heide </s> <s> </s> <s> in proceedings of the twentyfourth annual acm symposium on theory of computing stoc  </s> <s> acm new york ny usa   </s> <s>      trackback link powered by and </s> <s> cơ sở toán học của phép băm i hàm băm mathematical foundation of hashing i </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  hàm băm có rất nhiều loại và rất nhiều ứng dụng khác nhau xem  do đó chúng ta sẽ không có đủ thời gian để thảo luận hết được </s> <s> hàm băm trong bài này chúng ta thảo luận đó là hàm băm sử dụng để </s> <s> hai yêu cầu chính trong thiết kế hàm băm ta sẽ nhắc lại một số khái niệm cơ bản trong thiết kế bảng băm </s> <s> kí hiệu bảng băm với dung lượng là </s> <s> ta thực hiện băm phần tử từ một tập gốc có kích thước lớn hơn nhiều so với </s> <s> cho trước hàm băm  hai khóa mà được gọi là nếu </s> <s> một hàm băm được gọi là nếu số  ở đây không phải là số đặc biệt </s> <s> bất kì hằng số nào khác  đều có thể chấp nhận được trong định nghĩa ở trên </s> <s> về mặt trực quan hàm băm tốt là hàm băm có xác suất đụng độ nhỏ </s> <s> trước khi nói kĩ hơn về hàm băm có một vấn đề mà bài trước chúng ta chưa đụng đến cái gì có thể băm được </s> <s> dường như chúng ta đang mặc định khóa của chúng ta là các số nguyên </s> <s> nếu khóa không phải là số nguyên ví dụ xâu kí tự thì ta cần một cơ chế để chuyển về số nguyên trước khi băm </s> <s> ta gọi số nguyên đó là mã băm hashcode phần này ta sẽ tìm cơ chế tìm mã băm cho xâu kí tự </s> <s> các dạng dữ liệu cơ bản khác đều có thể quy về xâu ví dụ số  </s> <s>  có thể coi như là xâu  </s> <s>  </s> <s> thiết kế cơ chế tìm mã băm có thể quy về tìm một hàm sao cho với mỗi xâu  là một số nguyên </s> <s> hàm phải có tính chất nếu đầu vào là hai xâu khác nhau thì đầu ra phải là hai mã băm khác nhau vì nếu nhiều xâu có cùng mã băm thì bất kể hàm băm chọn thế nào thì số lượng đụng độ cũng rất lớn </s> <s> nếu coi là một hàm băm thì hình như ta lại quay trở lại vấn đề ban đầu tìm hàm băm có xác suất đụng độ nhỏ và có thể tính được một cách hiệu quả </s> <s> may mắn thay khác biệt cơ bản trong thiết kế hàm băm so với khiến cho thiết kế dễ hơn rất nhiều đó là không gian mã của có thể lớn hơn rất nhiều </s> <s> ví dụ bảng băm có kích thước  chỉ được phép băm một khóa vào một trong các giá trị  giá trị khác nhau còn có thể băm một khóa vào một trong các giá trị  giá trị khác nhau nếu đầu ra của là một số nguyên không dấu  bít </s> <s> coi số thứ tự trong hệ ascii mỗi kí tự là một chữ số trong hệ cơ số  </s> <s> ví dụ kí tự a tương ứng với chữ số   là mã ascii của a </s> <s> một họ hàm băm khá phổ biến thường dùng để thiết kế đó là polynomial hashing nếu chọn thì sẽ duy nhất với mọi  i </s> <s> e </s> <s> tuy nhiên càng lớn thì sẽ càng lớn </s> <s> do đó thông thường người ta sẽ chọn là một số nguyên tố không quá lớn </s> <s> ngôn ngữ mặc định chọn để tính </s> <s> một điểm mạnh của băm đa thức đó là nó có thể tính được hiệu quả bằng </s> <s> mình sẽ không đi sâu thêm vào các hàm băm kiểu này nữa </s> <s> một số hàm băm khác bạn đọc có thể tham khảo thêm tại </s> <s> hai điểu mà mình muốn nhấn mạnh trong phần này đó lànhư đã nói trong bài trước một hàm băm tốt không thể là một hàm băm tất định deterministic được vì theo  ít nhất phần tử sẽ có cùng mã băm </s> <s> một hàm băm tốt thường sẽ được chọn ngẫu nhiên trước khi băm từ một họ các hàm băm được thiết kế sẵn </s> <s> trong phần này mình đi sâu hơn vào hai họ hàm băm đã giới thiệu ở bài trước multiplicative hashing họ hàm băm nhân được carter và wegman  giới thiệu năm  </s> <s> ta chọn một số nguyên tố lớn hơn và định định nghĩa họ được gọi là họ hàm băm nhân </s> <s> ta sẽ chứng minh nếu chọn ngẫu nhiên một hàm băm từ họ thì xác suất đụng độ là nhỏ </s> <s> </s> <s> kí hiệu là ước chung lớn nhất của hai số và </s> <s> do là một số nguyên tố </s> <s> theo thuật toán euclidean  tồn tại duy nhất hai số nguyên dương modulo  sao cho do đó  dpcmgiả sử ta chọn ngẫu nhiên </s> <s> đụng độ sẽ xảy ra khi và chỉ khi tồn tại hai khóa sao cho ở đây có thể nhận một trong các giá trị vì </s> <s> mỗi giá trị của sẽ tương ứng với một giá trị của </s> <s> do đó đụng độ chỉ xảy ra khi nhận một trong giá trị thỏa mãn </s> <s> do ta chọn chọn ngẫu nhiên trong và là hai khóa cho trước xác suất ta chọn được như vậy là họ hàm băm nhân này được giới thiệu bởi martin hagerup katajainen và penttonen  năm  để giải quyết bài toán cặp điểm gần nhất closest pair </s> <s> ưu điểm của họ hàm băm này so với họ hàm băm nhân ở trên là không cần đến số nguyên tố lớn và mã bă có thể tính được chỉ sử dụng các thao tác bít đơn giản </s> <s> gọi là số nguyên dương nhỏ nhất sao cho </s> <s> chọn </s> <s> với mỗi số nguyên dương không lớn quá  ta định nghĩa </s> <s> họ hàm băm ta xây dựng là </s> <s> chứng minh xác suất đụng độ là nhỏ nếu ta chọn ngẫu nhiên một hàm băm từ phức tạp hơn so với chứng minh ở trên một chút </s> <s> trước hết ta sẽ chứng minh trong đó là một số nguyên lẻ </s> <s> </s> <s> </s> <s> giả sử  ta suy ra </s> <s> do lẻ và  đẳng thức chỉ xảy ra khi </s> <s> điều này trái với giả thiết  dpcm </s> <s> về mặt trực quan lemma  cho chúng ta biết hàm với cho trước là một đơn ánh injective map từ tập vào chính nó </s> <s> do miền xác định và miền giá trị bằng nhau ta suy ra hàm là một song ánh bijective map </s> <s> ý nghĩa của tính chất này đó là với một khóa cố định việc chọn ngẫu nhiên tương đương với việc chọn ngẫu nhiên trong tập </s> <s> ta sẽ sử dụng tính chất này để chứng minh xác suất đụng độ của là nhỏ </s> <s> theo hình minh họa ở trên mã băm đầu sẽ là bít cao nhất của </s> <s> nhắc lại </s> <s> giả sử xảy ra đụng độ giữa hai khóa </s> <s> không mất tính tổng quát ta giả sử > </s> <s> ta có khi và chỉ khi bít cao nhất của và là giống nhau </s> <s> từ đó ta suy ra bít cao nhất của phải là một dãy số hoặc một dãy số </s> <s> ta có với cho trước theo nhận xét ở đoạn trước việc chọn ngẫu nhiên tương đương với chọn ngẫu nhiên trong </s> <s> do đó xác suất ta chọn được ngẫu nhiên một số bít có bít cao nhất là toàn hoặc toàn là </s> <s> nhắc lại </s> <s> như vậy  donald e </s> <s> knuth </s> <s>  volume  nd ed </s> <s>  sorting and searching </s> <s> addison wesley longman publishing co </s> <s>  inc </s> <s>  redwood city ca usa  </s> <s> </s> <s>  jeff erickson </s> <s> </s> <s> uiuc  </s> <s> </s> <s>  thomas h </s> <s> cormen clifford stein ronald l </s> <s> rivest and charles e </s> <s> leiserson </s> <s> nd ed </s> <s>  </s> <s> chapter  </s> <s> mcgrawhill higher education  </s> <s> </s> <s>  procul </s> <s> org  accessed // </s> <s> </s> <s>  j </s> <s> l </s> <s> carter and m </s> <s> n </s> <s> wegman </s> <s>  </s> <s> </s> <s> in stoc   </s> <s> </s> <s>  d </s> <s> martin t </s> <s> hagerup j </s> <s> katajainen and m </s> <s> penttonen </s> <s> journal of algorithms  no </s> <s>    </s> <s>     trackback link powered by and </s> <s> bảng băm và các cơ chế giải quyết xung đột cơ bản  hashing and collision handling </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này mình lượt qua cấu trúc dữ liệu bảng băm hash table hàm băm hash functions và một số cơ chế giải quyết xung đột collision handling </s> <s> mục tiêu của bài này là đưa ra một cách nhìn tổng quan về cách thức thiết kế bảng băm </s> <s> mọi cơ sở toán học mình sẽ viết và link trong các bài sau </s> <s> </s> <s> một cấu trúc dữ liệu mà chúng ta cũng thường xuyên áp dụng cho thao tác tìm kiếm đó là cây cân bằng ví dụ hoặc  </s> <s> trong java chính là sử dụng cây redblack để hỗ trợ tìm kiếm </s> <s> do tính cân bằng cấu trúc dữ liệu cây này sẽ cho phép chúng ta thực hiện tìm kiếm trong thời gian </s> <s> bảng băm chúng ta sẽ thảo luận trong bài này sẽ cho phép chúng ta thực hiện thao tác tìm kiếm trong thời gian kì vọng </s> <s> gọi là tập phần tử ta muốn lưu trữ trong bảng băm </s> <s> các phần tử của tập hợp mà chúng ta lưu trữ thường từ một tập lớn hơn mà ta gọi là ground set </s> <s> tập gốc ta xét ở đây có lực lượng hữu hạn nhưng rất lớn so với và </s> <s> ví dụ nếu tập gốc là tập các tên người với tối đa là kí tự thì kích thước tối đa của tập gốc là ta sử dụng bảng chữ cái tiếng việt </s> <s> nếu giả sử tập dữ liệu trong bảng băm là tên của người thực thì con số lớn hơn rất nhiều so với dân số việt nam </s> <s> bảng băm là một mảng có kích thước </s> <s> để lưu trữ dữ liệu vào bảng băm ta sẽ dùng một hash function </s> <s> một hàm băm </s> <s> là một ánh xạ gán cho mỗi phần tử của tập một vị trí trong bảng </s> <s> cụ thể phần tử sẽ được lưu tại ô của bảng và ta nói được băm vào vị trí và được gọi là hash code của </s> <s> xem hình minh họa dưới đây </s> <s> hai thao tác chính của bảng băm đó là đưa một phần tử mới vào bảng băm và tìm xem một phần tử có nằm ở trong bảng băm hay không </s> <s> giả mã do lớn hơn  theo nguyên lí  một hoặc nhiều phần tử của tập có thể sẽ được băm vào cùng một vị trí của bảng </s> <s> ta gọi hiện tượng đó là collision </s> <s> do xung đột làm quá trình tìm kiếm trở nên phức tạp hơn ta sẽ cần một chiến lược để đối phó với nó mà ta gọi là chiến lược giải quyết xung đột </s> <s> trước khi thảo luận các cách chiến lược này ta sẽ thảo luận về cách chọn hàm băm trước vì xung đột nhiều hay ít đều phụ thuộc vào hăm băm mà ta chọn </s> <s> tuy xung đột không thể tránh được ta có thể làm giảm được xung đột bằng cách chọn một hàm băm tốt </s> <s> chú ý ta chỉ lưu phần tử của tập gốc vào bảng </s> <s> do ta có thể không có bất kì thông tin nào về các phần tử mà ta sẽ lưu trong bảng ta chọn một hàm băm tất định được vì theo nguyên lí nhốt chim với bất kì hàm băm nào ít nhất phần tử trong tập sẽ có cùng một mã băm </s> <s> do đó nếu phần tử của tập hợp ta muốn lưu trong bảng đều có cùng mã băm thì sẽ là một điều vô cùng tồi tệ </s> <s> đây chính là lúc ta cần đến </s> <s> thay vì sử dụng một hàm băm cố định ta sẽ chọn ra ngẫu nhiên một hàm băm từ một họ các hàm băm mà ta thiết kế từ trước sao cho khi chọn ngẫu nhiên như vậy xác suất đụng độ là nhỏ </s> <s> ta dùng dấu xấp xỉ ở trên vì các phân tích dưới đây sẽ không thay đổi nhiều nếu thay  bằng một hằng số bất kì </s> <s> băm nhânmultiplicative hashing ta chọn một số nguyên tố lớn hơn và định định nghĩa </s> <s> họ hàm băm ta xây dựng là </s> <s> băm nhân nhị phânbinary multiplicative hashing gọi là số nguyên dương nhỏ nhấ tsao cho </s> <s> chọn </s> <s> với mỗi số nguyên dương không lớn quá  ta định nghĩa </s> <s> họ hàm băm ta xây dựng là </s> <s> trong bài  nếu chọn ngẫu nhiên một hàm băm hoặc  từ  hoặc từ  để thực hiện băm thì xác suất đụng độ sẽ là cỡ </s> <s> hàm băm tốt bên cạnh tính chất làm giảm sự đụng độ phải là một hàm có thể nhanh chóng tính được mã băm với một khóa cho trước </s> <s> rõ ràng một hàm băm có xác xuất đụng độ nhỏ nhưng mỗi lần tính mã băm của một khóa mất đến vài giây thì ta không nên chọn </s> <s> do đó việc thiết kế hàm băm tốt sẽ là một bài toán cực kì khó </s> <s> trong hai họ hàm băm ở hai ví dụ trên họ hàm băm trong ví dụ  có thể được tính nhanh hơn rất nhiều họ hàm băm trong ví dụ  vì các thao tác mod và chia đều được thực hiện tương đương bằng thao tác và dịch phải shiftright xem thêm tại các </s> <s> có lẽ nhiều bạn đọc biết một cách chọn hàm băm rất phổ biến đó là </s> <s> như đã nói ở trên đây là một ý tưởng tồi tệ vì hàm băm này là một hàm băm tất định </s> <s> nếu các khóa đều có cùng đồng dư với thì đụng độ sẽ rất lớn </s> <s> của java jdk sử dụng hàm băm này với </s> <s> ưu điểm khi chọn chính là  do đó hàm băm được tính rất hiệu quả bằng các phép toán bit </s> <s> điểm yếu như đã nói ở trên là nếu các giá trị đầu vào có cùng bít cuối cùng đồng dư với  thì sẽ được băm vào cùng một vị trí </s> <s> để tránh điều này trước khi băm hashmap của java sẽ dùng một hàm để băm lại hashcode đầu vào </s> <s> mục đích của băm lại là làm cho đầu vào trông giống ngẫu nhiên </s> <s> dù như vậy thì về mặt lý thuyết đây cũng không phải cách tốt </s> <s> bạn đọc nếu có sử dụng hashmap của java thì cũng nên biết rõ những vấn đề này </s> <s> tóm lại hai điều cần nhớ khi thiết kế hàm băm tốtgiả sử ta đã có một hàm băm tốt thỏa mãn  sau đây ta sẽ thảo luận các chiến lược giải quyết xung đột </s> <s> ta sẽ nghiên cứu ba phương pháp giải quyết xung đột chủ yếu xích ngăn cách separate chaining băm địa chỉ mở open addressing và băm hoàn hảo perfect hashing </s> <s> đây có lẽ là cách thức giải quyết xung đột đơn giản nhất và trực quan nhất </s> <s> ta sẽ dùng một danh sách liên kết gọi là xích ngăn cách để liên kết các phần tử có cùng mã băm xem hình dưới đây </s> <s> hashmap trong java sử dụng ý tưởng này </s> <s> giả mã </s> <s> code c gọi là biến ngẫu nhiên chiều dài của danh sách chứa khóa </s> <s> trong bài cơ sở toán học của  ta sẽ chứng minh như vậy theo  kì vọng thời gian để tìm kiếm một số tỉ lệ với hệ số tải </s> <s> điều này cũng khá trực quan vì nếu bảng càng lớn thì khả năng đụng độ càng nhỏ </s> <s> hệ số tải mặc định trong hashmap của java là  </s> <s>  </s> <s> phương trình cho chúng ta biết kì vọng chiều dài của danh sách là giả sử hệ số tải là  </s> <s> tuy nhiên mình muốn lưu ý bạn đọc trong tất cả các danh sách của bảng là cỡ chứng minh sử dụng mô hình ném  chi tiết bạn đọc xem thêm tại bài cơ sở toán học của xích ngăn cách </s> <s> điều đó cho thấy trong trường hợp xấu nhất ta có thể phải trả một thời gian tìm kiếm xấp xỉ </s> <s> may mắn là sẽ không có nhiều danh sách trong bảng có chiều dài lớn như vậy vì kì vọng chiều dài chỉ là hằng số mà thôi </s> <s> một ý tưởng khác để giảm chiều dài của danh sách dài nhất đó là sử dụng hai hàm băm để băm vào hai vị trí khác nhau của bảng </s> <s> trong hai danh sách  nếu danh sách nào ngắn hơn thì ta sẽ đặt phần tử vào đó </s> <s> khi tìm kiếm thì ta phải duyệt cả hai danh sách để tìm </s> <s> cũng theo mô hình ném bóng vào rổ phân tích phức tạp hơn rất nhiều xem thêm tại bài cơ sở toán học của xích ngăn cách danh sách dài nhất có kì vọng chiều dài cỡ </s> <s> hàm này gần như có thể coi là hằng số </s> <s> trong phương pháp giải quyết xung đột bằng xích ngăn cách khá nhiều ô của bảng rỗng trong khi một số ô khác lại chứa khá nhiều phần tử </s> <s> ngoài ra ta cần duy trì một danh sách các con trỏ để liên kết các phần tử lại với nhau </s> <s> các liên kết này đương nhiên là sẽ tốn thêm bộ nhớ </s> <s> ý tưởng của open addressing là mỗi ô của bảng chỉ lưu  do đó ta không cần danh sách móc nối </s> <s> chú ý xung đột sẽ được băm địa chỉ mở giải quyết bằng cách sử dụng hàm băm độc lập  sao cho khi băm một khóa  ta sẽ lần lượt kiểm tra từ ô của bảng cho đến </s> <s> nếu tìm thấy một ô trống đầu tiên thì lưu vào đó </s> <s> do là một hoán vị của  quá trình tìm kiếm ô trống luôn kết thúc sau tối đa bước </s> <s> giả mã hình ví dụ dưới đây minh họa băm  khóa vào bảng sử dụng địa chỉ mở </s> <s> ngay lần đầu tiên băm khoá huy sử dụng  ta tìm được ô trống do đó ta đặt khóa huy vào ô trống này </s> <s> khi băm khóa hà lần đầu tiên sử dụng  vào ô  ta thấy ô này đã có khóa </s> <s> do đó ta băm lần hai sử dụng  vào ô  </s> <s> ô  cũng đã có khóa do đó ta phải băm lần ba sử dụng  vào ô  </s> <s> vì ô  trống ta đặt khóa hà vào đó </s> <s> hình chính là trạng thái của bảng băm sau khi đã băm  khóa </s> <s> để tìm kiếm bảng băm địa chỉ mở ta sẽ thực hiện dò bảng probing bắt đầu từ vị trí cho đến vị trí </s> <s> nếu có trong bảng thì ta sẽ tìm được ở một ô nào đó </s> <s> nếu không chứa trong bảng trong quá trình dò ta sẽ bắt gặp một ô rỗng hoặc duyệt qua đến mà vẫn chưa tìm được </s> <s> giả mã </s> <s> code ctrong phần cơ sở toán học của băm địa chỉ mở  ta sẽ chứng minh hai định lý sau </s> <s> hai định lý trên cho chúng ta biết thời gian khi dò một khóa trong bảng </s> <s> tuy nhiên trong trường hợp xấu nhất số phép dò kì vọng là </s> <s> chúng ta sẽ tìm hiểu thêm tại phần cơ sở toán học </s> <s> trong thực tế việc thiết kế hàm băm ngẫu nhiên thỏa mãn mã băm đôi một khác nhau với một khóa cho trước là việc vô cùng khó </s> <s> cho dù ta có thực hiện được thì chi phí thời gian có lẽ cũng không nhỏ </s> <s> do đó trong thực tế ta chấp nhận các hàm băm phụ thuộc với nhau ở một mức độ nào đó mỗi mức độ cho chúng ta một phép dò khác nhau </s> <s> ta sẽ nghiên cứu dò tuyến tính dò nhị phân dò bậc hai và băm kép </s> <s> trong phép dò tuyến tính linear probing ta sẽ chỉ sử dụng hàm băm tốt để định nghĩa hàm băm như sau điểm mạnh của phương pháp dò tuyến tính này là thực thi đơn giản </s> <s> tuy nhiên các giá trị băm sẽ có xu hướng tụm lại với nhau thành một dãy con liên tục của </s> <s> ngoài ra khi hệ số tải gần bằng  thì tìm kiếm với dò tuyến tính cực kì kém hiệu quả </s> <s> dò nhị phân binary probing vừa lợi dụng điểm mạnh của dò tuyến tính vừa có thể tính nhanh được trong thực tế </s> <s> như đã nhắc đến ở trên chọn cho phép chúng ta chuyển các thao tác nhân chia mod về các thao tác xử lí bít </s> <s> do đó ta có thể tính được hàm băm rất nhanh </s> <s> dò nhị phân cũng sử dụng tư tưởng này </s> <s> chọn và sử dụng một hàm băm tốt để định nghĩa hàm băm </s> <s> trong đó là phép xor bít </s> <s> tương tự như trong phép dò tuyến tính nhưng thay vì sử dụng hàm tuyến tính trong phép dò bậc hai quadratic probing ta sẽ dùng hàm bậc  để thiết kế hàm băm  phương pháp dò bậc hai về mặt lý thuyết tốt hơn dò tuyến tính </s> <s> ta sẽ đi sâu chi tiết trong bài sau </s> <s> băm kép double hashing sử dụng hai hàm băm độc lập để định nghĩa hàm băm  cũng như dò bậc hai phương pháp này tốt hơn về mặt lý thuyết </s> <s> tuy nhiên trong thực tế phương pháp này sẽ hơi chậm hơn </s> <s> như chúng ta thảo luận ở phần xích ngăn cách mặc dù kì vọng thời gian tìm kiếm là giả sử hệ số tải là hằng số trong trường hợp xấu nhất thời gian tìm kiếm có thể lên tới gần xấp xỉ </s> <s> đôi khi là một con số không hề nhỏ </s> <s> ta có thể làm giảm hiệu ứng xấu nhất đó bằng cách giảm hệ số tải tăng kích thước của bảng băm </s> <s> giả sử chúng ta sử dụng bảng băm với số lượng ô </s> <s> ta sẽ chứng minh ngắn gọn nếu ta chọn như vậy số lượng đụng độ chỉ là hằng số </s> <s> nếu số lượng đụng độ là hằng số thì đương nhiên danh sách dài nhất trong bảng cũng có kì vọng chiều dài là hằng số </s> <s> gọi là biến ngẫu nhiên / trong đó nếu hai khóa xảy ra đụng độ i </s> <s> e  và nếu ngược lại </s> <s> theo  </s> <s> gọi là tổng số đụng độ trong bảng băm </s> <s> ta có do là biến ngẫu nhiên / </s> <s> ta có tuy nhiên là một con số quá lớn và không thực tế </s> <s> tưởng tượng ta chỉ băm  phần tử mà cần tới  triệu bộ nhớ </s> <s> băm hoàn kết hợp cả nhận xét trên và ý tưởng của xích ngăn cách để làm giảm thời gian tìm kiếm xấu nhất xuống mà bảng chỉ cần bộ nhớ nó được gọi là băm hoành hảo là vì thế </s> <s> băm hoàn hảo sẽ sử dụng hai hàm băm tốt và bảng băm hai chiều </s> <s> mỗi hàng của bảng băm sẽ được coi như một bảng băm phụ có kích thước phụ thuộc vào đầu vào </s> <s> khi băm vào bảng ta thực hiện băm theo  pha pha đầu tiên sử dụng để băm vào của bảng </s> <s> gọi là số lượng phần tử được băm cùng vào hàng thứ sau pha đầu tiên </s> <s> trong pha thứ  với mỗi hàng  ta cấp phát một bộ nhớ cho hàng </s> <s> sau đó ta coi hàng này như một bảng băm và dùng để băm các phần tử có cùng mã băm vào ô của hàng này </s> <s> đụng độ lần  này sẽ được giải quyết sử dụng xích ngăn cách </s> <s> xem hình minh họa dưới đây </s> <s> như phân tích ở trên do bảng băm phụ này có kích thước là bình phương số lượng phần tử được lưu trong hàng đụng độ khi băm lần  này là </s> <s> do đó tìm kiếm có thể được thực hiện trong </s> <s> một điểm cần lưu ý nữa là kích thước của các bảng băm con tương ứng với các hàng khác nhau có thể khác nhau </s> <s> cụ thể bảng băm con thứ là  có kích thước </s> <s> do đó khi băm vào bảng băm con trong pha  sử dụng hàm băm  địa chỉ thực sự trong bảng băm con là </s> <s> giả mã </s> <s> để tìm một khóa  theo định nghĩa khóa này nằm trong danh sách </s> <s> do đó ta chỉ cần duyệt qua danh sách đó </s> <s> theo phân tích ở trên thời gian duyệt qua danh sách trong trường hợp xấu nhất là </s> <s> </s> <s> code cvấn đề quan tam còn lại của chúng ta là bảng băm hoàn hảo sẽ cần dùng đến bao nhiêu bộ nhớ </s> <s> trong phần cơ sở toán học của băm hoàn hảo  chúng ta sẽ chứng minh kì vọng bộ nhớ của băm hoàn hảo là khi  chúng ta đã tìm hiểu  phương pháp chính để giải quyết xung đột xích ngăn cách địa chỉ mở và băm hoàn hảo </s> <s> trong thực tế thiết kế bảng bămiên ta nên chọn phương pháp nào sau đây là một số yếu tố có thể giúp ta chọn được phương án giải quyết xung đột tốt nhất </s> <s> trong các ứng dụng mà chúng ta phải thường xuyên thêm và xóa phần tử khỏi bảng xích ngăn cách sẽ là một lựa chọn tốt </s> <s> băm hoàn hảo bên cạnh việc khó thực thi có lẽ không phù hợp với các ứng dụng này </s> <s> như mô tả ở trên khi băm trong pha  chúng ta cần phải biết trước số lượng phần tử xung đột trong một ô để cấp phát bộ nhớ </s> <s> việc cấp phát này sẽ rất mất thời gian nếu ta liên tục thêm và xóa phần tử khỏi bảng </s> <s> định địa chỉ mở cũng khó áp dụng trong trường hợp này vì nếu hệ số tải lên tới xấp xỉ  thì tìm kiếm trong định địa chỉ mở cực kì chậm xem công thức và  </s> <s> với xích ngăn cách ngay cả khi  danh sách dài nhất cũng chỉ khoảng </s> <s> ngược lại trong các ứng dụng mà chúng ta chủ yếu thực hiện tìm kiếm ít khi phải thêm hay xóa phần tử khỏi bảng ví dụ ứng dụng từ điển chẳng hạn thì băm hoàn hảo sẽ là một lựa chọn tốt </s> <s> như đã nhắc đến ở trên băm hoàn hảo có thời gian kì vọng trong trường hợp cũng chỉ là và bộ nhớ kì vọng là </s> <s> tương tự như băm hoàn hảo nếu ứng dụng của chúng ta chủ yếu thực hiện tìm kiếm nhưng chúng ta lại có thêm thông tin về tần suất truy nhập khóa thì ta có thể sử dụng băm địa chỉ mở </s> <s> cơ chế của băm địa chỉ mở cho ta thấy các khóa băm càng sớm thì số bước dò trong tìm kiếm càng ngắn </s> <s> do đó ta có thể băm các khóa theo thứ tự giảm dần của tần suất truy nhập </s> <s> một điểm chú ý duy nhất với băm địa chỉ mở là không nên để hệ số tải vượt qúa </s> <s> trong code dưới đây mình sử dụng hàm băm nhân nhị phân họ hàm băm trong ví dụ code   </s> <s>  donald e </s> <s> knuth </s> <s>  volume  nd ed </s> <s>  sorting and searching </s> <s> addison wesley longman publishing co </s> <s>  inc </s> <s>  redwood city ca usa  </s> <s> </s> <s>  jeff erickson </s> <s> </s> <s> uiuc  </s> <s> </s> <s>  thomas h </s> <s> cormen clifford stein ronald l </s> <s> rivest and charles e </s> <s> leiserson </s> <s> nd ed </s> <s>  </s> <s> chapter  </s> <s> mcgrawhill higher education  </s> <s>        trackback link powered by and </s> <s> chọn thế nào là tốt  how to avoid bad cases </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong thiết kế giải thuật đôi khi chúng ta phải đưa ra quyết định chọn một phần tử trong tập các lựa chọn để xử lí và sau đó tiếp tục thực hiện thuật toán sau khi đã xử lí phần tử được chọn </s> <s> nếu chúng ta chọn được phần tử đủ tốt trong tất cả các bước thuật toán của chúng ta sẽ chạy với thời gian rất nhanh </s> <s> ví dụ trong thuật toán  nếu phần tử chốt mà ta chọn trong mỗi bước là trung vị của mảng con chưa sắp xếp thì thuật toán của chúng ta sẽ là với hằng số ẩn sau khá nhỏ </s> <s> tuy nhiên làm thế nào để chọn được phần tử đủ tốt là một vấn đề không hề dễ và đôi khi mất không ít thời gian vì chí ít ta cũng cần phải duyệt qua tất cả các lựa chọn để tìm ra phần tử đủ tốt đó </s> <s> ví dụ với quicksort chúng ta có thể áp dụng thuật toán để chọn median trong thời gian </s> <s> tuy nhiên làm như vậy thì thuật toán quicksort cuối cùng sẽ có hằng số ẩn sau quá lớn </s> <s> trong những trường hợp như quicksort chọn ngẫu nhiên như sẽ chỉ ra dưới đây sẽ cho chúng ta một giải pháp không quá tệ </s> <s> việc chọn ngẫu nhiên theo nguyên lí trên thường sẽ khiến cho thực thi thuật toán của chúng ta sẽ trở nên đơn giản hơn rất nhiều </s> <s> tuy nhiên khó khăn sẽ nằm ở phần phân tích thuật toán và đây cũng là điểm yếu của các thuật toán ngẫu nhiên </s> <s> trong thực tế thì những giải thuật kiểu thực thi đơn giản phân tích khó khăn thường được ưu tiên hơn là thực thi khó khăn phân tích đơn giản </s> <s> chúng ta sẽ tìm hiểu hai ví dụ áp dụng nguyên lí trên quicksort và chọn median </s> <s> trước khi đọc tiếp mình khuyến khích bạn đọc xem lại h trước đây về </s> <s> ngoài ra xem lại appendix về và bài cũng sẽ giúp bạn tư duy tốt hơn trong phần phân tích mà mình sẽ trình bày </s> <s>  giả sử ta muốn sắp xếp mảng đầu vào </s> <s> để đơn giản ta sẽ giả sử các phần tử của mảng đôi một khác nhau </s> <s> thuật toán gồm hai bướctrong trường hợp lí tưởng phần tử pivot trong mỗi bước mà ta chọn là median thì hai phần sẽ có kích thước bằng nhau và bằng cỡ </s> <s> do đó thời gian sắp xếp của quicksort thỏa mãn </s> <s> từ đó suy ra </s> <s> chi tiết các bạn xem thêm tại </s> <s> giả mã như sau trong trường hợp xấu nhất mỗi bước ta đều chọn phải phần tử pivot mà hai phần có độ dài lệch nhau quá lớn thì thời gian của quicksort sẽ là </s> <s> để tránh trường hợp xấu nhất này ta sẽ chọn ngẫu nhiên </s> <s> thuật toán trở thành dòng màu đỏ chính là sự khác nhau của quicksort và quicksort ngẫu nhiên </s> <s> sự thay đổi này như ta đã thấy là khá đơn giản </s> <s> bây giờ chúng ta sẽ phân tích thuật toán </s> <s> do thời gian của thuật toán sẽ tỉ lệ với số phép so sánh ta sẽ tính kì vọng số phép so sánh của thuật toán trên </s> <s> trước hết ta có nhận xét đơn giản sau hai phần tử bất kì của mảng được so sánh với nhau tối đa  lần và chúng chỉ được so sánh với nhau khi một trong hai phần tử đó được chọn là pivot tại bước nào đó của thuật toán </s> <s> gọi là số lượng phép so sánh trong quá trình thực thi </s> <s> với mỗi cặp chỉ số sao cho  ta định nghĩa biến ngẫu nhiên / như sau nếu phần tử nhỏ tứ của mảng được so sánh với phần tử nhỏ thứ của mảng và nếu ngược lại </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> như vậy ta sẽ có theo tính tuyến tính của kì vọng do là biến ngẫu nhiên / ta suy ra </s> <s> do đó tính sẽ được quy về tính các xác suất </s> <s> theo nhận xét ở trên chính là xác suất phần tử nhỏ thứ hoặc thứ sẽ được chọn làm pivot trong một bước nào đó </s> <s> tưởng tượng ta xếp các phần tử của mảng trên trục đường thẳng trong đó phần tử nhỏ thứ của mảng sẽ được sắp xếp vào điểm có tọa độ </s> <s> nếu bất kì phần tử nào trong khoảng loại trừ hai đầu mút được chọn làm pivot tại một bước nào đó thì hai phần tử nhỏ thứ và thứ sẽ không có cơ hội được so sánh với nhau </s> <s> do đó xác suất để một trong hai phần tử đó được chọn làm pivot sẽ là số chính là độ dài của đoạn </s> <s> kết hợp với ta suy ra phương trình thứ  của là do ta áp dụng công thức ở appendix </s> <s> phân tích trên đây được viết ở phần mở đầu của cuốn sách nổi tiếng về randomized algorithms của rajeev motwani and prabhakar raghavan  </s> <s> mình khuyến khích bạn đọc xem thêm note của avrim blum  trong đó blum còn đưa ra cách phân tích khác dựa trên giải một phương trình đệ quy </s> <s> bài toán như sau cho một mảng  tìm phần tử lớn thứ của mảng </s> <s> thuật toán gồm hai bướcgiả mã chọn như thế nào cũng lại là một vấn đề của bài toán này </s> <s> nếu chúng ta may mắn mỗi bước ta đều chọn được là phần tử chia mảng thành hai phần gần bằng nhau thì thuật toán ta thu được là </s> <s> nếu không may thì có thể sẽ là </s> <s> ý tưởng chính trong thuật toán của blumfloydprattrivest và tarjan đó là chọn ra được pivot đủ tốt trong thời gian </s> <s> thuật toán bao gồm các bước sau  chia thành khối mỗi khối có kích thước là </s> <s>  tìm phần tử mỗi phần tử là median của một khối đã chia ở bước </s> <s> gọi là tập các phần tử đó </s> <s>  gọi đệ quy tìm trung vị của  lấy trung vị đó làm phần tử </s> <s>  thực hiện như giải thuật ban đầu với vừa chọn được </s> <s> bằng các phân tích cụ thể hơn thuật toán cuối cùng cũng có thời gian </s> <s> tuy nhiên hằng số ẩn sau bigo cũng không hề nhỏ </s> <s> chi tiết bạn đọc xem thêm tại </s> <s> trong bài này ta sẽ thay đổi  dòng trong để thu được thuật toán ngẫn nhiên khá đơn giản mà cũng hiệu quả tất cả những khó khăn lại nằm trong phần phân tích </s> <s> ta sẽ quy về phân tích số lượng phép so sánh cần thiết để tìm ra phần tử mong muốn </s> <s> gọi là số lượng phép so sánh kì vọng để chọn ra phần tử lớn thứ của mảng gồm phần tử </s> <s> gọi </s> <s> phân tích dựa trên bài toán sau đây rùa và thỏ cùng nhặt được một thanh kẹo chocolate có chiều dài  </s> <s> do không biết chia thế nào cho công bằng thỏ đề xuất nhờ bác gấu già chia thanh kẹo đó </s> <s> bác gấu do không còn tinh mắt chọn một điểm ngẫu nhiên trên thanh kẹo và bẻ thành hai phần </s> <s> thỏ tham ăn và nhanh tay hơn nên luôn chọn phần to còn rùa thì chỉ được phần nhỏ </s> <s> hỏi kì vọng chiều dài thanh kẹo của thỏ là bao nhiêu đáp án là </s> <s> nếu bạn nào muốn xem chi tiết lời giải thì xem </s> <s> chú ý trong bài toán trên miền của bài toán là miền liên tục </s> <s> trở lại bài toán của chúng ta </s> <s> coi mảng như một thanh chocolate rời rạc có chiều dài và coi việc chọn phần tử pivot như bẻ thanh chocolate tại một điểm ngẫu nhiên </s> <s> ở đây sự khác biệt cơ bản so với bài toán bẻ chocolate ở trên đó là miền của chúng ta là rời rạc </s> <s> tuy nhiên chiều dài kì vọng của phần lớn hơn vẫn không vượt quá </s> <s> xem chi tiết </s> <s> sau khi đã bẻ trong trường hợp tồi nhất chúng ta sẽ phải đệ quy trên phần dài nhất để tìm kiếm </s> <s> do đó ta có số chính là số phép so sánh để chia mảng thành hai phần sau khi đã chọn được pivot </s> <s> giải công thức truy hồi trên ta được </s> <s> như vậy phần phân tích thuật toán là do avrim blum  </s> <s> thực tế phân tích này chỉ đưa cho bạn một cách nhìn trực quan về bài toán mà chưa phải là một phân tích tỉ mỉ và chính xác về mặt toán học </s> <s> bạn có thể xem cách phân tích tỉ mỉ hơn ý tưởng thì vẫn như vậy trong note  </s> <s> vấn đề đầu tiên đó là thời gian thực tế của thuật toán ngẫu nhiên </s> <s> trong hai phân tích ở trên chúng ta biết rằng và có thời gian chạy lần lượt là và </s> <s> tuy nhiên trong thực tế đôi khi thuật toán cuả chúng ta chạy nhanh hơn thời gian kì vọng và đôi khi lại chạy chậm hơn thời gian kì vọng vì giá trị của một biến ngẫu nhiên tại một thời điểm nào đó có thể nhỏ hơn hoặc lớn hơn hoặc nhỏ hơn giá trị kì vọng </s> <s> về mặt lý thuyết thì thuật toán thực tế có thể chạy lâu hơn kì vọng nhiều lần và trong một số trường hợp không phải hai thuật toán trong bài này thuật toán không dừng lặp vô hạn </s> <s> tuy nhiên xác suất trường hợp như vậy xảy ra thường vô cùng nhỏ và khó có thể xảy ra trong thực tế </s> <s> để định lượng xem khả năng thuật toán chạy chậm hơn kì vọng ví dụ  lần là bao nhiêu thì chúng ta cần phải dùng đến những công cụ từ lý thuyết xác suất </s> <s> chính vì thế mà việc phân tích giải thuật ngẫu nhiên một cách đầy đủ thường khó hơn rất nhiều so với các phân tích ở trên </s> <s> ở đây mình sẽ giới thiệu và sử dụng bất đẳng thức markov </s> <s> bất đẳng thức này khá đơn giản vì thế nên các kết quả thu được cũng chưa thực sự mạnh </s> <s> từ bất đẳng thức markov ta dễ dàng suy ra xác suất để thuật toán chạy chậm hơn kì vọng  lần  là không quá </s> <s> thực tế các thuật toán này chạy lớn hơn  lần kì vọng với xác suất rất nhỏ </s> <s> tuy nhiên để phân tích được điề unày thì cần đến công cụ rất mạnh như bất đẳng thức </s> <s> mình sẽ không đi sâu hơn vì vấn đề này vượt quá phạm vi của bài viết </s> <s> vấn đề thứ hai nằm trong chính sự ngẫu nhiên </s> <s> ở đâu mà ta có ngẫu nhiên và làm thế nào để chọn được một phần tử ngẫu nhiên trong máy tính câu hỏi này không hể đơn giản và có cả một ngành khoa học chuyên nghiên cứu về nó </s> <s> để đạt được một nguồn ngẫu nhiên thực sự là một việc không dễ dàng </s> <s> các nguôn ngẫu nhiên mà ta thường sử dụng trong máy tính ví dụ sử dụng các hàm random để sinh số ngẫu nhiên trong máy tính là </s> <s> các nguồn này trông hơi giống ngẫu nhiên do ta khó đoán được quy luật của các số sinh ra nhưng không thực sự là ngẫu nhiên </s> <s> trong thực thi các giải thuật ta chấp nhận các nguồn giả ngẫu nhiên này thay cho nguồn ngẫu nhiên thực sự </s> <s>  rajeev motwani and prabhakar raghavan </s> <s> </s> <s> cambridge university press new york ny usa  </s> <s> </s> <s>  avrim blum </s> <s> </s> <s> cmu  </s> <s> </s> <s>  avrim blum </s> <s> </s> <s> cmu  </s> <s> </s> <s>  michael mitzenmacher and eli upfal </s> <s> probability and computing randomized algorithms and probabilistic analysis </s> <s> cambridge university press new york ny usa  </s> <s>     trackback link on ở phần một số vấn đề nếu viết prx > ex thì phải nói là xác suất để thuật toán chạy chậm hơn so với kỳ vọng chứ e toàn thấy anh viết là nhanh hơn như vậy dễ gây hiểu lầm lắm </s> <s>  on hi hoahuongduongbạn nói đúng mình đã sửa lại bài viết </s> <s> cám ơn bạn đã comment </s> <s> hùngpowered by and </s> <s> mảng hậu tố suffix array </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/suffixarray </s> <s> </s> <s> </s> <s> </s> <s> mảng hậu tố là một ctdl giúp sort các hậu tố theo thứ tự từ điển </s> <s> </s> <s> </s> <s> mảng này chứa các số nguyên khởi đầu của các hậu tố </s> <s> </s> <s> </s> <s> có  cách để xây dựng một mảng hậu tố </s> <s> </s> <s> </s> <s> </s> <s> thuật toán không xác định sử dụng thuật toán rabinkarp và kiểm tra nếu một hậu tố có thứ tự từ điển nhỏ hơn một hậu tố kháctìm mảng tiền tố chung lớn nhất  lcp  sau đó sử dụng tìm kiếm nhị phân và hàm băm  hash  và kiểm tra ký tự tiếp theo sau lcp của chúng </s> <s> </s> <s> </s> <s> </s> <s> code c </s> <s> </s> <s> </s> <s> namespace hashsuffixarray  </s> <s> </s> <s> const int maxn   ltlt   </s> <s> </s> <s> typedef unsigned long long hash  </s> <s> const hash base    </s> <s> </s> <s> int n  </s> <s> char  s  </s> <s> int sa  maxn  </s> <s> hash h  maxn  hpow  maxn  </s> <s> </s> <s> define gethashlo size hlo  hlo  size  hpowsize </s> <s> </s> <s> inline bool sufcmp  int i  int j  </s> <s>  </s> <s> int lo    hi  min  n  i  n  j  </s> <s> while  lo lt hi  </s> <s>  </s> <s> int mid   lo  hi  gtgt   </s> <s> if  gethash  i  mid   gethash  j  mid  </s> <s> lo  mid    </s> <s> else </s> <s> hi  mid    </s> <s>  </s> <s> return s  i  hi  lt s  j  hi  </s> <s>  </s> <s> </s> <s> void buildsa  </s> <s>  </s> <s> n  strlen  s  </s> <s> hpow       </s> <s> for  int i    i lt n   i  </s> <s> hpow  i   hpow  i     base  </s> <s> h  n     </s> <s> for  int i  n    i gt    i  </s> <s> h  i   h  i     base  s  i  sa  i   i  </s> <s> </s> <s> stablesort  sa  sa  n  sufcmp  </s> <s>  </s> <s> </s> <s>  // end namespace hashsuffixarray </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán xác định sort logđộ dài lớn nhất bước với bước thứ i tính từ  sort chúng theo i ký tự đầu tiên và đưa hậu tố có cùng tiền tố với i ký tự vào cùng một bucket </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> </s> <s> / </s> <s> suffix array on lg n </s> <s> lcp table on </s> <s> / </s> <s> include ltcstdiogt </s> <s> include ltalgorithmgt </s> <s> include ltcstringgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> define repi n for int i   i lt intn i </s> <s> </s> <s> namespace suffixarray </s> <s>  </s> <s> const int maxn   ltlt   </s> <s> char  s  </s> <s> int n  gap  </s> <s> int sa  maxn  pos  maxn  tmp  maxn  lcp  maxn  </s> <s> </s> <s> bool sufcmp  int i  int j  </s> <s>  </s> <s> if  pos  i   pos  j  </s> <s> return pos  i  lt pos  j  </s> <s> i  gap  </s> <s> j  gap  </s> <s> return  i lt n ampamp j lt n   pos  i  lt pos  j   i gt j  </s> <s>  </s> <s> </s> <s> void buildsa  </s> <s>  </s> <s> n  strlen  s  </s> <s> rep  i  n  sa  i   i  pos  i   s  i  </s> <s> for  gap    gap    </s> <s>  </s> <s> sort  sa  sa  n  sufcmp  </s> <s> rep  i  n    tmp  i     tmp  i   sufcmp  sa  i  sa  i    </s> <s> rep  i  n  pos  sa  i   tmp  i  </s> <s> if  tmp  n     n    break  </s> <s>  </s> <s>  </s> <s> </s> <s> void buildlcp  </s> <s>  </s> <s> for  int i    k    i lt n   i  if  pos  i   n    </s> <s>  </s> <s> for  int j  sa  pos  i     s  i  k   s  j  k  </s> <s>  k  </s> <s> lcp  pos  i   k  </s> <s> if  k   k  </s> <s>  </s> <s>  </s> <s>  // end namespace suffixarray </s> <s> </s> <s> </s> <s> source mukel </s> <s> </s> <s> tài liệu tham khảo </s> <s> </s> <s> </s> <s> codeforces </s> <s> </s> <s> </s> <s> </s> <s> xác suất cơ bản  a quick tutorial on probability </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này mình sẽ giới thiệu những kiến thức cơ bản về xác suất </s> <s> do xác suất là một lĩnh vực rất rộng rất khó để viết toàn bộ những kiến thức cở bản trong một bài viết </s> <s> do đó mình chỉ chọn ra những phần nhất định để trình bày </s> <s> những phần này sẽ được áp dụng trong những bài viết sau về phân tích thuật toán ngẫu nhiên </s> <s> trước hết chúng ta định nghĩa những khái niệm cơ bản nhất về không gian xác suất dựa vào định nghĩa  ta có bổ đề sau </s> <s> dựa vào định nghĩa của hàm xác suất  ta có từ đó suy ra định lý  </s> <s> định lý  còn được mở rộng ra trong trường hợp hữu hạn các sự kiện gọi là tương tự như vậy các sự kiện được gọi là độc lập nếu </s> <s> một luật rất quan trọng để tính xác suất là luật </s> <s>  </s> <s>  do các sự kiện là đôi một không giao nhau áp dụng tính chất của hàm xác suất ta có đẳng thức sau được rút ra từ định nghĩa của xác suất có điều kiện </s> <s> </s> <s> ta có thể dễ dàng chứng minh công thức bayes dựa vào luật tổng xác suất </s> <s> ví dụ là một bài toán nối tiếng minh họa việc áp dụng công thức bayes </s> <s> bài toán như sau giả sử trong một trò chơi có  cánh cửa đằng sau một trong  cánh của đó là một chiệc xe ô tô và đằng sau hai cánh cửa còn lại là hai con dê </s> <s> bạn chỉ được phép mở cánh cửa một lần và phần thưởng cuả bạn là thứ đằng sau cánh cửa đó tất nhiên là bạn muốn ô tô </s> <s> giả sử bạn đã chọn một cánh cửa nhưng chưa mở giả sử cánh cửa  ban tổ chức trò chơi đó sẽ mở một cánh cửa có con dê giả sử cánh cửa  trong hai cánh cửa còn lại </s> <s> bây giờ trước khi bạn quyết định mở ban tổ chức cho phép bạn đổi cánh cửa  và  </s> <s> câu hỏi là bạn có đổi hay không giả sử xác suất mỗi cánh cửa có ô tô là như nhau và bằng phần lớn mọi người khi lần đầu tiên gặp bài toán này sẽ cho rằng đổi hay không cũng không quan trọng vì xác xuất ô tô ở trong cánh cửa  và  đều bằng nhau và bằng khi bạn đã biết cánh cửa  không có ô tô </s> <s> ngay cả nhà toán học nổi tiếng lúc đầu cũng không tin là bạn nên đổi ông chỉ tin bạn nên đổi sau khi ông đã thử nghiệm giả lập với máy tính </s> <s> vậy tại sao bạn nên đổi </s> <s> về mặt trực quan lý do như sau ban đầu bạn chọn cánh cửa  xác suất ô tô nằm trong cánh cửa  là </s> <s> suy ra nếu bạn không đổi thì xác suất bạn có được ô tô là </s> <s> còn nếu bạn đổi xác suất bạn có được ô tô sẽ là </s> <s> rõ ràng là bạn nên đổi </s> <s> bây giờ chúng ta áp dụng công thức bayes vào bài toán nàygọi là xác suất ô tô ở sau cánh cửa </s> <s> gọi là sự kiện người chơi chọn cánh cửa  và là sự kiện ban tổ chức mở cánh cửa  </s> <s> như vậy sự kiện ô tô ở cánh cửa thứ  là </s> <s> do đó xác suất ô tô ở trong cánh cửa thứ  là </s> <s> ta có chú ý độc lập với với mọi  do đó </s> <s> áp dụng công thức bayes ta có trong ứng dụng của xác suất trong phân tích thuật toán ngẫu nhiên chúng ta chủ yếu nhưng không phải tất cả bắt gặp biến ngẫu nhiên rời rạc </s> <s> cụ thể trong định nghĩa trên với một biến ngẫu nhiên và một giá trị  sự kiện  là tập hợp  và xác suất của sự kiện này được kí hiệu là và bằng ví dụ gọi là biến ngẫu nhiên biểu diễn tổng của hai con xúc xắc  mặt </s> <s> ở đây và như vậy sự kiện sẽ tương đương với tập hợp và có xác suất là tương tự như các sự kiện ở đây chúng ta cũng có khái niệm các biến ngẫu nhiên độc lập </s> <s> tương tự như vậy các biến ngẫu nhiên được gọi là độc lập với nhau khi và chỉ khi với mọi tập con và mọi giá trị  ta có </s> <s> với ví dụ biến ngẫu nhiên là tổng của hai con xúc xắc  mặt được định nghĩa trong ví dụ trên kì vọng của  một tính chất vô cùng quan trong đó là tính tuyến tính của kì vọng </s> <s> tính chất này chúng ta sẽ sử dụng trong gần như tất cả các phân tích xác suất </s> <s> </s> <s> ta chỉ cần chứng minh trong trường hợp hai biến ngẫu nhiên và sau đó quy nạp để chứng minh định lý </s> <s> gọi hai biến ngẫu nhiên là và với kì vọng tương ứng </s> <s> theo định nghĩa ta có điểm mạnh của định lý  chính là đẳng thức đúng trong cả trường hợp các biến ngẫu nhiên phụ thuộc </s> <s> tương tự như định lý  ta có thể chứng minh tương tự như xác suất có điều kiện ta có thể định nghĩa kì vọng có điều kiện </s> <s> </s> <s> dựa vào định nghĩa ta cũng có thể chứng minh được tính tuyến tính của kì vọng </s> <s> với mỗi  kì vọng phụ thuộc vào </s> <s> do đó ta có thể coi kì vọng như là một biến ngẫu nhiên  </s> <s> do đó ta có thể định nghĩa kì vọng cho biến ngẫu nhiên đó </s> <s> định lý sau có thể được chứng minh trực tiếp dựa vào định nghĩa một hàm được gọi là lồi nếu với mọi và  ta có định nghĩa này rộng hơn định nghĩa trong giải tích mà chúng ta đã biết nếu một hàm có đạo hàm cấp  với mọi thì là hàm lồi </s> <s> ta có bất đẳng thức jensen cho hàm lồi </s> <s> trong trường hợp có đạo hàm cấp  bất đẳng thức này có thể được chứng minh bằng khai triển taylor và áp dụng tính tuyến tính của kì vọng </s> <s> mình bỏ qua chứng minh bạn đọc có thể xem trong  </s> <s> một hệ qủa của định lý trên đó là của một biến ngẫu nhiên là một đại lượng đặc trưng cho sự dao động của biến ngẫu nhiên xung quanh giá trị kì vọng và được định nghĩa như sau từ bổ đề  có thể thấy với mọi biến ngẫu nhiên </s> <s> ta xét một ứng dụng của phân tích xác suất trong bài toán người sưu tập coupon  </s> <s> bài toán này cũng được giới thiệu ở với cái tên bài toán mai siêu phong </s> <s> gọi là số lượng coupon cần mua để thu được ít nhất một coupon trong mỗi loại và gọi là số lượng coupon cần phải mua khi bạn đã thu thập được loại coupon khác nhau </s> <s> theo tính tuyến tính của kì vọng ta có bây giờ ta sẽ tính kì vọng của với mỗi </s> <s> do bạn đã thu tập được loại khác nhau xác suất khi bạn mua hộp kẹo có coupon loại mới là ở đây ta cần phải hiểu rõ ý nghĩa của </s> <s> nếu có nghĩa là hộp kẹo đầu tiên bạn mua không có coupon nào mới cả và hộp kẹo thứ có môt coupon loại mới </s> <s> do đó do đó tuân theo với tham số </s> <s> ta có do đó ta có trong đó là số thứ </s> <s> về mặt tiệm cận  hay chính xác hơn </s> <s> trong phân tích thuật toán biến ngẫu nhiên / indicator random variable rất hay được sự dụng như một phương pháp để chuyển đổi giữa kì vọng và xác suất </s> <s> như cái tên của nó biến ngẫu nhiên / chỉ nhận hai giá trị  và  </s> <s> </s> <s> dựa vào định nghĩa ta dễ dàng chứng minh định lý sau một tính chất quan trọng của biến ngẫu nhiên / mà ta thường hay sử dụng trong các phân tích xác suất là </s> <s>  trong đó là xác suất </s> <s>  mitzenmacher michael and eli upfal </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s> </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>   trackback link powered by and </s> <s> lý thuyết matroid  matroid theory </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  được phát triển vào năm  bởi hassler whitney như là một cấu trúc tổng quát hóa khá niệm độc lập independence của các vector </s> <s> matroid có rất nhiều ứng dụng trong các lĩnh vực khác nhau như chúng ta thấy trong bài viết wikipeidia </s> <s> trong bài này mình sẽ giới thiệu matroid trên phương diện thuật toán tham lam </s> <s> rất nhiều các bài toán giải được bằng phương pháp tham lam có thể được mô tả bởi cấu trúc matroid </s> <s> để có một cái nhìn tổng quát hơn bạn đọc có thể tham khảo tham tại  </s> <s> một matroid là một họ các tập hợp thỏa mãn các điều kiện saucác tập hợp trong được gọi là một independent set </s> <s> như vậy tính chất kế thừa còn có thể được phát biểu lại là tập con của một tập độc lập là một tập độc lập </s> <s> tập hợp được gọi là ground set của matroid đó là tập gồm tất cả các phần tử xuất hiện trong các tập hợp của matroid </s> <s> tập con của không thuộc được goị là một tập dependent set và một tập phụ thuộc được gọi là chu trình circuit nếu mọi tập con đúng của tập đó là tập độc lập </s> <s> mộtbasis của matroid là tập độc lập tối đại maximal i </s> <s> e không có tập độc lập nào chứa nó ngoại trừ chính nó </s> <s> rank của tập là kích thước của tập độc con độc lập lớn nhất của </s> <s> hạng của matroid là hạng của một cơ sở bất kì của matroid </s> <s> trên đây là định nghĩa matroid và những khái niệm cơ bản xung quanh matroid </s> <s> thông thường để kiểm tra một họ các tập hợp có phải là matroid hay không tính chất  luôn là tính chất khó kiểm tra nhất </s> <s> bây giờ chúng ta hãy xét ví dụ đặc trưng sau gọi là ma trận </s> <s> tập gọi là độc lập nếu các vector cột là độc lập tuyến tính </s> <s> ta có thể dễ dàng kiểm tra tính chất  và  của matroid dựa vào định nghĩa của độc lập tuyến tính </s> <s> tính chất  dựa vào tính chất đại số của tập các vector độc lập </s> <s> các ví dụ khác thường gặpchúng ta xét bài toán tìm cơ sở có trọng số lớn nhất của matroid sau </s> <s> trước hết chúng ta hãy xem ý nghĩa của theorem  </s> <s> áp dụng theorem  vào graphic matroid chúng ta có thể tìm được cây khung có trọng số lớn nhất của đồ thị trong thời gian </s> <s> áp dụng theorem  vào cographic matroid chúng ta có thể tìm được tập trọng số lớn nhất của đồ thị trong thời gian  qua đó tìm được là cây khung có trọng số nhỏ nhất trong thời gian </s> <s> bay giờ ta trở lại thuật toán cho theorem  </s> <s> ý tưởng của thuật toán khá đơn giản sắp xếp các phần tử của tập gốc theo chiều giảm dần trọng số và lần lượt đưa các phần tử vào phương án hiện tại nếu nó không phá vỡ tính độc lập </s> <s> chi tiết như sau trong thuật toán trên để sắp xếp ta mất thời gian và để thực hiện vòng lặp for ta mất thời gian trong đó là thời gian để kiểm tra một tập có phải là độc lập hay không </s> <s> do đó tổng thời gian là </s> <s> vấn đề còn lại là chứng minh thuật toán tham lam cho lời giải tối ưu </s> <s> </s> <s> dựa vào tính chất trao đổi và tính chất kế thừa của matroid ta có thể chứng minh được mọi cơ sở đều có kích thước bằng nhau và bất kì tập độc lập tối đại maximal nào cũng là một cơ sở </s> <s> gọi là tập các phần tử đầu ra của thuật toán tham lam sắp xếp theo chiều giảm dần của trọng số </s> <s> vì là tối đại sẽ là một cơ sở của matroid </s> <s> ta sẽ sử dụng kĩ thuật chứng minh trong để chứng minh có trọng số lớn nhất </s> <s> giả sử tồn tại một cơ sở có kích thước lớn nhất   sắp xếp theo chiều giảm dần của trọng số sao cho </s> <s> goi là chỉ số nhỏ nhất sao cho </s> <s> suy ra với mọi </s> <s> do tính chất kế thừa và đều là các tập độc lập </s> <s> do  theo tính chất trao đổi tồn tại sao cho là một tập độc lập </s> <s> do  thuật toán tham lam sẽ duyệt qua trước khi duyệt đến </s> <s> nhưng theo tính chất kế thừa  điều này không thể xảy ra </s> <s> do đó chỉ số không tồn tại hay nói cách khác là một phương án tối ưu </s> <s> </s> <s> phần này chúng ta trở lại bài toán lập lịch với thời hạn và tiền thưởng đã giới thiệu ở </s> <s> chúng ta đã làm quen với thuật toán tham lam để giải bài toán lập lịch đó </s> <s> trong bài này chúng ta sẽ nhìn bài toán đó dưới góc độ matroid </s> <s> mình nhắc lại bài toán ở đây </s> <s> gọi tập các tác vụ là độc lập nếu tồn tai một cách thực thi sao cho tất cả các tác vụ trong tập hợp đó được thực thi trước thời hạn </s> <s> gọi là họ các tập độc lập </s> <s> ta chứng minh thuật toán tham lam trong bài trước cho lời giải tối ưu bằng cách chứng minh bổ đề sau </s> <s> ta có thể dễ dàng kiểm tra tính không rỗng và tính kế thừa của </s> <s> vấn đề khó khăn nhất chính là kiểm tra tính trao đổi </s> <s> gọi là một tập độc lập với các tác vụ được sắp xếp theo chiều tăng dần của thời hạn </s> <s> gọi là tập các tác vụ trong có thời hạn trước </s> <s> ta có nhận xét sau </s> <s> </s> <s> gọi là tập độc lập kích thước với các tác vụ được sắp xếp theo chiều tăng dần của thời hạn </s> <s> cũng được định nghĩa như </s> <s> do và  tồn tại một số lớn nhất sao cho </s> <s> do đó </s> <s> suy ra tồn tại ít nhất một tác vụ có thời hạn trong </s> <s> theo nhận xét trên  ta có thể chèn tác vụ và sau vị trí của mà không làm thay đổi tính độc lập </s> <s> do đó tính chất trao đổi được thỏa mãn </s> <s> </s> <s>  jeff erickson  uiuc </s> <s> </s> <s>  oxley james </s> <s> cubo matemática educacional  </s> <s>    </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s> </s> <s> https//kunigami </s> <s> wordpress </s> <s> com////lawlerandanintroductiontomatroids/   trackback link powered by and </s> <s> giải thuật tham lam  greedy algorithms </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  tham lam là một trong những phương pháp phổ biến nhất để thiết kế giải thuật </s> <s> rất nhiều thuật toán nổi tiếng được thiết kế dựa trên tư tưởng của tham lam ví dụ như thuật toán tìm đường đi ngắn nhất của dijkstra thuật toán cây khung nhỏ nhất của kruskal v </s> <s> v </s> <s> trong bài này chúng ta sẽ tìm hiểu phương pháp thiết kế giải thuật này </s> <s> bài toán như sau tìm cách lưu trữ file sao cho việc truy xuất được hiệu quả nhất biết rằng các file có xác suất truy cập như nhau </s> <s> </s> <s> </s> <s> vì các file có xác suất truy cập như nhau với một cách lưu trữ cho trước chi phí để truy xuất ngẫu nhiên một file có kì vọng là cách lưu trữ file mà chúng ta có thể nghĩ đến ngay đó là các lưu các file nhỏ ở đầu đĩa từ và lưu các file lớn ở cuối đĩa từ </s> <s> vấn đề còn lại là chứng minh rằng cách lưu này là một cách lưu file tối ưu  nhỏ nhất </s> <s> </s> <s> giả sử tồn tại một cách lưu trữ tối ưu và chỉ số sao cho </s> <s> gọi là hoán vị thu được từ bằng cách đổi chỗ và </s> <s> ta có do đó  trái với giả thiết là cách lưu trữ tối ưu </s> <s> </s> <s> bằng cách sắp xếp theo chiều tăng của kích thước file chúng ta có thể thực thi thuật toán trên trong thời gian </s> <s> bây giờ chúng ta hãy thay đổi bài toán một chút như sau tìm cách lưu trữ file sao cho việc truy xuất được hiệu quả nhất </s> <s> </s> <s> với bài toán này tổng chi phí để truy xuất file là ta sẽ tổng quát hóa thuật toán ở problem  như sau lưu file theo tỉ lệ tăng dần </s> <s> ta sẽ chứng minh rằng cách lưu file này có tổng chi phí nhỏ nhất </s> <s> tương tự như chứng minh ở theorem  ta giả sử tồn tại một cách lưu trữ tối ưu và chỉ số sao cho </s> <s> gọi là hoán vị thu được từ bằng cách đổi chỗ và </s> <s> ta có do đó  trái với giả thiết là cách lưu trữ tối ưu </s> <s> </s> <s> ta xét bài toán phức tạp hơn sau </s> <s> ví dụ ở hình dưới đây lấy từ  mỗi môn học được biểu diễn bởi một thanh ngang có chiều dài </s> <s> tập các thanh màu xanh chính là một tập có số lượng lớn nhất các môn học không gối lên nhau </s> <s> </s> <s> bài toán này có thể giải bằng phương pháp với thời gian </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> ở đây mình đưa ra cách giải bằng phương pháp tham lam </s> <s> có  cách lựa chọn lớp học tham lam mà bạn có thể nghĩ đếnthuật toán như sau </s> <s> code của giả mã bằng cdễ dàng thấy thuật toán trên có thể được thực thi trong thời gian </s> <s> việc còn lại của chúng ta là chứng minh thuật toán trên cho chúng ta tập các lớp không gối lên nhau có kích thước lớn nhất </s> <s> </s> <s> giả sử là tập các lớp học đầu ra của thuật toán tham lam và là một phương án tối ưu  sắp xếp theo chiều tăng dần của thời gian hoành thành </s> <s> gọi là tập phần tử đầu tiên của </s> <s> trong số các phương tối ưu chọn phương án sao cho là lớn nhất </s> <s> nếu  ta có vì nếu không ít nhất một lớp học nữa sẽ được thêm vào </s> <s> do đó là một phương án tối ưu </s> <s> giả sử </s> <s> suy ra tồn tại sao cho </s> <s> ta chọn nhỏ nhất thỏa mãn </s> <s> như vậy </s> <s> do là lớp học có thời gian hoành thành sớm nhất sau khi đã hoàn thành thời gian hoành thành của sớm hơn </s> <s> suy ra kết thúc trước khi bắt đầu </s> <s> ngoài ra chứng minh coi như bài tập cho bạn đọc xem lời giải trong phần  </s> <s> xét  i </s> <s> e dễ thấy và các lớp trong không gối lên nhau </s> <s> do đó là một phương án tối ưu </s> <s> tuy nhiên  trái với cách chọn là phương án có lớn nhất </s> <s> do đó là phương án tối ưu </s> <s> phương pháp chứng minh bằng phản chứng cho bài toán chọn lớp học cũng là một phương pháp chứng minh phổ biến để chứng minh thuật toán tham lam là tối ưu </s> <s> ta có thể rút ra các bước như saubạn có thể thử phương pháp trên cho bài toán lưu trữ file trên đĩa từ </s> <s> giờ chúng ta thử áp dụng ý tưởng đó vào bài toán sau </s> <s> ví dụ bạn có  tác vụ với thông tin như sauphương án tối ưu là theo trình tự thực thi với tổng tiền thưởng thu được là  </s> <s> tư tưởng tham lam của bài toán này rất đơn giản như sau trong tập các tác vụ chưa được chọn chọn tác vụ có tiền thưởng lớn nhất nếu tác vụ này vẫn còn thực thi được </s> <s> ở đây ta luôn duy trì một danh sách các tác vụ đã chọn và một tác vụ gọi là thực thi được nếu ta thêm tác vụ này vào danh sách đó vẫn tồn tại một cách thực thi sao cho tất cả các tác vụ được hoàn thành trước thời hạn </s> <s> áp dụng với ví dụ trên đầu tiên ta chọn tác vụ  sau đó là chọn tác vụ với trình tự </s> <s> ứng viên tiếp theo là  tuy nhiên ta không thể thực thi toàn bộ trước thời hạn do đó ta bỏ qua </s> <s> tương tự như vậy tác vụ cũng không thể được chọn và cuối cùng ta chọn </s> <s> như vậy thuật toán tham lam sẽ cho ta các tác vụ theo đúng trình tự thực hiện này </s> <s> giả mã như sau </s> <s> code của thuật toán bằng cdễ thấy thuật toán trên có thể được thực thi trong thời gian </s> <s> trong bài  mình sẽ giới thiệu phương pháp sử dụng cấu trúc unionfind để giảm thời gian xuống còn </s> <s> nếu các tác vụ đầu vào đã được sắp xếp theo chiều giảm dần của tiền thưởng chúng ta còn có thể giảm thời gian xuống còn trong đó là hàm ackerman ngược </s> <s> hàm tăng cực kì chậm và với mọi giá trị thực tế của </s> <s> do đó có thể coi xấp xỉ </s> <s> vấn đề còn lại là chứng minh rằng thuật toán tham lam cho lời giải tối ưu </s> <s> </s> <s> chúng ta sẽ chứng minh theo các bước đã chỉ ra ở trên </s> <s> gọi là tập các tác vụ đầu ra của thuật toán tham lam sắp xếp theo chiều giảm dần cuả tiền thưởng </s> <s> gọi là tập các tác vụ tối ưu sắp xếp như </s> <s> các tác vụ có phần thưởng bằng nhau trong sẽ được sắp xếp ưu tiên theo thứ tự trong </s> <s> ví dụ chứa tác vụ mà  trong đó xuất hiện trong và tác vụ được chọn trước trong thì ta sắp xếp chúng theo thứ tự trong </s> <s> nếu  ta suy ra vì nếu không thuật toán tham lam sẽ chọn thêm ít nhất một phần tử nữa vào </s> <s> chọn sao cho là lớn nhất </s> <s> gọi là chỉ số nhỏ nhất sao cho </s> <s> ta có vì nếu không thuật toán tham lam sẽ chọn </s> <s> theo cách sắp xếp  ta suy ra </s> <s> giả sử tồn tại một tác vụ có thời hạn sớm hơn hoặc bằng </s> <s> nếu  ta có thể đổi chỗ và  qua đó thu được phản chứng theo như lập luận ở trên </s> <s> do đó  nhưng điều đó có nghĩa là </s> <s> suy ra không có tác vụ nào trong có thời hạn sớm hơn hoặc bằng </s> <s> gọi là một lịch trình thực thi các tác vụ trong và gọi là số nhỏ nhất sao cho </s> <s> do đó theo như lập luận ở trên ta có và </s> <s> vì có một lịch trình thực thi sao cho mọi tác vụ đều trước thời hạn bằng cách thay thế bởi  ta thu được lời giải tối ưu khác với  qua đó thu được phản chứng </s> <s> code  </s> <s>  jeff erickson </s> <s>  uiuc </s> <s> </s> <s>  george kocur mit owc  mit </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s> </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>  trackback link on bài toán lập lịch có vấn đề trong chứng minh rồi </s> <s> phản ví dụ    </s> <s>    </s> <s>   nếu theo trình tự thì đc  đồng </s> <s> nhưng theo trình tự  thì đc  đồng cơ on hi bạn </s> <s> </s> <s> hình như bạn hiểu sai thuật toán </s> <s> khi thuật toán chọn một việc để đưa vào tập lời giải nó sẽ không thực thi ngay </s> <s> theo ví dụ của bạn thuật toán sẽ chọn job  và  trước nhưng nó sẽ không thực thi ngay </s> <s> khi xét job  thuật toán sẽ kiểm tra xem có lịch nào để thực thi được cả  hay không trong trường hợp này là có </s> <s> do đó nó sẽ chọn job  đưa vào lời giải </s> <s> cuối cùng kết quả vẫn là  </s> <s> mình trích lại thuật toán trong tập các tác vụ chưa được chọn chọn tác vụ có tiền thưởng lớn nhất nếu tác vụ này vẫn còn thực thi được </s> <s> ở đây ta luôn duy trì một danh sách các tác vụ đã chọn và một tác vụ gọi là thực thi được nếu ta thêm tác vụ này vào danh sách đó vẫn tồn tại một cách thực thi sao cho tất cả các tác vụ được hoàn thành trước thời hạnhùng on vâng ạ em đã hiểu em đã đọc kỹ bài này thì duy chỉ có cái chứng minh theorem  em thấy nó hơi tối với khó hiểu một tý anh có thể xem lại và chỉnh sửa cho nó sáng sủa một tý không ạ </s> <s> chẳng hạn chỗ pyi < pxi rồi suy ra xi không thuộc y là chưa chặt chẽ </s> <s> nếu dấu bằng xẩy ra pyi  pxi thì có thể có xi thuộc y chứ </s> <s> on đúng là phần suy diễn chưa chặt chẽ </s> <s> ở đây mình sẽ phải sửa lại cách sắp xếp sao cho nếu thì sẽ không phải là chỉ số lớn nhất mà </s> <s> cám ơn bạn đã chỉ ra lỗi này </s> <s> on mình lại phát hiện ra một lỗi sai rất tinh vi trong chứng minh theorem  của anh </s> <s> ở cái chỗ xét y </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ấy </s> <s> lỡ yi thuộc vào tập x thì sao lúc đó anh bỏ đi yi rồi lại thêm vào xi sẽ không làm tăng số phần tử chung lên </s> <s> vì vậy ta phải thêm lý luận sau  nếu yi thuộc vào x thì mút trái của nó phải lớn hơn mút phải của xi do cách thuật toán tham lam chọn xi </s> <s> vì vậy ta có thể bổ sung phần tử xi vào giữa  phần tử yi và yi trong phương án tối ưu để tạo ra một phương án còn lớn hơn mâu thuẫn </s> <s> on hi bạn </s> <s> đúng là chứng minh đầy đủ cần phải có phần lập luận của bạn </s> <s> cám ơn bạn đã chỉ ra </s> <s> mình sẽ link vào phần chứng minh coi như bài tập nhỏ </s> <s> hùngpowered by and </s> <s> theory news / </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  tháng  và tháng  không có quá nhiều điều thú vị nên mình tổng hợp cả  tháng vào một bài </s> <s>        trackback link powered by and </s> <s> phương pháp tính tổng và tích </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  mình viết appendix này mục đích để hỗ trợ cho loạt bài về các giải thuật ngẫu nhiên randomized algorithms </s> <s> tính tổng và tích với mình luôn là bài toán đau đầu khi mới bắt đầu cho đến khi mình đọc chương  </s> <s>  </s> <s>  của knuth  </s> <s> do đó bài này mình tổng hợp ngắn gọn chương  </s> <s>  </s> <s>  của knuth theo cách hiểu của bản thân </s> <s> mình khuyến khích bạn đọc đọc bản gốc tiếng anh của knuth </s> <s> từ  </s> <s> tính tổng an  sumin sumj  in fracji qquad  biết rằng sumin fraci  hn qquad  trong đó hn là thứ n </s> <s> có lẽ nếu bạn nào đã từng gặp tổng này thì có thể sẽ biết được các bước tính an như sau beginarraylcl an    sumin sumk  ni frack     sumkn sumi  nk frack     sumknfracnkk     nsumknfrack  sumkn      nhn  n     nhn n endarray qquad   để thu được phương trình đầu tiên ta đổi biến bằng cách đặt k  j  i  </s> <s> do đó điều kiện j  i rightarrow n trở thành k   rightarrow ni </s> <s> các phương trình ở dòng thứ  và  thì ta chỉ việc sử dụng các phép tách và nhóm cơ bản </s> <s> khó nhất là làm sao để thu được phương trình thứ  đổi chỗ biến chạy i và k từ trong ra ngoài </s> <s> tất nhiên việc kiểm chứng không phải là khó lắm vì chỉ cần viết ra </s> <s> cái khó là hiểu được trên cơ sở nào mà ta có thể đổi chỗ như vậy để ta có thể áp dụng vào các tình huống tương tự </s> <s> bài này chúng ta sẽ đi tìm hiểu cơ sở đó </s> <s> phần này mình nhắc lại một số tổng cơ bản và cách chứng minh </s> <s> các tổng bpn dưới đây khá cổ điển nên mình không nhắc lại chứng minh nữa mà khuyến khích bạn đọc xem tại các liên kết đính kèm beginarraylcl bn    sumin i  fracnn  on bn    sumin i  fracnnn  on bn    sumin i  leftfracnnright  on  ldots   bpn    sumin ip  onp endarray qquad   tổng bn gọi là  tổng bn gọi là tổng  tổng bn được gọi là  tổng bpn được gọi là tổng faulhaber do công thức tổng quát của nó theo  được tìm ra bởi faulhaber năm  </s> <s> tổng bn còn có thể được khái quát hóa cho trường hợp cấp số cộng  </s> <s> một cấp số cộng aaldots an với công sai d sẽ có tổng apdn  a  a  ldots an  fracnaan qquad  dễ thấy nếu chọn a   và công sai d   thì apn chính là tổng bn </s> <s> chúng ta cũng đã biết tổng của một cấp số nhân  với công bội r cũng có thể tính được dưới đạng đóng closed form gpran  a  ar  ar  ldots  arn  afracrnr qquad  tổng gpran còn có thể được mở rộng hơn nữa để tìm tổng của tích của một cấp số cộng và một cấp số nhân  beginarraylcl pgpdran    a  adr  adr  ldots  andrn    fraca  andrnr  fracrdrnr endarray qquad   nếu bạn đọc đã từng đọc bài về  trong phần phân tích xây dựng heap từ một mảng ở cuối bài viết mình có sử dụng tổng có cả cách chứng minh pgpn </s> <s> chứng minh công thức  tương tự như cách chứng minh của mình với tổng pgpn và coi như bài tập cho bạn đọc </s> <s> mặc dù không có dạng đóng số đồng điều thứ n cũng có thể coi là một tổng cơ bản và đáng nhớ vì tổng này hay xuất hiện trong các phân tích thuật toán </s> <s> về mặt tiệm cận hn sim lnn </s> <s> do giới hạn chiều dài của bài viết mình xin dừng liệt kê các tổng cơ bản ở đây </s> <s> bạn đọc có thể tham khảo thêm các tổng cơ bản khác và phương pháp chứng minh trong các sách   </s> <s> tổng có thể không phải tất cả các số hạng thuộc dãy a aa ldots an thường được viết dưới dạng ngắn gọn sử dụng kí hiệu sigma như sau  sumriai qquad  trong đó ri là một của biến chạy i </s> <s> ví dụ a  a  ldots alfloor n/ rfloor là tổng các hạng có chỉ số chẵn có thể viết ngắn gọn thành dạng  với quan hệ của biến chạy i là ri  i là các số chẵn </s> <s> dạng ngắn gọn đó không chỉ dễ nhìn hơn mà còn cho phép chúng ta phát triển các để thao tác với nó </s> <s> leftsumriai rightleftsumsjbj right  sumrisumsj aibjqquad  trong đó ri và sj lần lượt là quan hệ của biến chạy i và j và hai quan hệ này với nhau </s> <s> ở đây mình nhấn mạnh từ </s> <s> thông thường trong các bài toán ta sẽ phải tính tổng bên về phải và sử dụng  đưa về vế trái để tính </s> <s> ví dụ tính tổng  cn  suminsumjn ij qquad  tổng cn nhìn có vẻ phức tạp nhưng thực rất đơn giản </s> <s> áp dụng  ta có thể đưa tổng cn về dạng beginarray l cn   sumin i sumjn j    fracnnfracnnn  on endarray </s> <s> trong đó phương trình cuối cùng ta thu được là nhờ tổng bn và bn </s> <s> sumriai  sumrjaj  sumrfiafi qquad  ở đây f </s> <s>  là một hàm tùy ý trên miền các số nguyên </s> <s> phép đổi biến đầu tiên của  chỉ đơn giản là đổi tên của biến </s> <s> ví dụ sumin i và sumjn j đều là tổng bn mặc dù ta dùng hai biến có tên khác nhau </s> <s> phép đổi biến thứ  thường hữu dụng hơn cả và cũng khó hiểu hơn một chút </s> <s> để hiểu hơn phép này bạn đọc nên dừng đọc tiếp và xem lại phép đổi biến k  ji trong ví dụ  để thu được phương trình đầu tiên trong  </s> <s> sumj  in fracji  sumk  ni frack chi tiết phép đổi biến trong  viết theo ngôn ngữ của hằng đẳng thức  là như sau ta đặt fj  j  i  </s> <s> ở đây rj  i   leq j leq n và aj  fracji </s> <s> do đó afj  fracfji  fracjii  fracj và rfj  i  leq ji leq n quan hệ này tương đương với rfj   leq j leq n </s> <s> áp dụng  ta sẽ thu được phép đổi biến ban đầu </s> <s> nếu bạn nào đã quen với tích phân thì có thể thấy phép đổi biến này giống như phép đổi biến của tích phân </s> <s> nếu ri và sj là hai quan hệ độc lập ta có sumri sumsj aij  sumsj sumri aij qquad  nếu ri là một quan hệ của i và sij là một quan hệ của j phụ thuộc vào i ta có sumri sumsij aij  sumsj sumrij aij qquad  trong đó i sj là quan hệ của j sao cho thỏa mãn cả hai quan hệ ri và sij và ii rij là quan hệ của i sao cho cả ri và sij đều thỏa mãn </s> <s> phần in đậm chính là sự khác nhau cơ bản giữa sj và rij </s> <s> để hiểu hơn về hằng đẳng thức này ta sẽ kiểm tra nó với  </s> <s> trong  ta thực hiện đổi thứ tự như sau sumin sumjni fracj  sumjn suminjfracj qquad  ở đây ri  leq i leq n và sij   leq j leq ni </s> <s> ta sẽ tìm sj trước </s> <s> sj sẽ là quan hệ của j sao cho tồn tại i để  leq i leq n và  leq j leq ni </s> <s> trước hết ta thấy nếu j <  thì không tồn tại i để bất đẳng thức  leq j leq ni đúng </s> <s> với lí do tương tự thì j leq n </s> <s> nếu ta cố định giá trị j bất kì trong đoạn n thì từ hai bất đẳng thức  leq i leq n và j leq ni ta suy ra  leq i leq nj </s> <s> vì j leq n đoạn nj luôn không rỗng do đó luôn tồn tại i thỏa mãn  leq i leq nj </s> <s> như vậy sj   leq j leq n </s> <s> tìm rij thường sẽ dễ hơn </s> <s> theo định nghĩa rij là quan hệ của i sao cho  leq i leq n và  leq j leq ni </s> <s> ta suy ra  leq i leq nj </s> <s> do đó rij  leq i leq nj </s> <s> áp dụng  ta sẽ suy ra  </s> <s> nếu ri và sj là hai quan hệ độc lập ta có sumriai  sumsi ai  sumri mbox or  siai  sumri mbox and  si ai qquad  ví dụ summ ai  sumi  mn ai  suminai  sumimm ai  suminai  am  am chứng minh sumin sumj  i aiaj  fracleft leftsumin airight  leftsumin airightright qquad  đặt s  sumin sumj  i aiaj áp dụng phép thay đổi thứ tự phụ thuộc ta được beginarray ls   sumjn sumijn aiaj    sumin sumjin aiaj endarrayở phương trình thứ hai ta áp dụng phép đổi biến để đổi tên i và j </s> <s> đặt s  sumin sum j in aiaj ta có beginarray ls   s  s    sumin left sumj  i aiaj  sumj  in aiaj right   sumin left sumj  n aiaj  aiai right  sumin sumj  n aiaj  sumin ai   leftsumin airightleftsumjn ajright  sumin ai   leftsumin airight  sumin ai endarraytừ đó ta suy ra dpcm </s> <s>  </s> <s> e </s> <s> knuth </s> <s> </s> <s> chapter  </s> <s>  </s> <s>  </s> <s> addison wesley longman publishing co </s> <s>  inc </s> <s>  redwood city ca usa </s> <s>  </s> <s> </s> <s>  p </s> <s> flajolet and r </s> <s> sedgewick </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  p </s> <s> marko h </s> <s> s </s> <s> wilf and d </s> <s> zeilberger </s> <s> </s> <s> ak peters ltd </s> <s> wellesley </s> <s> ma   </s> <s> </s> <s>  r </s> <s> p </s> <s> stanley </s> <s> </s> <s> wadsworth publ </s> <s> co </s> <s>  belmont ca usa </s> <s>  </s> <s>   trackback link powered by and </s> <s> phương pháp giải hệ thức truy hồi  recurrence relation </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta tìm hiểu một số cách giải công thức truy hồi mà chúng ta hay gặp trong phân tích thuật toán </s> <s> mục tiêu chính của bài viết là cung cấp một số công cụ chuẩn để bạn đọc có thể ước lượng được nhanh chóng giá trị tiệm cận của hàm truy hồi mà bạn đọc quan tâm </s> <s> bài viết này chủ yếu tóm lược lại note của jeff erickson  </s> <s> mình khuyến khích bạn đọc xem bản gốc </s> <s> rất nhiều hệ thức truy hồi xuất hiện trong phân tích thuật toán có thể quy được về một trong hai bài toán tổng quát sau </s> <s>  tn  atfracnb  fn qquad  trong đó ab là các hằng số dương </s> <s> </s> <s>  tn  sumik aitfracnbi  fnqquad  trong đó aibi i  ldots k là các hằng số dương </s> <s> </s> <s> đây có lẽ là phương pháp mà chúng ta thường hay nghĩ tới khi bắt gặp một hệ thức truy hồi </s> <s>  dự đoán kết qủa và chứng minh bằng phương pháp quy nạp  tn  tn   qquad qquad t    thử một vài giá trị đầu tiên ta thấy  t   t   t   ldots  dự đoán  tn  n  </s> <s>  tn  tn    n    n   bây giờ chúng ta thử áp dụng cho bài toán khó hơn  tn  sqrtntsqrtn  n qquad qquad t  theta  ở bài toán này chúng ta tìm vì giá trị ban đầu của bài toán là hàm tiệm cận  theta </s> <s>  tn  on log n </s> <s> chúng ta dự đoán như vậy vì ở mỗi mức của cây đệ quy sẽ giới thiệu ở dưới bài toán có kích thước  n </s> <s> thử chứng minh tn leq a nlog n </s> <s> điểm mấu chốt ở đây là khái niệm o </s> <s>  cho phép ta tùy ý chọn chọn hằng số a và giá trị bé nhất của n để dự đoán của chúng ta là đúng </s> <s>  tn  sqrtntsqrtn  n leq sqrtncdot asqrtnlog sqrtn n leq a nlog n  ở bất đẳng thức cuối ta giả sử  n geq /a  </s> <s> như vậy dự đoán của chúng ta là đúng </s> <s> bây giờ chúng ta thử chứng minh cận dưới  tn geq bnlog n bằng quy nạp </s> <s>  tn  sqrtntsqrtn  n geq sqrtncdot bsqrtnlog sqrtn n  fracb nlog n  n giá trị này lớn hơn b n log n khi và chỉ khi n geq b/ nlog n </s> <s> điều này là không thể vì giá trị của hằng số b luôn n đủ lớn để  b/ nlog n  >  n </s> <s> như vậy cận trên onlog n vẫn chưa chặt </s> <s> tn  on </s> <s> ta lặp lại ý tưởng ở trên thử chứng minh  tn leq a n </s> <s>  tn  sqrtntsqrtn  n leq sqrtncdot asqrtn n  a n nleq a n  như vậy dự đoán chúng ta là sai </s> <s>  tn  onsqrtn </s> <s> chứng minh tương tự ta thấy dự đoán này đúng </s> <s> tuy nhiên nếu cố gắng chứng minh cận dưới  tn  omega nsqrtn chúng ta sẽ gặp vấn đề </s> <s> tn  onloglog n </s> <s> chứng minh cận trên  tn leq a nloglog n  </s> <s> beginarray lcl tn    sqrtntsqrtn  n  </s> <s>  leq  sqrtncdot asqrtn loglog sqrtn n  </s> <s>    a nloglog n a n  n  </s> <s>  leq  a n loglog nendarraykhi a geq  </s> <s> giờ ta chỉ cần chứng minh cận dưới tn geq b nloglog n </s> <s> beginarray lcl tn    sqrtntsqrtn  n  </s> <s>  geq  sqrtncdot bsqrtn loglog sqrtn n  </s> <s>    b nloglog n b n  n  </s> <s>  geq  b n loglog n qquad mboxnếu  b leq endarraydo đó ta có thể kết luận tn  thetanloglog n </s> <s> </s> <s> định lý thợ master theorem là một công cụ giúp ta giải các hệ thức truy hồi có dạng trong </s> <s> định lý dài và khó nhớ và theo mình bạn đọc cũng không cần nhớ làm gì </s> <s> chỉ cần nhớ dạng bài toán mà định lý này có thể áp dụng để giải </s> <s> nếu có thể thì chỉ cần nhớ phương pháp chứng minh định lý </s> <s>  tn  atfracnb  fn </s> <s> chúng ta sử dụng phương pháp recursion tree </s> <s> cây đệ quy có nút gốc có giá trị và nút con </s> <s> mỗi nút con của nút gốc sẽ là gốc của một cây cho hàm đệ quy </s> <s> như vậy ở độ sâu thứ  gía trị của hàm của các nút là </s> <s> minh họa ở hình sau </s> <s> </s> <s> </s> <s> nhìn vào cây đệ quy ta sẽ thấy  tn  sumil ai ffracnbi </s> <s> ở đây  l là độ sâu của cây đệ quy </s> <s> dễ thấy  l  logb n </s> <s> xét trường hợp  tn  tn/  n </s> <s> </s> <s> do afn/b  n/  n  fn theo định lý thợ ta có tn  ofnlog n  onlog n </s> <s> </s> <s> </s> <s> ta cũng có thể dùng công thức tổng quát để tính </s> <s> cụ thể tn  sumil i n/i  sumil n  thetanlog n </s> <s>  tn  tn/  n </s> <s> </s> <s> do afn/b  n/   </s> <s>  n  kfn với k   </s> <s>  theo định lý thợ ta có tn  onlogb a o nlog  </s> <s> </s> <s> </s> <s> hoặc sử dụng công thức tổng quát ta có tn  sumil i n/i  nsumilog n /i  n /logn  nlog  </s> <s>  tn  sqrtntsqrtn  n </s> <s> </s> <s> do dạng của phương trình đệ quy này không giống với dạng trong định lý thợ ta không thể áp dụng công thức tổng quát của định lý thợ </s> <s> tuy nhiên ta có thể áp dụng phương pháp cây đệ quy </s> <s> nhìn vào cây nhị phân ta thấy tổng giá trị mỗi mức là n tn  sumil n với chiều cao cây l thỏa mãn nl  theta </s> <s> giải ra ta được l  thetaloglog n </s> <s> như vậy tn  theta n loglog n </s> <s> trong phần này chúng ta sẽ tìm hiểu một công cụ khác công thức đệ quy có dạng trong </s> <s> phương phápđược đề xuất bởi mohamad akra và louay bazzi năm  </s> <s> với điều kiện kaibi là các hằng số lời giải của có dạng như sau  tn  theta nrho  intn fracfuurho du trong đó rho thỏa mãn phương trình  sumik ai/birho   </s> <s> bạn đọc có thể tham khảo chứng minh của định lí này trong  </s> <s> randomized quicksort tn  tn/  tn/  n </s> <s> </s> <s> áp dụng công thức tổng quát ta tìm rho thỏa mãn /rho  /rho   </s> <s> dễ thấy rho   </s> <s> do đó ta có  tn  thetan  intn fracudu  onlog n deterministic selection tn  tn/  tn/  n </s> <s> </s> <s> ta tìm rho thỏa mãn /rho  /rho   </s> <s> ta sẽ tìm được một giá trị sử dụng  rho thỏa mãn   < rho <  </s> <s> áp dụng công thức tổng quát ta có </s> <s> </s> <s> </s> <s>  tn  thetanrho  intn fracuurho  du  thetanrho  thetan rho   thetan  j </s> <s> erickson  uiuc fall  </s> <s> </s> <s>  manuscript </s> <s> mit  </s> <s> </s> <s>  tìm giá trị tiệm cận của các hàm sau a </s> <s> b </s> <s> c </s> <s> d </s> <s> e gợi ý viết lời giải dưới dạng dãy số fibonacci </s> <s> f  sử dụng cây đệ quy hoặc phương pháp bom tấn để tìm giá trị tiệm cận của các hàm sau a </s> <s> b </s> <s> c </s> <s> d </s> <s> e </s> <s> f </s> <s> </s> <s> bài tập  được lấy từ jeff erickson notes và bài tập  lấy từ introduction to algorithm nd </s> <s>    trackback link on cái chỗ công thức tổng quát trong ô vuông phải là fn/bi chứ không phải tn/bi anh à </s> <s> góp ý nhỏ thôi  on ừ nhỉ </s> <s> mình gõ sai </s> <s> cám ơn bạn đã góp ý </s> <s> góp ý này không hề nhỏ như bạn nghĩ d </s> <s> hùngpowered by and </s> <s> phân tích thuật toán  algorithm analysis </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này mình hướng đến các bạn mới bắt đầu học thuật toán với mục đích giúp các bạn làm quen với một số khái niệm như o </s> <s>  o </s> <s>  omega </s> <s>  theta </s> <s>  </s> <s> mình đã có định nghĩa các khái niệm này một cách hình thức </s> <s> bài này mình bổ sung các định nghĩa đó bằng những giải thích trực quan hơn </s> <s> khi phân tích một thuật toán ta thường quan tâm đến và </s> <s> khi chúng ta đã thành thạo phân tích một trong hai tài nguyên thì phân tích tài nguyên còn lại không phải quá khó khăn </s> <s> do đó bài viết này mình sẽ chỉ tập trung nói về phân tích thời gian tính toán của một thuật toán </s> <s> phân tích một thuật toán về cơ bản là đếm mà thuật toán đó thực hiện </s> <s> định nghĩa chính xác thế nào là một thao tác cơ bản là việc </s> <s> tuy nhiên để đơn giản ta tạm coi các thao tác cơ bản ở đây là cộng trừ nhân chia so sánh và mỗi thao tác cơ bản này mất  đơn vị thời gian </s> <s> do đó đôi khi ta cũng coi số thao tác cơ bản như là một của thời gian tính toán </s> <s> mình nói ước lượng thô là vì thời gian thực phụ thuộc rất nhiều vào máy tính hay mô hình tính toán mà ta sử dụng </s> <s> cùng  triệu phép nhân số  bít nhưng thời gian tính toán của phần cứng khác nhau có thể khác nhau </s> <s> tuy nhiên ta vẫn chấp nhận cách ước lượng thô này vì nó sẽ làm phép phân tích thuật toán đơn giản hơn loại bỏ sự phụ thuộc phần cứng ra khỏi phép phân tích </s> <s> cách giải thích tốt nhất có lẽ là minh họa thông qua ví dụ </s> <s>  phân tích thời gian của thuật toán sau </s> <s> thuật toán nhận đầu vào là một mảng aldots n với n phần tử và trả lại tổng a  a  ldots  an </s> <s> ta sẽ đếm số phép cộng của thuật toán trước </s> <s> mỗi lần lặp thuật toán thực hiện một phép cộng để cập nhật s </s> <s> do ta có n vòng lặp thuật toán thực hiện n phép cộng để tìm s </s> <s> thuật toán chỉ thực hiện n phép cộng không hẳn thế </s> <s> nếu bạn lập trình bằng ngôn ngữ c chẳng hạn thì mỗi lần thực hiện vòng lặp for bạn phải tăng biến đếm i lên  </s> <s> do đó ta phải tính cả số phép cộng thực hiện trên biến i mà không phải chỉ với biến s </s> <s> số phép cộng tăng lên nnếu coi mỗi phép cộng mất  đơn vị thời gian thì thời gian của thuật toán có phải là n đơn vị thời gian cũng không hẳn như vậy </s> <s> sau mỗi lần lặp thuật toán còn phải so sánh i với n để kiểm tra điều kiện kết thúc vòng lặp </s> <s> do đó thuật toán sử dụng thêm n phép so sánh </s> <s> vẫn chưa hết thuật toán còn sử dụng n phép gán với biến s và n phép gán với biến i </s> <s> tóm lại thuật toán sử dụng khoảng n phép toán cơ bản nếu bạn thực thi bằng c </s> <s> nếu bạn thực thi đoạn code trên bằng ngôn ngữ khác c số lượng phép toán cơ bản có thể nhiều hơn như vậy </s> <s> tưởng tượng với đoạn code rất đơn giản trên mà thực hiện đếm chính xác số lượng phép toán cơ bản đã không tầm thường thì với các đoạn chương trình phức tạp hơn thì ta làm thế nào bigo o </s> <s>  sẽ giúp bạn đếm đơn giản hơnthay vì đếm chính xác o </s> <s>  cho phép ta đếm số thao tác cơ bản </s> <s> theo phân tích ở trên dù ta thực thi thuật toán bằng bất kì ngôn ngữ nào thì số lượng phép toán cơ bản đều không quá ccdot n với một hằng số c nào đó </s> <s> hằng số c có thể là  hoặc  hoặc  </s> <s> ta gọi nó là hằng số là vì giá trị của nó không phụ thuộc vào n </s> <s> theo  ta có thể nóithuật toán có thời gian on </s> <s> tóm lại khi ta nói một thuật toán có độ phức tạp ofn ta muốn nói số lượng phép toán cơ bản mà thuật toán sử dụng không quá c cdot fn với một hằng số c nào đó khi n  bất chấp ngôn ngữ lập trình sử dụng </s> <s> như vậy khi dùng o </s> <s>  để phân tích thuật toán ta có thể loại bỏ sự phụ thuộc vào hay thực thi mức thấp của thuật toán </s> <s> phân tích thuật toán </s> <s> </s> <s> có lẽ bạn đọc cũng nhận ra thuật toán thực hiện sắp xếp một mảng đầu vào theo chiều tăng dần </s> <s> để phân tích thuật toán này ta chỉ cần đếm số phép so sánh các phần tử của mảng aldots n  số lần kiểm tra điều kiện của câu lệnh if </s> <s> tại sao ngoại trừ khi n   mỗi khi ta thực hiện thao tác bất kì gán đổi chỗ v </s> <s> v ta đều thực hiện một phép so sánh </s> <s> do đó chỉ cần đếm số phép so sánh và sử dụng khái niệm o </s> <s>  là ta coi như đã xong </s> <s> do mỗi lần lặp ta sử dụng một phép so sánh thay vì đếm số phép so sánh ta đếm số lần lặp </s> <s> với mỗi i cố định vòng lặp trong cùng có ni    ni lần lặp </s> <s> do đó tổng số lần lặp là sumin ni  sumjn j  n n/  n/  n/ qquad  như vậy độ phức tạp của thuật toán là on/n/ </s> <s> theo  ta có thể loại bỏ hằng nhân tử hằng số trong biểu thức </s> <s> do đó ta có thể viết on/n/  onn  on </s> <s> tổng kết lại ta có từ phân tích ví dụ  ta có thể thấy rằng kí hiệu o </s> <s>  cho phép chúng ta biểu diễn thời gian tính toán bằng các biểu thức đơn giản hơn </s> <s> không chỉ có vậy o </s> <s>  còn cho phép chúng ta phát triển các công cụ phân tích mạnh hơn tổng quát hơn nhưng lại dễ hiểu hơn </s> <s> để minh họa điểm này ta xét ví dụ sau </s> <s> phân tích thuật toán </s> <s> không khó để nhận ra thuật toán thực hiện sắp xếp một mảng theo chiều tăng dần sử dụng </s> <s> phương pháp thường dùng để phân tích thuật toán kiểu chia để trị là giải hệ thức truy hồi </s> <s> ta gọi tn là độ phức tạp của thuật toán khi mảng đầu vào có n phần tử </s> <s> độ phức tạp của hai thủ tục gọi đệ quy lần lượt là tlfloor n/ rfloor và tlceil n/ rceil </s> <s> phân còn lại của phép phân tích là tính độ phức tạp của thủ tục </s> <s> nếu bạn đếm chính xác số thao tác cơ bản của thủ tục là một điều không hề dễ dàng vì có các lệnh điều kiện </s> <s> tuy nhiên sử dụng o </s> <s>  ta có thể khẳng định số thao tác cơ bản là on vì ta chỉ lặp n lần và mỗi lần lặp ta thực hiện o phép tính cơ bản </s> <s> do đó ta có tn  tlceil n/ rceil  tlfloor n/ rfloor  on qquad  phương trình  trông khá đẹp nhưng giải nó không hề dễ vì có các hàm lceil cdot rceil và lfloor cdot rfloor </s> <s> tuy nhiên o </s> <s>  cho phép chúng ta bỏ lceil cdot rceil và lceil cdot rceil ra khỏi phương trình chứng minh tính chất này một cách tỉ mỉ không phải đơn giản nhưng vẫn có thể làm được </s> <s> ta được tn  tn/  on qquad  </s> <s> giải phương trình  ta chỉ cần áp dụng  thu được tn  onlog n </s> <s> rõ ràng thuật toán trông khá phức tạp nhưng o </s> <s>  cho phép chúng ta phân tích nó một cách khá đơn giản </s> <s> trợ lại bài toán sắp xếp ta đã thấy hai thuật toán trình bày trong bài này là và với độ phức tạp lần lượt là on và onlog n </s> <s> ta có thể kết luận thuật toán mặc dù đơn giản hơn rất nhiều về mặt thực thi so với nhưng khi n đủ lớn thì nó sẽ chậm hơn rất nhiều so với </s> <s> để thấy sự khác biệt thực tế mình khuyến khích bạn đọc kiểm tra hiệu năng của hai thuật toán với mảng  ngàn phần tử có lẽ bạn sẽ phải đợi khá lâu thì mới thực hiện xong còn chỉ cần không đến s </s> <s> trong trường hợp bài toán sắp xếp ở trên o </s> <s>  cho chúng ta một cái nhìn khá chính xác giữa phân tích lý thuyết và thời gian chạy thực tế mặc dù nó chỉ là một ước lượng khá thô </s> <s> ước lượng o </s> <s>  nói chung thể hiện khá chính xác thực tế nêu sự khác biệt giữa hai thuật toán mà chúng ta đang so sánh là polynomial separation hoặc superpolynomial separation </s> <s> chứng minh rằng sự khác biệt giữa và là đa thức </s> <s> một ví dụ khác đó là bài toán </s> <s> thuật toán quay lui áp dụng cho bài toán tsp có độ phức tạp on trong khi thuật toán có thời gian onn </s> <s> sự khác biệt giữa hai thuật toán này là siêu đa thức quy hoạch động nhanh hơn </s> <s> trong thực tế chỉ cần n geq  là ta đã thấy sự khác biệt giữa hai thuật toán này rồi </s> <s> chứng minh rằng sự khác biệt giữa thuật toán quay lui và quy hoạch động cho bài toán tsp là siêu đa thức </s> <s> nếu lấy s làm chuẩn thì table  dưới đây thể hiện tương đối giới hạn đầu vào của bài toán </s> <s> </s> <s> giới hạn đầu vào tương ứng với độ phức tạp khi lấy s làm chuẩn </s> <s> nếu n   mà thuật toán có độ phức tạp on thì thực tế có lẽ mất khoảng s thuật toán mới thực hiện xong </s> <s> sử dụng bảng  không cần code ta cũng có thể ước lượng được tương đối thời gian chạy thực tế của thuật toán </s> <s> đó là lý do mà bạn cần phải biết bigo </s> <s> khi sự khác biệt giữa hai thuật toán thấp hơn đa thức thì không nên coi bigo là một tiêu chuẩn so sánh trong </s> <s> ở đây mình nhấn mạnh thực tế vì về mặt lý thuyết những thuật toán có bigo nhỏ hơn thường có những cái nhìn mới về bài toán hoặc những công cụ lý thuyết mới giúp ta có thể giải quyết được nhiều bài toán khác </s> <s> một ví dụ nổi bật là bài toán tìm phần tử thứ k của một mảng chưa sắp xếp </s> <s> bằng cách sắp xếp mảng đầu vào ta có thể tìm phần tử thứ k trong thời gian onlog n </s> <s> tuy nhiên thuật toán có thể giải bài toán này trong thời gian on </s> <s> liệu thuật toán bfprt có thực sự nhanh hơn thuật toán sắp xếp câu trả lời là có nhưng khi n khá lớn </s> <s> nếu bạn cài đặt không tối ưu thì thuật toán của bạn có khi vẫn chậm hơn sắp xếp khi n   </s> <s> điều này có thể giải thích đơn giản là do các hàm như log n tăng khá chậm so với n </s> <s> hầu hết các bài toán thực tế n nằm trong khoảng  cho đến  tương ứng là khoảng của log n từ  đến  ta giả sử logarithm có cơ số  </s> <s> nếu hằng số ẩn sau big o của thuật toán on lớn hơn hằng số ẩn sau onlog n khoảng  lần thì trong thực tế ta sẽ không phân biệt được thời gian tính toán của hai thuật toán này </s> <s> ngay cả khi so sánh hai thuật toán có độ phức tạp tương ứng là onlog n và on o </s> <s>  cũng không phải là tiêu chuẩn tin cậy thì so sánh hai thuật toán có cùng độ phức tạp thì o </s> <s>  càng không phải là một tiêu chuẩn tin cậy </s> <s> khi hai thuật toán có cùng bigo thì thường ta sẽ dựa vào kinh nghiệm thực tế để kết luận </s> <s> tất nhiên cũng có những lý thuyết phát triển để so sánh các thuật toán như vậy nhưng phép phân tích sẽ trở nên vô cùng phức tạp </s> <s> đã có bigo thì tại sao chúng ta lại cần các kí hiệu o </s> <s>  theta </s> <s>  omegan phần này mình cố gắng làm rõ ý nghĩa của các kí hiệu này </s> <s> trước hết các bạn phải xem lại định nghĩa toán học tỉ mỉ của các kí hiệu này </s> <s> theo phân tích ở trên thuật toán có độ phức tạp on </s> <s> theo định nghĩa của o </s> <s>  sẽ không sai nếu ta nói có độ phức tạp on </s> <s> chỉ là on chưa thể hiện đúng nhất độ phức tạp của thuật toán mà thôi </s> <s> thông thường khi ta nói độ phức tạp của thuật toán là otn thì ta cố gắng tìm biểu thức tn gần nhất với độ phức tạp thực sự của thuật toán mà ta có thể chứng minh được </s> <s> các kí hiệu o </s> <s>  theta </s> <s>  omega </s> <s>  sẽ giúp chúng ta biểu diễn về mặt lý thuyết biểu thức o </s> <s>  có phản ánh đúng hiệu năng của thuật toán hay không </s> <s> để minh họa ta xét thêm một ví dụ nữa </s> <s>  tìm kiếm nhị phân </s> <s> </s> <s> thuật toán tìm kiếm vị trí của phần tử có giá trị a trong mảng aldots n đã sắp xếp theo chiều tăng dần </s> <s> trong giả mã trên ta giả sử a luôn xuất hiện trong aldots n </s> <s> không khó để thấy thuật toán trên có độ phức tạp olog n bạn đọc có thể xem  </s> <s> tuy nhiên không phải lúc nào thuật toán cũng cần tới olog n thao tác </s> <s> ví dụ khi aldots n  ldots n và  a  n thì chỉ cần o thao tác thôi ta đã tìm được vị trí của phần tử a rồi </s> <s> câu hỏi đặt ra là liệu cận trên olog n đã chặt tight chưa sử dụng  ta có thể phát biểu câu hỏi tương đương là liệu thời gian của thuật toán có phải là olog ncâu trả lời là không </s> <s> n geq  và mọi mảng aldots n đã sắp xếp luôn a sao cho thuật toán cần lfloor log n rfloor phép so sánh để có thể xác định được vị trí của a trong mảng aldots n </s> <s> ta nói thuật toán có độ phức tạp omegalog n </s> <s> không khó để chứng minh rằng coi như bài tập cho bạn đọc a  an sẽ thỏa mãn phát biểu trên </s> <s> như vậy cận trên độ phức tạp của thuật toán là olog n và cận dưới độ phức tạp của thuật toán là omegalog n ta nói thuật toán có độ phức tạp thetalog n </s> <s> kí hiệu theta </s> <s>  dùng khi biểu thức trong cận trên o </s> <s>  và cận dưới omega </s> <s>  trùng với nhau </s> <s>       trackback link powered by and </s> <s> khái niệm tiệm cận  asymptotic notation </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  phân tích thời gian thuật toán về cơ bản là đếm số thao tác cơ bản mà thuật toán thực hiện </s> <s> tuy nhiên việc đếm chính xác số thao tác cơ bản nhiều lúc không tầm thường hoặc phụ thuộc vào dữ liệu đầu vào ví dụ lệnh  </s> <s> do đó trong thực tế phân tích thuật toán ta chỉ đếm số thao tác cơ bản mà thôi </s> <s> bigo chính là một công cụ cho phép chúng ta biểu diễn tương đối độ phức tạp của thuật toán một cách đơn giản </s> <s> bài này chúng ta sẽ tìm hiểu định nghĩa hình thứ của các khía niệm </s> <s> mình đã viết giải thích đầy đủ hơn các khái niệm này cũng nhưng các sử dụng trong phân tích thuật toán </s> <s> </s> <s> vì với mọi </s> <s> ở đây ta chọn </s> <s> như vậy nếu  điều đó có nghĩa là thuật toán đó có thời gian chạy là </s> <s> khái niệm thường phù hợp để phân tích cận dưới lower bound của thuật toán </s> <s> </s> <s> </s> <s> </s> <s> hoặc một cách định nghĩa tương tự như hai định nghĩa đầu tiên đó là </s> <s> hoặc < < </s> <s> chứng minh định nghĩa   và  là tương đương </s> <s> như vậy nếu  điều đó có nghĩa là thuật toán đó có thời gian chạy là </s> <s> khái niệm phù hợp để phân tích cả cận trên và cận dưới của thuật toán </s> <s> </s> <s> </s> <s> </s> <s> cách định nghĩa khác là </s> <s> chứng minh định nghĩa  và  là tương đương </s> <s> hình minh họa các khái niệm </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford   </s> <s> </s> <s> mit press and mcgrawhill </s> <s> isbn  </s> <s>  avrim blum lecture notes on algorithms </s> <s> carnegie mellon university  </s> <s> hàm tăng nhanh hơn nếu </s> <s> sắp xếp các hàm sau theo thứ tự tăng dần của độ tăng </s> <s> a </s> <s> b </s> <s> những kết luận sau đúng hay sai chứng minh </s> <s> </s> <s> a </s> <s> b </s> <s> c </s> <s> d </s> <s> </s> <s> bài tập  và  được lấy từ introduction to algorithms nd </s> <s>  trackback link powered by and </s> <s> một số bài toán npcomplete với đầu vào là số nguyên lớn  weakly npcomplete problems </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài viết này chúng ta sẽ tìm hiểu một số bài toán khi mà đầu vào là các số nguyên lớn </s> <s> ta gọi các bài toán npcomplete kiểu này là các bài toán </s> <s> bài toán đầu tiên là bài toán </s> <s> trong bài  chúng ta đã tìm hiểu thuật toán giải bài toán với thời gian </s> <s> thoạt nhìn thuật toán này có vẻ như có thời gian đa thức vì ta không thấy lũy thừa ở đâu cả </s> <s> tuy nhiên đây lại chính là thuật toán với thời gian lũy thừa </s> <s> tại sao vậy nhắc lại ta luôn đo độ phức tạp thời gian là một hàm của của input </s> <s> số nguyên có thể được biểu diễn bằng bít do đó nó có chiều dài </s> <s> như vậy thời gian chính là một hàm lũy thừa </s> <s> các bạn có thể xem lại cách ta định nghĩa </s> <s> trong bài này ta sẽ chứng minh khi rất lớn bài toán là một bài toán </s> <s> hai bài toán khác chúng ta cũng xét trong phần này là bài toán và bài toán </s> <s> bài toán  về mặt ứng dụng ít được biết đến hơn bài toán </s> <s> tuy nhiên nó lại được dùng nhiều trong chứng minh tính của rất nhiều bài toán khác </s> <s> ta sẽ lần lượt chứng minh các bài toán trên là dựa trên sơ đồ quy dẫn sau </s> <s> </s> <s> </s> <s> bài toán là bài toán mà ta đã chứng minh ở </s> <s> mình nhắc lại bài toán đó ở đây </s> <s> </s> <s> ta sẽ quy dẫn từ bài toán như sau </s> <s> gọi lần lượt là số đỉnh của đồ thị </s> <s> ta thực hiện hai bước saugọi là tập các cạnh kề với đỉnh </s> <s> ta có nhận xét về tổng trọng số mà đỉnh nhận được sau hai bước trên là nếu viết trong cơ số  ta có thể hiểu đại lượng như sau chữ số thứ của luôn là  và chữ số thứ của là khi và chỉ khi kề với cạnh mảng của chúng ta bao gồm tất cả các đỉnh và cạnh có kích thước </s> <s> cạnh   có giá trị  và đỉnh  có giá trị như trong phương trình </s> <s> ta thiết lập ta sẽ chứng minh có một tập phủ đỉnh kích thước khi và chỉ khi có một tập con có tổng giá trị định nghĩa trong </s> <s> chiều thuận gọi là tập phủ đỉnh của đồ thị với kích thước </s> <s> ta xây dựng tập con của bao gồm i tất cả các đỉnh trong và  các cạnh của đồ thị có một đầu mút trong </s> <s> do là một tập phủ đỉnh mỗi cạnh có một đầu mút trong </s> <s> việc kiểm tra xem các phần tử trong có tổng giá trị coi như bài tập cho bạn đọc </s> <s> chiều ngược gọi là một tập con của có tổng giá trị </s> <s> do tổng trọng số các cạnh của đồ thị là  nhỏ hơn  tập gồm đúng đỉnh và có thể có thêm một số cạnh </s> <s> gọi là tập các đỉnh trong </s> <s> ta chỉ còn phải chứng minh mọi cạnh đều có một dầu mút trong </s> <s> giả sử có một cạnh ví dụ cạnh có số thứ tự với  không có đầu mút nào trong </s> <s> cạnh này có trọng số </s> <s> do đó cạnh nà đóng góp vào </s> <s> tuy nhiên do cạnh này không kề với đầu mút nào trong và nhỏ hơn  chỉ chứa tối đa  trái với định nghĩa trong là chứa </s> <s> nhận thấy bài toán thực ra là một trường hợp đặc biệt của bài toán khi và </s> <s> do đó một cách chứng minh đơn giản theorem  từ theorem  là cho </s> <s> cách chứng minh này thực ra là một cách chứng minh sai </s> <s> lý do tại sao coi như bài tập cho bạn đọc xem lại định nghĩa quy dẫn </s> <s> ta đặt </s> <s> gọi là tập gồm phần tử trong đó với mọi và  </s> <s> ta sẽ chứng minh tập có một tập con có tổng giá trị khi và chỉ khi tập có thể được chia thành hai tập con có tổng giá trị bằng nhau </s> <s> chứng minh chi tiết coi như bài tập cho bạn đọc dựa trên nhận xét rằng và không thể cùng thuộc một tập con </s> <s> </s> <s> ta quy dẫn từ bài toán bằng cách cho và </s> <s> chi tiết còn lại chỉ mang tính thủ tục và mình coi như bài tập cho bạn đọc </s> <s>  j </s> <s> erickson </s> <s> </s> <s> uiuc </s> <s>  </s> <s>  t </s> <s> h </s> <s> cormen c </s> <s> e </s> <s> leiserson r </s> <s> l </s> <s> rivest c </s> <s> stein </s> <s> </s> <s> chapter  </s> <s> mit press and mcgrawhill </s> <s> isbn  </s> <s>  </s> <s> </s> <s>  m </s> <s> r </s> <s> garey and d </s> <s> s </s> <s> johnson </s> <s> </s> <s> w </s> <s> h </s> <s> freeman  co </s> <s>  new york ny usa </s> <s>  </s> <s>      trackback link powered by and </s> <s> một số bài toán npcomplete trên đồ thị  npcomplete problems on graphs </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong  chúng ta đã tìm hiểu về npcomplete và  bài toán đầu tiên là và </s> <s> công cụ để chứng minh một bài toán thuộc là quy dẫn reduction mà cụ thể là lemma  trong </s> <s> nói ngắn gọn để chứng minh một bài toán thuộc  ta sẽcác bạn phải đặc biệt chú ý chiều của quy dẫn nếu ta muốn sử dụng bài toán để chứng minh bài toán </s> <s> càng về sau chúng ta càng dễ nhầm chiều </s> <s> trong post này chúng ta tập trung vào một số bài toán trên đồ thị tập độc lập indepndent set phủ đỉnh vertex cover clique chu trình hamilton và bài toán người du lịch tsp </s> <s> chúng ta sẽ thực hiên quy dẫn theo figure  </s> <s> </s> <s> quy dẫn giữa một số bài toán trong đồ thị </s> <s> quy dẫn từ sang ta đã trình bày trong </s> <s> chúng ta sẽ bỏ qua quy dẫn từ về vì quy dẫn khá phức tạp khó trình bày trong khuôn khổ cho phép của post này </s> <s> các bạn có thể xem thêm tại  và clrs  </s> <s> các quy dẫn khác trong hình ta sẽ trình bày ở post này </s> <s> trước khi đi vào quy dẫn mình muốn làm rõ một vài khái niệm và kí hiệu với bài toán </s> <s> bạn đọc cần phân biệt biến variables và literals </s> <s> mỗi biến có  literals tương ứng là và phủ của nó </s> <s> nếu được gán giá trị thì literal sẽ có giá trị còn literal sẽ có giá trị </s> <s> một mệnh đề clause của có giá trị khi và chỉ khi ít nhất  literal trong mệnh đề đó có giá trị  mặc dù tất cả các biến trong mệnh đề đó có thể nhận giá trị </s> <s> ngoài ra theo của  mỗi mệnh đề của có  literals </s> <s> thực tế bài toán sat với mỗi mệnh đề có  literals cũng là npcomplete </s> <s> do đó ta sẽ giả sử mỗi mệnh đề của có đúng  literals để ta không phải xét các trường hợp khi thực hiện quy dẫn </s> <s> ta bắt đầu với bài toán tập độc lập independent set do quy dẫn từ về tập độc lập là quy dẫn phức tạp nhất của bài viết </s> <s> sau khi thực hiện quy dẫn này rồi các quy dẫn khác sẽ dễ hơn nhiều </s> <s> một tập đỉnh được gọi là một tập độc lập của một đồ thị nếu như không có cạnh nào nối hai đỉnh cùng thuộc một tập đó xem lại chi tiết định nghĩa và ví dụ  </s> <s> </s> <s> ta sẽ chứng minh </s> <s> ta sẽ quy dẫn bài toán về như sau bắt đầu từ một biểu thức thuộc bài toán  ta sẽ xây dựng một đồ thị và một số nguyên trong thời gian đa thức sao cho có một phép gán có giá trị khi và chỉ khi đồ thị có một tập độc lập với kích thước ít nhất </s> <s> ta bắt đầu bằng cách xây dựng các cho từng mệnh đề của </s> <s> sau đó chúng ta sẽ tìm cách nối các gadget lại với nhau </s> <s> một gadget ở đây được hiểu là một đồ thị con để phục vụ cho mục đích giải bài toán của chúng ta </s> <s> dựa trên định nghĩa ta có nhận xét với mỗi cạnh  tối đa một đỉnh thuộc tập độc lập </s> <s> gadget mệnh đề với mỗi mệnh đề có  biến ví dụ  ta tạo ra  đỉnh mới có nhãn tương ứng và </s> <s> sau đó ta nối  đỉnh này đôi một với nhau </s> <s> xem figure  </s> <s> chú ý dấu phủ trên biến không có gì đặc biệt chỉ để minh họa một mệnh đề có cả biến và phủ của biến </s> <s> các mệnh đề không có phủ hoặc chỉ có phủ ta làm tương tự </s> <s> nhận thấy với mỗi gadget mệnh đề chỉ có tối đa một đỉnh thuộc tập độc lập và đỉnh nào thuộc tập độc lập thì literal tương ứng sẽ nhận giá trị </s> <s> ta sẽ thiết lập giá trị sao cho đúng một trong  đỉnh của gadget mệnh đề sẽ thuộc tập độc lập </s> <s> </s> <s> </s> <s> gadget cho mệnh đề </s> <s> giờ ta sẽ nối các gadget mệnh đề lại với nhau </s> <s> hiện tại số đỉnh của đồ thị là vì với mỗi mệnh đề ta có  đỉnh </s> <s> với mỗi biến  chỉ có đúng một trong hai literals và nhận giá trị  do đó ta sẽ nối mọi cặp đỉnh có nhãn dạng và lại với nhau </s> <s> do đó chỉ đúng có một trong hai đỉnh và thuộc tập độc lập </s> <s> đỉnh nào thuộc tập độc lập thì ta thiết lập literal tương ứng sẽ nhận giá trị </s> <s> như vậy ta đã hoàn thành đồ thị </s> <s> xem minh họa trong figure  </s> <s> để thiết lập giá trị  ta thấy nhận giá trị khi và chỉ khi tồn tại một cách gán biến sao cho mọi mệnh đề có giá trị </s> <s> hay nói cách khác mỗi mệnh đề đều có một literal </s> <s> điều đó có nghĩa mỗi gadget mệnh đề có ít nhất  biến thuộc tập độc lập </s> <s> do đó ta thiết lập </s> <s> </s> <s> các cạnh màu đỏ gạch là các cạnh nối giữa các gadget mệnh đề </s> <s> giờ ta sẽ chứng minh có một phép gán có giá trị khi và chỉ khi đồ thị có một tập độc lập với kích thước ít nhất </s> <s> chiều thuận  với mỗi biến  nếu phép gán của gán cho giá trị  ta lấy đỉnh có nhãn của mỗi mệnh đề vào tập </s> <s> ngược lại ta lấy đỉnh có nhãn vào tập </s> <s> do phép gán đó là phép gán  mỗi mệnh đề đều có một literal có giá trị </s> <s> nếu mệnh đề có ít nhất  literals có giá trị có một literal có giá trị  ta cũng chỉ lấy đúng  đỉnh trong số ít nhất  đỉnh tương ứng để đảm bảo là tập đọc lập </s> <s> do đó có đúng do đó ít nhất đỉnh </s> <s> chiều ngược  gọi là một tập độc lập có kích thước ít nhất trong đồ thị </s> <s> do đồ thị có đỉnh và mỗi gadget mệnh đề chỉ có tối đa đỉnh trong  ta suy ra có đỉnh </s> <s> trong không có  đỉnh nào có dạng và với mọi vì theo cách xây dựng đồ thị ta sẽ có một cạnh nối  đỉnh đó </s> <s> do đó trong có đúng literals và các literals tương ứng với mỗi biến chỉ có dạng hoặc </s> <s> giờ ta sẽ gán giá trị cho biến sao cho mọi literals trong đều nhận giá trị </s> <s> do chứa đúng một literal cho mỗi clause cách gán này khiến mọi mệnh đề có giá trị  do đó biểu thức sẽ có giá trị dpcm </s> <s> cho một đồ thị  một tập đỉnh được gọi là một tập phủ đỉnh vertex cover nếu như với mọi cạnh của đồ thị ít nhất một trong hai đầu mút của nó thuộc </s> <s> tập được gọi là một clique nếu như giữa mọi cặp đỉnh của đều tồn tại một cạnh của đồ thị nối hai đỉnh đó </s> <s> xem ví dụ trong hình minh họa trong figure  </s> <s> </s> <s> a các đỉnh được tô đậm màu đỏ thuộc clique có kích thước  trong đồ thị và b các đỉnh được tô đậm màu xanh là một tập phủ đỉnh của đồ thị </s> <s> bài toán được định nghĩa như sau </s> <s> ta có </s> <s> ta sẽ quy dẫn từ bài toán </s> <s> ở đây mình chỉ lượt qua ý tưởng </s> <s> chi tiết chứng minh theo từng bước coi như bài tập của bạn đọc </s> <s> chứng minh dựa trên nhận xét nếu là một tập phủ đỉnh của đồ thị thì là một tập độc lập của đồ thị </s> <s> nhận xét này có thể chứng minh bằng phản chứng như sau </s> <s> kí hiệu </s> <s> nếu không phải là tập độc lập thì sẽ tồn tại một cạnh nối hai đỉnh của của </s> <s> theo định nghĩa của phủ đỉnh ít nhất một trong hai đầu mút của cạnh này phải thuộc tập phủ đỉnh ta thu được phản chứng </s> <s> bài toán được định nghĩa như sau </s> <s> ta có </s> <s> ta sẽ quy dẫn từ bài toán </s> <s> cũng như lemma  mình chỉ nêu ý tưởng chính </s> <s> chi tiết chứng minh theo từng bước coi như bài tập của bạn đọc </s> <s> </s> <s> ta định nghĩa đồ thị bù kí hiệu  của đồ thị như sau </s> <s> tập đỉnh của đồ thị bù cũng là tập đỉnh của đồ thị gốc i </s> <s> e </s> <s> tập cạnh của đồ thị bù là phần bù của tập cạnh của đồ thị gốc </s> <s> nói cách khác nếu giữa hai đỉnh của đồ thị gốc không có cạnh nào nối chúng thì ta sẽ thêm cạnh vào đồ thị bù và ngược lại </s> <s> quy dẫn từ dựa trên nhận xét là một clique của đồ thị khi và chỉ khi nó là một tập độc lập của đồ thị bù </s> <s> bài toán chu trình hamilton và bài toán người du lịch tsp mình đã đã định nghĩa chi tiết kèm ví dụ ở </s> <s> mình nhắc lại ngắn gọn hai bài toàn này tại đây </s> <s> ta có </s> <s> như đã nói ở đầu bài viết quy dẫn cho hamiltonian cycle khá phức tạp và mình sẽ không trình bày cụ thể ở đây </s> <s> bạn đọc xem chứng minh chi tiết thêm tại note của jeff erickson  </s> <s> ta sẽ công nhận là bài toán thuộc lớp </s> <s> ta sẽ chứng minh bằng cách quy dẫn từ bài toán </s> <s> gọi là đồ thị đầu vào của bài toán </s> <s> ta quy đồ thị này thành đầu vào của bài toán bằng cách gán cho mỗi cạnh trọng số và thiết lập </s> <s> ta có nhận xét đồ thị với các cạnh trọng số có một đường đi đóng có tổng trọng số nhỏ hơn hoặc bằng khi và chỉ khi mọi đỉnh xuất hiện đúng  lần trên đường đi ngoại trừ đỉnh đầu và đỉnh cuối </s> <s> do đó đường đi đóng là chính là một chu trình hamilton của đồ thị </s> <s>  j </s> <s> erickson </s> <s> </s> <s> uiuc </s> <s>  </s> <s>  t </s> <s> h </s> <s> cormen c </s> <s> e </s> <s> leiserson r </s> <s> l </s> <s> rivest c </s> <s> stein </s> <s> </s> <s> chapter  </s> <s> mit press and mcgrawhill </s> <s> isbn  </s> <s>  </s> <s> </s> <s>  m </s> <s> r </s> <s> garey and d </s> <s> s </s> <s> johnson </s> <s> </s> <s> w </s> <s> h </s> <s> freeman  co </s> <s>  new york ny usa </s> <s>  </s> <s>       trackback link powered by and </s> <s> thuật toán knuthmorrispratt kmp </s> <s> http//vnoi </s> <s> info/wiki/translate/wcipeg/kmp </s> <s> </s> <s> </s> <s> </s> <s> nguồn  wcipeg </s> <s> </s> <s> người dịch  trần kim thạch </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> trước khi đọc bài này bạn có thể đọc về các thuật ngữ trong xử lý xâu cũng như về bài toán so khớp chuỗi ở đây </s> <s> </s> <s> thuật toán knuthmorrispratt kmp là một thuật toán với thời gian chạy tuyến tính nhằm giải quyết bài toán so khớp chuỗi </s> <s> </s> <s> </s> <s> thuật toán được xây dựng dựa vào quan sát rằng một xâu con chung của s và t sẽ đưa ra được thông tin s có khớp với các vị trí sau của t hay không </s> <s> bởi vì xâu con chung này đồng nghĩa với một phần của t đã khớp với một phần của s nên bằng việc khởi tạo trước một số thông tin với xâu s ta sẽ thu được những kết luận về t nhờ xâu con chung mà không cần quay ngược và so sánh lại những ký tự đã khớp </s> <s> </s> <s> </s> <s> cụ thể hơn ta muốn tính toán trước cách xâu s tự khớp với chính nó </s> <s> nhờ vậy thuật toán sẽ không quay nhìn lại và chỉ duyệt qua t một lần duy nhất </s> <s> </s> <s> </s> <s> cùng với quá trình tiền xử lí tuyến tính ot với t là độ dài xâu t thuật toán có thời gian chạy tuyến tính </s> <s> </s> <s> </s> <s> cảm hứng </s> <s> </s> <s> cảm hứng của kmp có thể được minh họa rõ nhất qua  ví dụ dưới đây </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> s  aaa </s> <s> t  aaaaaaaaa </s> <s> </s> <s> ở ví dụ này ta cần các lần xuất hiện của xâu s trong xâu t s xuất hiện  lần </s> <s> </s> <s> </s> <s> ta có thể duyệt bình thường với độ phức tạp os  t như sau </s> <s> </s> <s> </s> <s> so s với t s với t s với t do đó vị trí số  là vị trí khớp của s trong t </s> <s> </s> <s> so s với t s với t s với t tìm được vị trí số  là vị trí khớp của s trong t </s> <s> </s> <s> so s với t s với t s với t tìm được vị trí số  là vị trí khớp của s trong t </s> <s> </s> <s> </s> <s> </s> <s> và cứ mãi như vậy cho đến khi đủ hết trường hợp </s> <s> </s> <s> </s> <s> tuy nhiên ta có thể làm tốt hơn nếu ta tiền xử lý s và để ý </s> <s> </s> <s> </s> <s> s giống s </s> <s> s giống s </s> <s> </s> <s> </s> <s> </s> <s> vậy tiền tố độ dài  của s s s khớp với xâu con độ dài  ở vị trí thứ  của s s s  nói cách khác s tự khớp một phần </s> <s> </s> <s> </s> <s> sau khi kiểm tra khớp ở vị trí số  so sánh s với t t t ta đã biết </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> khi ta kiểm tra khớp ở vị trí số  so sánh s với t t t ta có </s> <s> </s> <s> </s> <s> s  t s  t </s> <s> s  s s  s </s> <s> </s> <s> </s> <s> suy ra </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> </s> <s> do vậy việc so sánh với t t là không cần thiết nữa </s> <s> ta chỉ cần kiểm tra nốt s  t là đã kết luận được s được tìm thấy ở vị trí  trong t </s> <s> như vậy sau đáp án ở vị trí  ta chỉ cần thêm  thao tác để kết luận s cũng có ở vị trí  trong t thay vì  như thuật duyệt bình thường </s> <s> đến đây ta biết </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> và tương tự lại kết luận được </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> </s> <s> ta sau đó chỉ cần so s với t tìm được một đáp án nữa cứ thế tiếp tục </s> <s> trong khi thuật toán duyệt cần đến  phép tính cho mỗi lần so sánh s với một xâu con của t kĩ thuật của chúng ta chỉ cần  phép tính ở lần lặp đầu và  cho mỗi kết quả sau và không xét lại các kí tự của t </s> <s> đây cũng là cách con người giải quyết bài toán </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> s  aaa </s> <s> t  aabaabaaa </s> <s> </s> <s> như ở trên ta bắt đầu như thuật toán duyệt so sánh </s> <s> </s> <s> </s> <s> s với t </s> <s> s với t </s> <s> s với t </s> <s> </s> <s> </s> <s> ở đây ta thấy s khác t vậy s không khớp với t ở vị trí  </s> <s> đến bước này thuật duyệt sẽ tiếp tục bằng cách so s với t và s với t không khớp rồi lại so s với t không khớp cứ như vậy </s> <s> </s> <s> </s> <s> thế nhưng chúng ta sẽ thấy ngay rằng sau kết quả không khớp ở vị trí đầu khả năng tìm thấy s ở các vị trí  và  của t đã không còn </s> <s> lí do là vì như đã trình bày ở ví dụ  </s> <s> </s> <s> </s> <s> s  s </s> <s> s neq t </s> <s> </s> <s> </s> <s> do đó s neq t </s> <s> </s> <s> </s> <s> tương tự như vậy do </s> <s> </s> <s> </s> <s> s  s </s> <s> s neq t </s> <s> </s> <s> </s> <s> nên s neq t ta không cần tìm s ở vị trí thứ  của t làm gì </s> <s> sẽ hợp lí hơn khi bắt đầu tiếp ở vị trí số  do ta không thể chắc chắn có thể tìm được hay không s s s    ttt </s> <s> </s> <s> </s> <s> sau khi so sánh ở vị trí  và thấy tiếp tục không khớp ta dùng lập luận tương tự loại bỏ vị trí số  và  và bắt đầu lại ở vị trí số  ở đây  xâu khớp nhau </s> <s> lần nữa hãy chú ý các kí tự của t được duyệt qua theo trình tự </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> đây là một ví dụ phức tạp hơn </s> <s> </s> <s> s  tartan </s> <s> t  tartaricacid </s> <s> </s> <s> ta quan sát thấy tiền tố độ dài  của s khớp với chính xâu con độ dài  bắt đầu ở vị trí số  của nó </s> <s> bây giờ lần lượt so sánh các vị trí từ s đến s với t đến t </s> <s> ta thấy s không khớp với t vậy không có kết quả ở vị trí số  </s> <s> </s> <s> </s> <s> ở đây hãy chú ý </s> <s> </s> <s> </s> <s> s neq s </s> <s> s neq s </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> nên ta có s neq t và s neq t </s> <s> vậy không thể có trùng khớp ở vị trí số  và  </s> <s> </s> <s> </s> <s> tới đây hãy nhớ lại rằng </s> <s> </s> <s> </s> <s> s  s </s> <s> s  s </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> ta suy ra s  t s  t </s> <s> vậy ta sẽ tiếp tục kiểm tra vị trí số  bằng việc so sánh s với t </s> <s> làm theo cách này ta loại bỏ được hai trường hợp và bắt đầu duyệt lại không phải ở đầu mà ở giữa xâu s tránh được việc xét lại t và t </s> <s> </s> <s> </s> <s> ý tưởng chính </s> <s> </s> <s> gọi si là tiền tố độ dài i của xâu s </s> <s> </s> <s> </s> <s> các ví dụ trên chính là tư tưởng hoạt động của kmp dựa trên quan sát rằng một số xâu con của xâu cần tìm có khớp với xâu con nào khác của xâu cần tìm hay không </s> <s> tuy nhiên định hướng chung mang tính hệ thống của thuật toán thì chưa rõ ràng </s> <s> định hướng này được phát biểu như sau </s> <s> </s> <s> ở mỗi vị trí i của s tìm hậu tố chuẩn dài nhất của si mà cũng là tiền tố của s </s> <s>  hậu tố chuẩn của một xâu là hậu tố có độ dài bé hơn xâu đó </s> <s>  </s> <s> </s> <s> ta sẽ gọi độ dài của xâu con này là pii </s> <s> ta cũng có thể định nghĩa pii là số j lớn nhất để sj sqsupset si </s> <s> ký hiệu x sqsupset y nghĩa là x là hậu tố của y </s> <s> </s> <s> </s> <s> bảng pi gọi là hàm tiền tố  chiếm bộ nhớ tuyến tính và như sẽ trình bày dưới đây có thể tính được trong thời gian tuyến tính </s> <s> bảng sẽ chứa toàn bộ các thông tin cần thiết để máy thực hiện những phương án thông minh nhất cho quá trình tìm kiếm </s> <s> cụ thể hơn </s> <s> </s> <s> </s> <s> trong ví dụ  và  </s> <s> </s> <s> </s> <s> pi   không có tiền tố chuẩn thỏa mãn </s> <s> </s> <s> pi   tiền tố a khớp hậu tố a </s> <s> </s> <s> pi   tiền tố aa khớp hậu tố aa </s> <s> </s> <s> </s> <s> </s> <s> trong ví dụ  </s> <s> </s> <s> </s> <s> pi   </s> <s> pi   </s> <s> pi   </s> <s> pi   tiền tố t khớp với xâu con t kết thúc ở vị trí thứ  </s> <s> </s> <s> pi   tiền tố ta khớp với xâu con ta kết thúc ở vị trí thứ  </s> <s> </s> <s> pi   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng quát bảng pi cho ta biết sau một lần khớp hoặc không khớp giữa cây kim và đống rơm vị trí tiếp theo trong đống rơm ta cần kiểm tra là gì </s> <s> các phép so sẽ tiếp tục ở các vị trí tiếp theo không bao giờ quay ngược về các kí tự ta đã kiểm tra rồi </s> <s> </s> <s> </s> <s> tính toán độ phức tạp </s> <s> </s> <s> để tính độ phức tạp cho hàm tiền xử lí trước tiên ta có quan sát </s> <s> </s> <s> </s> <s> dãy pii  i pii pipii pipipii </s> <s> </s> <s> </s> <s>  chứa toàn bộ những giá trị j thỏa mãn sj sqsupset si </s> <s> </s> <s> </s> <s> </s> <s> vậy ta có thể đếm toàn bộ những hậu tố của si đồng thời là tiền tố của s bằng cách bắt đầu với i dò nó trong bảng pi dùng kết quả đó dò tiếp tục và tiếp tục đến khi kết thúc bằng  </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> </s> <s> </s> <s> đầu tiên ta chứng minh chiều xuôi nếu j xuất hiện trong pii thì sj sqsupset si </s> <s> </s> <s> </s> <s> </s> <s> nếu j là phần tử đầu trong pii </s> <s> vậy j  i và hẳn nhiên sj sqsupset si </s> <s> </s> <s> nếu j không là phần tử đầu gọi phần tử trước nó là k </s> <s> vậy pik  j </s> <s> theo định nghĩa sj sqsupset sk </s> <s> nhưng sk sqsupset si </s> <s> do quan hệ này có tính chất bắc cầu sj sqsupset si </s> <s> </s> <s> </s> <s> </s> <s> giờ ta chứng minh chiều ngược nếu sj sqsupset si j thuộc pii </s> <s> giả sử j không xuất hiện trong dãy </s> <s> rõ ràng  lt j lt i do i và  đều có trong dãy </s> <s> do pii luôn giảm ta có thể tìm được một và chỉ một k thuộc pii sao cho kgtj và pikltj </s> <s> nói cách khác ta có thể tìm được một và chỉ một k mà sau nó j có lẽ sẽ xuất hiện để giữ cho dãy luôn giảm </s> <s> ở phần đầu chứng minh ta đã biết sk sqsupset si </s> <s> do hậu tố độ dài j của si là một hậu tố của hậu tố độ dài k của si hậu tố độ dài j của si phải khớp với hậu tố độ dài j của sk </s> <s> nhưng hậu tố độ dài j của si cũng khớp với sj nên sj khớp với hậu tố độ dài j của sk </s> <s> vậy ta kết luận pik ge j </s> <s> thế nhưng j ge pik mâu thuẫn </s> <s> </s> <s> </s> <s> </s> <s> cũng chính nhờ việc chứng minh này ta có thể xây dựng một thuật toán để tính bảng pi </s> <s> với mỗi i </s> <s> </s> <s> </s> <s> đầu tiên ta tìm số j gt  sao cho sj sqsupset si </s> <s> </s> <s> nếu không tìm được ta kết luận pii   như trường hợp i </s> <s> </s> <s> nếu có j gt  thỏa mãn vậy khi xóa bỏ kí tự cuối của hậu tố này ta thu được một hậu tố của si đồng thời là tiền tố của s tức là sj sqsupset si </s> <s> vậy bước đầu ta đếm mọi hậu tố chuẩn và khôngrỗng của si đồng thời là tiền tố của s </s> <s> nếu ta tìm được một hậu tố độ dài k đồng thời thỏa sk  si vậy sk sqsupset si và k là một giá trị khả dĩ của j </s> <s> vậy ta sẽ gán k  pii và tiếp tục lặp lại trong dãy pipii pipipii </s> <s> </s> <s> </s> <s>  quá trình sẽ dừng lại nếu gặp phải một phần tử j trong dãy sao cho sj  si và gán pii  j cách này sẽ luôn cho kết quả tối ưu vì dãy pii luôn giảm và nó chứa toàn bộ giá trị k khả dĩ </s> <s> nếu đi đến hết dãy vậy pii   </s> <s> </s> <s> </s> <s> </s> <s> dưới đây là mã giả để tính pi </s> <s> </s> <s> π ←  </s> <s> for i ∈  </s> <s> </s> <s> m </s> <s> k ← πi </s> <s> while k gt  and sk ≠ si </s> <s> k ← πk </s> <s> if sk  si </s> <s> πi ←  </s> <s> else </s> <s> πi ← k </s> <s> </s> <s> hoặc có thể viết gọn lại như sau </s> <s> </s> <s> π ←  </s> <s> k ←  </s> <s> for i ∈  </s> <s> </s> <s> m </s> <s> while k gt  and sk ≠ si </s> <s> k ← πk </s> <s> if sk  si </s> <s> k ← k </s> <s> πi ← k </s> <s> </s> <s> thuật toán có độ phức tạp om </s> <s> để hiểu tại sao thì hãy để ý k không bao giờ âm nó không thể giảm nhiều hơn mức nó tăng </s> <s> k chỉ tăng ở dòng k ← k  vốn chỉ bị gọi nhiều nhất là m lần </s> <s> vậy k giảm nhiều nhất là k lần </s> <s> nhưng k giảm ở mỗi lần lặp của vòng while  vậy tổng tất cả các bước trong vòng while không quá om </s> <s> tất cả những câu lệnh trong vòng for đều có độ phức tạp là hằng số nên cả thuật toán có độ phức tạp om </s> <s> </s> <s> </s> <s> so khớp </s> <s> </s> <s> coi như ta đã xây dựng xong bảng pi </s> <s> đây là lúc ta sử dụng những thông tin cực khổ lấy được này </s> <s> giả sử rằng ta đã kiểm tra đang vị trí thứ j và k kí tự đầu của s đã khớp </s> <s> nói cách khác </s> <s> </s> <s> </s> <s> s  tj </s> <s> s  tj </s> <s> s  tj </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sk  tjk </s> <s> </s> <s> </s> <s> </s> <s> có  khả năng </s> <s> </s> <s> </s> <s> ta muốn tiếp tục chạy trên s và t để kiểm tra các cặp kí tự </s> <s> ta kiểm tra ở một ví trị khác trên t </s> <s> </s> <s> </s> <s> </s> <s> lí do cho trường hợp  là </s> <s> </s> <s> </s> <s> hoặc k  m tức đã tìm thấy một vị trí trùng khớp của s trên t và ta cần tiếp tục ở vị trí khác </s> <s> hoặc sk neq tjk loại bỏ vị trí hiện tại </s> <s> </s> <s> </s> <s> </s> <s> nếu ta đã biết từ s đến sk khớp với từ tj đến tjk vị trí nào ta có thể bỏ qua đây là cốt lõi của thuật toán kmp </s> <s> </s> <s> </s> <s> </s> <s> định lý  nếu k gt  thì p  k  pik sẽ là giá trị p nhỏ nhất sao cho s </s> <s> </s> <s> </s> <s> skp khớp với tjp </s> <s> </s> <s> </s> <s> tjk </s> <s> nếu k p </s> <s>  </s> <s> </s> <s> </s> <s> nói một cách dễ hình dung hơn ta có thể bỏ qua tất cả các vị trí từ  đến p </s> <s> </s> <s> </s> <s> suy nghĩ thật kĩ lí thuyết này </s> <s> </s> <s> </s> <s> </s> <s> nếu p gt  không thỏa mãn s </s> <s> </s> <s> </s> <s> skp khớp với tjp </s> <s> </s> <s> </s> <s> tjk vậy s không khớp với t ở vị trí jp tức ta có thể loại bỏ vị trí này </s> <s> </s> <s> mặt khác nếu p gt  thỏa mãn yêu cầu trên xâu s có khả năng khớp với t ở vị trí jp và thực tế là các kí tự từ vị trí jp đến jk đều đã khớp với các vị trí tương ứng ở s </s> <s> ta chỉ cần tiếp tục bằng cách so skp với tjk không quay đầu lại như đã hứa </s> <s> </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> </s> <s> có  le q lt k </s> <s> </s> <s> nếu sq sqsupset sk vậy theo định nghĩa ta có s </s> <s> </s> <s> </s> <s> sq  skq </s> <s> </s> <s> </s> <s>  sk </s> <s> nhưng vì s </s> <s> </s> <s> </s> <s>  sk  tj </s> <s> </s> <s> </s> <s> tjk nên skq </s> <s> </s> <s> </s> <s> sk  tjkq </s> <s> </s> <s> </s> <s> tjk </s> <s> vậy s </s> <s> </s> <s> </s> <s> sq  tjkq </s> <s> </s> <s> </s> <s> tjk </s> <s> </s> <s> ngược lại nếu không có sq sqsupset sk vậy s </s> <s> </s> <s> </s> <s> sq neq skq </s> <s> </s> <s> </s> <s>  sk dẫn đến skq </s> <s> </s> <s> </s> <s> sk  tjkq </s> <s> </s> <s> </s> <s> tjk là sai và dẫn đến s </s> <s> </s> <s> </s> <s> sq  tjkq </s> <s> </s> <s> </s> <s> tjk là sai </s> <s> </s> <s> </s> <s> </s> <s> ta kết luận rằng kq là một giá trị khả dĩ của p khi và chỉ khi sq sqsupset sk </s> <s> do maximum của q là pik minumum của p được xác định bởi kpik </s> <s> </s> <s> </s> <s> dưới đây là mã giả </s> <s> </s> <s> j ←  </s> <s> k ←  </s> <s> while jm ≤ n </s> <s> while k ≤ m and sk  tjk </s> <s> k ← k </s> <s> if k  m </s> <s> print match at position  j </s> <s> if k   </s> <s> j ← j </s> <s> else </s> <s> j ← jkπk </s> <s> k ← πk </s> <s> </s> <s> ta dò trong xâu cần search một lần một kí tự kí tự đang được xét là nằm ở vị trí jk </s> <s> nếu xảy ra không trùng khớp ta dùng bảng pi để tìm đến vị trí khả dĩ tiếp theo </s> <s> </s> <s> </s> <s> đoạn code tương đương dưới đây thể hiện rõ hơn việc thuật toán xét một kí tự một lần và không quay ngược lại </s> <s> </s> <s> k ←  </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> while k gt  and sk ≠ ti </s> <s> k ← πk </s> <s> if sk  ti </s> <s> k ← k </s> <s> if k  m </s> <s> print match at position  im </s> <s> k ← πk </s> <s> </s> <s> ở đây i tương ứng với jk ở đoạn code trên </s> <s> mỗi lần lặp của vòng lặp trong của một trong  đoạn code tương ứng với một lần lặp của vòng lặp ngoài ở đoạn còn lại </s> <s> ở đoạn thứ hai ta cũng có thể chứng minh thuật có độ phức tạp on mỗi lần vòng while ở trong được thực hiện giá trị của k giảm nhưng nó không thể giảm nhiều hơn n lần bởi k khởi đầu là không và không bao giờ âm </s> <s> k chỉ tăng nhiều nhất một lần ở vòng lặp ngoài tức nhiều nhất tổng cộng n lần </s> <s> vậy vòng lặp trong chỉ lặp nhiều nhất n lần và tất cả các câu lệnh khác có độ phức tạp hằng số </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> </s> <s> voj  substr </s> <s> </s> <s> </s> <s> </s> <s> code c </s> <s> </s> <s> </s> <s> voj  twoopers </s> <s> </s> <s> </s> <s> </s> <s> quy dẫn và npcomplete  reduction and npcomplete </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong  chúng ta đã tìm hiểu hai lớp bài toán và </s> <s> nói ngắn gọn là lớp bài toán quyết định mà chúng ta có thể giải trong thời gian đa thức còn là lớp bài toán mà chúng ta có thể kiểm tra lời giải trong thời gian đa thức </s> <s> về mặt trực quan các bài toán dễ giải cũng là các bài toán dễ kiểm tra </s> <s> do đó </s> <s> câu hỏi vs liệu các bài toán dễ kiểm tra lời giải thì có dễ giải hay không vẫn là một câu hỏi mở chưa có lời giải </s> <s> trong bài này chúng ta sẽ xem một cách tiếp cận đối với câu hỏi vs thông qua một lớp các bài toán trong số các bài toán trong lớp </s> <s> những bài toán đó được gọi là bài toán thuộc lớp </s> <s> nhưng làm thế nào để biết được bài toán nào là khó nhất trong số vô hạn các bài toán trong  cook và levin độc lập đưa ra câu trả lời cho câu hỏi này câu trả lời trở thành </s> <s> định lý này cùng một số công trình khác mang về cho cook giải turing </s> <s> công cụ sử dụng trong chứng minh của định lý cooklevin chính là quy dẫn reduction </s> <s> phần đầu tiên của bài viết ta sẽ nghiên cứu công cụ này </s> <s> trong lớp có cả những bài toán khó và dễ </s> <s> lớp các bài toán khó nhất là lớp dưới đây </s> <s> một input của một bài toán quyết định a được gọi là một instance nếu đầu ra tương ứng của input này là </s> <s> ngược lại ta gọi là một instance của bài toán a </s> <s> ta sẽ dùng để kí hiệu chiều dài của input </s> <s> chữ karp ở trên là tên của nhà khoa học  người đưa ra định nghĩa này </s> <s> quy dẫn có nhiều dạng khác nhau nhưng ở đây ta chỉ xét quy dẫn karp karp reduction định nghĩa ở trên </s> <s> do đó ta sẽ nói ngắn gọn là quy dẫn </s> <s> </s> <s> ta có nhận xét nếu là một đa thức bậc  là một đa thức bậc thì là một đa thức bậc </s> <s> một cách ngắn gọn ta có gọi là một input của bài toán </s> <s> gọi lần lượt là giải thuật quy dẫn từ sang và từ sang </s> <s> gọi là một giải thuật quy dẫn từ sang  trong đó với mỗi  ta thu được đầu ra </s> <s> theo định ngĩa thời gian tính toán của thuật toán là do là giải thuật có thời gian đa thức ta có một giải thuật đa thức không thể có đầu ra có chiều dài lũy thừa </s> <s> theo  ta có dpcm </s> <s> </s> <s> gọi là một đầu vào của bài toán </s> <s> để xác định xem có phải là một instance của hay không ta sẽtheo   cả hai bước trên đều có thể thực hiện được trong thời gian đa thức dpcm </s> <s> quy dẫn cung cấp cho chúng ta một công cụ rất đẹp để định lượng độ khó giữa hai bài toán </s> <s> nếu  lemma  cho chúng ta biết bài toán sẽ dễ hơn bài toán  theo nghĩa nếu ta giải được trong thời gian đa thức thì ta cũng giải được trong thời gian đa thức </s> <s> điều ngược lại có thể sẽ không đúng </s> <s> sau đây ta xét ví dụ minh họa quy dẫn giữa hai bài toán và </s> <s> </s> <s> ví dụ </s> <s> </s> <s> a một bàn cờ và một số ô bị xóa các ô bị tô màu đen và b một cách xếp các quân domino phủ kín bàn cờ </s> <s> </s> <s> ví dụ </s> <s> </s> <s> đồ thị hai phía với các đỉnh tô màu xám ở một phía và các đỉnh màu trắng ở phía còn lại </s> <s> các cạnh tô đậm màu đỏ là một cặp ghép hoàn hảo </s> <s> đồ thị này được xây dựng từ thuật toán quy dẫn trình bày dưới đây áp dụng cho figure a </s> <s> ta có </s> <s> từ bàn cờ kích thước  ta tạo ra một đồ thị trong đó mỗi đỉnh của đồ thị là một ô chưa bị xóa của bàn cờ và mỗi cạnh nối hai đỉnh tương ứng với hai ô kề nhau của bàn cờ hai ô vuông có chung một cạnh </s> <s> đồ thị là đồ thị hai phía vì ta có thể lấy các đỉnh tương ứng với các ô đen của bàn cờ là một phía và các đỉnh tương ứng với các ô trắng là phía còn lại </s> <s> ta chỉ cần chứng minh bàn cờ có thể phủ được bằng các quân domino khi và chỉ khi đồ thị có cặp ghép hoàn hảo </s> <s> thật vậy nếu bàn cờ có thể phủ kín được bằng cách quân domino mỗi quan domino sẽ tương ứng với một cạnh của cặp ghép </s> <s> do đó có một cặp ghép hoàn hảo </s> <s> ngược lại với mỗi cạnh của cặp ghép hoàn hảo của  ta đặt một quân domino phủ hai đỉnh tương ứng của cạnh đó </s> <s> do cặp ghép là hoàn hảo các quân domino sẽ phủ kín bàn cờ dpcm </s> <s> bài toán tìm cặp ghép hoàn hảo của đồ thị hai phía có thể giải được trong  ta suy ra </s> <s> do đó theo lemma  </s> <s> ta đã có trong tay công cụ để xác định độ khó giữa các bài toán </s> <s> giờ ta có thể định nghĩa một lớp các bài toán khó khó hơn tất cả các bài toán trong lớp </s> <s> nếu bài toán trong định nghĩa trên cũng thuộc lớp  ta nói thuộc lớp </s> <s>  nhắc lại một bài toán quyết định được gọi là thuộc lớp nếu bài toán đó có một bằng chứng đơn giản dễ kiểm tra </s> <s> theo định nghĩa trên chỉ là một lớp bài toán con của lớp </s> <s> lớp còn bao gồm những bài toán mà kể cả cho máy tính vô hạn thời gian nó cũng không giải được </s> <s> ngược lại tất cả các bài toán thuộc lớp ta đều có thể giải được trong một thời gian hữu hạn cụ thể là thời gian lũy thừa </s> <s> cũng theo định nghĩa trên một bài toán thuộc thì cũng thuộc </s> <s> do đó nó là một bài toán khó nhất trong số các bài toán trong lớp </s> <s> nếu ta có thể giải được một bài toán nào đó trong lớp trong thời gian đa thức thì ta có thể giải được tất cả các bài toán trong lớp trong thời gian đa thức </s> <s> lớp bài toán theo định nghĩa ở trên thực sự là một lớp bài toán thú vị </s> <s> tuy nhiên liệu một bài toán có tồn tại hay không nếu tồn tại thì nó trông như thế nào cook và levin chứng minh rằng không những tồn tại một bài toán mà còn tồn tại một bài toán rất đẹp </s> <s> định nghĩa bài toán  bạn đọc có thể xem </s> <s> chứng minh định lý cooklevin vượt quá khuôn khổ của bài viết </s> <s> bạn đọc có thể xem tại clrs chapter   </s> <s> nếu nghĩ sâu hơn về định lính này thực sự đây là một kết quả ngạc nhiên </s> <s> tất cả các bài toán đều dễ hơn </s> <s> bài toán thực sự mà cooklevin chứng minh thuộc npcomplete là  một phiên bản dạng mạch điện tử của </s> <s> richard karp chính là người chứng minh mà ta định nghĩa ở blog này thuộc </s> <s> do không muốn đi đường vòng qua nên mình cho vào định lí cooklevin </s> <s> sau định lý cooklevin richard karp  chứng minh  bài toán khác cũng thuộc lớp </s> <s> một vài trong số đó là các bài toán mà ta đã định nghĩa ở </s> <s> trong post tới đây ta sẽ chứng minh một số bài toán đó là </s> <s> các chứng minh của karp đều dựa trên bổ đề sau </s> <s> gọi là một bài toán trong </s> <s> vì  ta có </s> <s> do  theo tính bắc cầu của quy dẫn ta suy ra </s> <s> như vậy mọi bài toán trong đều có thể quy về  do đó </s> <s> do  ta suy ra dpcm </s> <s> sau đây ta sẽ chứng minh thuộc để minh họa ý tưởng </s> <s> bài toán là bài toán trong đó mỗi mệnh đề chỉ có tối đa  literals xem định nghĩa đầy đủ tại </s> <s> </s> <s> theo lemma  và cooklevin theorem ta chỉ cần chứng minh gọi là một input </s> <s> ta sẽ tìm cách biến đổi trong thời gian  thành một biểu thức sao cho và thỏa mãn được satisfiable khi và chỉ khi thỏa mãn được </s> <s> lấy một mệnh đề trong mà mệnh đề này có biến với </s> <s> các biểu thức  biến ta chỉ cần giữ nguyên </s> <s> không mất tính tổng quát giả sử </s> <s> chú ý ở đây dấu phủ trên hai biến và không đóng vai trò gì đặc biệt </s> <s> thêm một biến không xuất hiện trong  và thay bằng hai mệnh đề mới và gọi là biểu thức thu được </s> <s> ta thấyđể thu được biểu thức  ta chỉ cần áp dụng phép biến đổi trên nhiều lần đối với mọi mệnh đề có ít nhất  biến cho đến khi nào ta thu được biểu thức mà các mệnh đề chỉ có không quá  biến </s> <s> số lần áp dụng phép biến đổi trên tối đa là  do đó tổng thời gian của các phép biến đổi là </s> <s> theo tính chât  biểu thức cuối cùng thỏa mãn được khi và chỉ khi biểu thức ban đầu thỏa mãn được dpcm </s> <s>  s </s> <s> a </s> <s> cook </s> <s> proceedings of the third annual acm symposium on theory of computing </s> <s> pp </s> <s>  </s> <s> acm  </s> <s> </s> <s>  t </s> <s> h </s> <s> cormen c </s> <s> e </s> <s> leiserson r </s> <s> l </s> <s> rivest c </s> <s> stein </s> <s> </s> <s> chapter  </s> <s> mit press and mcgrawhill </s> <s> isbn  </s> <s>  </s> <s> </s> <s>  r </s> <s> m </s> <s> karp </s> <s> complexity of computer computations </s> <s> springer us  </s> <s>  </s> <s>         trackback link powered by and </s> <s> giới thiệu về p và np  p vs np </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  qua các bài viết trong blog chúng ta đã thấy rất nhiều các bài toán được giải quyết một cách hiệu quả </s> <s> ví dụ như bài toán sắp xếp bài toán tìm kiếm xâu bài toán tìm đường đi ngắn nhất tìm cây khung nhỏ nhất bài toán luồng cực đại bài toán lát cắt cực tiểu v </s> <s> v và v </s> <s> v </s> <s> tất cả các bài toán này đều được giải trong thời gian với một hằng số nào đó và là chiều dài của đầu vào bài toán </s> <s> ngược lại các bài toán chúng ta gặp trong thực tế là những bài toán mà chúng ta làm sao để giải chúng một cách hiệu quả </s> <s> mình nhấn mạnh hai từ hiện tại và không biết ý nói những bài toán đó có lời giải hiệu quả chỉ là chúng ta chưa tìm ra được lời giải </s> <s> tuy nhiên rất nhiều các nhà nghiên cứu tin rằng những bài toán đó chúng ta không thể giải được hiệu quả và vấn đề chỉ là chúng ta chưa tìm ra cách để rằng ta không thể giải chúng hiệu quả </s> <s> post này và các post tiếp theo sẽ cung cấp một công cụ để xác định những bài toán khó đó </s> <s> chúng ta thường mô tả độ phức tạp của một bài toán dựa vào các tài nguyên resource cần thiết để giải bài toán đó </s> <s> hai loại tài nguyên cơ bản là thời gian time và bộ nhớ space </s> <s> trong các bài viết ở đây chúng ta quan tâm nhiều đến thời gian hơn là bộ nhớ </s> <s> trong phân tích của các bài viết trước trên blog chúng ta thường phát biểu thuật toán có độ phức tạp thời gian     hay một cách tổng quát hơn là với là một hàm tăng của </s> <s> vậy ở đây và có ý nghĩa thế nào ta sẽ lần lượt làm rõ ý nghĩa của hai đại lượng này </s> <s> trong phân tích thuật toán chúng ta thường sử dụng tiệm cận hơn là đếm chính xác số lượng các thao tác cơ bản </s> <s> một phần vì đếm chính xác số lượng thao tác thường là một việc không tầm thường </s> <s> một phần khác là vì sử dụng phương pháp tiệm cận sẽ cho chúng ta một cách ước lượng tương đối về thuật toán một cách nhanh chóng để chúng ta tập trung vào thiết kế ở mức cao high level </s> <s> phân tích tiệm cận cho phép chúng ta có thể mở rộng tập thao tác cơ bản để bao gồm các phép toán phức tạp hơn như cộng trừ nhân và chia ctnc trong đó các hạng nhân tử tham gia vào các phép ctnc đều có chiều dài hằng số </s> <s> chú ý nếu các hạng nhân tử tham gia vào các phép ctnc không còn là hằng số nữa thì ta không thể coi đó là các thao tác cơ bản </s> <s> bạn đoc có thể xem ví dụ cụ thể khi các phép ctnc không còn được coi là hằng số trong phân tích </s> <s> một bài toán bao giờ cũng có ít nhất hai phần là đầu vào input và đầu ra output </s> <s> độ dài của input được coi như là biến để đo độ phức tạp của thuật toán giải bài toán </s> <s> có những bài toán mà ta phải phân tích độ phức tạp dựa trên cả hai biến input và output ví dụ như bài toán nén dữ liệu data compression </s> <s> ở đây ta chỉ xét những bài toán mà đầu ra chỉ là  bít  hoặc  </s> <s> các bài toán như vậy được gọi là các bài toán decision problem </s> <s> các bài toán quyết định thoạt đầu nghe có vẻ không có tính tổng quát cao vì đầu ra chỉ có  bít </s> <s> tuy nhiên ta có thể quy rất nhiều bài toán không quyết định về bài toán quyết định mà thời gian để chuyển qua lại giữa hai bài toán vẫn là đa thức </s> <s> ví dụ bài toán tìm kích thước của independent set lớn nhất trong đồ thị </s> <s> </s> <s> ta có thể quy bài toán về bài toán quyết định như sau </s> <s> dễ thấy bài toán là bài toán quyết định có tồn tại hay không </s> <s> nếu ta có thể giải được bài toán  ta có thể giải được bài toán bằng cách tìm kiếm nhị phân giá trị trong đoạn </s> <s> </s> <s> </s> <s> a tập màu đỏ là một tập độc lập trong đồ thị </s> <s> b tập màu xanh không phải là một tập độc lập trong đồ thị </s> <s> một thuật toán được gọi là giải bài toán quyết định nếu như với mỗi input của bài toán thuật toán xác định được chính xác đầu ra là hay </s> <s> trong số các bài toán quyết định lớp bài toán mà chúng ta quan tâm nhất là lớp các bài toán mà ta có thể giải được hiệu quả bằng máy tính </s> <s> lớp bài toán đó được gọi là lớp viết tắt của polynomial timethời gian đa thức </s> <s> </s> <s> trong định nghĩa trên giá trị của bậc trong biểu thức không quan trọng miễn là nó không phụ thuộc vào </s> <s> do đó ta sẽ dùng kí hiệu để thay cho </s> <s> tuy nhiên nhiều bài toán hiện tại chúng ta chưa biết có thể giải được hiệu quả hay không thuộc hay không </s> <s> trong số các bài toán đó có một lớp các bài toán thú vị mà người ta gọi nó là lớp </s> <s> ý tưởng đằng sau lớp bài toán này là nếu ai đó cho chúng ta lời giải của một bài toán khó việc kiểm tra xem đó có phải là lời giải đúng hay không sẽ việc trực tiếp giải bài toán đó </s> <s> dễ hơn ở đây hiểu theo nghĩa có thể kiểm tra được lời giải trong thời gian </s> <s> ví dụ với bài toán </s> <s> nếu ai đó đưa ta một tập đỉnh của đồ thị và nói rằng tập đỉnh đó là tập độc lập của đồ thị có kích thước ít nhất  ta có thể kiểm tra trong thời gian  xem có phải là tập độc lập hay không trong thời gian tại sao và kiểm tra xem hay không </s> <s> nếu cả hai điều kiện được thỏa mãn thì đầu vào của bài toán có lời giải  và ngược lại </s> <s> tập đó gọi là một certificate cho thấy input của bài toán có output </s> <s> hai tính chất quan trọng của tập mà ta có thể rút ra từ ví dụ trênta gọi là một của bài toán </s> <s> theo định nghĩa trên để chứng minh một bài toán thuộc ta phải i chỉ ra một bằng chứng ngắn gọn cho đầu vào và ii chỉ ra một thuật toán để kiểm tra bằng chứng đó trong thời gian </s> <s> ta sẽ minh họa thêm một số bài toán trong phần sau </s> <s> từ ở đây là viết tắt của ondeterministic olynomial time một thuật ngữ liên quan đến máy turing không tất định </s> <s> nhiều người nhầm lẫn là viết tắt của onolynomial time </s> <s> về mặt trực quan một bài toán dễ giải thì cũng dễ kiểm tra lời giải </s> <s> do đó </s> <s> hay nói cách khác bất kì một bài toán nào cũng thuộc </s> <s> việc chứng minh theo định nghĩa bằng chứng ngắn gọn dễ kiểm tra ta sẽ coi như bài tập cho bạn đọc hints bằng chứng ngắn gọn dễ kiểm tra của một bài toán là  </s> <s> một câu hỏi làm đau đầu các nhà nghiên cứu lý thuyết đó là liệu hay không hay nói cách khác liệu có tồn tại một bài toán nào trong lớp mà không thể giải được hiệu quả bài toán này được gọi là bài toán vs  một trong  bài toán mà người đưa ra lời giải sẽ được thưởng </s> <s> hầu hết các nhà khoa học máy tính tin rằng </s> <s> tuy nhiên có những nhà khoa học máy tính nối tiếng ví dụ như donald knuth  tin rằng </s> <s> trên của mình gerhard j woeginger có liệt kê một danh sách các chứng minh và gần như một nửa đưa ra chứng minh còn nửa kia đưa ra chứng minh </s> <s> điều đó cho thấy bài toán này có lẽ còn rất lâu nữa mới có thể được giải quyết một cách đầy đủ </s> <s> tạm thời chúng ta có biểu đồ venn thể hiện quan hệ giữa và như sau </s> <s> vs bài toán quan trọng nhất trong lớp đó là bài toán </s> <s> lí do tại sao là bài toán quan trọng nhất thì ta sẽ xem ở bài viết tiếp theo </s> <s> </s> <s> ví dụ trong ví dụ trên biểu thức có phép gán  có giá trị </s> <s> biểu thức không có phép gán nào có giá trị </s> <s> </s> <s> bằng chứng mà chúng ta đưa ra ở đây là một phép gán cho các biến của </s> <s> bằng chứng này là ngắn gọn vì một phép gán có thể được mô tả bằng bít với mỗi bít biểu diễn giá trị gián của một biến </s> <s> để kiểm tra xem một phép gán này có giá trị hay không ta sẽ thay giá trị của từng biến vào biểu thức </s> <s> nếu tất cả các mệnh đề đều có giá trị thì biểu thức có giái tị  và ngược lại </s> <s> việc tính giá trị của biểu thức có thể được thực hiện trong thời gian </s> <s> do đó một phép gán là một bằng chứng dễ kiểm tra </s> <s> </s> <s> ví dụ bài toán xác định biểu thức ở trên có phép gán giá trị hay không thuộc </s> <s> chứng minh tương tự lemma  ta có </s> <s> ví dụ và  tập có tổng bằng </s> <s> </s> <s> ta chứng minh định lý cho bài toán </s> <s> bằng chứng ta đưa ra ở đây là một tập các số nguyên </s> <s> bằng chứng ngắn gọn vì ta có thể dùng tối đa bít để biểu diễn  trong đó </s> <s> để kiểm tra bằng chứng này ta chỉ việc cộng tất cả các số trong và kiểm tra xem tổng của chúng có bằng hay không </s> <s> phép cộng này có thể thực hiện được trong thời gian đa thức </s> <s> </s> <s> </s> <s> các cạnh tô đậm màu đỏ là các cạnh của một chu trình hamilton trong đồ thị </s> <s> </s> <s> chú ý trong định nghĩa của đường đi đóng ta cho phép một đỉnh xuất hiện nhiều lần trên đường đi </s> <s> </s> <s> chứng minh lemma  coi như bài tập cho bạn đọc </s> <s> trong post tiếp theo chúng ta sẽ tìm hiểu về  tập các bài toán khó nhất trong lớp </s> <s>  cook stephen </s> <s> </s> <s> the millennium prize problems   </s> <s> </s> <s>  arora sanjeev and boaz barak </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  reddit thread </s> <s> accessed // </s> <s>       trackback link on chỗ phix hội y tuyển x hội phủ định của y tuyển phủ định x hội y tuyển phủ định x hội phủ định y on hi </s> <s> mình không hiểu ý bạn lắm </s> <s> chỗ đó có vấn đề gìpowered by and </s> <s> cây tìm kiếm ưu tiên  priority search tree </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ làm quen với một cấu trúc dữ liệu sử dụng trong hình học tính toán computational geometry tên gọi là priority search tree  pst </s> <s> cây pst được mccreight  phát triển vào năm  cũng là người phát triển thuật toán tuyến tính  </s> <s> cấu trúc cây pst là sự kết hợp của hàng đợi ưu tiên priority queue và cây nhị phân tìm kiếm binary search tree vào trong cùng một cấu trúc </s> <s> cấu trúc pst có nhiều ứng dụng trong hình học tính toán xem thêm tại  </s> <s> một trong những ứng dụng nổi bật là dùng để truy vấn các điểm trong một vùng hình chữ nhật vô hạn một bên </s> <s> chúng ta sẽ thảo luận ứng dụng đó ở cuối bài </s> <s> để đơn giản cho việc trình bày và ứng dụng cây pst chúng ta xét bài toán sau ví du tập các điểm màu xanh trong hình dưới đây và điểm màu tím trong hình dưới đây </s> <s> các điểm nhỏ hơn điểm là là các điểm nằm trong hoặc nằm trên đường bao của vùng màu xanh trong hình dưới đây </s> <s> biểu diễn các nút trong cchúng ta có thể dễ dàng thiết kế giải thuật có độ phức tạp giải bài toán trên bằng cách với mỗi điểm trong  ta duyệt qua tất cả các điểm trong và in ra những điểm nhỏ hơn </s> <s> trong trường hợp tồi nhất khi với mọi thì thuật toán trên là thuật toán tối ưu </s> <s> tuy nhiên trong trường hợp với mỗi  chỉ có điểm trong nhỏ hơn thì thuật toán trên quá tốn kém </s> <s> sử dụng pst chúng ta có thể thiết kế giải thuật tốt hơn nhiều khi lớn </s> <s> trọng tâm của bài này là định lý sau như vậy sử dụng cấu trúc cây pst ta có thể giải problem  trong thời gian trong đó là số điểm cần phải in ra trong lời giải tối ưu </s> <s> cấu trúc cây pst là kết hợp của cấu trúc nổi tiếng và binary search tree </s> <s> nếu bạn đọc đã từng thực thi thuật toán tìm cây khung nhỏ nhất minimum spanning tree thì có lẽ đã bắt gặp cấu trúc heap rồi </s> <s> trước hết mình nhắc lại một số khái niệm cơ bản nhất của minheap </s> <s> minheap là một cấu trúc cây nhị phân thỏa mãn các tính chất sauví du tập các giá trị có cấu trúc heap biểu diễn minh họa trong hình dưới đây </s> <s> từ tính chất heap ta có thể chứng minh bằng quy nạp được rằng giá trị khóa ở gốc là giá trị nhỏ nhất trong tập các khóa của cây do đó gọi là minheap </s> <s> từ tính cân bằng mạnh ta có thể suy ra chiều cao của một heap với nút tối đa là </s> <s> tính cân bằng này gọi là mạnh vì nút ở mức lá phải là liên tục từ trái sang phải </s> <s> so với các cây nhị phân tìm kiếm thì heap đơn giản hơn mềm dẻo hơn và là một cấu trúc cân bằng mà sự cân bằng đó có thể được duy trì khá đơn giản khi thực hiện các thao tác trên heap mà không cần phải có thêm thông tin phụ </s> <s> do đó các thao tác với heap thông thường chỉ mất thời gian </s> <s> chi tiết thêm về heap có lẽ mình sẽ blog vào một lúc nào đó tạm thời bạn đọc tham khảo thêm tại  </s> <s> một cây nhị phân pst biểu diễn tập điểm là một cây thỏa mãn tính chất sauchú ý trong tính chia đôi ta cho phép cả cây con trái và con phải của có các điểm tung độ bằng </s> <s> điều này là cần thiết để đảm bảo tính cân bằng </s> <s> ví dụ nếu ta chỉ cho cây con trái có điểm có tọa độ và con phải có tọa độ thì không thể đảm bảo tính cân bằng trong trường hợp tất cả các điểm trong có cùng tung độ </s> <s> ví dụ cây pst với tập như trên được biểu diễn ở hình sau </s> <s> các cặp giá trị ở phần background màu xanh của mỗi nút là một điểm biểu diễn bởi nút đó </s> <s> giá trị ở phần dưới là điểm chia </s> <s> ta có thể quan sát thấy việc tìm kiếm theo tọa độ của các điểm được tích hợp vào cây thông qua tính chất heap và tìm kiếm theo tọa độ của các điểm được tích hợp thông qua tính chia đôi </s> <s> tính cân bằng đảm bảo chiều cao của cây là </s> <s> với các tính chất đó ta có thể nhận thấy rằng pst là một cấu trúc phù hợp để tìm kiếm hai chiều với độ phức tạp của mỗi thao tác tìm kiếm là </s> <s> dễ thấy cấu trúc cây pst có bộ nhớ là </s> <s> giả sử chúng ta đã xây dựng được cây pst kí hiệu là  biểu diễn tập điểm  ta sẽ thực hiện truy vấn với mỗi điểm </s> <s> để in ra các điểm nhỏ hơn  ta sẽ so sánh với cây  bắt đầu từ nút gốc </s> <s> gọi là một nút trong mà ta đang so sánh với giả mã của thủ tục truy vấn như sau </s> <s> code ctừ phân tích ở trên ta suy ra phần tiếp theo chúng ta sẽ tìm hiểu cách xây dựng cây pst trong thời gian gọi là tập các điểm trong </s> <s> ta sẽ xây dựng cây pst một cách đệ quy như sauví dụ với tập  các bước xây dựng cây pst được mô tả trong hình sau </s> <s> giả mã của thuật toán thủ tục chọn ra điểm chia như mô tả ở bước  trong thời gian </s> <s> thủ tục này mình đã blog trước đây các bạn xem lại tại bài viết </s> <s> ta thấy chọn điểm với hoành độ nhỏ nhất có thể thực hiện trong bằng cách duyệt qua tất cả các phần tử trong mảng </s> <s> chọn cũng có thể thực hiện trong như đã nói ở trên </s> <s> chia ra thành  phần và mất </s> <s> gọi là thời gian xây dựng cây pst </s> <s> do và xấp xỉ  ta suy ra công thức đệ quy trên ta được </s> <s> do đó từ lemma  và lemma  ta dễ dàng suy ra theorem  </s> <s> thực thi theo đúng thuật toán trên cũng khá mất thời gian do phải thực thi thuật toán chọn median trong thời gian </s> <s> trong bước chọn median để đơn giản ta có thể sắp xếp các điểm theo  sau đó thực hiện chọn </s> <s> thời gian của bước sắp xếp là và do đó thời gian của thuật toán là từ đó suy ra </s> <s> không quá tệtuy nhiên ta có thể cải tiến ý tưởng này thành như sau sắp xếp các điểm trong theo tọa độ ngay từ ban đầu với thời gian </s> <s> khi đó việc chọn median có thể thực hiện trong thời gian vì các điểm trong là đã sắp xếp theo </s> <s> do đó thuật toán xây dựng cây pst sẽ như sau code c </s> <s> coming sooncode đầy đủ của bài viết  mccreight edward m </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  todd wittman  ucla  </s> <s> </s> <s>  de berg mark van kreveld marc overmars mark schwarzkopf otfried  </s> <s> </s> <s> computational geometry algorithms and applications nd ed </s> <s>  </s> <s> springerverlag berlin heidelberg new york </s> <s> doi </s> <s> / trong một trò chơi chỉ có một người chơi và có lá bài </s> <s> người chơi đó có hai thuộc tính được biểu diễn bởi hai biến số nguyên và </s> <s> mỗi lá bài có  thuộc tính được biểu diễn bới  số nguyên lá bài thứ có thuộc tính là </s> <s> trong mỗi bước người chơi được chọn một con bài </s> <s> tuy nhiên người chơi đó chỉ có thể chọn con bài có hai thuộc tính </s> <s> khi người chơi chọn con bài đó thì thuộc tính của người chơi đổi thành </s> <s> người chơi chiến thắng khi chọn được con bài thứ </s> <s> ban đầu người chơi có thuộc tính là </s> <s> bài toán đặt ra là tìm số nước đi ít để nhất người chiến thắng </s> <s>  dòng đầu tiên là số nguyên dương với </s> <s> dòng tiếp theo mỗi dòng là  số nguyên dương </s> <s> dòng đầu tiên in ra số nguyên  là số nước đi ít nhất để chiến thắng </s> <s> dòng tiếp theo in ra số nguyên số thứ là số thứ tự của quân bài mà người chơi sẽ chọn trong nước thứ của lời giải tối ưu </s> <s> nếu có nhiều cách đi thì chỉ cần in ra một trong số đó </s> <s> nếu không có cách nào để người chơi có thể chiến thắng in ra  </s> <s> </s> <s> test  </s> <s>  </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> ouptut </s> <s>  </s> <s>   test  </s> <s>  </s> <s>     </s> <s>     </s> <s> ouptut </s> <s>        trackback link powered by and </s> <s> mảng mở rộng và ứng dụng trong ngăn xếp hàng đợi  extendable array stack and queue </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  ngăn xếp stack là cấu trúc dữ liệu trong đó phần tử nào được đưa vào sau cũng sẽ được lấy ra trước </s> <s> hàng đợi queue là cấu trúc dữ liệu trong đó phần từ nào được đưa vào trước sẽ được lấy ra trước </s> <s> tưởng tượng ngăn xếp giống như một chồng sách cuốn sách trên đầu của chồng sách là cuốn sách được đưa vào cuối cùng khi bạn lấy một cuốn sách ra khỏi chồng thì bạn nên lấy cuốn ở trên cùng </s> <s> hàng đợi thì giống như khi bạn xếp hàng trong siêu thị ai xếp hàng trước sẽ được thanh toán đi ra khỏi hàng đợi trước </s> <s> đó là tất cả những gì bạn cần biết về ngăn xếp và hàng đợi </s> <s> </s> <s> </s> <s> a minh hoạ ngăn xếp </s> <s> các phần tử được đưa vào push đỉnh ngăn xếp và cũng được lấy ra pop từ đỉnh của ngăn xếp </s> <s> b minh họa hàng đợi </s> <s> các phần tử được đưa vào enqueue cuối hàng đợi và cũng được lấy ra dequeue từ đầu của hàng đợi </s> <s> thực thi ngăn xếp có hai cách sử dụng mảng hoặc sử dụng </s> <s> nếu thực hiện bằng mảng kí hiệu là  ta cần một biến kí hiệu là  để xác định phần tử đầu tiên của ngăn xếp </s> <s> phần tử chính là phần tử trên cùng của ngăn xếp phần tử được đưa vào ngăn xếp gần đây nhất </s> <s> mỗi khi chèn vào ngăn xếp dữ liệu  ta thực hiện hai bướckhi lấy phần tử ra khỏi ngăn xếp ta sẽ copy dữ liệu từ ra một biến  giảm  đơn vị và trả lại giá trị của biến </s> <s> nếu thực hiện ngăn xếp bằng dslk mỗi khi thêm vào ngăn xếp ta luôn chèn vào đầu của dslk  chúng ta đã có nhận xét là chèn vào đầu dslk luôn hiệu quả và sạch sẽ hơn chèn vào đuôi </s> <s> khi lấy dữ liệu ra khỏi ngăn xếp ta lấy dữ liệu ra từ mắt xích đầu tiên của dslk </s> <s> thực thi hàng đợi ta cũng có hai cách tương tự như ngăn xếp chỉ có thứ tự lấy ra và đưa vào là khác </s> <s> khi đưa vào hàng đợi bạn nên đưa vào đuôi của dslk và lấy ra từ đầu của dslk nếu cấu trúc bạn sử dụng là dslk đơn tại sao không làm ngược lại </s> <s> nếu bạn sử dụng dslk đôi thì bạn có thể làm ngược lại lấy ra từ đuôi và chèn vào đầu của dslk </s> <s> do thực thi ngăn xếp và hàng đợi có nhiều điểm tương tự nhau từ đây trở đi mình chỉ nói về thực thi ngăn xếp </s> <s> trong hai cách thực thi trên mỗi cách đều có một điểm yếu riêng </s> <s> trong phương pháp thực thi bằng mảng ta cần phải biết trước lượng bộ nhớ tối đa của hàng đợi tại một thời điểm bất kì để khai báo và cấp phát bộ nhớ cho mảng </s> <s> trong một số trường hợp ví dụ  ta có thể ước lượng được lượng bộ nhớ này một cách khá chính xác </s> <s> tuy nhiên trong hầu hết các trường hợp khác rất khó để biết trước </s> <s> cho dù biết trước lượng bộ nhớ tối đa này không phải tại thời điểm nào ta cũng cần dùng hết lượng bộ nhớ khai báo </s> <s> điều này dẫn đến </s> <s> nếu thực thi bằng dslk ta có thể khắc phục dư thừa bộ nhớ nhưng mỗi lần thêm một mắt xích mới ta lại phải thực hiện cấp phát bộ nhớ cho mắt xích đó </s> <s> các hàm cấp phát bộ nhớ ví dụ hàm malloc trong c nói chung đều liên quan đến một chuỗi các thủ tục khác để quản lí bộ nhớ </s> <s> do đó mỗi lần cấp phát bộ nhớ như vậy cũng không hề rẻ </s> <s> nếu coi cách thực thi mảng là một cách thực thi đổi bộ nhớ lấy tốc độ thì cấu trúc mảng mở rộng extendable array ta nói tới ở đây cũng có tính chất tương tự </s> <s> tuy nhiên mảng mở rộng cho phép ta kiểm soát được lượng bộ nhớ hi sinh để đổi lại thời gian thực thi do đó nó phù hợp trong ứng dụng thực thi ngăn xếp hàng đợi </s> <s> vector trong c chính là cấu trúc mảng mở rộng </s> <s> mảng mở rộng còn được biết tới một cái tên khác là dynamic array </s> <s> mình không thích từ động lắm nên dùng từ mở rộng </s> <s> cái tên chuẩn hơn có lẽ là mảng tự mở rộng hoặc mảng tự điều chính kích thước </s> <s> tất cả đều dài nên tạm thời dùng từ mảng mở rộng vậy </s> <s> bạn nào có tên hay thì comment xuống dưới giúp mình </s> <s> về cơ bản mảng mở rộng extendable array là một cấu trúc dựa trên mảng </s> <s> mảng này gọi là  ban đầu được cấp phát một lượng bộ nhớ nhỏ  phần tử chẳng hạn như trong  </s> <s> để đơn giản ta giả sử chỉ thực hiện chèn vào cuối mảng mở rộng </s> <s> thao tác xóa sẽ được bàn thêm ở phần dưới </s> <s> mỗi lần chèn một phần tử vào cuối mảng ta sẽ đề cập đến xóa sau nếu mảng đã đầy thì ta ba thao tác trên có vẻ rất tốn kém và thực sự là nó tốn kém vì phải xóa toàn bộ mảng cũ và tạo một mảng mới </s> <s> điểm mấu chốt ở đây là ta sẽ phải thường xuyên thực hiện ba thao tác trên vì ta chỉ thực hiện khi nào mảng đầy </s> <s> nhận xét mỗi lần thực hiện ba thao tác trên ta tăng bộ nhớ lên lần </s> <s> do đó nếu bộ nhớ hiện tại của mảng là thì tổng số lần thực hiện ba thao tác là </s> <s> mỗi lần thực hiện ba thao tác trên ta trả thời gian để khởi tạo và copy do đó tổng thời gian là </s> <s> phân tích kĩ hơn trình bày dưới đây cho thấy tổng thời gian phải trả vẫn chỉ là  hay nói cách khác thời gian armotized time cho mỗi thao tác chèn là </s> <s> chú ý ở đây ta vân chưa xét phép xóa khỏi mảng </s> <s> để thực thi các thao tác trên ta cần thêm hai biến i biến lưu trữ dung lượng capacity của mảng hiện tại và ii biến để lưu số phần tử hiện tại lưu trữ trong mảng hay lượng dữ liệu của mảng </s> <s> ta sẽ kí hiệu mảng mở rộng bằng bộ ba biến </s> <s> ban đầu khởi tạo mảng ta cấp phát một mảng kích thước hằng số </s> <s> ở đây ta khởi tạo là để dễ phân tích </s> <s> </s> <s> ta có </s> <s> để trình bày được đơn giản ta giả sử nguyên </s> <s> dễ thấy nếu bỏ qua thao tác mở rộng thì tổng thời gian chèn phần tử là </s> <s> ta chỉ cần đếm số thao tác xảy ra trong quá trình mở rộng </s> <s> gọi </s> <s> do ta chỉ thực hiện mở rộng mảng mỗi khi số phần tử của mảng là với  và mỗi lần mở rộng ta mất thời gian là kích thước của mảng i </s> <s> e thời gian </s> <s> ta có tổng thời gian mở rộng mảng là từ  ta suy ra tổng thời gian chèn là bằng một chút phân tích nhỏ coi như bài tập cho bạn đọc ta thấy lượng bộ nhớ dư thừa là tối đa là </s> <s> theorem  cho ta thấy rõ nếu ta cần tiết kiệm bộ nhớ  càng gần  thì ta cần phải trả nhiều thời gian cho mỗi thao tác chèn và ngược lại ta càng cấp phát nhiều bộ nhớ sau mỗi lần bị đầy  lớn thì khả năng dư thừa bộ nhớ càng cao nhưng thời gian mỗi thao tác chèn lại càng nhỏ </s> <s> điểm chính ở đây là ta muốn thu hồi phần bộ nhớ dư thừa sau khi xóa rất nhiều phần tử khỏi mảng để đảm bảo dung lượng của mảng không quá lớn so với lượng dữ liệu lưu trữ trong mảng i </s> <s> e </s> <s> nếu ta không nhất thiết phải thu hồi bộ nhớ thì chỉ việc xóa khỏi mảng bình thường </s> <s> ta muốn đảm bảo ngoài việc cho phép thu hồi bộ nhớ trung bình mỗi thao tác xóa và chèn có thời gian </s> <s> xét ý tưởng sau mở rộng từ ý tưởng ở trên giả sử hiện tại dung lượng của mảng là </s> <s> nếu khi ta xóa một phần tử khỏi mảng số phần tử trong mảng còn lại là  ta sẽ co bộ nhớ của mảng về bằng cách tương tự như khi chèn i cấp phát mảng mới kích thước  ii copy toàn bộ sang mảng mới và iii giải phóng bộ nhớ của </s> <s> vấn đề của ý tưởng này ở chỗ nếu và nếu ta cứ thêm một phần tử mới sau đó lại lấy ra sau đó lại thêm mới </s> <s> thao tác thêm và xóa xảy ra liên tiếp nhau thì ta phải thực hiện thao tác mở rộng và co rất nhiều lần mỗi lần có độ phức tạp </s> <s> chúng ta sẽ đi lạc đề một chút tìm hiểu một cách khác để chứng minh theorem  vì cách này cho chúng ta ý tưởng để phân tích và giải quyết trường hợp xóa khỏi mảng </s> <s> khi số phần tử của mảng đạt ngưỡng  lần mở rộng gần nhất là khi </s> <s> điều đó có nghĩa giữa hai lần mở rộng ta đã chèn vào mảng </s> <s> mở rộng mảng mất thời gian  do đó chia trung bình cho các phần tử vừa chèn vào giữa hai lần mở rộng liên tiếp ta có phân tích trên có điểm hay là ta chỉ cần nhìn vào các phần tử giữa hai lần mở rộng liên tiếp để phân tích mà không cần quan tâm đến toàn bộ mảng hiện tại </s> <s> nhận xét này cho ta cách giải quyết xóa vào cuối mảng như sau ta chỉ giải phóng bộ nhớ khi thay vì như ý tưởng trên </s> <s> nếu xóa một phần tử khỏi mảng mà số dữ liệu còn lại trong mảng  ta sẽ i cấp phát mảng mới kích thước chú ý ở đây ii copy toàn bộ sang mảng mới và iii giải phóng bộ nhớ của </s> <s> như vậy lượng bộ nhớ dư thừa tối đa là </s> <s> </s> <s> gọi là số thao tác xóa trước khi ta thực hiện co mảng </s> <s> theo cách mở rộng mảng ta chỉ mở rộng mảng đến dung lượng khi và chỉ khi dữ liệu trong mảng có kích thước </s> <s> </s> <s> do ta chỉ co mảng khi  ta phải xóa ít nhất phần tử ra khỏi mảng </s> <s> phép co mất thời gian  do đó trung bình mỗi thao tác xóa mất tối đa phần bộ nhớ dư thừa trong cấu trúc mảng mở rộng trình bày ở trên là </s> <s> về mặt lí thuyết ta có thể giảm phần bộ nhớ dư thừa này xuống còn  </s> <s> mình khuyến khích bạn đọc đọc thêm tại  </s> <s>  t </s> <s> h </s> <s> cormen c </s> <s> e </s> <s> leiserson r </s> <s> l </s> <s> rivest c </s> <s> stein   </s> <s> </s> <s> introduction to algorithms nd ed </s> <s>  </s> <s> mit press and mcgrawhill </s> <s> pp </s> <s> – </s> <s> isbn  </s> <s> </s> <s>  a </s> <s> brodnik s </s> <s> carlsson r </s> <s> sedgewick j </s> <s> munro e </s> <s> d </s> <s> demaine  </s> <s> technical report cs pdf department of computer science university of waterloo </s> <s>     trackback link powered by and </s> <s> cấu trúc unionfind  unionfind data structure </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nếu bạn đã từng thực thi thuật toán kruskal tìm cây khung nhỏ nhất chắc bạn sẽ biết cấu trúc unionfind </s> <s> đó là một trong số rất nhiều ứng dụng của cấu trúc này </s> <s> trong phần này mình trình bày cấu trúc đó góc độ một cấu trúc dữ liệu để lưu trữ các tập hợp rời nhau disjoint sets </s> <s> do đó cấu trúc này còn gọi là </s> <s> bài toán của chúng ta như sauhãy thiết kế một cấu trúc dữ liệu cho thuật toán sao cho các thao tác này được thực hiện một cách hiệu quả nhất </s> <s> </s> <s> trong cấu trúc này mỗi tập hợp được lưu trữ bởi môt danh sách liên kết và mỗi phần tử của danh sách sẽ có một con trỏ chỉ đến đầu của danh sách có thể coi là id của danh sách vì mỗi phần tử chỉ xuất hiện trong tối đa  danh sách </s> <s> </s> <s> </s> <s> các thao tác  và  có thể được thực hiện trong thời gian như sau </s> <s> </s> <s> với cấu trúc lưu trữ này ta có thể thực hiện thao tác gộp hai tập với chiều dài tương ứng trong thời gian như sau ta có thể áp dụng một vài kĩ thuật như sau để cải tiến ý tưởng của thuật toán ở trêndo đó ở đây chú ý là chúng ta phải thay đổi thủ tục  khởi tạo thông tin và contrỏ chi tiết coi như bài tập </s> <s> giả mã của thao tác như sau </s> <s> thao tác union được minh họa trong hình dưới đây </s> <s> trong trường hợp xấu nhất ta sẽ mất thời gian để gộp hai danh sách có kích thước cỡ </s> <s> tuy nhiên những trường hợp như vậy sẽ không thường xuyên xảy ra vì sau khi gộp ta thu được danh sách kích thước </s> <s> nếu phân tích kĩ hơn ta sẽ thấy trung bình mỗi thao tác  chỉ tốn cỡ </s> <s> </s> <s> dễ thấy bước union sẽ thao tác trên tập có kích thước vì mỗi thao tác union chỉ thao tác trên tối đa phần tử mới </s> <s> xét một phần tử  ta sẽ phân tích xem bao nhiêu lần con trỏ của được cập nhật </s> <s> từ bổ đề  mỗi lần cập nhật con trỏ  kích thước của tập hợp chứa tăng lên ít nhất  lần </s> <s> do đó con trỏ của được cập nhật tối đa lần </s> <s> từ đó ta thu được định lý  </s> <s> từ định lý  ta thu được hệ quả sau </s> <s> do đó có thể coi thời gian khấu trừ amortized time của mỗi thao tác là </s> <s> trong cấu trúc cây mỗi tập hợp sẽ được biểu diễn bởi một cây và mỗi nút của cây có một con trỏ chỉ tới một nút cha parent  người viết không có ý phân biệt cha/mẹ chỉ là thấy nghe cha xuôi hơn </s> <s> id của tập hợp là id của nút gốc của cây </s> <s> ngoài ra gốc của mỗi cây lưu thông tin là chiều cao của cây biểu diễn tập hiện tại </s> <s> trong cấu trúc cây thao tác vẫn có thời gian hằng số  tuy nhiên thao tác sẽ không còn là hằng số nữa </s> <s> sự linh động đó cũng dẫn đến nhiều phương pháp cải tiến cấu trúc này </s> <s> trước hết mình trình bày cấu trúc cây đơn giản là cơ sở cho các cải tiến sau này </s> <s> hai thao tác và trong cấu trúc cây như sau </s> <s> để phép được hiệu qủa chúng ta thiết kế sao cho chiều cao của cây càng nhỏ càng tốt </s> <s> mặt khác chúng ta phải duy trì cấu trúc cây sao cho phép thực hiện được hiệu qủa </s> <s> trong cấu trúc cây phép sẽ gộp cây có chiều cao nhỏ vào cây có chiều cao lớn hơn gốc của cây nhỏ hơn sẽ trở thành nut con của gốc của cây lớn hơn </s> <s> khác với cấu trúc danh sách trong cấu trúc cây chúng ta không cần phải thay đổi con trỏ của các nút của cây khi gộp ngoại trừ nút gốc do đó phép có thể được thực hiện nhanh hơn </s> <s> giả mã như sau </s> <s> </s> <s> gọi là cây có chiều cao lớn nhất </s> <s> có thể chứng minh được bằng quy nạp số lượng nút trong cây có gốc ít nhất là </s> <s> do đó </s> <s> ý tưởng cải thiện cấu trúc cây cơ bản như sau mỗi lần thực hiện thao tác  ta kết hợp với cập nhật con trỏ của các nút trên đường đi từ nút tới nút gốc của cây chứa để trỏ tới nút gốc </s> <s> không khó để nhận thấy nếu thao tác  mất thời gian thì việc thêm thao tác cập nhật con trỏ trên đường đi còn gọi là nén đường đi  path compression mất thời gian </s> <s> do đó về mặt tiệm cận thời gian của thao tác  không thay đổi </s> <s> </s> <s> </s> <s> do kết hợp với nén đường đi mỗi lần tìm kiếm thông tin của nút gốc sẽ bị thay đổi </s> <s> cập nhật thông tin này rất tốn kém </s> <s> do đó ta có thể thay đổi một chút thay vì gộp cây theo độ sâu depth ta sẽ gộp cây theo </s> <s> thủ tục và vẫn tương tự như trường hợp cây cơ bản </s> <s> </s> <s> một số tính chất của hạng chúng ta có thể liệt kê ra như sau </s> <s> tính chất cuối cùng không dễ để nhận thấy tuy nhiên chúng ta có thể lập luận như sau để ý thấy nếu một nút thay đổi hạng từ lên trường hợp này xảy ra khi gộp hai cây có gốc có cùng hạng  cây mới có ít nhất nút </s> <s> theo tính chất  hạng của các nút không phải là gốc sẽ không bao giờ thay đổi ta có thể gán cho mỗi nút hạng một tập hợp chứa có kích thước </s> <s> do với hai nút có cùng hạng  </s> <s> do đó có tối đa nút có hạng </s> <s> ta sẽ phân tích thời gian tính toán của thao tác vì thao tác tốn thời gian bằng  thao tác cộng với một hằng số </s> <s> trước hết ta định nghĩa hàm </s> <s> </s> <s> hàm tăng cực chậm với   do đó có thể coi thực tế nhỏ hơn hoặc bằng  mới có cỡ ~ hạt cơ bản </s> <s> một hàm tăng chậm khác dùng trong phân tích unionfind là hàm ackerman ngược kí hiệu </s> <s> hàm này còn chậm hơn rất nhiều so với hàm </s> <s> tarjan  chứng minh rằng mỗi thao tác find trong cấu trúc cây kết hợp nén đường đi có thời gian khấu trừ </s> <s> trong bài này mình chứng minh kết quả yếu hơn </s> <s> ta có thể tính thời gian cho mỗi thao tác  bằng cách đếm chi phí như saucuối cùng phải trả chi phí là số tiền mà nó nợ </s> <s> nếu ở độ sâu càng lớn chi phí phải trả cuối cùng càng nhiều </s> <s> tuy nhiên sau khi đã thực hiện thao tác find đối với và nén đường đi các thao tác tìm kiếm các nút trên đường đi từ tới nút gốc sau đó sẽ rẻ hơn rất nhiều </s> <s> do đó các nút trên đường đi đó được hưởng lợi từ </s> <s> để cho công bằng giữa các nút chúng ta sẽ tìm cách nào đó để khấu trừ chi phí khi thực hiện  hay nói cách khác các nút trên đường đi từ tới gốc cũng phải trả bớt tiền mà nợ </s> <s> trước hết ta sẽ phân các nút thành các nhóm như sauở đây kí hiệu  dấu mũ lặp lại lần </s> <s> tóm lại mỗi nhóm có hạng từ tới </s> <s> một vài điểm quan trọng ở đây làxét một đường đi từ tới nút gốc trong thao tác  </s> <s> giả sử đi qua hai nút và trong đó nút là cha của nút </s> <s> nếu và nằm trong cùng một nhóm ta lấy đồng từ thay vì từ vì được hưởng lợi </s> <s> nếu nằm trong nhóm cao hơn là nhóm có số thứ tự cao hơn ta sẽ lấy đồng từ </s> <s> do đó chỉ phải trả đồng vì chúng ta chỉ có nhóm khác nhau </s> <s> bây giờ sẽ là phần khó nhất đó là trung bình mỗi nút như trên phải trả bao nhiêu đồng thứ nhất nút sẽ không bao giờ thay đổi hạng theo tính chất  của hạng </s> <s> thứ hai mỗi lần nút trả bớt đồng cho một nút nào đó hạng của cha của tăng ít nhất lên  và cha của phải nằm trong cùng một nhóm với </s> <s> do đó nếu hạng của cha của tăng đến mức của nhóm tiếp theo sẽ không bao giờ phải trả tiền cho bất kì một nút nào khác </s> <s> như vậy phải trả tối đa số tiền là phạm vi của hạng trong nhóm chứa  là nếu trong nhóm có hạng bắt đầu từ đến  </s> <s> nhóm chứa có kích thước là  do đó tổng số tiền mà tất cả các nút trong nhóm này phải trả hộ nút khác là do đó tổng số tiền trả hộ của tất cả các nút là vì số nhóm là </s> <s> tổng kết lại như sau nếu ta có thao tác  số tiền tất cả các nút phải trả cuối cùng là </s> <s> trong hầu hết các thuật toán  do đó thời gian khấu trừ cho mỗi thao tác là </s> <s> với cấu trúc danh sách liên kết cách thực thi hiệu qủa có lẽ cũng là sử dụng danh sách liên kết </s> <s> tuy nhiên với cấu trúc cây chúng ta không nhất thiết phải sử dụng cây để thực thi </s> <s> phần này mình sẽ giới thiệu phương pháp thực thi bằng mảng array </s> <s> ta sử dụng hai mảngcác thao tác cơ bản như sau </s> <s> </s> <s> unionfind có rất nhiều ứng dụng mà nổi tiếng là trong thực thi thuật toán kruskal tìm cây khung nhỏ nhất </s> <s> trong phần này mình sẽ giới thiệu ứng dụng của unionfind trong việc thiết kế giải thuật cho bài toán lập lịch có thời hạn đã giới thiệu trọng bài </s> <s> chi tiết xem thêm tại bài trước </s> <s> ở đây mình nhắc lại đề bài và thuật toán tham lam  giải thuật  </s> <s> trong thuật toán trên thời gian để tìm một vị trí để chèn một tác vụ mới mất cỡ </s> <s> bằng unionfind sử dụng cấu trúc cây kết hợp nén đương đi chúng ta có thể giảm thời gian này xuống  do đó thuật toán sẽ có tổng thời gian là nếu không tính bước sắp xếp mất  </s> <s> giả sử thời điểm hiện tại ta có mảng là mảng lưu trữ lịch trình của các tác vụ chúng ta đã được vào lời giải tối ưu trong các bước trước </s> <s> mỗi tập hợp của chúng ta sẽ biểu diễn một dãy liên tục và tối đại maximal các phần tử khác  của mảng </s> <s> nói cách khác với mỗi tập hợp chứa các phần tử  ta luôn đảm bảo điều kiện ngoài ra gốc của mỗi tập hợp sẽ lưu trữ số  là vị trí trái nhất leftmost còn trống của dãy liên tục này </s> <s> để kiểm tra xem tác vụ với thời hạn có thể chèn vào lịch trình hiện tại được không ta làm như sauchi tiết giả mã như sau </s> <s> code bằng c của giả mãthủ tục  không thay đổi so với ở trên </s> <s> mảng là mảng lưu trữ phần tử trái nhất còn trống của một tập </s> <s> một điểm chú ý là thứ tự của và trong  là quan trọng vì theo tứ tự đó phần tử trái nhất còn trống của tập chứa nhỏ hơn của tập chứa </s> <s> thứ nữa đó là trong hàm  phần tử ngay sau có thể khác  do đó trong comment mình để supposed empty </s> <s> nếu phần tử này khác  phép gộp trong hàm luôn đảm bảo tập hợp chứa sẽ được gộp với tập hợp chứa </s> <s> code </s> <s> </s> <s>  avrim blum </s> <s>  cmu  </s> <s> </s> <s>  jeff erickson </s> <s>  uiuc  </s> <s> </s> <s>  jon kleinberg and eva tardos </s> <s>  chapter  </s> <s> addisonwesley longman publishing co </s> <s>  inc </s> <s>  boston ma usa </s> <s> </s> <s>  robert endre tarjan </s> <s> j </s> <s> acm   april   </s> <s> doi </s> <s> / </s> <s>  </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>   trackback link powered by and </s> <s> cây splay  splay tree </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này mình sẽ giới thiệu về cấu trúc dữ liệu splay tree do không tìm được thuật ngữ tiếng việt nên mình giữ nguyên thuật ngữ tiếng anh </s> <s> splay tree được giới thiệu bởi sleator và tarjan vào năm   </s> <s> cấu trúc splay tree thuộc về lớp các cây tìm kiếm nhị phân tự cân bằng selfadjusting binary search tree  bst có nghĩa là nó sẽ tự điều chỉnh cấu trúc của nó mỗi khi có một thao tác thực hiên trên cây </s> <s> so với cây cân bằng avl tree và red black tree mình sẽ blog về cây này vào một ngày đẹp trời nào đó splay tree có một số ưu điểm sau tuy nhiên điểm yếu của splay tree là chiều cao của cây có thể và một số thao tác có thể rất tốn kém nhưng trung bình sẽ là  </s> <s> ok tóm lại splay tree tốt hơn về một số mặt </s> <s> bây giờ chúng ta sẽ tìm hiểu cụ thể hơn </s> <s> cây splay tree là một cây nhị phân tự cân bằng </s> <s> các thao tác cơ bản bao gồmngoài  thao tác trên cây splay tree cung cấp thêm thao tác </s> <s> một nút được splay sẽ được đưa lên làm gốc của cây splay tree thông qua một loạt các thao tác quay cây tree rotations mô tả dưới đây </s> <s> trọng tâm của bài viết là định lý sau trong giả các giả mã dưới đây mình sẽ sử dụng cấu trúc dữ liệu cho mỗi nút của cây </s> <s> cấu trúc này bao gồm các trường saubiểu diễn trong c có một phiên bản thực thi khác của cây splay tree mà không cần trường parent do đó tiết kiệm được thêm bộ nhớ và thời gian để cập nhật trường parent sau mỗi thao tác </s> <s> tất nhiên là thực thi cũng sẽ phức tạp hơn một chút </s> <s> bạn đọc tham khảo cách thực thi này bằng java tại  </s> <s> cũng như avl và red black tree cây splay tree cũng sử dụng các thao tác quay để làm cho cây trở nên cân bằng </s> <s> hai thao tác quay cơ bản là và </s> <s> hai thao tác này được minh họa trong hình dưới đâytừ cây bên trái để thu được cây ở hình bên phải ta thực hiện </s> <s> tương tự như vậy từ cây bên phải để thu được cây ở hình bên trái ta thực hiện </s> <s> chú ý cây con màu đỏ của và của trong hai hình đổi chỗ khi thực hiện quay </s> <s> gọi là cha của và là con phải của </s> <s> để quay phải ta làm theo các bước saugiả mã quay phải tại như sau code cquay trái ta làm tương tự như quay phải cập nhật các con trỏ </s> <s> giả mã quay trái tại như sau </s> <s> code c khi thực thi bằng code các bạn chú ý check null </s> <s> để giả mã sáng sủa mình bỏ qua các bước check null </s> <s> ta dễ thấy ngoài ra khác với avl tree splay tree còn sử dụng hai phép và </s> <s> phép zigzag có hai dạng là zigzag trái và zigzag phải </s> <s> hai phép zigzag trái và phải được minh họa trong hình dưới đây </s> <s> trong cả hai phép nút sẽ được đưa lên làm gốc thay cho </s> <s> phép zigzag trái gồm hai phép quay trái tại  sau đó quay phải tại </s> <s> phép zigzag phải gồm hai phép quay phải tại  sau đó quay trái tại </s> <s> chú ý sự thay đổi cha của các cây con được tô màu của </s> <s> giả mã của phép zigzag trái tại  </s> <s> code cgiả mã của phép zigzag phải tại  </s> <s> code ctương tự như zigzag có hai phép rollercoaster là phải và trái được minh họa trong hình dưới đây </s> <s> phép rollercoaster phải tại gồm hai phép quay rollaercoaster phải tại  sau đó quay phải tại </s> <s> phép rollercoaster trái tại gồm hai phép quay trái tại  sau đó quay trái tại </s> <s> chú ý sự thay đổi cha của các cây con được tô màu của </s> <s> giả mã của phép rollercoaster phải tại  </s> <s> code cgiả mã của phép rollercoaster trái tại  </s> <s> code cphần tiếp theo chúng ta sẽ thực hiện phép splay </s> <s> các thao tác chèn xóa tìm kiếm đều sử dụng phép splay như là một thủ tục con </s> <s> như đã nói ở trên phép splay một nút sẽ thực hiện đưa một nút con lên làm nút gốc của cây splay tree </s> <s> phép splay được thực hiện thông qua một loạt các phép quay zigzag và rollercoaster phụ thuộc vào cấu trúc của cây tại nút đó </s> <s> ưu tiên thực hiện zigzag và rollercoaster trước </s> <s> phép quay nếu có thực hiện thì sẽ chỉ thực hiện một lần và là lần cuối khi đưa lên làm gốc </s> <s> ví dụ ta muốn splay nút của cây trái nhất trong hình sau hình được lấy từ  </s> <s> ta có các bước saugiả mã của phép splay như sau </s> <s> code cta sẽ chứng minh bổ đề dưới đây ở phần phân tích cuối bài </s> <s> bây giờ ta có thể thực hiện được các thao tác cơ bản </s> <s> khi thực thi splay thông thường đầu vào là một khóa và chúng ta phải tìm nút có khóa đó và splay thành gốc của cây splay tree </s> <s> để tìm kiếm một nút có khóa  ta sẽ tìm kiếm nút có khóa trong cây như tìm kếm trên binary search tree </s> <s> nếu ta tìm thấy có khóa thì ta sẽ spaly </s> <s> nếu nút đó không tồn tại ta sẽ splay </s> <s> ví dụ với hình vẽ ở phần splay nếu đầu vào là khóa có giá trị thì ta sẽ splay nút vì khi ta tìm kiếm từ gốc đến thì ta sẽ thấy khóa sẽ không có ở trông cây và là nút cuối cùng trên đường đi tìm kiếm đó </s> <s> giả mã như sau  ở đây là nút gốc của splay tree </s> <s> code cthủ tục tìm kiếm khóa và trả lại nút như mô tả ở trên </s> <s> chú ý là khóa của có thể không bằng trong trường hợp không có trong cây splay </s> <s> giả mã của thủ tục này như sau </s> <s> code c do mỗi khi tìm kiếm một nút  ta splay nút đó lên làm gốc </s> <s> do đó các thao tác tìm kiếm tiếp theo đó sẽ ít tốn kém hơn </s> <s> bổ đề sau là hệ quả trực tiếp của lemma  để chèn một nút có khóa  trước hết ta sẽ chèn khóa vào cây như chèn cây nhị phân và sau đó splay nút vừa chèn </s> <s> </s> <s> code cbổ đề sau là hệ quả trực tiếp của lemma  để xóa một nút có khóa  ta làm theo các bước sau    trackback link powered by and </s> <s> đẹp  </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  post này xuất phát từ post rất hay trên blog của về câu đố  con lạc đà và ứng dụng rất đẹp của ý tưởng câu đố này vào bài toán </s> <s> ba anh em mượn thêm  con lạc đà từ người hàng xóm để có  con lạc đà </s> <s> giờ họ chia theo nguyện vọng người cha </s> <s> người anh cả được con người anh thứ hai được con và người em út được con </s> <s> sau khi chia họ vẫn còn dư  con và họ trả con lạc đà này lại cho người hàng xóm </s> <s> một đồ thị là chính quy bậc  regular nếu mọi đỉnh trong đồ thị đều có bậc  số cạnh kề với mỗi đỉnh là  </s> <s> một cặp ghép matching được gọi là hoàn hảo perfect matching nếu mọi đỉnh đều xuất hiện trong cặp ghép </s> <s> gọi là số đỉnh của đồ thị mỗi phía có đỉnh </s> <s> ta chọn một số sao cho với logarithm cơ số  </s> <s> tại sao luôn chọn được như vậy xem gợi ý ở cuối bài </s> <s> với mỗi cạnh của đồ thị ta thêm bản copy để thu được một với mỗi đỉnh có bậc </s> <s> sau đó ta thêm một cặp ghép hoàn hảo không nhất thiết phải là cặp ghép của đồ thị vào đồ thị </s> <s> gọi là đồ thị thu được sau hai bước này </s> <s> không khó để thấy mỗi đỉnh trong có bậc </s> <s> do mọi đỉnh có bậc chẵn tồn tại một đi qua mọi cạnh của đồ thị đúng một lần </s> <s> đánh số các cạnh bắt đầu từ  theo cùng chiều kim đồng hồ dọc theo chu trình </s> <s> gọi là tập các cạnh lẻ của chu trình và là tập các cạnh chẵn của chu trình </s> <s> do là đồ thị hai phía nó không có chu trình có số cạnh lẻ </s> <s> do đó mỗi là một đồ thị chính quy bậc </s> <s> ngoài ra một trong hai đồ thị   chứa không quá một nửa số cạnh của gọi là đồ thị chứa không quá một nửa số cạnh của </s> <s> tiếp tục lặp lại tìm chu trình euler của và phân thành hai đồ thị con tìm đồ thị chính quy con chứa không quá một nửa các cạnh của trong  ta thu được </s> <s> tiếp tục như vậy đến khi thu được </s> <s> do  sẽ không chứa cạnh nào của vì chỉ có cạnh </s> <s> mỗi đỉnh trong có bậc  chính là một cặp ghép hoàn hảo của </s> <s> quá đẹplàm thế nào để chọn và  ta sẽ chọn  và </s> <s> giờ bạn chỉ cần chứng minh một trong ba số   chia hết cho là xong </s> <s> chứng minh của theorem  còn có thể chuyển thành giải thuật để tìm cặp ghép hoàn hảo của trong thời gian như sau </s> <s> đầu tiên chuyển thành trong thời gian do  </s> <s> gọi là số cạnh của  sau đó tìm chu trình euler trong trong thời gian sử dụng  và đệ quy </s> <s> tổng thời gian đệ quy cho đến khi chúng ta tìm được là giải phương trình trên ta được </s> <s> thuật toán này nhanh hơn nhiều so với thuật toán  thuật toán hiện tại tốt nhất tìm cặp ghép trên đồ thị hai phía </s> <s> bài viết gốc của gil kalai </s> <s> bài báo của noga alon </s> <s> bài viết này người viết dựa trên ý tưởng của hai bài viết đã ghi trong nguồn </s> <s> bất cứ lỗi nào xuất hiện trong bài viết là lỗi của người viết bài này không phải lỗi của hai bài viết trong nguồn </s> <s>       trackback link powered by and </s> <s> đẹp  </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nói đến kết quả đẹp trong khoa học máy tính khó có thể bỏ qua </s> <s> xác suất tìm được hai người có cùng ngày sinh trong  người chọn ngẫu nhiên ít nhất là </s> <s> một năm có  hoặc  ngày mà chỉ cần chọn ngẫu nhiên ra  người ta đã có thể tìm được hai người có cùng ngày sinh với xác suất ít nhất </s> <s> thật khó tin phải không thực ra đây không hẳn là nghịch lý vì điều này không có gì trái ngược với thực tế </s> <s> nên coi đây là định lý thì đúng hơn là nghịch lý </s> <s> tổng quát hóa của nghịch lý này được phát biểu như sau </s> <s> chọn có hoàn lại ở đây được hiểu là lấy ra rồi sau đỏ bỏ vào lại trong tập hợp gốc </s> <s> trong bài  chúng ta đã tìm hiểu một cách chứng minh </s> <s> ở đây mình trình bày một cách chứng minh khác với hằng số tệ hơn trong theorem  một chút nhưng đơn giản hơn </s> <s> cách chứng minh này được trình bày trong của emanuele viola </s> <s> kí hiệu </s> <s> đầu tiên chọn ra số từ tập </s> <s> giả sử không có cặp số nào trong số chọn ra có cùng giá trị </s> <s> chọn tiếp ra số nữa </s> <s> xác suất để không có số nào trong số chọn ra trong lần  này có cùng giá trị với số chọn ra trong lần  là do đó xác suất để ít nhất một số chọn ra lần  bằng một số trong tập số chọn ra lần  là > </s> <s> chứng minh trên có thể được mở rộng ra trong trường hợp ta chọn số từ tập  thì xác suất tìm được hai số trùng nhau ít nhất là </s> <s> ứng dụng nổi bật nhất của nghịch lý ngày sinh là trong thuật tóa pollards rho mà chúng ta đã có dịp tìm hiểu trước đây </s> <s> một ứng dụng khác là trong thiết kế không gian khóa của bảng băm </s> <s> giả sử hệ thống của bạn có khoảng  triệu người dùng </s> <s> vì lí do bảo mật bạn không muốn lưu tên đăng nhập của người dùng mà muốn thiết kế một hàm băm để băm tên đăng nhập thành một xâu kí tự </s> <s> đương nhiên bạn không muốn hai tên đăng nhập khác nhau cùng được băm vào một khóa </s> <s> vậy bạn cần phải chọn khóa đầu ra là ít nhất bao nhiêu bít để đảm bảo điều này với xác suất cao giả sử hàm băm của bạn băm mỗi tên đăng nhập thành một số ngẫu nhiên </s> <s> áp dụng nghịch lý ngày sinh bạn có thể tính được nếu sử dụng  bít đầu ra xác suất hai người được băm vào một khóa khá cao </s> <s> nếu đầu ra là  bít xác suất này giảm xuống chỉ còn cỡ  một con số bạn có thể tin tưởng được </s> <s> nghịch lý ngày sinh cũng lí giải tại sao mà các hàm băm mật mã cryptographic hash functions như họ các hàm băm thường có số bít đầu ra khá lớn  bít hoặc  bít vì các hàm băm này thường được dùng để băm số lượng rất lớn dữ liệu mà vẫn đảm bảo không có hai đoạn dữ liệu nào có cùng mã băm đầu ra </s> <s> gần đây đã tìm ra hai đoạn dữ liệu khác nhau mà có cùng mã băm sau khi băm bằng sha </s> <s> nếu bạn làm bảo mật thì có lẽ nên tránh hàm băm này   trackback link powered by and </s> <s> đẹp  </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta tìm hiểu nguyên lí deferred decision mình để nguyên tiếng anh vì không biết dịch tiếng việt thế nào cho hay và chuẩn trong phân tích thuật toán ngẫu nhiên </s> <s> nguyên lí này được áp dụng khá phổ biến và là phương pháp chứng minh đằng sau của các kết quả đẹp như </s> <s> nguyên lí này có thể được hiểu tốt nhất thông qua ví dụ sau </s> <s> một cách đơn giản là ta tính và so sánh với </s> <s> phương pháp này mất thời gian nếu ta sử dụng phép nhân ma trận như định nghĩa hoặc sử dụng phương pháp nhân ma trận nhanh nhất hiện tại xem tại  </s> <s> tất cả đều hoặc rất chậm hoặc rất phức tạp </s> <s> sử dụng ngẫu nhiên ta có thể kiểm tra tích có bằng hay không chỉ trong thời gian với xác suất cao </s> <s> chọn vector  có phần tử và mỗi phần tử là một bít chọn ngẫu nhiên </s> <s> so sánh với </s> <s> nếu hai số này bằng nhau output yes ngược lại output no </s> <s> ta có thể tính trong thời gian  do đó thuật toán có thời gian </s> <s> </s> <s> nếu thì thuật toán luôn output yes </s> <s> do đó thuật toán chỉ sai khi mà ta lại chọn phải vector với </s> <s> đặt là một ma trận </s> <s> do  luôn tồn tại một ô khác  của ma trận </s> <s> không giảm tính tổng quát ta giả sử </s> <s> gọi </s> <s> ta có do  ta suy ra </s> <s> từ  ta suy ra do các bít của được chọn ngẫu nhiên độc lập ta coi như được chọn sau cùng </s> <s> do đó về phải của coi như đã xác định trước khi ta chọn </s> <s> vậy xác suất chọn phải bằng vế phải của là không quá </s> <s> nếu ta chọn mỗi phần tử của là một số nguyên  bít bằng cách mở rộng chứng minh ở trên xác suất thuật toán sai sẽ không quá  một con số khá nhỏ </s> <s> nguyên lí deferred decision thể hiện trong ví dụ trên ở chỗ phép phân tích chỉ nhìn vào phần tử được chọn cuối cùng của vector ngẫu nhiên </s> <s>    trackback link powered by and </s> <s> heap nhị phân và thuật toán heapsort  binary heap and heapsort </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này mình sẽ giới thiệu với các bạn cấu trúc dữ liệu heap nhị phân </s> <s> đây là một cấu trúc dữ liệu đơn giản dễ thực thi you will see that và hiệu quả </s> <s> điểm yếu chính của cấu trúc này hầu hết các thao tác hỗ trợ có thời gian </s> <s> heap thường được dùng để thực thi priority queue </s> <s> nếu các bạn tìm kiếm  bạn sẽ thấy một bảng so sánh các loại heap khác nhau </s> <s> mỗi loại heap đều có một đặc điểm riêng và lĩnh vực ứng dụng cụ thể </s> <s> một số loại heap như fibonacci heap rankpairing heap brodal heap etc </s> <s>  có thời gian tiệm cận cho hầu hết các thao tác </s> <s> tuy nhiên điểm yếu của chúng là thực thi rất phức tạp tốn bộ nhớ do phải lưu trữ các con trỏ hỗ trơ và mặc dù tiệm cận là hay  hằng số ẩn sau kí hiệu là khá lớn </s> <s> nếu chúng ta chấp nhận các thao tác trong thời gian  heap nhị phân là một cấu trúc hoàn hảo </s> <s> ngữ cảnh ứng dụng của heap nhị phân thường có dạng như sau ta có một tập các phần tử trong đó phần tử thứ có giá trị </s> <s> thao tác mà chúng ta quan tâm nhất đối với tập này là tìm và lấy ra một phần tử có giá trị nhỏ nhất hoặc lớn nhất của tập hợp </s> <s> ngoài ra chúng ta cũng muốn hỗ trợ các thao tác để thay đổi tập hợp đó </s> <s> danh sách một số các thao tác mà chúng ta thường quan tâm như sauta sẽ sử dụng cấu trúc minheap để thực hiện các thao tác trên trong thời gian  tại thời điểm này mình vẫn chưa định nghĩa heap nhị phân trong như thế nào cả </s> <s> mình sẽ định nghĩa ở dưới </s> <s> trong phần ứng dụng dưới đây bạn đọc chỉ cần quan tâm đến các thao tác và thời gian thực hiện mỗi thao tác mà cấu trúc này hỗ trợ mà chưa cần quan tâm đến cấu trúc heap sẽ được tổ chức như thế nào </s> <s> ứng dụng nổi bật nhất của cấu trúc heap nhị phân là trong sắp xếp mà ta gọi là thuật toán heapsort </s> <s> giả sử ta có một mảng các số nguyên mà ta muốn sắp xếp nó theo chiều tăng dần của giá trị </s> <s> ta sẽ xây dựng một minheap nhị phân cho mảng này </s> <s> hỗ trợ các thao tác liệt kê ở trên với thời gian trong theorem  </s> <s> để sắp xếp mảng ta làm theo các bước saugiả mã của heapsort </s> <s> code c do mỗi thao tác mất thời gian  tổng thời gian để sắp xếp mảng là </s> <s> một ứng dụng khác của minheap là trong thuật toán dijsktra tìm đường đi ngắn nhất từ một đỉnh trong đồ thị có trọng số không âm </s> <s> mình sẽ blog về thuật toán này sau </s> <s> cấu trúc biểu diễn đơn giản nhất là danh sách liên kết </s> <s> nếu sử dụng cấu trúc đó các thao tác  mất nhưng  có thể thực hiện </s> <s> nếu sửa đổi một chút bằng cách luôn lưu phần tử nhỏ nhất của tập hợp ở đầu danh sách và luôn chèn phần tử mới vào cuối danh sách thì ta có thể thực hiện trong còn vẫn là do khi ta xóa phần tử nhỏ nhất khỏi danh sách ta phải tìm phần tử nhỏ nhất trong số các phần tử còn lại và đưa nó về đầu danh sách </s> <s> cách khác là dùng mảng tuy nhiên cách này cũng không ổn vì cho dù có làm thế nào thì một trong số các thao tác trên cũng là </s> <s> nếu chúng ta muốn các thao tác trong trường hợp tồi nhất là  ta phải nghĩ ngay đến cấu trúc cây </s> <s> ở đây mình sẽ dùng cấu trúc cây nhị phân do đó gọi là heap nhị phân </s> <s> trước hết để đảm bảo  cây của chúng ta phải cân bằng do đó độ sâu của cây là  </s> <s> ta sẽ lưu phần tử nhỏ nhất tại gốc của cây do đó có thời gian </s> <s> cũng từ đó ta suy ra khóa của nút gốc nhỏ hơn khóa của hai nút con của nó </s> <s> ta sẽ đảm bảo tính chất này cho mọi nút của cây heap </s> <s> như vậy hai tính chất cần thiết của cây heap làví du tập các giá trị có cấu trúc heap biểu diễn minh họa trong hình dưới đâytừ tính chất heap bằng quy nạp ta có thể chứng minh được </s> <s> gọi depth của một nút là số cạnh trên đường đi từ nút gốc đến nút đó </s> <s> gọi là số cạnh đi từ gốc đến một nút lá tại mức cao nhất của cây đó </s> <s> từ tính cân bằng mạnh ta suy ra </s> <s> mặc dù ta nói nhưng thực ra ta có thể biểu diễn cây đó bằng một mảng </s> <s> ta sẽ biểu diễn các nút của cây heap như sauví dụ mảng tương ứng với cây heap ở hình trên được minh họa trong hình dưới đây </s> <s> các mũi tên màu đỏ gạch là các mũi tên nối từ nút cha tới một nút con </s> <s> trong thực tế cài đặt nếu số lượng phần tử chèn vào vượt quá kích thước của mảng ta phải cấp phát lại bộ nhớ cho mảng </s> <s> chiến lược cấp phát bộ nhớ có thể áp dụng là gấp đôi kích thước của mảng mỗi lần ta phải cấp phát bộ nhớ giống trong java </s> <s> trong trường hợp chúng ta biết được kích thước tối đa của mảng trong mọi thời điểm thì bài toán sẽ đơn giản hơn nhiều </s> <s> để chèn một khóa vào heap ta sẽ tìm của cây là nút lá cuối cùng theo thứ tự từ trái sang phải </s> <s> gọi nút là đó là </s> <s> để đảm bảo tính cân bằng mạnh ta sẽ chèn vào nút anh em sibling gần nhất bên phải của </s> <s> nếu cây nhị phân là cân bằng ta sẽ chèn vào mức tiếp theo ngoài cùng bên trái </s> <s> thao tác này được minh họa trong hình a và b của hình dưới đây </s> <s> vấn đề còn lại là đảm bảo tính chất heap </s> <s> nếu nút mới chèn vào có khóa nhỏ hơn nút cha nó ta phải thay thế chỗ của nó với cha nó </s> <s> sau khi đổi chỗ khóa của nút này vẫn có thể nhỏ hơn khóa của nút cha mới </s> <s> do đó ta tiếp tục gọi đệ quy cho đến khi nào khóa của nó nhỏ hơn khóa của nút cha mới thì dừng lại </s> <s> ta gọi thủ tục đẩy một nút lên là thao tác upheapify </s> <s> thao tác đó được minh họa trong hình c d e của hình dưới đâyvới biểu diễn mảng của cây chính là và do đó anh em gần nhất bên phải của nó là </s> <s> giả mã </s> <s> code c thủ tục vun đống ngược lên trên có thời gian vì theo fact  cây heap có độ sâu </s> <s> do đó ta có thể chèn một nút vào trong heap trong thời gian </s> <s> khi giảm giá trị khóa của một nút mà ta gọi là  giá trị mới của có thể nhỏ hơn giá trị khóa của nút cha của nó tại sao ta không cần quan tâm đến các nút con của nó </s> <s> do đó ta sẽ sử dụng thủ tục vun đống ngược lên trên upheapify để đảm bảo tính cân bằng </s> <s> thao tác này mất thời gian do chiều cao của cây là </s> <s> hình minh họa </s> <s> giả mã như sau </s> <s> code cthủ tục này phức tạp hơn cả vì ta cần phải xóa phần tử nhỏ nhất ra khỏi heap và cùng một lúc đảm bảo các tính chất của heap </s> <s> chú ý phần tử nhỏ nhất là gốc của cây heap </s> <s> do đó để đảm bảo tính cân bằng mạnh đầu tiên ta sẽ đưa nút lá cuối cùng lên làm gốc thế chỗ cho nút có khóa nhỏ nhất </s> <s> do nút gốc mới này có giá trị có thể lớn hơn nút con của nó ta sẽ đổi chỗ cho của nó </s> <s> sau đó tiếp tục gọi đệ quy vì sau khi đổi chỗ khóa của nó có thể vẫn lớn hơn khóa của các nút con mới </s> <s> ta gọi thủ tục này là downheapify </s> <s> do độ cao của cây heap là  thủ tục này mất thời gian </s> <s> thao tác đó được minh họa trong hình dưới đây </s> <s> giả mã </s> <s> code cgiả sử ta có đầu vào là một mảng  ta muốn xây dựng heap với khóa là các phần tử của mảng </s> <s> ta có thể xây dựng bằng cách bắt đầu từ một heap rỗng và lần lượt chèn các phần tử vào heap </s> <s> mỗi lần chèn ta mất thời gian  do đó ta có thể xây dựng heap trong thời gian </s> <s> tuy nhiên ta có thể xây dựng heap trong thời gian như sauthao tác đó được minh họa trong hình sau </s> <s> các nút được đánh dấu là các nút ta sẽ thực hiện downheapify </s> <s> </s> <s> giả mã code c ta có các nhận xét saudo đó tổng thời gian của thuật toán là đặt  sử dụng của đẳng thức theo và thay thế  ta suy ra </s> <s> do đó ta có cấu trúc heap nhị phân không bắt buộc quan hệ giữ con trái và con phải của một nút có nghĩa là con trái có thể lớn hơn con phải và ngược lại </s> <s> do đó ta có thể tích hợp thêm quan hệ giữa con phải và con trái </s> <s> cấu trúc sử dụng ý tưởng này chính là mà mình đã viết ở bài trước </s> <s> code đầy đủ của bài viết </s> <s> </s> <s>  binary heap on wikipedia  accessed // </s> <s>     trackback link on mình thắc mắc chỗ decreasekey </s> <s> giả sử dãy ban đầu của mình là a </s> <s> </s> <s> n </s> <s> sau đó mình xây dựng min heap h </s> <s> </s> <s> n từ mảng a </s> <s> bây giờ mình thay đổi giá trị của phần tử thứ i trong a thì làm cho heap nó thay đổi như thế nào </s> <s> ví dụ a      > h      </s> <s> khi này mình thay đổi a   </s> <s> > heap sẽ thành h      chưa hiệu chỉnh </s> <s> hiệu chỉnh thành > h      on hi </s> <s> mình không hiểu ví dụ của bạn lắm </s> <s> tại sao thay đổi phần tử a   lại thay đổi được toàn bộ heap như ví dụ của bạn về cơ bản bạn muốn thay đổi một khóa </s> <s> có thể hiểu là bạn muốn tăng hoặc giảm giá trị của khóa đó </s> <s> giảm giá trị khóa và duy trì heap sau khi giảm mình đã mô tả trong phần decreasekey </s> <s> nếu bạn muốn tăng giá trị của một khóa làm tương tự nhưng bạn sẽ gọi downheapify thay vì upheapify </s> <s> hùng on về thay đổi giá trị của heap mình đã hiểu </s> <s> </s> <s>  nhưng giả sử ban đầu mình có mảng a </s> <s> </s> <s>  sau đó mình xây dựng heap từ mảng a đó > mảng a có n phần tử thì mảng heap cũng có n phần tử thôi </s> <s>  bây giờ bài toán thay đổi giá trị của phần tử trong mảng a điều đó cũng có nghĩa mình phải cho heap phải thay đổi tương ứng thì mình sẽ code để heap thay đổi ntn </s> <s>  ý bạn là thay đổi key trên heap nhưng thay đổi a   chẳng hạn thì lúc này a ở chỗ nào trong heap để mà thay đổi </s> <s> on trong trường hợp này có lẽ bạn cần thêm một mảng nữa ví dụ pos </s> <s> </s> <s> </s> <s> n để xác định xem phần tử ai ở vị trí nào trong heap </s> <s> ví dụ pos   nghĩa là a ở vị trí thứ  trong mảng heap </s> <s> khi thực hiện các thao tác của heap ngoài các khung cơ bản như trên thì bạn cần phải cập nhật mảng post </s> <s> hùngpowered by and </s> <s> một số bài toán quy hoạch động điển hình </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/basicproblems </s> <s> </s> <s> </s> <s> </s> <s> bài viết sưu tầm trên mạng </s> <s> </s> <s> </s> <s> table of contents  </s> <s> dãy con đơn điệu dài nhất  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức qhđ  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác bố trí phòng họp mất tính thứ tự so với dãy ban đầu cho thuê máy dãy tam giác bao nhau dãy đổi dấu dãy số wavio xếp các khối đá  </s> <s> vali b  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác dãy con có tổng bằng s chia kẹo market olympic balkan  điền dấu expression farmer ioi   </s> <s> biến đổi xâu  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> hướng dẫn  </s> <s>  </s> <s> một số bài toán khác xâu con chung dài nhất bắc cầu palindrome ioi   </s> <s> vali a  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác đổi tiền  </s> <s> nhân ma trận  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác chia đa giác biểu thức số học ioi   </s> <s> ghép cặp  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác câu lạc bộ mua giày đề qg bảng b năm   </s> <s> di chuyển  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác tam giác ioi  </s> <s> </s> <s>  </s> <s> dãy con đơn điệu dài nhất </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho dãy aa </s> <s> </s> <s> </s> <s>  an </s> <s> hãy tìm một dãy con tăng có nhiều phần tử nhất của dãy </s> <s> </s> <s> </s> <s> đặc trưng  </s> <s> </s> <s> </s> <s> các phần tử trong dãy kết quả chỉ xuất hiện  lần </s> <s> vì vậy phương pháp làm là ta sẽ dùng vòng for duyệt qua các phần tử a trong dãy khác với các bài toán của mô hình  đặc trưng là bài toán đổi tiền các phần tử trong dãy có thể được chọn nhiều lần nên ta thực hiện bằng phương pháp cho giá trị cần quy đổi tăng dần từng đơn vị </s> <s> </s> <s> thứ tự của các phần tử được chọn phải được giữ nguyên so với dãy ban đầu </s> <s> </s> <s> </s> <s> </s> <s> đặc trưng này có thể mất đi trong một số bài toán khác tùy vào yêu cầu cụ thể </s> <s> chẳng hạn bài tam giác bao nhau </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức qhđ </s> <s> </s> <s> hàm mục tiêu f độ dài dãy con </s> <s> </s> <s> </s> <s> vì độ dài dãy con chỉ phụ thuộc vào một yếu tố là dãy ban đầu nên bảng phương án là bảng một chiều </s> <s> gọi li là độ dài dãy con tăng dài nhất các phần tử lấy trong miền từ a đến ai và phần tử cuối cùng là ai </s> <s> </s> <s> </s> <s> nhận xét với cách làm này ta đã chia  bài toán lớn dãy con của n số thành các bài toán con cùng kiểu có kích thước nhỏ hơn dãy con của dãy i số </s> <s> vấn đề là công thức truy hồi để phối hợp kết quả của các bài toán con </s> <s> </s> <s> </s> <s> ta có công thức qhđ để tính li như sau </s> <s> </s> <s> </s> <s> l   </s> <s> hiển nhiên </s> <s> li  max lj   với mọi phần tử j thỏa mãn ltjlti và aj le ai </s> <s> </s> <s> </s> <s> tính li phần tử đang được xét là ai </s> <s> ta tìm đến phần tử aj lt ai có lj lớn nhất </s> <s> khi đó nếu bổ sung ai vào sau dãy con  </s> <s> </s> <s> </s> <s> aj ta sẽ được dãy con tăng dần dài nhất xét từ a </s> <s> </s> <s> </s> <s> ai </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> bảng phương án là một mảng một chiều l để lưu trữ các giá trị của hàm qhđ li </s> <s> đoạn chương trình tính các giá trị của mảng l như sau </s> <s> </s> <s> for i   to n do </s> <s> begin </s> <s> l  i    </s> <s> for j   to i   do </s> <s> if  a  j lt a  i  and  l  i lt l  j    then l  i  l  j    </s> <s> end  </s> <s> </s> <s> như vậy độ phức tạp bộ nhớ của bài toán là on độ phức tạp thời gian là on </s> <s> </s> <s> </s> <s> có một số phương pháp cài đặt tốt hơn so với phương pháp trên cho chi phí thời gian là onlogn một trong những cách đó là dùng segment tree </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> bài toán dãy con đơn điệu tăng dài nhất có biến thể đơn giản nhất là bài toán dãy con đơn điệu giảm dài nhất tuy nhiên chúng ta có thể coi chúng như là một </s> <s> sau đây là một số bài toán khác </s> <s> </s> <s> </s> <s> bố trí phòng họp mất tính thứ tự so với dãy ban đầu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> có n cuộc họp cuộc họp thứ i bắt đầu vào thời điểm ai và kết thúc ở thời điểm bi </s> <s> do chỉ có một phòng hội thảo nên  cuộc họp bất kì sẽ được cùng bố trí phục vụ nếu khoảng thời gian làm việc của chúng chỉ giao nhau tại đầu mút </s> <s> hãy bố trí phòng họp để phục vụ được nhiều cuộc họp nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> sắp xếp các cuộc họp tăng dần theo thời điểm kết thúc bi </s> <s> thế thì cuộc họp i sẽ bố trí được sau cuộc họp j khi và chỉ khi jlti và bj le ai </s> <s> yêu cầu bố trí được nhiều cuộc họp nhất có thể đưa về việc tìm dãy các cuộc họp dài nhất thoả mãn điều kiện trên </s> <s> </s> <s> </s> <s> cho thuê máy </s> <s> </s> <s> bài toán  </s> <s> </s> <s> trung tâm tính toán hiệu năng cao nhận được đơn đặt hàng của n khách hàng </s> <s> khách hàng i muốn sử dụng máy trong khoảng thời gian từ ai đến bi và trả tiền thuê là ci </s> <s> hãy bố trí lịch thuê máy để tổng số tiền thu được là lớn nhất mà thời gian sử dụng máy của  khách hàng bất kì được phục vụ đều không giao nhau cả trung tâm chỉ có một máy cho thuê </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> tương tự như bài toán bố trí phòng họp nếu sắp xếp các đơn đặt hàng theo thời điểm kết thúc ta sẽ đưa được về bài toán tìm dãy con có tổng lớn nhất </s> <s> bài toán này là biến thể của bài toán tìm dãy con tăng dài nhất ta có thể cài đặt bằng đoạn chương trình như sau </s> <s> </s> <s> for i   to n do </s> <s> begin </s> <s> l  i  c  i  </s> <s> for j   to i   do </s> <s> if  b  j lt a  i  and  l  i lt l  j  c  i  then l  i  l  j  c  i  </s> <s> end  </s> <s> </s> <s> dãy tam giác bao nhau </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n tam giác trên mặt phẳng </s> <s> tam giác i bao tam giác j nếu  đỉnh của tam giác j đều nằm trong tam giác i có thể nằm trên cạnh </s> <s> hãy tìm dãy tam giác bao nhau có nhiều tam giác nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> sắp xếp các tam giác tăng dần về diện tích </s> <s> khi đó tam giác i sẽ bao tam giác j nếu jlti và  đỉnh của j nằm trong i </s> <s> từ đó có thể đưa về bài toán tìm dãy “tăng” dài nhất </s> <s> </s> <s> </s> <s> bài toán có một số biến thể khác như tìm dãy hình tam giác hình chữ nhật… bao nhau có tổng diện tích lớn nhất </s> <s> </s> <s> </s> <s> việc kiểm tra điểm m có nằm trong tam giác abc không có thể dựa trên phương pháp tính diện tích điểm m nằm trong nếu sabc  sabm  sacm  sbcm </s> <s> </s> <s> </s> <s> dãy đổi dấu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho dãy a a </s> <s> </s> <s> </s> <s>  an </s> <s> hãy tìm dãy con đổi dấu dài nhất của dãy đó </s> <s> dãy con đổi dấu aiai </s> <s> </s> <s> </s> <s>  aik phải thoả mãn các điều kiện sau </s> <s> </s> <s> </s> <s> ai lt ai gt ai lt </s> <s> </s> <s> </s> <s>  hoặc ai gt ai lt ai gt </s> <s> </s> <s> </s> <s>  </s> <s> các chỉ số phải cách nhau ít nhất l i  i ge l i  i ge l </s> <s> </s> <s> </s> <s> </s> <s> chênh lệch giữa  phần tử liên tiếp nhỏ hơn u ai  ai le u ai  ai le u </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi li là số phần tử của dãy con đổi dấu có phần tử cuối cùng là ai và phần tử cuối cùng lớn hơn phần tử đứng trước </s> <s> tương tự pi là số phần tử của dãy con đổi dấu có phần tử cuối cùng là ai và phần tử cuối cùng nhỏ hơn phần tử đứng trước </s> <s> </s> <s> </s> <s> ta dễ dàng suy ra </s> <s> </s> <s> </s> <s> li  max pj   với mọi j thỏa mãn j le il và ai  u le aj lt ai </s> <s> </s> <s> pi  max lj   với mọi j thỏa mãn j le il và ai lt aj le ai  u </s> <s> </s> <s> </s> <s> </s> <s> dãy số wavio </s> <s> </s> <s> bài toán  </s> <s> </s> <s> dãy số wavio là dãy số nguyên thỏa mãn các tính chất các phần tử đầu sắp xếp thành  dãy tăng dần đến  phần tử đỉnh sau đó giảm dần </s> <s> ví dụ dãy số        là  dãy wavio độ dài  </s> <s> cho  dãy gồm n số nguyên hãy chỉ ra một dãy con wavio có đọ dài lớn nhất trích ra từ dãy đó </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> li là mảng ghi độ dài lớn nhất của  dãy con tăng dần trích ra từ dãy n phần tử kể từ phần tử  đến phần tử ai </s> <s> </s> <s> </s> <s> li mảng ghi độ dài lớn nhất của dãy con giảm dần trích ra từ dãy n phần tử kể từ phần tử an đến ai </s> <s> ta tìm phần tử j trong  mảng l l thỏa mãn lj  lj lớn nhất </s> <s> </s> <s> </s> <s> xếp các khối đá </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n khối đá n le  </s> <s> </s> <s> </s> <s> các khối đá đều có dạng hình hộp chữ nhật và được đặc trưng bới  kích thước dài rộng cao </s> <s> một cách xây dựng tháp là một cách đặt một số các khối đá trong các khối đá đã cho chồng lên nhau theo quy tắc </s> <s> </s> <s> </s> <s> chiều cao mỗi khối đá là kích thước nhỏ nhất trong  kích thước </s> <s> </s> <s> các mép của khối đá được đặt song song với nhau sao cho không có phần nào của khối trên nằm chìa ra ngoài khối dưới </s> <s> </s> <s> </s> <s> </s> <s> hãy chỉ ra cách để xây dựng được một cái tháp sao cho số khối đá được dùng là nhiều nhất </s> <s> </s> <s> </s> <s>  </s> <s> vali b </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> có n đồ vật vật thứ i có trọng lượng ai và giá trị bi </s> <s> hãy chọn ra một số các đồ vật mỗi vật một cái để xếp vào  vali có trọng lượng tối đa w sao cho tổng giá trị của vali là lớn nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> hàm mục tiêu f tổng giá trị của vali </s> <s> </s> <s> </s> <s> nhận xét giá trị của vali phụ thuộc vào  yếu tố có bao nhiêu vật đang được xét và trọng lượng của các vật </s> <s> do đó bảng phương án sẽ là bảng  chiều </s> <s>  lij tổng giá trị lớn nhất của vali khi xét từ vật  </s> <s> </s> <s> vật i và trọng lượng của vali chưa vượt quá j </s> <s> chú ý rằng khi xét đến lij thì các giá trị trên bảng phương án đều đã được tối ưu </s> <s> </s> <s> </s> <s> tính lij vật đang xét là ai với trọng lượng của vali không được quá j </s> <s> có  khả năng xảy ra </s> <s> </s> <s> </s> <s> nếu chọn ai đưa vào vali trọng lượng vali trước đó phải không quá j  ai </s> <s> vì mỗi vật chỉ được chọn  lần nên giá trị lớn nhất của vali lúc đó là li j  ai  bi </s> <s> </s> <s> nếu không chọn ai trọng lượng của vali là như cũ như lúc trước khi chọn ai lij </s> <s> </s> <s> </s> <s> </s> <s> tóm lại ta có lij  maxli j  ai  bi li j </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> for i   to n do </s> <s> for j   to w do </s> <s> if b  i lt j then l  i  j  max  l  i    j  a  i    b  i  l  i    j  </s> <s> else l  i  j  l  i    j  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> dãy con có tổng bằng s </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho dãy aa </s> <s> </s> <s> </s> <s>  an </s> <s> tìm một dãy con của dãy đó có tổng bằng s </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> đặt lit nếu có thể tạo ra tổng t từ một dãy con của dãy gồm các phần tử aa </s> <s> </s> <s> </s> <s> ai </s> <s> ngược lại thì lit </s> <s> nếu lns thì đáp án của bài toán trên là “có” </s> <s> </s> <s> </s> <s> ta có thể tính lit theo công thức lit nếu lit hoặc litai </s> <s> </s> <s> </s> <s> cài đặt  </s> <s> </s> <s> nếu áp dụng luôn công thức trên thì ta cần dùng bảng phương án hai chiều </s> <s> ta có thể nhận xét rằng để tính dòng thứ i ta chỉ cần dòng i </s> <s> bảng phương án khi đó chỉ cần  mảng  chiều l </s> <s> </s> <s> s và được tính như sau </s> <s> </s> <s> l  t    l      </s> <s> </s> <s> for i   to n do </s> <s> for t  s downto a  i  do </s> <s> if  l  t    and  l  t  a  i    then l  t    </s> <s> </s> <s> dễ thấy độ phức tạp bộ nhớ của cách cài đặt trên là om độ phức tạp thời gian là on  m với m là tổng của n số </s> <s> hãy tự kiểm tra xem tại sao vòng for thứ  lại là for downto chứ không phải là for to </s> <s> </s> <s> </s> <s> chia kẹo </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n gói kẹo gói thứ i có ai viên </s> <s> hãy chia các gói thành  phần sao cho chênh lệch giữa  phần là ít nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi t là tổng số kẹo của n gói </s> <s> chúng ta cần tìm số s lớn nhất thoả mãn </s> <s> </s> <s> </s> <s> s le t/ </s> <s> </s> <s> có một dãy con của dãy a có tổng bằng s </s> <s> </s> <s> </s> <s> </s> <s> khi đó sẽ có cách chia với chênh lệch  phần là ts là nhỏ nhất và dãy con có tổng bằng s ở trên gồm các phần tử là các gói kẹo thuộc phần thứ nhất </s> <s> phần thứ hai là các gói kẹo còn lại </s> <s> </s> <s> </s> <s> market olympic balkan  </s> <s> </s> <s> bài toán  </s> <s> </s> <s> người đánh cá clement bắt được n con cá khối lượng mỗi con là ai đem bán ngoài chợ </s> <s> ở chợ cá người ta không mua cá theo từng con mà mua theo một lượng nào đó </s> <s> chẳng hạn  kg kg </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ví dụ có  con cá khối lượng lần lượt là    </s> <s> mua lượng kg sẽ phải lấy con cá thứ  và và thứ  </s> <s> mua lượng  kg thì lấy con thứ nhất </s> <s> không thể mua lượng  kg </s> <s> nếu bạn là người đầu tiên mua cá có bao nhiêu lượng bạn có thể chọn </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> thực chất bài toán là tìm các số s mà có một dãy con của dãy a có tổng bằng s </s> <s> ta có thể dùng phương pháp đánh dấu của bài chia kẹo ở trên rồi đếm các giá trị t mà lt </s> <s> </s> <s> </s> <s> điền dấu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n số tự nhiên aa </s> <s> </s> <s> </s> <s> an </s> <s> ban đầu các số được đặt liên tiếp theo đúng thứ tự cách nhau bởi dấu  a  a  </s> <s> </s> <s> </s> <s>  an </s> <s> cho trước số nguyên s có cách nào thay các dấu  bằng dấu  hay dấu − để được một biểu thức số học cho giá trị là s không </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> đặt lit nếu có thể điền dấu vào i số đầu tiên và cho kết quả bằng t </s> <s> ta có công thức sau để tính l </s> <s> </s> <s> </s> <s> l a   </s> <s> </s> <s> li t   nếu li   t  ai   hoặc li   t  ai   </s> <s> </s> <s> </s> <s> </s> <s> nếu ln s   thì câu trả lời của bài toán là có </s> <s> </s> <s> </s> <s> khi cài đặt có thể dùng một mảng  chiều lưu toàn bộ bảng phương án hoặc  mảng một chiều để lưu dòng i và dòng i </s> <s> chú ý là chỉ số theo t của các mảng phải có cả phần âm tức là từ t đến t với t là tổng của n số vì trong bài này chúng ta dùng cả dấu  nên có thể tạo ra các tổng âm </s> <s> </s> <s> </s> <s> bài này có một biến thể là đặt dấu sao cho kết quả là một số chia hết cho k </s> <s> ta có thuật giải tương tự bài toán trên bằng cách thay các phép cộng trừ bằng các phép cộng và trừ theo modulo k và dùng mảng đánh dấu với các giá trị từ  đến k là các số dư có thể có khi chia cho k </s> <s> đáp số của bài toán là ln </s> <s> </s> <s> </s> <s> expression </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n số nguyên </s> <s> hãy chia chúng thành  nhóm sao cho tích của tổng  nhóm là lớn nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi t là tổng n số nguyên đó </s> <s> giả sử ta chia dãy thành  nhóm gọi s là tổng của một nhóm tổng nhóm còn lại là ts và tích của tổng  nhóm là sts </s> <s> bằng phương pháp đánh dấu ta xác định được mọi số s là tổng của một nhóm như bài market và tìm số s sao cho sts đạt max </s> <s> </s> <s> </s> <s> farmer ioi  </s> <s> </s> <s> bài toán </s> <s> </s> <s> một người có n mảnh đất và m dải đất </s> <s> các mảnh đất có thể coi là một tứ giác và các dải đất thì coi như một đường thẳng </s> <s> dọc theo các dải đất ông ta trồng các cây bách dải đất thứ i có ai cây bách </s> <s> ông ta cũng trồng các cây bách trên viền của các mảnh đất mảnh đất thứ j có bj cây bách </s> <s> cả ở trên các mảnh đất và dải đất xen giữa  cây bách ông ta trồng một cây ôliu </s> <s> ông ta cho con trai được chọn các mảnh đất và dải đất tuỳ ý với điều kiện tổng số cây bách không vượt quá q </s> <s> người con trai phải chọn thế nào để có nhiều cây ôliu loài cây mà anh ta thích nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> dễ thấy mảnh đất thứ i có ai cây ôliu và dải đất thứ j có bj cây ôliu </s> <s> coi các mảnh đất và dải đất là các “đồ vật” đồ vật thứ k có khối lượng wk và giá trị vk nếu k là mảnh đất i thì wkvkai nếu k là dải đất j thì wkbj vkbj </s> <s> ta cần chọn các “đồ vật” sao cho tổng “khối lượng” của chúng không vượt q và tổng “giá trị” là lớn nhất </s> <s> đây chính là bài toán xếp balô đã trình bày ở trên </s> <s> </s> <s> </s> <s>  </s> <s> biến đổi xâu </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho  xâu x f </s> <s> xâu gốc có n kí tự x x </s> <s> </s> <s> </s> <s> xn xâu đích có m kí tự f f </s> <s> </s> <s> </s> <s> fm </s> <s> có  phép biến đổi </s> <s> </s> <s> </s> <s> chèn  kí tự vào sau kí tự thứ i i i c </s> <s> </s> <s> thay thế kí tự ở vị trí thứ i bằng kí tự c r i c </s> <s> </s> <s> xoá kí tự ở vị trí thứ i d i </s> <s> </s> <s> </s> <s> </s> <s> hãy tìm số ít nhất các phép biến đổi để biến xâu x thành xâu f </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> hướng dẫn </s> <s> </s> <s> hàm mục tiêu f số phép biến đổi </s> <s> </s> <s> </s> <s> dễ thấy số phép biến đổi phụ thuộc vào vị trí i đang xét của xâu x và vị trí j đang xét của xâu f </s> <s> do vậy để cài đặt cho bảng phương án ta sẽ dùng mảng  chiều </s> <s> </s> <s> </s> <s> gọi lij là số phép biến đổi ít nhất để biến xâu xi gồm i kí tự phần đầu của x xi  x </s> <s> </s> <s> i thành xâu fj gồm j kí tự phần đầu của f fj  f </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> dễ thấy ljj và lii </s> <s> </s> <s> </s> <s> có  trường hợp xảy ra </s> <s> </s> <s> </s> <s> nếu xi  fj </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi xi </s> <s> f f </s> <s> </s> <s> </s> <s> fj xi </s> <s> thì ta chỉ phải biến đổi xâu xi thành xâu fj </s> <s> do đó lijlij </s> <s> </s> <s> </s> <s> </s> <s> ngược lại ta có  cách biến đổi </s> <s> </s> <s> </s> <s> xoá kí tự xi </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi </s> <s> f f </s> <s> </s> <s> </s> <s> fj fj </s> <s> xâu xi thành fj </s> <s> khi đó lijlij </s> <s> cộng  là do ta đã dùng  phép xóa </s> <s> </s> <s> </s> <s> thay thế xi bởi fj </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi fj </s> <s> f f </s> <s> </s> <s> </s> <s> fj fj </s> <s> xâu xi thành fj </s> <s> khi đó lijlij </s> <s> </s> <s> </s> <s> </s> <s> chèn fj vào sau xi </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi fj </s> <s> f f </s> <s> </s> <s> </s> <s> fj fj </s> <s> xâu xi thành fj </s> <s> khi đó lijlij </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng kết lại ta có công thức qhđ </s> <s> </s> <s> </s> <s> ljj </s> <s> lii </s> <s> </s> <s> lij li−j− nếu xi  yj </s> <s> </s> <s> </s> <s> lij  minli−j lij− li−j−   nếu xi ne fj </s> <s> </s> <s> </s> <s> </s> <s> bài này ta có thể tiết kiệm biến hơn bằng cách dùng  mảng  chiều tính lẫn nhau và một mảng đánh dấu  chiều để truy vết </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> xâu con chung dài nhất </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho  xâu x y </s> <s> hãy tìm xâu con của x và của y có độ dài lớn nhất </s> <s> biết xâu con của một xâu thu được khi xóa một số kí tự thuộc xâu đó hoặc không xóa kí tự nào </s> <s> </s> <s> </s> <s> công thức qhđ  </s> <s> </s> <s> gọi lij là độ dài xâu con chung dài nhất của xâu xi gồm i kí tự phần đầu của x xi  x </s> <s> </s> <s> i và xâu yj gồm j kí tự phần đầu của y yj  y </s> <s> </s> <s> j </s> <s> ta có công thức quy hoạch động như sau </s> <s> </s> <s> </s> <s> lj  li   </s> <s> </s> <s> lij  li−j−   nếu xi  yj </s> <s> </s> <s> lij  maxli−j lij− nếu xi ne yj </s> <s> </s> <s> </s> <s> </s> <s> cài đặt  </s> <s> </s> <s> bảng phương án là một mảng  chiều l </s> <s> </s> <s> m </s> <s> </s> <s> n để lưu các giá trị của hàm qhđ lij </s> <s> </s> <s> </s> <s> đoạn chương trình cài đặt công thức qhđ trên như sau </s> <s> </s> <s> for i   to m do l  i      </s> <s> for j   to n do l    j    </s> <s> </s> <s> </s> <s> for i   to m do </s> <s> for j   to n do </s> <s> if x  i  y  j  then l  i  j  l  i    j     </s> <s> else l  i  j  max  l  i    j  l  i  j    </s> <s> </s> <s> như vậy độ phức tạp bộ nhớ của bài toán là on độ phức tạp thời gian là on </s> <s> </s> <s> </s> <s> có một phương pháp cài đặt tốt hơn chỉ với độ phức tạp bộ nhớ on dựa trên nhận xét sau để tính ô lij của bảng phương án ta chỉ cần  ô lij lij và lij </s> <s> tức là để tính dòng li thì chỉ cần dòng li </s> <s> do đó ta chỉ cần  mảng  chiều để lưu dòng vừa tính p và dòng đang tính l mà thôi </s> <s> cách cài đặt mới như sau </s> <s> </s> <s> for j   to n do p  j    </s> <s> </s> <s> for i   to m do </s> <s> begin </s> <s> l       </s> <s> for j   to n do </s> <s> if x  i  y  j  then l  i  j  p  j     </s> <s> else l  i  j  max  p  j  l  j    </s> <s> p  l  </s> <s> end  </s> <s> </s> <s> bắc cầu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> hai nước alpha và beta nằm ở hai bên bờ sông omega alpha nằm ở bờ bắc và có m thành phố được đánh số từ  đến m beta nằm ở bờ nam và có n thành phố được đánh số từ  đến n theo vị trí từ đông sang tây </s> <s> mỗi thành phố của nước này thường có quan hệ kết nghĩa với một số thành phố của nước kia </s> <s> để tăng cường tình hữu nghị hai nước muốn xây các cây cầu bắc qua sông mỗi cây cầu sẽ là nhịp cầu nối  thành phố kết nghĩa </s> <s> với yêu cầu là các cây cầu không được cắt nhau và mỗi thành phố chỉ là đầu cầu cho nhiều nhất là một cây cầu hãy chỉ ra cách bắc cầu được nhiều cầu nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi các thành phố của alpha lần lượt là aa </s> <s> </s> <s> </s> <s>  am các thành phố của beta là bb </s> <s> </s> <s> </s> <s> bn </s> <s> nếu thành phố ai và bj kết nghĩa với nhau thì coi ai bằng” bj </s> <s> để các cây cầu không cắt nhau nếu ta đã chọn cặp thành phố aibj để xây cầu thì cặp tiếp theo phải là cặp aubv sao cho ugti và vgtj </s> <s> như vậy các cặp thành phố được chọn xây cầu có thể coi là một dãy con chung của hai dãy a và b </s> <s> </s> <s> </s> <s> bài toán của chúng ta trở thành bài toán tìm dãy con chung dài nhất ở đây hai phần tử “bằng” nhau nếu chúng có quan hệ kết nghĩa </s> <s> </s> <s> </s> <s> palindrome ioi  </s> <s> </s> <s> bài toán  </s> <s> </s> <s> một xâu gọi là xâu đối xứng palindrome nếu xâu đó đọc từ trái sang phải hay từ phải sang trái đều như nhau </s> <s> cho một xâu s hãy tìm số kí tự ít nhất cần thêm vào s để s trở thành xâu đối xứng </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> bài toán này có một công thức qhđ như sau </s> <s> </s> <s> </s> <s> gọi lij là số kí tự ít nhất cần thêm vào xâu con si </s> <s> </s> <s> j của s để xâu đó trở thành đối xứng </s> <s> </s> <s> đáp số của bài toán sẽ là ln với n là số kí tự của s </s> <s> ta có công thức sau để tính lij </s> <s> </s> <s> </s> <s> lii </s> <s> </s> <s> lijlij nếu sisj </s> <s> lijmaxlij lij nếu si ne sj </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bạn đọc dễ dàng có thể kiểm chứng công thức đó </s> <s> ta có thể cài đặt trực tiếp công thức đó bằng phương pháp đệ quy có nhớ </s> <s> tuy nhiên khi đó độ phức tạp bộ nhớ là on </s> <s> có một phương pháp cài đặt tiết kiệm hơn có thể tham khảo ở bài viết của nguyễn hoành tiến </s> <s> </s> <s> ta có thuật toán đơn giản hơn như sau </s> <s> </s> <s> </s> <s> gọi p là xâu đảo của s và t là xâu con chung dài nhất của s và p </s> <s> khi đó các kí tự của s không thuộc t cũng là các kí tự cần thêm vào để s trở thành đối xứng </s> <s> đáp số của bài toán sẽ là nk với k là độ dài của t </s> <s> </s> <s> ví dụ sedbabcd  xâu đảo của s là pdcbabde </s> <s> xâu con chung dài nhất của s và p là tdbabd </s> <s> như vậy cần thêm  kí tự là e và c vào để s trở thành xâu đối xứng </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> vali a </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho n vật vật i nặng ai và có giá trị bi </s> <s> hãy chọn ra một số vật để cho vào balô sao cho tổng khối lượng không vượt quá w và tổng giá trị là lớn nhất </s> <s> chú ý rằng mỗi vật có thể được chọn nhiều lần </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> gọi lij là tổng giá trị lớn nhất khi được chọn i vật từ  đến i cho vào balô với tổng khối lượng không vượt quá j </s> <s> lnw sẽ là đáp số của bài toán là giá trị lớn nhất có được nếu chọn n vật và tổng khối lượng không vượt quá w </s> <s> </s> <s> </s> <s> công thức tính lit như sau </s> <s> </s> <s> </s> <s> li    </s> <s> l t   </s> <s> lit  lit nếu tltai </s> <s> lit  maxlit litai  bi nếu t ge ai </s> <s> </s> <s> </s> <s> trong đó lit là giá trị có được nếu không đưa vật i vào balô litai  bi là giá trị có được nếu chọn vật i </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> ta có thể dùng một mảng  chiều để lưu bảng phương án tuy nhiên dựa trên nhận xét rằng để tính dòng i của bảng phương án chỉ cần dòng i ta chỉ cần dùng  mảng một chiều p và l có chỉ số từ  đến m để lưu  dòng đó </s> <s> đoạn chương trình con tính bảng phương án như sau </s> <s> </s> <s> </s> <s> l  t     với mọi t </s> <s> for i   to n do </s> <s> begin </s> <s> p  l  </s> <s> for t   to m do </s> <s> if t lt a  i  then l  t  p  t  </s> <s> else l  t   max  p  t  l  t  a  i  b  i  </s> <s> end  </s> <s> </s> <s> nếu để ý kĩ bạn sẽ thấy rằng đoạn trình trên chỉ viết giống công thức qhđ chứ chưa tối ưu </s> <s> chẳng hạn đã có lệnh gán pl  sau đó lại có gán ltpt với các giá trị tltai là không cần thiết </s> <s> bạn đọc có thể tự cải tiến để chương trình tối ưu hơn </s> <s> </s> <s> độ phức tạp bộ nhớ là om và độ phức tạp thời gian là om  n </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> đổi tiền </s> <s> </s> <s> bài toán </s> <s> </s> <s> ở đất nước omega người ta chỉ tiêu tiền xu </s> <s> có n loại tiền xu loại thứ i có mệnh giá là ai đồng </s> <s> một người khách du lịch đến omega du lịch với số tiền m đồng </s> <s> ông ta muốn đổi số tiền đó ra tiền xu omega để tiện tiêu dùng </s> <s> ông ta cũng muốn số đồng tiền đổi được là ít nhất cho túi tiền đỡ nặng khi đi đây đi đó </s> <s> bạn hãy giúp ông ta tìm cách đổi tiền </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> bài toán này khá giống bài toán xếp balô “khối lượng” là mệnh giá “giá trị” là  chỉ có một thay đổi nhỏ tổng giá trị yêu cầu là nhỏ nhất </s> <s> </s> <s> </s> <s> do đó ta cũng xây dựng hàm qhđ một cách tương tự gọi lit là số đồng xu ít nhất nếu đổi t đồng ra i loại tiền xu từ  đến i </s> <s> công thức tính lit như sau </s> <s> </s> <s> </s> <s> li </s> <s> lt inf với tgt </s> <s> </s> <s> litlit nếu tltai </s> <s> </s> <s> litminlit litai nếu t ge ai </s> <s> </s> <s> </s> <s> </s> <s> công thức này khác công thức của bài xếp balô ở chỗ dùng hàm min chứ không phải hàm max vì cần tìm cách chọn ít hơn </s> <s> </s> <s> </s> <s>  </s> <s> nhân ma trận </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> nhân một ma trận kích thước m  n với một ma trận n  p số phép nhân phải thực hiện là m  n  p </s> <s> mặt khác phép nhân các ma trận có tính kết hợp tức là a  b  c  a  b  c </s> <s> </s> <s> do đó khi tính tích nhiều ma trận ta có thể thực hiện theo các trình tự khác nhau mỗi trình tự tính sẽ quyết định số phép nhân cần thực hiện </s> <s> </s> <s> </s> <s> cho n ma trận a a </s> <s> </s> <s> </s> <s>  an ma trận a có kích thước là di  di </s> <s> hãy xác định trình tự nhân ma trận a  a  </s> <s> </s> <s> </s> <s>  an sao cho số phép nhân cần thực hiện là ít nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> gọi fij là số phép nhân để tính tích các ma trận từ ai đến aj ai  ai  </s> <s> </s> <s> </s> <s>  aj </s> <s> </s> <s> </s> <s> </s> <s> fii </s> <s> </s> <s> fiidi  di  di </s> <s> fij  minfikfkj  di  di  di với kii </s> <s> </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> công thức hơi phức tạp nên tôi xin giải thích như sau </s> <s> </s> <s> </s> <s> fii là hiển nhiên </s> <s> </s> <s> fii là số phép nhân khi nhân ai và ai </s> <s> ai có kích thước di  di ai có kích thước di  di do đó fiidi  di  di </s> <s> với jgti thì ta thấy có thể tính ai  ai  </s> <s> </s> <s> </s> <s>  aj bằng cách chọn một vị trí k nào đó để đặt ngoặc theo trình tự ai  ai  </s> <s> </s> <s> </s> <s>  aj  ai </s> <s> </s> <s> ak  ak </s> <s> </s> <s> aj </s> <s> </s> <s> </s> <s> ma trận kết quả của phép nhân ai </s> <s> </s> <s> ak có kích thước di  di ma trận kết quả của phép nhân ak </s> <s> </s> <s> aj có kích thước dk  dj </s> <s> với cách đặt đó ta sẽ mất fik phép nhân để có kết quả trong dấu ngoặc thứ nhất mất thêm fkj phép nhân để có kết quả trong dấu ngoặc thứ hai và cuối cùng mất di  dk  dj để nhân  ma trận kết quả đó </s> <s> từ đó tổng số phép nhân của cách đặt đó là fik  fkj  di  dk  dj </s> <s> </s> <s> </s> <s> ta chọn vị trí k cho số phép nhân ít nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> bảng phương án là một mảng  chiều f để lưu fij </s> <s> chú ý khi cài đặt là để tính được fij ta phải tính fik và fkj trước </s> <s> phương pháp đơn giản để làm điều đó là phương pháp đệ quy có nhớ </s> <s> </s> <s> </s> <s> tuy nhiên dựa vào nhận xét là trong công thức qhđ ji lớn hơn ki và jk ta có thể tính theo trình tự khác tính các phần tử fij với ji từ nhỏ đến lớn không phải là tính các giá trị fij với i j từ nhỏ đến lớn như vẫn làm </s> <s> với cách đó khi tính đến fij thì ta đã có fik và fkj </s> <s> </s> <s> </s> <s> đoạn chương trình tính bảng phương án như sau </s> <s> </s> <s> for i   to n do </s> <s> f  i  i    </s> <s> </s> <s> for i   to n   do </s> <s> f  i  i     d  i    d  i  d  i    </s> <s> </s> <s> for m   to n   do </s> <s> begin </s> <s> for i   to n  m do </s> <s> begin </s> <s> j  i  m  </s> <s> f  i  j  oo  </s> <s> for k  i   to j   do </s> <s> f  i  j  min  f  i  j  f  i  k  f  k    j  d  i    d  k  d  j  </s> <s> end  </s> <s> end  </s> <s> </s> <s> với cách cài đặt trên độ phức tạp bộ nhớ là on độ phức tạp thời gian là on </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> chia đa giác </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một đa giác lồi n đỉnh </s> <s> bằng các đường chéo không cắt nhau ta có thể chia đa giác thành n tam giác </s> <s> hãy xác định cách chia có tổng các đường chéo ngắn nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> để đơn giản ta coi mọi đoạn thẳng nối  đỉnh đều là “đường chéo” nếu nối  đỉnh trùng nhau hoặc  đỉnh liên tiếp thì có độ dài bằng  </s> <s> </s> <s> </s> <s> gọi fij là tổng độ dài các đường chéo khi chia đa giác gồm các đỉnh từ i đến j thành các tam giác </s> <s> nếu jlti thì đa giác đó có ít hơn  đỉnh không cần phải chia nên fij </s> <s> ngược lại ta xét cách chia đa giác đó bằng cách chọn một đỉnh k nằm giữa i j và nối i j với k </s> <s> khi đó fijfikfkjdikdkj với dik là độ dài đường chéo ik </s> <s> </s> <s> </s> <s> tóm lại công thức qhđ như sau </s> <s> </s> <s> </s> <s> fij với jlti </s> <s> </s> <s> fijminfikfkjdikdkj với ki </s> <s> </s> <s> </s> <s> j </s> <s> fn là tổng đường chéo của cách chia tối ưu </s> <s> </s> <s> </s> <s> </s> <s> biểu thức số học ioi  </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho biểu thức a cdot a cdot </s> <s> </s> <s> </s> <s> cdot an trong đó ai là các số thực không âm và cdot là một phép toán  hoặc  cho trước </s> <s> hãy đặt các dấu ngoặc để biểu thức thu được có kết quả lớn nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> gọi fij là giá trị lớn nhất có thể có của biểu thức ai cdot ai cdot </s> <s> </s> <s> </s> <s> cdot aj </s> <s> dễ thấy nếu ij thì fijai nếu ji thì fijai cdot aj </s> <s> nếu jgti thì có thể tính biểu thức ai cdot ai cdot </s> <s> </s> <s> </s> <s> cdot aj bằng cách chia thành  nhóm ai cdot ai cdot </s> <s> </s> <s> </s> <s> cdot ak cdot ak cdot </s> <s> </s> <s> </s> <s> cdot aj khi đó fijfik cdot fkj </s> <s> </s> <s> </s> <s> tóm lại công thức qhđ là </s> <s> </s> <s> </s> <s> fiiai </s> <s> fiiai cdot ai </s> <s> fijmaxfik cdot fkj với kii </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> </s> <s> chú là là các hạng tử của dãy đều không âm và các phép toán là  hoặc  nên fik và fkj đạt max thì fik cdot fkj cũng đạt max </s> <s> </s> <s> </s> <s>  </s> <s> ghép cặp </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> có n lọ hoa sắp thẳng hàng và k bó hoa được đánh số thứ tự từ nhỏ đến lớn </s> <s> cần cắm k bó hoa trên vào n lọ sao cho hoa có số thứ tự nhỏ phải đứng trước hoa có số thứ tự lớn </s> <s> giá trị thẩm mỹ tương ứng khi cắm hoa i vào lọ thứ j là vij </s> <s> hãy tìm  cách cắm sao cho tổng giá trị thẫm mỹ là lớn nhất </s> <s> chú ý rằng mỗi bó hoa chỉ được cắm vào  lọ và mỗi lọ cũng chỉ cắm được  bó hoa </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> nhận xét rằng bài toán nêu trên là một bài toán ghép cặp có yêu cầu về thứ tự nên ta có thể giải quyết bằng phương pháp qhđ </s> <s> </s> <s> </s> <s> hàm mục tiêu f tổng giá trị thẩm mỹ của cách cắm </s> <s> </s> <s> </s> <s> giá trị thẩm mỹ phụ thuộc vào các hoa và các lọ đang được xét nên ta sẽ dùng mảng  chiều để lưu bảng phương án </s> <s> </s> <s> </s> <s> lij tổng giá trị thẩm mỹ lớn nhất khi xét đến hoa i và lọ j </s> <s> khi tính lij hoa đang xét sẽ là hoa i và lọ j </s> <s> </s> <s> </s> <s> </s> <s> nếu i  j </s> <s> chỉ có một cách cắm lii vv </s> <s> </s> <s> </s> <s> vii </s> <s> nếu igtj </s> <s> không có cách cắm hợp lý </s> <s> nếu iltj </s> <s> có  trường hợp xảy ra </s> <s> </s> <s> </s> <s> cắm hoa i vào lọ j </s> <s> tổng giá trị thẩm mỹ là lijvij </s> <s> bằng tổng giá trị trước khi cắm cộng với giá trị thẩm mỹ khi cắm hoa i vào lọ j </s> <s> không cắm hoa i vào lọ j có thể cắm vào lọ trước j giá trị thẫm mỹ của cách cắm là như cũ lij </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> l  i  j   maxint  </s> <s> </s> <s> for i   to k do </s> <s> for j  i to n do </s> <s> if i  j then l  i  j  sum  i  </s> <s> else if i lt j then l  i  j  max  l  i    j    v  i  j  l  i  j    </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> câu lạc bộ </s> <s> </s> <s> bài toán </s> <s> </s> <s> có n phòng học chuyên đề và k nhóm học được đánh số thứ tự từ nhỏ đến lớn </s> <s> cần xếp k nhóm trên vào n phòng học sao cho nhóm có số hiệu nhỏ được xếp vào phòng có số hiệu nhỏ nhóm có số hiệu lớn phải được xếp vào phòng có số hiệu lớn </s> <s> với mỗi phòng có chứ học sinh các ghế thừa phải được chuyển ra hết nếu thiếu ghế thì lấy vào cho đủ ghế </s> <s> biết phòng i có ai ghế nhóm j có bj học sinh </s> <s> hãy chọn  phương án bố trí sao cho tổng số lần chuyển ghế ra và vào là ít nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> khi xếp nhóm i vào phòng j thì số lần chuyển ghế chính là độ chênh lệch giữa số ghế trong phòng i và số học sinh trong nhóm </s> <s> đặt vijai  bj </s> <s> </s> <s> mua giày đề qg bảng b năm  </s> <s> </s> <s> bài toán </s> <s> </s> <s> trong hiệu có n đôi giày đôi giày i có kích thước hi </s> <s> có k người cần mua giày người i cần mua đôi giày kích thước si </s> <s> khi người i chọn mua đôi giày j thì độ lệch sẽ là hisj </s> <s> hãy tìm cách chọn mua giày cho k người trên sao cho tổng độ lệch là ít nhất </s> <s> biết rằng mỗi người chỉ mua  đôi giày và  đôi giày cũng chỉ có một người mua </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> lập công thức giải như bài câu lạc bộ </s> <s> chú ý chứng minh tính đúng đắn của bổ đề heuristic sau cho  dãy tăng dần các số dương a a </s> <s> </s> <s> </s> <s>  an b b </s> <s> </s> <s> </s> <s>  bn </s> <s> gọi c c </s> <s> </s> <s> </s> <s>  cn là một hoán vị bất kỳ của dãy b </s> <s> khi đó ab  ab  </s> <s> </s> <s> </s> <s>  anbn le ac  a  c  </s> <s> </s> <s> </s> <s>  ancn </s> <s> </s> <s>  </s> <s> di chuyển </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho bảng a gồm m  n ô </s> <s> từ ô ij có thể di chuyển sang  ô ij ij và ij </s> <s> hãy xác định một lộ trình đi từ hàng  đến hàng m sao cho tổng các ô đi qua là lớn nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> gọi fij là giá trị lớn nhất có được khi di chuyển đến ô ij </s> <s> có  ô có thể đi đến ô ij là ij ij và ij </s> <s> do đó ta có công thức qhđ như sau </s> <s> </s> <s> </s> <s> fjaj </s> <s> fijmaxfijfijfijaij với igt </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> bảng phương án là bảng  chiều f </s> <s> </s> <s> m </s> <s> </s> <s> n </s> <s> tất cả các ô trên biên đều cho giá trị bằng  </s> <s> </s> <s> </s> <s> quá trình tính như sau </s> <s> </s> <s> for i   to m do </s> <s> for j   to n do </s> <s> f  i  j  max  f  i    j  f  i    j    f  i    j    a  i  j  </s> <s> </s> <s> </s> <s> cách cài đặt này cho độ phức tạp bộ nhớ và thời gian đều là on </s> <s> ta có thể tiết kiệm không gian nhớ bằng cách tính trực tiếp trên mảng a </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> tam giác ioi  </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một tam giác gồm các số nguyên không âm </s> <s> hãy tính tổng lớn nhất các số trên đường đi từ đỉnh tam giác xuống một điểm nào đó ở đáy tam giác nào đó </s> <s> tại mỗi ô ta chỉ có đi thẳng xuống sang ô bên trái hoặc bên phải </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> mô tả các phần tử của tam giác số như một ma trận aij là phần tử thứ j trên dòng i với  le i le n và  le j le i </s> <s> có  ô có thể di chưyển đến ô ij là ô ij và ô ij </s> <s> gọi fij là tổng lớn nhất có thể có khi đi đến ô ij ta có </s> <s> </s> <s> </s> <s> fa </s> <s> fifiai </s> <s> fijmax fijfij   aij </s> <s> </s> <s> </s> <s> </s> <s> cây avl ii  avl tree ii </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ tìm hiểu cách thực hiện xóa một nút khỏi cây avl </s> <s> bài này tiếp nối về phép chèn một nút vào cây avl mình khuyến khích bạn đọc xem lại các kí hiệu đã dùng trong bài trước </s> <s> ta nhắc lại tính chất sau của cây avl tạm thời bỏ qua các điều kiện cân bằng của cậy ta tập trung vào xóa một nút mà đảm bảo cây nhị phân sau khi xóa vẫn là cây nhị phân tìm kiếm </s> <s> sau đó ta sẽ tìm hiểu cách cân bằng lại cây </s> <s> giả sử nút ta muốn xóa là nút có con trái hoặc con phải là </s> <s> trong trường hợp này ta chỉ việc thay thế bởi nút con duy nhất khác của nó và xóa ra khỏi cây </s> <s> không khó để thấy rằng cây thu được vẫn là cây nhị phân tìm kiếm </s> <s> tuy nhiên nếu có cả hai con đều khác  ta có thể quy về trường hợp một trong hai nút con bằng như sau </s> <s> gọi là nút có khóa nhỏ nhất trong cây con của </s> <s> ta thay thế bằng và sau đó xóa ra khỏi cây </s> <s> ở đây thay thế có nghĩa là ta gán lại khóa và dữ liệu của nút bằng khóa và dữ liệu của nút </s> <s> theo cách ta chọn  không khó để thấy rằng cây thu được vẫn là cây nhị phân tìm kiếm </s> <s> xem minh họa trong figure  </s> <s> </s> <s> a xóa nút có khóa  nút màu đỏ ra khỏi cây avl </s> <s> do  có hai nút con đều khác  ta sẽ thay thế nút  nút màu xanh vào vị trí của nút  </s> <s> b cây thu được sau khi xóa  </s> <s> chú ý sự thay đổi của các kí hiệu </s> <s> ý nghĩa của các kí hiệu này ta đã giải thích trong </s> <s> nút  bị mất cân bằng sau khi xóa lệch trái </s> <s> giả mã của thủ tục xóa </s> <s> trong giả mã trên ta giả sử luôn tồn tại một nút có khóa trong cây </s> <s> để thực hiện cân bằng sau khi xóa trước hết chúng ta phải xem xét cấu trúc của cây tại nút bị mất cân bằng </s> <s> gọi là nút gần lá nhất mà tại đó cây avl bị mất cân bằng </s> <s> ta sẽ lặp lại các phân tích như trong để xác định cấu trúc của cây con có gốc </s> <s> mình sẽ không phân tích các cấu trúc một cách tỉ mỉ như bài trước nữa mà sẽ chỉ ra cụ thể các cấu trúc này </s> <s> phần chứng minh không thay đổi nhiều so với bài trước coi như bài tập cho bạn đọc </s> <s> gọi là chiều cao của khi ta xóa một nút ra khỏi cây avl </s> <s> không khó để thấy nút ta xóa khỏi cây cũng là nút con cháu desancendt của </s> <s> chú ý nút ta xóa khỏi cây luôn có con phải hoặc con trái là </s> <s> không giảm tính tổng quát ta giả sử cây con trái của có chiều cao lớn hơn cây con phải của </s> <s> ta có gọi </s> <s> để cây bằng ta sẽ thực hiện các phép quay phải trái kép như ta đã thực hiện trong bài trước </s> <s> để biết khi nào thực hiện phép quay nào ta cần phải phân tích kĩ hơn cấu trúc của cây con gốc tại </s> <s> ta xét các trường hợp sauxem minh họa trong figure a </s> <s> ta sẽ thực hiện phép right rotation tại </s> <s> xem minh họa trong figure b </s> <s> </s> <s> a trường hợp cây con trái có chiều cao </s> <s> b cây thu được sau khi thực hiện quay phải tại </s> <s> các nút mà ta không đánh dấu bằng các kí hiệu có tính cân bằng chưa xác định vì ta chưa biết chiều cao của tất cả các cây con của nó </s> <s> </s> <s> giả mã </s> <s> code cđể tìm hiểu tính cân bằng của cây sau khi quay ta xét hai trường hợp con </s> <s> có chiều cao </s> <s> trong trường hợp này sau khi quay có chiều cao và có chiều cao </s> <s> chiều cao của bằng chiều cao trước khi thực hiện phép xóa của </s> <s> do đó tính cân bằng của cây avl đã được phục hồi </s> <s> xem minh họa trong figure b </s> <s> có chiều cao </s> <s> sau khi quay có chiều cao và do đó có chiều cao </s> <s> chiều cao của nhỏ hơn chiều cao trước khi thực hiện phép xóa của một đơn vị </s> <s> do đó sau khi quay cây avl có thể bị mất cân bằng tại nút tổ tiên ancestor nào đó của </s> <s> để phục hồi lại cân bằng ta phải đệ quy trên nút tổ tiên của để thực hiện quay </s> <s> trong trường hợp xấu nhất ta phải thực hiện quay đến lần </s> <s> xem minh họa trong figure b </s> <s> vì có chiều cao  con phải của có chiều cao </s> <s> gọi </s> <s> ta có </s> <s> ta thực hiện phép quay kép phải doubly right rotation tại </s> <s> xem minh họa trong figure  </s> <s> giả mã </s> <s> code csau khi quay không khó để chứng minh rằng vì sau khi quay chiều cao của nhỏ hơn chiều cao trước khi thực hiện phép xóa của một đơn vị mất cân bằng có thể xảy ra tại nút tổ tiên của </s> <s> trong trường hợp này ta phải thực hiện đệ quy trên các nút tổ tiên của </s> <s> trong trường hợp xấu nhất ta phải quay lần để khôi phục tính cân bằng của cây </s> <s> </s> <s> a trường hợp cây con trái của có chiều cao </s> <s> b cây thu được sau khi ta quay kép phải tại </s> <s> chú ý sự thay đổi của các kí hiệu </s> <s> cây sau khi quay kép có chiều cao nhỏ hơn cây trước khi quay đơn vị do đó vẫn có khả năng mất cân bằng xảy ra tại nút tổ tiên </s> <s> giả mã đầy đủ của thủ tục xóa và cân bằng lại cây avl </s> <s> code ccode đầy đủ do mỗi phép quay đơn hoặc kép ta có thể thực hiện được trong thời gian  tổng thời gian để cây bằng lại cây là </s> <s> ta có áp dụng phép quay để cân bằng lại cây trong figure b </s> <s> </s> <s> sửa đổi lại cây ví dụ trong figure a sao cho sau khi quay cây vẫn bị mất cân bằng </s> <s> </s> <s> tìm một cấu trúc cây avl có nút sao cho khi xóa một nút khỏi cây ta phải sử dụng phép quay để khôi phục lại sự cân bằng của cây avl </s> <s>  r </s> <s> sedgewick and k </s> <s> wayne </s> <s> </s> <s> addisonwesley professional  </s> <s> </s> <s>  d </s> <s> knuth </s> <s>  third edition </s> <s> addisonwesley  </s> <s>   trackback link powered by and </s> <s> cây avl i  avl tree i </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  xem bài tiếp theo về </s> <s> trong  chúng ta đã tìm hiểu sơ bộ về cây nhị phân tìm kiếm tìm kiếm trên cây và định nghĩa hai loại cây avl và cây đỏ đen </s> <s> trong bài này ta tìm hiểu cách chèn thêm một khóa vào cây avl mà vẫn đảm bảo các tính chất của cây avl sau khi chèn </s> <s> bài tiếp theo chúng ta sẽ tìm hiểu cách xóa một nút khỏi cây avl </s> <s> một số khái niệm như chiều cao của một nút  bạn đọc xem lại </s> <s> mình chỉ nhắc lại tính chất cân bằng của cây avl ở đây </s> <s> </s> <s> trong  ta đã chứng minh rằng cây avl có nút trong sẽ có chiều cao </s> <s> ở đây ta vẫn giữ quy ước các nút lá là </s> <s> giả sử khóa ta muốn chèn vào trong cây avl là một  i </s> <s> e không có khóa nào trong cây có cùng giá trị </s> <s> điều này có thể được đảm bảo bằng cách kiểm tra xem khóa đã tồn tại trong cây hay chưa trước khi thực hiện chèn </s> <s> sau khi chèn một khóa ta phải đảm bảo hai điều kiện để đảm bảo điều kiện  ta luôn chèn một khóa mới vào vị trí sao cho nút mới chèn là nút lá của cây </s> <s> tạm thời gác lại điều kiện  giả mã chèn vào cây như sau ví dụ trong figure  dưới đây ta có một cây avl với tập khóa figure a </s> <s> ta chèn thêm khóa  vào cây trong figure a thu được cây trong figure b </s> <s> dễ dàng kiểm tra được cây trong figure b vẫn là cây avl </s> <s> ta chèn tiếp khóa  vào figure b thu được figure c </s> <s> cây trong figure c không còn là cây avl nữa vì hai nút tô màu đỏ trong cây vi phạm điều kiện trong phương trình </s> <s> </s> <s> </s> <s> a một cây avl </s> <s> node có kí hiệu lần lượt tương ứng với trường hợp chiều cao con phải chiều cao con trái chiều cao con phải chiều cao con trái  đơn vị và chiều cao con phải chiều cao con trái  đơn vị </s> <s> b cây thu được sau khi chèn khóa  </s> <s> chú ý sự thay đổi của  kí hiệu </s> <s> c cây thu được sau khi chèn thêm khóa  </s> <s> hai nút tô màu hồng và có dấu là nút bị mất cân bằng chiều cao con phải lớn hơn chiều cao con trái  đơn vị tại các nút này </s> <s> phép chèn như trên đảm bảo điều kiện  nhưng sau khi chèn cây mới có thể vi phạm điều kiện cân bằng </s> <s> ví dụ trong figure c sau khi chèn các nút đều vi phạm điều kiện cân bằng </s> <s> do đó ta cần một cơ chế để đảm bảo tính cân bằng sau khi chèn </s> <s> để hiểu các cơ chế này trước hết ta nghiên cứu cấu trúc của các nút bị mất cân bằng </s> <s> ta có nhận xét </s> <s> gọi là nút mới chèn </s> <s> gọi là nút bị mất cần bằng gần nhất </s> <s> gọi là chiều cao của nút trước khi chèn </s> <s> không mất tính tổng quát ta giả sử được chèn vào của </s> <s> ta có </s> <s> gọi là nút con phải của </s> <s> theo observation  </s> <s> bổ đề sau cho chúng ta biết cấu trúc của cây tại nút </s> <s> </s> <s> giả sử < </s> <s> nếu được vào cây con phải của thì nút sẽ bị mất cân bằng trái với giả thiết là nút mất cân bằng gần nhất </s> <s> nếu được chèn vào cây con trái của thì chiều cao của không thay đổi sau khi chèn </s> <s> như vậy sẽ không bị mất cân bằng </s> <s> trái với giả thiết bị mất cân bằng </s> <s> trường hợp < chứng minh tương tự </s> <s> ta xét hai trường hợp </s> <s> xem minh họa trong figure a </s> <s> trường hợp này ta thực hiện left rotation tại  ta gán con trái của làm con phải của và gán làm con trái của và cho nút cha của trỏ vào </s> <s> xem minh họa trong figure b </s> <s> </s> <s> </s> <s> a nút bị mất cân bằng lệch về bên phải sau khi chèn vào cây con phải của </s> <s> b phép quay trái tại để thự hiện cân bằng </s> <s> chú ý chiều cao của và sự thay đổi các kí hiệu sau khi quay </s> <s> ta cógiả mã </s> <s> code cgọi là nút con trái của </s> <s> lập luận tương tự như lemma  ta có </s> <s> xem minh họa lemma  trong figure a </s> <s> như vậy sau khi chèn  cây con trái hoặc phải của sẽ có chiều cao  tùy thuộc bị chèn vào cây con nào </s> <s> trong trường hợp này ta thực hiện phép doubly left rotation tại như sau a gán con trái của làm con phải của  b gán con phải của làm con trái của  c gán làm con trái của và d gán làm con phải của </s> <s> xem minh họa trong figure b </s> <s> </s> <s> a nút bị mất cân bằng lệch về bên phải sau khi chèn vào cây con trái của </s> <s> trong hình trên ta giả sử được chèn vào cây con trái của </s> <s> nếu được chèn vào cây con phải của thì thao tác quay vẫn không thay đổi </s> <s> b phép quay kép trái tại để thự hiện cân bằng </s> <s> chú ý chiều cao của và sự thay đổi các kí hiệu sau khi quay </s> <s> giả mã thủ tục chèn đầy đủ như sau giả mã của và coi như bài tập cho bạn đọc </s> <s> code đây đủ thủ tục chèn trong c cám ơn bạn nam nguyen đã chỉ ra một số lỗi sai rất tinh vi trong phiên bản trước của bài vết </s> <s> code đầy đủ </s> <s>  g </s> <s> adelsonvelsky and e </s> <s> landis </s> <s> </s> <s> proceedings of the ussr academy of sciences in russian </s> <s>  – </s> <s> english translation by myron j </s> <s> ricci in soviet math </s> <s> doklady –  </s> <s> </s> <s>  d </s> <s> knuth </s> <s> </s> <s> addisonwesley  </s> <s> trackback link powered by and </s> <s> cây nhị phân cân bằng  balanced binary search tree </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  xét bài toán sau </s> <s> có  cách mà ta nghĩ đến ngay i dùng mảng để biểu diễn hoặc ii dùng </s> <s> cách ii có lẽ không phù hợp vì thao tác access k mất thời gian nếu như có phần tử </s> <s> với cách i ta có thể giải quyết thao tác access k bằng cách duy trì một mảng đã sắp xếp và sử dụng </s> <s> tuy nhiên ta lại gặp vấn đề với hai thao tác sau </s> <s> trong bài này ta sẽ tìm hiểu cấu trúc cây nhị phân tìm kiếm cân bằng blanched binary search tree để biểu diễn </s> <s> với cấu trúc này ta có thể thực hiện mỗi thao tác trên trong thời gian </s> <s> cây có thể coi là một đồ thị đơn không có chu trình </s> <s> ta thường chỉ định một nút đặc biệt trong cây kí hiệu  mà ta gọi là của cây </s> <s> các nút có bậc  chỉ kề với một cạnh trong cây ngoại trừ nút gốc được gọi là các nút lá leaf node </s> <s> nút không phải là nút lá ta gọi là của cây internal node </s> <s> với mỗi cạnh nối hai nút và  nút nào gần gốc hơn thì ta gọi nút đó là của nút còn lại </s> <s> ta dùng để kí hiệu nút cha của một nút </s> <s> chú ý gốc không có nút cha và ta gán </s> <s> ta gọi là nút con của nút </s> <s> một cây được gọi là nếu với mỗi nút trong có hai nút con </s> <s> thông thường ta biểu diễn một cây nhị phân như figure a </s> <s> cây trong khoa học máy tính thường được biểu diễn ngược với cây trong tự nhiên gốc ở trên còn lá ở dưới </s> <s> đôi khi ta định hướng cạnh từ nút cha tới nút con hoặc ngược lại để quan hệ chacon trực quan hơn </s> <s> từ đây về cuối bài ta sử dụng khái niệm cây để ám chỉ cây nhị phân vì ta chỉ tìm hiểu cây nhị phân trong bài này </s> <s> ta sử dụng cây để tổ chức dữ liệu bằng cách chèn các phần tử dữ liệu vào mỗi nút của cây và mỗi nút của cây được gán một khóa </s> <s> khóa không nhất thiết phải khác nhau tuy nhiên để trình bày đơn giản ta sẽ giả sử khóa của các nút đôi một khác nhau </s> <s> để hỗ trợ tìm kiếm ta thường tổ chức dữ liệu trên cây sao cho khóa của của nút cha lớn hơn khóa của nút con trái và nhỏ hơn khóa của nút con phải </s> <s> ta gọi tính chất này là tính chất và gọi cây nhị phân như vậy là </s> <s> figure b minh họa một cây nhị phân tìm kiếm </s> <s> </s> <s> </s> <s> a một cây nhị phân và b một cây nhị phân tìm kiếm nhắc lại ta sẽ dùng để kí hiệu nút cha của trong cây </s> <s> ta dùng và lần lượt để kí hiệu nút con trái và nút con phải của nút </s> <s> các giá trị này sẽ là nếu không có con trái hoặc con phải </s> <s> ta sử dụng để kí hiệu khóa của nút </s> <s> khi lập trình ta có thể lưu con trỏ cho mỗi nút </s> <s> tuy nhiên đa phần các cấu trúc cây nhị phân không cần đến trường này mà ta chỉ lưu con trỏ của  nút con và </s> <s> việc tiết kiệm con trỏ không chỉ vấn đề bộ nhớ mà còn tiết kiệm được cả thời gian cập nhật con trỏ này </s> <s> trong bài này mình sẽ không sử dụng con trỏ trong giả mã mà chỉ dùng nó như một kí hiệu tới nút cha trong chứng minh </s> <s> giả sử ta đã có một cây nhị phân tìm kiếm để biểu diễn  với khóa của mỗi nút là một số nguyên trong </s> <s> sử dụng tính chất tìm kiếm quan hệ giữa khóa của cha và hai nút con ta có thể thực hiện tìm kiếm như sau tạm thời gác lại hai thao tác chèn và xóa </s> <s> liệu thao tác access k với biểu diễn cây nhị phân tìm kiếm như trên có hiệu quả figure  cho ta câu trả lời là không </s> <s> trong trường hợp xấu nhất ta phải trả thời gian để tìm kiếm một nút lá của cây nếu như cấu trúc cây trong giống một đường đi đơn path như figure  </s> <s> </s> <s> một cây nhị phân tìm kiếm với độ sâu  </s> <s> ta có thể mở rộng ra cây nhị phân tìm kiếm có độ sâu </s> <s> do đó ta cần một cách tổ chức cây sao cho đường đi từ gốc của cây đến một nút lá bất kì đều không quá dài i </s> <s> e </s> <s> từ đó ta có khái niệm cây cân bằng là cây có độ sâu depth không quá lớn </s> <s> ta định nghĩa của một nút  kí hiệu  là độ dài là độ dài số cạnh trên đường đi duy nhât từ gốc đến nút </s> <s> của cây kí hiệu  được định nghĩa là độ sâu lớn nhất trong số các nút lá của cây </s> <s> theo định nghĩa độ sâu của nút gốc là </s> <s> một khái niệm tương tự độ sâu là height </s> <s> chiều cao của mọi nút lá là và chiều cao của một nút trong được định nghĩa từ nút con của nó như sau chiều cao của cây kí hiệu  được định nghĩa là chiều cao của nút gốc </s> <s> từ định nghĩa của chiều cao và độ sâu ta suy ra bạn đọc cần phân biệt rõ hai khái niệm chiều cao và độ sâu </s> <s> độ sâu được định nghĩa từ gốc xuống lá còn chiều cao được định nghĩa từ lá lên gốc </s> <s>  để dễ dàng trong việc phân tích cấu trúc cây ta sẽ giả mọi nút có chứa dữ liệu kể cả lá có hai nút con </s> <s> điều này có thể được đảm bảo bằng cách thêm  nút vào mỗi nút lá và thêm  nút vào mỗi nút trong nếu nút trong đó có đúng  nút con </s> <s> xem minh họa trong figure a </s> <s> theo quy ước trên mọi nút lá của cây là </s> <s> có nhiều cách để định nghĩa cây cân bằng cân bằng theo chiều cao cân bằng theo trọng số cân bằng theo hạng rank nhưng mục tiêu chung là đảm bảo độ sâu của cây là </s> <s> mỗi cách định nghĩa cân bằng thường tương ứng với một cách thực thi riêng </s> <s> tìm một cách định nghĩa cân bằng để cân bằng giữa các yếu tố độ sâu bộ nhớ và tính đơn giản trong thực thi vẫn đang là một chủ đề nghiên cứu hiện nay </s> <s> dưới đây mình giới thiệu loại cây cân bằng phổ biến cây avl và cây đỏđen redblack tree </s> <s> được phát triển bởi adelsonvelsky và landis  sử dụng chiều cao height làm tiêu chuẩn cân bằng </s> <s> </s> <s> trong bài sau ta sẽ tìm hiểu cách thức thực thi để đảm bảo tính chấ ttrong phương trình </s> <s> một số tính chất của cây avl ta sẽ nghiên cứu ở đây </s> <s> đầu tiên là chiều cao của cây avl </s> <s> theo quy ước mọi nút lá là và có chiều cao  </s> <s> do đó mọi nút trong đều có chiều cao dương </s> <s> với  và </s> <s> </s> <s> </s> <s> bằng quy nạp chi tiế tcoi như bài tập cho bạn đọc ta có thể chứng minh được một cây avl chiều cao có không quá nút trong </s> <s> từ đó ta suy ra cận dưới </s> <s> để chứng minh cận trên ta cần phải xét xem một cây avl chiều cao có bao nhiêu nút trong </s> <s> phương pháp chứng minh dưới đây được đề xuất bởi knuth  trang  </s> <s> gọi là cây avl chiều cao có số nút trong ít nhất trong số các cây avl chiều cao </s> <s> gọi là số nút của </s> <s> theo  ta có thể giả sử cây con trái của gốc có chiều cao và cây con phải của gốc có chiều cao tại sao ta có thể giả sử như vậy </s> <s> từ đó ta có công thức truy hồi và </s> <s> nếu đặt  ta có và </s> <s> đây chính là  kí hiệu  dịch sang trái  đơn vị </s> <s> do đó bằng một vài biến đổi đại số nhỏ ta sẽ có dpcm </s> <s> trong thực thi cây avl chúng ta cần một trường một số nguyên để lưu trữ chiều cao của mỗi nút khoảng  bít là đủ </s> <s> tùy vào ứng dụng mà số lượng bít này có thể coi là nhiều hay ít </s> <s> trong cây đỏđen dưới đây mỗi nút chỉ cần đúng  bít để duy trì thông tin cân bằng </s> <s> do đó so với cây avl cây đỏđen tiết kiệm được nhiều bộ nhớ lưu trữ hơn </s> <s> cây đỏđen được guibas và sedgewick  giới thiệu năm  </s> <s> trước hết ta định nghĩa cây đỏđen thông qua hạng rank </s> <s> cách định nghĩa này tuy chả liên quan gì đến cái tên đỏđen nhưng cho phép chứng minh một số tính chất về chiều cao trở nên đơn giản hơn sử dụng quy nạp là đủ </s> <s> sau đó ta sẽ liên hệ rank và màu sắc của nút </s> <s> một cây nhị phân tìm kiếm được gọi là cây đỏđen nếu tồn tại một hàm gán cho mỗi nút của cây một số nguyên không âm sao cho với mọi nút ví dụ một cách gán cho mỗi nút của cây ở figure b được minh họa trong figure b </s> <s> a cây nhị phân thu được sau khi thêm các nút vào cây nhị phân trong figure b để thu được cây theo quy ước </s> <s> b cây nhị phân với hàm </s> <s> số màu đỏ của mỗi nút tương ứng với rank của nút đó </s> <s> chứng minh rằng không tồn tại hàm với  tính chất kể trên cho cây trong figure a </s> <s> chú ý theo quy ước các nút lá sẽ có rank  </s> <s> việc kiểm tra hàm gán như trên thỏa mãn  tính chất coi như bài tập cho bạn đọc </s> <s> từ tính chất của rank ta suy ra các tính chất tương đương sau của màu sắc xem minh họa trong figure  </s> <s>  </s> <s> một cây đỏ đen được chuyển đổi từ cây nhị phân với hàm rank trong figure b </s> <s> số màu đỏ trên mỗi nút là rank của nút đó </s> <s> ngược lại từ một cây đỏđen với màu sắc của mỗi nút ta có thể suy ngược lại hàm rank bằng cách gán cho các nút lá rank  và rank của các nút trong khác được suy ra bằng quy nạp từ màu sắc và rank của các nút con của nó </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> tính chất màu sắc của cây đỏ đen cho phép ta chỉ dùng  bít để lưu trữ màu sắc tại mỗi nút thay vì một số nguyên để lưu trữ giá trị height như trong cây avl tree </s> <s> cách lưu trữ này tiết kiệm được rất nhiều bộ nhớ </s> <s> cấu trúc trong java chính là sử dụng cây đỏđen </s> <s> </s> <s> ta chứng minh bằng phương pháp quy nạp </s> <s> dễ thấy theorem  đúng cho các nút lá có rank  và height  </s> <s> với nút có  theo  nút con của có hoặc </s> <s> phần còn lại của chứng minh ta sẽ xét các trường hợp và chi tiết coi như bài tập cho bạn đọc </s> <s> áp dụng theorem  cho nút gốc  ta suy ra nút gốc có chiều cao không quá và ít nhất nút con cháu </s> <s> do cây có tối đa nút trong nó có không quá nút tính cả các nút lá ta suy ra chứng minh chặt chẽ hơn ta có thể suy ra độ cao của cây là không quá </s> <s> logarithm ở đây là base  </s> <s> so với cậy avl chiều cao của cây đỏđen nói chung là lớn hơn xem lại theorem  </s> <s> tuy nhiên cây avl sử dụng nhiều bộ nhớ hơn </s> <s> trong bài sau ta sẽ thấy thực thi cây đỏđen phức tạp hơn thực thi cây avl rất nhiều </s> <s>  r </s> <s> e </s> <s> tarjan </s> <s> </s> <s> society for industrial and applied mathematics  </s> <s> </s> <s>  g </s> <s> adelsonvelsky and e </s> <s> landis </s> <s> </s> <s> proceedings of the ussr academy of sciences in russian </s> <s>  – </s> <s> english translation by myron j </s> <s> ricci in soviet math </s> <s> doklady –  </s> <s> </s> <s>  d </s> <s> knuth </s> <s> </s> <s> addisonwesley  </s> <s> </s> <s>  l </s> <s> j </s> <s> guibas and r </s> <s> sedgewick </s> <s> </s> <s> proceedings of the th annual symposium on foundations of computer science </s> <s> pp </s> <s> – </s> <s>  </s> <s>      trackback link on em chào anh ở phần đặt vấn đề problem  thì dùng hashmap được không ạ em nghĩ  thao thác tìm kiếm thêm xóa thực hiện trên hashmap đều hiệu quả </s> <s> on hi bạn </s> <s> </s> <s> great question vấn đề của một standard hashmap là bạn phải khởi tạo một map với n phần tử và sau đó không được phép thêm vào </s> <s> về mặt kĩ thuật bạn có thể thêm vào hashmap sau đó nhưng bạn sẽ không đạt được thời gian o như mong muốn nữa </s> <s> do đó hashmap chỉ phù hợp cho các bài toán mà access là thao tác chủ yếu còn delete và update là các thao tác ít khi xảy ra </s> <s> nếu cả  thao tác này xảy ra thường xuyên thì cây cân bằng là một cấu trúc phù hợp hơnhùngpowered by and </s> <s> danh sách liên kết đơn và các biến thể  singly linked list and its variants </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  danh sách liên kết dslk đơn singly linked list là một cấu trúc dữ liệu cơ bản và có cực kì nhiều ứng dụng </s> <s> ý tưởng của dslk đơn khá đơn giản </s> <s> tuy nhiên để cài đặt cấu trúc dslk đơn một cách ngắn gọn hiệu quả thì không phải là điều hiển nhiên </s> <s> trong bài này chúng ta sẽ thảo luận các cách cài đặt danh sách liên kết trong c sao cho và </s> <s> cài đặt dslk trong c không thể tránh khỏi sử dụng con trỏ pointer và struct </s> <s> con trỏ là một kiểu dữ liệu cực kì mạnh của ngôn ngữ c </s> <s> nó cho phép người lập trình thao tác bộ nhớ rất hiệu quả </s> <s> những lập trình viên giỏi luôn là những lập trình viên biết thao tác con trỏ một cách thuần thục </s> <s> tuy nhiên điểm yếu của con trỏ là khó học khó nắm bắt và cũng khó debug các chương trình có con trỏ nhất là đối với những người lần đầu tiếp xúc với khái niệm con trỏ </s> <s> trong bài này mình cũng không có gắng giải thích ý nghĩa mặc dù có nhắc lại con trỏ </s> <s> mình khuyến khích các bạn tự tìm hiểu vì có rất nhiều nguồn kể cả tiếng anh và tiếng việt </s> <s> phần cuối bài mình sẽ liên kết một số bài viết hay về con trỏ </s> <s> mục tiêu của bài này là minh họa tối đa khả năng kì diệu của con trỏ trong thao danh sách liên kết </s> <s> các bài khác trong blog mình thường minh họa bằng giả mã </s> <s> tuy nhiên bài này mình sẽ trực tiếp sử dụng code c </s> <s> một con trỏ pointer là một biến dùng để lưu trữ của một biến khác </s> <s> biến khác ở đây có thể là một biến thông thường như biến số nguyên biến số thực hoặc có thể là một mảng một hàm và có khi cũng chính là một con trỏ khác </s> <s> vì con trỏ là một biến nên nó cũng cần phải được lưu trữ ở đâu đó trong bộ nhớ có nghĩa là bản thân biến con trỏ cũng có một địa chỉ trong bộ nhớ </s> <s> do đó ta có thể dùng con trỏ đề lưu địa chỉ của một con trỏ khác </s> <s> tính chất này cũng chính là sự kì diệu của con trỏ mà mình sẽ minh họa trong bài này </s> <s> cú pháp khai báo con trỏ trong c nói một cách đơn giản nhưng không hoàn toàn chính xác gồm  phần i kiểu của biến khác mà con trỏ lưu trữ địa chỉ  dấu  và  tên của con trỏ </s> <s> con trỏ hàm thì khai báo hơi khác một chút nhưng đây không phải vấn đề trọng tâm của bài viết </s> <s> ví dụ khai báo một số con trỏkhai báo thì như vậy nhưng ý nghĩa của con trỏ thì không phải lúc nào cũng nhất quán </s> <s> ví dụ con trỏ vừa có thể hiểu là con trỏ tới một biến số nguyên vừa có thể hiểu là con trỏ tới phần tử đầu tiên của một mảng số nguyên </s> <s> struct trong c cho phép chúng ta tập hợp một hoặc một vài kiểu dữ liêu khác nhau thành một kiểu dữ liệu mới </s> <s> các kiểu dữ liệu thành phần của một struct có thể là kiểu dữ liệu sẵn có như số nguyên số thực con trỏ hoặc một kiểu struct đã định nghĩa trước đó </s> <s> tóm lại struct cho phép chúng ta gộp một số kiểu dữ liệu đã có lại với nhau để tiện thao tác </s> <s> trong dslk struct được sử dụng để khai báo một mắt xích của danh sách </s> <s> ví dụ ta muốn khai báo một mắt xích của một danh sách liên kết các biến kiểu int thì ta có thể khai báo như saubiến trong khai báo trên là dữ liệu của mỗi mắt xích và nó có kiểu int </s> <s> kiểu của còn có thể là con trỏ hay một struct </s> <s> mỗi mắt xích thường được minh họa như trong figure  trong đó mũi tên ám chỉ con trỏ lưu địa chỉ của mắt xích tiếp theo con trỏ next </s> <s> con trỏ này trong mắt xích cuối cùng của danh sách thường là </s> <s> </s> <s> </s> <s> biểu diễn một mắt xích của danh sách liên kết </s> <s> để khởi tạo một mắt xích ta sẽ dùng hàm malloc viết tắt của emory ation </s> <s> malloc là một hàm quản lí bộ nhớ của c </s> <s> bản thân hàm này cũng khá phức tạp </s> <s> bạn đọc xem thêm tại liên kết ở cuối bài </s> <s> danh sách liên kết đơn về mặt trực quan là cấu trúc dữ liệu tuyến tính giống như một cái xích dài liên kết các mắt xích với nhau </s> <s> mỗi mắt xích có dạng khai báo llnode ở trên </s> <s> figure  minh họa một danh sách liên kết với  phần tử </s> <s> </s> <s> một danh sách liên kết với  phần tử </s> <s> để theo dõi danh sách ta sẽ dùng một con trỏ đặc biệt gọi là con trỏ head </s> <s> con trỏ này lưu trữ của mắt xích đầu tiên của danh sách </s> <s> như đã nói ở trên con trỏ của mắt xích cuối cùng của danh sách sẽ có giá trị </s> <s> ta có thể duyệt qua danh sách này bằng cách bắt đầu từ phần tử đầu tiên đi theo con trỏ liên kết để đi tới nút tiếp theo </s> <s> đến khi ta gặp con trỏ thì ta đã duyệt xong danh sách </s> <s> đoạn code dưới đây là thủ tục walkdown để duyệt danh sách </s> <s> trong đoạn code trên liệu ta có bị mất con trỏ head câu trả lời là không vì mỗi lần gọi một hàm walkdown như trên một bản copy của con trỏ head sẽ được tạo ra và hàm walkdown sẽ thay đổi bản copy này </s> <s> bản gốc vẫn không thay đổi </s> <s> nếu bạn thay đổi con trỏ head trong hàm main hàm mà bạn tạo ra con trỏ này hoặc con trỏ head là một biến toàn cục thì con trỏ head sẽ bị thay đổi hay bị mất </s> <s> điều gì sẽ xảy ra nếu như ta làm mất con trỏ head bạn sẽ mất dấu của danh sách và do đó sẽ không thể thao tác được với danh sách nữa </s> <s> phần bộ nhớ của danh sách lúc này sẽ vẫn bị chiếm bởi danh sách do đó tạo ra rác garbage trong hệ thống </s> <s> phần rác này tồn tại cho đến khi chương trình kết thúc </s> <s> bài học rút ra khi nào bạn không còn cần danh sách nữa thì sử dụng hàm free để giải phóng bộ nhớ đừng bao giờ để mất dấu con trỏ head vì nó sẽ tạo ra rác </s> <s> khi thêm phần tử mới vào danh sách nếu bài toán không có yêu cầu gì đặc biệt thì bạn nên của danh sách </s> <s> nếu bạn thêm vào đuôi của danh sách theo tư duy thông thường thì ngoài phải trả thêm bộ nhớ để lưu trữ con trỏ đuôi của danh sách nếu không lưu con trỏ này thì sẽ phải duyệt rất tốn thời gian bạn phải xét trường hợp khi danh sách rỗng con trỏ đuôi là  i </s> <s> e thêm ifthen trong code </s> <s> điều này làm code vừa chậm vừa tối sủa xem code ví dụ dưới đây </s> <s> tóm lại </s> <s> đoạn code sau minh họa thao tác chèn vào đầu </s> <s> rõ ràng đoạn code dưới đây đẹp hơn rất nhiều </s> <s> </s> <s> các bước chèn một mắt xích có giá trị  vào đầu dslk trong figure  </s> <s> giả sử bạn muốn xóa một mắt xích có trường dữ liệu có giá trị ra khỏi danh sách bạn có thể làm như sau xem minh họa trong figure  </s> <s> các bước xóa mắt xích có giá trị ra khỏi danh sách </s> <s> </s> <s> codeđoạn code trên chỉ minh họa ý tưởng và nó là đoạn code có bug nghĩa là nó chỉ thành công trong một số trường hợp </s> <s> điều gì sẽ xảy ra nếu ta chạy đoạn code trên trong trường hợp mắt xích đầu tiên có giá trị datum khi đó đoạn code trong vòng while sẽ không thực hiện và kết quả là prev vẫn là sau vòng lặp while </s> <s> đến đây bạn có thể gặp lỗi segmentation fault </s> <s> bạn có thể sửa đổi code trên như sauđoạn code này ok có thể không có lỗi nhưng trông không được sạch sẽ và chậm vì có ifthen </s> <s> cách tốt hơn không có ifthen đó là thao tác trên </s> <s> phương pháp này minh họa cách sử dụng con trỏ rất thông minh </s> <s> hiểu đoạn code này có thể khó nhưng một khi đã hiểu thì bạn sẽ thấy cái hay của nó </s> <s> nhắc lại toán tử  là toán tử lấy địa chỉ của một biến còn toán tử  là toán tử lấy giá trị của biến có địa chỉ lưu trong con trỏ </s> <s> nhìn vào đoạn code trên sự khác biệt so với đoạn code goodbutnotcleanremove là chúng ta thao tác trên của con trỏ thay vì thao tác trên con trỏ </s> <s> đoạn code trên được sửa đổi từ </s> <s> đôi khi trong một số trường hợp ta muốn xóa một nút khỏi danh sách khi mà ta biết trước địa chỉ của nút đó </s> <s> cụ thể ta muốn đoạn code tương tự như saunếu chỉ đơn giản gán currentnode  thì đoạn code trên sẽ không thực hiện đúng như mong muốn bạn đọc nên thử và giải thích tại sao </s> <s> có hai cách để làm </s> <s> cách làm không mấy sạch sẽ là copy dữ liệu từ nút mắt xích sau đó vào nút hiện tại và ta xóa nút sau đó </s> <s> tuy nhiên cách này không áp dụng được nếu currentnode là mắt xích cuối cùng của dslk bạn đọc có thể thử để kiểm tra </s> <s> cách tốt hơn lấy ý tưởng hàm remove ở trên sử dụng địa chỉ của con trỏ ta sẽ truyên vào hàm địa chỉ của currentnode </s> <s> cách này áp dụng được ngay cả khi currentnode là mắt xích cuối cùng của dslk </s> <s> biến thể đầu tiên là dslk đôi doubly linked list trong đó mỗi mắt xích có  con trỏ </s> <s> con trỏ đầu tiên trỏ vào mắt xích trước nó trong dslk và con trỏ thứ hai trỏ vào mắt xích sau đó trong dslk </s> <s> </s> <s> một dslk đôi với  mắt xích </s> <s> dslk đôi so với dslk đơn cần nhiều bộ nhớ hơn để lưu trữ thêm một con trỏ </s> <s> các thao tác xóa và thêm mới cũng lâu hơn vì ta còn phải cập nhật cả con trỏ prev mỗi khi ta cần xóa hoặc thêm vào dslk </s> <s> về điểm mạnh dslk đôi mềm dẻo hơn vì từ một nút ta có thể đi đến nút trước nó mà không phải duyệt từ đầu dslk </s> <s> tính mềm dẻo này được knuth  khai thác triệt để trong thiết kế cấu trúc dancing links một cấu trúc dữ liệu hỗ trợ các thuật toán quay lui cho bài toán liệt kê tổ hợp </s> <s> ngoài ra ta có thể không cần con trỏ head để xác định nút đầu tiên của danh sách như dslk đơn tại sao </s> <s> nếu con trỏ head bị mất ta vẫn có thể tìm được phần tử đầu tiên của dslk nếu ta được phép truy nhập đến một phần tử bất kì của dslk </s> <s> dslk đôi cũng chính là cấu trúc đằng sau của java </s> <s> danh sách liên kết vòng circularly linked list là một biến thể khác của dslk đơn trong đó con trỏ next của mắt xích cuối cùng của danh sách trỏ vào mắt xích đầu tiên của danh sách để tạo thành một vòng tròn xem figure  </s> <s> với cấu trúc này khái niệm đầu và cuối không thực sự có ý nghĩa </s> <s> do đó ta thường chỉ lưu một con trỏ đặc biệt để trỏ vào một nút nào đó trong danh sách </s> <s> </s> <s> </s> <s> một dslk vòng với  mắt xích </s> <s> danh sách liên kết vòng thường được dùng trong các ứng dụng trong đó các thành phần tham gia được thực thi theo lượt </s> <s> ví dụ trong các game đánh bài khi mỗi người chơi được phép đi một lượt theo vòng </s> <s> một bài tập hay ứng dụng danh sách liên kết vòng là </s> <s> phần này sẽ liên tục được cập nhật </s> <s> bạn nào có tài liệu hay về con trỏ cũng như quản lí bộ nhớ thì comment xuống dưới để mình liên kết tới bạn đọc </s> <s> tutorial về con trỏ và ý nghĩa của con trỏ </s> <s> </s> <s> malloc làm việc như thế nào </s> <s> con trỏ hàm  t </s> <s> h cormen c </s> <s> e </s> <s> leiserson r </s> <s> rivest c </s> <s> stein </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s> </s> <s>  d </s> <s> e </s> <s> knuth donald e </s> <s> arxiv preprint cs/  </s> <s>      trackback link on admin cho mình hỏi nếu ta insert ở  vị trí bất kỳ nhưng không phải là ở đầu hay ở cuối thì sao  </s> <s> ví dụ </s> <s> thêm giá trị  vào vị trí  trong danh sách kiểu con trỏ l  hiện tại danh sách l có  phần tử </s> <s> on hi bạnví dụ bạn thêm vào vị trí thứ  thì bạn sẽ dùng một biến đếm i để xem bạn đã duyệt qua bao nhiêu mắt xích rồi đến khi nào i   thì bạn thêm vào sau nút hiện tại của con trỏ duyệt </s> <s> on link malloc die rồi anh ơi on ý bạn là link nào mình thấy các link mình đưa vẫn hoạt động mà </s> <s> on ý em là link malloc làm việc như thế nào anh ạ hôm qua em không truy cập được còn bây giờ lại được rồi ạpowered by and </s> <s> tính tổng tích modulo và bán tổng computing modulo sum modulo product and semisum </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  đây là bài trả lời cho bài toán bug bug bug trên mà mình post mấy hôm trước </s> <s> xin vui lòng để lại comment nếu bạn có lời giải tốt hơn mình sẽ cập nhật vào bài viết chính tất nhiên cả thông tin của tác giả </s> <s> bài toán như sau thông thường khi bạn được yêu cầu viết code cho các câu hỏi trên bạn có thể sẽ làm như sau các đoạn code này thoạt nhìn có vẻ đúng nhưng bên trong nó tiềm ẩn những lỗi nghiêm trọng </s> <s> trong hai đoạn code trả lời câu hỏi  và  lỗi cơ bản mà ta có thể gặp đó là tràn số </s> <s> ví dụ thì tổng và tích không còn có thể biểu diễn được bằng kiểu nữa </s> <s> trong đoạn code cho câu hỏi  ngoài lỗi tràn số kết quả trả về sẽ bị sai khi < </s> <s> ví dụ  đoạn mã sẽ trả về thay vì </s> <s> một nhận xét đơn giản mà ta dễ thấy đó là kết quả đầu ra của các câu hỏi trên có thể biểu điên được bằng kiểu </s> <s> tuy nhiên khi bạn nghĩ sâu hơn về làm thể nào để tránh tràn số bạn sẽ thấy trả lời câu hỏi này một cách trọn vẹn không hề đơn giản </s> <s> ngược lại với bài toán tổng modulo bài toán hiệu modulo có thể tính được dễ dàng mà không sợ tràn số </s> <s> ta có thể giả sử đều nhỏ hơn bằng cách lấy mod trước khi tính hiệu </s> <s> hiệu số luôn có thể biểu diễn được bằng kiểu int </s> <s> do đó nếu  ta tính tính </s> <s> nếu <  ta sẽ tính </s> <s> chú ý ở đây ta giả sử a b đều nhỏ hơn  do đó < </s> <s> code bài toán tổng modulo có thể quy về hiệu modulo bằng mẹo sau trước khi ta chuyển về tính hiệu ta đảm bảo đều nhỏ hơn bằng cách lấy modulo </s> <s> code </s> <s> tính tích  ta sử dụng ý tưởng trong bài tính lũy thừa </s> <s> ta sẽ gọi đệ quy để tính và sử dụng thủ tục tính tổng modulo để tính tổng </s> <s> code thủ tục đệ quy có độ sâu </s> <s> mỗi lần gọi đệ quy ta mất thao tác bít để tính từ kết quả của lời gọi đệ quy </s> <s> do đó tổng số thao tác bít là nếu tràn số không xảy ra thủ tục semisum ở phần giới thiệu sẽ trả lại kết quả đúng nếu và trả lại nếu ngược lại </s> <s> ta sẽ sử dụng công thức cơ bản sau để biến đổi nửa tổng về dạng mà ta có thể tính đơn giản được trường hợp khác dấu tràn số sẽ không bao giờ xảy ra </s> <s> do đó ta chỉ cần kiểm tra xem nếu  ta sẽ áp dụng thủ tục semisum và áp dụng nếu ngược lại </s> <s> trường hợp cùng dấu ta giả sử </s> <s> ta có do  phần nguyên theo  có thể tính như trong semisum mà không lo tràn số vì cùng dấu </s> <s> code code ở trên ta sử dụng phép xor  để kiểm tra xem hai số có cùn dấu hay không </s> <s> hai số nguyên cùng dấu khi và chỉ khi  ở đây là phép xor bit </s> <s> code ở trên chỉ mang tính minh họa </s> <s> để code hiệu quả hơn ta có thể thay thế một số thao tác đại số kể cả lệnh rẽ nhánh if then bằng các thao tác bít </s> <s> ví dụ   </s> <s> </s> <s> </s> <s> </s> <s> xem thêm tại bài các </s> <s> code đầy đủ </s> <s> </s> <s>  ruggieri salvatore </s> <s> information processing letters  </s> <s>    </s> <s>  trackback link powered by and </s> <s> các kĩ thuật xử lí bít i bitwise tricks i </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  như donald knuth  đã nói thao tác với bít là một thành phần không thể thiếu trong toolkit của các lập trình viên tốt </s> <s> trong bài này chúng ta sẽ tìm hiểu tại sao thao tác với bít lại quan trong như vậy </s> <s> sử dụng thao tác bít chúng ta có thể thực hiện nhiều thứ rất ảo bằng một vài câu lệnh đơn giản </s> <s> xét một ví dụ đơn giản sau cho một số nguyên  bít không dấu  kiểm tra xem có phải là một lũy thừa của  hay không i </s> <s> e kiểm tra xem có tồn tại một số sao cho  có lẽ một số trong chúng ta sẽ tiếp cận như sau với mỗi  ta tính và so sánh với  </s> <s> tất nhiên bạn có thể thêm một vài heuristic để thuật toán nhanh hơn còn về mặt ý tưởng thì là như vậy </s> <s> tuy nhiên nếu bạn biết xử lí bít thì hàm trên có thể được thực hiện nhanh và ngắn gọn như sau </s> <s> code ctrong đó là phép and </s> <s> hi vọng ví dụ trên đủ để thuyết phục bạn rằng nắm chắc các kĩ thuật xử lí bít là một điều không thể thiếu trong các kĩ năng của bạn </s> <s> trong các phần tiếp theo chúng ta sẽ tìm hiểu tại sao thuật toán là đúng </s> <s> ta sẽ kí hiệu số nguyên có dấu là và số nguyên không dấu là trong đó là số bít </s> <s> ví dụ số nguyên  bít không dấu là và số nguyên  bít có dấu là </s> <s> các thao tác bít cơ bản và kí hiệu toán học dùng trong các bài viết này được cho bởi bảng dưới các ngôn ngữ lập trình thường cung cấp  phép shift right là logical shift right và arithmetic shift right </s> <s> sự khác nhau nằm ở chỗ bít dấu sẽ được shift như thế nào </s> <s> trong logical shift right kí hiệu  bít dấu không được giữ nguyên khi shift trong arithmetic shift right kí hiệu  bít dấu sẽ được shift lan về bên phải khi shift </s> <s> hai ví dụ cuối cùng trong bảng trên của hàng shift right minh họa cho sự khác nhau này </s> <s> nếu số được shift là số không dấu thì arithmetic shift right và logical shift right là như nhau </s> <s> một số ngôn ngữ có hai phép shift left là arithmetic shift left và logical shift left </s> <s> tuy nhiên trong khuôn khổ những bài viết ở đây ta chỉ xét logical shift left mà ta gọi là shift left cho ngắn gọn </s> <s> một trong những điều chúng ta phải hết sức chú ý đó là của các thao tác </s> <s> thứ tự thông thường như sau not > nhân chia > cộng trừ > shift left shift right > and > xor > or một số tính chất của các thao tác như sau </s> <s> các tính chất không quá khó để chứng minh </s> <s> do các thao tác áp dụng kiểu bitwise không có nhớ để chứng minh ta chỉ cần kiểm tra các thao tác trên đúng với trường hợp chỉ có  bít </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> chú ý có biểu diễn nhị phân là chỉ gồm các bít  </s> <s> tính chất  không dấu được suy ra từ định nghĩa của các phép shift </s> <s> ta dễ thấy  từ đó suy ra thay bởi  ta cũng suy ra kết hơp ta có </s> <s> bằng phép quy nạp ta suy ra trong các ví dụ dưới đây các giá trị boolean true/false sẽ được coi là các giá trị </s> <s> cho hai số nguyên kiểu  trả về nếu khác dấu và  nếu ngược lại </s> <s> các thủ tục dưới đây thực hiện hàm này </s> <s> tính đúng đắn coi như bài tập cho bạn đọc </s> <s> code ctính giá trị tuyệt đối của số nguyên có độ dài bít </s> <s> code cchứng minh trả lại giá trị tuyệt đối của coi như bài tập cho bạn đọc </s> <s> ta sẽ chứng minh thủ tục là đúngchứng minh đúng tương tự như chứng minh đúng </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> giả sử ta có một số nguyên có dấu độ dài bít ta muốn mở rộng bít thứ của ra thành bít dấuví dụ  giá trị sau khi mở rộng là </s> <s> ví dụ khác  giá trị sau khi mở rộng là </s> <s> ta có thể làm như sau code cta sẽ chứng minh đúng </s> <s> các thủ tục khác chứng minh tương tự </s> <s> gọi với và </s> <s> ta cần chứng minh thủ tục sẽ trả về nếu và nếu </s> <s> thật vậy sau khi đã xóa bít đầu tiên lệnh  ta có </s> <s> nếu  ta suy ra và thủ tục sẽ trả lại </s> <s> nếu  ta có và </s> <s> do đó thủ tục trả lại </s> <s> một trong những thủ tục trong các thuật toán sắp xếp là đổi chỗ hai biến </s> <s> thông thường ta sẽ dùng một biến trung gian để lưu một trong hai giá trị trong quá trình đổi chỗ </s> <s> nếu hai biến cần đổi chỗ là các số nguyên ta không cần phải sử dụng biến trung gian đó </s> <s> </s> <s> code cchứng minh tính đúng đắn coi như bài tập cho bạn đọc </s> <s> cho hai giá trị nguyên  tìm giá trị lớn nhất nhỏ nhất của hai số </s> <s> </s> <s> code ctính đúng đắn coi như bài tập cho bạn đọc </s> <s> thủ tục tính max tương tự như tính min </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> giả sử ta có một số nguyên có dấu và một biến </s> <s> nếu thì ta phải đổi dấu của </s> <s> nếu ta giữ nguyên giá trị </s> <s> </s> <s> code cta chứng minh đúng </s> <s> nếu  dễ dàng kiểm tra được thủ tục trả lại giá trị </s> <s> nếu  ta có tương tự như vậy ta có thể chứng minh được đúng </s> <s> trong phần này giả sử số nguyên có biểu diễn nhị phân như sau trong đó có thể bằng </s> <s> ta dễ dàng suy ra từ đó suy ra </s> <s> ta lại thu được các đẳng thức ở trên </s> <s> một số thao tác với bít  tận cùng bên phải quan trọng nên nhớ các mặt nạ thần kì magic mask được sử dụng rất rất nhiều trong các thủ tục thao tác bít </s> <s> các mặt nạ thần kì được định nghĩa như sau về mặt toán học là khai triển nhị phân của do ở đây bạn đọc chỉ cần nhớ gồm mỗi dãy lặp lại số liên tiếp sau đó là số  liên tiếp </s> <s> thủ tục ở trên kiểm tra xem có tồn tại sao cho hay không dễ thấy nếu thì có đúng  bít  </s> <s> theo  sẽ xóa bít  tận cùng bên phải </s> <s> do đó trả về  khi và chỉ khi và với một số nào đó </s> <s> </s> <s> cho một số nguyên không dấu đếm số bít của </s> <s> ta có thể thực hiện sử dụng thao tác bít trong đó là số bít biểu diễn của như sau </s> <s> code csử dụng thuật toán trên trong trường hợp có bít cần khoảng phép tính </s> <s> để tăng tốc thuật toán ta sẽ sử dụng một bảng  gọi là bảng nhớ để tính trước </s> <s> giả sử ta có bảng trong đó nếu trong biểu diễn nhịn phân cuả có bít  </s> <s> nếu bảng đã được tính sẵn ta có thể đếm số bít  của trong  phép tính như sau </s> <s> code ctrong trường hợp số lượng bít  của không nhiều ta có thể sử dụng </s> <s> cụ thể nếu có bít  thì ta chỉ cần phép tính </s> <s> code cchứng minh thủ tục đúng coi như bài tập cho bạn đọc </s> <s> cho một số nguyên  gọi là số lượng bít  cuối cùng trailing zeros của </s> <s> tính </s> <s> ví dụ  ta có </s> <s> dễ thấy nếu lẻ thì </s> <s> ta có công thức đệ quy sau của  trong đó là số bít biểu diễn của </s> <s> cách đầu tiên ta có thể nghĩ đến là duyệt các bít của từ trái sang phải để đếm số lượng bít  cho đến khi ta bắt gắp bít  đầu tiên thì dừng </s> <s> cách này cần khoảng phép tính trong đó là số lượng bít  cuối cùng </s> <s> trong trường hợp tồi nhất đếm số bít  cuối cùng cuả số nguyên không dấu  bít cần hơn  phép tính </s> <s> có thể tăng tốc thuật toán này bằng cách sử dụng bảng nhớ như trên </s> <s> cách khác ta có thể nghĩ tới là sử dụng chia để trị để tìm bít  phải nhất </s> <s> cách này áp dụng cho mọi số nguyên  bít sử dụng  phép tính </s> <s> </s> <s> code ctính đúng đắn coi như bài tập cho bạn đọc </s> <s> ngoài ra ta có thể sử dụng mặt nạ thần kì để tính </s> <s> nhận thấy nếu với một số nào đó thì trong đó hàm nếu là true và nếu ngược lại </s> <s> do đó để áp dụng  ta sẽ áp dụng trước để xóa hết các bít  bên trái của bít  cuối cùng </s> <s> nếp áp dụng phương pháp này cho số nguyên có bít thì mất cỡ  phép tính </s> <s> giả mã như sau code ccho số nguyên  ví dụ bít  đảo ngược biểu diễn nhị phân của  i </s> <s> e trả lại </s> <s> cách đơn giản nhất là copy các bít của sang một số theo thứ tự đảo ngược </s> <s> cách này mất phép tính trong đó là vị trí của bít  tận cùng bên trái của </s> <s> do đó khi áp dụng cho số  bít trong trường hợp xấu nhất tổng số thao tác ta cần sử dụng là hơn  phép tính </s> <s> </s> <s> code ctrong bài toàn này ta cũng có thể áp dụng chia để trị </s> <s> ví dụ với có  bít như trên ta có thể đảo ngược các bít của trong  bước như sau để thực hiện bước  ta sẽ làm như sau tương tự như vậy các bước tiếp theo ta thực hiện với mặt nạ thần kì </s> <s> giả mã với là số nguyên  bít không dấu như sau code cdễ thấy sử dụng các mặt nạ thần kì ta có thể đảo bít số nguyên  bít trong phép tính và số nguyên  bít trong  phép tính </s> <s> chứng minh tính đúng đắn của thủ tục trên coi như bài tập cho bạn đọc </s> <s> trong ví dụ tiếp theo ta sẽ áp dụng phương pháp đổi chỗ hai bít để đảo bít số nguyên  bít sử dụng  phép tính </s> <s> cho số nguyên không dấu  đổi chỗ hai bít và của  <  </s> <s> đặt  ta tiến hành đổi chỗ như sau </s> <s> code ctrong giả mã trên bước đầu tiên ta tách ra khỏi và đặt vào vị trí thứ </s> <s> sau đó ta tách ra khỏi và đặt vào bít thứ </s> <s> mặt nạ ở trên có tất cả các bít là  ngoại trừ bít thứ và </s> <s> suy ra sẽ thiết lập bít và về  </s> <s> như vậy kết quả cuối cùng sẽ là </s> <s> chú ý trong ví dụ đổi chỗ hai số nguyên không dùng biến thứ  ta sử dụng phép xor </s> <s> ở bài toán này ta có thể thực hiện ý tưởng tương tự </s> <s> </s> <s> code cđầu tiên ta tính và đưa kết qủa vào vị trí thứ </s> <s> sau đó đổi thành và thành </s> <s> dễ thấy cách này sử dụng ít thao tác bít hơn cách ở trên </s> <s> ý tưởng của thuật toán còn có thể được dùng để đổi chỗ vài cặp bít cùng một lúc giống như cách chúng ta đảo bít ở trên </s> <s> thông thường để thực hiện đảo nhiều cặp bít ta sẽ dùng mặt nạ thay vì như trên </s> <s> ta sẽ gọi thủ tục này là swap </s> <s> sử dụng swap ta có thể thực hiện đảo bít số nguyên  bít không dấu trong  phép tính thay vì  như sau chi tiết chứng minh tính đúng đắn của thuật toán trên coi như bài tập cho bạn đọc </s> <s> code  donald e </s> <s> knuth </s> <s> </s> <s> addisonwesley professional  </s> <s> </s> <s>  </s> <s>  warren henry s </s> <s> </s> <s> pearson education  </s> <s>   powered by and </s> <s> bloom filter </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  xét bài toán cơ bản sau hai yếu tố quan trọng khi thiết kế một cấu trúc dữ liệu để trả lời câu hỏi trên bộ nhớ để lưu trữ cấu trúc phải đủ nhỏ vì s rất lớn và các truy vấn có thể được trả lời một cách nhanh chóng </s> <s> chú ý lưu trữ s cần ít nhất omeganlog n bít tại sao lại có thêm nhân tử log n ở đây </s> <s> bloom  đề xuất một cấu trúc gọi là bloom filter sử dụng on bít và có thể trả lời truy vấn trong thời gian o </s> <s> bài này ta sẽ tìm hiểu cấu trúc đó </s> <s> problem  cơ bản tới mưc gần như nó xuất hiện gần như khắp mọi nơi đặc biệt trong thời đại dữ liệu lớn big data </s> <s> trang liệt kê rất nhiều ứng dụng của bloom filter trong các hệ thống lớn hiện tại mà bạn đọc có thể tham khảo </s> <s> ví dụ sử dụng bloom filter để loại ra các bài mà một user đã đọc khi muốn gợi ý các bài mới cho user đó </s> <s> bài này mình chủ yếu tập trung trình bày ý tưởng và dựa trên chương  trong cuốn sách kinh điển của mitzenmacher và upfal  một trong những cuốn sách yếu thích của mình </s> <s> về mặt ý tưởng cấu trúc bloom filter rất đơn giản tất cả những thứ không đơn giản lại nằm ở phép phân tích </s> <s> gọi n là số phần tử trong s </s> <s> bloom filter sử dụng một mảng m bít aldots m và k mathcalh  h </s> <s>  ldots hk </s> <s>  </s> <s> ban đầu các bít đều có giá trị  ai   với mọi i ta nói các bít bị tắt </s> <s> giả sử đầu ra của các hàm băm khi áp dụng cho một đầu vào x là một chỉ số trong tập ldots m </s> <s> với mỗi s in s ta sẽ bật k bít ở k vị trí hs ldots hks trong mảng a k vị trí này không nhất thiết là đôi một khác nhau </s> <s> giả mã như sau </s> <s> để kiểm tra xem một phần tử x có trong s hay không ta sẽ kiểm tra k vị trí hx ldots hkx của mảng a </s> <s> nếu tất cả k vị trí này đều là  ta sẽ kết luận x có trong s </s> <s> ngược lại ta kết luận x không có trong s </s> <s> dễ thấy nếu x in s thì bloom filter luôn trả lời đúng </s> <s> tuy nhiên nếu x không nằm trong s thì có thể k bít của a tương ứng với k mã băm của x đều đã được bật trước đó </s> <s> trong trường hợp này bloom filter sẽ cho câu trả lời sai </s> <s> ta gọi đó là hiện tượng false positive fp </s> <s> </s> <s> ví dụ một bloom filter với mathcalh có  hàm băm </s> <s> phần tử a không có trong s vì có  bít trong a có giá trị  khi ta kiểm tra  vị trí tương ứng với đầu ra của  hàm băm khi áp dụng trên a </s> <s> phần tử b không có trong s nhưng bloom filter vẫn trả lời là có trong s do  vị trí tương ứng với đầu ra của  hàm băm khi áp dụng trên b đều có giá trị  hiện tượng fp xảy ra với b </s> <s> câu hỏi đặt ra là cần chọn m và k như thế nào để xác suất fp là thấp nhất </s> <s> hay câu hỏi thú vị và quan trọng hơn là phần tiếp theo ta sẽ chứng minh từ theorem  ta có hệ quả trong các phát biểu trên ta giả sử km đều là các số nguyên </s> <s> theorem  ngoài cho phép ta kiếm soát được xác suất fp corollary  còn cho phép chúng ta thấy được sự thay đổi của xác suất fp khi ta tăng/giảm bộ nhớ của bloom filter </s> <s> nếu chọn m  n có nghĩa là ta sử dụng trung bình  bít cho mỗi phần tử của tập s thì xác suất fp chỉ khoảng  </s> <s> chú ý kích thước của mỗi phần tử của tập s ít nhất là omegalog n bít và trong thực tế lớn hơn  bít rất nhiều </s> <s> với mọi i ta giả sử xác suất hàm băm hi </s> <s>  sẽ băm x vào một ô cố định j in ldots m là /m </s> <s> ta sẽ sử dụng phương pháp phân tích ngược backward analysis để chứng minh theorem  </s> <s> giả sử x notin s </s> <s> fp xảy ra khi tất cả k ô hx ldotshkx  của mảng a đều bị bật </s> <s> để đơn giản ta sẽ tính xác suất ahx và giả sử k sự kiện các k ô bị bật là độc lập với nhau đây là một giả sử không đúng nhưng nó sẽ làm phép phân tích đơn giản hơn xem thêm thảo luận bên dưới </s> <s> nếu phân tích xuôi s được băm trước x và ta sẽ tìm xác suất để hàm h </s> <s>  băm x vào một ô đã bị bật trước đó hay chưa </s> <s> tuy nhiên ta không biết được bao nhiêu ô đã bị bật nên việc tính xác suất theo phân tích xuôi khá khó khăn </s> <s> trong phép phân tích ngược ta sẽ giả sử khóa x sẽ được băm vào bảng a ta băm s </s> <s> sau đó ta sẽ tính xác suất mà một phần tử s nào đó của s bị băm vào ô hx </s> <s> đó cũng chính là xác suất ahx </s> <s> dễ thấy xác suất mỗi lần băm một phần tử s in s không vào ô hx là /m </s> <s> do mỗi phần tử của s được băm k lần xác suất để kn lần băm không trúng ô hx là fracmkn qquad  do đó xác suất để ít nhất  lần trong kn lần băm trúng phải ô hx là fracmkn qquad  do ta giả sử sự kiện k ô hx ldotshkx  bị bật là độc lập theo  xác suất để xảy ra fp là fracmknk qquad  áp dụng xấp xỉ   /mmsim e ta có thể biến đổi  về dạng ekfracnmk qquad  giờ ta sẽ tìm k để  nhỏ nhất </s> <s> đặt p    ekfracnm ta có thể biến đổi  về dạng elnplnp fracmn qquad  dễ thấy  cực tiểu khi và chỉ khi p  / lúc đó ta sẽ suy ra các giá trị của k như trong theorem  </s> <s> như đã nói ở phần đầu giả sử k sự kiện k ô bị bật là độc lập với nhau là một giả sử sai vì k sự kiện này không độc lập với nhau </s> <s> tuy nhiên bằng các công cụ lý thuyết khác người ta chứng minh được cho dù không có giả thiết này thì xác suất fp cũng xấp xỉ như công thức  </s> <s> ssách của mitzenmacher và upfal  giới thiệu phương pháp xấp xỉ posison </s> <s> một số nguồn tham khảo khác cho vấn đề này bạn đọc có thể xem tại </s> <s> trước hết nếu nói đến cấu trúc tìm kiếm nhanh một phần tử trong một tập hợp ta thường sử dụng hash table tldots m có kích thước m </s> <s> trong cấu trúc bảng băm ta chỉ sử dụng một hàm băm h </s> <s>  </s> <s> tuy nhiên do s quá lớn ta không thể lưu trữ s trong bảng </s> <s> thay vào đó ta có thể chỉ dùng  bít để đánh dấu xem một ô của bảng có rỗng hay không </s> <s> do đó bloom filter có thể coi là một cấu trúc tổng quát hơn bảng băm bằng cách dùng nhiều hàm băm thay vì dùng một hàm băm duy nhất </s> <s> câu hỏi đặt ra là nếu ta chỉ dùng  hàm băm k   để xác suất fp không quá epsilon thì số lượng bít m trong bảng là bao nhiêu đây là một bài tập rất hay mà mình khuyến khích các bạn thử suy nghĩ và giải </s> <s> số lượng bít cần thiết là m fracnlnepsilonsim fracnepsilon qquad  so với biểu thức trong corollary  thì sự phụ thuộc của m vào epsilon khi sử dụng bloom filter tốt hơn lũy thừa lần khi sử dụng bảng băm </s> <s> survey của luo guo ma rottenstreich và luo  có thông tin về rất nhiều loại bloom filter </s> <s> nếu bạn cần một trong số ứng dụng hoặc biến thể nào đó có bloom filter thì paper này là một điểm khởi đầu </s> <s>  b </s> <s> h </s> <s> bloom </s> <s> communications of the acm  </s> <s>    </s> <s> </s> <s>  m </s> <s> mitzenmacher and e </s> <s> upfal </s> <s> chapter  </s> <s> cambridge university press  </s> <s> </s> <s>  l </s> <s> luo d </s> <s> guo r </s> <s> t </s> <s> b </s> <s> ma o </s> <s> rottenstreich and x </s> <s> luo </s> <s> </s> <s> arxiv accessed // </s> <s>    trackback link powered by and </s> <s> rừng dẫn xuất trong đồ thị phẳng  induced forests in planar graphs </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  mình ở đây mình ý nói tất cả tác giả trong paper không phải chỉ có chủ thớt mới có paper mới được accept vào tạp chí về bài toán rừng dẫn xuất induced forest trong đồ thị phẳng planar graphs </s> <s> bản submit của paper chưa phải bản final sẽ link sau khi có bạn có thể tìm trong trang  một trong  tác giả của paper </s> <s> bài toán chủ đề của paper là một conjecture đề xuất bởi albertson và berman năm   </s> <s> là đồ thị mà ta có thể vẽ trên một mặt phẳng sao cho không có hai cạnh nào cắt nhau tại điểm không phải là đầu mút </s> <s> rừng forest là đồ thị có thể không liên thông không có chu trình </s> <s> xem ví dụ minh họa albertsonberman conjecture trong figure  </s> <s> </s> <s> </s> <s> a một đồ thị phẳng với  đỉnh </s> <s> nếu xóa  đỉnh tô màu hồng từ đồ thị thì ta sẽ thu được hình b một rừng hay chính xác hơn là một cây </s> <s> một phát biểu tương đương khác của conjecture trên là conjecture phát biểu khá đơn giản như vậy nhưng cho đến nay chưa ai chứng minh được nó đúng hay không </s> <s> nếu bạn muốn thử sức thì còn chở gì nữa lời giải của bài toán này chắc chắn sẽ làm bạn nổi tiếng ít nhất là trong giới lý thuyết đồ thị và có thể bạn sẽ có được ngay tấm bằng ph </s> <s> d </s> <s> trong tay </s> <s> mình chỉ có một lưu ý là nhiều người đã thử nhưng chưa có ai thành công </s> <s> paper của mình cũng không giải quyết được conjecture này mà chỉ chứng minh được nó cho một trường hợp đặc biệt đồ thị phẳng  lớp outerplanar graphs </s> <s> đồ thị phẳng một lớp outerplanar là đồ thị phẳng mà mọi đỉnh đều nằm trên biên của mặt vô hạn infinite face của đồ thị </s> <s> đồ thị hai lớp là đồ thị mà sau khi bạn xóa đi tất cả các đỉnh trên biên của mặt vô hạn bạn thu được đồ thị một lớp </s> <s> xem minh họa trong figure  </s> <s> </s> <s> a một đồ thị phẳng một lớp </s> <s> tất cả các đỉnh đều nằm trên biên của mặt vô hạn </s> <s> b một đồ thị phẳng hai lớp </s> <s> lớp ngoài cùng các đỉnh tô màu hồng là các đỉnh nằm trên biên mặt vô hạn </s> <s> sau khi xóa các đỉnh màu hồng đi thì phần còn lại là đồ thị một lớp </s> <s> chứng minh albertsonberman conjecture cho đồ thị phẳng một lớp khá dễ và thực sự ta có thể chứng minh tính chất mạnh hơn </s> <s> đây cũng chính là kết quả của hosono  </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> paper của mình như đã nói ở trên chứng minh albertsonberman conjecture cho đồ thị hai lớp </s> <s> thực ra khi mới bắt đầu mình không tìm ra cách nào để chứng minh trực tiếp conjecture trên </s> <s> sau đó mình phát hiện ra là chứng minh một tính chất mạnh hơn lại dễ hơn và mình đã thành công </s> <s> hai nói cách khác ta có thể phân hoạch tập đỉnh thành hai phần sao cho mỗi phần là một rừng dẫn xuất </s> <s> không khó để thấy albertsonberman conjecture cho đồ thị phẳng hai lớp là hệ quả của theorem  vì ít nhất một trong hai tập có không quá đỉnh </s> <s> đôi khi làm bài toán khó hơn lại trở nên dễ giải hơnphương pháp chứng minh trong paper của mình cũng không có gì cao siêu </s> <s> nó chỉ là một biến thể của phương pháp quy nạp mà bạn đã biết từ cấp  hoặc cấp  </s> <s> cái khó là tìm ra quy luật để thực hiện quy nạp </s> <s> mình vẽ đồ thị có lẽ đến chục trang giấy trước khi tìm ra quy luật </s> <s> nếu bạn tò mò thì còn chờ gì nữa mà không đọc paper luôn thôi chứng minh theorem  cho đồ thị phẳng một lớp cũng không quá khó và coi như bài tập cho bạn đọc </s> <s> có thể bạn sẽ hỏi liệu có thể tổng quát hóa theorem  từ đồ thị  lớp lên đồ thì  lớp  lớp </s> <s> </s> <s> </s> <s>  nhiều lớp được không câu hỏi rất hay nhưng rất tiếc lời giải là không </s> <s> raspaud và wang  tìm ra một đồ thị  lớp figure  mà ta thể phân hoạch nó thành hai rừng dẫn xuất được </s> <s> </s> <s> đồ thị phẳng  lớp mà ta không thể phân hoạch được thành hai rừng dẫn xuất </s> <s> hình được lấy từ paper của raspaud và wang  </s> <s> tác giả trong paper ngoài mình chủ thớt và advisor của mình glencora borradaile người thứ ba là melissa </s> <s> tại thời điểm bắt đầu nghiên cứu về bài toán này melissa mới chỉ là một sinh viên đại học undergraduate student và là một bạn nữ </s> <s> melissa là visiting student trong lab mình thông qua chương trình reu research experiences for undergraduates của quỹ khoa học quốc gia mỹ nsf </s> <s> thực sự đây là một chương trình rất hay cho undergraduate student và nếu việt nam mình có chương trình tương tự thì quá hay </s> <s> nếu việt nam mình có mà mình không biết thì xin bạn đọc comment xuống dưới </s> <s> chương trình này là cơ hội để các sinh viên đại học tìm hiểu thế nào là research thực sự để họ có thể định hướng được sau khi tốt nghiệp có nên đi theo con đường research hay không </s> <s> nếu có định hướng nghiên cứu thì đây cũng là cơ hội để xin thư giới thiệu từ các mentor để apply các trường hàng đầu của mỹ </s> <s> như trường hợp melissa bạn ấy đã apply thành công khoa toán của đại học uc berkeley và hiện đang làm nghiên cứu tiến sĩ tại trường này </s> <s>  m </s> <s> o </s> <s> albertson and d </s> <s> m </s> <s> berman </s> <s> </s> <s> graph theory and related topics j </s> <s> a </s> <s> bondy and u </s> <s> s </s> <s> r </s> <s> murty eds </s> <s>  academic press   </s> <s> </s> <s>  k </s> <s> hosono </s> <s> </s> <s> proc </s> <s> fac </s> <s> sci </s> <s> tokai univ </s> <s>    </s> <s> </s> <s>  a </s> <s> raspaud and w </s> <s> wang </s> <s> </s> <s> european journal of combinatorics –  </s> <s> </s> <s>  g </s> <s> borradaile h </s> <s> le m </s> <s> shermanbennett </s> <s> </s> <s> accepted to graphs and combinatorics </s> <s> </s> <s>  d </s> <s> west </s> <s> </s> <s> accessed // </s> <s>     trackback link powered by and </s> <s> đẹp  </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  chủ đề của bài này là bổ đề johnsonlindenstrauss  một công cụ được sử dụng rất nhiều để giảm chiều dữ liệu </s> <s> về các ứng dụng cụ thể của bổ đề mình khuyến khích các bạn tự google do ở đây mình không có nhiều không gian để viết về vấn đề đó </s> <s> bài này mang tính chất giới thiệu ý tưởng là chính sau đó là một chút hương vị trong chứng minh bổ đề </s> <s> lối trình bày của bài này xuất phát từ  </s> <s> mình sẽ vạch ra con đường để chứng minh và khuyến khích bạn đọc tự lấp đầy những đoạn bỏ trống của bài viết </s> <s> lời giải đầy đủ của những đoạn bỏ trống mình sẽ liên kết đến tài liệu tham khảo </s> <s> trước hết chúng ta phát biểu bổ đề </s> <s> ở đây là </s> <s> từ nay về sau ta viết tắt ohnsonindenstrauss emma là jll </s> <s> trong một số ứng dụng big data số chiều của dữ liệu rất lớn xấp xỉ số điểm dữ liệu </s> <s> ví dụ </s> <s> sử dụng jll ta có thể chiếu lượng dữ liệu này về không gian cỡ để đảm bảo khoảng cách giữa hai điểm dữ liệu bất kì thay đổi không quá lần </s> <s> ta có thể lấy thì số chiều cần thiết là không quá  nhỏ hơn nhiều lần số chiều gốc là </s> <s> con số là con số lý thyết để đảm bảo sự tồn tại của </s> <s> con số thực tế cần thiết thường nhỏ hơn rất nhiều cỡ vài trăm </s> <s> phát biểu của bổ đề trên mới đảm bảo tồn tại của hàm </s> <s> chứng minh dưới đây sẽ cho chúng ta một thuật toán ngẫu nhiên để tìm ra </s> <s> bổ đề jll thường được ứng dụng để tiền xử lí preprocess dữ liệu trước khi đi vào xử lí sâu hơn ví dụ phân loại hoặc phần cụm dữ liệu </s> <s> jll chỉ bảo toàn khoảng cách giữa mọi cặp điểm do đó chúng ta cần phải cẩn thận trong việc ứng dụng jll tiền xử lí </s> <s> ví dụ ta muốn phân loại dữ liệu thì tiền xử lí bằng jll chưa chắc đã là tốt có thể dùng thay thế </s> <s> nếu muốn phân cụm dữ liệu thì có lẽ jll áp dụng được </s> <s> trong phần example của note  jelani nelson chứng minh rằng jll dùng để tiền xử lí cho </s> <s> theo jll </s> <s> quan hệ phụ thuộc giữa và đã được larsen và nelson  chứng minh là tối ưu về mặt lý thuyết </s> <s> có hai phiển bản khác của jll phiên bản fast jll  và phiên bản sparse jll  </s> <s> bạn đọc có thể tham khảo thêm trong note  của jelani nelson </s> <s> trong phần này mình sẽ phác họa sketch chứng minh cũng như đi tìm hàm  của jll </s> <s> lemma  dưới đây cho ta biết hàm chỉ đơn giản là một ma trận với các phần tử được chọn ngẫu nhiên từ phân bố chuẩn  </s> <s> cuối bài mình sẽ thảo luận  cách khác để tìm hàm </s> <s> phương pháp chứng minh là sử dụng unionbound </s> <s> bạn có thể xem lại một số khái niệm cơ bản về xác suất </s> <s> xác suất để một cặp bất kì phương trình  theo lemma  cho  là không quá </s> <s> do đó xác suất đề một cặp bất phương trình là không quá </s> <s> do đó xác xuất để thỏa mãn phương trình cặp là  xác suất này lớn hơn khi </s> <s> một sự kiện có xác suất lớn hơn không khi và chỉ khó nó </s> <s> điều đó có nghĩa là tồn tại thỏa mãn jll </s> <s> từ đây về sau ta sẽ tập trung chứng minh lemma  </s> <s> bằng cách chia hay vế của bất đẳng thức cho  ta có thể giả sử </s> <s> do đó ta chỉ cần chứng minh đặt ta có do  từ suy ra chính là một tổ hợp tuyến tính linear combination của các biến ngẫu nhiên gauss đồng nhất và phân phối độc lập </s> <s> ta nhắc lại tính chất sau của phân phối  </s> <s> fact  kết hợp với quy nạp và điều kiện  ta suy ra ta biến đổi vế trái của như sau </s> <s> ở đây là với bậc tự do vì nó là tổng bình phương của biến ngẫu nhiên độc lập có cùng phân bố </s> <s> để chứng minh  ta chỉ cần chứng minh mình sẽ dừng chứng minh ở đây vì chứng minh thực ra là tính tailbound của phân bố chisquared một bài toán khá cổ điển trong xác suất thống kê </s> <s> bạn đọc có thể tiếp cận bằng  cách a sử dụng tích chất của phân phối chisquared và b sử dụng và giống như trong chứng minh của và </s> <s> cách a thì bạn chịu khó đọc trang wikipedia của chisquared còn cách b đã được trình bày trong note  </s> <s> có hai cách khác để sinh ra hàm như trong lemma  </s> <s> tuy nhiên chứng minh bổ đề jll với cả hai cách trọn trên đều không đơn giản </s> <s> các bạn có thể tham khảo note  của jiri matousek </s> <s>  w </s> <s> b </s> <s> johnson and j </s> <s> lindenstrauss </s> <s> </s> <s> conference in modern analysis and probability new haven conn </s> <s>   – </s> <s> contemp </s> <s> math   </s> <s> </s> <s>  j </s> <s> matousek </s> <s> </s> <s> </s> <s>  j </s> <s> nelson </s> <s> </s> <s> august  </s> <s> </s> <s>  j </s> <s> nelson </s> <s> </s> <s> august  </s> <s> </s> <s>  k </s> <s> g </s> <s> larsen and j </s> <s> nelson </s> <s>  </s> <s> </s> <s>  n </s> <s> ailon and b </s> <s> chazelle </s> <s> </s> <s> proceedings of the th annual acm symposium on theory of computing </s> <s> pp </s> <s> – </s> <s>  </s> <s> </s> <s>  d </s> <s> m </s> <s> kane and j </s> <s> nelson </s> <s> </s> <s> proceedings of the rd annual acmsiam symposium on discrete algorithms pp </s> <s> – </s> <s>  </s> <s> </s> <s>  s </s> <s> kakade and g </s> <s> shakhnarovich </s> <s>  </s> <s>     trackback link powered by and </s> <s> giải thuật cho hệ thống gợi ý với dữ liệu lớn  a recommendation algorithm for big data </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này chúng ta sẽ nghiên cứu kĩ thuật thiết kế giải thuật cho một hệ thống gợi ý với dữ liệu rất lớn lên tới  triệu user và  triệu items </s> <s> trọng tâm của bài này là sử dụng phép băm </s> <s> gọi và lần lượt là tập các user item trong hệ thống </s> <s> một chú ý quan trọng của bài này đó là dữ liệu của chúng ta là rất lớn do đó tất cả các giải thuật với độ phức tạp là đều không thể sử dụng được </s> <s> giải thuật gợi ý thường được chia thành  dạng chínhtrong bài này chúng ta chỉ tập trung vào </s> <s> giải thuật lọc cộng tác lại chia thành  nhóm chínhmặc dù hai phương pháp này khác nhau về mặt khái niệm các thức thực thi thì lại tương tự nhau </s> <s> do đó trong bài này chúng ta chỉ tập trung vào một phương pháp mà cụ thể là phương pháp dựa trên user </s> <s> trước hết chúng ta sẽ nói đến độ đo tương tự </s> <s> thông thường với dữ liệu có số chiều cao mà thưa như visit log người ta sử dụng  độ đo chính là độ đo cosine và độ đo jaccard </s> <s> tại sao các độ đo khác không phù hợp thì chúng ta không bàn thêm ở đây xem thêm tại  </s> <s> với độ đo cosine chúng ta coi mỗi user như một vector với mỗi chiều tương ứng với một item </s> <s> sự tương tự giữa  user được tính là cosin giữa  vector tương ứng </s> <s> do độ đo cosine sử dụng căn bậc  một thao tác khá tốn kém nên ta sẽ không dùng </s> <s> như vậy lựa chọn còn lại là độ đo jaccard </s> <s> độ đo jaccard giữa  tập hợp và được định nghĩa như sau ví dụ  thì độ đo jaccard của và là độ đo jaccard áp dụng cho hai user cho trước chính là độ tương tự giữa  tập item tương ứng mà  user đó thăm </s> <s> ví dụ đã thăm các item và đã thăm các item thì độ tương tự giữa và là </s> <s> sau khi ta đã thống nhất một độ đo tương tự ta có thể thực hiện gợi ý đơn giản như sau hai vòng lặp ngoài cùng sử dụng bước lặp </s> <s> tính mất thời gian  trong trường hợp tồi nhất </s> <s> trong thực tế số các item được xem bởi một user thường nhỏ hơn tổng số items rất nhiều và có thể coi là </s> <s> như vậy trong trường hợp lạc quan nhất thì thời gian của thuật toán vẫn là </s> <s> trong thuật toán trên với mỗi user  ta chỉ quan tâm đến các user mà giá trị thực tến của thường là  </s> <s> trong thực tế các user có thường không quá nhiều khoảng vài ngàn </s> <s> tuy nhiên thuật toán trên phải duyệt qua tất cả các user để lọc ra những user có độ tương tự cao với </s> <s> một ý tưởng cải tiến khá tự nhiên đó là sử dụng một hàm băm thỏa mãn nếu thì sẽ được băm vào cùng một cụm với xác suất cao và ngược lại </s> <s> ở đây ta nói với xác suất cao là vì các hàm băm tốt về mặt lý thuyết đều phải là các hàm băm ngẫu nhiên </s> <s> hàm băm với tính chất như trên được gọi là hàm băm lsh locality senstive hashing </s> <s> giả sử hàm băm như thế tồn tại giải thuật có thể được viết lại như sau chúng ta có thể dễ dàng nhận ra trong kịch bản tốt nhất thời gian của thuật toán trên là trong phần này chúng ta sẽ thảo luận cách thức thực thi thuật toán </s> <s> trước hết ta tạm quên đi condition  thay vào đó ta xem xét gợi ý với hàm băm đơn giản sau </s> <s> hàm  về cơ bản trả về chỉ nhỏ nhất trong hoán vị trong số các item mà đã xem trong quá khứ </s> <s> ví dụ ta có  items và user thăm </s> <s> giả sử hoán vị chúng ta sinh ra ngẫu nhiên là </s> <s> có nghĩa là có chỉ số  có chỉ số  và có chỉ số  </s> <s>  sẽ trả về vì  là chỉ số nhỏ nhất trong tập chỉ số </s> <s> câu hỏi mà ta sẽ tìm hiểu với hàm băm này đó là xác suất hai user và có cũng mã băm băm vào cùng một cụm là bao nhiêu trong đó  </s> <s> </s> <s> dễ thấy trong tập item  xác suất để một item bất kì có chỉ số nhỏ nhất trong hoán vị ngẫu nhiên là </s> <s> mở rộng ra xác suất để một item bất kì trong một tập con các item của có chỉ số nhỏ nhất trong hoán vị ngẫu nhiên là </s> <s> do đó xác xuất để chính là xác suất mà một phần tử bất kì trong tập hợp trở thành phần tử có chỉ số nhỏ nhất trong tập hợp </s> <s> xác suất này chính là </s> <s> từ phân tích ở trên ta thấy hàm băm mà ta chọn thông qua hoán vị ngẫu nhiên có một tính chất khá thú vị đó là xác suất hai user được băm vào một cụm bằng độ tương tự jaccard giữa hai user đó </s> <s> tuy nhiên ta chưa thể áp dụng ngay ý tưởng này vào gợi ý được vì còn hai lí dota sẽ giải quyết vấn đề đầu tiên trước </s> <s> phần này ta sẽ nghiên cứu phương pháp đơn giản để tăng cường xác suất sao cho hàm băm ở trên thỏa mãn condition  </s> <s> thay vì chỉ sử dụng một hàm băm ta sẽ sử dụng hàm băm minhash như trên bằng cách chọn hoán vị ngẫu nhiên khác nhau </s> <s> chia hàm băm này thành nhóm mỗi nhóm hàm băm </s> <s> với mỗi user ví dụ  ta sẽ băm vào cụm trong đó mỗi cụm sẽ tương ứng với hàm băm </s> <s> ví dụ với  ta chia hàm băm thành  nhóm mỗi nhóm  hàm băm </s> <s>  nhóm đó là   </s> <s> như vậy mỗi user sẽ được phân vào  cụm đó là </s> <s> ví dụ với  thì ta có </s> <s> từ đó ta suy ra xác suất để hai user với độ tương tự ít nhất được băm vào cùng ít nhất một cụm là </s> <s> rõ ràng xác suất này cao hơn nhiều so với </s> <s> hay nói cách khác ta đã tăng cường được xác suất mà hai users được băm vào cùng một cụm </s> <s> trong thực tế với ngưỡng cho trước ta chỉ việc chọn sao cho phù hợp </s> <s> vấn đề đầu tiên coi như đã xong </s> <s> ta tiếp tục với vấn đề thứ  làm sao để thực hiện hàm băm với hoán vĩ ngẫu nhiênnhư đã phân tích ở trên ta cần bít để mô tả một hoán vị ngẫu nhiên </s> <s> rất may dựa vào phân tích của theorem  ta thấy chúng ta không nhất thiết phải sử dụng hoán vị ngẫu nhiên để thực hiện hàm băm </s> <s> tính chất mà chúng ta cần đó là một hàm ngẫu nhiên có thể ánh xạ tập hợp vào tập các số nguyên ví dụ  bít sao cho xác suất để một phần tử bất kì trong có giá trị ảnh nhỏ nhất trong là </s> <s> điều này lại gợi cho chúng ta sử dụng hàm băm </s> <s> hàm băm thỏa mãn tính chất này người ta gọi là hàm băm minwise independent hashing mih  </s> <s> mình sẽ không đi sâu thêm ở đây vì lý thuyết của loại hàm băm này khá phức tạp </s> <s> các bạn xem thêm tại  và cách xấp xỉ hàm băm này trong  </s> <s> sau đây là giải mã của giải thuật đầy đủ kết hợp tất cả các ý tưởng ở trên </s> <s> dễ thấy trong kịch bản tốt nhất thời gian của thuật toán là vì số lượng hàm băm mà ta chọn trong thực tể chỉ khoảng vài chục đến vài trăm </s> <s> </s> <s>  das abhinandan s </s> <s>  mayur datar ashutosh garg and shyam rajaram </s> <s> proceedings of the th international conference on world wide web </s> <s> acm  </s> <s> </s> <s>  jure leskovec anand rajaraman jeff ullman </s> <s>  nd edition chapter  </s> <s> </s> <s>  fnv hash function http//isthe </s> <s> com/chongo/tech/comp/fnv/ accessed // </s> <s>  broder andrei z </s> <s>  moses charikar alan m </s> <s> frieze and michael mitzenmacher </s> <s> in proceedings of the thirtieth annual acm symposium on theory of computing pp </s> <s>  </s> <s> acm  </s> <s> </s> <s>  indyk piotr </s> <s> journal of algorithms  </s> <s>    </s> <s>      trackback link powered by and </s> <s> skip lists </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/skiplists </s> <s> </s> <s> </s> <s> </s> <s> tác giả  vũ chipchip phúc hoàng </s> <s> </s> <s> a mày ac bài z kiểu gì thế tao dùng set không được </s> <s>  </s> <s> b dễ mà mày tao code splay thôi </s> <s>  dòng  phút ez gg </s> <s>  </s> <s> a  </s> <s> </s> <s> câu chuyện thật tưởng như đùa trên cũng không phải là hiếm gặp </s> <s> splay tree hay nói rộng hơn balanced binary search tree là một cấu trúc dữ liệu toàn năng có thể giải quyết rất nhiều bài toán tuy nhiên nó cũng là một thứ đáng khiếp sợ đối với dân competitive programmers vì độ khó code của nó </s> <s> trong một contest với áp lực thời gian căng thẳng chẳng mấy ai dám code balanced binary search tree và còn đảm bảo code không bị bug nữa </s> <s> tuy nhiên bạn không thể hoàn toàn tránh được nó vẫn có những bài mà những thư viện có sẵn như stdset hay những cấu trúc đơn giản như segment tree fenwick tree không thể giải được và bạn vẫn phải nhờ cậy đến splay tree trong nỗi tuyệt vọng </s> <s> </s> <s> </s> <s> may mắn thay dân competitive programmers đã tìm ra cách sử dụng skip lists như một sự thay thế cho balanced binary search tree </s> <s> skip lists với ý tưởng hết sức đơn giản dễ nhớ cộng thêm với khả năng tùy biến tuyệt vời đã phần nào làm xua tan đi nỗi sợ code khó bug nhiều trừ khi bạn có trình độ da xua thượng thừa như nhân vật b trong đoạn hội thoại trên trong trường hợp đó bạn có thể bỏ qua bài viết này </s> <s> bài viết này sẽ giới thiệu cho các bạn những ý tưởng và cách sử dụng skip lists cơ bản nhất </s> <s> </s> <s> </s> <s> table of contents bài toán cơ bản các hướng tiếp cận ý tưởng skip lists so sánh các cấu trúc dữ liệu hướng dẫn chi tiết mở rộng lời kết </s> <s> </s> <s> bài toán cơ bản </s> <s> </s> <s> hãy lập trình một cấu trúc dữ liệu s có thể thực hiện các thao tác sau </s> <s> </s> <s> </s> <s> chèn một phần tử x vào s </s> <s> </s> <s> xóa một phần tử x khỏi s </s> <s> </s> <s> cho một phần tử x tìm một phần tử gần x nhất trong s </s> <s> </s> <s> </s> <s> </s> <s> các hướng tiếp cận </s> <s> </s> <s> ta sẽ xét một số cấu trúc dữ liệu chưa đề cập đến skip lists sử dụng để giải bài toán cơ bản trên </s> <s> </s> <s> </s> <s> sorted array biểu diễn s là một mảng các phần tử </s> <s> các phần tử trong mảng được sắp xếp theo thứ tự tăng dần </s> <s> </s> <s> </s> <s> </s> <s> chèn dịch tất cả các phần tử bên phải vị trí cần chèn sang phải một chỉ số rồi chèn phần tử cần chèn vào vị trí đó </s> <s> </s> <s> xóa dịch tất cả các phần tử bên phải phần tử bị xóa sang trái một chỉ số </s> <s> </s> <s> tìm tìm kiếm nhị phân phần tử </s> <s> </s> <s> độ phức tạp onlogn với thao tác khởi tạo on với thao tác chèn/xóa ologn với thao tác tìm kiếm </s> <s> </s> <s> </s> <s> </s> <s> sorted linked list biểu diễn s là một danh sách liên kết chứa các phần tử </s> <s> các phần tử trong danh sách liên kết được sắp xếp theo thứ tự tăng dần </s> <s> </s> <s> </s> <s> </s> <s> chèn thay đổi liên kết giữa phần tử cần chèn phần tử đứng trước và phần tử đứng sau </s> <s> </s> <s> xóa thay đổi liên kết giữa phần tử cần chèn phần tử đứng trước và phần tử đứng sau </s> <s> </s> <s> tìm duyệt s từ đầu đến cuối </s> <s> </s> <s> độ phức tạp on với các thao tác chèn/xóa/tìm </s> <s> onlogn với thao tác khởi tạo </s> <s> </s> <s> </s> <s> </s> <s> binary search tree biểu diễn s là một cây nhị phân tìm kiếm chứa các phần tử </s> <s> cây này có tính chất tất cả các nút thuộc cây con bên trái đều nhỏ hơn nút cha và tất cả các nút thuộc cây con bên phải đều lớn hơn nút cha </s> <s> </s> <s> </s> <s> </s> <s> chèn nhiều cách làm đi từ trên gốc xuống so sánh phần tử được chèn với hai nút con nếu có thì đi vào nút con còn không thì thêm một nút vào cây chứa phần tử cần chèn </s> <s> </s> <s> xóa nhiều cách làm thay nút bị xóa bằng nút lớn nhất của cây con bên trái và xóa nút đó đi nếu không có cây con bên trái thì thay bằng nút nhỏ nhất của cây con bên phải nếu không có con thì đơn giản là xóa đi </s> <s> </s> <s> tìm đi từ trên gốc xuống so sánh phần tử cần tìm với hai nút con đi vào cây con chứa nút cần tìm cứ thế đến khi tìm được </s> <s> </s> <s> độ phức tạp với trường hợp trung bình các thao tác này có độ phức tạp ologn </s> <s> còn với trường hợp xấu nhất là on </s> <s> </s> <s> </s> <s> </s> <s> balanced binary search tree giống binary search tree nhưng cây có thêm cơ chế tự cần bằng để tránh việc cây bị suy biến luôn giữ chiều cao cây ở mức ổn định thường là ologn </s> <s> </s> <s> </s> <s> </s> <s> lưu ý thao tác chèn và xóa đều phải đi qua thao tác tìm </s> <s> </s> <s> </s> <s> ta nhận thấy mỗi cấu trúc dữ liệu kể trên đều có nhược điểm của nó </s> <s> sorted array có thao tác chèn xóa chậm sorted linked list có thao tác tìm chậm binary search tree có thể bị suy biến về chiều cao làm cho cả  thao tác đều chậm balanced binary search tree hoàn hảo nhưng lại quá phức tạp để cài đặt trong giới hạn thời gian của competitive programming </s> <s> </s> <s> </s> <s> từ đó skip lists một phiên bản nâng cấp của sorted linked list được sử dụng trong competitive programming như một sự thay thế cho balanced binary search tree </s> <s> về tộc độ và bộ nhớ skip lists không thua gì balanced binary search tree tuy nhiên lại dễ cài đặt hơn rất nhiều </s> <s> </s> <s> </s> <s> ý tưởng skip lists </s> <s> </s> <s> skip lists là một phiên bản nâng cấp của sorted linked lists </s> <s> ta hãy bắt đầu với một ví dụ về sorted linked list chứa  số và nghĩ cách cải thiện vấn đề của nó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sorted linked list có ưu điểm lớn khi thao tác chèn xóa chỉ mất o ta chỉ việc chỉnh sửa liên kết giữa phần tử được chèn/xóa và các phần tử đằng trước/sau </s> <s> tuy nhiên thao tác tìm kiếm lại mất on do phải duyệt từ đầu đến cuối </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> một ý tưởng để cân bằng điều này là ta thêm nhiều tầng liên kết cứ lên một tầng số liên kết lại giảm còn một nửa </s> <s> khi tìm phần tử ta sẽ duyệt từ trái sang phải nhưng sẽ nhảy xa hơn nhờ những liên kết trên các tầng cao khi nào không nhảy được mới xuống tầng thấp hơn </s> <s> ý tưởng này khá giống với phương pháp nhảy lên tổ tiên thứ k khi tìm lowest common ancestor lca </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong hình trên để tìm số  ta sẽ nhảy thẳng từ  đến  bằng liên kết trên tầng thứ ba sau đó nhảy từ  đến  bằng liên kết trên tầng thứ nhất </s> <s> ta tìm được  là số gần nhất với  </s> <s> </s> <s> </s> <s> với cấu trúc này ta có thể thực hiện thao tác tìm trong ologn </s> <s> tuy nhiên việc chèn và xóa một phần tử vào sẽ làm thay đổi cấu trúc này </s> <s> chẳng hạn nếu ta chèn số  </s> <s> </s> <s> </s> <s> </s> <s> như hình trên cấu trúc của ta không còn chuẩn có nghĩa là chính xác tầng thứ nhất liên kết cách  tầng thứ hai liên kết cách  tầng thứ ba liên kết cách  </s> <s> </s> <s> </s> <s> tuy nhiên với cấu trúc như hình trên vẫn chạy tốt  chỉ có điều ở mỗi tầng ta có thể phải nhảy nhiều hơn một lần chẳng hạn muốn tìm số  ở tầng thứ nhất ta phải nhảy đến hai lần  ~gt  ~gt  </s> <s> </s> <s> </s> <s> từ đó ta có nhận xét sau các liên kết trên mỗi tầng không nhất thiết phải chuẩn tuy nhiên nếu các độ dài giữa các liên kết xấp xỉ nhau và số liên kết ở tầng trên xấp xỉ bằng nửa số liên kết ở tầng dưới thuật toán tìm kiếm vẫn chạy tốt và không mất quá nhiều lần nhảy ở mỗi tầng </s> <s> ta sẽ duy trì cấu trúc này bằng kĩ thuật tung đồng xu ngẫu nhiên </s> <s> </s> <s> mỗi lần chèn một nút vào đầu tiên ta xây dựng liên kết ở tầng thứ nhất cho nó </s> <s> sau đó ta tung đồng xu nếu ngửa thì ta xây dựng liên kết ở tầng trên và tiếp tục tung đồng xu còn nếu sấp ta dừng việc xây dựng liên kết lại </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> đây chính là skip lists  một cấu trúc dữ liệu được xây dựng bằng nhiều tầng sorted linked list được xây dựng một cách ngẫu nhiên trong đó tầng cao chứa những bước nhảy dài hơn và tầng thấp chứa những bước nhảy ngắn hơn </s> <s> skip lists cho phép ta thực hiện thao tác tìm kiếm với độ phức tạp xấp xỉ ologn </s> <s> </s> <s> </s> <s> so sánh các cấu trúc dữ liệu </s> <s> </s> <s> </s> <s> </s> <s> hướng dẫn chi tiết </s> <s> </s> <s> học phải đi đôi với hành </s> <s> cách hiểu lý thuyết nhanh nhất là đập ngay vào bài tập </s> <s> ta sẽ đi chi tiết vào cách sử dụng skip lists để giải bài cppset </s> <s> bạn hãy đọc đề và ngẫm nghĩ một lúc trước khi đọc tiếp bài viết này </s> <s> bài giải ở dưới được code bằng ngôn ngữ c </s> <s> </s> <s> </s> <s> cppset đúng như tên gọi của nó bạn có thể ac trong một nốt nhạc nếu sử dụng stdset của c một container đã được code sẵn bằng rebblack tree một loại balanced binary search tree để thực hiện bài toán cơ bản nêu ở đầu </s> <s> để luyện tập ta sẽ tự code một cái set dỏm bằng skip lists </s> <s> </s> <s> </s> <s> trước tiên ta cần xây dựng các struct biểu diễn skip lists </s> <s> ta sẽ có  struct skiplists  column  cell </s> <s> skiplists là một danh sách các column liên kết với nhau </s> <s> column là một cột gồm các cell  biểu diễn cho cột liên kết của một phần tử trong set của ta với các phần tử đằng trước và đằng sau </s> <s> cell là một liên kết cơ bản nhất trên một tầng của column  chứa hai liên kết đến column đằng trước và đằng sau </s> <s> để cho dễ hiểu bạn hãy xem hình dưới </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> struct skiplists  </s> <s> static const int maxlevel    // giới hạn số tầng nên chọn một số khoảng logn </s> <s> column  head   tail  // thêm  cột không có giá trị vào đầu và cuối để dễ xử lí </s> <s>  </s> <s> </s> <s> struct column  </s> <s> int value  </s> <s> vector lt cell gt cells  </s> <s>  </s> <s> </s> <s> struct cell  </s> <s> column  previouscolumn   nextcolumn  // mỗi cell có hai liên kết đến column đằng trước và đằng sau không giống trong hình chỉ vẽ một liên kết về đằng sau cho đơn giản </s> <s>  </s> <s> </s> <s> sau khi đã biết cách biểu diễn dữ liệu ta sẽ code các hàm cho skiplists </s> <s> set dỏm của chúng ta sẽ gồm  hàm sau </s> <s> </s> <s> struct skiplists  </s> <s> static const int maxlevel    </s> <s> column  head   tail  </s> <s> </s> <s> skiplists  // khởi tạo </s> <s> bool empty  // kiểm tra skiplists có rỗng không </s> <s> column  lowerbound  int  // tìm vị trí column chứa giá trị nhỏ nhất không nhỏ hơn giá trị cần tìm </s> <s> column  upperbound  int  // tìm vị trí column chứa giá trị nhỏ nhất lớn hơn giá trị cần tìm </s> <s> void insert  int  // chèn một phần tử mang giá trị cho trước vào skiplists </s> <s> void erase  int  // xóa một phần tử mang giá trị cho trước khỏi skiplists </s> <s>  </s> <s> </s> <s> ta sẽ bắt đầu với constructor skiplists </s> <s> để khởi tạo skiplists  ta sẽ tạo ra hai cột head và tail có chiều cao là số tầng tối đa và tại liên kết giữa head và tail trên tất cả các cell </s> <s> </s> <s> </s> <s> skiplists  skiplists   </s> <s> head  new column  </s> <s> tail  new column  </s> <s> head gt value    </s> <s> tail gt value    </s> <s> for  int i    i lt maxlevel  i    </s> <s> head gt cells </s> <s> pushback  cell  null  tail  </s> <s> tail gt cells </s> <s> pushback  cell  head  null  </s> <s>  </s> <s>  </s> <s> </s> <s> với hàm empty  ta chỉ đơn giản kiểm tra liên kết cấp  liên kết trực tiếp của head có nối với tail không </s> <s> </s> <s> </s> <s> bool skiplists  empty   </s> <s> return head gt cells    </s> <s> nextcolumn  tail  </s> <s>  </s> <s> </s> <s> với hàm lowerbound  ta sẽ đi từ tầng cao nhất đến tầng thấp nhất chừng nào nhảy về phía trước vẫn vào một phần tử có giá trị nhỏ hơn giá trị cần tìm thì ta cứ nhảy </s> <s> sau khi duyệt ta sẽ đứng ở phần tử lớn nhất có giá trị nhỏ hơn giá trị cần tìm </s> <s> ta nhảy trên liên kết cấp  một lần nữa để lấy được lowerbound </s> <s> </s> <s> </s> <s> column  skiplists  lowerbound  int value   </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s>  </s> <s> return iter gt cells    </s> <s> nextcolumn  </s> <s>  </s> <s> </s> <s> hàm upperbound không khác gì lowerbound  ngoại trừ việc thay dấu lt thành lt lúc so sánh với value </s> <s> </s> <s> </s> <s> column  skiplists  upperbound  int value   </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s>  </s> <s> return iter gt cells    </s> <s> nextcolumn  </s> <s>  </s> <s> </s> <s> với hàm insert  ta sẽ chia thành  bước sau </s> <s> </s> <s> </s> <s> sử dụng lowerbound để kiểm tra giá trị đã tồn tại trong skiplists chưa </s> <s> nếu đã tồn tại thoát khỏi hàm </s> <s> </s> <s> tạo ra một column mới để chèn vào skiplists </s> <s> ta sẽ sử dụng hàm rand để tung đồng xu xây dựng chiều cao cho column này </s> <s> </s> <s> chèn column vào skiplists </s> <s> ta duyệt y như trong lowerbound và upperbound  ở mỗi tầng chèn liên kết với column vào hai cột đằng sau và đằng trước column </s> <s> </s> <s> </s> <s> </s> <s> void skiplists  insert  int value   </s> <s> // kiểm tra value đã tồn tại chưa </s> <s> column  temp  lowerbound  value  </s> <s> if  temp  tail ampamp temp gt value  value   </s> <s> return  </s> <s>  </s> <s> // tạo insertedcolumn là cột chứa value để chèn vào skiplists </s> <s> column  insertedcolumn  new column  </s> <s> insertedcolumn gt value  value  </s> <s> insertedcolumn gt cells </s> <s> pushback  cell  null  null  </s> <s> // tung đồng xu tăng chiều cao </s> <s> while  insertedcolumn gt cells </s> <s> size  lt maxlevel ampamp rand        </s> <s> insertedcolumn gt cells </s> <s> pushback  cell  null  null  </s> <s>  </s> <s> // duyệt để chèn </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s> if  level lt insertedcolumn gt cells </s> <s> size   </s> <s> // nối iter với insertedcolumn nối insertedcolumn với nextiter </s> <s> column  nextiter  iter gt cells  level  </s> <s> nextcolumn  </s> <s> iter gt cells  level  </s> <s> nextcolumn  insertedcolumn  </s> <s> nextiter gt cells  level  </s> <s> previouscolumn  insertedcolumn  </s> <s> insertedcolumn gt cells  level  </s> <s> previouscolumn  iter  </s> <s> insertedcolumn gt cells  level  </s> <s> nextcolumn  nextiter  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> với hàm erase  ta sẽ chia thành  bước sau </s> <s> </s> <s> </s> <s> sử dụng lowerbound để kiểm tra giá trị đã tồn tại trong skiplists chưa </s> <s> nếu không tồn tại thoát khỏi hàm </s> <s> </s> <s> xóa cột chứa giá trị cần xóa khỏi skiplists bằng cách nối từng liên kết giữa các cell liền trước và liền sau nó trên từng tầng </s> <s> </s> <s> xóa cột chứa giá trị cần xóa để giải phóng bộ nhớ </s> <s> </s> <s> </s> <s> </s> <s> void skiplists  erase  int value   </s> <s> // kiểm tra value đã tồn tại chưa </s> <s> column  erasedcolumn  lowerbound  value  </s> <s> if  erasedcolumn  tail  erasedcolumn gt value  value   </s> <s> return  </s> <s>  </s> <s> // duyệt để xóa </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s> if  iter  erasedcolumn   </s> <s> // nối previousiter với nextiter </s> <s> column  previousiter  iter gt cells  level  </s> <s> previouscolumn   nextiter  iter gt cells  level  </s> <s> nextcolumn  </s> <s> previousiter gt cells  level  </s> <s> nextcolumn  nextiter  </s> <s> nextiter gt cells  level  </s> <s> previouscolumn  previousiter  </s> <s>  </s> <s>  </s> <s> delete erasedcolumn  </s> <s>  </s> <s> </s> <s> với  hàm trên bạn đã có thể mô phỏng một cách đơn giản một cái set dỏm để giải bài này </s> <s> bạn hãy thử tự làm tiếp và nộp trên spoj nhé </s> <s> toàn bộ code cho bài cppset có thể xem ở đây </s> <s> </s> <s> </s> <s> mở rộng </s> <s> </s> <s> </s> <s> ở trên mới là một code skip lists đơn giản nhất mô phỏng stdset để giải bài cppset </s> <s> liệu bạn có thể code lại một stdset hoàn hảo bằng skip lists không hãy thử xem </s> <s> code trên sử dụng cả liên kết xuôi  nextcolumn  và liên kết ngược  previouscolumn  để dễ xử lí </s> <s> bạn có thể code lại cppset mà không cần sử dụng liên kết ngược không </s> <s> khi xây dựng cột để chèn vào skip lists ta sử dụng kĩ thuật tung đồng xu với xác suất / mỗi mặt để xây dựng chiều cao cột </s> <s> tại sao phải là / liệu có thể là một con số khác không bạn hãy thử các con số khác nhau sử dụng cả phân tích lý thuyết và thực nghiệm cho thấy độ hiệu quả của các con số khác </s> <s> </s> <s> hẳn bạn sẽ thắc mắc dùng skip lists làm gì khi nó cũng chỉ để thay stdset mà stdset thì có sẵn rồi </s> <s> skip lists có rất nhiều ứng dụng và khả năng tùy biến nâng cao mà sẽ được giới thiệu trong phần  của bài viết này giúp nó làm được những điều stdset không thể làm được đơn giản nhất là tìm phần thử lớn thứ k trong tập hợp </s> <s> bạn thử tự nghĩ cách tìm phần tử lớn thứ k trong skip lists xem </s> <s> </s> <s> </s> <s> </s> <s> lời kết </s> <s> </s> <s> trên đây là những gì cơ bản nhất các bạn có thể biết về skip lists hi vọng các bạn có thể ứng dụng cấu trúc dữ liệu tuyệt vời này một cách hiệu quả trong các contests </s> <s> cá nhân mình thấy skip lists là một cấu trúc dữ liệu rất hay nhưng ít được sử dụng competitive programmers việt nam chúng ta thường thích dùng splay tree hơn mặc dù chẳng mấy ai dám code lúc đi thi </s> <s> </s> <s> </s> <s> mình rất mong sau bài viết này mọi người sẽ dùng skip lists nhiều hơn </s> <s> </s> <s> </s> <s> những cách sử dụng skip lists nâng cao sẽ được giới thiệu trong phần  mọi người cùng đón đọc nhé </s> <s> </s> <s> </s> <s> </s> <s> phd life sucks chém gió sau deadline </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong blog chủ yếu là các bài viết kĩ thuật </s> <s> post này là bài đầu tiên về công việc cá nhân mặc dù vẫn dính dáng một tí đến kĩ thuật </s> <s> hôm nay tự nhiên có hứng nên post luôn nếu không mấy hôm nữa lại không viết được </s> <s> có khi hôm đẹp trời nào đó đọc lại post này mình lại đóng post cũng nên </s> <s> thực ra trong thư mục draft của mình cũng có vài bài cá nhân nhưng chưa bao giờ những bài đó được hoàn thành vì sau những dòng đầu tiên thì bị cụt hứng không viết tiếp được </s> <s> post này khoe khoang là chính nhưng mình vẫn cố gắng kiềm chế cảm xúc để bớt tính bốc phét của bài viết </s> <s> chả là hôm nay vừa submit một bài đầu tiên vào </s> <s> danh tiếng của focs thì trong ngành lý thuyết khoa học máy tính gọi tắt là lý thuyết thì không phải bàn </s> <s> nói đến lý thuyết thì có  hội nghị chính  focs và </s> <s> với một số outstanding student thì việc có bài trong mấy hội nghị này không phải vấn đề lớn ví dụ có cả đống </s> <s> còn với một sinh viên bình thường hi vọng là bình thường như chủ thớt đây chẳng hạn thì một bài là ấp ủ từ lâu </s> <s> mặc dù mới chỉ là submit accept hay không thì còn phải đợi vài tháng nữa nhưng câu chuyện đầy đủ tại sao mà có kế quả này thì xin kể ra đây </s> <s> kết quả trong bài báo submit mà mình và  người khác nhưng thôi tạm gọi là mình chung cho cả  là về </s> <s> bạn nào học cs thì đều biết bài này nhưng vẫn xin mô tả ngắn gọn như sau bài toán này có thể nhìn qua góc độ đồ thị như sau mỗi đỉnh là một thành phố và cạnh nối hai thành phố có độ dài là khoảng cách giữa hai thành phố </s> <s> bài toán này là một trong những bài toán rất khó làm đau đầu các nhà nghiên cứu bao nhiêu năm nay </s> <s> đây là một bài toán  nghĩa là cho tới hiện tại người ta vẫn không tìm ra được để giải bài toán này </s> <s> ở đây đang nói đến tìm lời giải chính xác i </s> <s> e tìm chu trình ngắn nhất </s> <s> không giải được chính xác thì ta xấp xỉ vậy </s> <s> giải thuật christofides năm  luôn đảm bảo tìm được chu trình với độ dài không quá / độ dài của chu trình ngắn nhất </s> <s> người ta mới phát hiện thuật toán cực kì phưc tạp tìm được chu trình độ dài không quá với là một phần tỉ tỉ tỉ không nhớ rõ là bao nhiêu chữ tỉ </s> <s> và chứng minh được rằng có lẽ không thể xấp xỉ tốt hơn / được </s> <s> sau đó thì người ta tìm cách xấp xỉ tsp trong các đồ thị thực tế hơn ví dụ đồ thị với các điểm trên   hay đồ thị boundedgenus mình không biết dịch từ này </s> <s> kết quả gần đây nhất là trong các đồ thị như vậy ta có thể tìm được một chu trình có độ dài không quá trong thời gian với bất kì số nhỏ tùy ý </s> <s> ví dụ bạn có thể tìm được chu trình với độ dài không quá lần đồ dài chu trình ngắn nhất  trong thời gian mặc dù hằng số ẩn sau khá to </s> <s> một câu hỏi bỏ ngỏ từ lâu là ví dụ là một đa thức như vậy </s> <s> kết quả mà nhóm mình đang nộp là câu trả lời yes của bài toán mở này và biến nó thành định lí đồ thị minorfree là gì thì có lẽ mất cả vài chục dòng để mô tả nên mình không định nghĩa ở đây nhưng nó là một dạng tổng quá hóa của đồ thị phẳng và đồ thị boundedgenus </s> <s> đây có lẽ cũng là loại đồ thị tổng quát nhất mà người ta hi vọng có thể xấp xỉ tsp tùy ý được </s> <s> đồ thị minorfree có một cấu trúc nhìn rất phức tạp xem hình dưới đây và phải mất tới  năm cùng  trang giấy thì mới chứng minh được cấu trúc như vậy </s> <s> công trình của robertson và seymour là một bước ngoặt trong lý thuyết đồ thị hiện đại </s> <s> </s> <s>  hình bên trái là một đồ thị phẳng </s> <s> hình bên phải là một đồ thị minorfree đã đơn giản hóa </s> <s> hình được sửa đổi </s> <s> gần đây tìm ra được giải thuật với thời gian  trong khi câu hỏi mở là đưa ra khỏi lũy thừa của </s> <s> kết quả của nhóm mình chính là như vậy </s> <s> vài dòng trên chỉ là giới thiệu kết quả và đó không phải là nội dung chính của bài viết này </s> <s> nội dung chính là quá trình tìm ra câu trả lời của bài toán đó </s> <s> mình sẽ lan man một tí về quá trình bắt đầu ph </s> <s> d life và tại sao tiêu đề của mình lại như vậy </s> <s> ph </s> <s> d </s> <s> life sucks tháng  năm  mình chính thức bắt đầu chương trình ph </s> <s> d </s> <s> bài toán đầu tiên mà advisor của mình giáo sư  gợi ý liên quan tới bài toán tìm đồ thị con của một </s> <s> sau  tháng vật vã mình bắt đầu nếm mùi </s> <s> tưởng tìm ra được gì đó hay hay cuối cùng mới biết có người làm trước rồi mà lại còn làm tốt hơn </s> <s> ph </s> <s> d </s> <s> life suckssau đó chuyển qua làm về trong đồ thị có nhỏ </s> <s> câu chuyện lần này còn thú vị hơn nữa </s> <s> sau  tháng lúc này là năm  ra được một kết quả để nộp vào  và sau đó kết quả bị từ chối </s> <s> người bình duyệt reviewer cho rằng kết quả chưa đủ mạnh </s> <s> lần này dành khoảng  tháng cải tiến kết quả và thêm vào một kết quả mới và quyết định nộp vào soda </s> <s> lần này gặp lại người bình duyệt lần trước từ esa chính người bình duyệt nói là đã review một lần trong esa rồi </s> <s> người bình duyệt cho rằng kết quả chưa đủ mạnh so với mức của soda nhưng nếu nộp vào esa thì ông ấy sẽ đồng ý accept </s> <s> kết quả bài báo bị reject lần  </s> <s> sau đó lại nộp vào esa năm sau nhưng không may không gặp người bình duyệt cũ </s> <s> một trong số bình duyệt chê là bài báo viết khó hiểu  người còn lại thì chả có comment gì và chỉ nói accept và cho điểm bình duyệt thấp </s> <s> kết quả cuối cùng bị reject lần  </s> <s> lần  nộp vào wads bị reject lần  </s> <s> nguyên nhân là format chỉ cho phép lề của bài viết ít nhất  </s> <s>  inch trong khi mình để  inch </s> <s> sau đó bị reject tiếp lần  vì kết quả không ấn tượng </s> <s> đó là cuối năm  còn mình thì đã post bài báo lên arxiv từ cách đó lâu rồi </s> <s> mãi đến lần  năm  mới được </s> <s> đúng  lần nộp trong vòng hơn  năm </s> <s> ph </s> <s> d </s> <s> life sucksquay trở lại chủ đề chính </s> <s> mình bắt đầu bài toán mở trên từ tháng  năm  cho đến lúc có kết quả là vừa tròn  năm </s> <s> như đã nói bài toán mình theo đuổi là về xấp xỉ tsp trong đồ thị minorfree </s> <s> giải thuật thì đã có sẵn chỉ là có phân tích được nó hay không </s> <s> phép phân tích yêu cầu chứng minh một kết quả trong lý thuyết spanner mà mình sẽ không nói ở đây nó là cái gì </s> <s> điểm chính ở đọa này đó là thay vì tập trung vào tsp mình chỉ cần tập trung vào các spanner là đủ </s> <s> mình bắt đầu từ việc tìm hiểu minorfree là gì và cấu trúc nó như thế nào </s> <s> không có cách nào khác là đọc công trình của robertson và seymour công trình đồ sộ  trang và được chia thành  bài báo viết trong vòng  năm bài đầu tiên từ năm  và bài cuốc cùng là năm  </s> <s> sau đó còn thêm một vài bài nữa nhưng về cơ bản đến bài số  là kết thúc </s> <s> rất may cấu trúc của đồ thị minorfree được mô tả từ bài  cho đến bài  tổng cộng hơn  trang </s> <s> ba tháng đọc ròng rã và mình dừng ở bài số  </s> <s> lúc đó cũng nắm khá rõ về cấu trúc đồ thị này </s> <s> nhìn lại thấy lúc đó trẻ trâu thật chứ giờ mà bảo đọc công trình nào đó tương tự kiểu này thì chắc cũng xin kiếu </s> <s> không đủ kiên nhẫn như hồi đó </s> <s> sau đó bắt đầu quay ra đọc kĩ hơn về các kết quả đã có trước cho bài toán này </s> <s> kết quả đầu tiên và duy nhất là của  giải quyết cho trường hợp đồ thị có bounded pathwidth </s> <s> mình không mô tả boundedpathwidth là đồ thị như thế nào nhưng về cơ bản nó chỉ là một lớp đồ thị rất nhỏ trong đồ thị minorfree </s> <s> tuy nhiên phần quan trọng nhất của bài báo thì lại được mô tả khá sơ sài và khó hiểu </s> <s> thách thức đầu tiên mà mình tự đặt ra là tự chứng minh lại kết quả của grigni và hung dựa trên ý tưởng của họ với hi vọng sẽ mở rộng được ý tưởng của họ </s> <s> sau khoảng  tháng thì mình đã tìm ra cách chứng minh mới và tại sao mình dùng từ tin rằng thì sẽ kể sau chi tiết khá thú vị mình đã mở rộng được ý tưởng đó cho đồ thị có độ rộng cây nhỏ bounded treewidth graphs </s> <s> lớp đồ thị này rộng hơn lớp đồ thị bounded pathwidth nhưng vẫn không là gì so với minorfree graphs </s> <s> câu hỏi tiếp theo là làm sao mở rộng ra cho minorfree graphs được </s> <s> lúc này sự hiểu biết về cấu trúc của đồ thị minorfree bắt đầu có tác dụng </s> <s> trong khoảng  tháng miệt mài mình tìm ra một cách quy đồ thị minorfree về đồ thị boundedtreewidth mà mình đã chứng minh tính chất của nó ở đoạn văn trước </s> <s> phép quy reduction sử dụng định lý robertson và seymour bingo bài toán đã xong và cuộc đời lại tươi đẹp </s> <s> ph </s> <s> d </s> <s> life không còn suck nữa </s> <s> lúc đó là đầu năm  </s> <s> việc còn lại là viết bài và nộp cho focs  </s> <s> viết trong khoảng  hay  tháng gì đó </s> <s> mọi thứ hình như có gì đó không đúng hơi suôn sẻ </s> <s> cuối cùng thì khó khăn thực sự lộ diện </s> <s> một tuần trước deadline ngồi duyệt lai paper một lần trước khi nộp phát hiện ra một lỗi logic rất cơ bản </s> <s> không hiểu sao mình lại có thể viết ra những thứ phi logic thế </s> <s> lỗi logic nằm ở chỗ mở rộng chứng minh của đồ thị bounded pathwidth ra đồ thị bounded treewidth giờ thì bạn đã hiểu tại sao mình dùng chữ ở trên </s> <s> còn đúng  tuần tập trung hết tốc lực để sửa </s> <s> cả tuần mất ăn mất ngủ </s> <s> cuối cùng thì đến ngày deadline mình vẫn không sửa nổi và rồi không nộp bài nữa có đúng đâu mà nộp </s> <s> ph </s> <s> d </s> <s> life sucks againrất may là advisor cực kì nice cho dù thất bại nhưng vẫn động viên mình rất nhiều </s> <s> sau vài tháng tiếp tục tìm cách sửa nhưng vẫn không có cách nào </s> <s> cuối cùng thì quyết định nộp kết quả phép quy mà mình phát hiện ra nếu đồ thị boundedtreewidth có light spanner thì đồ thị minorfree cũng có light spanenr </s> <s> còn đồ thị boundedtreewidth có tính light spanner hay không thì vẫn không xác định đươc vừa mới post bài báo lên arxiv cách đây vài ngày  </s> <s> mặc dù kết quả này đã giảm độ khó của bài toán ban đầu vì đồ thị bounded treewidth chỉ là lớp rất nhỏ của đồ thị minorfree nhưng nó vẫn không phải là một kết quả đây đủ theo đúng nghĩa </s> <s> nếu đồ thị bounded treewidth không có light spanner thì bài báo của mình chả có ý nghĩa gì </s> <s> do đó  lần nộp vào  hội nghị thì đều bị reject cả  với cùng một lí do mà mình vừa nói </s> <s> ph </s> <s> d </s> <s> life suckstrong  năm tiếp theo mình vẫn không bỏ cuộc tuần nào cũng nghĩ về nó một chút </s> <s> mình có làm thêm một số bài toán khác và cũng có kết quả </s> <s> nhưng  năm rồi vẫn không mò ra gì thêm cho bài toán chính của mình </s> <s> các kết quả spanner cho đồ thị tổng quát thì rất nhiều nhưng cho đồ thị minorfree thì lại không có mấy </s> <s> đến đầu năm  sau khi trở về từ internship mình và advisor bắt đầu liên hệ với  giáo sư của trường đại học copenhaghen đan mạch </s> <s> giáo sư christian là bạn của advisor mình và cũng đã publish vài bài cùng với advisor </s> <s> giáo sư christian cũng là chuyên gia về spanner </s> <s> năm  christian và đồng nghiệp đã được giải best paper award về spanner cho đồ thị tổng quát tại soda một trong  hội nghị hàng đầu về lý thuyết </s> <s> sự cộng tác này đã dẫn đến kết quả cuối cùng </s> <s> ph </s> <s> d </s> <s> life lại không suck nữanhững email trao đổi đầu tiên với christian chủ yếu về mô tả bài toán một số phương pháp tiếp cận và các kết quả ban đầu mà mình và advisor đã đạt được </s> <s> nhiệm vụ còn lại chỉ là chứng minh kết quả spanner cho đồ thị bounded treewidth </s> <s> sau khi đồng ý cộng tác mình và christian có họp trên skype vài lần </s> <s> nửa tháng đầu tiên nhóm mình khai triển một phương pháp khác cho đồ thị bounded treewidth nhưng rồi sau đó thấy rằng phương pháp đó không hiệu quả </s> <s> sau đó nhóm chuyển sang sử dụng phương pháp cũ của christian và đồng nghiệp trong bài báo đoạt giải best paper award </s> <s> cuối cùng thì phương pháp này lại cho ra lời giải đẹp </s> <s> không những giải quyết được trường hợp đồ thị bounded treewidth mà còn mở rộng ra được thành một chứng minh mới cho đồ thị minorfree </s> <s> mission is completed what an enjoyful journey ph </s> <s> d </s> <s> life lại đẹp </s> <s> bài báo đã được submit vào focs cách đây vài giờ </s> <s> mọi thứ giờ chỉ là đợi kết quả chuẩn bị cho lần nộp bài tiếp theo nếu bài báo bị reject </s> <s> cho dù kết quả hội nghị có thế nào vì mình cũng hài lòng vì it’s all about the journey not the destination mình không biết câu nói này của ai bạn nào biết thì comment xuống dưới hộ cái </s> <s> mình thật may mắn đã được cộng tác với advisor của mình và christian </s> <s> mình kết bài với câu nói nổi tiếng của pasteur luck favors the prepared mind </s> <s> lê việt hùng </s> <s> corvallis or </s> <s> ngày // ngôi sao lý thuyết mới nổi aviad rubinstein nhắc tới ở trên sẽ vào stanford làm assistant professor fall  </s> <s> </s> <s> paper đã được accept vào focs </s> <s> bản đã được up lên tại đây </s> <s>      trackback link powered by and </s> <s>  công cụ xác suất  five probabilistic tools </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này mình giới thiêu  công cụ cơ bản từ lý thuyết xác suất để phân tích các giải thuật ngẫu nhiên </s> <s> nếu theo dõi các bài vết về giải thuật ngẫu nhiên trong blog của mình   v </s> <s> v </s> <s>  bạn sẽ thấy hầu hết các bài viết chỉ sử dụng  công cụ này thôi </s> <s> bài này chủ yếu viết lại note của tim roughgarden  </s> <s> mình khuyến khích các bạn đọc bản gốc </s> <s> trước đây mình có viết một bài về đề cập tới một số khái niệm như thế nào là một biến ngẫu nhiên kì vọng etc </s> <s> mình sẽ không nhắc lại các khái niệm đó tại đây </s> <s> gọi xxldots xn là n biến ngẫu nhiên trong cùng một không gian xác suất omega </s> <s> gọi x  sumin xi ta có ex  sumin exi qquad  điều đặc biệt quan trọng khiến đẳng thức  trở thành một cung cụ mạnh đó là nó đúng ngay cả khi các biến ngẫu nhiên x x ldots xn lẫn nhau </s> <s> trong các công cụ sẽ giới thiệu dưới đây một số công cụ yêu cầu các biến ngẫu nhiên phải có tính độc lập cao </s> <s> ta sẽ minh họa ứng dụng của tính tuyến tính của kì vọng trong bài toán  </s> <s> </s> <s> ta gọi một mệnh đề có giá trị là một mệnh đề được thỏa mãn satisfied </s> <s> ví dụ ta có  biến boolean và phi   x vee x vee barx barx vee x vee barx   barx vee barx vee x ta có thể gán xxx      </s> <s> khi đó toàn bộ các mệnh đề của phi đều được thỏa mãn </s> <s> gán cho mỗi biến ngẫu nhiên giá trị / </s> <s> gọi xi là biến ngẫu nhiên / cho sự kiện mệnh đề thứ i varphii được thỏa mãn xi   nếu varphii được thỏa mãn và ngược lại xi  </s> <s> số mệnh đề được thỏa mãn của phi là x  sumim xi qquad  do varphii có đúng  literals varphii thỏa mãn nếu ít nhất một trong  literals có giá trị </s> <s> do đó ta có mathrmprxi      frac  / qquad  vì xi là biến ngẫu nhiên / exi  mathrmprxi    / </s> <s> theo tính tuyến tính của kì vọng ta có ex  sumim xi  fracm qquad  nhận xét thấy với mọi biến ngẫu nhiên luôn tồn tại một giá tri của biến lớn hơn hoặc bằng kì vọng </s> <s> do đó luôn tồn tại một cách gán sao cho x geq ex  fracm </s> <s> chứng minh trên cũng cho chúng ta một giải thuật ngẫu nhiên khá đơn giản với thời gian đa thức tìm một cách gán thỏa mãn ít nhất / số mệnh đề của phi </s> <s> håstad  chứng minh rằng nếu  không có giải thuật nào có thể thực hiện tốt hơn giải thuật ngẫu nhiên trên trong thời gian đa thức </s> <s> trong nhiều trường hợp kì vọng của một biến ngẫu nhiên cũng không cho chúng ta quá nhiều thông tin </s> <s> thông tin quan trọng hơn đó là giá trị của biến ngẫu nhiên thay đổi như thế nào so với kì vọng của chúng </s> <s> ba công cụ tiếp theo cho phép chúng ta ước lượng được sự thay đổi này dựa trên những thông tin mà ta có bên cạnh kì vọng của các biến ngẫu nhiên </s> <s> mathrmprx geq c ex leq fracc qquad  </s> <s> gọi fx là hàm mật độ xác suất </s> <s> theo định nghĩa của kì vọng ta có beginarray l ex   intinftyinfty fx x dx  geq intcexinfty fx x dx  geq cexintcexinfty fx dx   cex mathrmprx geq c ex endarray liệu bất đẳng thức markov đã thực sự chặt câu trả lời là có </s> <s> nếu không có thông tin gì thêm ngoại trừ kì vọng thì bất đẳng thức markov là tốt nhất có thể xem bài tập  </s> <s> trong hầu hết các trường hợp bất đẳng thức markov không cho chúng ta nhiều thông tin giá trị </s> <s> tuy nhiên bất đẳng thức markov lại là công cụ phổ biến để chứng minh các bất đẳng thức khác khi chúng ta có thêm thông tin về biến ngẫu nhiên </s> <s> giả sử ngoài giá trị kì vong ex ta còn có ước lượng của phương sai variance varx </s> <s> gọi sigmax  sqrtvarx là độ lệch tiêu chuẩn standard deviation của x </s> <s> mathrmprx  ex geq c cdot sigmax leq fracc qquad  </s> <s> gọi y  x  ex </s> <s> y là một biến ngẫu nhiên với kì vọng ey  ex  ex  varx </s> <s> do đó ta có beginarray l mathrmprx  ex geq c cdot sigmax   mathrmprx  ex geq c varx   mathrmpry geq c ey  leq fracc endarray bất đẳng thức cuối cùng là do ta sử dụng bất đẳng thức markov </s> <s> bất đẳng thức chebyshev cũng là tốt nhất có thể nếu bạn chỉ có ước lượng về kì vọng và phương sai xem bài tập  </s> <s> giả sử bạn đang thiết kế lại một trang web bán hàng của bạn </s> <s> trang web này có khoảng  triệu khách hàng viếng thăm và bạn muốn kiểm tra xem bao nhiêu khách hàng sẽ thích giao diện mới </s> <s> tuy nhiên bạn không thể thay đổi luôn giao diện và đếm thử vì nếu trong trường hợp rất nhiều khách hàng không thích bạn có thể mất một lượng lớn khách hàng </s> <s> các bạn làm là lấy mẫu ra một số lượng khách hàng rất nhỏ n và hỏi họ xem họ thích hay không thích và từ đó tính được ước lượng số khách hàng thích trong một triệu khách hàng bằng cách chia tỉ lệ </s> <s> nếu bạn muốn ước lượng của bạn với xác suất ít nhất / lệch không quá  thì bạn cần phải lấy mẫu bao nhiêu người giả sử xác suất một người thích giao diện mới của bạn là p p là số người thích giao diện mới trong  triệu người </s> <s> gọi xi là sự kiện người thứ i trong tập n người ngẫu nhiên thích giao diện mới </s> <s> ta có exi  p và varxi  pp </s> <s> gọi x là số người trong n người chọn ra thích giao diện mới </s> <s> ta có x  sumin xi qquad  theo tính tuyến tính của kì vọng ex  np </s> <s> do xi là các biến ngẫu nhiên độc lập ta có varx  sumin varxi  npp </s> <s> theo bất đẳng thức chebyshev ta có beginarrayl mathrmprx  ex geq  </s> <s>  n  mathrmprx  exgeq frac </s> <s>  nsqrtnpp sqrtnpp   leq fracnpp </s> <s>  n  leq fraccdot  </s> <s>  cdot nendarray qquad  để xác suất này không quá / ta chọn n     </s> <s> như vậy nếu bạn lấy mẫu khoảng  </s> <s>  người thì ước lượng của bạn sai lệch khoảng  với xác suất ít nhất  </s> <s> tổng quát hóa ví dụ trên nếu bạn muốn ước lượng chính xác tới một hằng số delta geq / với xác suất ít nhất epsilon epsilon geq / áp dụng bất đẳng thức chebyshev bạn nên lấy mẫu khoảng n  fracepsilondelta qquad  chi tiết chứng minh coi như bài tập cho bạn đọc bài tập  </s> <s> áp dụng  cho ví dụ ban đầu với delta   </s> <s>  và epsilon  / ta được n   </s> <s> bất đẳng thức chernoff cho phép chúng ta ước lượng sự thay đổi giá trị của một biến ngẫu nhiên xung quanh kì vọng của nó khi biết rằng biến đó là tổng của nhiều biến ngẫu nhiên độc lập </s> <s> </s> <s> bất đẳng thức  trông không được đẹp </s> <s> trong nhiều trường hợp ta chủ yếu ước lượng cả cận trên và cận dưới của x với delta in  </s> <s> khi đó người ta thường sử dụng hệ quả sau của chernoff bound </s> <s> mathrmprx  mu geq delta mu  leq  edeltamu/qquad  khi delta gg  hệ quả sau thường được sử dụng mathrmprx geqdelta mu  leq edeltamu/deltaqquad  mình sẽ không chứng minh các bất đẳng thức này </s> <s> thay vào đó mình sẽ hướng dẫn chi tiết từng bước trong bài tập  để các bạn có thể tự chứng minh </s> <s> trường hợp các bạn các bạn cần lời giải thì có thể xem trong note của goemans  </s> <s> trở lại ví dụ trong phần  để ý thấy x là tổng của các biến ngẫu nhiên độc lập xi i   ldots n cùng nhận giá trị  và có cùng xác suất mathrmprxi    p </s> <s> theo chernoff bound  ta có beginarrayl mathrmprx  ex geq delta n  mathrmprx  exgeq fracdelta p np   leq efracdelta npp   efracdelta np  leq edelta nendarray  do đó để xác suất này không quá epsilon ta chỉ cần chọn n sao cho edelta n  epsilon từ đó ta suy ra n  lnfracepsilon fracdelta qquad  so với  thì phụ thuộc của n vào epsilon trong  tốt hơn theo hàm mũ còn sự phụ thuộc vào delta không thay đổi </s> <s> do đó khi ta biết các biến ngẫu nhiên độc lập với nhau thì ta nên sử dụng chernoff bound </s> <s> xét bài toán sau ném n quả bóng vào n cái rổ một cách ngẫu nhiên </s> <s> hỏi rổ đầy nhất có bao nhiêu quả bóng với xác suất cao tất nhiên là rổ đầy nhất có thể có đến n quả bóng nhưng xác suất xảy ra trường hợp này cực kì nhỏ </s> <s> ta đã xét bài toán này trong phần </s> <s> sau một loạt các câu hỏi thì kết quả cuối cùng là trong bài này ta sẽ chứng minh theorem  sử dụng chernoff bound </s> <s> ta sẽ tìm xác suất rổ đầu tiên có nhiều hơn fracln nln ln n quả bóng </s> <s> gọi xi là sự kiện quả thứ i được ném vào rổ  </s> <s> mathrmprxi  fracn  exi </s> <s> gọi x  sumin xi </s> <s> theo tính tuyến tính của kì vọng ex   </s> <s> do các biến xi là độc lập theo chernoff bound  ta có mathrmprx geq fracln nln ln n leq fraclnln n ln nfrace lnln nln n leq fracn qquad  trong  ta sử dụng tính chất fracln nln ln n xấp xỉ là nghiệm của xx  n </s> <s> theo  xác suất để một rổ bất kì có nhiều hơn fracln nln ln n quả bóng là không quá /n </s> <s> do đó xác suất để một rổ nào đó có nhiều hơn fracln nln ln n quả bóng là không quá /n </s> <s> như vậy với xác suất fracn mọi rổ do đó rổ đầy nhất đều có không quá fracln nln ln n quả bóng </s> <s> trong bài tập  ta sẽ chứng minh rằng nếu ném ngẫu nhiên nlog n quả bóng vào n rổ thì với xác suấ ít nhất   /n rổ đầy nhất có không quá olog n quả bóng </s> <s> trong trường hợp này số quả bóng trong trường hợp xấu nhất cũng chỉ lớn hơn kì vọng hằng số lần mà thôi mathrmprmbox ít nhất một sự kiện ei mbox xảy ra leq sumin mathrmprei qquad  bạn đọc có thể hỏi tại sao lại phát biểu  thành một công cụ riêng </s> <s> chả phải  rất hiển nhiên sao ít nhát là đối với các bạn có kiến thức sơ khai về xác suất đúng là  rất hiển nhiên và nó đúng ngay cả khi các sự kiện ei phụ thuộc vào nhau </s> <s> đó cũng chính là sức mạnh của công cụ này </s> <s> thông thường theo kinh nghiệm của mình các bài toán mà ta quan tâm đòi hỏi tìm xác suất để một tập các sự kiện aaldots ak xảy ra </s> <s> nhưng các sự kiện đó có thể phụ thuộc nên ta không thể áp dụng công thức nhân xác suất mathrmprai wedge aj  mathrmprai cdot mathrmpraj </s> <s> cách làm là ta sẽ chuyển về sử dụng union bound thông qua </s> <s> để mình minh họa thông qua ví dụ ném bóng vào rổ ở trên </s> <s> gọi ai là sự kiện rổ thứ i có không quá fracln nln ln n quả bóng </s> <s> theo  mathrmprbarai leq /n hay mathrmprai geq /n </s> <s> để chứng minh theorem  ta phải chứng minh mathrmpra wedge a wedge an geq   /n qquad  đương nhiên là các sự kiện ai phụ thuộc ta không thể áp dụng công thức nhân xác suất </s> <s> sử dụng luật demorgan ta có beginarrayl mathrmproverlinea wedge a wedge ldots wedge an  mathrmprbara vee bara vee ldots vee baran   leq suminmathrmprbarai  leq sumin fracn  fracnendarray qquad  từ đó ta suy ra  </s> <s> không khó để thấy rằng phương trình gần cuối của  ta áp dụng union bound </s> <s> tại sao tiêu đề là  công cụ mà ở đây lại lòi ra công cụ thứ  </s> <s> bản thân mình thì thấy công cụ thứ  này rất hữu dụng trong việc tính xác suất nhưng lại chưa tìm ra ví dụ đơn giản để minh họa </s> <s> các ví dụ mình biết đều quá phức tạp do đó mình sẽ bổ sung và thay đổi tiêu đề bài viết khi đã tìm được ví dụ phù hợp </s> <s> ý tưởng của công cụ này là khi ta quan tâm đến sự kiện x nhưng lại rất khó để tính mathrmprx một cách trực tiếp </s> <s> tuy nhiên tính xác suất mathrmprx y lại rất dễ trong đó y là một sự kiện xảy ra với xác suất cao i </s> <s> e mathrmpry geq epsilon với epsilon vô cùng nhỏ </s> <s> lúc này ta có thể tính mathrmprx một cách tương đối theo công thức bayes như sau beginarrayl mathrmprx  mathrmprx ymathrmpry  mathrmprx barymathrmprbary   leq mathrmprx y  mathrmprbary  leq mathrmprx y  epsilon endarray qquad  do đó ta có thể ước lượng mathrmprx thông qua tính mathrmprx y mà ta biết là dễ tính hơn nhiều </s> <s> ở đây mình chưa có ví dụ minh họa nên có thể mọi thứ chưa có ý nghĩa nhiều </s> <s> phần này chủ yế là ghi chú cá nhân để cập nhật sau </s> <s>  t </s> <s> roughardentim </s> <s> </s> <s> stanford  </s> <s> </s> <s>  t </s> <s> rougharden and g </s> <s> valiant </s> <s> </s> <s> stanford  </s> <s> </s> <s>  lászló kozma </s> <s> </s> <s> </s> <s>  j </s> <s> håstad </s> <s> journal of the acm jacm  </s> <s>    </s> <s> </s> <s>  m </s> <s> goemans </s> <s> </s> <s> mit  </s> <s> gọi x là một biến ngẫu nhiên / trong đó mathrmprx    /k </s> <s> chứng minh rằng mathrmprx geq cex leq /c </s> <s> gọi z là một biến ngẫu nhiên có phân phối z  begincases k  mboxwith probability  frack    mboxwith probability  frack  k  mboxwith probability  frackendcases chứng minh rằng a ez   b varz   và c mathrmprz geq k leq /k </s> <s> chứng minh công thức  cho trường hợp tổng quát của ví dụ  </s> <s> trong bài tập này mình sẽ hướng dẫn các bạn chứng chernoff bound khi các biến xi chỉ nhận  trong  giá trị / </s> <s> gọi mui  mathrmprxi  exi </s> <s> ta có mu  suminmui </s> <s> gọi s và a là hai số không âm bất kì </s> <s> giả sử ta ném n log n quả bóng vào n cái rổ chứng minh rằng với xác suất   fracn rổ đầy nhất có không quá olog n quả bóng </s> <s>    trackback link powered by and </s> <s> mảng hậu tố suffix array </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nhưng đã giới thiệu ở  cây hậu tố là một cấu trúc dữ liệu rất mạnh để thực hiện nhiều truy vấn văn bản với thời gian </s> <s> tuy nhiên điểm yếu chính của cây hậu tố là bộ nhớ lớn do mỗi nút của cây phải lưu nhiều thông tin mặc dù về mặt lý thuyết là </s> <s> nếu thực thi cây hậu tố tốt thì mỗi kí tự cũng phải mất trung bình bộ nhớ  bytes </s> <s> như vậy nếu ta có gb text thì cần gb bộ nhớ cho cây hậu tố </s> <s> mảng hậu tố suffix array được giới thiệu bởi manber và mayer  năm  như là một thay thế cho cây hậu tố </s> <s> điểm mạnh của mảng hậu tố là tiết kiệm được nhiều bộ nhớ </s> <s> ngoài ra nếu kết hợp mảng hậu tố với một vài mảng thông tin khác như mảng tiền tố chung lớn nhất mảng lcp  longest common prefix thì có thể thực hiện hậu hết các truy vấn như cây hậu tố với cùng thời gian  </s> <s> do những lợi ích đó mà mảng hậu tố được rất nhiều nhà nghiên cứu quan tâm và rất nhiều giải thuật được phát triển để xây dựng cây hậu tố </s> <s> trong  các tác giả phân loại hàng chục thuật toán cũng như các phân tích thời gian và bộ nhớ </s> <s> mình đính kèm phân loại đó ở phần phụ lục </s> <s> cho văn bản với các kí tự trong bảng chữ cái </s> <s> ta quy ước  là kí tự nhỏ nhất thuộc bảng chữ cái và chỉ xuất hiện duy nhất một lần trong </s> <s> văn bản có hậu tố trong đó hậu tố thứ là </s> <s> ta tập hợp các hậu tố thành một mảng </s> <s> để sử dụng mảng này thực hiện các truy vấn thông thường ta muốn mảng này được </s> <s> do đó ta sẽ gán nếu hậu tố gọi là hậu tố thứ  có vị trí thứ trong mảng hậu tố đã sắp xếp </s> <s> mảng gọi là </s> <s> ví dụ  mảng hậu tố của như sau </s> <s> theo bảng trên có nghĩa là hậu tố thứ là  đứng thứ  trong mảng các hậu tố đã sắp xếp theo thứ tự từ điển </s> <s> do  là kí tự nhỏ nhất trong theo thứ tự từ điển ta luôn có </s> <s> đi kèm với mảng hậu tố là  gọi tắt là </s> <s> mảng lcp kí hiệu là  là mảng trong đó là chiều dài của tiền tố chung dài nhất của hai hậu tố và </s> <s> giá trị không xác định và quy ước là </s> <s> với ví dụ trên vì chiều dài tiền tố chung dài nhất của hậu tố là  và là  là </s> <s> thuật toán đơn giản nhất ta có thể nghĩ tới để xây dựng mảng hậu tố là liệt kê tất cả các hậu tố và sau đó sắp xếp các hậu tố theo thứ tự từ điển </s> <s> có tất cả hậu tố của xâu  do đó sắp xếp các hậu tố có thể thực hiện trong phép so sánh ví dụ quicksort </s> <s> do so sánh hai hậu tố có thể thực hiện trong thời gian  ta có thể xây dựng mảng hậu tố trong thời gian </s> <s> nếu bằng cách nào đó chúng ta chỉ mất thời gian cho mỗi phép so sánh hai hậu tố chúng ta sẽ thu được thuật toán </s> <s> phần này mình giới thiệu hai thuật toán khác nhau thực hiện ý tưởng so sánh đó </s> <s> phương pháp này được trình bày trong lecture note  </s> <s> trước khi đọc tiếp mình khuyến khích bạn đọc xem lại bài tìm kiếm xâu với thuật toán </s> <s> ý tưởng chính của thuật toán rabinkarp là biến mỗi xâu con thành một số nguyên không quá lớn ví dụ  bit sử dụng phép băm và việc so sánh hai xâu con được quy về so sánh hai số nguyên với thời gian </s> <s> giả sử bằng cách nào đó mà ta sẽ mô tả sau chúng ta có thể kiểm tra xem hai xâu con của văn bản có bằng nhau hay không trong thời gian </s> <s> để so sánh hai hậu tố và của  ta sẽ sử dụng tìm kiếm nhị phân trong thời gian để tìm số sao cho và khi đã tìm được  ta chỉ cần so sánh và </s> <s> do đó phép so sánh hai hậu tố được thực hiện trong </s> <s> để phép kiểm tra hai xâu con có bằng nhau hay không trong thời gian  ta sẽ thực hiện tiền xử lí </s> <s> ta sẽ sử dụng hàm băm trong đó là một số nguyên tố được chọn ngẫu nhiên trong khoảng </s> <s> ta chọn ngẫu nhiên để đảm bảo về mặt lý thuyết xác suất đụng độ nhỏ xem lại phân tích trong bài  </s> <s> trong thực tế ta chỉ cần chọn một số nguyên tố lớn </s> <s> ví dụ trong  tác giả chọn </s> <s> gọi là cơ số thường chọn là số kí tự trong bảng chữ cái </s> <s> gọi là mảng trong đó </s> <s> định nghĩa mảng như sau quy ước  mảng và có thể tính được trong thời gian sử dụng </s> <s> ta chuyển mỗi xâu con của thành một số nguyên giá trị hash có dạng dễ thấy do đó giá trị với bất kì có thể tính được trong thời gian nếu biết và </s> <s> từ đó suy ra ta có thể kiểm tra xem hai xâu con có bằng nhau hay không trong thời gian bằng cách so sánh hai giá trị hash </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính ở cuối bài </s> <s> với hai hậu tố cho trước sửa đổi thủ tục một chút ta có thể tính được chiều dài tiền tố chung lớn nhất trong thời gian </s> <s> do đó ta có thể xây dựng mảng lcp trong thời gian </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> tổng kết lại ta có thuật toán nhân đôi tiền tố prefix doubling được đề xuất bởi uber và mayer  có thời gian sử dụng thuật toán đếm phân phối </s> <s> trong phần này mình trình bày một biến thể  sử dụng quick sort </s> <s> trước hết coi văn bản đầu vào có chiều dài vô hạn bằng cách thêm vào cuối văn bản vô hạn kí tự  </s> <s> gọi văn bản vô hạn là </s> <s> chú ý là  là kí tự nhỏ hơn  theo thứ tự từ điển tất cả các kí tự khác trong bảng chữ cái và chỉ xuất hiện trong văn bản đúng một lần tại vị trí cuối cùng </s> <s> do vô hạn với mỗi số ta có đúng xâu con của chiều dài  mỗi xâu bắt đầu bằng một kí tự của </s> <s> thuật toán thực hiện theo bước như sauta có nhận xét sau thứ tự của các xâu con thu được sau bước cuối cùng chính là thứ tự đã sắp xếp của các hậu tố bắt đầu bằng kí tự đầu tiên của các xâu con đó </s> <s> nhận xét đó là do các kí tự  là kí tự nhỏ nhất theo thứ tự từ điển </s> <s> chi tiết chứng minh của nhận xét đó coi như bài tập cho bạn đọc </s> <s> ta sẽ chứng minh rằng nếu sử dụng quick sort để sắp xếp thì mỗi bước của thuật toán có thể được thực thi trong thời gian </s> <s> </s> <s> bước đầu tiên ta có thể thực hiện trong thời gian sử dụng quick sort </s> <s> tại bước thứ  ta sẽ sắp xếp các xâu con có độ dài sử dụng quick sort </s> <s> để ý rằng tại bước  ta đã có thứ tự tương đối giữa các xâu con độ dài </s> <s> nếu coi xâu con độ dài là ghép của hai xâu con độ dài  xâu con độ dài thứ nhất gọi là và xâu con độ dài thứ hai gọi là  thì ta chỉ việc so sánh hai khóa cua hai xâu độ dài thay vì so sánh trực tiếp </s> <s> do đó việc so sánh có thể thực hiện trong thời gian thay vì </s> <s> như vậy ta sẽ có thuật toán </s> <s> tuy nhiên đó vẫn chưa phải là tất cả chúng ta cần </s> <s> ta cần thêm một cách mã hóa để mã hóa vị trí tương đối giữa các xâu con </s> <s> do mỗi bước ta có đúng xâu con ta gán cho mỗi xâu con một số trong tập để khi so sánh hai xâu ta chỉ cần so sánh hai số tương ứng </s> <s> chú ý là hai xâu giống nhau ta phải gán cho hai số giống nhau </s> <s> ta có thể làm như sautại bước  sau khi sắp xếp mỗi xâu độ dài sẽ được gán cho một số là vị trí của nó trong mảng đã sắp xếp </s> <s> ta sẽ thực hiện duyệt qua mảng để một lần để gán lại đảm bảo </s> <s> bước duyệt này chỉ mất </s> <s> như vậy ta có thể thực hiện mỗi bước trong thời gian trước khi trình bày giả mã của thuật toán mình sẽ nói qua đôi chút về tổ chức dữ liệu theo  </s> <s> với mỗi xâu con độ dài  ta sẽ lưu  giá trịta cũng sử dụng mảng hai chiều trong đó hàng lưu mã của xâu con bắt đầu từ độ dài như mô tả trong chứng minh của lemma  </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính kèm ở cuối bàidựa vào mảng  ta có thể tính được chiều dài cuả tiền tố chung dài nhất của hai hậu tố trong thời gian bằng cách chia nhị phân </s> <s> do đó mảng lcp có thể tính được trong thời gian </s> <s> giả mã như sau </s> <s> code của giả mã bằng c mình khuyến khích bạn đọc code và submit bài tại </s> <s> cả hai thuật toán trên sẽ được khoảng  điểm </s> <s> code submit mình đính kèm dưới đây </s> <s> code đầy đủ của giả mã   </s> <s> </s> <s>  manber udi and myers gene </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  daniel sleator </s> <s> </s> <s> cmu fall  </s> <s> </s> <s>  vladu adrian and cosmin negruşeri </s> <s>  </s> <s> </s> <s>  puglisi simon j </s> <s>  william f </s> <s> smyth and andrew h </s> <s> turpin </s> <s> acm computing surveys csur  </s> <s>    </s> <s> </s> <s>  abouelhoda mohamed ibrahim stefan kurtz and enno ohlebusch </s> <s> journal of discrete algorithms  </s> <s>    </s> <s> </s> <s>  kasai toru gunho lee hiroki arimura setsuo arikawa and kunsoo park </s> <s> in combinatorial pattern matching pp </s> <s>  </s> <s> springer berlin heidelberg  </s> <s> phân loại các thuật toán xây dựng mảng hậu tố     trackback link on wow this could be one particular of the most helpful blogs we have ever arrive across on this subject </s> <s> actually fantastic </s> <s> i am also an expert in this topic therefore i can understand your effort </s> <s> powered by and </s> <s> thuật toán mccreight xây dựng cây hậu tố  mccreight algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong  chúng ta đã làm quen với cây hậu tố suffix tree và thuật toán đơn giản xây dựng cây hậu tố trong thời gian </s> <s> mình khuyến khích bạn đọc xem lại các khái niệm của bài trước </s> <s> một số khái niệm mình sẽ không nhắc lại ở đây </s> <s> trong bài này chúng ta sẽ làm quen với thuật toán mccreight xây dựng cây hậu tố trong thời gian giả sử bảng chữ cái có kích thước </s> <s> thuật toán mccreight được đề xuất vào năm  bởi mccreight đơn giản hóa thuật toán trước đó đề xuất bởi weiner </s> <s> ngoài thuật toán mccreight thuật toán ukkonen xây dựng cây hậu tố cũng có thời gian và có thể được áp dụng trong trường hợp online có nghĩa là chúng ta có thể cập nhật lại cây hậu tố khi có thêm các kí tự mới </s> <s> tuy nhiên so với thuật toán ukkonen thuật toán mccreight đơn giản hơn </s> <s> chúng ta sẽ làm quen với thuật toán ukkonen trong bài sau </s> <s> mình nhắc lại khái niệm cây hậu tố ở đây ý tưởng của thuật toán mccreight có thể được coi là cải tiến của sử dụng liên kết hậu tố suffix link </s> <s> mỗi nút trong của cây hậu tố xây dựng trong thuật toán maccreight ngoài các trường cơ bản như đã mô tả ở còn có thêm một trường là định nghĩa dưới đây kí hiệu là </s> <s> goi là một nút trong với trong đó là kí tự đầu tiên trong và là một xâu  có thể là một xâu rỗng </s> <s> hai trường hợp ở trên được minh họa ở hình dưới đây </s> <s> đường màu đỏ có mũi tên biểu diễn liên kết hậu tố </s> <s> </s> <s> ví dụ xâu có cây hậu tố và các liên kết hậu tố như hình sau </s> <s> </s> <s> nếu coi nút gốc có liên kết hậu tố trỏ tới chính nó thì nhìn vào hình trên ta sẽ thấy mọi nút trong đều có đúng  liên kết hậu tố </s> <s> tính chất này không dễ thấy nếu chúng ta chỉ nhìn vào định nghĩa của liên kết hậu tố </s> <s> </s> <s> dựa vào định nghĩa của cây hậu tố và liên kết hậu tố nếu một nút trong có liên kết hậu tố tới một nút  nút đó phải là duy nhất </s> <s> do đó chúng ta chỉ cần chứng minh tồn tại nút như vậy </s> <s> nút trong được tại thành là do khi chèn hậu tố  với một số nào đó thỏa mãn  là tiền tố của và là xâu con chung lớn nhất gọi tắt là tiền tố con chung lớn nhất của với cây hậu tố </s> <s> thêm nữa phải là tiền tố của một hậu tố nào đó với </s> <s> xét  rõ ràng là một tiền tố con chung với cây hậu tố sau khi đã chèn </s> <s> giả sử nút với chưa tồn tại khi nút được thêm vào cây hậu tố </s> <s> do là tiền tố con chung lớn nhất của với cây hậu tố hiện tại sẽ là tiền tố con chung lớn nhất của với cây hậu tố </s> <s> do đó nút sẽ được tạo ra khi chièn  từ đó suy ra dpcm </s> <s> nếu một nút trong được tạo ra khi chèn hậu tố  liên kết hậu tố của có thể được cập nhật ngay tại bước sau đó </s> <s> tại sao liên kết hậu tố lại hữu dụng về mặt trực quan nếu ta chèn hậu tố có tiền tố con chung lớn nhất với cây hiện tại là thì tiền tố chung lớn nhất của và ít nhất có chiều dài </s> <s> do đó khi chèn  ta chỉ cần đi theo liên kết hậu tố để tiết kiệm được phép so sánh kí tự so với thuật toán đơn giản </s> <s> thuật toán thực hiện trong bước bước thứ chèn hậu tố vào cây hiện tại </s> <s> việc chèn hậu tố phụ thuộc vào bước trước </s> <s> khi chúng ta chèn để minh họa cho hai trường hợp trên ta sẽ xét hai ví dụ được minh họa bởi hình dưới đây </s> <s> ví dụ thứ nhất hình của hình dưới đây ta xây dựng cây hậu tố cho xâu </s> <s> khi chèn hậu tố vào cây hậu tố  ta sẽ tìm thấy một nút đã có liên kết hậu tố như ở hình vẽ và chèn nút lá tương ứng với hậu tố thứ  vào cây </s> <s> khi chèn  ta đi theo liên kết hậu tố của đến nút  gọi là  và bắt đầu tìm so sánh với cây con gốc tại </s> <s> trong trường hợp của ví dụ trong hình ta chỉ việc tạo thêm một nút lá là con của và gán hậu tố là con của nút </s> <s> ví dụ thứ hai khi ta chèn hậu tố vào cây hậu tố  ta sẽ tìm được một nút như trong hình và bẻ cạnh giữa và nút cha của nó để thêm một nút </s> <s> sau đó tạo một nút lá là con của và gán vào nút lá đó </s> <s> tiếp theo đó ta chèn </s> <s> lúc này nút chưa có liên kết hậu tố ta sẽ đi theo liên kết hậu tố của để đến một nút như trong hình vẽ và tìm kiếm bắt đầu từ cây con gốc </s> <s> tuy nhiên ta đã biết trước đoạn khớp sẽ là do nhãn của cạnh có chiều dài </s> <s> do đó ta có thể nhảy cóc  nút như mũi tên trong hình vẽ để chèn </s> <s> cuối cùng ta sẽ cập nhật liên kết hậu tố của </s> <s> trong giả mã dưới đây lưu giữ nút cần cập nhật liên kết hậu tố </s> <s> biến lưu giữ nút cuối của liên kết hậu tố ở bước trước </s> <s> do đó tại dòng của giả mã dưới đây ta luôn tìm kiếm bắt đầu từ nút thay vì từ gốc </s> <s> biến lưu giữ độ dài ít nhất của đoạn khớp khi tìm kiếm </s> <s> độ dài này ta tính được trong bước thứ khi chèn </s> <s> quy luật cập nhật đã được chỉ ra ở trên </s> <s> thủ tục  sẽ tìm kiếm đoạn khớp của với cây con gốc tại của cây hậu tố hiện tại khi biết trước độ dài đoạn khớp ít nhất là </s> <s> thủ tục này trả lại nút sao cho tiền tố chung lớn nhất là xâu con của  độ dài vị trí khớp cuả và vị trí khớp của văn bản </s> <s> xem thêm tại với hàm tương tự  </s> <s> điểm khác biệt chính với thủ tục  ở bài trước là ta kết hợp cập nhật liên kết hậu tố trong quá trình tìm kiếm </s> <s> giả mã của thuật toán như sau code của giả mã bằng c </s> <s> code đầy đủ được đính ở cuối bàihàm trả lại nếu và  nếu ngược lại </s> <s> các thủ tục khác của giả mã không trình bày ở đây tương tự như trong </s> <s> việc phân tích thuật toán trên có thể được tách thành hai thành phần sau tổng số phép so sánh kí tự vòng while ở dòng  và số lần nhảy cóc  lệnh if ở dòng  </s> <s> do phép nhảy cóc mỗi kí tự của văn bản được so sánh đúng  lần </s> <s> do đó tổng số phép so sánh kí tự là </s> <s> phần khó nhất là phân tích số lần nhảy cóc </s> <s> với mỗi nút của cây hậu tố gọi là số nút trong đường đi từ gốc tới của cây hậu tố trừ đi  </s> <s> ta có nhận xét sau do đó nếu ta nhảy cóc lần tại bước  nút lại có tăng lên so với tree depth của nó tại bước thứ </s> <s> do với mọi  tổng số lần nhảy cóc là không quá </s> <s> do đó ta có code  weiner peter </s> <s> switching and automata theory  </s> <s> swat </s> <s> ieee conference record of th annual symposium on </s> <s> ieee  </s> <s> </s> <s>  mccreight edward m </s> <s> journal of the acm jacm  </s> <s>    </s> <s> </s> <s>  ukkonen esko </s> <s> </s> <s> algorithmica  </s> <s>    </s> <s> </s> <s>  aluru srinivas </s> <s> handbook of data structures and applications  </s> <s>     trackback link on đã không viết thì thôi viết thì viết cho đàng hoàng chứ </s> <s> on hi bạn </s> <s> xin lỗi vì bạn có những trải nghiệm không hay với blog </s> <s> nếu bạn có comment cụ thể phần nào bạn cảm thấy chưa hài lòng thì xin để lại </s> <s> mình sẽ sửa cho bài viết chuẩn hơnhùngpowered by and </s> <s> cây hậu tố  suffix tree </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài trước ta đã tìm hiểu các thuật toán tìm kiếm xâu với thời gian trong đó là độ dài của văn bản và là độ dài của xâu tìm kiếm </s> <s> mỗi thuật toán có đặc tính và ứng dụng riêng  là thuật toán tìm kiếm tuyến tính đơn giản nhất là thuật toán có thời gian sublinear trong thực tế có ý nghĩa về mặt lịch sử cũng như ý tưởng của thuật toán và thuật toán này còn có thể được mở rộng ra trong trường hợp thời gian thực và tìm kiếm một tập nhiều mẫu được trong phát hiện đạo văn </s> <s> tuy nhiên tất cả các thuật toán này đều rất khó mở rộng khi chúng ta muốn thực hiện các truy vấn query văn bản </s> <s> một số truy vấn thường gặp như </s> <s> ngoài hai truy vấn cuối cùng các truy vấn còn lại có thể được thực hiện lặp đi lặp lại với các xâu mẫu khác nhau </s> <s> ta có thể tưởng tượng trong thực tế văn bản có kích thước lớn còn xâu mẫu có kích thước nhỏ </s> <s> do đó một truy vấn có thể coi là nếu thời gian thực hiện truy vấn chỉ phụ thuộc vào độ dài của  không phụ thuộc vào độ dài của </s> <s> phương pháp đầu tiên chúng ta có thể nghĩ tới đó là tìm một cách biểu diễn sao cho việc thực hiện các truy vấn được thực hiện hiệu quả </s> <s> thời gian để biểu diễn sẽ được tính vào thời gian tiền xử lí </s> <s> thông thường thời gian tiền xử lí là khá lớn </s> <s> cây hậu tố suffix tree được đề xuất bởi weiner  vào năm  là một trong những cách biểu diễn có thể trả lời các truy vấn trên một cách hiệu quả </s> <s> điều đặc biệt là cây hậu tố có thể được xây dựng trong thời gian </s> <s> knuth theo  đã gọi thuật toán xây dựng cây hậu tố của winer là giải thuật của năm  </s> <s> </s> <s> ví dụ  hình dưới đây biểu diễn cây hậu tố với  nút lá </s> <s> </s> <s> </s> <s> một điều đặc biệt chú ý là </s> <s> ví dụ không có cây hậu tố biểu diễn nào thỏa mãn  tính chất ở trên mình khuyến khích bạn đọc nên thử xây dựng </s> <s> lí do sau khi bạn thử xây dựng bạn sẽ thấy không có cây hậu tố tương ứng là vì hậu tố là tiền tố của hậu tố </s> <s> tổng quát hóa ta sẽ thấy có cây hậu tố biểu diễn nó khi và chỉ khi có một hậu tố là tiền tố của một hậu tố khác </s> <s> do đó để đảm bảo ta luôn có thể xây dựng được cây hậu tố cho mọi văn bản đầu vào ta sẽ thêm kí tự  không thuộc bảng chữ cái vào cuối của văn bản </s> <s> dễ thấy sau khi thêm  trường hợp của nhận xét trên không bao giờ xảy ra </s> <s> từ đoạn này trở đi của bài viết ta luôn giả sử  </s> <s> ta sẽ biểu diễn cây hậu tố dưới dạng cấu trúc cây </s> <s> về cơ bản mỗi nút của cây hậu tố sẽ có các thông tin sau nếu có các thông tin khác lưu trữ để tăng tốc thuật toán xây dựng thì chúng ta sẽ bổ sung sau </s> <s> hậu tố với được gọi là hậu tố thứ của và kí hiệu là </s> <s> với mỗi nút của cây hậu tố  là xâu con thu được bằng cách ghép concatenation các xâu con của các cạnh trên đường đi từ nút gốc đến của </s> <s> độ dài của xâu được gọi là string depth và kí hiệu là  là viết tắt của string depth </s> <s> giả sử chúng ta đã xây dựng được cây hậu tố cho </s> <s> sử dụng cây hậu tố ta có thể trả lời một số truy vấn ở trên như saugiả mã của các truy vấn này được cho ở phần phụ lục ở cuối bài </s> <s> dưới đây chúng ta giới thiệu thuật toán đơn giản với thời gian xây dựng cây hậu tố </s> <s> bài tiếp theo chúng ta sẽ làm quen với thuật toán </s> <s> ta lần lượt xây dựng cây hậu tố bằng cách chèn lần lượt các hậu tố  trong đó là hậu tố thứ của  vào cây hậu tố hiện tại </s> <s> cây hậu tố chỉ có  nút lá và một nút gốc biểu diễn hậu tố </s> <s> tại bước thứ  thuật toán chèn hậu tố vào cây hậu tố hiện tại </s> <s> để chèn hậu tố vào cây hậu tố hiện tại  ta sẽví dụ cây hậu tối khi chèn và lần lượt tương ứng với trường hợp i và ii sẽ như ở hình vẽ sau </s> <s> giả mã của thuật toán như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính ở cuối bài </s> <s> trước hết ta phân tích xem cây hậu tố ở trên có tối đa bao nhiêu nút </s> <s> dễ dàng thấy số nút lá của cây hậu tố là  bằng kích thước của văn bản đầu vào vì mỗi nút lá ứng với một hậu tố </s> <s> trong quá trình xây dựng cây hậu tố một nút trong chỉ xuất hiện khi chèn thêm một hậu tố mới </s> <s> do đó số nút trong của cây không thể vượt quá là số nút lá </s> <s> do đó cây hậu tố có tối đa nút </s> <s> nếu biểu diễn con trỏ tới các nút con bằng mảng như thực hiện ở trên thì cần con trỏ cho mỗi nút trong của cây </s> <s> do đó mỗi nút chiếm bộ nhớ là để biểu diễn và tổng bộ nhớ cần để biểu diễn cây là </s> <s> tuy nhiên nếu ta biểu diễn con trỏ tới các nút con là một danh sách thì số lượng con trỏ của tất cả các nút trong không lớn hơn số cạnh của cây hậu tố </s> <s> vì cây hậu tố có tối đa nút nó sẽ có tối đa cạnh và do đó số con trỏ đó không quá </s> <s> như vậy bộ nhớ để biểu diễn cây trong trường hợp này là </s> <s> về mặt thời gian có thể thấy rằng thuật toán xây dựng cây hậu tố trong bước </s> <s> bước thứ tìm kiếm hậu tố trong cây hậu tố đang xây dựng hiện tại </s> <s> bước này sử dụng là chiều dài của hậu tố  phép so sánh để tìm kiếm </s> <s> do đó tổng thời gian của thuật toán là </s> <s> code của giả mã bằng c </s> <s> code của giả mã bằng cnhư đã nhắc đến ở trên để thực hiện truy vấn này với mỗi nút  chúng ta lưu thêm một trường lưu số lượng nút lá của cây con gốc </s> <s> thông tin này có thể được cập nhật trong quá trình xây dựng cây mà không làm giảm thời gian tiệm cận xây dựng cây </s> <s> </s> <s> code của giả mã bằng cđể thực hiện truy vấn này với mỗi nút  chúng ta lưu thêm một trường lưu string depth của nút </s> <s> thông tin này có thể được cập nhật trong quá trình xây dựng cây mà không làm giảm thời gian tiệm cận xây dựng cây </s> <s> </s> <s> code của giả mã bằng c </s> <s> code của giả mã bằng ccode </s> <s>  weiner peter </s> <s> switching and automata theory  </s> <s> swat </s> <s> ieee conference record of th annual symposium on </s> <s> ieee  </s> <s> </s> <s>  gusfield dan </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  carl kingsford </s> <s> </s> <s> cmsc  cmu </s> <s>  hậu tố của một xâu là một xâu con của có dạng với là một số nào đó thỏa mãn </s> <s> ví dụ thì là một hậu tố của </s> <s> chú ý là hậu tố của chính nó </s> <s>  một hậu tố của được gọi là một hậu tố riêng proper suffix nếu hậu tố đó khác </s> <s>   trackback link powered by and </s> <s> tìm kiếm đa mẫu bằng thuật toán ahocorasick  ahocorasick algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  thuật toán ahocorasick được phát triển bởi alfred aho và margaret corasick vào năm  cho bài toán tìm kiếm đa mẫu sau với mỗi từ khóa  ta có thế áp dụng thuật toán tuyến tính ví dụ hoặc  để tìm kiếm sự xuất hiện của trong </s> <s> mỗi lần tìm kiếm như vậy ta mất thời gian và do đó tổng thời gian tìm kiếm từ khóa là </s> <s> nếu cả và đều lớn thì thuật toán này thực sự không hiệu quả </s> <s> ahocorasick dựa trên ý tưởng của thuật toán kmp và đã phát triển giải thuật với thời gian trong đó là số kí tự trong bảng chữ cái sử dụng </s> <s> thông thường là một hằng số do đó thuật toán có thể coi là có thời gian tuyến tính </s> <s> trọng tâm bài này là định lý sau trong bài finitestate machine  fsm chúng ta đã làm quen với một máy trạng thái hữu hạn định nghĩa cho một xâu mẫu và cách xây dựng máy trạng thái đó trong thời gian </s> <s> bây giờ chúng ta sẽ mở rộng khái niệm đó cho tập các từ khóa </s> <s> mình khuyến khích bạn đọc xem lại bài máy trạng thái hữu hạn trước khi đọc tiếp phần dưới đây </s> <s> một máy trạng thái hữu hạn của tập các từ khóa là một đồ thị có hướng và có các đặc điểm sautrong hình dưới đây mô tả một cây trie với tập từ khóa hình a và máy trạng thái hữu hạn tương ứng hình b </s> <s> các cạnh màu đỏ là các cạnh không khớp </s> <s> với mỗi nút của cây trie ta gọi xâu tạo bởi các kí tự trên đường đi từ tới là path label của nút </s> <s> có thể thấy cây trie cho một tập các từ khóa có các đặc điểm saucác cạnh không khớp trong máy trạng thái được xây dựng dựa trên luật cạnh không khớp sau nút có một cạnh không khớp tới nút khi và chỉ nhãn đường đi của nút là hậu tố dài nhất của nhãn đường đi của nút </s> <s> ví dụ trong hình b ở trên nút có một cạnh không khớp tới nút vì nhãn đường đi của xâu  là hậu tố dài nhất của nhãn đường đi của xâu  </s> <s> bạn đọc có thể kiểm tra luật này với các nút khác </s> <s> gọi là số trạng thái của fsm </s> <s> ta sẽ dùng một mảng hai chiều để biểu diễn cây trie trong đó nếu như nút là con của nút và cạnh có nhãn là </s> <s> ta sẽ xây dựng trie bằng cách chèn lần lượt từng từ khóa của vào cây trie </s> <s> ví dụ các bước xây dựng cây trie cho được minh họa bởi hình sau </s> <s> giả mã của thuật toán xây dựng cây trie như sau </s> <s> code csau khi đã xây dựng cây trie ta phải xây dựng các cạnh không khớp </s> <s> để biểu diễn cạnh không khớp của mỗi nút ta sẽ sử dụng mảng trong đó nếu có một cạnh không khớp từ nút đến nút </s> <s> hiển nhiên sử dụng luật cạnh không khớp ta có thể xây dựng mảng trong thời gian bằng cách với mỗi nút  ta sẽ duyệt các nút có độ sâu nhỏ hơn sử dụng  bfs và tìm ra nút thỏa mãn luật cạnh không khớp </s> <s> duyệt như vậy mất thời gian cho mỗi cạnh không khớp và do đó tổng thơi gian là </s> <s> tuy nhiên sử dụng ý tưởng quy hoạch động trong xây dựng fsm ở  ta có thể xây dựng mảng trong thời gian như sau </s> <s> ta sẽ xây dựng cạnh không khớp cho các nút theo thứ tự tằng dần của chiều sâu thứ tự bfs </s> <s> ban đầu </s> <s> giả sử ta đang xây dựng cạnh không khớp cho một nút ở chiều sâu chiều sâu của một nút là khoảng cách từ nút đó đến gốc của cây trie và ta đã xác định được cạnh không khớp cho các nút ở chiều sâu nhỏ hơn </s> <s> gọi là nút cha của trong cây trie và là nhãn của cạnh trong cây trie </s> <s> xét nút giá trị này đã xác định theo giả thiết quy nạp vì có chiều sâu nhỏ hơn  nhãn của nút là hậu tố của nhãn của nút </s> <s> do đó nếu  thì ta chỉ việc gán do nhãn của nút là hậu tố của nhãn của nút hình a </s> <s> nếu không  ta tiếp tục xét nút và lặp lại tương tự so sánh với hình b </s> <s> trường hợp xấu nhất ta sẽ trở lại nút và lúc này ta sẽ gán </s> <s> giả mã như sau </s> <s> code ctừ các thảo luận ở trên ta có giả sử trong tập từ khóa  không có hai từ khóa nào sao cho là xâu con của </s> <s> ta gọi bộ từ khóa là bộ </s> <s> bộ từ khóa trong ví dụ trên là không độc lập vì từ khóa là xâu con của từ khóa </s> <s> </s> <s> ta có định lý sau ta có thể dễ dàng chứng minh định lý trên bằng phản chứng và coi như bài tập cho bạn đọc </s> <s> định lý trên cho phép chúng ta tìm kiếm trong văn bản giống như thuật toán kmp </s> <s> ta sẽ sử dụng fsm để tìm kiếm trong như sau </s> <s> mỗi bước của thuật toán ta xét một kí tự và một trạng thái của máy fsm </s> <s> ban đầu ta xét kí tự và trạng thái nút của máy fsm </s> <s> gọi và lần lượt là kí tự hiện tại ta đang xét của và trạng thái hiện tại ta đang xét của fsm </s> <s> giả mã của thuật toán như sau </s> <s> code c bên cạnh thời gian để xây dưng fsm thời gian chạy của thuật toán tỉ lệ với phép so sánh bằng  cộng với số phép so sánh không bằng  cộng với số lần từ khóa xuất hiện trong văn bản mỗi khi là nút lá </s> <s> số lần xuất hiện trong văn bản được cố định là  do đó ta không cần phân tích thêm nữa về đại lượng này </s> <s> mỗi lần  ta sẽ tăng biển lên đơn vị và sẽ được tăng lên trạng thái ở độ sâu cao hơn </s> <s> do đó có tối đa phép so sánh bằng </s> <s> mỗi lần so sánh bằng giữ nguyên còn sẽ được giảm về trạng thái ở độ sâu thấp hơn </s> <s> do số lần giảm độ sâu của không thể vượt quá số lần tăng độ sâu của  do đó số phép so sánh bằng không thể vượt quá số phép so sánh không bằng </s> <s> như vậy thời gian của thuật toán bằng thời gian để xây dưng fsm  </s> <s> kết hợp với lemma  ta suy ra theorem  trong trường hợp bộ từ khóa độc lập </s> <s> nếu bộ từ khóa có hai từ khóa sao cho là xâu con của thì việc tìm kiếm sẽ trở nên khó khăn hơn nhiều </s> <s> ví dụ bộ từ khóa gồm  từ và văn bản </s> <s> khi tìm kiếm theo thuật toán với khóa độc lập ta sẽ tìm thấy khóa đầu tiền sau đó đi theo cạnh không khớp và tiếp tục tìm được từ khóa </s> <s> mặc dù có trong văn bản nhưng ta sẽ không tìm ra nó </s> <s> trong hình dưới đây mình lược bỏ một số cạnh không khớp để hình nhìn đỡ rối hơn </s> <s> </s> <s> nếu làm theo từng bước của thuật toán trên khi ta so sánh kí tự với trạng thái  của fsm ta nên đi tới cạnh không khớp để tìm ra từ và sau đó tiếp tuc so sánh với trạng thái  của fsm </s> <s> tuy nhiên làm như vậy thì mỗi lần so kí tự ta lại phải kiểm tra bằng cách đi theo cạnh không khớp xem có từ khóa nào xuất hiện trong hay không </s> <s> đó là chưa kể nếu đi theo cạnh không khớp của nút tới nút  ta phải tiếp tục đi theo </s> <s> ví dụ với bộ và  </s> <s> </s> <s> khi ta so sánh với trạng thái  ta phải đi theo cạnh không khớp tới trạng thái  để in ra và sau đó tiếp tục đi theo cạnh không khớp của  đi tới  để in ra  và sau đó mới tiếp tục so sánh và trạng thái  </s> <s> để giải quyết vấn đề này ta sẽ dùng một mảng trong đó là một tập các từ khóa sao cho mỗi từ khóa trong là hậu tố của nhãn đường đi của trạng thái </s> <s> ví dụ trạng thái sẽ có vì cả hai từ khóa này đều là hậu tố của là nhãn đường đi của  </s> <s> trong hình dưới đây các từ khóa tương ứng với các nút là danh sách của nút đó </s> <s> các nút không có gì là các nút có danh sách rỗng </s> <s> giả sử ta đã tính được ta chỉ cần thay đổi một chút thủ tục tìm kiếm với bộ từ khóa độc lập ở trên như sau </s> <s> code cđể tính mảng  ta sẽ sửa đổi thủ tục và như sau </s> <s> code c </s> <s> code csử dụng danh sách liên kết ta có thể thực hiên trong thời gian </s> <s> từ đó ta suy ra theorem  </s> <s> code của bài viết  </s> <s>  aho alfred v </s> <s>  and margaret j </s> <s> corasick </s> <s> </s> <s> communications of the acm  </s> <s>    </s> <s>     trackback link powered by and </s> <s> thuật toán rabinkarp rabinkarp algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ tìm hiểu thuật toán rabinkarp áp dụng trong bài toán tìm kiếm xâu </s> <s> thuật toán được phát triển bởi richard karp và michael rabin  vào năm  </s> <s> ý tưởng trung tâm của thuật toán là coi và phép toán so sánh hai xâu được đưa về phép toán so sánh các số nguyên </s> <s> trước hết ta nhắc lại bài tìm kiếm xâu trước hết chúng ta xét ví dụ văn bản và xâu mẫu </s> <s> coi xâu mẫu là một số nguyên và thực hiện so sánh với theo thứ tự từ trái sang phải </s> <s> khi so sánh với  ta sẽ so sánh hai số nguyên và  thay vì so sánh hai xâu </s> <s> tương tự như vậy với các bước tiếp theo </s> <s> cuối cùng ta sẽ tìm được </s> <s> tổng quát hóa giả sử  gọi là số nguyên ứng với mẫu  và là số nguyên ứng với xâu con </s> <s> bài toán tìm kiếm xâu trở thành để chuyển thành  số nguyên thay vì tính các lũy thừa của  ta sẽ sử dụng </s> <s> ta có đặt suy ra </s> <s> dựa vào định nghĩa đệ quy của  ta có thể tính sử dụng  phép toán cơ bản cộng trừ nhân chia ta có thể tính được sử dụng phép toán cơ bản </s> <s> tương tự với mỗi chỉ số  sử dụng phương pháp horner ta có thể tính được sử dụng phép toán cơ bản </s> <s> do đó ta có thể tính tất cả các số sử dụng phép toán cơ bản </s> <s> tuy nhiên đó chưa phải là cách tốt nhất </s> <s> nhận thấy chữ số cuối của và chữ số đầu của giống nhau </s> <s> do đó ta có do đó có thể tính từ sử dụng phép toán cơ bản </s> <s> giả mã của thuật toán để tính  ta sử dụng phép toán cơ bản </s> <s> tính tất cả các gía trị  ta sử dụng phép toán cơ bản </s> <s> do đó số phép toán cơ bản là </s> <s> tuy nhiên do các số có độ dài chữ số </s> <s> do đó để thực hiện các phép toán cơ bản ta phải sử dụng thao tác bít </s> <s> do đó tổng thời gian của thuật toán vẫn là  không tốt hơn thuật toán trâu bò </s> <s> vấn đề của thuật toán nằm ở chỗ các số biểu diễn xâu và các xâu con độ dài của là các số qúa lớn </s> <s> dưới góc nhìn của hàm băm hàm chuyển đổi xâu và các xâu con của thành các số ở trên là một hàm băm </s> <s> hàm băm này luôn đảm bảo các xâu con khác nhau độ dài luôn được băm về các giá trị khác nha </s> <s> do đó giá trị đầu ra của hàm băm là các số rất lớn </s> <s> do đó karp và rabin đề xuất nới lỏng tính chất của hàm băm trên chọn một hàm băm sao cho các thao tác cơ bản được thực hiện hiệu quả và khi băm hai xâu con khác nhau có cùng độ dài  xác suất hai giá trị băm giống nhau là nhỏ </s> <s> để các thao tác cơ bản được thực hiện hiệu qủa đầu ra của hàm băm phải là các số nguyên không quá lớn </s> <s> thông thường các số nguyên đầu ra có độ lớn được biểu diễn bởi bít được coi là không quá lớn </s> <s> trong thực tế các giá trị này sẽ được chọn sao cho đầu ra có thể biểu diễn được bằng số nguyên hoặc bít do đó các thao tác cơ bản coi như hằng số </s> <s> xác xuất trùng nhau còn gọi là xác suất đụng độ của hai giá tri băm của hai xâu con khác nhau độ dài  gọi là  được coi là nhỏ nếu giả sử chúng ta đã tìm được hàm băm tốt gọi là tập các xâu con của độ dài có cùng giá trị băm với </s> <s> với mỗi xâu con trong tập  ta sẽ phải so sánh với mất thời gian  để kiểm tra xâu con đó có thực sự là hay không </s> <s> do đó tổng thời gian của thuật toán là trong đó là thời gian để tính và là thời gian so sánh với các xâu con trong </s> <s> theo  về mặt kì vọng số lượng các xâu con trong là do đó ta có gọi là hàm băm modulo trong đó là một số nguyên tố </s> <s> karprabin đề xuất chọn hàm băm một cách ngẫu nhiên từ một họ các hàm băm </s> <s> </s> <s> do đầu ra của hàm băm là một số nguyên  do đó có thể biểu diễn bằng bít thỏa mãn tính chất của hàm băm tốt </s> <s> áp dụng hàm băm  các thao tác cơ bản đều được lấy theo modulo </s> <s> giả mã của thuật toán như sau </s> <s> code của giả mã bằng ctính có thể thực hiện nhanh bằng hàm  trong </s> <s> hàm băm chọn theo thuật toán rabinkarp thỏa mãn tính chất </s> <s> ta chỉ cần chứng minh tính chất </s> <s> trước hết ta có  claim sau số ước số nguyên tố của một số nguyên ít hơn thật vậy gọi là các ước nguyên tố của  ta có </s> <s> từ đó dễ dàng suy ra claim  </s> <s> gọi là số lượng các số nguyên tố có độ lớn  ta có </s> <s> gọi là gía trị khi chưa lấy modulo tương ứng với hai xâu kí tự độ dài </s> <s> do  ta có </s> <s> hay nói cách khác là một ước nguyên tố của </s> <s> do  theo claim  số ước nguyên tố của nhỏ hơn </s> <s> theo claim  có lựa chọn của vì là số nguyên tố </s> <s> do đó xác suất chọn là ước của là như vậy hàm băm chọn ngẫu nhiên từ họ thỏa mãn tính chất  do đó theo theorem  thời gian kì vọng của thuật toán rabinkarp là </s> <s> sinh số nguyên tố trong đoạn không phải là vấn đề đơn giản </s> <s> trong thực tế thực thi để đơn giản chúng ta có thể thay bước sinh số nguyên tố bằng cách chọn cố định một số nguyên tố đủ lớn </s> <s> tất nhiên với cách này về mặt lý thuyết chúng ta không thể đảm bảo thời gian kì vọng của thuật toán là tuyến tính </s> <s> về mặt lý thuyết chúng ta có thể sinh số nguyên tố ngẫu nhiên bằng cách sinh một số ngẫu nhiên kiểm tra nó có phải là số nguyên tố hay không </s> <s> nếu không phải là số nguyên tố ta sẽ thử lạicode của giả mã bằng ctrước hết phân tích xem thuật toán sẽ dừng sau bao nhiêu phép chọn ngẫu nhiên </s> <s> theo claim  prime number theorem trong mỗi bước chọn ngẫu nhiên xác suất chọn được một số nguyên tố là do đó sau bước xác suất chọn được một số nguyên tố là ở công thức trên ta sử dụng xấp xỉ </s> <s> để kiểm tra có phải là số nguyên tố hay không ta có thể sử dụng thuật toán </s> <s> thuật toán rabinmiller có độ phức tạp  do đó thuật toán  có thời gian </s> <s> với  ta có thể sinh số nguyên tố ngẫu nhiên với thời gian </s> <s> trong trường hợp các kí tự không phải là các số từ đến  ta có thể sử dụng cơ số thay vì  trong đó là số lượng các kí tự trong bảng chữ cái </s> <s> mọi phân tích với cơ số khác vẫn không thay đổi </s> <s> nếu áp dụng thuật toán rabinkarp để tìm kiếm tất cả các vị trí xuất hiện của trong  thuật toán rabinkarp có thời gian kì vọng là trong đó là số lần xuất hiện trong do mỗi lần so sánh hai giá trị băm nếu bằng nhau ta phải mất thời gian để kiểm tra xem hai xâu có bằng nhau hay không </s> <s> trong trường hợp  thuật toán mất thời gian </s> <s> do đó để thuật toán có thể được thực hiện nhanh ta phải chấp nhận lỗi </s> <s> có nghĩa là mỗi lần thấy hai gía trị băm bằng nhau chúng ta sẽ trả về vị trí xuất hiện mà không kiểm tra lại xem hai xâu có bằng nhau thật không </s> <s> để thuật toán có độ chính xác cao  chúng ta phải giảm thiểu lỗi </s> <s> một cách để giảm thiểu lỗi là tăng tập lựa chọn của </s> <s> ví dụ thay vì chọn ngẫu nhiên trong khoảng  ta chọn trong khoảng trong đó </s> <s> bằng phân tích như trên ta sẽ có xác suất đụng độ là và do đó số lượng xâu con của khác mà có cùng giá trị băm sẽ là </s> <s> cách khác là ta có thể áp dụng vài hàm băm khác nhau cùng một lúc </s> <s> mình khuyến khích bạn đọc thử thực thi thuật toán và nộp bài </s> <s> code submit cho bài này mình đính ở cuối bài </s> <s> code </s> <s>  karp richard m </s> <s>  and michael o </s> <s> rabin </s> <s> ibm journal of research and development  </s> <s>    </s> <s> </s> <s>  jeff erickson  uiuc  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn    trackback link powered by and </s> <s> thuật toán boyer moore  boyer moore algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  thuật toán boyermoore bm là một thuật toán tìm kiếm xâu khá hiệu quả trong thực tế tuy rằng về mặt lý thuyết số phép so sánh trong trường hợp tồi nhất là không tốt hơn thuật toán  </s> <s> ta phát biểu lại bài toán tìm kiếm xâu như sau thuật toán bm gồm hai bước chính bắt đầu từ vị trí của văn bản như vậy thuật toán bm sẽ đối sánh và theo chiều từ phải sang trái của </s> <s> liệu so sánh từ phải sang trái có tốt hơn từ trái sang phải như trong thuật toán trâu bò bằng cách áp dụng thêm luật kí tự tồi bad character rule và luật hậu tố tốt thuật toán bm trong thực tế nhanh hơn hẳn thuật toán trâu bò </s> <s> trước hết chúng ta hãy xem xét ví dụ sau để hiểu luật này </s> <s> ví dụ và </s> <s> hi vọng ví dụ trên đã thuyết phục bạn rằng đối sánh thừ phải sang trái thực sự nhanh hơn từ trái sang phải </s> <s> tại bước  và  trong ví dụ trên ta có thể dịch lên đơn vị ở mỗi bước chỉ dùng  phép so sánh </s> <s> do đó ta có thể suy ra trong trường hợp tốt nhất ta chỉ cần phép so sánh để tìm ra trong </s> <s> luật kí tự tồi sẽ cho phép chúng ta xác định giá trị của trong bước thứ  của thuật toán bm </s> <s> tại mỗi bước đối sánh một xâu con của với  kí tự gọi là nếu không khớp xảy ra tại kí tự này </s> <s> trong ví dụ trên tại bước thứ  kí tự là kí tự tồi </s> <s> hay trong bước  kí tự là kí tự tồi </s> <s> mỗi lần bắt gặp một kí tự tồi chúng ta dịch theo luật sau dịch lên một số đơn vị sao cho kí tự tồi khớp với kí tự là kí tự xuất hiện gần với nhất  lớn nhất </s> <s> nếu hoặc không tồn tại kí tự như vậy thì ta dịch lên  </s> <s> áp dụng luật kí tự tồi vào bước thứ  của ví dụ trên  ta dịch lên đơn vị sao cho khớp với vì là kí tự xuất hiện gần với nhất và khớp với  </s> <s> do đó ta phải dịch lên đơn vị </s> <s> để thực thi luật kí tự tồi với mỗi kí tự  gọi là vị trí xuất hiện của kí tự gần với nhất </s> <s> nếu  </s> <s> theo quy luật kí tự tồi mỗi bước chúng ta sẽ dịch một đoạn là thủ tục dưới đây cập nhật bảng trong thời gian </s> <s> giả mã của thuật toán bm sử dụng luật kí tự tồi như sau </s> <s> code của giả mã bằng c xét ví dụ khi bạn đang so sánh một đoạn của văn bản nào đó với  bạn sẽ thấy không khớp xảy ra ở vị trí  </s> <s> ta có kí tự khớp với và gần nhất là  theo luật kí tự tồi ta dịch lên đơn vị vì </s> <s> tuy nhiên ta có thể dịch lên  đơn vị để khớp với thay vì  </s> <s> luật kí tự tồi mở rộng phát biểu như sau dịch lên một số đơn vị sao cho kí tự tồi khớp với kí tự xuất hiện gần nhất bên trái của </s> <s> như vậy với mỗi gía trị không khớp  ta phải tìm lớn nhất sao cho và dịch sao cho </s> <s> gọi là bảng  chiều trong đó tương ứng với và vị trí xảy ra không khớp là trong mẫu </s> <s> thủ tục cập nhật bảng trong thời gian  nếu số kí tự trong bảng chữ cái không nhiều </s> <s> thuật toán bm với luật kí tự tồi mở rộng như sau code của giả mã bằng cchúng ta có thể tiết kiệm bộ nhớ bằng cách thay bảng bằng danh sách liên kết mỗi danh sách cho một kí tự của và mỗi danh sách của một kí tự lưu các vị trí xuất hiện của kí tự đó trong  sắp xếp theo chiều giảm dần của vị trí </s> <s> bằng phân tích khấu trừ như trong  chúng ta cũng có thể chứng minh rằng lưu trữ bằng danh sách liên kết như vậy tối đa sẽ mất thời gian thuật toán với mảng hai chiều không tính thời gian khởi tạo  </s> <s> một cách khác là chúng ta cũng có thể thay thế danh sách liên kết bằng các cấu trúc khác để tăng thời gian tìm kiếm </s> <s> ở đây mình không đi sâu vào các vấn đề như vậy </s> <s> cũng như luật kí tự tồi thời gian tiệm cận của thuật toán bm trong trường hợp xấu nhất vẫn không đổi và bằng </s> <s> chỉ sử dụng luật kí tự tồi không đủ để giảm thời gian tiệm cận của thuật toán bm và thực tế thuật toán vẫn chưa đủ nhanh và khó mở rộng một cách hiệu quả ra trường hợp tìm tất cả sự xuất hiện của trong </s> <s> ví dụ khi bạn muốn tìm tất cả các vị trí xuất hiện của xâu  kí tự  trong  kí tự  </s> <s> kể cả áp dụng luật kí tự tồi mở rông thời gian chaỵ vẫn là </s> <s> một luật nữa được đề xuất để cải tiến thuật toán đó là luật hậu tố tốt good suffix rule </s> <s> phiên bản đầu tiên của luật hậu tố tốt vẫn có thời gian tồi nhất </s> <s> phiên bản mình trình bày ở đây bao gồm cả cải tiến của galil  có thời gian trong trường hợp tồi nhất </s> <s> luật hậu tố tốt chúng ta phát biểu trong phần này mạnh hơn phát biểu gốc cuả thuật toán boyermoore  </s> <s> phát biểu gốc của thuật toán vẫn chưa đủ để chứng minh thời gian trong trường hợp tồi nhất là tuyến tính </s> <s> trước khi đi sâu vào phát biểu và thực thi luật hậu tố tốt mình recommend bạn đọc trước vì thực thi luật này sẽ sử dụng hàm trong bước tiền xử lí </s> <s> luật hậu tố tốt khá dài và khó hiểu </s> <s> giả sử khi so sánh một xâu con của văn bản khớp với hậu tố của mẫu  nhưng kí tự liền kề bên trái của không khớp với kí tự tương ứng trong </s> <s> tìm một xâu con nếu có phải nhất right most gần với kí tự cuối nhất của thỏa mãn không phải là hậu tố của và kí tự liền kề bên trái của khác với kí tự liền kề bên trái của hậu tố của </s> <s> dịch sao cho khớp với trong </s> <s> nếu không tồn taị dịch một số lượng ít nhất sao cho kí tự đầu tiên của vượt quá kí tự đầu tiên của và tiền tố của khớp với hậu tố của </s> <s> nếu không thể dịch để thỏa mãn điều kiện đó dịch lên đơn vị trường hợp ta tìm tất cả sự xuất hiện của trong  sau khi đã tìm thấy  ta dịch một lượng ít nhất >  sao cho tiền tố của khớp với hậu tố của trong </s> <s> trong trường hợp không thể dịch như vậy dịch lên đơn vị </s> <s> có lẽ chỉ đọc luật thôi đã mệt rồi </s> <s> nếu bạn đọc một lần chưa hiểu thì </s> <s> </s> <s> </s> <s> </s> <s> đọc lại vậy </s> <s> xét ví dụ sau và khi so sánh với  nhận thấy  theo  ta có thể dịch hoặc đơn vị để khớp với </s> <s> tuy nhiên theo  ta dịch sẽ dịch đơn vị </s> <s> xét một ví dụ khác và  khi so sánh với  nhận thấy </s> <s> không tồn tại trong trường hợp này theo ta dịch ít nhất đơn vị và theo  ta sẽ dịch đơn vị </s> <s> trường hợp muốn tìm tất cả sự xuất hiện của trong khá dễ hiểu và có lẽ không cần thêm ví dụ </s> <s> trước hết ta chứng minh luật hậu tố tốt không bỏ sót bất kì kí tự nào </s> <s> </s> <s> giả sử thẳng hàng với trước khi luật hậu tố tốt dịch sang vị trí mới để thẳng hàng với </s> <s> giả sử tồn tại sao chonếu tồn tại sẽ tồn tại là xâu con của gần hơn hiện tại khi thẳng hàng với hoặc tồn tại một tiền tố dài hơn của khớp với hậu tố của </s> <s> do đó luật hậu tố tốt sẽ dịch sao cho thẳng hàng với thay vì </s> <s> trước hết để ý luật hậu tố tốt phát biểu chỉ phụ thuộc vào  do đó ta có thể áp dụng tiền xử lí để thực thi luật này có gì đó hơi giống  </s> <s> nhận xét thấy luôn là một hậu tố của </s> <s> trước hết ta thực thi và trong luật hậu tố tốt </s> <s> gọi là vị trí lớn nhất nhỏ hơn sao cho xâu khớp với hậu tố của và là vị trí lớn nhất nhỏ hơn sao cho xâu khớp với hậu tố của và kí tự liền kề bên trái của hậu tố khớp trong khác </s> <s> ví dụ  nếu ta đã tính được và với mọi  theo trường hợp  và  của luật hậu tố tốt ta sẽ dịch một đoạn là  là vị trí ngay trước vị trí xảy ra không khớp </s> <s> ta sẽ tìm cách tính và trong thời gian </s> <s> với mỗi  gọi là chiều dài của hậu tố dài nhất của khớp với hậu tố của </s> <s> nhắc lại với một xâu  hàm z của có là chiều dài của xâu con dài nhất của bắt đầu từ và khớp với một tiền tố của </s> <s> do đó gọi là xâu đảo ngược của  ta có thể tính được thông qua z của như sau ta có quan hệ sau giữa và như sau và là chỉ số lớn nhất sao cho lemma  có thể được chứng minh trực tiếp từ định nghĩa của và coi như bài tập cho bạn đọc </s> <s> ta có thuật toán sau tính  </s> <s> code của giả mã bằng cbây giờ chúng ta chỉ cần phải thực hiện và trong luật hậu tố tốt và luật dịch khi ta muốn tìm tất cả các vị trí xuất hiện của trong </s> <s> gọi là chiều dài của hậu tố dài nhất có thể có  của khớp với một tiền tố của </s> <s> nếu không tồn tại hậu tố như vậy </s> <s> </s> <s> dựa vào định nghĩa của  ta có là số lớn nhất sao cho </s> <s> ta có giả mã tính trong thời gian như sau </s> <s> code của giả mã bằng ctổng kết lại gọi là kí tự khớp cuối cùng khi so sánh với một xâu con của  </s> <s> ta sẽ dịch một lượng bằng giả mã của thuật toán boyermoore đầy đủ với luật kí tự tồi và luật hậu tố tốt code của giả mã bằng cnếu mẫu không xuất hiện trong văn bản  knuth morris and pratt  chứng minh rằng thời gian tìm kiếm của thuật toán boyermoore với luật kí tự tồi và hậu tố tốt là </s> <s> phiên bản đầu tiên của thuật toán boyermoore  tìm tất cả sự xuất hiện của trong có thời gian trong trường hợp tồi nhất là </s> <s> galil  sửa đổi thuật toán boyermoore tìm tất cả sự xuất hiện của trong thời gian </s> <s> ở giả mã trên mình chỉ tìm một sự xuất hiện của </s> <s> code tìm sự tất cả sự xuất hiện của được đính kèm ở dưới mình sử dụng code này cho bài toán trên spoj </s> <s> trong trường hợp chỉ sử dụng luật kí tự tồi với văn bản đầu vào là các kí tự được sinh ngẫu nhiên thời gian của thuật toán boyermoore là sublinear </s> <s> trong thực tế thuật toán boyermoore cũng có thời gian sublinear do đó thuật toán này được ưu tiên sử dụng hơn các thuật toán khác </s> <s> code  </s> <s>  boyer robert s </s> <s>  and j </s> <s> strother moore </s> <s> </s> <s> communications of the acm  </s> <s>    </s> <s> </s> <s>  gusfield dan </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  sedgewick r </s> <s>  wayne k </s> <s>  </s> <s> </s> <s> addisonwesley </s> <s> isbn  </s> <s>  knuth donald e </s> <s>  james h </s> <s> morris jr and vaughan r </s> <s> pratt </s> <s> fast pattern matching in strings </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  galil zvi </s> <s> </s> <s> automata languages and programming </s> <s> springer berlin heidelberg  </s> <s>  </s> <s>   trackback link powered by and </s> <s> thuật toán z  z algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  hàm là một hàm rất quan trọng thường được áp dụng trong các bước tiền xử lí xâu kí tự </s> <s> một trong những ứng dụng nổi bật của hàm là trong thuật toán tìm kiếm xâu với thời gian tuyến tính </s> <s> thuật toán tìm kiếm xâu với hàm có lẽ là thuật toán đơn giản nhất trong số các thuật toán có cùng thời gian </s> <s> thêm nữa thuật toán này không phụ thuộc vào bảng chữ cái như một số thuật toán khác </s> <s> mình đã implement thuật toán tìm kiếm xâu dựa trên hàm cho bài toán tìm kiếm xâu trên và đã được accept </s> <s> code được đính ở cuối bài </s> <s> </s> <s> nói cách khác là chiều dài của tiền tố dài nhất của khớp với một tiền tố của </s> <s> ví dụ  ta có vì tiền tố dài nhất của khớp với tiền tố của là và có chiều dài bằng </s> <s> tương tự </s> <s> trong phần này để đơn giản ta kí hiệu thay cho </s> <s> với mỗi với  ta gọi một là interval đoạn có chiều dài </s> <s> gọi là điểm cuối lớn nhất của các zbox bắt đầu từ hoặc trước </s> <s> một cách hình thức gọi là điểm đầu của zbox tương ứng kết thúc tại </s> <s> với ví dụ trên hay </s> <s> dựa vào định nghĩa của  ta có thể tính được bảng trong thời gian </s> <s> tuy nhiên chúng ta có thể tính nhanh hơn thế </s> <s> ý tưởng của thuật toán như sau giả mã của thuật toán như sau </s> <s> code của giả mã bằng ctrong giả mã trên bước của thuật toán chỉ phụ thuộc vào  chúng ta có thể giảm bộ nhớ bằng cách chỉ dùng hai biến </s> <s> ta có thể chứng minh tính đúng đắn của thuật toán bằng phương pháp quy nạp coi như bài tập cho bạn đọc </s> <s> mỗi vòng for của thuật toán hoặc mất thời gian  trong câu lệnh  hoặc mất thời gian tỉ lệ tuyến tính với số lượng phép so sánh bằng trong câu lệnh while  </s> <s> do tổng số lượng phép so sánh bằng không vượt quá chiều dài của xâu  số lượng phép so sánh bằng trung bình của mỗi vòng lặp for là </s> <s> do đó tổng thời gian của thuật toán là </s> <s> ta có thể áp dụng hàm để giải bài toán tìm kiếm xâu sau trong thời gian  gọi  là kí tự thuộc bảng chữ cái </s> <s> giả mã của thuật toán như sau do hàm có thời gian tuyến tính ta có code  </s> <s>  daniel m </s> <s> gusfield  ucdavis  </s> <s> </s> <s>  codeforces forum by   trackback link powered by and </s> <s> mảng hậu tố suffix array </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/preplytocom </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nhưng đã giới thiệu ở  cây hậu tố là một cấu trúc dữ liệu rất mạnh để thực hiện nhiều truy vấn văn bản với thời gian </s> <s> tuy nhiên điểm yếu chính của cây hậu tố là bộ nhớ lớn do mỗi nút của cây phải lưu nhiều thông tin mặc dù về mặt lý thuyết là </s> <s> nếu thực thi cây hậu tố tốt thì mỗi kí tự cũng phải mất trung bình bộ nhớ  bytes </s> <s> như vậy nếu ta có gb text thì cần gb bộ nhớ cho cây hậu tố </s> <s> mảng hậu tố suffix array được giới thiệu bởi manber và mayer  năm  như là một thay thế cho cây hậu tố </s> <s> điểm mạnh của mảng hậu tố là tiết kiệm được nhiều bộ nhớ </s> <s> ngoài ra nếu kết hợp mảng hậu tố với một vài mảng thông tin khác như mảng tiền tố chung lớn nhất mảng lcp  longest common prefix thì có thể thực hiện hậu hết các truy vấn như cây hậu tố với cùng thời gian  </s> <s> do những lợi ích đó mà mảng hậu tố được rất nhiều nhà nghiên cứu quan tâm và rất nhiều giải thuật được phát triển để xây dựng cây hậu tố </s> <s> trong  các tác giả phân loại hàng chục thuật toán cũng như các phân tích thời gian và bộ nhớ </s> <s> mình đính kèm phân loại đó ở phần phụ lục </s> <s> cho văn bản với các kí tự trong bảng chữ cái </s> <s> ta quy ước  là kí tự nhỏ nhất thuộc bảng chữ cái và chỉ xuất hiện duy nhất một lần trong </s> <s> văn bản có hậu tố trong đó hậu tố thứ là </s> <s> ta tập hợp các hậu tố thành một mảng </s> <s> để sử dụng mảng này thực hiện các truy vấn thông thường ta muốn mảng này được </s> <s> do đó ta sẽ gán nếu hậu tố gọi là hậu tố thứ  có vị trí thứ trong mảng hậu tố đã sắp xếp </s> <s> mảng gọi là </s> <s> ví dụ  mảng hậu tố của như sau </s> <s> theo bảng trên có nghĩa là hậu tố thứ là  đứng thứ  trong mảng các hậu tố đã sắp xếp theo thứ tự từ điển </s> <s> do  là kí tự nhỏ nhất trong theo thứ tự từ điển ta luôn có </s> <s> đi kèm với mảng hậu tố là  gọi tắt là </s> <s> mảng lcp kí hiệu là  là mảng trong đó là chiều dài của tiền tố chung dài nhất của hai hậu tố và </s> <s> giá trị không xác định và quy ước là </s> <s> với ví dụ trên vì chiều dài tiền tố chung dài nhất của hậu tố là  và là  là </s> <s> thuật toán đơn giản nhất ta có thể nghĩ tới để xây dựng mảng hậu tố là liệt kê tất cả các hậu tố và sau đó sắp xếp các hậu tố theo thứ tự từ điển </s> <s> có tất cả hậu tố của xâu  do đó sắp xếp các hậu tố có thể thực hiện trong phép so sánh ví dụ quicksort </s> <s> do so sánh hai hậu tố có thể thực hiện trong thời gian  ta có thể xây dựng mảng hậu tố trong thời gian </s> <s> nếu bằng cách nào đó chúng ta chỉ mất thời gian cho mỗi phép so sánh hai hậu tố chúng ta sẽ thu được thuật toán </s> <s> phần này mình giới thiệu hai thuật toán khác nhau thực hiện ý tưởng so sánh đó </s> <s> phương pháp này được trình bày trong lecture note  </s> <s> trước khi đọc tiếp mình khuyến khích bạn đọc xem lại bài tìm kiếm xâu với thuật toán </s> <s> ý tưởng chính của thuật toán rabinkarp là biến mỗi xâu con thành một số nguyên không quá lớn ví dụ  bit sử dụng phép băm và việc so sánh hai xâu con được quy về so sánh hai số nguyên với thời gian </s> <s> giả sử bằng cách nào đó mà ta sẽ mô tả sau chúng ta có thể kiểm tra xem hai xâu con của văn bản có bằng nhau hay không trong thời gian </s> <s> để so sánh hai hậu tố và của  ta sẽ sử dụng tìm kiếm nhị phân trong thời gian để tìm số sao cho và khi đã tìm được  ta chỉ cần so sánh và </s> <s> do đó phép so sánh hai hậu tố được thực hiện trong </s> <s> để phép kiểm tra hai xâu con có bằng nhau hay không trong thời gian  ta sẽ thực hiện tiền xử lí </s> <s> ta sẽ sử dụng hàm băm trong đó là một số nguyên tố được chọn ngẫu nhiên trong khoảng </s> <s> ta chọn ngẫu nhiên để đảm bảo về mặt lý thuyết xác suất đụng độ nhỏ xem lại phân tích trong bài  </s> <s> trong thực tế ta chỉ cần chọn một số nguyên tố lớn </s> <s> ví dụ trong  tác giả chọn </s> <s> gọi là cơ số thường chọn là số kí tự trong bảng chữ cái </s> <s> gọi là mảng trong đó </s> <s> định nghĩa mảng như sau quy ước  mảng và có thể tính được trong thời gian sử dụng </s> <s> ta chuyển mỗi xâu con của thành một số nguyên giá trị hash có dạng dễ thấy do đó giá trị với bất kì có thể tính được trong thời gian nếu biết và </s> <s> từ đó suy ra ta có thể kiểm tra xem hai xâu con có bằng nhau hay không trong thời gian bằng cách so sánh hai giá trị hash </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính ở cuối bài </s> <s> với hai hậu tố cho trước sửa đổi thủ tục một chút ta có thể tính được chiều dài tiền tố chung lớn nhất trong thời gian </s> <s> do đó ta có thể xây dựng mảng lcp trong thời gian </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> tổng kết lại ta có thuật toán nhân đôi tiền tố prefix doubling được đề xuất bởi uber và mayer  có thời gian sử dụng thuật toán đếm phân phối </s> <s> trong phần này mình trình bày một biến thể  sử dụng quick sort </s> <s> trước hết coi văn bản đầu vào có chiều dài vô hạn bằng cách thêm vào cuối văn bản vô hạn kí tự  </s> <s> gọi văn bản vô hạn là </s> <s> chú ý là  là kí tự nhỏ hơn  theo thứ tự từ điển tất cả các kí tự khác trong bảng chữ cái và chỉ xuất hiện trong văn bản đúng một lần tại vị trí cuối cùng </s> <s> do vô hạn với mỗi số ta có đúng xâu con của chiều dài  mỗi xâu bắt đầu bằng một kí tự của </s> <s> thuật toán thực hiện theo bước như sauta có nhận xét sau thứ tự của các xâu con thu được sau bước cuối cùng chính là thứ tự đã sắp xếp của các hậu tố bắt đầu bằng kí tự đầu tiên của các xâu con đó </s> <s> nhận xét đó là do các kí tự  là kí tự nhỏ nhất theo thứ tự từ điển </s> <s> chi tiết chứng minh của nhận xét đó coi như bài tập cho bạn đọc </s> <s> ta sẽ chứng minh rằng nếu sử dụng quick sort để sắp xếp thì mỗi bước của thuật toán có thể được thực thi trong thời gian </s> <s> </s> <s> bước đầu tiên ta có thể thực hiện trong thời gian sử dụng quick sort </s> <s> tại bước thứ  ta sẽ sắp xếp các xâu con có độ dài sử dụng quick sort </s> <s> để ý rằng tại bước  ta đã có thứ tự tương đối giữa các xâu con độ dài </s> <s> nếu coi xâu con độ dài là ghép của hai xâu con độ dài  xâu con độ dài thứ nhất gọi là và xâu con độ dài thứ hai gọi là  thì ta chỉ việc so sánh hai khóa cua hai xâu độ dài thay vì so sánh trực tiếp </s> <s> do đó việc so sánh có thể thực hiện trong thời gian thay vì </s> <s> như vậy ta sẽ có thuật toán </s> <s> tuy nhiên đó vẫn chưa phải là tất cả chúng ta cần </s> <s> ta cần thêm một cách mã hóa để mã hóa vị trí tương đối giữa các xâu con </s> <s> do mỗi bước ta có đúng xâu con ta gán cho mỗi xâu con một số trong tập để khi so sánh hai xâu ta chỉ cần so sánh hai số tương ứng </s> <s> chú ý là hai xâu giống nhau ta phải gán cho hai số giống nhau </s> <s> ta có thể làm như sautại bước  sau khi sắp xếp mỗi xâu độ dài sẽ được gán cho một số là vị trí của nó trong mảng đã sắp xếp </s> <s> ta sẽ thực hiện duyệt qua mảng để một lần để gán lại đảm bảo </s> <s> bước duyệt này chỉ mất </s> <s> như vậy ta có thể thực hiện mỗi bước trong thời gian trước khi trình bày giả mã của thuật toán mình sẽ nói qua đôi chút về tổ chức dữ liệu theo  </s> <s> với mỗi xâu con độ dài  ta sẽ lưu  giá trịta cũng sử dụng mảng hai chiều trong đó hàng lưu mã của xâu con bắt đầu từ độ dài như mô tả trong chứng minh của lemma  </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính kèm ở cuối bàidựa vào mảng  ta có thể tính được chiều dài cuả tiền tố chung dài nhất của hai hậu tố trong thời gian bằng cách chia nhị phân </s> <s> do đó mảng lcp có thể tính được trong thời gian </s> <s> giả mã như sau </s> <s> code của giả mã bằng c mình khuyến khích bạn đọc code và submit bài tại </s> <s> cả hai thuật toán trên sẽ được khoảng  điểm </s> <s> code submit mình đính kèm dưới đây </s> <s> code đầy đủ của giả mã   </s> <s> </s> <s>  manber udi and myers gene </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  daniel sleator </s> <s> </s> <s> cmu fall  </s> <s> </s> <s>  vladu adrian and cosmin negruşeri </s> <s>  </s> <s> </s> <s>  puglisi simon j </s> <s>  william f </s> <s> smyth and andrew h </s> <s> turpin </s> <s> acm computing surveys csur  </s> <s>    </s> <s> </s> <s>  abouelhoda mohamed ibrahim stefan kurtz and enno ohlebusch </s> <s> journal of discrete algorithms  </s> <s>    </s> <s> </s> <s>  kasai toru gunho lee hiroki arimura setsuo arikawa and kunsoo park </s> <s> in combinatorial pattern matching pp </s> <s>  </s> <s> springer berlin heidelberg  </s> <s> phân loại các thuật toán xây dựng mảng hậu tố     trackback link on wow this could be one particular of the most helpful blogs we have ever arrive across on this subject </s> <s> actually fantastic </s> <s> i am also an expert in this topic therefore i can understand your effort </s> <s> powered by and </s> <s> tổng quan về cấu trúc dữ liệu </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/datastructuresoverview </s> <s> </s> <s> </s> <s> </s> <s> table of contents  </s> <s> ctdl lưu trữ  </s> <s>  </s> <s> mảng array danh sách liên kết linked list  </s> <s>  </s> <s> stack queue deque  </s> <s>  </s> <s>  </s> <s> stack  </s> <s>  </s> <s>  </s> <s> queue  </s> <s>  </s> <s>  </s> <s> deque  </s> <s>  </s> <s> priority queue  heap  </s> <s>  </s> <s> cây tìm kiếm nhị phân  </s> <s>  </s> <s> bảng băm hash tables  </s> <s> ctdl truy vấn  </s> <s>  </s> <s> mảng cộng dồn prefix sum  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tìm tổng một đoạn liên tiếp  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tăng giá trị các đoạn  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn trên bảng  chiều  </s> <s>  </s> <s> disjoint sets  </s> <s>  </s> <s> sparse table  </s> <s>  </s> <s> segment tree  </s> <s>  </s> <s> fenwick  </s> <s>  </s> <s> heavylight decomposition  </s> <s>  </s> <s> persistent data structures  </s> <s> ctdl xâu  </s> <s>  </s> <s> cây tiền tố trie  </s> <s>  </s> <s> aho corasick  </s> <s>  </s> <s> mảng hậu tố suffix array  </s> <s>  </s> <s> suffix automaton  </s> <s>  </s> <s> palindrome tree các tài liệu tham khảo </s> <s> </s> <s> mặc dù máy tính đã có thể xử lý hàng triệu phép tính mỗi giây nhưng khi một bài toán trở phức tạp cách tổ chức dữ liệu vẫn vô cùng quan trọng </s> <s> </s> <s> </s> <s> để minh họa điểm này hãy tham khảo ví dụ sau bạn đi đến thư viện thử tìm kiếm một quyển sách với chủ đề nào đó </s> <s> các cuốn sách được xếp theo lĩnh vực </s> <s> trong mỗi chủ đề sách lại được xếp theo tên tác giả nhờ vậy mà việc lấy và cất sách từ giá trở nên khá dễ dàng và đơn giản </s> <s> </s> <s> </s> <s> bây giờ hãy thử tưởng tượng thay vì tổ chức thành từng giá sách cụ thể sách được chất thành từng đống ở khắp thư viện </s> <s> để tìm được quyển sách của mình bạn sẽ phải mất hàng giờ thậm chí rất nhiều ngày </s> <s> </s> <s> </s> <s> tương tự một phần mềm không thể vận hành hiệu quả khi dữ liệu không được lưu trữ một cách phù hợp với ứng dụng </s> <s> </s> <s> </s> <s> trong bài viết này chúng ta sẽ cùng nhau điểm qua các loại cấu trúc dữ liệu từ cơ bản đến nâng cao </s> <s> để tìm hiểu chi tiết về một cấu trúc dữ liệu các bạn có thể đọc ở link tương ứng </s> <s> trong bài viết này mình tạm chia các ctdl được chia thành các loại sau </s> <s> </s> <s> </s> <s> </s> <s> ctdl lưu trữ  thường có các thao tác như thêm  phần tử xóa  phần tử </s> <s> có thể có thêm các thao tác như tìm kiếm  phần tử </s> <s> </s> <s> </s> <s> ctdl truy vấn  thường dùng cho các bài toán mà bạn phải duy trì một tập hợp các số và thực hiện  số truy vấn trên đó </s> <s> </s> <s> </s> <s> ctdl xâu  dùng cho các bài tập xử lý xâu </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> ctdl lưu trữ </s> <s> </s> <s>  </s> <s>  </s> <s> mảng array danh sách liên kết linked list </s> <s> </s> <s> mảng và danh sách liên kết là  cấu trúc dữ liệu nền tảng cho tất cả các loại cấu trúc dữ liệu khác </s> <s> mảng và danh sách liên kết đều được dùng khi bạn muốn lưu nhiều dữ liệu thường có cùng kiểu dữ liệu </s> <s> bảng dưới đây so sánh các thao tác về mảng và danh sách liên kết </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> mảng </s> <s> danh sách liên kết </s> <s> </s> <s> </s> <s> bộ nhớ </s> <s> cố định cần biết trước số phần tử </s> <s> có thể tăng giảm tùy ý </s> <s> </s> <s> </s> <s> thêm/xóa  phần tử </s> <s> mathcalon </s> <s> mathcalo giả sử biết con trỏ tới phần tử đó </s> <s> </s> <s> </s> <s> tìm kiếm  phần tử </s> <s> mathcalon </s> <s> mathcalon </s> <s> </s> <s> </s> <s> truy cập phần tử </s> <s> mathcalo </s> <s> mathcalon </s> <s> </s> <s> </s> <s> khác </s> <s>  ít bộ nhớ hơn  cache locality các phần tử ở vị trí gần nhau trên bộ nhớ máy tính nên khi truy cập các phần tử liên tiếp sẽ nhanh hơn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về mảng và danh sách liên kết ở đây </s> <s> </s> <s>  </s> <s>  </s> <s> stack queue deque </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> stack </s> <s> </s> <s> stack là ctdl cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm  phần tử vào cuối ctdl </s> <s> xóa  phần tử khỏi cuối ctdl </s> <s> </s> <s> </s> <s> cả  thao tác trên đều có độ phức tạp mathcalo </s> <s> chú ý ta chỉ có thể xóa phần tử ở cuối ctdl nói cách khác là phần tử mà mới được thêm vào gần nhất </s> <s> vì vậy stack còn được gọi là fifo first in first out </s> <s> </s> <s> </s> <s> stack có cài đặt đơn giản và được sử dụng trong nhiều thuật toán như dfs tìm chu trình euler tìm khớp của đồ thị </s> <s> </s> <s> </s> <s> trong c stl có sẵn kiểu dữ liệu stack </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> queue </s> <s> </s> <s> queue là ctdl cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm  phần tử vào cuối ctdl </s> <s> xóa  phần tử khỏi đầu ctdl </s> <s> </s> <s> </s> <s> </s> <s> cả  thao tác đều có độ phức tạp mathcalo </s> <s> chú ý ta chỉ có thể xóa phần tử ở đầu ctdl nói cách khác là phần tử mà đã được thêm vào lâu nhất </s> <s> vì vậy stack còn được gọi là lifo last in first out </s> <s> </s> <s> </s> <s> queue có cài đặt đơn giản và được sử dụng trong bfs </s> <s> </s> <s> </s> <s> trong c stl có sẵn kiểu dữ liệu queue </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> deque </s> <s> </s> <s> deque double ended queue là ctdl tổng quát hơn của stack và queue </s> <s> nó cho phép </s> <s> </s> <s> </s> <s> thêm  phần tử vào đầu hoặc cuối ctdl </s> <s> </s> <s> xóa  phần tử khỏi đầu hoặc cuối ctdl </s> <s> </s> <s> </s> <s> </s> <s> cả  thao tác đều có độ phức tạp mathcalo </s> <s> </s> <s> </s> <s> deque được sử dụng trong một số thuật toán như </s> <s> </s> <s> </s> <s> bfs  </s> <s> </s> <s> tìm min/max trên đoạn tịnh tiến </s> <s> </s> <s> </s> <s> </s> <s> trong c stl có sẵn kiểu dữ liệu deque </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> priority queue  heap </s> <s> </s> <s> heap là một cấu trúc dữ liệu cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm một phần tử với độ phức tạp mathcalologn </s> <s> </s> <s> xóa một phần tử với độ phức tạp mathcalologn </s> <s> </s> <s> tìm max của các phần tử với độ phức tạp mathcalo </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về heap ở đây </s> <s> </s> <s> fibonacci heap là một dạng heap có độ phức tạp bé hơn </s> <s> trong c  ctdl priorityqueue được cài đặt bằng fibonacci heap </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cây tìm kiếm nhị phân </s> <s> </s> <s> cây tìm kiếm nhị phân  bst binary search tree  là một cây nhị phân có tính chất với mỗi giá trị trên đỉnh đang xét giá trị của mọi đỉnh trên cây con trái luôn nhỏ hơn đỉnh đang xét và giá trị của mọi đỉnh trên cây con phải luôn lớn hơn đỉnh đang xét </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> cây tìm kiếm nhị phân cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm  phần tử </s> <s> </s> <s> xóa  phần tử </s> <s> </s> <s> kiểm tra  phần tử có tồn tại hay không </s> <s> </s> <s> tìm phần tử đầu tiên lớn hơn hoặc bằng  giá trị x cho trước </s> <s> </s> <s> </s> <s> </s> <s> trong trường hợp dữ liệu ngẫu nhiên các thao tác trên có độ phức tạp trung bình là mathcalologn </s> <s> tuy nhiên trong trường hợp xấu nhất cây tìm kiếm nhị phân bị suy biến thành  đường thẳng  thì độ phức tạp mỗi thao tác là mathcalon </s> <s> </s> <s> </s> <s> để khắc phục điều này có rất nhiều ctdl cải tiến từ cây tìm kiếm nhị phân thường được gọi là các cây nhị phân cân bằng </s> <s> khi đó các thao tác trên có thể được thực hiện với độ phức tạp mathcalologn </s> <s> ví dụ </s> <s> </s> <s> </s> <s> </s> <s> cây đỏ đen redblack tree là một dạng cây tìm kiếm nhị phân  bst  mà sau mỗi truy vấn được thực hiện cây tự cân bằng theo đúng tính chất của nó với độ phức tạp ologn </s> <s> ctdl set trong c được cài đặt bằng cây đỏ đen </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> splay tree  skip list  treap thường được dùng trong các kỳ thi bởi cài đặt đơn giản </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> bảng băm hash tables </s> <s> </s> <s> bảng băm là một ctdl thường được sử dụng như một từ điển mỗi phần tử trong bảng băm là một cặp khóa giá trị </s> <s> nếu so sánh với mảng khóa được xem như chỉ số của mảng còn giá trị giống như giá trị mà ta lưu tại chỉ số tương ứng </s> <s> bảng băm không như các loại từ điển thông thường  ta có thể tìm được giá trị thông qua khóa của nó </s> <s> </s> <s> </s> <s> bảng băm hoạt động dựa trên hàm hash hash là quá trình khởi tạo một giá trị khóa thường là  bit hoặc  bit từ một phần dữ liệu </s> <s> nó có thể là n bit đầu tiên của dữ liệu n bit cuối cùng giá trị mod cho một số nguyên tố nào đó </s> <s> dựa theo giá trị hash dữ liệu được chia vào các bucket  </s> <s> </s> <s> </s> <s> </s> <s> trong trường hợp hàm hash hoạt động tốt mỗi bucket có rất ít phần tử độ phức tạp của các thao tác trên hash table như sau </s> <s> </s> <s> </s> <s> tìm  khóa mathcalo </s> <s> </s> <s> thêm / xóa  khóa mathcalo </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về hash table ở đây </s> <s> </s> <s>  </s> <s> ctdl truy vấn </s> <s> </s> <s>  </s> <s>  </s> <s> mảng cộng dồn prefix sum </s> <s> </s> <s> mảng cộng dồn là một cách áp dụng khéo léo mảng </s> <s> có  dạng bài cơ bản có thể giải được bằng cách áp dụng prefix sum </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tìm tổng một đoạn liên tiếp </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> cho một mảng aaa </s> <s> </s> <s> </s> <s> an </s> <s> </s> <s> cần trả lời nhiều truy vấn mỗi truy vấn cho  số l và r yêu cầu in ra tổng al  al  </s> <s> </s> <s> </s> <s>  ar </s> <s> </s> <s> </s> <s> </s> <s> cách làm </s> <s> </s> <s> </s> <s> tạo một mảng s với si  a  a  </s> <s> </s> <s> </s> <s>  ai </s> <s> mảng s được gọi là mảng cộng dồn </s> <s> với mỗi truy vấn in ra sr – sl </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tăng giá trị các đoạn </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> cho mảng aa </s> <s> </s> <s> </s> <s> an </s> <s> </s> <s> cần thực hiện nhiều truy vấn mỗi truy vấn cho  số l r v </s> <s> yêu cầu với mỗi i l le i le r cộng v vào ai </s> <s> </s> <s> tính mảng a sau khi thực hiện tất cả các truy vấn </s> <s> </s> <s> </s> <s> </s> <s> cách làm </s> <s> </s> <s> </s> <s> tạo một mảng p pp </s> <s> </s> <s> </s> <s> pn </s> <s> khởi tạo pi   </s> <s> </s> <s> với mỗi truy vấn tăng pl lên v và trừ pr đi v </s> <s> </s> <s> cuối cùng với mỗi i từ  pi  pi– </s> <s> ta có ai  ai  pi </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn trên bảng  chiều </s> <s> </s> <s> trên bảng  chiều ai j ta đặt fi j là tổng các ô trong hình chữ nhật có  đỉnh đối diện là   và i j </s> <s> </s> <s> </s> <s> khi đó ta có fi j  fi j  fi j  fi j  ai j </s> <s> </s> <s> </s> <s> giải thích công thức trên </s> <s> </s> <s> </s> <s> </s> <s> đỏ  xanh da trời  vàng  tím  xanh lá </s> <s> </s> <s> fi j  fi j  fi j  fi j  ai j </s> <s> </s> <s>  </s> <s>  </s> <s> disjoint sets </s> <s> </s> <s> disjoint sets là cấu trúc dữ liệu được sử dụng trong thuật toán kruskal và thuật toán prim   thuật toán tìm cây khung nhỏ nhất của đồ thị </s> <s> như tên gọi của nó disjoint set được dùng để quản lý các tập hợp không giao nhau </s> <s> </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho đồ thị có n đỉnh </s> <s> ta cần thực hiện  loại truy vấn </s> <s> </s> <s> </s> <s> nối  đỉnh i và j </s> <s> kiểm tra  đỉnh i và j có thuộc cùng thành phần liên thông hay không </s> <s> </s> <s> </s> <s> </s> <s> disjoint set cho phép ta thực hiện  thao tác trên với độ phức tạp mathcalologn </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về disjoint set ở bài viết này </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> sparse table </s> <s> </s> <s> sparse table là cấu trúc dữ liệu được sử dụng trong bài toán lca amp rmq </s> <s> </s> <s> </s> <s> với cả  bài toán sparse table cho phép </s> <s> </s> <s> </s> <s> khởi tạo với độ phức tạp mathcalon logn </s> <s> </s> <s> trả lời truy vấn với độ phức tạp mathcalo </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> segment tree </s> <s> </s> <s> segment tree còn được gọi là interval tree trong nhiều tài liệu tiếng việt là cấu trúc dữ liệu cho phép thực hiện các truy vấn trên một dãy số </s> <s> segment tree rất linh động và có thể áp dụng với nhiều loại truy vấn khác nhau nên nó xuất hiện rất nhiều trong các kỳ thi </s> <s> </s> <s> </s> <s> với dãy số độ dài n segment tree cho phép thực hiện các thao tác với độ phức tạp mathcalologn </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về segment tree ở đây </s> <s> </s> <s> </s> <s> segment tree cũng có một mở rộng với nhiều ứng dụng quan trọng là segment tree trên tập đoạn thẳng </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> fenwick </s> <s> </s> <s> cũng giống như segment tree fenwick tree còn được gọi là binary indexed tree là cấu trúc dữ liệu cho phép thực hiện các truy vấn trên một dãy số </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> độ phức tạp mỗi thao tác cũng là mathcalologn </s> <s> </s> <s> hằng số tự nhiên thấp hơn segment tree nên chạy nhanh hơn </s> <s> </s> <s> dùng ít bộ nhớ hơn </s> <s> </s> <s> dễ cài đặt hơn segment tree </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> không tổng quát bằng segment tree </s> <s> tất cả những bài giải được bằng fenwick tree đều có thể giải được bằng segment tree </s> <s> nhưng chiều ngược lại không đúng </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về fenwick tree ở đây </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> heavylight decomposition </s> <s> </s> <s> heavy light decomposition là một thuật toán được áp dụng nhiều trong những bài cần xử lý các truy vấn trên cây </s> <s> heavylight decomposition là kĩ thuật phân tách một cây thành nhiều chuỗi đỉnh chain rời nhau </s> <s> sau đó chúng ta có thể áp dụng các cấu trúc dữ liệu như interval tree hay binaryindexed tree lên những chuỗi này để có thể cập nhật dữ liệu hoặc trả lời các truy vấn trên một đường đi giữa  đỉnh trong cây </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm ở thuật toán phân tách cây </s> <s> </s> <s>  </s> <s>  </s> <s> persistent data structures </s> <s> </s> <s> persistent data structures là những cấu trúc dữ liệu được dùng khi chúng ta cần có toàn bộ lịch sử của các thay đổi trên  cấu trúc dữ liệu </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm ở persistent data structures </s> <s> </s> <s>  </s> <s> ctdl xâu </s> <s> </s> <s>  </s> <s>  </s> <s> cây tiền tố trie </s> <s> </s> <s> trie là một cấu trúc dữ liệu dùng để quản lý một tập hợp các xâu </s> <s> trie cho phép </s> <s> </s> <s> </s> <s> thêm một xâu vào tập hợp với độ phức tạp mathcalol với l là độ dài xâu cần thêm </s> <s> </s> <s> xóa một xâu khỏi tập hợp với độ phức tạp mathcalol </s> <s> </s> <s> kiểm tra một xâu có tồn tại trong tập hợp hay không với độ phức tạp mathcalol </s> <s> </s> <s> </s> <s> </s> <s> ngoài ra trên thực tế trie cũng rất tiết kiệm bộ nhớ khi áp dụng để lưu các từ có nghĩa vì vậy nó là một ctdl có ứng dụng rất lớn </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm bài viết về trie </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> aho corasick </s> <s> </s> <s> bài viết sẽ được cập nhật sau </s> <s> </s> <s>  </s> <s>  </s> <s> mảng hậu tố suffix array </s> <s> </s> <s> suffix array là một ctdl giúp sắp xếp các hậu tố của một xâu theo thứ tự từ điển </s> <s> ctdl này thường được sử dụng trong các bài toán xử lý xâu </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về suffix array ở đây </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> suffix automaton </s> <s> </s> <s> bài viết sẽ được cập nhật sau </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> palindrome tree </s> <s> </s> <s> palindrome tree còn được gọi là eertree là một ctdl mới được phổ biến vào năm  nhờ bài thuyết trình của mikhail rubinchik </s> <s> </s> <s> </s> <s> như tên gọi của nó palindrome tree là một ctdl giúp giải quyết các bài toán về palindrome </s> <s> bạn có thể đọc thêm ở đây </s> <s> </s> <s> các tài liệu tham khảo </s> <s> </s> <s> </s> <s> codeforces </s> <s> topcoder </s> <s> </s> <s> </s> <s> </s> <s> số học   tính ab  c </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth và  số bài viết trên wikipedia </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents thuật toán ngây thơ thuật toán chia để trị </s> <s> </s> <s> xét bài toán tính abc với  là dấu đồng dư thức và b có thể rất lớn ví dụ b leq  </s> <s> </s> <s> </s> <s> thuật toán ngây thơ </s> <s> </s> <s> ab có thể viết là a </s> <s> a </s> <s> a </s> <s> a </s> <s> </s> <s> </s> <s>  với b chữ a </s> <s> do đó ta có thể nhân b lần a để có được kết quả </s> <s> </s> <s> </s> <s> long long power  long long a  long long b  long long c   </s> <s> long long ans    </s> <s> for  int i    i lt b  i    </s> <s> ans  a  </s> <s> ans  c  </s> <s>  </s> <s> return ans  </s> <s>  </s> <s> trong mỗi lần lặp biến ans chứa kết quả được nhân với a </s> <s> ngoài ra ta cần đảm bảo a sẽ không vượt quá c trong các lần lặp vì thế ta lấy phần dư khi chia ans cho c  ans  ans  c  </s> <s> ta làm được vậy là nhờ tính chất x </s> <s> y  n  x  n </s> <s> y  n  n </s> <s> </s> <s> </s> <s> vì vậy trong code trên ta tính ans </s> <s> ac bằng cách tính ansc </s> <s> acc </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán ob </s> <s> </s> <s> </s> <s> thuật toán chia để trị </s> <s> </s> <s> dễ dàng nhận thấy thuật toán trên không hiệu quả vì thế ta cần tìm thuật toán hiệu quả hơn </s> <s> ta có thể giải bài toán này với độ phức tạp ologb bằng kĩ thuật lũy thừa bằng cách bình phương exponentiation by squaring </s> <s> kĩ thuật này chỉ cần ologb lần bình phương và ologb phép nhân để ra kết quả </s> <s> rõ ràng cách giải này hiệu quả hơn nhiều lần so với thuật toán ngây thơ </s> <s> </s> <s> </s> <s> ta biết rằng ab có thể được viết dưới dạng </s> <s> </s> <s> abafracb nếu b chia hết cho  </s> <s> </s> <s> </s> <s> aba </s> <s> afracb nếu b không chia hết cho  </s> <s> </s> <s> </s> <s> ab nếu b </s> <s> </s> <s> </s> <s> int sqr  int x   </s> <s> return x  x  </s> <s>  </s> <s> </s> <s> int pow  int a  int b  int mod   </s> <s> if  b    return   mod  </s> <s> else </s> <s> if  b      </s> <s> return sqr  pow  a  b /    mod  </s> <s> else </s> <s> return a   sqr  pow  a  b /    mod   mod  </s> <s>  </s> <s> </s> <s> giả sử ta có abc khi đó kết quả là pow </s> <s> </s> <s> </s> <s> do b lẻ nên hàm pow gọi hàm pow để tính  </s> <s> pow </s> <s> trong hàm pow do b chẵn nên powpow </s> <s> trong hàm pow do b lẻ nên powpow </s> <s> </s> <s> trong hàm pow do b nên ta trả về  </s> <s> </s> <s> quay lại hàm pow hàm này trả về giá trị  </s> <s> </s> <s> quay lại hàm pow hàm này trả về giá trị  </s> <s> </s> <s> quay lại hàm pow hàm này trả về giá trị  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> vậy ta có  </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán ologb </s> <s> </s> <s> </s> <s> số học   modulo  gcd </s> <s> http//vnoi </s> <s> info/wiki/translate/he/sohocphanmodulogcd </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth và  số bài viết trên wikipedia </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents giới thiệu đồng dư thức modulo ước chung lớn nhất thuật toán ngây thơ naive approach thuật toán euclid thuật toán euclid mở rộng extended euclid algorithm </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> các bài toán trong lập trình thi đấu competitive programming mà liên quan đến toán học thường sẽ rơi vào hai mảng là số học number theory và hình học </s> <s> nếu bạn biết nhiều về số học bạn sẽ có khả năng giải quyết nhiều bài toán khó và một nền tảng tốt để giải quyết nhiều bài toán khác </s> <s> </s> <s> </s> <s> các bài toán trong lập trình thi đấu thường đòi hỏi bạn một cái nhìn sâu sắc vì vậy chỉ biết một số vấn đề về số học là không đủ </s> <s> mọi bài toán đều đều yêu cầu bạn phải biết một lượng kiến thức toán nhất định </s> <s> ví dụ một số bài toán yêu cầu bạn phải giải một hệ nhiều phương trình hay tính xấp xỉ nghiệm của nhiều phương trình khác nhau </s> <s> </s> <s> </s> <s> đồng dư thức modulo </s> <s> </s> <s> phép đồng dư thức cho bạn số dư của phép chia số này cho số khác </s> <s> dấu của phép đồng dư là  </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> ta có hai số  và  khi đó  bằng  do khi chia  cho  ta được số dư là  </s> <s> </s> <s> </s> <s> tính chất </s> <s> đồng dư thức có một số tính chất sau </s> <s> </s> <s> abc  ac  bc </s> <s> </s> <s> a </s> <s> bc  ac </s> <s> bcc </s> <s> </s> <s> ví dụ </s> <s> </s> <s> giả sử abc </s> <s> </s> <s> khi đó </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> </s> <s> và cũng bằng  </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> và cũng bằng  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> ước chung lớn nhất </s> <s> </s> <s> ước chung lớn nhất gcd viết tắt của từ greatest common divisor của hai hay nhiều số là số nguyên dương lớn nhất mà là ước chung common divisor của tất cả các số đó </s> <s> </s> <s> </s> <s> ví dụ gcd của  và  là  vì  là số nguyên dương lớn nhất mà là ước chung của  và  </s> <s> </s> <s> </s> <s> thuật toán ngây thơ naive approach </s> <s> </s> <s> ta có thể duyệt tất cả các số từ minab đến  và kiểm tra xem số đang xét có phải là ước của của a và b hay không </s> <s> nếu đúng như vậy thì số đang xét sẽ là gcd của a và b </s> <s> </s> <s> </s> <s> int gcd  int a  int b   </s> <s> for  int i  min  a  b  i gt    i  </s> <s> if  a  i   ampamp b  i     </s> <s> return i  </s> <s>  </s> <s> // không bao giờ chạy đến đây vì khi i   thì cả a và b luôn chia hết cho i </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán ominab </s> <s> </s> <s> </s> <s> thuật toán euclid </s> <s> </s> <s> thuật toán euclid dựa trên tính chất sau của ước chung lớn nhất gcdabgcdbab </s> <s> thuật toán sẽ quy nạp cho đến khi ab </s> <s> </s> <s> </s> <s> int gcd  int a  int b   </s> <s> if  b    return a  </s> <s> else return gcd  b  a  b  </s> <s>  </s> <s> </s> <s> ví dụ </s> <s> </s> <s> giả sử a b </s> <s> </s> <s> </s> <s> gcdgcdgcd </s> <s> </s> <s> gcdgcdgcd </s> <s> </s> <s> gcd   gcd     gcd  </s> <s> </s> <s> gcd   gcd     gcd  </s> <s> </s> <s> vì b nên gcd sẽ trả về giá trị  </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán ologmaxab </s> <s> </s> <s> </s> <s> thuật toán euclid mở rộng extended euclid algorithm </s> <s> </s> <s> đây là một thuật toán mở rộng của thuật toán euclid ở trên </s> <s> gcdab có một tính chất rất đặc biệt nó luôn có thể được biểu diễn dưới dạng phương trình axbygcdab </s> <s> </s> <s> </s> <s> thuật toán sẽ cho ta biết một cặp giá trị xy thỏa mãn phương trình này và nhờ đó giúp ta tính modular multiplicative inverse </s> <s> x và y có thể có giá trị bằng không hoặc âm </s> <s> chương trình sau đọc hai số a và b và in ra gcdab cũng như một cặp số xy thỏa mãn phương trình </s> <s> </s> <s> </s> <s> int d  x  y  </s> <s> void extendedeuclid  int a  int b   </s> <s> if  b     </s> <s> d  a  </s> <s> x    </s> <s> y    </s> <s>  </s> <s> else  </s> <s> extendedeuclid  b  a  b  </s> <s> int temp  x  </s> <s> x  y  </s> <s> y  temp   a / b   y  </s> <s>  </s> <s>  </s> <s> </s> <s> int main   </s> <s> extendedeuclid      </s> <s> cout ltlt gcd    ltlt d ltlt endl  </s> <s> cout ltlt x y  ltlt x ltlt   ltlt y ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> kết quả </s> <s> </s> <s> gcd    </s> <s> x y   </s> <s> </s> <s> ban đầu thuật toán euclid mở rộng sẽ chạy như thuật toán euclid cho đến khi ta có gcdab hoặc cho đến khi b bằng  và khi đó thuật toán sẽ đặt x và y </s> <s> vì b và gcdab là a trong thời điểm hiện tại nên phương trình axby trở thành a </s> <s>  </s> <s> a </s> <s> </s> <s> </s> <s> giá trị của các biến dxy trong hàm extendedeuclid sẽ lần lượt trở thành </s> <s> </s> <s> </s> <s> d x   y   </s> <s> </s> <s> d x    y    / </s> <s>    </s> <s> </s> <s> d x    y    / </s> <s>    </s> <s> </s> <s> d x    y    / </s> <s>    </s> <s> </s> <s> d  x  y    / </s> <s>    </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán độ phức tạp của thuật toán euclid mở rộng là ologmaxab </s> <s> </s> <s> </s> <s> </s> <s> các chủ đề cơ bản về đồ thị </s> <s> http//vnoi </s> <s> info/wiki/algo/graphtheory/everything </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sách thầy lê minh hoàng đã trình bày rất chi tiết về phần lý thuyết đồ thị do đó vnoi wiki sẽ không viết lại nữa </s> <s> </s> <s> </s> <s> trong bài viết này mình chỉ liệt kê lại các thuật toán trong đồ thị và dẫn link đến các tài liệu bổ sung </s> <s> </s> <s> </s> <s> </s> <s> biểu diễn đồ thị </s> <s> </s> <s> </s> <s> cowboycoder </s> <s> bài tập </s> <s> </s> <s> </s> <s> voj  graph </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bfs dfs topo sort </s> <s> </s> <s> </s> <s> cowboycoder  bfs </s> <s> cowboycoder  dfs </s> <s> cowboycoder  topo sort </s> <s> vietcodes  thành phần song liên thông </s> <s> </s> <s> code tìm khớp cầu c  rr  cách sử dụng </s> <s> </s> <s> </s> <s> code tìm thành phần liên thông mạnh c  rr  cách sử dụng </s> <s> </s> <s> </s> <s> code tìm thành phần song liên thông c  rr  cách sử dụng  </s> <s> bài tập trên voj </s> <s> bài h  acm icpc vietnam regional  </s> <s> </s> <s> </s> <s> </s> <s> tìm đường đi ngắn nhất dijkstra floyd fordbellman </s> <s> </s> <s> </s> <s> cowboycoder  dijkstra </s> <s> vietcodes  dijkstra cải tiến </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> cây khung nhỏ nhất </s> <s> </s> <s> </s> <s> vnoi  disjoint set </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> chu trình euler </s> <s> </s> <s> </s> <s> code c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> luồng cực đại </s> <s> </s> <s> </s> <s> code luồng dinic c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> cặp ghép </s> <s> </s> <s> </s> <s> code cặp ghép không trọng số c  rr </s> <s> code cặp ghép có trọng số c  rr </s> <s> bài tập </s> <s> bài e  acm icpc vietnam regional  </s> <s> </s> <s> </s> <s> </s> <s> sat </s> <s> </s> <s> </s> <s> sat  phạm lê quang </s> <s> code c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> lca </s> <s> </s> <s> </s> <s> code c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số học   số nguyên tố sàng eratosthenes </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth và  số bài viết trên wikipedia </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents số nguyên tố prime numbers thuật toán ngây thơ một thuật toán tốt hơn sàng eratosthenes sieve of eratosthenes phân tích thừa số nguyên tố với sàng eratosthenes sàng eratosthenes trên đoạn bài tập áp dụng </s> <s> </s> <s> bạn có thể đọc phần  về modulo amp gcd ở đây </s> <s> </s> <s> </s> <s> số nguyên tố prime numbers </s> <s> </s> <s> số nguyên tố là số nguyên lớn hơn  và có đúng  ước là  và chính nó </s> <s> </s> <s> </s> <s> hợp số composite numbers là số nguyên lớn hơn  và có nhiều hơn  ước </s> <s> </s> <s> </s> <s> ví dụ  là số nguyên tố vì  chỉ chia hết cho  và  </s> <s> tuy nhiên  là hợp số vì  chia hết cho    và  </s> <s> </s> <s> </s> <s> có rất nhiều phương pháp để kiểm tra một số nguyên có phải là số nguyên tố hay không </s> <s> </s> <s> </s> <s> thuật toán ngây thơ </s> <s> </s> <s> ta sẽ duyệt hết tất cả các số từ  đến n và đếm số ước của n </s> <s> nếu số ước của n là  thì n là số nguyên tố nếu không thì n không là số nguyên tố </s> <s> </s> <s> </s> <s> bool isprime  int n   </s> <s> for  int i    i lt n  i   </s> <s> if  n  i     </s> <s> // n chia hết cho số khác  và chính nó </s> <s> </s> <s> return false  </s> <s>  </s> <s> return n gt   </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán độ phức tạp của thuật toán là on do ta phải duyệt hết các số từ  đến n </s> <s> </s> <s> </s> <s> một thuật toán tốt hơn </s> <s> </s> <s> xét hai số nguyên dương n và d thỏa mãn n chia hết cho d và d nhỏ hơn sqrtn </s> <s> khi đó fracnd phải lớn hơn sqrtn </s> <s> n cũng chia hết cho fracnd </s> <s> vì thế nếu n có ước nhỏ hơn sqrtn thì n cũng có ước lớn hơn sqrtn </s> <s> do đó ta chỉ cần duyệt đến sqrtn </s> <s> </s> <s> </s> <s> bool isprime  int n   </s> <s> for  int i    i  i lt n  i   </s> <s> if  n  i    return false  </s> <s> return n gt   </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán độ phức tạp của thuật toán là osqrtn do ta phải duyệt từ  đến sqrtn </s> <s> </s> <s> </s> <s> sàng eratosthenes sieve of eratosthenes </s> <s> </s> <s> sàng eratosthenes dùng để tìm các số nguyên tố nhỏ hơn hoặc bằng số nguyên n nào đó </s> <s> nó còn có thể được sử dụng để kiểm tra một số nguyên nhỏ hơn hoặc bằng n hay không </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nguyên lí hoạt động của sàng là vào mỗi lần duyệt ta chọn một số nguyên tố và loại ra khỏi sàng tất cả các bội của số nguyên tố đó mà lớn hơn số đó </s> <s> sau khi duyệt xong các số còn lại trong sàng đều là số nguyên tố </s> <s> </s> <s> </s> <s> mã giả pseudo code  </s> <s> </s> <s> </s> <s> đánh dấu tất cả các số đều là số nguyên tố </s> <s> </s> <s> </s> <s> với mỗi số nguyên tố nhỏ hơn sqrtn </s> <s> </s> <s> </s> <s> đánh dấu các bội lớn hơn nó là số nguyên tố </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> void sieve  int n   </s> <s> bool isprime  n    </s> <s> for  int i    i lt n   i   </s> <s> isprime  i   true  </s> <s>  </s> <s> isprime     false  </s> <s> isprime     false  </s> <s> for  int i    i  i lt n   i   </s> <s> if  isprime  i   true   </s> <s> // mark all the multiples of i as composite numbers </s> <s> for  int j  i  i  j lt n  j  i  </s> <s> isprime  j   false  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> code trên được dùng để tìm các số nguyên tố nhỏ hơn hoặc bằng n </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán </s> <s> </s> <s> số lần lặp của vòng lặp trong là </s> <s> </s> <s> </s> <s> khi i vòng lặp trong lặp fracn lần </s> <s> </s> <s> khi i vòng lặp trong lặp fracn lần </s> <s> </s> <s> khi i vòng lặp trong lặp fracn lần </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp tổng n </s> <s> fracfracfrac </s> <s> </s> <s> </s> <s> onlogn </s> <s> </s> <s> </s> <s> phân tích thừa số nguyên tố với sàng eratosthenes </s> <s> </s> <s> cách cài đặt </s> <s> </s> <s> đầu tiên hãy xem xét thuật toán phân tích ra thừa số nguyên tố trong osqrtn </s> <s> </s> <s> </s> <s> vector lt int gt factorize  int n   </s> <s> vector lt int gt res  </s> <s> for  int i    i  i lt n   i   </s> <s> while  n  i     </s> <s> res </s> <s> pushback  i  </s> <s> n / i  </s> <s>  </s> <s>  </s> <s> if  n     </s> <s> res </s> <s> pushback  n  </s> <s>  </s> <s> return res  </s> <s>  </s> <s> </s> <s> tại mỗi bước ta phải tìm số nguyên tố nhỏ nhất mà n chia hết cho số đó </s> <s> do đó ta phải biến đổi sàng eratosthenes để tìm được số mình mong muốn trong o </s> <s> </s> <s> </s> <s> int minprime  n    </s> <s> for  int i    i  i lt n   i   </s> <s> if  minprime  i      //if i is prime </s> <s> for  int j  i  i  j lt n  j  i   </s> <s> if  minprime  j      </s> <s> minprime  j   i  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> for  int i    i lt n   i   </s> <s> if  minprime  i      </s> <s> minprime  i   i  </s> <s>  </s> <s>  </s> <s> </s> <s> bây giờ ta có thể phân tích một số ra thừa số nguyên tố trong ologn </s> <s> </s> <s> </s> <s> vector lt int gt factorize  int n   </s> <s> vector lt int gt res  </s> <s> while  n     </s> <s> res </s> <s> pushback  minprime  n  </s> <s> n / minprime  n  </s> <s>  </s> <s> return res  </s> <s>  </s> <s> </s> <s> điều kiện sử dụng phương pháp này là ta phải tạo được mảng có độ dài n phần tử </s> <s> </s> <s> </s> <s> phương pháp này rất hữu ích khi ta phải phân tich nhiều số nhỏ ra thừa số nguyên tố </s> <s> ta không cần thiết phải sử dụng phương pháp này trong mọi bài toán liên quan đến phân tích một số ra thừa số nguyên tố </s> <s> ngoài ra ta không thể sử dụng phương pháp này nếu n bằng  hay  </s> <s> khi đó ta chỉ có thể sử dụng thuật toán osqrtn </s> <s> </s> <s> </s> <s> tính chất thú vị nếu npq </s> <s> pq </s> <s> </s> <s> </s> <s> pkqk với pp </s> <s> </s> <s> </s> <s> pk là các số nguyên tố thì n có q </s> <s> q </s> <s> </s> <s> </s> <s> qk ước phân biệt </s> <s> </s> <s> </s> <s> sàng eratosthenes trên đoạn </s> <s> </s> <s> đôi khi bạn phải tìm tất cả các số không phải trên đoạn n mà là trên đoạn lr với r lớn </s> <s> </s> <s> </s> <s> điều kiện sử dụng phương pháp này là bạn có thể tạo mảng độ dài rl phần tử </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> bool isprime  r  l    //filled by true </s> <s> for  long long i    i  i lt r   i   </s> <s> for  long long j  max  i  i   l   i    / i  i  j lt r  j  i   </s> <s> isprime  j  l   false  </s> <s>  </s> <s>  </s> <s> for  long long i  max  l    i lt r   i   </s> <s> if  isprime  i  l   </s> <s> //then i is prime </s> <s>  </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán là osqrtrk với k là hằng số </s> <s> </s> <s> </s> <s> lưu ý nếu bạn chỉ cần kiểm tra tính nguyên tố của một hay một vài số thì ta không nhất thiết phải xây dựng sàng </s> <s> ta có thể sử dụng hàm sau để kiểm tra tính nguyên tố của một số </s> <s> </s> <s> </s> <s> bool isprime  int n   </s> <s> for  int i    i  i lt n   i   </s> <s> if  n  i     </s> <s> return false  </s> <s>  </s> <s>  </s> <s> return true  </s> <s>  </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> spoj  prime </s> <s> voj  nkabd </s> <s> </s> <s> </s> <s> </s> <s> kĩ thuật bao lồi convex hull trick </s> <s> http//vnoi </s> <s> info/wiki/translate/wcipeg/convexhulltrick </s> <s> </s> <s> </s> <s> </s> <s> nguồn  pg </s> <s> </s> <s> người dịch  phan minh hoàng </s> <s> </s> <s> table of contents lịch sử bài toán cơ bản thuật toán duyệt kĩ thuật ý nghĩa của tên kĩ thuật thêm một đường vào tập phân tích thuật toán ví dụ  usaco tháng  năm  acquire bài toán nhận xét  tồn tại các hình chữ nhật không quan trọng nhận xét  đoạn liên tiếp lời giải quy hoạch động nhận xét  sử dụng bao lồi ví dụ  apio  commando bài toán biến thể động fully dynamic variant code bài tập </s> <s> </s> <s> kĩ thuật bao lồi là kĩ thuật hoặc là cấu trúc dữ liệu dùng để xác định hiệu quả có tiền xử lý cực trị của một tập các hàm tuyến tính tại một giá trị của biến độc lập </s> <s> mặc dù tên gọi giống nhưng kĩ thuật này lại khá khác biệt so với thuật toán bao lồi của hình học tính toán </s> <s> </s> <s> </s> <s> ngoài ra có một kĩ thuật liên quan đến kĩ thuật bao lồi là it đoạn thẳng </s> <s> </s> <s> lịch sử </s> <s> </s> <s> kĩ thuật bao lồi được biết đến nhiều nhất có lẽ vì nó cần để ăn trọn toàn bộ số điểm trong nhiều bài toán usaco như là bài acquire trong bảng gold của usaco tháng  năm  </s> <s> thuật toán được đưa vào các cuộc thi lập trình một cách rộng rãi sau bài batch scheduling trong kì thi ioi  </s> <s> đây là một kĩ thuật khá lạ và ít có nguồn trên mạng về vấn đề này </s> <s> </s> <s> </s> <s> bài toán cơ bản </s> <s> </s> <s> cho một tập lớn các hàm tuyến tính có dạng y  mi x  bi và một số lượng lớn truy vấn </s> <s> mỗi truy vấn là một số x và hỏi giá trị cực tiểu y có thể đạt được nếu chúng ta thế x vào một trong những phương trình đã cho </s> <s> ví dụ cho các phương trình y yfracfracx yx và yfracx và truy vấn x </s> <s> chúng ta phải tìm phương trình mà trả về giá trị cực tiểu hoặc giá trị cực tiểu đó trong trường hợp này là phương trình yfracfracx và giá trị cực tiểu đó là  </s> <s> </s> <s> </s> <s> biến thể của bài toán có thể là tìm giá trị cực đại có thể giải quyết với một thay đổi nhỏ vì vậy trong bài viết này chỉ tập trung vào bài toán tìm giá trị cực tiểu </s> <s> </s> <s> </s> <s> sau khi ta vẽ các đường thẳng lên hệ trục tọa độ dễ thấy rằng chúng ta muốn xác định tại xđường màu đỏ đường nào có tọa độ y nhỏ nhất </s> <s> ở trong trường hợp này là đường nét đứt đậm yfracfracx </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán duyệt </s> <s> </s> <s> với mỗi truy vấn trong q truy vấn ta duyệt qua từng hàm số và thử từng từng hàm và xem thử hàm nào trả giá trị cực tiểu cho giá trị x </s> <s> nếu có m đường thẳng và q truy vấn độ phức tạp của thuật toán sẽ mathcalomq </s> <s> kĩ thuật bao lồi sẽ giúp giảm độ phức tạp xuống còn mathcaloqmlog m một độ phức tạp hiệu quá hơn nhiều </s> <s> </s> <s> </s> <s> kĩ thuật </s> <s> </s> <s> xét hình vẽ ở trên </s> <s> đường thẳng y sẽ không bao giờ là giá trị nhỏ nhất với tất cả giá trị của x </s> <s> mỗi đường trong mỗi đường thẳng còn lại sẽ lại trả lại giá trị cực tiểu trong một và chỉ một đoạn liên tiếp có thể có một biên là infty hoặc infty </s> <s> đường chấm đậm sẽ cho giá trị cực tiểu với tất cả giá trị nằm bên trái điểm giao với đường đen đậm </s> <s> đường đen đậm sẽ cho giá trị cực tiểu với tất cả giá trị giữa giao điểm của nó với đường nhạt và đường chấm đậm </s> <s> và đường nhạt sẽ nhận cực tiểu cho tất cả giá trị bên phải giao điểm với đường đậm </s> <s> một nhận xét nữa là với giá trị của x càng tăng thì hệ số góc của các hàm số sẽ giảm frac frac  </s> <s> với một chút chứng minh dễ thấy rằng điều này luôn đúng </s> <s> </s> <s> </s> <s> điều này giúp chúng ta hiểu phần nào thuật toán </s> <s> </s> <s> </s> <s> bỏ đi các đường thẳng không quan trọng như y trong ví dụ những đường thẳng mà không nhận giá trị cực tiểu trong bất kì đoạn nào </s> <s> sắp xếp các đoạn thẳng còn lại theo hệ số góc và được một tập n đoạn thẳng của n đường thẳng còn lại mà mỗi đoạn có một đường thẳng nhận giá trị cực tiểu </s> <s> </s> <s> dùng thuật toán tìm kiếm nhị phân cơ bản để có thể tìm kiếm đáp án cho từng truy vấn </s> <s> </s> <s> </s> <s> </s> <s> ý nghĩa của tên kĩ thuật </s> <s> </s> <s> cụm từ bao lồi được sử dụng để chỉ hình bao trên/dưới upper / lower envelope </s> <s> trong ví dụ nếu chúng ta coi mỗi phần đoạn thẳng tối ưu của đường thẳng bỏ qua đường y chúng ta sẽ thấy những đoạn đó tạo thành một hình bao dưới lower envelope một tập các đoạn thẳng chứa tất cả điểm cực tiểu cho mọi giá trị của x hình bao dưới được tô bằng màu xanh trong hình </s> <s> cái tên kĩ thuật bao lồi xuất phát từ việc đường bao trên tạo thành một đường lồi từ đó thành bao lồi của một tập điểm </s> <s> </s> <s> </s> <s> thêm một đường vào tập </s> <s> </s> <s> ta có thể thấy nếu ta có một tập đường thẳng đã được xác định sắp xếp ta có thể dễ dàng trả lời bất kì truy vấn nào với độ phức tạp là mathcalolog m với tìm kiếm nhị phân </s> <s> vậy nếu chúng ta tìm ra cách thêm một đường thẳng vào tính toán lại một cách hiệu quả là chúng ta đã có một thuật toán hoạt động ngon lành </s> <s> </s> <s> </s> <s> giả sử chúng ta được xử lý tất cả đường thẳng trước khi làm các truy vấn thì chúng ta chỉ cần đơn giản sắp xếp các đường thẳng theo hệ số góc và thêm từng đường một vào </s> <s> sẽ có thể một số đường không quan trọng và sẽ bị bỏ đi </s> <s> chúng ta sẽ sử dụng cấu trúc dữ liệu stack để cài đặt bỏ từng đường thẳng vào stack và nếu đường nào không quan trọng sẽ bị bỏ ra ngoài đến khi chỉ còn một đường thẳng đường thẳng cuối không thể bỏ </s> <s> </s> <s> vậy làm sao để có thể xác định đường thẳng nào sẽ bị bỏ khỏi stack giả sử l l và l là đường thẳng áp chót gần cuối  trên stack đường thẳng cuối cùng trong stack và đường thẳng được thêm vào stack </s> <s> đoạn l không quan trọngkhông có giá trị cực tiểu ở điểm nào khi và chỉ khi giao điểm của l và l nằm bên trái giao điểm của l và l đoạn mà l nhận giá trị cực tiểu đã nằm đè lên đoạn của l </s> <s> giả sử rằng không có ba đường nào trùng hay song song với nhau có thể giải quyết một cách đơn giản </s> <s> </s> <s> </s> <s> phân tích thuật toán </s> <s> </s> <s> độ phức tạp bộ nhớ sẽ là mathcalom chúng ta cần một danh sách lưu lại các đoạn thẳng biểu diễn bởi hai số thực </s> <s> </s> <s> </s> <s> độ phức tạp thời gian cho phần tiền xây dựng </s> <s> </s> <s> </s> <s> để sắp xếp các đoạn thẳng theo tăng dần hệ số góc sẽ tốn mathcalomlogm </s> <s> </s> <s> duyệt qua các đường thẳng mỗi đường được cho vào stack và bỏ khỏi stack tối đa một lần vậy nên sẽ tốn mathcalom cho bước này </s> <s> </s> <s> </s> <s> </s> <s> vậy thời gian cho việc xây dựng sẽ là mathcalomlogm </s> <s> với mỗi truy vấn dùng chặt nhị phân sẽ cho độ phúc tạp tốt nhất mathcalolog m </s> <s> </s> <s> </s> <s> ví dụ  usaco tháng  năm  acquire </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho nn le  hình chữ nhật khác nhau về hình dạng mục tiêu của bài toán là phải lấy được tất cả hình chữ nhật </s> <s> một tập hình chữ nhật có thể thu được với chi phí bằng tích của chiều dài dài nhất và chiều rộng dài nhất </s> <s> chúng ta cần phân hoạch tập các hình chữ nhật này một cách khôn khéo sao cho tổng chi phí có thể được tối thiểu hóa và tính chi phí này </s> <s> hình chữ nhật không thể được xoay đổi chiều dài và chiều rộng </s> <s> </s> <s> </s> <s> nhận xét  tồn tại các hình chữ nhật không quan trọng </s> <s> </s> <s> giả sử tồn tại hai hình chữ nhật a và b mà mà cả chiều dài và chiều rộng của hình b đều bé hơn hình a thì ta có thể nói hình b là không quan trọng vì ta có thể để hình b chung với hình a từ đó chi phí của hình b không còn quan trọng </s> <s> sau khi đã loại hết tất cả hình không quan trọng đi và sắp xếp lại các hình theo chiều dài giảm dần thì chiều rộng các hình đã sắp xếp sẽ theo chiều tăng </s> <s> </s> <s> </s> <s> nhận xét  đoạn liên tiếp </s> <s> </s> <s> sau khi sắp xếp ta có thể hình dung được rằng nếu chúng ta chọn hai hình chữ nhật ở vị trí i và ở vị trí j thì ta có thể chọn tất cả hình chữ nhật từ i đến j mà không tốn chi phí nào cả </s> <s> vậy ta có thể thấy rằng cách phân hoạch tối ưu là một cách phân dãy thành các đoạn liên tiếp và chi phí của một đoạn là bằng tích của chiều dài của hình chữ nhật đầu tiên và chiều rộng của hình chữ nhật cuối cùng </s> <s> </s> <s> </s> <s> lời giải quy hoạch động </s> <s> </s> <s> vậy bài toán trờ về bài toán phân dãy sao cho tổng chi phí của các dãy là tối ưu </s> <s> đây là một dạng bài quy hoạch động hay gặp và chúng ta có thể dễ dàng nghĩ ra thuật toán mathcalon như mã giả phía dưới </s> <s> giả sử các hình đã được sắp xếp và bỏ đi những hình chữ nhật không quan trọng </s> <s> </s> <s> input n </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> input recti </s> <s> h </s> <s> input recti </s> <s> w </s> <s> let cost   </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> let costi  ∞ </s> <s> for j ∈  </s> <s> </s> <s> i </s> <s> costi  mincosticostjrecti </s> <s> hrectj </s> <s> w </s> <s> print costn </s> <s> </s> <s> ở trên costk lưu lại chi phí cực tiểu để lấy được k hình chữ nhật đầu tiên </s> <s> hiển nhiên cost </s> <s> để tính toán được costi với i khác  ta có tính tổng chi phí để lấy được các tập trước và cộng nó với chi phí của tập cuối cùngcó chứa i  </s> <s> chi phí của một tập có thể dễ dàng tính bằng cách lấy tích của chiều dài hình chữ nhật đầu tiên và chiều rộng của hình chữ nhật cuối cùng </s> <s> vậy ta có mincosticostjrecti </s> <s> hrectj </s> <s> w với j là hình chữ nhật đầu tiên của tập cuối cùng </s> <s> với n thì thuật toán mathcalon này là quá chậm </s> <s> </s> <s> </s> <s> nhận xét  sử dụng bao lồi </s> <s> </s> <s> với mjrectj </s> <s> w bjcostj xrecti </s> <s> h với rectx </s> <s> h là chiều rộng của hình chữ nhật x và rectx </s> <s> w là chiều dài của hình chữ nhật x </s> <s> vậy thì bài toán trờ về tìm hàm cực tiểu của ymjxbj bằng cách tìm j tối ưu </s> <s> nó giống hoàn toàn bài toán chúng ta đã đề cập ở trên </s> <s> giả sử ta đã hoàn thành việc cài đặt cấu trúc đã đề cập ở trên chúng ta có thể có mã giả ở dưới đây </s> <s> </s> <s> input n </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> input recti </s> <s> h </s> <s> input recti </s> <s> w </s> <s> let e  empty lower envelope structure </s> <s> let cost   </s> <s> add the line ymxb to e where mrect </s> <s> w and bcost //b is zero </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> costi  e </s> <s> queryrecti </s> <s> h </s> <s> if iltn </s> <s> e </s> <s> addmrecti </s> <s> wbcosti </s> <s> print costn </s> <s> </s> <s> rõ ràng các đường thẳng đã được sắp xếp giảm dần về độ lớn của hệ số góc do chúng ta đã sắp xếp các chiều dài giảm dần </s> <s> do mỗi truy vấn có thể thực hiện trong thời gian mathcalologn ta có thể dễ dàng thấy thời gian thực hiện của cả bài toán là mathcalonlogn </s> <s> do các truy vấn của chúng ta cũng tăng dần do chiều rộng đã được sắp xếp tăng tần ta có thể thay thế việc chặt nhị phân bằng một con trỏ chạy song song với việc quy hoạch động đưa bước quy hoạch động còn mathcalon nhưng tổng độ phức tạp vẫn là mathcalonlogn do chi phí sắp xếp </s> <s> vậy là ta đã giải quyết thành công bài toán sử dụng kĩ thuật bao lồi đầu tiên của chúng ta d </s> <s> </s> <s> </s> <s> ví dụ  apio  commando </s> <s> </s> <s> bài toán </s> <s> </s> <s> bạn được cho </s> <s> </s> <s> </s> <s> một dãy có n số nguyên dương le n le  </s> <s> một hàm số bậc  với hệ số nguyên duong fx ax  bx c alt </s> <s> </s> <s> mục tiêu cũng của bài toán là phân dãy này ra thành các đoạn liên tiếp sao tổng các hàm f trên các dãy là lớn nhất  giá trị của hàm f lên dãy là fx với x là tổng dãy đó </s> <s> </s> <s> tương tự như bài trên công thức quy hoạch động có thể dễ thấy công thức mathcalon </s> <s> </s> <s> </s> <s> </s> <s> định nghĩa rằng </s> <s> </s> <s> </s> <s> </s> <s> sumij  xi  xi  </s> <s> </s> <s> </s> <s>  xj </s> <s> </s> <s> adjustij  asumij  bsumij  c </s> <s> </s> <s> </s> <s> ta có </s> <s> </s> <s> dpn  maxkndpkadjustkn </s> <s> </s> <s> mã giả </s> <s> </s> <s> dp ←  </s> <s> for n ∈  </s> <s> </s> <s> n </s> <s> for k ∈  </s> <s> </s> <s> n </s> <s> dpn ← maxdpn dpk  adjustk    n </s> <s> </s> <s> hãy thử biến đổi hàm adjust một tí nào </s> <s> </s> <s> định nghĩa sumx là deltax </s> <s> vậy với một số k bất kì ta có thể viết là </s> <s> </s> <s> dpndpkadeltandeltakbdeltandeltakc </s> <s> dpndpkadeltandeltakdeltandeltakbdeltandeltakc </s> <s> dpnadeltan bdeltan cdpkadeltandeltakadeltakbdeltak </s> <s> </s> <s> nếu </s> <s> </s> <s> </s> <s> zdeltan </s> <s> madeltak </s> <s> pdpkadeltakbdeltak </s> <s> </s> <s> </s> <s> ta có thể thấy mzp là đại lượng mà chúng ta muốn tối ưu hóa bằng cách chọn k </s> <s> dpn sẽ bằng đại lượng đó cộng thêm với adeltanbdeltancđộc lập so với k </s> <s> trong đó z cũng độc lập với k và m và p phụ thuộc vào k </s> <s> </s> <s> </s> <s> ngược với bài acquire khi chúng ta phải tối thiểu hóa hàm quy hoạch động thì bài này chúng ta phải cực đại hóa nó </s> <s> chúng ta phải xây dựng một hình bao trên với các đường thẳng tăng dần về hệ số góc </s> <s> do đề bài đã cho alt hệ số góc của chúng ta tăng dần và luôn dương thỏa với điều kiện của cấu trúc chúng ta </s> <s> </s> <s> </s> <s> do dễ thấy deltangtdeltan giống như bài acquire các truy vấn chúng ta cũng tăng dần theo thứ tự do vậy chúng ta có thể khơi tạo một biến chạy để chạy song song khi làm quy hoạch động bỏ được phần chặt nhị phân </s> <s> </s> <s> </s> <s> biến thể động fully dynamic variant </s> <s> </s> <s> kĩ thuật này có thể dễ dàng được thực hiện khi các đường thẳng được thêm trước tất cả các truy vấn hay các đường thẳng được thêm vào theo thứ tự giảm dần của hệ số góc </s> <s> hoặc với cấu trúc deque chúng ta cũng có thể thêm những đường thẳng có hệ số góc lớn hơn hết các đường thẳng đã có </s> <s> nhưng có những lúc sẽ có các bài toán khi chúng ta phải giải quyết các truy vấn và thêm đường thẳng lồng vào nhau với các hệ số góc ngẫu nhiên </s> <s> chúng ta không thể sắp xếp lại trước do bị lồng vào truy vấn và không thể sắp xếp lại với mỗi lần thêm đường thẳng vậy sẽ cho ta một độ phức tạp tuyến tính với mỗi truy vấn </s> <s> </s> <s> </s> <s> có tồn tại một cách để thêm các đường thẳng ngẫu nhiên vào trong độ phức tạp log </s> <s> chúng ta lưu các đoạn thẳng trong một cấu trúc có thứ tự động như stdset của c </s> <s> mỗi đường thẳng chứa hệ số góc và giao điểm y sắp xếp theo hệ số góc trước rồi theo y cùng với một biến left thêm x nhỏ nhất sao cho đường thẳng này đạt cực tiểu trong tập các đường thẳng </s> <s> </s> <s> sắp đường thẳng này vào vị trí đúng của nó và những đường bị loại sẽ là các đường liên tiếp kế bên nó </s> <s> chúng ta dùng các điều kiện tương tự trên để bỏ các đường thẳng bên trái và bên phải nó </s> <s> </s> <s> </s> <s> để trả lời truy vấn chúng ta dùng một set nữa dùng chính các biến ấy nhưng lại sắp xếp theo left </s> <s> vậy mỗi lần truy vấn ta có thể dễ dàng chặt nhị phân để tìm ra kết quả như đã nói ở trên </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> code c cho acquire </s> <s> </s> <s> code c cho commando </s> <s> </s> <s> bài tập </s> <s> </s> <s> </s> <s> bài j  acm icpc vietnam regional  </s> <s> </s> <s> </s> <s> </s> <s> một số kĩ thuật tối ưu hoá thuật toán quy hoạch động </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/motsokythuattoiuuhoathuattoanquyhoachdong </s> <s> </s> <s> </s> <s> </s> <s> tác giả lê anh đức  akpbc </s> <s> </s> <s> quy hoạch động qhđ là một lớp thuật toán rất quan trọng và có nhiều ứng dụng trong ngành khoa học máy tính </s> <s> trong các cuộc thi olympic tin học hiện đại qhđ luôn là một trong những chủ đề chính </s> <s> tuy vậy theo tôi thấy tài liệu nâng cao về qhđ bằng tiếng việt hiện còn cực kỳ khan hiếm dẫn đến học sinh/sinh viên việt nam bị hạn chế khả năng tiếp cận với những kỹ thuật hiện đại </s> <s> trong bài viết này tôi sẽ trình bày một vài kỹ thuật để tối ưu hóa độ phức tạp của một số thuật toán qhđ </s> <s> </s> <s> </s> <s> table of contents  </s> <s> đổi biến bài tập ví dụ longest common subsequence lcs đề bài lời giải bài tập ví dụ computer vnoi marathon  đề bài lời giải đổi biến bài luyện tập  </s> <s> chia để trị hai nhà máy ceoi  </s> <s> đề bài lời giải bài ví dụ seqpart lời giải điều kiện để chia để trị đúng điều kiện theo best điều kiện theo cost bài luyện tập </s> <s> </s> <s>  </s> <s> đổi biến </s> <s> </s> <s> nhiều khi trong trạng thái qhđ có một thành phần nào đấy với khoảng giá trị quá lớn trong khi kết quả của hàm lại có khoảng giá trị nhỏ </s> <s> trong một vài trường hợp ta có thể đảo nhãn để giảm số trạng thái </s> <s> </s> <s> </s> <s> bài tập ví dụ longest common subsequence lcs </s> <s> </s> <s> đề bài </s> <s> </s> <s> cho xâu a độ dài m xâu b độ dài n </s> <s> hãy tìm độ dài xâu con chung dài nhất của hai xâu chú ý là xâu con chung có thể không liên tiếp </s> <s> </s> <s> </s> <s> giới hạn </s> <s> </s> <s> </s> <s> m le  </s> <s> n le  </s> <s> các kí tự trong cả hai xâu là các chữ cái tiếng anh in hoa a </s> <s> </s> <s> z </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> a  adbcc </s> <s> b  abcd </s> <s> </s> <s> lcs  abc </s> <s> kết quả   </s> <s> </s> <s> lời giải </s> <s> </s> <s> thuật toán đơn giản </s> <s> </s> <s> gọi fi j là lcs của hai tiền tố a </s> <s> </s> <s> i và b </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> khi đó ta có thể maximize fi j theo fi j và fi j </s> <s> </s> <s> </s> <s> nếu ai  bj thì ta có thể cập nhật fi j theo fi j   </s> <s> </s> <s> </s> <s> kết quả bài toán là fm n </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán này là omn không khả thi với giới hạn của đề bài </s> <s> </s> <s> </s> <s> đổi biến </s> <s> </s> <s> đặt l  minm n </s> <s> </s> <s> để ý rằng trong hàm qhđ trên các giá trị của fi j sẽ không vượt quá l trong khi đó chiều thứ hai của trạng thái có thể khá lớn lên tới maxm   </s> <s> </s> <s> </s> <s> để tối ưu hóa ta sẽ đổi biến </s> <s> gọi dpi j là vị trí k nhỏ nhất sao cho lcsa </s> <s> </s> <s> i b </s> <s> </s> <s> k  j </s> <s> </s> <s> </s> <s> để tính các giá trị của dp ta sẽ qhđ theo kiểu cập nhật đi thay vì đi tìm công thức trực tiếp cho các dpi j </s> <s> </s> <s> </s> <s> gọi nextposi c  j gt i nhỏ nhất mà aj  c với c là một ký tự từ a đến z </s> <s> </s> <s> </s> <s> mảng nextpos có thể tính trong tm </s> <s> </s> <s> </s> <s> như vậy ta có thể tính các giá trị qhđ như sau </s> <s> </s> <s> </s> <s> ban đầu khởi tạo các giá trị dpi j  infty dp    </s> <s> </s> <s> for i và j tăng dần với mỗi giá trị dpi j khác vô cùng </s> <s> </s> <s> </s> <s> cập nhật dpi j theo dpi j </s> <s> </s> <s> gọi k là vị trí xuất hiện tiếp theo của bi trong xâu a bắt đầu từ vị trí dpi j tức là k  nextposdpi j bi </s> <s> </s> <s> nếu tồn tại k cập nhật dpi j theo k </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> để tính kết quả ta sẽ chỉ cần tìm j lớn nhất mà tồn tại dpi j khác vô cùng </s> <s> </s> <s> </s> <s> include ltbits/stdc </s> <s> hgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> const int m  e    </s> <s> const int n    </s> <s> </s> <s> int dp  n  n  </s> <s> </s> <s> char a  m  b  n  </s> <s> int nextpos  m    </s> <s> int m  n  </s> <s> </s> <s> void minimize  int amp a  int b   </s> <s> if  a     a gt b  a  b  </s> <s>  </s> <s> </s> <s> int main   </s> <s> cin gtgt a   gtgt b    </s> <s> m  strlen  a    n  strlen  b    </s> <s> for  int c    c lt    c  </s> <s> for  int i  m    i gt    i  </s> <s> nextpos  i  c    a  i     a  c   i    nextpos  i    c  </s> <s> int maxlength  min  m  n  </s> <s> memset  dp     sizeof dp  </s> <s> dp         </s> <s> for  int i    i lt n   i   </s> <s> for  int j    j lt i   j  if  dp  i  j  gt    </s> <s> minimize  dp  i    j  dp  i  j  </s> <s> int newvalue  nextpos  dp  i  j  b  i     a  </s> <s> if  newvalue gt   </s> <s> minimize  dp  i    j    newvalue  </s> <s>  </s> <s>  </s> <s> int ans    </s> <s> for  int j  maxlength  j gt    j   </s> <s> for  int i  j  i lt n   i  </s> <s> if  dp  i  j  gt   ans  j  </s> <s> if  ans    break  </s> <s>  </s> <s> cout ltlt ans ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> bài tập ví dụ computer vnoi marathon  </s> <s> </s> <s> problem link computer  voj </s> <s> </s> <s> </s> <s> đề bài </s> <s> </s> <s> công ty phần mềm xyz mới mua x máy tính để bàn và y máy tính xách tay </s> <s> giá một máy tính để bàn là a đồng còn giá một máy tính xách tay là b đồng </s> <s> để tránh sự thắc mắc giữa các phòng bàn tổng giám đốc đã đưa ra cách phân bố các máy tính này về n phòng ban như sau </s> <s> </s> <s> </s> <s> sắp xếp n phòng ban theo thứ tự về mức độ quan trọng của các phòng ban </s> <s> </s> <s> tiến hành phân bố các máy tính cho các phòng ban bảo đảm nếu phòng ban i có mức độ quan trọng nhỏ hơn mức độ quan trọng của phòng ban j thì tổng giá trị máy tính được phân bố cho phòng ban i không được vượt quá tổng giá trị máy tính được phân bố cho phòng ban j </s> <s> </s> <s> phòng ban nhận được tổng giá trị máy tính nhỏ nhất là lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> là một lập trình viên giỏi nhưng lại thuộc phòng ban có mức độ quan trọng nhỏ nhất thắng muốn chứng tỏ tay nghề của mình với đồng nghiệp nên đã lập trình tính ra ngay được tổng giá trị máy trình mà phòng ban mình nhận được rồi mời bạn tính lại thử xem </s> <s> </s> <s> yêu cầu </s> <s> </s> <s> cho x a y b n </s> <s> hãy tính tổng giá trị máy tính mà phòng thắng nhận được </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> x a y b n không quá  </s> <s> </s> <s> ví dụ </s> <s> </s> <s> input </s> <s>      </s> <s> </s> <s> output </s> <s>  </s> <s> </s> <s> input </s> <s>      </s> <s> </s> <s> output </s> <s>  </s> <s> </s> <s> lời giải </s> <s> </s> <s> trước hết ta sẽ chặt nhị phân kết quả bài toán </s> <s> với mỗi giá trị chặt nhị phân ta cần kiểm tra xem có tồn tại phương án thỏa mãn hay không </s> <s> </s> <s> </s> <s> thuật toán sơ khai </s> <s> </s> <s> đặt giá trị cần kiểm tra là v </s> <s> </s> <s> </s> <s> xét các phòng ban theo thứ tự tăng dần về mức độ quan trọng đánh số từ  </s> <s> </s> <s> </s> <s> sử dụng một mảng đa chiều để đánh dấu các trạng thái có thể đạt tới </s> <s> các giá trị cần quản lí là chỉ số của phòng ban đã dùng số máy tính để bàn x đã dùng số máy tính xách tay y tổng giá trị máy tính của phòng ban trước đó </s> <s> </s> <s> </s> <s> bắt đầu từ trạng thái     ta sử dụng thuật toán loang bfs </s> <s> cuối cùng nếu trạng thái n   </s> <s> </s> <s> </s> <s>  có thể đến được thì ta sẽ có cách phân hoạch các máy tính vào các phòng ban ứng với giá trị cận dưới v </s> <s> </s> <s> </s> <s> không cần tính toán cụ thể cũng có thể thấy thuật toán này không thể đáp ứng về mặt thời gian và bộ nhớ với giới hạn của đề bài </s> <s> </s> <s> </s> <s> nâng cấp bằng nhận xét </s> <s> </s> <s> nhận xét rằng ta không cần quan tâm tới thứ tự về mức độ quan trọng của các phòng ban </s> <s> với một cách phân hoạch các máy tính sao cho mỗi phòng nhận được tổng giá trị không nhỏ hơn v ta luôn có thể sắp xếp các bộ theo giá trị không giảm ứng với các phòng ban </s> <s> </s> <s> </s> <s> ta có trạng thái qhđ là fi x y value  true nếu có thể phân bổ máy tính cho i phòng ban đã dùng x máy tính để bàn và y máy tính xách tay đã gom được tổng giá trị v cho phòng thứ i </s> <s> cách làm này số trạng thái vẫn như trước nhưng ta đã có thể chuyển trạng thái trong o </s> <s> cụ thể từ fi x y value ta chuyển đến fi x y valuea hoặc fi x y valueb chú ý là chỉ có thể dùng thêm máy xách tay nếu xltx và dùng thêm máy để bàn nếu ylty đồng thời nếu giá trị value đủ lớn hơn hoặc bằng v thì ta chuyển sang trạng thái fi x y  luôn </s> <s> </s> <s> </s> <s> đổi biến </s> <s> </s> <s> ở bài này ta có thể dễ dàng đổi biến value ra làm hàm mục tiêu </s> <s> nhưng không chỉ có vậy ta có thể đẩy cả i ra ngoài cụ thể fx y  một cặp số i value lần lượt là số phòng phân bố được và số tiền gom được </s> <s> hàm mục tiêu của fx y là một cặp số hoàn toàn có thể so sánh được trong đó giá trị đầu i được ưu tiên so sánh trước </s> <s> </s> <s> </s> <s> cách cập nhật các fx y giống như phần trước độ phức tạp vẫn là o cho bước chuyển trạng thái trong khi số trạng thái lúc này là đủ nhỏ đối với giới hạn của đề bài </s> <s> </s> <s> </s> <s> include ltbits/stdc </s> <s> hgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> const int n    </s> <s> </s> <s> int x  y  a  b  n  </s> <s> </s> <s> pair lt int  int gt f  n  n  </s> <s> </s> <s> pair lt int  int gt newstate  pair lt int  int gt s  int a  int v   </s> <s> s </s> <s> second  a  </s> <s> if  s </s> <s> second gt v   </s> <s>  s </s> <s> first  </s> <s> s </s> <s> second    </s> <s>  </s> <s> return s  </s> <s>  </s> <s> </s> <s> bool dp  int value   </s> <s> for  int i    i lt x   i  for  int j    j lt y   j  </s> <s> f  i  j   makepair      </s> <s> for  int i    i lt x   i  for  int j    j lt y   j   </s> <s> if  f  i  j  </s> <s> first  n  return   </s> <s> if  i lt x  </s> <s> f  i    j   max  f  i    j  newstate  f  i  j  a  value  </s> <s> if  j lt y  </s> <s> f  i  j     max  f  i  j    newstate  f  i  j  b  value  </s> <s>  </s> <s> return   </s> <s>  </s> <s> </s> <s> int solve   </s> <s> int l    r   a  x  b  y  / n  </s> <s> int ans    </s> <s> while  l lt r   </s> <s> int mid  l  r gtgt   </s> <s> if  dp  mid   </s> <s> ans  mid  </s> <s> l  mid    </s> <s>  else  </s> <s> r  mid    </s> <s>  </s> <s>  </s> <s> return ans  </s> <s>  </s> <s> </s> <s> int main   </s> <s> cin gtgt x gtgt a gtgt y gtgt b gtgt n  </s> <s> cout ltlt solve  ltlt endl  </s> <s> cin gtgt x gtgt a gtgt y gtgt b gtgt n  </s> <s> cout ltlt solve  ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> bài luyện tập </s> <s> </s> <s> </s> <s> voj  binpack </s> <s> </s> <s> </s> <s>  </s> <s> chia để trị </s> <s> </s> <s> đây là kỹ thuật khá hiếm gặp tuy nhiên lại cực kỳ mạnh </s> <s> </s> <s> </s> <s> hai nhà máy ceoi  </s> <s> </s> <s> </s> <s> đề bài </s> <s> </s> <s> có n cây cổ thụ được trồng trên một con đường từ đỉnh đổi đến chân đồi </s> <s> chính phủ địa phương quyết định cắt bỏ chúng </s> <s> để tránh hoang phí mỗi cái cây cần được chuyển đến một nhà máy cưa </s> <s> </s> <s> </s> <s> cây chỉ có thể được vận chuyển theo một chiều duy nhất hướng về chân đồi </s> <s> có một nhà máy cưa ở cuối con đường </s> <s> hai nhà máy cưa có thể được xây dựng dọc theo con đường </s> <s> hãy xác định vị trí tối ưu để xây dựng chúng để cực tiểu hóa chi phí vận chuyển </s> <s> chi phí vận chuyển kg gỗ đi  mét là  cent </s> <s> </s> <s> </s> <s> yêu cầu </s> <s> </s> <s> viết chương trình </s> <s> </s> <s> </s> <s> đọc dữ liệu từ đầu vào chuẩn số lượng cây khối lượng và vị trí của chúng </s> <s> tính toán chi phí vận chuyển tối ưu nhất </s> <s> xuất kết quả ra đầu ra chuẩn </s> <s> </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> dòng đầu tiên chứa số n  số lượng cây  le n le  </s> <s> các cây được đánh số   </s> <s> </s> <s> </s> <s>  n theo chiều từ đỉnh đồi đến chân đồi </s> <s> </s> <s> </s> <s> n dòng tiếp theo mỗi dòng chứa hai số nguyên dương cách nhau bởi dấu cách </s> <s> dòng thứ i   chứa wi  khối lượng tính theo kg của cái cây thử i và di  khoảng cách tính theo mét giữa cây thứ i và cây i    le wi le   le di le  </s> <s> số cuối cùng dn là khoảng cách từ cây thứ n đến chân đồi </s> <s> </s> <s> dữ liệu vào đảm bảo kết quả của bài toán không vượt quá    cent </s> <s> </s> <s> </s> <s> output </s> <s> </s> <s> một dòng duy nhất chứa một số là kết quả bài toán chi phí vận chuyển nhỏ nhất </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> input </s> <s> </s> <s>  </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s> </s> <s> output </s> <s> </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> hình vẽ trên minh họa cho test ví dụ </s> <s> các hình tròn được tô đen là các vị trí có nhà máy </s> <s> kết quả sẽ là </s> <s> </s> <s>                                      </s> <s> </s> <s> </s> <s> lời giải </s> <s> </s> <s> trước hết ta sẽ giải quyết vấn đề tính chi phí vận chuyển nếu biết vị trí của hai nhà máy đặt thêm </s> <s> </s> <s> </s> <s> nếu ta có thể tính được chi phí này trong o bài toán sẽ có thể giải được trong on  ta có thể for hết các cặp vị trí có thể đặt nhà máy </s> <s> </s> <s> </s> <s> gọi </s> <s> </s> <s> </s> <s> sumwi là tổng của các wj với i le j </s> <s> </s> <s> sumdi là tổng của các dj với i le j </s> <s> </s> <s> sumwsi là tổng của các wj  sumdj với i le j </s> <s> </s> <s> </s> <s> </s> <s> khi đó costl r là chi phí vận chuyển các cây có chỉ số trong đoạn lr đến nhà máy đặt ở r là sumwsl  sumwsr  sumdr  sumwl  sumwr </s> <s> </s> <s> </s> <s> như vậy ta có thể xây dựng hàm evali j  chi phí nếu đặt thêm hai nhà máy ở i và j  cost i  costi   j  costj   n   </s> <s> </s> <s> </s> <s> tuy nhiên lời giải on là chưa đủ tốt để có thể giải quyết trọn vẹn bài toán này </s> <s> </s> <s> </s> <s> gọi besti là vị trí j gt i tốt nhất nếu ta đã đặt một nhà máy ở i </s> <s> </s> <s> </s> <s> như vậy kết quả của bài toán sẽ là minevali besti với  le i lt n </s> <s> </s> <s> </s> <s> nhận xét </s> <s> </s> <s> </s> <s> besti le besti   </s> <s> có thể viết tường minh công thức để chứng minh </s> <s> </s> <s> ta có thể tính các besti theo thứ tự bất kỳ </s> <s> vì các giá trị best không liên quan đến nhau nên vd ta có thể tính best rồi best và best </s> <s> </s> <s> </s> <s> </s> <s> như vậy ta có thuật toán sử dụng tư tưởng chia để trị như sau </s> <s> </s> <s> hàm solvel r from to sẽ đi tính các bestl </s> <s> </s> <s> r biết rằng chúng nằm trong đoạn from </s> <s> </s> <s> to </s> <s> </s> <s> </s> <s> void solve  int l  int r  int from  int to   </s> <s> if  l gt r  return  </s> <s> int mid  l  r gtgt   </s> <s> best  mid   from  </s> <s> for  int i  from    i lt to   i  </s> <s> if  eval  mid    best  mid  gt eval  mid    i  </s> <s> best  mid   i  </s> <s> solve  l  mid    from  best  mid  </s> <s> solve  mid    r  best  mid  to  </s> <s>  </s> <s> </s> <s> đánh giá độ phức tạp thuật toán vì mỗi lần gọi để quy khoảng lr được chia đôi nên sẽ có ologn tầng mỗi tầng vòng for chỉ chạy qua on phần tử vì vậy độ phức tạp của thuật toán là onlogn </s> <s> </s> <s> </s> <s> bài ví dụ seqpart </s> <s> </s> <s> link hackerrank </s> <s> </s> <s> cho dãy l số c </s> <s> </s> <s> l cần chia dãy này thành g đoạn liên tiếp </s> <s> với phần tử thứ i ta định nghĩa chi phí của nó là tích của ci và số lượng số nằm cùng đoạn liên tiếp với nó </s> <s> chi phí của dãy số ứng với một cách phân hoạch là tổng các chi phí của các phần tử </s> <s> </s> <s> </s> <s> hãy xác định cách phân hoạch dãy số để chi phí là nhỏ nhất </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> </s> <s> dòng đầu tiên chứa  số l và g </s> <s> </s> <s> l dòng tiếp theo chứa giá trị của dãy c </s> <s> </s> <s> </s> <s> </s> <s> output </s> <s> </s> <s> </s> <s> một dòng duy nhất chứa chi phí nhỏ nhất </s> <s> </s> <s> </s> <s> </s> <s> giới hạn </s> <s> </s> <s> </s> <s>  le l le  </s> <s> </s> <s>  le g le  </s> <s> </s> <s>  le ci le  </s> <s> </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> input </s> <s>   </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> output </s> <s>  </s> <s> </s> <s> giải thích  cách tối ưu là c        </s> <s> </s> <s> </s> <s> chi phí là                          </s> <s> </s> <s> </s> <s> lời giải </s> <s> </s> <s> đây là dạng bài toán phân hoạch dãy số có thể dễ dàng giải bài qhđ </s> <s> gọi fg i là chi phí nhỏ nhất nếu ta phân hoạch i phần tử đầu tiên thành g nhóm khi đó kết quả bài toán sẽ là fg l </s> <s> </s> <s> </s> <s> để tìm công thức truy hồi cho hàm fg i ta sẽ quan tâm đến nhóm cuối cùng </s> <s> coi phần tử  là phần tử cầm canh ở trước phần tử thứ nhất thì người cuối cùng không thuộc nhóm cuối có chỉ số trong đoạn  i </s> <s> giả sử đó là người với chỉ số k thì chi phí của cách phân hoạch sẽ là fg k  costk i với costi j là chi phí nếu phân ji người có chỉ số i j vào một nhóm </s> <s> như vậy </s> <s> </s> <s> fg i  minfg k  costk l với  lt k lt i </s> <s> </s> <s> </s> <s> chú ý là công thức này chỉ được áp dụng với ggt nếu g f i  cost i đây là trường hợp cơ sở </s> <s> </s> <s> </s> <s> việc cài đặt chỉ đơn giản là dựng mảng  chiều f code như sau </s> <s> </s> <s> include ltiostreamgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> const int maxl    </s> <s> const int maxg    </s> <s> const long long inf   long long  e  </s> <s> </s> <s> long long c  maxl  </s> <s> long long sum  maxl  </s> <s> long long f  maxg  maxl  </s> <s> </s> <s> long long cost  int i  int j   </s> <s> return  sum  j   sum  i      j  i    </s> <s>  </s> <s> </s> <s> int main   </s> <s> int g  l  </s> <s> cin gtgt l gtgt g  </s> <s> for  int i    i lt l   i   </s> <s> cin gtgt c  i  </s> <s> sum  i   sum  i     c  i  </s> <s>  </s> <s> </s> <s> for  int g    g lt g   g   </s> <s> for  int i    i lt l   i   </s> <s> if  g     </s> <s> f  g  i   cost    i  </s> <s>  else  </s> <s> f  g  i   inf  </s> <s> for  int k    k lt i   k   </s> <s> long long newcost  f  g    k   cost  k    i  </s> <s> if  f  g  i  gt newcost  f  g  i   newcost  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> cout ltlt f  g  l  ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> chú ý là ta sử dụng mảng sum tiền xử lí ol để có thể truy vấn tổng một đoạn dùng ở hàm cost trong o </s> <s> như vậy độ phức tạp của thuật toán này là og l  l </s> <s> </s> <s> </s> <s> thuật toán tối ưu hơn </s> <s> </s> <s> gọi pg i là k nhỏ nhất để cực tiểu hóa fg i nói cách khác pg i là k nhỏ nhất mà fg i  fg k  costk i </s> <s> </s> <s> </s> <s> tính chất quan trọng để có thể tối ưu thuật toán trên là dựa vào tính đơn điệu của pg i cụ thể </s> <s> </s> <s> pg  le pg  le pg  le cdots le pg l le pg l </s> <s> </s> <s> ta sẽ không chứng minh điều này ở đây độc giả có thể tự thuyết phục rằng điều này là đúng </s> <s> </s> <s> </s> <s> chia để trị </s> <s> </s> <s> để ý rằng để tính fg i ta chỉ cần quan tâm tới hàng trước fg của ma trận </s> <s> </s> <s> fg  fg  </s> <s> </s> <s> </s> <s>  fg l </s> <s> </s> <s> </s> <s> như vậy ta có thể tính hàng fg theo thứ tự bất kỳ </s> <s> </s> <s> </s> <s> ý tưởng là với hàng g trước hết ta tính fg mid và pg mid với midl/ sau đó sử dụng tính chất nêu trên pg i le pg mid với i lt mid và pg i ge pg mid với i gt mid để đi gọi đệ quy đi tính hai nửa còn lại </s> <s> </s> <s> </s> <s> include ltiostreamgt </s> <s> </s> <s> const int maxl    </s> <s> const int maxg    </s> <s> const long long inf   long long  e  </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> long long f  maxg  maxl  sum  maxl  c  maxl  </s> <s> int p  maxg  maxl  </s> <s> </s> <s> long long cost  int i  int j   </s> <s> if  i gt j  return   </s> <s> return  sum  j   sum  i      j  i    </s> <s>  </s> <s> </s> <s> void solve  int g  int l  int r  int optl  int optr   </s> <s> if  l gt r  return  </s> <s> int mid   l  r  /   </s> <s> f  g  mid   inf  </s> <s> for  int i  optl  i lt optr   i   </s> <s> long long newcost  f  g    i   cost  i    mid  </s> <s> if  f  g  mid  gt newcost   </s> <s> f  g  mid   newcost  </s> <s> p  g  mid   i  </s> <s>  </s> <s>  </s> <s> solve  g  l  mid    optl  p  g  mid  </s> <s> solve  g  mid    r  p  g  mid  optr  </s> <s>  </s> <s> </s> <s> int main   </s> <s> int g  l  </s> <s> cin gtgt l gtgt g  </s> <s> for  int i    i lt l   i   </s> <s> cin gtgt c  i  </s> <s> sum  i   sum  i     c  i  </s> <s>  </s> <s> for  int i    i lt l   i  f    i   cost    i  </s> <s> for  int g    g lt g   g  solve  g    l    l  </s> <s> cout ltlt f  g  l  ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> chú ý rằng ta không thể đảm bảo rằng pgmid chia đôi đoạn optl optr thực tế một vài hàm solve sẽ chạy chậm hơn nhiều hàm solve khác </s> <s> </s> <s> </s> <s> tuy nhiên ta có thể chứng minh được xét về tổng thế thuật toán này chạy đủ nhanh </s> <s> mỗi lần ta chia đôi đoạn l r nên ta sẽ đảm bảo có tối đa ologl tầng đệ quy như vậy với mỗi hàng g ta chỉ mất ol  logl để tính </s> <s> toàn bộ thuật toán có độ phức tạp là og  l  logl </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> điều kiện để chia để trị đúng </s> <s> </s> <s> điều kiện theo best </s> <s> </s> <s> như ở bài hai nhà máy ceoi  </s> <s> </s> <s> nếu besti le besti ta có thể sử dụng chia để trị </s> <s> </s> <s> </s> <s> điều kiện theo cost </s> <s> </s> <s> nếu hàm cost thoả mãn quadrangle inequalities </s> <s> </s> <s> costa d  costb c ge costa c  costb d với mọi a lt b lt c lt d </s> <s> </s> <s> ta cũng có thể sử dụng qhđ chia để trị </s> <s> </s> <s> </s> <s> bài luyện tập </s> <s> </s> <s> </s> <s> f  acm icpc vietnam regional  </s> <s> hackerrank  mining </s> <s> </s> <s> </s> <s> </s> <s> thuật toán tham lam </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/greedyisgood </s> <s> </s> <s> </s> <s> </s> <s> nguồn bài  topcoder </s> <s> </s> <s> ví dụ minh họa </s> <s> </s> <s> john smith đang gặp rắc rối anh ấy là một thành viên của topcoder và sau khi học cách để trở thành bậc thầy trong việc đối phối với các bài toán quy hoạch động anh ấy bắt đầu giải quyết hàng loạt các bài tập </s> <s> nhưng chiếc máy tính dễ bảo của anh bắt đầu trở chứng vào hôm nay </s> <s> vào mỗi buổi sáng như thường lệ john thức dậy vào lúc  giờ sáng uống một cốc cà phê và bắt đầu giải các bài tập trước khi thưởng thức bữa sáng </s> <s> mặc dù có thứ gì đó sai sai so với mọi hôm nhưng dựa vào kho tàng kiến thức mà anh ấy vừa mới gặt hái được john đã viết chương trình với một tốc độ thần thánh </s> <s> mệt mỏi với việc cấp phát ma trận vào mỗi buổi sáng chiếc máy tính thông báo rằng segmentation fault </s> <s> dù cho dạ dày còn đang rỗng song với ý tưởng thông minh của mình john đã vượt qua rắc rối bằng cách chèn thêm một vòng lặp </s> <s> nhưng chiếc máy tính lại gào lên time limit exceeded </s> <s> </s> <s> </s> <s> thay vì tiếp tục vướng vào mớ rắc rối john đã có một quyết định thông minh hơn </s> <s> quá đủ cho việc lập trình  john nói </s> <s> anh ấy quyết định sẽ có một kỳ nghỉ như là phần thưởng cho những nỗ lực của mình </s> <s> </s> <s> </s> <s> là một con người tràn trề sinh lực john muốn dành thời gian nhiều cho cuộc đời của mình </s> <s> có quá nhiều thứ mà anh ta muốn làm nhưng không may là anh ta không thể nào làm hết tất cả chúng được </s> <s> thế nên trong lúc ăn sáng john đã vạch ra một fun plan được thể hiện bằng một thời gian biểu cho từng hoạt động như sau </s> <s> </s> <s> </s> <s> </s> <s> id hoạt động thời gian </s> <s> </s> <s> </s> <s>  sửa phòng thứ   đến thứ   </s> <s> </s> <s> </s> <s>  du lịch hawaii thứ   đến thứ   </s> <s> </s> <s> </s> <s>  vô địch cuộc thi cờ vua thứ   đến thứ   </s> <s> </s> <s> </s> <s>  thạm dự nhạc hội rock thứ   đến thứ   </s> <s> </s> <s> </s> <s>  chiến thắng cuộc thi starcraft thứ   đến thứ   </s> <s> </s> <s> </s> <s>  chơi trò bắn súng nước sơn thứ   đến thứ   </s> <s> </s> <s> </s> <s>  tham gia kỳ thi srm trên topcoder </s> <s> thứ   đến thứ   </s> <s> </s> <s> </s> <s>  tắm rửa thứ   đến thứ   </s> <s> </s> <s> </s> <s>  tổ chức tiệc ngủ thứ   đến chủ nhật  </s> <s> </s> <s> </s> <s>  tham gia thử thách all you can eat và all you can drink </s> <s> thứ   đến thứ   </s> <s> </s> <s> </s> <s> </s> <s> giờ anh ấy muốn thực hiện được tối đa các hoạt động trong thời gian biểu trên </s> <s> mặc dù để lên kế hoạch hiệu quả thì cần phải có chút lý trí nhưng giờ thì hồn anh ấy đã đắm chìm vào kỳ nghỉ rồi </s> <s> </s> <s> </s> <s> phát biểu bài toán </s> <s> </s> <s> liệu ta có thể giúp anh ấy có một kỳ nghỉ tuyệt vời ta hoàn toàn có thể đầu tiên ta cần phải trình bày lại bài toán </s> <s> </s> <s> </s> <s> john có n hoạt động </s> <s> hoạt động i bắt đầu vào thời gian li và kết thúc vào thời gian ri </s> <s> </s> <s> john có thể thực hiện cả hoạt động i và hoạt động j nếu  khoảng thời gian li ri và lj rj không giao nhau </s> <s> </s> <s> là một lập trình viên tỉ mỉ một khi đã đặt ra kế hoạch anh ấy buộc phải thực hiện nó </s> <s> </s> <s> </s> <s> </s> <s> mỗi hoạt động chỉ có hai chọn lựa là có hoặc không </s> <s> với mỗi trường hợp chọn lựa cho hoạt động thứ nhất ta lại có thêm  lựa chọn cho hoạt động thứ  </s> <s> phân tích nhanh ta sẽ thấy được rằng có n trường hợp và trong tình huống này thì sẽ có    trường hợp </s> <s> với mỗi trường hợp ta sẽ kiểm tra xem có thể thực hiện được các hoạt động đó không có  cặp hoạt động nào bị trùng thời gian hay không </s> <s> sau khi xét hết các phương án ta dễ dàng tìm ra  phương án có nhiều hoạt động nhất </s> <s> với khá nhiều sự chọn lựa như thế này john buộc phải nhờ đến sự giúp đỡ của chiếc máy tính đang mệt mỏi </s> <s> nhưng điều gì sẽ xảy ra nếu john có tới  hoạt động trong danh sách thậm chí dùng đến cả siêu máy tính nhanh nhất thế giới thì cũng cần đến vài năm để tìm ra câu trả lời </s> <s> thế nên phương án này khá phi thực tế </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> chúng ta cần tìm một cách tiếp cận mới </s> <s> một phương án tốt có lẽ là thực hiện công việc ngay khi thời cơ đến nếu ta có hai hoạt động và chúng bị trùng về thời gian ta sẽ ưu tiên lựa chọn hoạt động bắt đầu trước nhằm tiết kiệm thời gian nghĩa là hoạt động có li nhỏ hơn </s> <s> nếu áp dụng cách này vào  hoạt động trên thì </s> <s> </s> <s> </s> <s> john bắt đầu buổi tối t bằng việc sửa phòng </s> <s> </s> <s> buổi sáng t anh ấy sẽ lên máy bay đi du lịch hawaii </s> <s> </s> <s> </s> <s> </s> <s> và chưa đầy một ngày nhưng anh ấy đã thực hiện được  hoạt động </s> <s> thật tuyệt vời nhưng thật ra đó chỉ là lựa chọn tốt nhất lúc này thôi </s> <s> và bây giờ thì ta có gì  ngày ăn chơi ở hawaii và cho đến tận tối thứ  thì anh ấy vẫn chỉ thực hiện được  hoạt động </s> <s> hãy nghĩ xem trong  ngày đó anh ta đã có thể thực hiện được những gì </s> <s> mặc dù đơn giản và thực thi rất nhanh song rất không may là thuật toán này lại không chính xác </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> hãy thử một mánh khóe khác </s> <s> giờ ta sẽ bỏ những hoạt động tiêu tốn nhiều thời gian như đi du lịch hawaii bằng cách lựa chọn những hoạt động tốn ít thời gian nhất nghĩa là có ri  li nhỏ nhất và kiểm tra xem nó có hợp lí với những hoạt động đã chọn trước đó chưa rồi tiếp tục quá trình </s> <s> theo như thời gian biểu ở trên thì hoạt động đầu tiện được chọn lựa sẽ là tắm </s> <s> với thời gian chỉ  phút đây chính là lựa chọn tối ưu cục bộ  local best  </s> <s> và giờ điều mà ta cần biết đó là có thể giữ được tối ưu cục bộ khi mà những hoạt động thích hợp khác được chọn lựa </s> <s> thời gian biểu của john sẽ như sau </s> <s> </s> <s> </s> <s> </s> <s> tắm rửa  phút tối t    </s> <s> </s> <s> </s> <s> tham gia kỳ thi srm trên topcoder  tiếng t    </s> <s> </s> <s> </s> <s> tham gia thử thách all you can eat và all you can drink  tiếng  phút t    </s> <s> </s> <s> </s> <s> sửa phòng  tiếng t   t  </s> <s> </s> <s> </s> <s> thạm dự nhạc hội rock  tiếng t    </s> <s> </s> <s> </s> <s> chơi trò bắn súng nước sơn  tiếng t    </s> <s> </s> <s> </s> <s> </s> <s> trong  hành động ta đã lựa ra được  hành động không tệ chút nào giờ thì thuật toán của ta vẫn chạy rất nhanh và đáng tin cậy hơn chút </s> <s> và quả thực đáp án chính xác trong trường hợp này là  </s> <s> john rất hài lòng về sự hỗ trợ của chúng ta nhưng sau khi trở về từ kỳ nghỉ với kế hoạch thông minh này john đã phải đối mặt với những rắc rối nghiêm trọng khác </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> áp dụng thuật toán của ta john đã tham gia một cuộc hẹn hò chóng vánh màu đỏ để rồi anh ấy đã bỏ lỡ cả bài thi trong trường màu xanh da trời lẫn trận đấu bóng rổ của đội anh ấy yêu thích màu xanh lá </s> <s> là một topcoder  chúng ta cần phải viết ra một chương trình hoàn toàn chính xác chứ không phải chỉ đúng trong  số trường hợp </s> <s> chỉ cần một trường hợp duy nhất chúng ta không giải quyết được sẽ dẫn tới một thất bại toàn diện </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> những gì mà chúng ta thường làm trong tình huống này là phân tích điều gì đã gây ra lỗi ở cách làm trước để tránh lặp lại nó trong tương lai </s> <s> hãy xem xét lại trường hợp sai </s> <s> cuộc hẹn hò trùng thời gian với cả việc làm bài thi lẫn trận đấu bóng rổ trong khi cả trận đấu bóng rổ lẫn làm bài thi chỉ trùng lặp với một mình cuộc hẹn hò </s> <s> vậy thì ý tưởng cũng tự sinh ra từ vấn đề này </s> <s> tại sao ta không chọn hoạt động ít bị trùng lặp nhất so với những hoạt động còn lại nghe có vẻ hợp lí </s> <s> </s> <s> để đảm bảo rằng phương pháp này hoàn toàn đúng đắn lần này ta hãy thử chứng minh </s> <s> giờ giả sử ta đã lựa chọn hoạt động x ta sẽ thử kiểm tra xem ta có thể lựa chọn hoạt động a và b những hoạt động bị trùng lặp với x thay vì x được hay không </s> <s> và a b cũng không được trùng lặp nhau nếu không ta cũng không thể tối ưu hóa kết quả </s> <s> bây giờ ta sẽ quay về trường hợp trước đó x trùng với  hoạt động a và b trùng với  hoạt động </s> <s> trong trường hợp này ta sẽ chọn a và b ngay từ đầu tiên </s> <s> một trong những cách để phản bác lại giả thiết này chính là cho hoạt động a và b trùng lặp với nhiều hoạt động hơn nữa chứ không chỉ hoạt động x </s> <s> nghe nó có vẻ không trực quan cho lắm nhưng thật không may ta vẫn có thể xây dựng trường hợp đó như sau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nhưng hoạt động được biểu diễn bằng gạch màu xanh chính là những lựa chọn tối ưu trong thời gian biểu trên </s> <s> nhưng hoạt động tô màu đỏ trùng lặp với  hoạt động nên nó sẽ được chọn trước </s> <s> vẫn còn  hoạt động thích hợp khác trước hoạt động đỏ nhưng chúng đều bị trùng lặp lẫn nhau thế nên ta chỉ có thể lựa chọn thêm  hoạt động </s> <s> điều tương tự cũng xảy ra đối với  hoạt động sau hoạt động màu đỏ nhưng ta vẫn chỉ có thể chọn  </s> <s> vậy tổng cộng theo phương pháp này ta vẫn chỉ có thể chọn  hoạt động trong khi kết quả tối ưu là  </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> tổng quát lại ta đã thử  cách khác nhau và mỗi cách đều có thiếu sót </s> <s> </s> <s> </s> <s> cách  chọn hoạt động có li nhỏ nhất </s> <s> cách  chọn hoạt động có ri  li nhỏ nhất </s> <s> cách  chọn hoạt động giao với ít hoạt động khác nhất </s> <s> </s> <s> </s> <s> </s> <s> có vẻ như chúng ta đang đối mặt với một vấn đề hóc búa </s> <s> nhưng thật ra vấn đề này vẫn có một cách giải quyết đẹp đẽ và không hề phức tạp </s> <s> nếu ta xem xét hình trên một cách kỹ lưỡng hơn nữa ta sẽ thấy được rằng hoạt động màu xanh nằm ở góc trái dưới là là hoạt động duy nhất hoàn thành trước đường vẽ dọc màu đỏ </s> <s> vậy nếu lựa chọn  hoạt động đơn lẻ ta sẽ chọn hoạt động kết thúc sớm nhất có ri nhỏ nhất </s> <s> gọi thời điểm hoàn thành hoạt động đó là t thì khoảng thời gian sau t sẽ trống để ta có thể chọn các hoạt động khác </s> <s> nếu chúng ta chọn bất kỳ hoạt động nào khác thì khoảng thời gian còn lại sẽ ngắn đi </s> <s> điều này là hiển nhiên bởi vì khi ta kết thúc với bất kỳ một hoạt động nào khác thì luôn luôn t gt t </s> <s> trong trường hợp đầu tiên ta sẽ có toàn bộ thời gian từ t đến khi kết thúc và bao gồm luôn khoảng từ t đến kết thúc </s> <s> bởi vậy mà nó cũng không có khuyết điểm trong việc lựa chọn hoạt động kết thúc sớm </s> <s> và nó còn có một ưu điểm đó là ta hoàn toàn có thể chèn thêm một hoạt đồng bất kỳ vào giữa t và t và kết thúc trước khi hoạt động của t bắt đầu </s> <s> </s> <s> </s> <s> trên đây là ý tưởng để chứng minh thuật toán này đúng </s> <s> ta có thể từ đó để chứng minh chặt chẽ là cách làm này đúng </s> <s> </s> <s> </s> <s> được biết tới với tên gọi lựa chọn hoạt động  activity selection  đây là bài toán cơ sở sử dụng phương pháp tham lam </s> <s> giống như là một gã tham lam luôn muốn chiếm lấy nhiều nhất thường xuyên nhất mà hắn ta có thể trong trường hợp này ở mỗi bước ta sẽ chọn lựa một hoạt động kết thúc đầu tiên và mỗi lần đều không có hoạt động đang trong tiến trình </s> <s> và có một sự thật đó là ta luôn luôn áp dụng phương pháp tham lam cho mỗi bước trong cuộc đời của mình </s> <s> khi ta đi mua sắm hoặc đi xe hơi ta đều luôn lựa chọn phương án tốt nhất tại thời điểm hiện tại </s> <s> thật ra phương pháp tham lam có  công thức chung </s> <s> </s> <s> </s> <s> tính lựa chọn tối ưu từ những kết quả tối ưu cục bộ ta có thể đi đến kết quả tối ưu toàn cục mà không cần phải xem xét lại các kết quả </s> <s> </s> <s> tính tối ưu từ bài toán nhỏ kết quả tối ưu có được xác định bằng các kết quả tối ưu từ bài toán nhỏ hơn </s> <s> </s> <s> </s> <s> </s> <s> đoạn mã giả dưới đây diễn ta cách lựa chọn tối ưu các hoạt động bằng thuật toán tham lam mà ta vừa chứng minh phía trên </s> <s> </s> <s> đặt n là số hoạt động và </s> <s> i là hoạt động thứ i  lt i lt n </s> <s> </s> <s> với mỗi i xét si và fi lần lượt là thời gian bắt đầu và kết thúc của hoạt động đó </s> <s> </s> <s> sắp xếp lại các hoạt động theo thứ tự tăng dần của thời gian kết thúc </s> <s> </s> <s>  có nghĩa là với i lt j ta phải có f i lt f j </s> <s> </s> <s> // a là tập hợp các hoạt động được chọn </s> <s> a   </s> <s> // j là hoạt động cuối cùng được chọn </s> <s> j   </s> <s> for i   to n </s> <s> // ta có thể chọn i nếu nó là hoạt động cuối cùng </s> <s> // việc chọn lựa đã hoàn thành </s> <s> if s i gt f j </s> <s> // lựa chọn hoạt động i </s> <s> a  a  i </s> <s> </s> <s> // hoạt động i giờ trở thành hoạt động cuối cùng được lựa chọn </s> <s> j  i </s> <s> endif </s> <s> endfor </s> <s> </s> <s> return a </s> <s> </s> <s> sau khi áp dụng thuật toán trên fun plan của johnny sẽ như thế này </s> <s> </s> <s> </s> <s> sửa phòng </s> <s> vô địch cuộc thi cờ vua </s> <s> chiến thắng cuộc thi starcraft </s> <s> tham gia kỳ thi srm trên topcoder </s> <s> tắm rửa </s> <s> tham gia thử thách all you can eat và all you can drink </s> <s> </s> <s> </s> <s> vấn đề của john smith đã được giải quyết tuy nhiên đây chỉ là một ví dụ mà tham lam có thể hoạt động </s> <s> </s> <s> </s> <s> bài tập tương tự boxing </s> <s> </s> <s> bioscore </s> <s> </s> <s> bài toán </s> <s> </s> <s> </s> <s> cho n dãy ký tự dài bằng nhau </s> <s> mỗi dãy gồm  loại ký tự a  c  t  g </s> <s> </s> <s> độ tương đồng của  dãy là tổng điểm của các cặp ký tự của cùng vị trí </s> <s> ví dụ độ tương đồng của acta và gatc là scoreag  scoreca  scorett  scoreac </s> <s> </s> <s> </s> <s> </s> <s> tìm cách xây dựng bảng s  score  sao cho độ tương đồng của tất cả các cặp  xâu trong n xâu là lớn nhất biết rằng bảng s phải thỏa mãn các tính chất </s> <s> </s> <s> </s> <s> các giá trị từ  đến  </s> <s> đối xứng sx y  sy x </s> <s> </s> <s> đường chéo dương sx x gt  </s> <s> </s> <s> tổng các số trong s phải bằng  </s> <s> </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> việc đầu tiên mà ta cần làm là xây dựng một ma trận cho biết số lần lặp  ma trận tần số  của từng cặp  ký tự </s> <s> đây là một công việc khá nhẹ nhàng khi mà ta chỉ cần ghép từng cặp ký tự ở hai chuỗi tạo rồi đếm số lần xuất hiện của chúng  aa  ac  ag  at  ca  cc  cg  ct  ga  gc  gg  gt  ta  tc  tg  tt  </s> <s> từng cặp ký tự sẽ được xem như một phần tử trong ma trận và giá trị của nó chính là số lần xuất hiện của nó </s> <s> </s> <s> </s> <s> ví dụ hãy xét bộ actagagac aaaaaaaaa tagtcatac gcagcattc được sử dụng ở ví dụ thứ  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ở góc phải  dưới của hình minh họa trên ta có thể thấy kết quả của ma trận tần số đối với bộ đã cho </s> <s> tạm gọi nó là f </s> <s> giờ việc mà ta cần làm là tìm ra một ma trận s sao cho tổng của các tích fi j  si j với  le i j le  là lớn nhất </s> <s> </s> <s> </s> <s> giờ ta xét từng điều kiện cho ma trận cần tìm </s> <s> </s> <s>  tổng của  phần tử bằng  </s> <s> </s> <s> rõ ràng nếu ta không giới hạn tổng của các phần tử thì ta có thể đạt được tổng bằng vô cùng nếu gán tất cả các phần tử của s là vô cùng </s> <s> nhưng bởi vì tống của chúng phải bằng  thế nên khi ta tăng giá trị  phần tử lên thì ta sẽ phải giảm đi giá trị của  phần tử khác </s> <s> thử thách ở điều kiện này chính là phải tìm ra một sự phân bố tối ưu </s> <s> </s> <s> </s> <s>  giá trị mỗi phần tử chỉ nằm trong khoảng từ  đến  si j in   </s> <s> </s> <s> tương tự nếu không có điều kiện này kết quả có thể lên đến vô cùng nếu ta có  cặp không xuất hiện gán s tương ứng là âm vô cùng còn các phần tử còn lại trong mảng là dương vô cùng </s> <s> </s> <s> </s> <s>  mỗi phần tử đối xứng phải có giá trị bằng nhau sx y  sy x </s> <s> </s> <s> bởi vì tính đối xứng ta phải quy định cho các điểm cho các cặp như ac và ca bằng nhau </s> <s> do tính đối xứng này ta cập nhật lại mảng tần số xuất hiện để tính cả các cặp đối xứng </s> <s> đối với ví dụ trên ta có bảng tần số mới như sau </s> <s> </s> <s> </s> <s> </s> <s> aa  acca  agga  atta  </s> <s> </s> <s> </s> <s> cc  cggc  tcct  </s> <s> </s> <s> gg  gttg  </s> <s> </s> <s> </s> <s> tt  </s> <s> </s> <s> </s> <s> </s> <s> từ trực giác ta có thể thấy ngay đến phương án như sau đã sẽ gán điểm số càng cao đối với cặp xuất hiện càng nhiều lần </s> <s> </s> <s> </s> <s>  các phần tử trên đường chéo phải dương sx x gt  </s> <s> </s> <s> do tính chất này ta phải xét riêng hai loại phần tử </s> <s> </s> <s> </s> <s>  phần tử trên đường chéo các phần tử đại diện cho aa  cc  gg  tt  </s> <s>  phần tử không nằm trên đường chéo các phần tử đại diện cho ac  ca  ag  ga  at  ta  cg  gc  ct  tc  gt tg  </s> <s> </s> <s> </s> <s> </s> <s> ta xét tất cả các trường hợp chọn các phần tử của nhóm thứ nhất </s> <s> có    trường hợp khác nhau </s> <s> với mỗi trường hợp của nhóm thứ nhất ta sẽ tìm đáp án tối ưu cho nhóm thứ  </s> <s> </s> <s> </s> <s> </s> <s> với mỗi trường hợp ta có tổng các phần tử của nhóm thứ nhất nằm trong khoảng   nên tổng các phần tử của nhóm thứ  nằm trong khoảng   chú ý rằng nhóm thứ  đối xứng mỗi phần tử xuất hiện  lần trong ma trận s nên ta phải nhân đôi </s> <s> </s> <s> vì các phần tử của nhóm  có chung tính chất ta sử dụng tham lam để tìm kết quả tối ưu cho nhóm thứ  </s> <s> </s> <s> </s> <s> </s> <s> nhắc lại tư tưởng của tham lam tại mỗi bước ta chọn một lựa chọn tối ưu cục bộ </s> <s> trong trường hợp này nghĩa là ta xét lần lượt từng phần tử với mỗi phần tử gán cho nó giá trị tối ưu </s> <s> </s> <s> </s> <s> nhận xét </s> <s> </s> <s> </s> <s> nếu ta xét lần lượt các phần tử theo thứ tự giảm dần ở mỗi bước ta gán giá trị lớn nhất có thể cho phần tử đó thì kết quả thu được sẽ tối ưu </s> <s> </s> <s> </s> <s> </s> <s> do đó cách làm là </s> <s> </s> <s> </s> <s> sắp xếp  phần tử của nhóm  theo thứ tự giảm dần theo ma trận f </s> <s> </s> <s> hai giá trị đầu tiên sẽ được gán bằng  vì trường hợp xấu nhất ta cần tổng bằng  thì ta vẫn có thể gán  giá trị còn lại là  </s> <s> </s> <s> ta biết rằng số điểm cuối cùng sẽ nhỏ hơn  </s> <s> bởi vì ta muốn tối đa hóa số điểm của phần tử thứ  nên ba phần tử còn lại sẽ luôn là  </s> <s> </s> <s> </s> <s> trong trường hợp tốt nhất tổng bằng  ta thu được       </s> <s> </s> <s> trong trường hợp xấu nhất tổng bằng  ta thu được       </s> <s> </s> <s> ta có thể thu được tất cả các tổng từ  đến  bằng việc thay đổi giá trị của phần tử thứ  từ  đến  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giờ ta cần chứng minh rằng phương pháp của mình là đúng </s> <s> </s> <s> </s> <s> </s> <s> vì ta xét hết tất cả các trường hợp của nhóm  nên ta chỉ cần chứng minh cách chọn các phần tử của nhóm  là tối ưu </s> <s> </s> <s> vì tổng các phần tử của nhóm  cố định nên nếu ta tăng  phần tử thì phải giảm  phần tử khác </s> <s> </s> <s> gọi f và f là số lần xuất hiện của  số bất kỳ của nhóm  </s> <s> ta có </s> <s> </s> <s> </s> <s> f  s  f  s  x </s> <s> </s> <s> </s> <s> </s> <s> không làm mất tính tổng quát giả sử f ge f </s> <s> do cách tham ta có s ge s </s> <s> ta cũng có s là lớn nhất có thể nên ta không thể tăng s </s> <s> </s> <s> giả sử cách làm của ta không tối ưu nghĩa là ta có một cách chọn  số a sao cho </s> <s> </s> <s> </s> <s> f  s  a  f  s  a  y với a là số dương </s> <s> </s> <s> ta có yx  a  ff </s> <s> bởi vì f ge f nên yx luôn âm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> do vậy cách làm của ta là tối ưu </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> ý tưởng chính của thuật toán trên sẽ được minh họa trong đoạn mã giả dưới đây </s> <s> </s> <s> best  infinity </s> <s> for s   to  </s> <s> for s   to  </s> <s> for s   to  </s> <s> for s   to  </s> <s> if s  s  s  s mod    </s> <s> s  s   </s> <s> s    s  s  s  s /  </s> <s> s  s  s   </s> <s> </s> <s> // biến best sẽ lưu lại giá trị trung bình lớn nhất tìm được </s> <s> best  max best score f s </s> <s> endif </s> <s> endfor </s> <s> endfor </s> <s> endfor </s> <s> endfor </s> <s> return best </s> <s> </s> <s> đối với mảng lưu điểm đã cho trong trường hợp của chúng ta là mảng s ta sẽ tính kết quả cuối cùng bằng việc chỉ tính tổng của tích fi  s i  </s> <s> </s> <s> </s> <s> goldmine </s> <s> </s> <s> bài toán </s> <s> </s> <s> có n mỏ vàng mỗi mỏ vàng chứa được tối đa  công nhân </s> <s> bằng cách phân bổ các công nhân công ty sẽ thu được hoặc mất đi số tiền như sau </s> <s> </s> <s> </s> <s> nếu mỏ vàng có ít nhân công hơn trữ lượng của nó công ty sẽ thu được  với mỗi công nhân </s> <s> </s> <s> nếu mỏ vàng có số công nhân bằng với trữ lượng của nó công ty sẽ thu được  cho với mỗi công nhân </s> <s> </s> <s> nếu mỏ vàng có số công nhân nhiều hơn trữ lượng của nó công ty sẽ được số tiền là  nhân cho trữ lượng mỏ </s> <s> với mỗi công nhân bị thừa ra so với sản lượng mỏ công ty sẽ bị mất đi  </s> <s> </s> <s> </s> <s> </s> <s> dù cho có bị mất tiền đi chăng nữa thì công ty cũng buộc phải phân công đủ các công nhân vào các mỏ </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> bằng việc sử dụng phương pháp tham lam ta sẽ phân tích xem cách một mỏ vàng bị khai thác triệt </s> <s> kinh nghiệm cho thấy đối với dạng bài như tìm kiếm giá trị tối đa thường ta có thể giải quyết bằng tham lam </s> <s> trong trường hợp này mục tiêu của ta là chỉ định những công nhân đến các mỏ vàng sao cho tổng lợi nhuận thu được là tối đa </s> <s> phân tích nhanh ta thấy rằng cần phải biết lợi nhuận thu được từ các mỏ vàng trong tất cả các trường hợp chỉ có  trường hợp  từ  đến  công nhân </s> <s> bảng dưới đây sẽ cho ta thấy lợi nhuận khả thi đối với hai mỏ ở ví dụ  trong bài </s> <s> </s> <s> </s> <s>  người  người  người  người  người  người  người </s> <s> mỏ         </s> <s> mỏ         </s> <s> </s> <s> </s> <s> nếu ta chỉ có duy nhất một công nhân lựa chọn tối ưu chính là cho anh ta vào mỏ nơi mà anh ta mang lại nhiều lợi nhuận nhất </s> <s> nhưng nếu ta có nhiều công nhân ta cần phải kiểm tra xem nếu phân công anh ở mỏ tương tự có mang lại lợi nhuận cục bộ tối ưu không </s> <s> </s> <s> </s> <s> trong ví dụ ta có  công nhân cần được phân công </s> <s> bảng dưới đây sẽ cho biết lợi nhuận thu được của mỗi mỏ với từng công nhân được thêm vào </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ           </s> <s> </s> <s> </s> <s> ta để ý rằng mỏ  sẽ tăng thêm  nếu ta thêm vào một công nhân trong khi mỏ  chỉ tăng thêm  </s> <s> thế nên ta sẽ phân bố người đầu tiên vào mỏ  </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ           </s> <s> </s> <s> </s> <s> giờ nếu ta thêm công nhân vào mỏ  ta chỉ tăng lợi nhuận được thêm  </s> <s> bởi vậy nên ta sẽ thêm công nhân vào mỏ  lúc này lợi nhuận ta thu được sẽ tăng thêm  </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ          </s> <s> </s> <s> </s> <s> công nhân thứ  sẽ có ích hơn khi làm ở mỏ  với lợi nhuận thu được là  </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ         </s> <s> </s> <s> </s> <s> với công nhân thứ  ta có thể cho anh ta vào mỏ  với lợi nhuận là  hoặc mỏ  với lợi nhuận là  </s> <s> dĩ nhiên ta sẽ phân công anh ấy vào mỏ hai </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ         </s> <s> </s> <s> </s> <s> cuối cùng hai công nhân còn lại sẽ được phân công bằng cách cho cả hai vào làm ở mỏ  hoặc mỗi người làm ở một mỏ riêng </s> <s> ví dụ cho ta thấy kết quả mà ta vừa tìm được chính là kết quả tối ưu </s> <s> nhưng câu hỏi đặt ra là liệu phương pháp này có luôn đúng hay không </s> <s> </s> <s> khẳng định ta luôn luôn thu được tổng lợi nhuận lớn nhất khi lần lượt cho từng công nhân vào mỏ có lợi nhuận cao nhất ở thời điểm hiện tại </s> <s> </s> <s> </s> <s> chứng minh  gọi a b lần lượt là mỏ  và mỏ  a b a b được định nghĩa như sau </s> <s> </s> <s> </s> <s> a  lợi nhuận thu được khi phân công thêm một công nhân vào a </s> <s> </s> <s> aa  lợi nhuận thu được khi phân công thêm hai công nhân vào a </s> <s> </s> <s> b  lợi nhuận thu được khi phân công thêm một công nhân vào b </s> <s> </s> <s> bb  lợi nhuận thu được khi phân công thêm hai công nhân vào b </s> <s> </s> <s> </s> <s> </s> <s> thuật toán tham lam của ta sẽ gia tăng lợi nhuận bằng a cho công nhân đầu tiên và ab cho công nhân thứ  </s> <s> tổng lợi nhuận lúc này sẽ là amaxa b </s> <s> nếu ban đầu ta chọn b thì lợi nhuận của công nhân thứ  thu được sẽ là a hoặc b </s> <s> </s> <s> </s> <s> trong trường hợp đầu tiên ta sẽ có ab le amaxa b </s> <s> </s> <s> </s> <s> trong trường hợp thứ hai tổng lợi nhuận sẽ là bb </s> <s> ta cần phải chứng minh bb le amaxa b </s> <s> mà ta luôn có b le b vì lợi nhuận thu được từ việc thêm một công nhân vào một mỏ luôn luôn lớn hơn hoặc bằng lợi nhuận thu được từ việc thêm một công nhân nữa vào mỏ đó </s> <s> </s> <s> </s> <s> </s> <s> trạng thái của mỏ vàng lợi nhuận từ việc thêm  người lợi nhuận từ việc thêm  người </s> <s> số lượng mỏ gtsố lượng người đào   </s> <s> số lượng mỏ  số lượng người đào   </s> <s> số lượng mỏ  số lượng người đào   </s> <s> số lượng mỏ  </s> <s>   </s> <s> </s> <s> </s> <s> vì bb le aa le ab le amaxa b lựa chọn tham lam cũng chính là phương án tối ưu </s> <s> </s> <s> </s> <s> cài đặt thuật toán này hoàn toàn không khó tuy nhiên ta cần phải xử lý thêm một vài trường hợp nữa tất cả các công nhân đều phải được phân công chỉ có tối đa sáu người trong một mỏ và nếu một công nhân có thể được đặt tối ưu ở nhiều mỏ ưu tiên mỏ có chỉ số nhỏ hơn </s> <s> </s> <s> </s> <s> worldpeace </s> <s> </s> <s> bài toán </s> <s> cho n đất nước mỗi nước có dân số của họ </s> <s> hãy chia thành thành các nhóm có k người không có cùng quốc tịch </s> <s> hãy cho biết số lượng nhóm tối đa có thể đạt được </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> những thuật toán tham lam đều hoạt động tốt ở mọi tình huống bởi ta đã chứng minh được tính đúng đắn của nó </s> <s> nhưng còn một lớp bài toán tối ưu hóa nữa mà thuật toán tham lam có thể được áp dụng </s> <s> đây là những bài tập thuộc lớp np  đầy đủ như bài toán người đưa thư tsp traveling salesman problem  đối với dạng bài toán này ta thường sẽ sử dụng phượng pháp nhánh cận để giải quyết vấn đề hơn là chờ đợi chương trình thực thi </s> <s> </s> <s> </s> <s> lời giải không phải lúc nào cũng là tối ưu song trong phần lớn trường hợp nó đã đủ tốt rồi </s> <s> với một bài toán không thuộc lớp np như thế này đây chính là ví dụ tuyệt vời cho việc một thuật toán tham lam không chỉ có thể đánh lừa và vượt qua các test mẫu mà nó còn có thể vượt qua cả những bộ test hệ thống được thiết kế kỹ càng </s> <s> thuật toán này không quá khó để nghĩ ra mà chỉ cần một vài phân tích nhanh ta có thể nhận ra để tối đa hóa tổng số lượng nhóm luôn luôn tối ưu để tạo thiết lập một nhóm từ k quốc gia có dân số đông nhất </s> <s> chúng ta áp dụng phương pháp này ở từng bước và sau đó sắp xếp lại đoạn để thấy được k quốc gia tiếp theo có dân số đông nhất </s> <s> ý tưởng này sẽ được minh họa trong đoạn mã giả dưới đây </s> <s> </s> <s> groups   </s> <s> repeat </s> <s> // sắp xếp lại mảng theo thứ tự giảm dần </s> <s> sort a </s> <s> min  ak </s> <s> if min gt  </s> <s> groups  groups   </s> <s> for i   to k </s> <s> ai  ai   </s> <s> endfor </s> <s> until min   </s> <s> return groups </s> <s> </s> <s> không may thay mỗi quốc gia lại có tới hàng tỷ người dân thế nên ta không thể nào thiết lập từng nhóm một được </s> <s> về mặt lý thuyết đối với một tập hợp của k quốc gia chúng ta sẽ tạo nhóm cho đến khi mà toàn bộ người dân của nước đó đã được phân nhóm </s> <s> và điều này sẽ được thực hiện chỉ trong  bước </s> <s> </s> <s> groups   </s> <s> repeat </s> <s> // sắp xếp lại mảng theo thứ tự giảm dần </s> <s> sort a </s> <s> min ak </s> <s> groups  groups  min </s> <s> for i   to k </s> <s> ai  ai  min </s> <s> endfor </s> <s> until min   </s> <s> return groups </s> <s> </s> <s> thời gian thực thi giờ không còn là vấn đề nữa mà vấn đề giờ đây chính là tính đúng đắn của thuật toán khi ta thử ví dụ  trong bài thuật toán của chúng ta trả về kết quả là  chứ không phải là  </s> <s> nhưng kết quả trả về trong ví dụ   và  thì đúng </s> <s> trong với ví dụ cuối cùng thay vì tạo ra  nhóm ta chỉ tạo được  nhóm mà thôi </s> <s> bằng việc chỉ kết quả có sai lệch không đáng kể ta có thể thấy rằng giải thuật của mình khá tốt </s> <s> thế nên giờ ta chỉ cần cải tiến nó theo hướng này </s> <s> </s> <s> </s> <s> cho đến hiện tại ta đã có trong tay hai thuật toán </s> <s> </s> <s> </s> <s> thuật toán tham lam đầu tiên chính xác nhưng không đủ nhanh </s> <s> </s> <s> thuật toán tham lam thứ hai nhanh nhưng lại không chính xác </s> <s> </s> <s> </s> <s> </s> <s> giờ điều mà ta cần làm đó chính là tăng độ chính xác của thuật toán này lên nhiều nhất có thể mà thời gian thực thi vẫn không bị quá giới hạn </s> <s> một cách cơ bản ta đang tìm kiếm sự cân bằng giữa thời gian thực thi và độ chính xác </s> <s> điểm khác biệt duy nhất giữa hai thuật toán kể trên chính là số lượng nhóm mà chúng ta lựa chọn được </s> <s> chúng ta sẽ có một phương án như sau ta sẽ lựa ra một số lượng lớn nhóm ngẫu nhiên lúc đầu sau đó sẽ giải quyết đoạn còn lại theo cách tiếp cận an toàn hơn </s> <s> khi mà chúng ta chỉ còn lại một số lượng nhỏ người dân chưa được phân nhóm ở các quốc gia thì lúc này nó hoàn toàn hợp lí khi ta sử dụng phương pháp vét cạn </s> <s> với biến allowed được khỏi tạo trong thuật toán dưới đây ta điều khiển số lượng nhóm mà ta mong muốn tạo tại thời điểm được cho </s> <s> </s> <s> </s> <s> groups   </s> <s> repeat </s> <s> // sắp xếp lại mảng theo thứ tự giảm dần </s> <s> sort a </s> <s> min  ak </s> <s> allowance  min /  </s> <s> groups  groups  allowance </s> <s> for i   to k </s> <s> ai  ai  allowance </s> <s> endfor </s> <s> until min   </s> <s> return groups </s> <s> </s> <s> nếu cách tiếp cận này thật sự đúng ta hoàn toàn có thể nhận ra được </s> <s> mặc dù nó có thể thoát khỏi ánh mắt sắc nhọn của tomek cũng như là test hệ thống nhưng có vẻ là nó sẽ không thể nào đưa ra kết quả quả đúng với mọi bộ test khả thi </s> <s> đây chính một ví dụ cho thấy nếu được tinh chỉnh từ một thuật toán tham lam đơn giản nhưng vẫn còn khiếm khuyết cũng cũng có thể trở thành một giải thuật đúng </s> <s> để biết thêm về thuật toán chính xác cho bài này xem lời giải ở match editorial </s> <s> </s> <s> </s> <s> tổng kết </s> <s> </s> <s> tham lam thường dễ nghĩ ra dễ cài đặt và chạy nhanh nhưng không phải lúc nào cũng đúng </s> <s> khi bạn sử dụng duyệt hoặc quy hoạch động nó giống như bạn đang di chuyển trên mặt đất an toàn </s> <s> còn đối với tham lam thì giống như bạn đang đi trên một bãi mìn </s> <s> như bạn đã thấy qua ví dụ  có rất nhiều cách tham khác nhau nhưng chỉ có một cách cho kết quả đúng </s> <s> vì vậy khi làm bài bạn luôn luôn nên tìm cách chứng minh tính đúng đắn của thuật tham </s> <s> </s> <s> </s> <s> không tồn tại một công thức chung nào cho việc áp dụng tham lam tuy nhiên ta có thể nhìn ra thuật tham bằng việc phân tích các tính chất của bài toán kinh nghiệm cũng như trực giác </s> <s> </s> <s> </s> <s> một vài lưu ý nhỏ </s> <s> </s> <s> </s> <s> nhưng bài tập mà có vẻ cực kỳ phức tạp như tcsocks  có thể xem như là dấu hiệu để tiếp cận bằng phương pháp tham lam </s> <s> </s> <s> nhưng bài toán mà dữ liệu đầu vào rất lớn mà kể cả thuật toán có độ phức tạp on vẫn không kịp thường được giải bằng tham lam hơn là quay lui hoặc quy hoạch động </s> <s> </s> <s> mặc dù nó có vẻ rùng rợn nhưng bạn nên nhìn thuật toán tham lam dưới đôi mắt của một thám tử chứ không phải là dưới cặp kính của một nhà toán học </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> một thám tử giỏi tham lam </s> <s> </s> <s> </s> <s> </s> <s> một người tham lam may mắn </s> <s> </s> <s> </s> <s> </s> <s> một người tham lam không may mắn </s> <s> </s> <s> </s> <s> </s> <s> ngoài ra việc học tập một số thuật toán có sử dụng tham lam sẽ giúp nắm vững phương pháp này hơn  thuật toán prim  thuật toán kruskal  thuật toán dijkstra  </s> <s> </s> <s> </s> <s> bài tập mở rộng </s> <s> </s> <s> cấp độ  </s> <s> </s> <s> </s> <s> </s> <s> grocerybagger – srm  </s> <s> </s> <s> fanfailure – srm  </s> <s> </s> <s> playgame – srm  </s> <s> </s> <s> schoolassembly – tco round  </s> <s> </s> <s> rockstar – srm  </s> <s> </s> <s> apothecary – srm  </s> <s> </s> <s> boxing – tco round  </s> <s> </s> <s> unblur – tco semifinal room  </s> <s> </s> <s> </s> <s> cấp độ  </s> <s> </s> <s> </s> <s> </s> <s> crossroads – srm  </s> <s> </s> <s> tcsocks – srm  </s> <s> </s> <s> heatdeath – tco round  </s> <s> </s> <s> bioscore – tco semifinal room  </s> <s> </s> <s> rationalization – srm  </s> <s> </s> <s> </s> <s> cấp độ  </s> <s> </s> <s> </s> <s> </s> <s> goldmine – srm  </s> <s> </s> <s> mlbrecord – tco round  </s> <s> </s> <s> rearrangefurniture – srm  </s> <s> </s> <s> worldpeace – srm  </s> <s> </s> <s> </s> <s> </s> <s> phân tích về qhđ  thầy lê minh hoàng </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/thacmacveqhd </s> <s> </s> <s> </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> khi có  bạn hỏi quy hoạch động trạng thái là gì trong bài qbselect  thầy lê minh hoàng có trả lời như sau </s> <s> </s> <s> bạn cứ hiểu quy hoạch động là quy hoạch động </s> <s> đừng quan tâm đến cách thức lưu trữ một chiều hai chiều rời rạc </s> <s> </s> <s> </s> <s>  cũng đừng quan tâm tới thứ tự tính toán quét ngang băm chéo trên cây trên dag trên đường dưới ao </s> <s> </s> <s> </s> <s>  thì sẽ thấy vấn đề là do dân competitive programmers tự thêm thuật ngữ mới vào chứ bản chất rất đơn giản </s> <s> </s> <s> dynamic programming  solving recurrence  memoization </s> <s> </s> <s> ví dụ như cái bài qbselect chắc bạn tiếp cận và dựng công thức truy hồi như thế này cách chọn trong cái bảng gồm n cột nó bao hàm cách chọn trong n   cột </s> <s> suy nghĩ tự nhiên là ta thử mọi cách chọn trong cột cuối với mỗi cách đó thử khớp với cách chọn tối ưu nhất trong n   cột đầu mà không xung đột với cột cuối gt với mỗi cách chọn trong n   cột đầu ta phải phân loại theo cách chọn cột n   để khớp với cách chọn trong cột n sau này </s> <s> bài toán trở thành dựng một hàm mục tiêu fx trong đó biến x xác định bài toán </s> <s> </s> <s> </s> <s> vậy để xác định bài toán biến x cần chứa đủ thông tin ta đang tính tới cột nào và ở cột cuối cùng ta chọn các ô như thế nào </s> <s> cái biến x này người ta gọi là tham số xác định bài toán hay dân việt gọi là trạng thái </s> <s> tức là biến x  một bộ i a b c d cho biết tính đến cột i a  có chọn  i không b  có chọn ô  i không c  có chọn ô  i không và d  có chọn ô  i không </s> <s> </s> <s> </s> <s> bây giờ mới nghĩ về cách thức lưu trữ và tính toán </s> <s> ta biết rằng hàm mục tiêu fx xác định bởi giá trị x  i a b c d </s> <s> trong đó a b c d chỉ là  hoặc  gt có thể nén  tham số này vào  bit của một biến nguyên </s> <s> bạn cũng có thể để rời và lưu trữ hàm mục tiêu dưới dạng mảng  chiều fx  fiabcd </s> <s> </s> <s> </s> <s> </s> <s> nhưng tùy vào cách thức triển khai tính toán mà bạn tìm cách mã hóa x theo cách nào hợp lý nhất </s> <s> nhằm thuận lợi cho các thao tác </s> <s> </s> <s> </s> <s> xác định xem một bài toán đã giải chưa nếu giải rồi thì giá trị hàm mục tiêu  mấy </s> <s> giải công thức truy hồi và lưu trữ lời giải </s> <s> </s> <s> </s> <s> chẳng hạn nếu bạn giải kiểu quét ngang bảng phương án for i   </s> <s> </s> <s> </s> <s> </s> <s> n thì không nên mã hóa cái i vào cùng với a b c d </s> <s> nếu bạn giải bằng topdown  memoization mà ta thường gọi là đệ quy có nhớ thì chẳng cần mã hóa </s> <s> cứ giải xong fi a b c d nào lưu nó vào một tập hợp s muốn xem một bài giải chưa thì tìm nó trong s </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tập s có thể cài bằng hashmap pascal hoặc unorderedmapc có tốc độ lưu trữ và truy vấn o </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nói như vậy mọi bài qhđ đều phải tìm cách xác định bài toán tức là không gian các x  các trạng thái của nó </s> <s> hay nói cách khác qhđ là qhđ trạng thái và ngược lại </s> <s> </s> <s> </s> <s> những chuyện xử lý bit nén </s> <s> </s> <s> </s> <s> là encoding nó là kỹ thuật cơ bản không liên quan gì tới qhđ hết mà chỉ dùng để mã hóa bài toán </s> <s> những chuyện dfs topological sorting cũng là để xác định thứ tự tính chứ không phải đặc trưng của qhđ </s> <s> bạn nên coi các cái này là kỹ thuật bổ trợ nhằm tăng tính hiệu quả của phép cài đặt mà thôi </s> <s> </s> <s> còn về căn bản như bài toán ở trên mọi ct truy hồi ta có thể giải kiểu dùng hashmap lúc đó ta chẳng cần quan tâm tới encoding và thứ tự tính nữa </s> <s> </s> <s> </s> <s> </s> <s> thuật toán sắp xếp </s> <s> http//vnoi </s> <s> info/wiki/algo/basic/sorting </s> <s> </s> <s> </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> ứng dụng về sắp xếp có ở khắp mọi nơi </s> <s> </s> <s> </s> <s> một danh sách lớp với các học sinh được sắp xếp theo thứ tự bảng chữ cái </s> <s> </s> <s> một danh bạ điện thoại </s> <s> </s> <s> danh sách các truy vấn được tìm kiếm nhiều nhất trên google </s> <s> </s> <s> </s> <s> </s> <s> thuật toán sắp xếp cũng được dùng kết hợp với những thuật toán khác như tìm kiếm nhị phân thuật toán kruskal để tìm cây khung nhỏ nhất của đồ thị </s> <s> </s> <s> </s> <s> vì sao chúng ta phải học nhiều thuật toán sắp xếp khi code bạn chỉ cần biết cài một thuật toán sắp xếp là đủ </s> <s> hoặc nếu bạn code c hay java bạn chỉ cần biết cách gọi thư viện </s> <s> tuy nhiên các thuật toán sắp xếp khác nhau cho ta nhiều ý tưởng hay và độc đáo  điều này vô cùng hữu ích khi các bạn học các thuật toán khác </s> <s> </s> <s> </s> <s> những điểm cần chú ý </s> <s> </s> <s> hãy thử tưởng tượng bạn có một bộ bài đã được xáo và bạn muốn sắp xếp lại các lá bài theo thứ tự tăng dần </s> <s> bạn sẽ làm như nào có rất nhiều cách tiếp cận khác nhau </s> <s> </s> <s> </s> <s> chia bộ bài theo giá trị    </s> <s> </s> <s> </s> <s> rồi gộp lại </s> <s> </s> <s> trải tất cả các lá bài ra rồi lần lượt lấy lá bài nhỏ nhất </s> <s> </s> <s> chia bộ bài ra thành nhiều nhóm nhỏ </s> <s> với mỗi nhóm sắp xếp lại sau đó gộp các nhóm lại với nhau theo thứ tự tăng dần </s> <s> </s> <s> </s> <s> </s> <s> bạn sẽ thấy những cách tiếp cận khác nhau sẽ có thời gian nhanh chậm khác nhau </s> <s> các thuật toán sắp xếp cũng vậy </s> <s> có rất nhiều cách tiếp cận với ưu nhược điểm khác nhau </s> <s> </s> <s> </s> <s> khi so sánh giữa các thuật toán này với nhau có nhiều vấn đề phải quan tâm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thời gian chạy </s> <s> đối với các dữ liệu rất lớn các thuật toán không hiệu quả sẽ chạy rất chậm và không thể ứng dụng trong thực tế </s> <s> </s> <s> </s> <s> bộ nhớ </s> <s> các thuật toán nhanh đòi hỏi đệ quy sẽ có thể phải tạo ra các bản copy của dữ liệu đang xử lí </s> <s> với những hệ thống mà bộ nhớ có giới hạn ví dụ embedded system một vài thuật toán sẽ không thể chạy được </s> <s> </s> <s> </s> <s> độ ổn định  stability  </s> <s> độ ổn định được định nghĩa dựa trên điều gì sẽ xảy ra với các phần tử có giá trị giống nhau </s> <s> </s> <s> </s> <s> </s> <s> đối với thuật toán sắp xếp ổn định các phần tử bằng với giá trị bằng nhau sẽ giữ nguyên thứ tự trong mảng trước khi sắp xếp </s> <s> </s> <s> đối với thuật toán sắp xếp không ổn định các phần tử có giá trị bằng nhau sẽ có thể có thứ tự bất kỳ </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong bài viết này ta giả sử cần sắp xếp tăng dần các phần tử </s> <s> để sắp xếp giảm dần ta có nhiều cách </s> <s> </s> <s> </s> <s> sửa đổi thuật toán một cách phù hợp </s> <s> </s> <s> sắp xếp sau đó đảo ngược thứ tự các phần tử </s> <s> </s> <s> định nghĩa lại việc so sánh nhỏ hơn </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp nổi bọt bubble sort </s> <s> </s> <s> đây là thuật toán cơ bản nhất cho việc sắp xếp </s> <s> </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> </s> <s> xét lần lượt các cặp  phần tử liên tiếp </s> <s> nếu phần tử đứng sau nhỏ hơn phần tử đứng trước ta đổi chỗ  phần tử </s> <s> nói cách khác phần tử nhỏ nhất sẽ nổi lên trên </s> <s> </s> <s> lặp lại đến khi không còn  phần tử nào thỏa mãn </s> <s> có thể chứng minh được số lần lặp không quá n   do một phần tử chỉ có thể nổi lên trên không quá n lần </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> code đơn giản dễ hiểu </s> <s> không tốn thêm bộ nhớ </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> độ phức tạp mathcalon không đủ nhanh với dữ liệu lớn </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> for  int i    i lt n  i   </s> <s> for  int j    j lt n    j   </s> <s> if  a  j  gt a  j     </s> <s> swap  a  j  a  j    </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn bubble ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp chèn insertion sort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> ý tưởng chính của thuật toán là ta sẽ sắp xếp lần lượt từng đoạn gồm  phần tử đầu tiên  phần tử đầu tiên </s> <s> </s> <s> </s> <s>  n phần tử </s> <s> </s> <s> </s> <s> giả sử ta đã sắp xếp xong i phần tử của mảng </s> <s> để sắp xếp i phần tử đầu tiên ta tìm vị trí phù hợp của phần tử thứ i và chèn nó vào đó </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> nếu danh sách đã gần đúng thứ tự insertion sort sẽ chạy rất nhanh </s> <s> ví dụ bạn cần sắp xếp highscore trong game </s> <s> </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> độ phức tạp mathcalon không đủ nhanh với dữ liệu lớn </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> for  int i    i lt n  i    </s> <s> // tìm vị trí phù hợp cho i </s> <s> int j  i  </s> <s> while  j gt  ampamp data  i  lt data  j     j  </s> <s> </s> <s> // đưa i về đúng vị trí </s> <s> int tmp  data  i  </s> <s> for  int k  i  k gt j  k   </s> <s> data  k   data  k    </s> <s> data  j   tmp  </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn insert ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp trộn merge sort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> sắp xếp trộn hoạt động kiểu đệ quy </s> <s> </s> <s> </s> <s> đầu tiên chia dữ liệu thành  phần và sắp xếp từng phần </s> <s> </s> <s> sau đó gộp  phần lại với nhau </s> <s> để gộp  phần ta làm như sau </s> <s> </s> <s> </s> <s> tạo một dãy a mới để chứa các phần tử đã sắp xếp </s> <s> </s> <s> so sánh  phần tử đầu tiên của  phần </s> <s> phần tử nhỏ hơn ta cho vào a và xóa khỏi phần tương ứng </s> <s> </s> <s> tiếp tục như vậy đến khi ta cho hết các phần tử vào dãy a </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> chạy nhanh độ phức tạp mathcalonlogn </s> <s> </s> <s> ổn định </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> cần dùng thêm bộ nhớ để lưu mảng a </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> int a  maxn  // mảng trung gian cho việc sắp xếp </s> <s> </s> <s> // sắp xếp các phần tử có chỉ số từ left đến right của mảng data </s> <s> </s> <s> void mergesort  int data  maxn  int left  int right   </s> <s> if  data </s> <s> length     </s> <s> // dãy chỉ gồm  phần tử ta không cần sắp xếp </s> <s> </s> <s> return  </s> <s>  </s> <s> int mid   left  right  /   </s> <s> // sắp xếp  phần </s> <s> mergesort  data  left  mid  </s> <s> mergesort  data  mid    right  </s> <s> </s> <s> // trộn  phần đã sắp xếp lại </s> <s> int i  left  j  mid    // phần tử đang xét của mỗi nửa </s> <s> int cur    // chỉ số trên mảng a </s> <s> </s> <s> while  i lt mid  j lt right   // chừng nào còn  phần chưa hết phần tử </s> <s> </s> <s> if  i gt mid   </s> <s> // bên trái không còn phần tử nào </s> <s> a  cur    data  j   </s> <s>  else if  j gt right   </s> <s> // bên phải không còn phần tử nào </s> <s> a  cur    data  i   </s> <s>  else if  data  i  lt data  j   </s> <s> // phần tử bên trái nhỏ hơn </s> <s> a  cur    data  i   </s> <s>  else  </s> <s> a  cur    data  j   </s> <s>  </s> <s>  </s> <s> </s> <s> // copy mảng a về mảng data </s> <s> for  int i    i lt cur  i   </s> <s> data  left  i   a  i  </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn merge ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp vun đống heapsort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> ta lưu mảng vào ctdl heap </s> <s> </s> <s> </s> <s> ở mỗi bước ta lấy ra phần tử nhỏ nhất trong heap cho vào mảng đã sắp xếp </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> cài đặt đơn giản nếu đã có sẵn thư viện heap </s> <s> </s> <s> chạy nhanh độ phức tạp mathcalonlogn </s> <s> </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> không ổn định </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> heap h  heap  </s> <s> for  int i    i lt n  i    </s> <s> // thêm phần tử vào heap </s> <s> h </s> <s> push  data  i  </s> <s>  </s> <s> int a  maxn  </s> <s> for  int i    i lt n  i    </s> <s> // lấy phần tử nhỏ nhất và cho vào mảng đã sắp xếp </s> <s> a  i   h </s> <s> pop  </s> <s>  </s> <s> </s> <s> sắp xếp nhanh quicksort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> </s> <s> chia dãy thành  phần một phần lớn và một phần nhỏ </s> <s> </s> <s> </s> <s> </s> <s> chọn một khóa pivot </s> <s> </s> <s> những phần tử lớn hơn pivot chia vào phần lớn </s> <s> những phần tử nhỏ hơn hoặc bằng pivot chia vào phần nhỏ </s> <s> </s> <s> </s> <s> </s> <s> gọi đệ quy để sắp xếp  phần </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> chạy nhanh nhanh nhất trong các thuật toán sắp xếp dựa trên việc só sánh các phần tử </s> <s> do đó quicksort được sử dụng trong nhiều thư viện của các ngôn ngữ như java c hàm sort của c dùng intro sort là kết hợp của quicksort và insertion sort </s> <s> </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> tùy thuộc vào cách chia thành  phần nếu chia không tốt độ phức tạp trong trường hợp xấu nhất có thể là mathcalon </s> <s> nếu ta chọn pivot ngẫu nhiên thuật toán chạy với độ phức tạp trung bình là mathcalonlogn trong trường hợp xấu nhất vẫn là mathcalon nhưng ta sẽ không bao giờ gặp phải trường hợp đó </s> <s> </s> <s> không ổn định </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> void quicksort  int a  int left  int right   </s> <s> int i  left  j  right  </s> <s> int pivot  a  left  rand    right  left  </s> <s> // chia dãy thành  phần </s> <s> while  i lt j   </s> <s> while  a  i  lt pivot   i  </s> <s> while  a  j  gt pivot   j  </s> <s> </s> <s> if  i lt j   </s> <s> swap  a  i  a  j  </s> <s>  i  </s> <s>  j  </s> <s>  </s> <s>  </s> <s> // gọi đệ quy để sắp xếp các nửa </s> <s> if  left lt j  quicksort  a  left  j  </s> <s> if  i lt right  quicksort  a  i  right  </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn quick ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp cơ số radixsort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> khác với tất cả các thuật toán nêu trên radixsort không sử dụng việc so sánh  phần tử </s> <s> </s> <s> </s> <s> </s> <s> đầu tiên thuật toán sẽ chia các phần tử thành các nhóm dựa trên chữ số cuối cùng hoặc dựa theo bit cuối cùng hoặc vài bit cuối cùng </s> <s> </s> <s> sau đó ta đưa các nhóm lại với nhau và được danh sách sắp xếp theo chữ số cuối của các phần tử </s> <s> quá trình này lặp đi lặp lại với chữ số át cuối cho tới khi tất cả vị trí chữ số đã sắp xếp </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> có thể chạy nhanh hơn các thuật toán sắp xếp sử dụng so sánh </s> <s> ví dụ nếu ta sắp xếp các số nguyên  bit và chia nhóm theo  bit thì độ phức tạp là mathcalon </s> <s> trong trường hợp tổng quát độ phức tạp là mathcalonlogmaxai </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> không thể sắp xếp số thực </s> <s> </s> <s> </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn radix ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> nguồn tham khảo </s> <s> </s> <s> </s> <s> topcoder </s> <s> visualgo </s> <s> wikipedia </s> <s> </s> <s> </s> <s> </s> <s> palindrome tree </s> <s> http//vnoi </s> <s> info/wiki/translate/codeforces/palindrometree </s> <s> </s> <s> </s> <s> </s> <s> nguồn http//adilet </s> <s> org/blog// </s> <s> </s> <s> cây palindrome hay còn được gọi là eertree được phát minh bởi mikhail rubinchik  là một loại cấu trúc dữ liệu được sử dụng để giải một số bài toán liên quan đến palindrome </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> cấu trúc của cây palindrome </s> <s> </s> <s> như mọi loại cây khác cây palindrome cũng có nút </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ngoài nút ra cây còn có các cung để nối các nút </s> <s> cung nối giữa hai nút u và v được gán một chữ cái  ví dụ chữ x  nghĩa là ta có được palindrome chứa ở nút v bằng cách thêm chữ x vào hai bên của palindrome chứa ở nút u </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong ví dụ trên ta có được xâu palindrome aba bằng cách thêm chữ a vào hai bên chữ b </s> <s> </s> <s> cuối cùng ta có thêm các liên kết hậu tố </s> <s> nút u có liên kết hậu tố đến nút w nếu palindrome chứa ở nút w là hậu tố không tầm thường lớn nhất của palindrome chứa ở nút u </s> <s> hậu tố là một xâu con chứa các chữ cái cuối cùng của xâu hậu tố không tầm thường proper suffix là hậu tố của một xâu và ngắn hơn xâu đó </s> <s> từ bây giờ ta sẽ gọi palindrome lớn nhất mà là hậu tố không tầm thường của một xâu là palindrome hậu tố lớn nhất của một xâu </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong ví dụ trên vì a là palindrome hậu tố lớn nhất của aba nên có một liên kết hậu tố từ nút chứa xâu aba đến nút chứa xâu a </s> <s> </s> <s> </s> <s> đặt tên cấu trúc dữ liệu này là cây palindrome có vẻ không hợp lí lắm vì nó có tận  gốc </s> <s> một sẽ chứa xâu palindrome giả độ dài  </s> <s> gốc này giúp ta cài đặt cây dễ dàng hơn vì khi ta thêm hai chữ cái bất kì vào hai bên xâu độ dài  thì ta sẽ được xâu độ dài  và nó luôn là palindrome </s> <s> gốc thứ hai chứa một xâu rỗng xâu có độ dài  và xâu này cũng là palindrome </s> <s> ta cho thêm một liên kết hậu tố từ hai gốc nối đến gốc chứa palindrome độ dài  </s> <s> </s> <s> </s> <s> lưu ý rằng ta không chứa xâu palindrome vào nút khi cài đặt thực tế nếu làm vậy ta sẽ tiêu tốn quá nhiều bộ nhớ </s> <s> nút thực tế sẽ chứa độ dài xâu palindrome chữ cái được gán vào các cung và các liên kết hậu tố </s> <s> </s> <s> </s> <s> xây dựng cây palindrome </s> <s> </s> <s> ở đây mình sẽ hướng dẫn tạo cây palindrome chứa tất cả các palindrome con của một xâu s </s> <s> ta thấy một xâu độ dài n sẽ không có quá n xâu palindrome con vì vậy cây palindrome sẽ không có quá n   nút do phải thêm  gốc nữa </s> <s> </s> <s> </s> <s> ta sẽ xử lí từng chữ cái một trong xâu </s> <s> giả sử ta đã xử lí được tiền tố p của xâu và giờ ta phải xét đến chữ cái x tiếp theo </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ta lưu lại t là palindrome hậu tố lớn nhất của tiền tố p </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vì t đã được xử lí nên nó được chứa trong một nút nào đó của cây palindrome </s> <s> nút này sẽ có liên kết hậu tố đến một nút nào đó nút nào đó lại có một liên kết hậu tố đến một nút khác và cứ tiếp tục như vậy </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bây giờ ta hãy tìm hậu tố palindrome của tiền tố mới px </s> <s> hậu tố đó sẽ có dạng xax với a là một xâu nào đó có thể rỗng hoặc có độ dài  </s> <s> vì xax là palindrome nên a cũng là palindrome và nó là một hậu tố của p vì vậy ta có thể tìm a từ t bằng các liên kết hậu tố </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> xâu xax sẽ là xâu palindrome con duy nhất của xâu p  x mà không xuất hiện ở xâu p </s> <s> thật vậy ta thấy tất cả xâu palindrome con mới mà ta chưa thấy trong xâu p phải kết thúc bằng chữ x và do đó trở thành hâu tố của xâu p  x </s> <s> vì xax là hậu tố palindrome lớn nhất của p  x tất cả các hậu tố palindrome nhỏ hơn nó có thể được tìm thấy trong một số tiền tố của xax vì đối với bất kì hậu tố của palindrome có một tiền tố tương tự tương ứng và vì thế ta đã thấy chúng trong p </s> <s> </s> <s> </s> <s> vì vậy để xử lí chữ cái x thêm vào ta phải đi theo các liên kết hậu tố của t cho đến khi ta tìm thấy a thích hợp xâu a thích hợp có thể có độ dài  nếu ta phải đi đến gốc </s> <s> sau đó ta kiểm tra xem có cung nào được gán chữ x mà tương ứng với nút chứa xâu a nếu không thêm một cung được gán chữ x nối từ nút chứa xâu a đến nút mới chứa xâu xax </s> <s> </s> <s> </s> <s> bây giờ ta xét đến các liên kết hậu tố nối từ nút xax </s> <s> nếu nút này đã có từ trước nút này đã có các liên kết hậu tố và ta không phải làm gì cả </s> <s> nếu không ta cần phải tìm palindrome hậu tố lớn nhất của xax có dạng xbx mà b là một xâu có thể rỗng </s> <s> bằng lập luận tương tự như trên b là palindrome hậu tố của p và có thể đến được từ t bằng các liên kết hậu tố </s> <s> </s> <s> </s> <s> vậy ta đã có được thuật toán xây dựng cây palindrome </s> <s> xử lí từng chữ cái một lưu trữ palindrome hậu tố lớn nhất t của tiền tố đã xử lí khởi tạo t là xâu rỗng </s> <s> khi xử lí thêm chữ x ta phải đi qua các liên kết hậu tố xuất phát từ t cho đến khi ta tìm được palindrome a thích hợp </s> <s> xâu xax sẽ trở thành sẽ trở thành hậu tố palindrome lớn nhất và trở thành nút duy nhất có thể chèn vào cây </s> <s> để tạo thêm các liên kết hậu tố ta phải đi theo các liên kết hậu tố cho đến khi tìm thấy xâu palindrome b có thể thêm được hai chữ x ở hai bên rồi ta thêm liên kết hậu tố từ nút chứa xâu xax đến xâu xbx </s> <s> </s> <s> </s> <s> để biết thêm thông tin chi tiết bạn có thể tham khảo code </s> <s> bạn không cần chú ý đến biến num vì nó được cho thêm vào để giải bài toán cụ thể </s> <s> bạn có thể thấy code không quá dài cũng như việc cài đặt rất đơn giản </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> xét quá trình xây dựng cây palindrome cho một xâu độ dài n </s> <s> ta thấy rằng khi ta xử lí từng chữ cái một đầu của liên kết hậu tố palindrome lớn nhất của tiền tố được xử lí luôn di chuyển sang bên phải </s> <s> do đó độ phức tạp của việc xây dựng cây palindrome là on </s> <s> </s> <s> </s> <s> ứng dụng </s> <s> </s> <s> đếm số lượng palindrome xuất hiện thêm </s> <s> </s> <s> bài toán cho thêm chữ cái x vào cuối xâu s đếm số lượng palindrome xuất hiện thêm trong xâu s </s> <s> ví dụ khi ta cho thêm chữ cái a vào cuối xâu aba ta có thêm một palindrome nữa là aa </s> <s> </s> <s> </s> <s> lời giải khá là rõ ràng ta xây dựng cây palindrome cho xâu s ban đầu và với mỗi chữ cái mới thêm vào ta biết được số palindrome mới xuất hiện thêm bằng cách đếm số nút vừa được tạo ra trên cây palindrome </s> <s> lưu ý số palindrome xuất hiện thêm sau khi thêm một chữ cái vào một xâu bằng  hoặc bằng  </s> <s> </s> <s> </s> <s> đếm số lượng xâu con liên tiếp là palindrome </s> <s> </s> <s> code giải bài này bằng cây palindrome đã có ở trên </s> <s> bài toán này còn có thể giải bằng thuật toán manachar tuy vậy ta nên giải bằng cây palindrome vì cây palindrome còn có thể ứng dụng cho nhiều bài toán khác </s> <s> </s> <s> </s> <s> số lần xuất hiện của palindrome trong xâu </s> <s> </s> <s> ngoài sử dụng cây palindrome bạn có thể sử dụng hash để giải bài này </s> <s> </s> <s> </s> <s> bài tập </s> <s> </s> <s> các bài trên timus </s> <s> </s> <s> timus  palindromes and super abilities </s> <s> </s> <s> timus   palindromes </s> <s> </s> <s> timus  richness of words </s> <s> </s> <s> timus  richness of binary words </s> <s> </s> <s> các bài trên codeforces </s> <s> </s> <s> cerc   bài g  virus synthesis </s> <s> </s> <s> codeforces beta round   bài e  palisection </s> <s> </s> <s> các bài trên spoj </s> <s> </s> <s> spoj  number of palindromes </s> <s> </s> <s> các bài trên các trang khác </s> <s> </s> <s> đếm số lượng xâu con liên tiếp là palindrome </s> <s> </s> <s> eolimp  palindromic factory </s> <s> </s> <s> codechef  palindromeness </s> <s> </s> <s> </s> <s> bloom filter </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  xét bài toán cơ bản sau hai yếu tố quan trọng khi thiết kế một cấu trúc dữ liệu để trả lời câu hỏi trên bộ nhớ để lưu trữ cấu trúc phải đủ nhỏ vì s rất lớn và các truy vấn có thể được trả lời một cách nhanh chóng </s> <s> chú ý lưu trữ s cần ít nhất omeganlog n bít tại sao lại có thêm nhân tử log n ở đây </s> <s> bloom  đề xuất một cấu trúc gọi là bloom filter sử dụng on bít và có thể trả lời truy vấn trong thời gian o </s> <s> bài này ta sẽ tìm hiểu cấu trúc đó </s> <s> problem  cơ bản tới mưc gần như nó xuất hiện gần như khắp mọi nơi đặc biệt trong thời đại dữ liệu lớn big data </s> <s> trang liệt kê rất nhiều ứng dụng của bloom filter trong các hệ thống lớn hiện tại mà bạn đọc có thể tham khảo </s> <s> ví dụ sử dụng bloom filter để loại ra các bài mà một user đã đọc khi muốn gợi ý các bài mới cho user đó </s> <s> bài này mình chủ yếu tập trung trình bày ý tưởng và dựa trên chương  trong cuốn sách kinh điển của mitzenmacher và upfal  một trong những cuốn sách yếu thích của mình </s> <s> về mặt ý tưởng cấu trúc bloom filter rất đơn giản tất cả những thứ không đơn giản lại nằm ở phép phân tích </s> <s> gọi n là số phần tử trong s </s> <s> bloom filter sử dụng một mảng m bít aldots m và k mathcalh  h </s> <s>  ldots hk </s> <s>  </s> <s> ban đầu các bít đều có giá trị  ai   với mọi i ta nói các bít bị tắt </s> <s> giả sử đầu ra của các hàm băm khi áp dụng cho một đầu vào x là một chỉ số trong tập ldots m </s> <s> với mỗi s in s ta sẽ bật k bít ở k vị trí hs ldots hks trong mảng a k vị trí này không nhất thiết là đôi một khác nhau </s> <s> giả mã như sau </s> <s> để kiểm tra xem một phần tử x có trong s hay không ta sẽ kiểm tra k vị trí hx ldots hkx của mảng a </s> <s> nếu tất cả k vị trí này đều là  ta sẽ kết luận x có trong s </s> <s> ngược lại ta kết luận x không có trong s </s> <s> dễ thấy nếu x in s thì bloom filter luôn trả lời đúng </s> <s> tuy nhiên nếu x không nằm trong s thì có thể k bít của a tương ứng với k mã băm của x đều đã được bật trước đó </s> <s> trong trường hợp này bloom filter sẽ cho câu trả lời sai </s> <s> ta gọi đó là hiện tượng false positive fp </s> <s> </s> <s> ví dụ một bloom filter với mathcalh có  hàm băm </s> <s> phần tử a không có trong s vì có  bít trong a có giá trị  khi ta kiểm tra  vị trí tương ứng với đầu ra của  hàm băm khi áp dụng trên a </s> <s> phần tử b không có trong s nhưng bloom filter vẫn trả lời là có trong s do  vị trí tương ứng với đầu ra của  hàm băm khi áp dụng trên b đều có giá trị  hiện tượng fp xảy ra với b </s> <s> câu hỏi đặt ra là cần chọn m và k như thế nào để xác suất fp là thấp nhất </s> <s> hay câu hỏi thú vị và quan trọng hơn là phần tiếp theo ta sẽ chứng minh từ theorem  ta có hệ quả trong các phát biểu trên ta giả sử km đều là các số nguyên </s> <s> theorem  ngoài cho phép ta kiếm soát được xác suất fp corollary  còn cho phép chúng ta thấy được sự thay đổi của xác suất fp khi ta tăng/giảm bộ nhớ của bloom filter </s> <s> nếu chọn m  n có nghĩa là ta sử dụng trung bình  bít cho mỗi phần tử của tập s thì xác suất fp chỉ khoảng  </s> <s> chú ý kích thước của mỗi phần tử của tập s ít nhất là omegalog n bít và trong thực tế lớn hơn  bít rất nhiều </s> <s> với mọi i ta giả sử xác suất hàm băm hi </s> <s>  sẽ băm x vào một ô cố định j in ldots m là /m </s> <s> ta sẽ sử dụng phương pháp phân tích ngược backward analysis để chứng minh theorem  </s> <s> giả sử x notin s </s> <s> fp xảy ra khi tất cả k ô hx ldotshkx  của mảng a đều bị bật </s> <s> để đơn giản ta sẽ tính xác suất ahx và giả sử k sự kiện các k ô bị bật là độc lập với nhau đây là một giả sử không đúng nhưng nó sẽ làm phép phân tích đơn giản hơn xem thêm thảo luận bên dưới </s> <s> nếu phân tích xuôi s được băm trước x và ta sẽ tìm xác suất để hàm h </s> <s>  băm x vào một ô đã bị bật trước đó hay chưa </s> <s> tuy nhiên ta không biết được bao nhiêu ô đã bị bật nên việc tính xác suất theo phân tích xuôi khá khó khăn </s> <s> trong phép phân tích ngược ta sẽ giả sử khóa x sẽ được băm vào bảng a ta băm s </s> <s> sau đó ta sẽ tính xác suất mà một phần tử s nào đó của s bị băm vào ô hx </s> <s> đó cũng chính là xác suất ahx </s> <s> dễ thấy xác suất mỗi lần băm một phần tử s in s không vào ô hx là /m </s> <s> do mỗi phần tử của s được băm k lần xác suất để kn lần băm không trúng ô hx là fracmkn qquad  do đó xác suất để ít nhất  lần trong kn lần băm trúng phải ô hx là fracmkn qquad  do ta giả sử sự kiện k ô hx ldotshkx  bị bật là độc lập theo  xác suất để xảy ra fp là fracmknk qquad  áp dụng xấp xỉ   /mmsim e ta có thể biến đổi  về dạng ekfracnmk qquad  giờ ta sẽ tìm k để  nhỏ nhất </s> <s> đặt p    ekfracnm ta có thể biến đổi  về dạng elnplnp fracmn qquad  dễ thấy  cực tiểu khi và chỉ khi p  / lúc đó ta sẽ suy ra các giá trị của k như trong theorem  </s> <s> như đã nói ở phần đầu giả sử k sự kiện k ô bị bật là độc lập với nhau là một giả sử sai vì k sự kiện này không độc lập với nhau </s> <s> tuy nhiên bằng các công cụ lý thuyết khác người ta chứng minh được cho dù không có giả thiết này thì xác suất fp cũng xấp xỉ như công thức  </s> <s> ssách của mitzenmacher và upfal  giới thiệu phương pháp xấp xỉ posison </s> <s> một số nguồn tham khảo khác cho vấn đề này bạn đọc có thể xem tại </s> <s> trước hết nếu nói đến cấu trúc tìm kiếm nhanh một phần tử trong một tập hợp ta thường sử dụng hash table tldots m có kích thước m </s> <s> trong cấu trúc bảng băm ta chỉ sử dụng một hàm băm h </s> <s>  </s> <s> tuy nhiên do s quá lớn ta không thể lưu trữ s trong bảng </s> <s> thay vào đó ta có thể chỉ dùng  bít để đánh dấu xem một ô của bảng có rỗng hay không </s> <s> do đó bloom filter có thể coi là một cấu trúc tổng quát hơn bảng băm bằng cách dùng nhiều hàm băm thay vì dùng một hàm băm duy nhất </s> <s> câu hỏi đặt ra là nếu ta chỉ dùng  hàm băm k   để xác suất fp không quá epsilon thì số lượng bít m trong bảng là bao nhiêu đây là một bài tập rất hay mà mình khuyến khích các bạn thử suy nghĩ và giải </s> <s> số lượng bít cần thiết là m fracnlnepsilonsim fracnepsilon qquad  so với biểu thức trong corollary  thì sự phụ thuộc của m vào epsilon khi sử dụng bloom filter tốt hơn lũy thừa lần khi sử dụng bảng băm </s> <s> survey của luo guo ma rottenstreich và luo  có thông tin về rất nhiều loại bloom filter </s> <s> nếu bạn cần một trong số ứng dụng hoặc biến thể nào đó có bloom filter thì paper này là một điểm khởi đầu </s> <s>  b </s> <s> h </s> <s> bloom </s> <s> communications of the acm  </s> <s>    </s> <s> </s> <s>  m </s> <s> mitzenmacher and e </s> <s> upfal </s> <s> chapter  </s> <s> cambridge university press  </s> <s> </s> <s>  l </s> <s> luo d </s> <s> guo r </s> <s> t </s> <s> b </s> <s> ma o </s> <s> rottenstreich and x </s> <s> luo </s> <s> </s> <s> arxiv accessed // </s> <s>    trackback link powered by and </s> <s> phân tích thuật toán  algorithm analysis </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này mình hướng đến các bạn mới bắt đầu học thuật toán với mục đích giúp các bạn làm quen với một số khái niệm như o </s> <s>  o </s> <s>  omega </s> <s>  theta </s> <s>  </s> <s> mình đã có định nghĩa các khái niệm này một cách hình thức </s> <s> bài này mình bổ sung các định nghĩa đó bằng những giải thích trực quan hơn </s> <s> khi phân tích một thuật toán ta thường quan tâm đến và </s> <s> khi chúng ta đã thành thạo phân tích một trong hai tài nguyên thì phân tích tài nguyên còn lại không phải quá khó khăn </s> <s> do đó bài viết này mình sẽ chỉ tập trung nói về phân tích thời gian tính toán của một thuật toán </s> <s> phân tích một thuật toán về cơ bản là đếm mà thuật toán đó thực hiện </s> <s> định nghĩa chính xác thế nào là một thao tác cơ bản là việc </s> <s> tuy nhiên để đơn giản ta tạm coi các thao tác cơ bản ở đây là cộng trừ nhân chia so sánh và mỗi thao tác cơ bản này mất  đơn vị thời gian </s> <s> do đó đôi khi ta cũng coi số thao tác cơ bản như là một của thời gian tính toán </s> <s> mình nói ước lượng thô là vì thời gian thực phụ thuộc rất nhiều vào máy tính hay mô hình tính toán mà ta sử dụng </s> <s> cùng  triệu phép nhân số  bít nhưng thời gian tính toán của phần cứng khác nhau có thể khác nhau </s> <s> tuy nhiên ta vẫn chấp nhận cách ước lượng thô này vì nó sẽ làm phép phân tích thuật toán đơn giản hơn loại bỏ sự phụ thuộc phần cứng ra khỏi phép phân tích </s> <s> cách giải thích tốt nhất có lẽ là minh họa thông qua ví dụ </s> <s>  phân tích thời gian của thuật toán sau </s> <s> thuật toán nhận đầu vào là một mảng aldots n với n phần tử và trả lại tổng a  a  ldots  an </s> <s> ta sẽ đếm số phép cộng của thuật toán trước </s> <s> mỗi lần lặp thuật toán thực hiện một phép cộng để cập nhật s </s> <s> do ta có n vòng lặp thuật toán thực hiện n phép cộng để tìm s </s> <s> thuật toán chỉ thực hiện n phép cộng không hẳn thế </s> <s> nếu bạn lập trình bằng ngôn ngữ c chẳng hạn thì mỗi lần thực hiện vòng lặp for bạn phải tăng biến đếm i lên  </s> <s> do đó ta phải tính cả số phép cộng thực hiện trên biến i mà không phải chỉ với biến s </s> <s> số phép cộng tăng lên nnếu coi mỗi phép cộng mất  đơn vị thời gian thì thời gian của thuật toán có phải là n đơn vị thời gian cũng không hẳn như vậy </s> <s> sau mỗi lần lặp thuật toán còn phải so sánh i với n để kiểm tra điều kiện kết thúc vòng lặp </s> <s> do đó thuật toán sử dụng thêm n phép so sánh </s> <s> vẫn chưa hết thuật toán còn sử dụng n phép gán với biến s và n phép gán với biến i </s> <s> tóm lại thuật toán sử dụng khoảng n phép toán cơ bản nếu bạn thực thi bằng c </s> <s> nếu bạn thực thi đoạn code trên bằng ngôn ngữ khác c số lượng phép toán cơ bản có thể nhiều hơn như vậy </s> <s> tưởng tượng với đoạn code rất đơn giản trên mà thực hiện đếm chính xác số lượng phép toán cơ bản đã không tầm thường thì với các đoạn chương trình phức tạp hơn thì ta làm thế nào bigo o </s> <s>  sẽ giúp bạn đếm đơn giản hơnthay vì đếm chính xác o </s> <s>  cho phép ta đếm số thao tác cơ bản </s> <s> theo phân tích ở trên dù ta thực thi thuật toán bằng bất kì ngôn ngữ nào thì số lượng phép toán cơ bản đều không quá ccdot n với một hằng số c nào đó </s> <s> hằng số c có thể là  hoặc  hoặc  </s> <s> ta gọi nó là hằng số là vì giá trị của nó không phụ thuộc vào n </s> <s> theo  ta có thể nóithuật toán có thời gian on </s> <s> tóm lại khi ta nói một thuật toán có độ phức tạp ofn ta muốn nói số lượng phép toán cơ bản mà thuật toán sử dụng không quá c cdot fn với một hằng số c nào đó khi n  bất chấp ngôn ngữ lập trình sử dụng </s> <s> như vậy khi dùng o </s> <s>  để phân tích thuật toán ta có thể loại bỏ sự phụ thuộc vào hay thực thi mức thấp của thuật toán </s> <s> phân tích thuật toán </s> <s> </s> <s> có lẽ bạn đọc cũng nhận ra thuật toán thực hiện sắp xếp một mảng đầu vào theo chiều tăng dần </s> <s> để phân tích thuật toán này ta chỉ cần đếm số phép so sánh các phần tử của mảng aldots n  số lần kiểm tra điều kiện của câu lệnh if </s> <s> tại sao ngoại trừ khi n   mỗi khi ta thực hiện thao tác bất kì gán đổi chỗ v </s> <s> v ta đều thực hiện một phép so sánh </s> <s> do đó chỉ cần đếm số phép so sánh và sử dụng khái niệm o </s> <s>  là ta coi như đã xong </s> <s> do mỗi lần lặp ta sử dụng một phép so sánh thay vì đếm số phép so sánh ta đếm số lần lặp </s> <s> với mỗi i cố định vòng lặp trong cùng có ni    ni lần lặp </s> <s> do đó tổng số lần lặp là sumin ni  sumjn j  n n/  n/  n/ qquad  như vậy độ phức tạp của thuật toán là on/n/ </s> <s> theo  ta có thể loại bỏ hằng nhân tử hằng số trong biểu thức </s> <s> do đó ta có thể viết on/n/  onn  on </s> <s> tổng kết lại ta có từ phân tích ví dụ  ta có thể thấy rằng kí hiệu o </s> <s>  cho phép chúng ta biểu diễn thời gian tính toán bằng các biểu thức đơn giản hơn </s> <s> không chỉ có vậy o </s> <s>  còn cho phép chúng ta phát triển các công cụ phân tích mạnh hơn tổng quát hơn nhưng lại dễ hiểu hơn </s> <s> để minh họa điểm này ta xét ví dụ sau </s> <s> phân tích thuật toán </s> <s> không khó để nhận ra thuật toán thực hiện sắp xếp một mảng theo chiều tăng dần sử dụng </s> <s> phương pháp thường dùng để phân tích thuật toán kiểu chia để trị là giải hệ thức truy hồi </s> <s> ta gọi tn là độ phức tạp của thuật toán khi mảng đầu vào có n phần tử </s> <s> độ phức tạp của hai thủ tục gọi đệ quy lần lượt là tlfloor n/ rfloor và tlceil n/ rceil </s> <s> phân còn lại của phép phân tích là tính độ phức tạp của thủ tục </s> <s> nếu bạn đếm chính xác số thao tác cơ bản của thủ tục là một điều không hề dễ dàng vì có các lệnh điều kiện </s> <s> tuy nhiên sử dụng o </s> <s>  ta có thể khẳng định số thao tác cơ bản là on vì ta chỉ lặp n lần và mỗi lần lặp ta thực hiện o phép tính cơ bản </s> <s> do đó ta có tn  tlceil n/ rceil  tlfloor n/ rfloor  on qquad  phương trình  trông khá đẹp nhưng giải nó không hề dễ vì có các hàm lceil cdot rceil và lfloor cdot rfloor </s> <s> tuy nhiên o </s> <s>  cho phép chúng ta bỏ lceil cdot rceil và lceil cdot rceil ra khỏi phương trình chứng minh tính chất này một cách tỉ mỉ không phải đơn giản nhưng vẫn có thể làm được </s> <s> ta được tn  tn/  on qquad  </s> <s> giải phương trình  ta chỉ cần áp dụng  thu được tn  onlog n </s> <s> rõ ràng thuật toán trông khá phức tạp nhưng o </s> <s>  cho phép chúng ta phân tích nó một cách khá đơn giản </s> <s> trợ lại bài toán sắp xếp ta đã thấy hai thuật toán trình bày trong bài này là và với độ phức tạp lần lượt là on và onlog n </s> <s> ta có thể kết luận thuật toán mặc dù đơn giản hơn rất nhiều về mặt thực thi so với nhưng khi n đủ lớn thì nó sẽ chậm hơn rất nhiều so với </s> <s> để thấy sự khác biệt thực tế mình khuyến khích bạn đọc kiểm tra hiệu năng của hai thuật toán với mảng  ngàn phần tử có lẽ bạn sẽ phải đợi khá lâu thì mới thực hiện xong còn chỉ cần không đến s </s> <s> trong trường hợp bài toán sắp xếp ở trên o </s> <s>  cho chúng ta một cái nhìn khá chính xác giữa phân tích lý thuyết và thời gian chạy thực tế mặc dù nó chỉ là một ước lượng khá thô </s> <s> ước lượng o </s> <s>  nói chung thể hiện khá chính xác thực tế nêu sự khác biệt giữa hai thuật toán mà chúng ta đang so sánh là polynomial separation hoặc superpolynomial separation </s> <s> chứng minh rằng sự khác biệt giữa và là đa thức </s> <s> một ví dụ khác đó là bài toán </s> <s> thuật toán quay lui áp dụng cho bài toán tsp có độ phức tạp on trong khi thuật toán có thời gian onn </s> <s> sự khác biệt giữa hai thuật toán này là siêu đa thức quy hoạch động nhanh hơn </s> <s> trong thực tế chỉ cần n geq  là ta đã thấy sự khác biệt giữa hai thuật toán này rồi </s> <s> chứng minh rằng sự khác biệt giữa thuật toán quay lui và quy hoạch động cho bài toán tsp là siêu đa thức </s> <s> nếu lấy s làm chuẩn thì table  dưới đây thể hiện tương đối giới hạn đầu vào của bài toán </s> <s> </s> <s> giới hạn đầu vào tương ứng với độ phức tạp khi lấy s làm chuẩn </s> <s> nếu n   mà thuật toán có độ phức tạp on thì thực tế có lẽ mất khoảng s thuật toán mới thực hiện xong </s> <s> sử dụng bảng  không cần code ta cũng có thể ước lượng được tương đối thời gian chạy thực tế của thuật toán </s> <s> đó là lý do mà bạn cần phải biết bigo </s> <s> khi sự khác biệt giữa hai thuật toán thấp hơn đa thức thì không nên coi bigo là một tiêu chuẩn so sánh trong </s> <s> ở đây mình nhấn mạnh thực tế vì về mặt lý thuyết những thuật toán có bigo nhỏ hơn thường có những cái nhìn mới về bài toán hoặc những công cụ lý thuyết mới giúp ta có thể giải quyết được nhiều bài toán khác </s> <s> một ví dụ nổi bật là bài toán tìm phần tử thứ k của một mảng chưa sắp xếp </s> <s> bằng cách sắp xếp mảng đầu vào ta có thể tìm phần tử thứ k trong thời gian onlog n </s> <s> tuy nhiên thuật toán có thể giải bài toán này trong thời gian on </s> <s> liệu thuật toán bfprt có thực sự nhanh hơn thuật toán sắp xếp câu trả lời là có nhưng khi n khá lớn </s> <s> nếu bạn cài đặt không tối ưu thì thuật toán của bạn có khi vẫn chậm hơn sắp xếp khi n   </s> <s> điều này có thể giải thích đơn giản là do các hàm như log n tăng khá chậm so với n </s> <s> hầu hết các bài toán thực tế n nằm trong khoảng  cho đến  tương ứng là khoảng của log n từ  đến  ta giả sử logarithm có cơ số  </s> <s> nếu hằng số ẩn sau big o của thuật toán on lớn hơn hằng số ẩn sau onlog n khoảng  lần thì trong thực tế ta sẽ không phân biệt được thời gian tính toán của hai thuật toán này </s> <s> ngay cả khi so sánh hai thuật toán có độ phức tạp tương ứng là onlog n và on o </s> <s>  cũng không phải là tiêu chuẩn tin cậy thì so sánh hai thuật toán có cùng độ phức tạp thì o </s> <s>  càng không phải là một tiêu chuẩn tin cậy </s> <s> khi hai thuật toán có cùng bigo thì thường ta sẽ dựa vào kinh nghiệm thực tế để kết luận </s> <s> tất nhiên cũng có những lý thuyết phát triển để so sánh các thuật toán như vậy nhưng phép phân tích sẽ trở nên vô cùng phức tạp </s> <s> đã có bigo thì tại sao chúng ta lại cần các kí hiệu o </s> <s>  theta </s> <s>  omegan phần này mình cố gắng làm rõ ý nghĩa của các kí hiệu này </s> <s> trước hết các bạn phải xem lại định nghĩa toán học tỉ mỉ của các kí hiệu này </s> <s> theo phân tích ở trên thuật toán có độ phức tạp on </s> <s> theo định nghĩa của o </s> <s>  sẽ không sai nếu ta nói có độ phức tạp on </s> <s> chỉ là on chưa thể hiện đúng nhất độ phức tạp của thuật toán mà thôi </s> <s> thông thường khi ta nói độ phức tạp của thuật toán là otn thì ta cố gắng tìm biểu thức tn gần nhất với độ phức tạp thực sự của thuật toán mà ta có thể chứng minh được </s> <s> các kí hiệu o </s> <s>  theta </s> <s>  omega </s> <s>  sẽ giúp chúng ta biểu diễn về mặt lý thuyết biểu thức o </s> <s>  có phản ánh đúng hiệu năng của thuật toán hay không </s> <s> để minh họa ta xét thêm một ví dụ nữa </s> <s>  tìm kiếm nhị phân </s> <s> </s> <s> thuật toán tìm kiếm vị trí của phần tử có giá trị a trong mảng aldots n đã sắp xếp theo chiều tăng dần </s> <s> trong giả mã trên ta giả sử a luôn xuất hiện trong aldots n </s> <s> không khó để thấy thuật toán trên có độ phức tạp olog n bạn đọc có thể xem  </s> <s> tuy nhiên không phải lúc nào thuật toán cũng cần tới olog n thao tác </s> <s> ví dụ khi aldots n  ldots n và  a  n thì chỉ cần o thao tác thôi ta đã tìm được vị trí của phần tử a rồi </s> <s> câu hỏi đặt ra là liệu cận trên olog n đã chặt tight chưa sử dụng  ta có thể phát biểu câu hỏi tương đương là liệu thời gian của thuật toán có phải là olog ncâu trả lời là không </s> <s> n geq  và mọi mảng aldots n đã sắp xếp luôn a sao cho thuật toán cần lfloor log n rfloor phép so sánh để có thể xác định được vị trí của a trong mảng aldots n </s> <s> ta nói thuật toán có độ phức tạp omegalog n </s> <s> không khó để chứng minh rằng coi như bài tập cho bạn đọc a  an sẽ thỏa mãn phát biểu trên </s> <s> như vậy cận trên độ phức tạp của thuật toán là olog n và cận dưới độ phức tạp của thuật toán là omegalog n ta nói thuật toán có độ phức tạp thetalog n </s> <s> kí hiệu theta </s> <s>  dùng khi biểu thức trong cận trên o </s> <s>  và cận dưới omega </s> <s>  trùng với nhau </s> <s>       trackback link powered by and </s> <s> cơ sở toán học của phép băm ii xích ngăn cách  mathematical foundation of hashing ii </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài  chúng ta đã nghiên cứu cách thiết kế bảng băm và ba phương pháp giải quyết xung đột cơ bản xích ngăn cách chaining băm địa chỉ mở open addressing và băm hoàn hảo perfect hashing </s> <s> bài này chúng ta sẽ phân tích kĩ hơn phương pháp xích ngăn cách </s> <s> cụ thể chúng ta sẽ tìm câu trả lời cho các câu hỏicâu trả lời cho câu hỏi đầu tiên sẽ cho chúng ta biết khi chúng ta tìm kiếm một khóa thì trung bình chúng ta sẽ mất bao nhiêu thời gian </s> <s> câu trả lời cho câu hỏi thứ hai sẽ cho chúng ta biết trong trường hợp  chúng ta sẽ mất bao nhiêu thời gian để tìm kiếm một khóa </s> <s> gọi là số phần tử ta muốn lưu trữ trong bảng băm các phần tử này xuất phát từ một tập gốc </s> <s> bảng băm của chúng ta có kích thước </s> <s> để băm vào bảng ta sử dụng một hàm  hàm băm này được chọn ngẫu nhiên từ một họ hàm băm </s> <s> bằng cách chọn ngẫu nhiên như vậy thỏa mãn dấu ở đây có nghĩa là tỉ lệ vớii </s> <s> e với một hằng số nào đó </s> <s> điểm quan trọng nhất mà bạn đọc cần nhớ ở đây chúng ta không có bất kì giả sử nào về dữ liệu i </s> <s> e chúng ta sẽ không giả sử dữ liệu đầu vào là ngẫu nhiên </s> <s> tất cả các phân tích ngẫu nhiên ở đây đến từ việc chọn hàm băm ngẫu nhiên </s> <s> do đó nếu ta có định sẵn một hàm băm thì tất cả các phân tích dưới đây đều vô nghĩa </s> <s> nhắc lại hệ số tải cố định một khóa </s> <s> gọi là chiều dài của danh sách lưu khóa </s> <s> gọi là biến ngẫu nhiên trong đó nếu được băm vào cùng ô với và nếu ngược lại </s> <s> do là biến ngẫu nhiên  ta có ngoài ra ta có thể biểu diễ dưới dạng các biến như sau do đó theo tính tuyến tính của kì vọng như vậy chiều dài trung bình của một xích trong bảng băm tỉ lệ với hệ số tải </s> <s> để phân tích chiều dài của danh sách dài nhất ta sẽ xem xét mô hình ném bóng vào rổ  dưới đây </s> <s> mô hình này sẽ tương ứng với trường hợp hệ số tải </s> <s> trước khi trả lời câu hỏi trên chúng ta sẽ xem xét một vài câu hỏi đơn giản hơn để có một cách nhìn sâu hơn về bài toán này </s> <s> một số bạn có lẽ quen với cách kí hiệu số tổ hợp </s> <s> trong bài này mình dùng kí hiệu để nhất quán với các kí hiệu của wikipedia </s> <s> xác suất để rổ  có ít nhất một quả bóng là bao nhiêu xác suất khi ném ngẫu nhiên một quả bóng vào rổ  là </s> <s> do đó xác suất khi ta ném ngẫu nhiên độc lập quả bóng mà không quả nào vào rổ  là </s> <s> sử dụng xấp xỉ  ta có xác suất không quả bóng nào vào rổ  là </s> <s> như vậy xác suất để rổ  có ít nhất  quả bóng là </s> <s> xác suất để rổ  có quả bóng là bao nhiêu ở trên ta sử dụng xấp xỉ xem  xác suất để rổ  có quả bóng là bao nhiêu xác suất để tồn tại một rổ bất kì trong số rổ có quả bóng là bao nhiêu bây giờ chúng ta có thể trả lời một số câu hỏi thú vị hơn về mô hình này </s> <s> </s> <s> ta sẽ chứng minh phiên bản dễ hơn một chút với xác suất  mọi rổ có không quá quả bóng </s> <s> cách chứng minh ta sẽ trình bày có thể áp dụng bằng một sửa đổi nhỏ để chứng minh lemma  </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> ta sẽ tìm xác suất để một rổ có ít nhất quả bóng </s> <s> áp dụng câu hỏi  với  ta có do đó xác suất để có tối đa quả bóng là </s> <s> lemma  cho chúng ta biết nếu sử dụng xích ngăn cách khi hệ số tải  với xác suất cao danh sách dài nhất có phần tử </s> <s> câu hỏi còn lại là với xác suất cao danh sách dài nhất có bao nhiêu phần tử chứng minh lemma  khó hơn lemma  rất nhiều </s> <s> bạn đọc quan tâm có thể tham khảo thêm tại  lemma  </s> <s>  </s> <s> kết hợp lemma  và  ta suy ra với xác suất  danh sách dài nhất có phần tử </s> <s> nếu ta ném quả bóng vào cái rổ khi thì với xác suất cao rổ đầy nhất sẽ có khoảng quả bóng </s> <s> chi tiết xem thêm tại  </s> <s> trong mô hình ném bóng vào rổ khi ném một quả bóng thay ném ngẫu nhiên vào rổ bất kì ta sẽ chọn ra ngẫu nhiên  rổ và đặt quả bóng vào rổ có ít bóng hơn </s> <s> câu hỏi mà chúng ta quan tâm là </s> <s> ta sẽ chứng minh chứng minh một cách đầy đủ lemma  không hề đơn giản </s> <s> phương pháp chứng minh hay sử dụng cho bài toán này là quy nạp theo lớp layered induction xem thêm tại  theorem  </s> <s>  </s> <s> chứng minh mình sẽ trình bày dưới đây  đã đơn giản hóa rất nhiều và hi vọng sẽ cho bạn đọc một cách nhìn về bài toán </s> <s> chứng minh này không phải là một chứng minh toán học đầy đủ </s> <s> gọi chiều cao của một quả bóng là nếu quả bóng đó là quả bóng thứ được đưa vào rổ chứa nó </s> <s> do rổ có ít nhất quả bóng sẽ chứa ít nhất một quả bóng có chiều cao ít nhất là  ta có số quả bóng có chiều cao nhiều hơn số rổ có ít nhất quả bónggọi là số rổ có ít nhất quả bóng và đặt </s> <s> một quả bóng có chiều cao ít nhất khi và chỉ khi ta chọn được hai rổ có ít nhất quả bóng </s> <s> xác suất đó là </s> <s> do đó do  ta có công thức đệ quy do ta chỉ có tối đa rổ có ít nhât quả bóng suy ra </s> <s> giải công thức đệ quy ta được </s> <s> ta chọn sao cho tương đương với  ta suy ra dpcm </s> <s>  michael mitzenmacher and eli upfal </s> <s> </s> <s> cambridge university press new york ny usa  </s> <s> </s> <s>  shuchi chawla </s> <s> </s> <s> university of wisconsin  </s> <s> </s> <s>  martin raab and angelika steger </s> <s> </s> <s> in random  springerverlag   </s> <s> </s> <s>  michael mitzenmacher </s> <s> parallel and distributed systems ieee transactions on  </s> <s>    </s> <s> </s> <s>  anupam gupta </s> <s>  cmu </s> <s> </s> <s>  udi wieder </s> <s> </s> <s> windows on theory blog post accessed may/ </s> <s> </s> <s>  richard m </s> <s> karp michael luby and friedhelm meyer auf der heide </s> <s> </s> <s> in proceedings of the twentyfourth annual acm symposium on theory of computing stoc  </s> <s> acm new york ny usa   </s> <s>      trackback link powered by and </s> <s> giới thiệu về p và np  p vs np </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  qua các bài viết trong blog chúng ta đã thấy rất nhiều các bài toán được giải quyết một cách hiệu quả </s> <s> ví dụ như bài toán sắp xếp bài toán tìm kiếm xâu bài toán tìm đường đi ngắn nhất tìm cây khung nhỏ nhất bài toán luồng cực đại bài toán lát cắt cực tiểu v </s> <s> v và v </s> <s> v </s> <s> tất cả các bài toán này đều được giải trong thời gian với một hằng số nào đó và là chiều dài của đầu vào bài toán </s> <s> ngược lại các bài toán chúng ta gặp trong thực tế là những bài toán mà chúng ta làm sao để giải chúng một cách hiệu quả </s> <s> mình nhấn mạnh hai từ hiện tại và không biết ý nói những bài toán đó có lời giải hiệu quả chỉ là chúng ta chưa tìm ra được lời giải </s> <s> tuy nhiên rất nhiều các nhà nghiên cứu tin rằng những bài toán đó chúng ta không thể giải được hiệu quả và vấn đề chỉ là chúng ta chưa tìm ra cách để rằng ta không thể giải chúng hiệu quả </s> <s> post này và các post tiếp theo sẽ cung cấp một công cụ để xác định những bài toán khó đó </s> <s> chúng ta thường mô tả độ phức tạp của một bài toán dựa vào các tài nguyên resource cần thiết để giải bài toán đó </s> <s> hai loại tài nguyên cơ bản là thời gian time và bộ nhớ space </s> <s> trong các bài viết ở đây chúng ta quan tâm nhiều đến thời gian hơn là bộ nhớ </s> <s> trong phân tích của các bài viết trước trên blog chúng ta thường phát biểu thuật toán có độ phức tạp thời gian     hay một cách tổng quát hơn là với là một hàm tăng của </s> <s> vậy ở đây và có ý nghĩa thế nào ta sẽ lần lượt làm rõ ý nghĩa của hai đại lượng này </s> <s> trong phân tích thuật toán chúng ta thường sử dụng tiệm cận hơn là đếm chính xác số lượng các thao tác cơ bản </s> <s> một phần vì đếm chính xác số lượng thao tác thường là một việc không tầm thường </s> <s> một phần khác là vì sử dụng phương pháp tiệm cận sẽ cho chúng ta một cách ước lượng tương đối về thuật toán một cách nhanh chóng để chúng ta tập trung vào thiết kế ở mức cao high level </s> <s> phân tích tiệm cận cho phép chúng ta có thể mở rộng tập thao tác cơ bản để bao gồm các phép toán phức tạp hơn như cộng trừ nhân và chia ctnc trong đó các hạng nhân tử tham gia vào các phép ctnc đều có chiều dài hằng số </s> <s> chú ý nếu các hạng nhân tử tham gia vào các phép ctnc không còn là hằng số nữa thì ta không thể coi đó là các thao tác cơ bản </s> <s> bạn đoc có thể xem ví dụ cụ thể khi các phép ctnc không còn được coi là hằng số trong phân tích </s> <s> một bài toán bao giờ cũng có ít nhất hai phần là đầu vào input và đầu ra output </s> <s> độ dài của input được coi như là biến để đo độ phức tạp của thuật toán giải bài toán </s> <s> có những bài toán mà ta phải phân tích độ phức tạp dựa trên cả hai biến input và output ví dụ như bài toán nén dữ liệu data compression </s> <s> ở đây ta chỉ xét những bài toán mà đầu ra chỉ là  bít  hoặc  </s> <s> các bài toán như vậy được gọi là các bài toán decision problem </s> <s> các bài toán quyết định thoạt đầu nghe có vẻ không có tính tổng quát cao vì đầu ra chỉ có  bít </s> <s> tuy nhiên ta có thể quy rất nhiều bài toán không quyết định về bài toán quyết định mà thời gian để chuyển qua lại giữa hai bài toán vẫn là đa thức </s> <s> ví dụ bài toán tìm kích thước của independent set lớn nhất trong đồ thị </s> <s> </s> <s> ta có thể quy bài toán về bài toán quyết định như sau </s> <s> dễ thấy bài toán là bài toán quyết định có tồn tại hay không </s> <s> nếu ta có thể giải được bài toán  ta có thể giải được bài toán bằng cách tìm kiếm nhị phân giá trị trong đoạn </s> <s> </s> <s> </s> <s> a tập màu đỏ là một tập độc lập trong đồ thị </s> <s> b tập màu xanh không phải là một tập độc lập trong đồ thị </s> <s> một thuật toán được gọi là giải bài toán quyết định nếu như với mỗi input của bài toán thuật toán xác định được chính xác đầu ra là hay </s> <s> trong số các bài toán quyết định lớp bài toán mà chúng ta quan tâm nhất là lớp các bài toán mà ta có thể giải được hiệu quả bằng máy tính </s> <s> lớp bài toán đó được gọi là lớp viết tắt của polynomial timethời gian đa thức </s> <s> </s> <s> trong định nghĩa trên giá trị của bậc trong biểu thức không quan trọng miễn là nó không phụ thuộc vào </s> <s> do đó ta sẽ dùng kí hiệu để thay cho </s> <s> tuy nhiên nhiều bài toán hiện tại chúng ta chưa biết có thể giải được hiệu quả hay không thuộc hay không </s> <s> trong số các bài toán đó có một lớp các bài toán thú vị mà người ta gọi nó là lớp </s> <s> ý tưởng đằng sau lớp bài toán này là nếu ai đó cho chúng ta lời giải của một bài toán khó việc kiểm tra xem đó có phải là lời giải đúng hay không sẽ việc trực tiếp giải bài toán đó </s> <s> dễ hơn ở đây hiểu theo nghĩa có thể kiểm tra được lời giải trong thời gian </s> <s> ví dụ với bài toán </s> <s> nếu ai đó đưa ta một tập đỉnh của đồ thị và nói rằng tập đỉnh đó là tập độc lập của đồ thị có kích thước ít nhất  ta có thể kiểm tra trong thời gian  xem có phải là tập độc lập hay không trong thời gian tại sao và kiểm tra xem hay không </s> <s> nếu cả hai điều kiện được thỏa mãn thì đầu vào của bài toán có lời giải  và ngược lại </s> <s> tập đó gọi là một certificate cho thấy input của bài toán có output </s> <s> hai tính chất quan trọng của tập mà ta có thể rút ra từ ví dụ trênta gọi là một của bài toán </s> <s> theo định nghĩa trên để chứng minh một bài toán thuộc ta phải i chỉ ra một bằng chứng ngắn gọn cho đầu vào và ii chỉ ra một thuật toán để kiểm tra bằng chứng đó trong thời gian </s> <s> ta sẽ minh họa thêm một số bài toán trong phần sau </s> <s> từ ở đây là viết tắt của ondeterministic olynomial time một thuật ngữ liên quan đến máy turing không tất định </s> <s> nhiều người nhầm lẫn là viết tắt của onolynomial time </s> <s> về mặt trực quan một bài toán dễ giải thì cũng dễ kiểm tra lời giải </s> <s> do đó </s> <s> hay nói cách khác bất kì một bài toán nào cũng thuộc </s> <s> việc chứng minh theo định nghĩa bằng chứng ngắn gọn dễ kiểm tra ta sẽ coi như bài tập cho bạn đọc hints bằng chứng ngắn gọn dễ kiểm tra của một bài toán là  </s> <s> một câu hỏi làm đau đầu các nhà nghiên cứu lý thuyết đó là liệu hay không hay nói cách khác liệu có tồn tại một bài toán nào trong lớp mà không thể giải được hiệu quả bài toán này được gọi là bài toán vs  một trong  bài toán mà người đưa ra lời giải sẽ được thưởng </s> <s> hầu hết các nhà khoa học máy tính tin rằng </s> <s> tuy nhiên có những nhà khoa học máy tính nối tiếng ví dụ như donald knuth  tin rằng </s> <s> trên của mình gerhard j woeginger có liệt kê một danh sách các chứng minh và gần như một nửa đưa ra chứng minh còn nửa kia đưa ra chứng minh </s> <s> điều đó cho thấy bài toán này có lẽ còn rất lâu nữa mới có thể được giải quyết một cách đầy đủ </s> <s> tạm thời chúng ta có biểu đồ venn thể hiện quan hệ giữa và như sau </s> <s> vs bài toán quan trọng nhất trong lớp đó là bài toán </s> <s> lí do tại sao là bài toán quan trọng nhất thì ta sẽ xem ở bài viết tiếp theo </s> <s> </s> <s> ví dụ trong ví dụ trên biểu thức có phép gán  có giá trị </s> <s> biểu thức không có phép gán nào có giá trị </s> <s> </s> <s> bằng chứng mà chúng ta đưa ra ở đây là một phép gán cho các biến của </s> <s> bằng chứng này là ngắn gọn vì một phép gán có thể được mô tả bằng bít với mỗi bít biểu diễn giá trị gián của một biến </s> <s> để kiểm tra xem một phép gán này có giá trị hay không ta sẽ thay giá trị của từng biến vào biểu thức </s> <s> nếu tất cả các mệnh đề đều có giá trị thì biểu thức có giái tị  và ngược lại </s> <s> việc tính giá trị của biểu thức có thể được thực hiện trong thời gian </s> <s> do đó một phép gán là một bằng chứng dễ kiểm tra </s> <s> </s> <s> ví dụ bài toán xác định biểu thức ở trên có phép gán giá trị hay không thuộc </s> <s> chứng minh tương tự lemma  ta có </s> <s> ví dụ và  tập có tổng bằng </s> <s> </s> <s> ta chứng minh định lý cho bài toán </s> <s> bằng chứng ta đưa ra ở đây là một tập các số nguyên </s> <s> bằng chứng ngắn gọn vì ta có thể dùng tối đa bít để biểu diễn  trong đó </s> <s> để kiểm tra bằng chứng này ta chỉ việc cộng tất cả các số trong và kiểm tra xem tổng của chúng có bằng hay không </s> <s> phép cộng này có thể thực hiện được trong thời gian đa thức </s> <s> </s> <s> </s> <s> các cạnh tô đậm màu đỏ là các cạnh của một chu trình hamilton trong đồ thị </s> <s> </s> <s> chú ý trong định nghĩa của đường đi đóng ta cho phép một đỉnh xuất hiện nhiều lần trên đường đi </s> <s> </s> <s> chứng minh lemma  coi như bài tập cho bạn đọc </s> <s> trong post tiếp theo chúng ta sẽ tìm hiểu về  tập các bài toán khó nhất trong lớp </s> <s>  cook stephen </s> <s> </s> <s> the millennium prize problems   </s> <s> </s> <s>  arora sanjeev and boaz barak </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  reddit thread </s> <s> accessed // </s> <s>       trackback link on chỗ phix hội y tuyển x hội phủ định của y tuyển phủ định x hội y tuyển phủ định x hội phủ định y on hi </s> <s> mình không hiểu ý bạn lắm </s> <s> chỗ đó có vấn đề gìpowered by and </s> <s> chọn thế nào là tốt  how to avoid bad cases </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong thiết kế giải thuật đôi khi chúng ta phải đưa ra quyết định chọn một phần tử trong tập các lựa chọn để xử lí và sau đó tiếp tục thực hiện thuật toán sau khi đã xử lí phần tử được chọn </s> <s> nếu chúng ta chọn được phần tử đủ tốt trong tất cả các bước thuật toán của chúng ta sẽ chạy với thời gian rất nhanh </s> <s> ví dụ trong thuật toán  nếu phần tử chốt mà ta chọn trong mỗi bước là trung vị của mảng con chưa sắp xếp thì thuật toán của chúng ta sẽ là với hằng số ẩn sau khá nhỏ </s> <s> tuy nhiên làm thế nào để chọn được phần tử đủ tốt là một vấn đề không hề dễ và đôi khi mất không ít thời gian vì chí ít ta cũng cần phải duyệt qua tất cả các lựa chọn để tìm ra phần tử đủ tốt đó </s> <s> ví dụ với quicksort chúng ta có thể áp dụng thuật toán để chọn median trong thời gian </s> <s> tuy nhiên làm như vậy thì thuật toán quicksort cuối cùng sẽ có hằng số ẩn sau quá lớn </s> <s> trong những trường hợp như quicksort chọn ngẫu nhiên như sẽ chỉ ra dưới đây sẽ cho chúng ta một giải pháp không quá tệ </s> <s> việc chọn ngẫu nhiên theo nguyên lí trên thường sẽ khiến cho thực thi thuật toán của chúng ta sẽ trở nên đơn giản hơn rất nhiều </s> <s> tuy nhiên khó khăn sẽ nằm ở phần phân tích thuật toán và đây cũng là điểm yếu của các thuật toán ngẫu nhiên </s> <s> trong thực tế thì những giải thuật kiểu thực thi đơn giản phân tích khó khăn thường được ưu tiên hơn là thực thi khó khăn phân tích đơn giản </s> <s> chúng ta sẽ tìm hiểu hai ví dụ áp dụng nguyên lí trên quicksort và chọn median </s> <s> trước khi đọc tiếp mình khuyến khích bạn đọc xem lại h trước đây về </s> <s> ngoài ra xem lại appendix về và bài cũng sẽ giúp bạn tư duy tốt hơn trong phần phân tích mà mình sẽ trình bày </s> <s>  giả sử ta muốn sắp xếp mảng đầu vào </s> <s> để đơn giản ta sẽ giả sử các phần tử của mảng đôi một khác nhau </s> <s> thuật toán gồm hai bướctrong trường hợp lí tưởng phần tử pivot trong mỗi bước mà ta chọn là median thì hai phần sẽ có kích thước bằng nhau và bằng cỡ </s> <s> do đó thời gian sắp xếp của quicksort thỏa mãn </s> <s> từ đó suy ra </s> <s> chi tiết các bạn xem thêm tại </s> <s> giả mã như sau trong trường hợp xấu nhất mỗi bước ta đều chọn phải phần tử pivot mà hai phần có độ dài lệch nhau quá lớn thì thời gian của quicksort sẽ là </s> <s> để tránh trường hợp xấu nhất này ta sẽ chọn ngẫu nhiên </s> <s> thuật toán trở thành dòng màu đỏ chính là sự khác nhau của quicksort và quicksort ngẫu nhiên </s> <s> sự thay đổi này như ta đã thấy là khá đơn giản </s> <s> bây giờ chúng ta sẽ phân tích thuật toán </s> <s> do thời gian của thuật toán sẽ tỉ lệ với số phép so sánh ta sẽ tính kì vọng số phép so sánh của thuật toán trên </s> <s> trước hết ta có nhận xét đơn giản sau hai phần tử bất kì của mảng được so sánh với nhau tối đa  lần và chúng chỉ được so sánh với nhau khi một trong hai phần tử đó được chọn là pivot tại bước nào đó của thuật toán </s> <s> gọi là số lượng phép so sánh trong quá trình thực thi </s> <s> với mỗi cặp chỉ số sao cho  ta định nghĩa biến ngẫu nhiên / như sau nếu phần tử nhỏ tứ của mảng được so sánh với phần tử nhỏ thứ của mảng và nếu ngược lại </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> như vậy ta sẽ có theo tính tuyến tính của kì vọng do là biến ngẫu nhiên / ta suy ra </s> <s> do đó tính sẽ được quy về tính các xác suất </s> <s> theo nhận xét ở trên chính là xác suất phần tử nhỏ thứ hoặc thứ sẽ được chọn làm pivot trong một bước nào đó </s> <s> tưởng tượng ta xếp các phần tử của mảng trên trục đường thẳng trong đó phần tử nhỏ thứ của mảng sẽ được sắp xếp vào điểm có tọa độ </s> <s> nếu bất kì phần tử nào trong khoảng loại trừ hai đầu mút được chọn làm pivot tại một bước nào đó thì hai phần tử nhỏ thứ và thứ sẽ không có cơ hội được so sánh với nhau </s> <s> do đó xác suất để một trong hai phần tử đó được chọn làm pivot sẽ là số chính là độ dài của đoạn </s> <s> kết hợp với ta suy ra phương trình thứ  của là do ta áp dụng công thức ở appendix </s> <s> phân tích trên đây được viết ở phần mở đầu của cuốn sách nổi tiếng về randomized algorithms của rajeev motwani and prabhakar raghavan  </s> <s> mình khuyến khích bạn đọc xem thêm note của avrim blum  trong đó blum còn đưa ra cách phân tích khác dựa trên giải một phương trình đệ quy </s> <s> bài toán như sau cho một mảng  tìm phần tử lớn thứ của mảng </s> <s> thuật toán gồm hai bướcgiả mã chọn như thế nào cũng lại là một vấn đề của bài toán này </s> <s> nếu chúng ta may mắn mỗi bước ta đều chọn được là phần tử chia mảng thành hai phần gần bằng nhau thì thuật toán ta thu được là </s> <s> nếu không may thì có thể sẽ là </s> <s> ý tưởng chính trong thuật toán của blumfloydprattrivest và tarjan đó là chọn ra được pivot đủ tốt trong thời gian </s> <s> thuật toán bao gồm các bước sau  chia thành khối mỗi khối có kích thước là </s> <s>  tìm phần tử mỗi phần tử là median của một khối đã chia ở bước </s> <s> gọi là tập các phần tử đó </s> <s>  gọi đệ quy tìm trung vị của  lấy trung vị đó làm phần tử </s> <s>  thực hiện như giải thuật ban đầu với vừa chọn được </s> <s> bằng các phân tích cụ thể hơn thuật toán cuối cùng cũng có thời gian </s> <s> tuy nhiên hằng số ẩn sau bigo cũng không hề nhỏ </s> <s> chi tiết bạn đọc xem thêm tại </s> <s> trong bài này ta sẽ thay đổi  dòng trong để thu được thuật toán ngẫn nhiên khá đơn giản mà cũng hiệu quả tất cả những khó khăn lại nằm trong phần phân tích </s> <s> ta sẽ quy về phân tích số lượng phép so sánh cần thiết để tìm ra phần tử mong muốn </s> <s> gọi là số lượng phép so sánh kì vọng để chọn ra phần tử lớn thứ của mảng gồm phần tử </s> <s> gọi </s> <s> phân tích dựa trên bài toán sau đây rùa và thỏ cùng nhặt được một thanh kẹo chocolate có chiều dài  </s> <s> do không biết chia thế nào cho công bằng thỏ đề xuất nhờ bác gấu già chia thanh kẹo đó </s> <s> bác gấu do không còn tinh mắt chọn một điểm ngẫu nhiên trên thanh kẹo và bẻ thành hai phần </s> <s> thỏ tham ăn và nhanh tay hơn nên luôn chọn phần to còn rùa thì chỉ được phần nhỏ </s> <s> hỏi kì vọng chiều dài thanh kẹo của thỏ là bao nhiêu đáp án là </s> <s> nếu bạn nào muốn xem chi tiết lời giải thì xem </s> <s> chú ý trong bài toán trên miền của bài toán là miền liên tục </s> <s> trở lại bài toán của chúng ta </s> <s> coi mảng như một thanh chocolate rời rạc có chiều dài và coi việc chọn phần tử pivot như bẻ thanh chocolate tại một điểm ngẫu nhiên </s> <s> ở đây sự khác biệt cơ bản so với bài toán bẻ chocolate ở trên đó là miền của chúng ta là rời rạc </s> <s> tuy nhiên chiều dài kì vọng của phần lớn hơn vẫn không vượt quá </s> <s> xem chi tiết </s> <s> sau khi đã bẻ trong trường hợp tồi nhất chúng ta sẽ phải đệ quy trên phần dài nhất để tìm kiếm </s> <s> do đó ta có số chính là số phép so sánh để chia mảng thành hai phần sau khi đã chọn được pivot </s> <s> giải công thức truy hồi trên ta được </s> <s> như vậy phần phân tích thuật toán là do avrim blum  </s> <s> thực tế phân tích này chỉ đưa cho bạn một cách nhìn trực quan về bài toán mà chưa phải là một phân tích tỉ mỉ và chính xác về mặt toán học </s> <s> bạn có thể xem cách phân tích tỉ mỉ hơn ý tưởng thì vẫn như vậy trong note  </s> <s> vấn đề đầu tiên đó là thời gian thực tế của thuật toán ngẫu nhiên </s> <s> trong hai phân tích ở trên chúng ta biết rằng và có thời gian chạy lần lượt là và </s> <s> tuy nhiên trong thực tế đôi khi thuật toán cuả chúng ta chạy nhanh hơn thời gian kì vọng và đôi khi lại chạy chậm hơn thời gian kì vọng vì giá trị của một biến ngẫu nhiên tại một thời điểm nào đó có thể nhỏ hơn hoặc lớn hơn hoặc nhỏ hơn giá trị kì vọng </s> <s> về mặt lý thuyết thì thuật toán thực tế có thể chạy lâu hơn kì vọng nhiều lần và trong một số trường hợp không phải hai thuật toán trong bài này thuật toán không dừng lặp vô hạn </s> <s> tuy nhiên xác suất trường hợp như vậy xảy ra thường vô cùng nhỏ và khó có thể xảy ra trong thực tế </s> <s> để định lượng xem khả năng thuật toán chạy chậm hơn kì vọng ví dụ  lần là bao nhiêu thì chúng ta cần phải dùng đến những công cụ từ lý thuyết xác suất </s> <s> chính vì thế mà việc phân tích giải thuật ngẫu nhiên một cách đầy đủ thường khó hơn rất nhiều so với các phân tích ở trên </s> <s> ở đây mình sẽ giới thiệu và sử dụng bất đẳng thức markov </s> <s> bất đẳng thức này khá đơn giản vì thế nên các kết quả thu được cũng chưa thực sự mạnh </s> <s> từ bất đẳng thức markov ta dễ dàng suy ra xác suất để thuật toán chạy chậm hơn kì vọng  lần  là không quá </s> <s> thực tế các thuật toán này chạy lớn hơn  lần kì vọng với xác suất rất nhỏ </s> <s> tuy nhiên để phân tích được điề unày thì cần đến công cụ rất mạnh như bất đẳng thức </s> <s> mình sẽ không đi sâu hơn vì vấn đề này vượt quá phạm vi của bài viết </s> <s> vấn đề thứ hai nằm trong chính sự ngẫu nhiên </s> <s> ở đâu mà ta có ngẫu nhiên và làm thế nào để chọn được một phần tử ngẫu nhiên trong máy tính câu hỏi này không hể đơn giản và có cả một ngành khoa học chuyên nghiên cứu về nó </s> <s> để đạt được một nguồn ngẫu nhiên thực sự là một việc không dễ dàng </s> <s> các nguôn ngẫu nhiên mà ta thường sử dụng trong máy tính ví dụ sử dụng các hàm random để sinh số ngẫu nhiên trong máy tính là </s> <s> các nguồn này trông hơi giống ngẫu nhiên do ta khó đoán được quy luật của các số sinh ra nhưng không thực sự là ngẫu nhiên </s> <s> trong thực thi các giải thuật ta chấp nhận các nguồn giả ngẫu nhiên này thay cho nguồn ngẫu nhiên thực sự </s> <s>  rajeev motwani and prabhakar raghavan </s> <s> </s> <s> cambridge university press new york ny usa  </s> <s> </s> <s>  avrim blum </s> <s> </s> <s> cmu  </s> <s> </s> <s>  avrim blum </s> <s> </s> <s> cmu  </s> <s> </s> <s>  michael mitzenmacher and eli upfal </s> <s> probability and computing randomized algorithms and probabilistic analysis </s> <s> cambridge university press new york ny usa  </s> <s>     trackback link on ở phần một số vấn đề nếu viết prx > ex thì phải nói là xác suất để thuật toán chạy chậm hơn so với kỳ vọng chứ e toàn thấy anh viết là nhanh hơn như vậy dễ gây hiểu lầm lắm </s> <s>  on hi hoahuongduongbạn nói đúng mình đã sửa lại bài viết </s> <s> cám ơn bạn đã comment </s> <s> hùngpowered by and </s> <s> chọn phần tử lớn thứ k của mảngmedian selection </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta giải bài toán sau </s> <s> có hai cách giải mà chúng ta có thể nghĩ đến ngaybài này giới thiệu phương pháp để giải bài toán trên trong thời gian </s> <s> ý tưởng cơ bản của thuật toán như sau chọn một phần tử bất kì  và chia mảng ra thành hai phần trong thời gian  phần  gồm những phần tử nhỏ hơn và phần  gồm những phần tử lớn hơn hoặc bằng </s> <s> ta có hai trường hợp </s> <s> giả mã của thuật toán chia mảng với phân tử chọn pivot là  trả lại vị trí mới cuả phần tử có giá trị trong mảng </s> <s> </s> <s> dưới đây là code c của giả mã trên </s> <s> như vậy ta đã thực hiện xong bước một phân chia mảng bằng phần tử bất kì </s> <s> sau đây là giả mã thực hiện bước  </s> <s> dưới đây là code c của giả mã trên </s> <s> code đầy đủ với phần tử pivot là phần tử giữa của mảng được cho ở cuối bài viết </s> <s> nhìn vào ta dễ thấy thời gian chạy trong trường hợp tồi nhất như sau </s> <s> trường hợp xấu nhất khi  khi đó  không tốt hơn thuật toán vét cạn </s> <s> tuy nhiên nếu ta chọn pivot sao cho với  ta sẽ có </s> <s> </s> <s> </s> <s> </s> <s> giải công thức trên ta được </s> <s> trong những trường hợp không biết chọn phần tử nào là pivot tốt cách đầu tiên có thể nghĩ tời là chọn một phần tử của mảng làm pivot với xác suất như nhau </s> <s> với bài toán này chọn ngẫu nhiên sẽ cho ta thuật toán với thời gian là </s> <s> chi tiết phân tích bạn đọc có thể </s> <s> blum floyd pratt rivest và tarjan  đề xuất một cách khác để chọn pivot như sau nếu số phần tử của mảng là lớn  trong giả mã ta chia mảng thành nhóm mỗi nhóm gồm  phần tử </s> <s> dùng thuật toán vét cạn để tìm median của mỗi nhóm </s> <s> sau bước đó ta thu được mảng gồm phần tử là median của nhóm </s> <s> gọi đệ quy để tìm median của mảng này </s> <s> lấy median làm pivot cho mảng ban đầu </s> <s> giả mã như sau </s> <s> dưới đây là code c của giả mã trên </s> <s> code đầy đủ được cho ở cuối bài viết </s> <s> </s> <s> ta thấy tìm median của medians mất thời gian </s> <s> vì phần tử pivot là median của median mỗi bước đệ quy ta sẽ bỏ bớt được ít nhất là phần tử  </s> <s> như vậy tổng thời gian của thuật toán là </s> <s> giải trên ta được </s> <s> dưới đây là code và dữ liệu test  </s> <s> bài viết dự chủ yêu trên notes của jeff erickson </s> <s>   trackback link powered by and </s> <s> quy hoạch động  dynamic programming v </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta thảo luận giải thuật quy hoạch động để giải bài toán người du lịch traveling salesman problem  tsp </s> <s> giải thuật này được đề xuất bởi và cũng được đề xuất độc lập bởi bellman vào năm  </s> <s> </s> <s> bài toán như sau </s> <s> ví dụ các thành phố và chi phí giữa chúng được cho bởi hình bên trái của hình dưới đây </s> <s> một hành trình tối ưu với tổng chi phí  được cho bởi hình bên phải </s> <s> </s> <s> bài toán này có thể được giải bằng phương pháp với thời gian </s> <s> trong bài này mình sẽ giới thiệu lời giải bằng quy hoạc động với thời gian và thảo luận một phương pháp thực thi bằng c </s> <s> giả sử   là một hành trình tối ưu đi từ thành phố đến thành phố qua thành phố khác và quay lại </s> <s> vì hành trình là tối ưu hành trình đi từ tới qua các thành phố cũng phải là hành trình tối ưu </s> <s> như vậy nếu gọi là chi phí nhỏ nhất đi từ tới qua các thành phố trong tập hợp không chứa  ta có công thức đệ quy sau do đó để tính  ta chỉ cần đảm bảo các giá trị với đã được tính trước </s> <s> giả mã như sau </s> <s> hàm tính chi phí của hành trình từ đến qua mỗi thành phố trong không chứa  chính xác  lần và được tính theo công thức đệ quy </s> <s> giả mã như sau thời gian tính của thuật toán trên có thể được quy về thời gian cập nhật bảng cost có kíc thước </s> <s> mỗi phần từ của bảng được cập nhật theo thủ tục và mất thời gian </s> <s> do đó tổng thời gian tính toán của thuật toán là </s> <s> </s> <s> thuật toán quy hoạch động của bài toán tsp cho bởi giả mã không quá phức tạp </s> <s> tuy nhiên khi thực thi thuật toán bằng c hay một số ngôn ngữ khác khi mà các phép toán liên quan đến tập hợp chưa sẵn có thì có một số vấn đề chúng ta cần phải giả quyếttrong phần này mình thảo luận một cách để thực thi bằng với và giới thiệu một số kĩ thuật xử lí bit </s> <s> trước hết đối với vấn đề số  chúng ta có thể mã hóa bằng cách gán cho mỗi tập con của một số duy nhất gọi là  để việc truy xuất hay cập nhật được hiệu qủa </s> <s> ta có thể mã hóa một tập con của tập phần tử bằng một số nguyên bít  trong đó nếu phần tử và nếu </s> <s> của chính là giá trị của số nguyên đó </s> <s> ví dụ  tập con có thể được biểu diễn bởi số nguyên ở hình dưới đây và có </s> <s> việc chứng minh không có hai tập con khác nhau nào có cùng một coi như bài tập cho bạn đọc </s> <s> </s> <s> </s> <s> như vậy chúng ta đã có cách để mã hóa mỗi một tập con thành một số nguyên duy nhất tương ứng </s> <s> phần tiếp theo của bài viết dùng một số các phép toán xử lí bít </s> <s> các phép toán cơ bản gồm có and  or  xor  not ~ shift left   </s> <s> ví dụ một số cách xử lí bít để tính các hàm cơ bản như bạn đọc có thể tham khảo thêm ở bây giờ ta giải quyết bài toán sinh các tập con kích thước của tập hợp có kích thước </s> <s> ở đây ta sẽ sinh tập con theo thứ tự từ điển </s> <s> như vậy ta có thể quy về bài toán cho một tập con  tìm tập con tiếp theo có phần tử theo thứ tự từ điển </s> <s> giả sử tập con đó được cho dưới dạng mã hóa bit như trên ta quy về bài toán </s> <s> ví dụ  số nguyên tiếp theo sẽ là </s> <s> ta có thể nhận thấy là nếu có  có thể bằng  bít cuối cùng là  trước đó là bít  như ở hình bên trái của hình dưới đây thì sẽ có bít cuối là  trước đó là bít  và trước bít  đó là  bít  như hình bên phải của hình dưới đây </s> <s> </s> <s> </s> <s> như vậy để giải bài toán trên ta tìm cách chuyển thành giống như trong hình trên </s> <s> giả mã gần giống với c như sau </s> <s> để bạn đọc không mất tập trung vào giải thuật chính mình sẽ giải thích đoạn code này ở cuối bài </s> <s> code bằng c của giả mã như sau bài toán tiếp theo chúng ta phải giải đó là liệt kê các tập con </s> <s> với mỗi tập  mình dùng danh sách liên kết để lưu các tập con của có kích thước </s> <s> đầu của danh sách lưu </s> <s> mỗi mắt xích gồm hai trường trường lưu mã của tập con và trường lưu phần tử </s> <s> giả mã được cho ở dưới seed là của tập con </s> <s> </s> <s> code bằng c của giả mãdựa vào thủ tục  seed  ta có thể tính trước mảng subsets trong đó mỗi phần tử của mảng subsets là một danh sách liên kết lưu các tập con có kích thước của tập có là </s> <s> giả mã như sau </s> <s> code của giả mã bằng cnhư vậy chúng ta đã giải quyết xong bài toán mã hóa các tập con và sinh các tập con của một tập có kích thước </s> <s> vấn đề còn lại chỉ là ghép các phần lại với nhau để giải quyết bài toán </s> <s> giả mã của thuật toán như sau </s> <s> code bằng c của giả mãthủ tục s i </s> <s> code của giả mã bằng c </s> <s> các thao tác trong hàm    được minh hoạ bởi hình sau </s> <s> code  </s> <s>  sanjoy dasgupta christos papadimitriou and umesh vazirani </s> <s> </s> <s> st edition </s> <s> mcgrawhill higher education  </s> <s> </s> <s> </s> <s>    trackback link on ad giải thích hộ mình đoạn công thức đệ quy với </s> <s> đoạn minj thuộc s ấy </s> <s> minj là gì và tính thế nào vậy  on hi bạn hòacám ơn bạn đã đặt câu hỏi </s> <s> theo như định nghĩa của hàm cost là chi phí nhỏ nhất đi từ tới i qua các thành phố trong tập hợp không chứa i </s> <s> do đường đi với chi phí nhỏ nhất đi từ tới i chỉ qua s đường đi này phải đi qua một đỉnh nào đó thuộc trước khi đến i </s> <s> tức là đường đi có dạng </s> <s> do đó </s> <s> tuy nhiên ở đây ta không biết cụ thể mà chỉ biết thuộc </s> <s> do đó ta phải duyệt qua tất cả các có thể thuộc và lấy min </s> <s> hi vọng đoạn này giải đáp thắc mắc của bạn </s> <s> hùng on mình hiểu rồi </s> <s> cảm ơn bạn nhiều lắm on không có gì đâu </s> <s> cám ơn bạn đã ghé thăm </s> <s> powered by and </s> <s> phương pháp giải hệ thức truy hồi  recurrence relation </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta tìm hiểu một số cách giải công thức truy hồi mà chúng ta hay gặp trong phân tích thuật toán </s> <s> mục tiêu chính của bài viết là cung cấp một số công cụ chuẩn để bạn đọc có thể ước lượng được nhanh chóng giá trị tiệm cận của hàm truy hồi mà bạn đọc quan tâm </s> <s> bài viết này chủ yếu tóm lược lại note của jeff erickson  </s> <s> mình khuyến khích bạn đọc xem bản gốc </s> <s> rất nhiều hệ thức truy hồi xuất hiện trong phân tích thuật toán có thể quy được về một trong hai bài toán tổng quát sau </s> <s>  tn  atfracnb  fn qquad  trong đó ab là các hằng số dương </s> <s> </s> <s>  tn  sumik aitfracnbi  fnqquad  trong đó aibi i  ldots k là các hằng số dương </s> <s> </s> <s> đây có lẽ là phương pháp mà chúng ta thường hay nghĩ tới khi bắt gặp một hệ thức truy hồi </s> <s>  dự đoán kết qủa và chứng minh bằng phương pháp quy nạp  tn  tn   qquad qquad t    thử một vài giá trị đầu tiên ta thấy  t   t   t   ldots  dự đoán  tn  n  </s> <s>  tn  tn    n    n   bây giờ chúng ta thử áp dụng cho bài toán khó hơn  tn  sqrtntsqrtn  n qquad qquad t  theta  ở bài toán này chúng ta tìm vì giá trị ban đầu của bài toán là hàm tiệm cận  theta </s> <s>  tn  on log n </s> <s> chúng ta dự đoán như vậy vì ở mỗi mức của cây đệ quy sẽ giới thiệu ở dưới bài toán có kích thước  n </s> <s> thử chứng minh tn leq a nlog n </s> <s> điểm mấu chốt ở đây là khái niệm o </s> <s>  cho phép ta tùy ý chọn chọn hằng số a và giá trị bé nhất của n để dự đoán của chúng ta là đúng </s> <s>  tn  sqrtntsqrtn  n leq sqrtncdot asqrtnlog sqrtn n leq a nlog n  ở bất đẳng thức cuối ta giả sử  n geq /a  </s> <s> như vậy dự đoán của chúng ta là đúng </s> <s> bây giờ chúng ta thử chứng minh cận dưới  tn geq bnlog n bằng quy nạp </s> <s>  tn  sqrtntsqrtn  n geq sqrtncdot bsqrtnlog sqrtn n  fracb nlog n  n giá trị này lớn hơn b n log n khi và chỉ khi n geq b/ nlog n </s> <s> điều này là không thể vì giá trị của hằng số b luôn n đủ lớn để  b/ nlog n  >  n </s> <s> như vậy cận trên onlog n vẫn chưa chặt </s> <s> tn  on </s> <s> ta lặp lại ý tưởng ở trên thử chứng minh  tn leq a n </s> <s>  tn  sqrtntsqrtn  n leq sqrtncdot asqrtn n  a n nleq a n  như vậy dự đoán chúng ta là sai </s> <s>  tn  onsqrtn </s> <s> chứng minh tương tự ta thấy dự đoán này đúng </s> <s> tuy nhiên nếu cố gắng chứng minh cận dưới  tn  omega nsqrtn chúng ta sẽ gặp vấn đề </s> <s> tn  onloglog n </s> <s> chứng minh cận trên  tn leq a nloglog n  </s> <s> beginarray lcl tn    sqrtntsqrtn  n  </s> <s>  leq  sqrtncdot asqrtn loglog sqrtn n  </s> <s>    a nloglog n a n  n  </s> <s>  leq  a n loglog nendarraykhi a geq  </s> <s> giờ ta chỉ cần chứng minh cận dưới tn geq b nloglog n </s> <s> beginarray lcl tn    sqrtntsqrtn  n  </s> <s>  geq  sqrtncdot bsqrtn loglog sqrtn n  </s> <s>    b nloglog n b n  n  </s> <s>  geq  b n loglog n qquad mboxnếu  b leq endarraydo đó ta có thể kết luận tn  thetanloglog n </s> <s> </s> <s> định lý thợ master theorem là một công cụ giúp ta giải các hệ thức truy hồi có dạng trong </s> <s> định lý dài và khó nhớ và theo mình bạn đọc cũng không cần nhớ làm gì </s> <s> chỉ cần nhớ dạng bài toán mà định lý này có thể áp dụng để giải </s> <s> nếu có thể thì chỉ cần nhớ phương pháp chứng minh định lý </s> <s>  tn  atfracnb  fn </s> <s> chúng ta sử dụng phương pháp recursion tree </s> <s> cây đệ quy có nút gốc có giá trị và nút con </s> <s> mỗi nút con của nút gốc sẽ là gốc của một cây cho hàm đệ quy </s> <s> như vậy ở độ sâu thứ  gía trị của hàm của các nút là </s> <s> minh họa ở hình sau </s> <s> </s> <s> </s> <s> nhìn vào cây đệ quy ta sẽ thấy  tn  sumil ai ffracnbi </s> <s> ở đây  l là độ sâu của cây đệ quy </s> <s> dễ thấy  l  logb n </s> <s> xét trường hợp  tn  tn/  n </s> <s> </s> <s> do afn/b  n/  n  fn theo định lý thợ ta có tn  ofnlog n  onlog n </s> <s> </s> <s> </s> <s> ta cũng có thể dùng công thức tổng quát để tính </s> <s> cụ thể tn  sumil i n/i  sumil n  thetanlog n </s> <s>  tn  tn/  n </s> <s> </s> <s> do afn/b  n/   </s> <s>  n  kfn với k   </s> <s>  theo định lý thợ ta có tn  onlogb a o nlog  </s> <s> </s> <s> </s> <s> hoặc sử dụng công thức tổng quát ta có tn  sumil i n/i  nsumilog n /i  n /logn  nlog  </s> <s>  tn  sqrtntsqrtn  n </s> <s> </s> <s> do dạng của phương trình đệ quy này không giống với dạng trong định lý thợ ta không thể áp dụng công thức tổng quát của định lý thợ </s> <s> tuy nhiên ta có thể áp dụng phương pháp cây đệ quy </s> <s> nhìn vào cây nhị phân ta thấy tổng giá trị mỗi mức là n tn  sumil n với chiều cao cây l thỏa mãn nl  theta </s> <s> giải ra ta được l  thetaloglog n </s> <s> như vậy tn  theta n loglog n </s> <s> trong phần này chúng ta sẽ tìm hiểu một công cụ khác công thức đệ quy có dạng trong </s> <s> phương phápđược đề xuất bởi mohamad akra và louay bazzi năm  </s> <s> với điều kiện kaibi là các hằng số lời giải của có dạng như sau  tn  theta nrho  intn fracfuurho du trong đó rho thỏa mãn phương trình  sumik ai/birho   </s> <s> bạn đọc có thể tham khảo chứng minh của định lí này trong  </s> <s> randomized quicksort tn  tn/  tn/  n </s> <s> </s> <s> áp dụng công thức tổng quát ta tìm rho thỏa mãn /rho  /rho   </s> <s> dễ thấy rho   </s> <s> do đó ta có  tn  thetan  intn fracudu  onlog n deterministic selection tn  tn/  tn/  n </s> <s> </s> <s> ta tìm rho thỏa mãn /rho  /rho   </s> <s> ta sẽ tìm được một giá trị sử dụng  rho thỏa mãn   < rho <  </s> <s> áp dụng công thức tổng quát ta có </s> <s> </s> <s> </s> <s>  tn  thetanrho  intn fracuurho  du  thetanrho  thetan rho   thetan  j </s> <s> erickson  uiuc fall  </s> <s> </s> <s>  manuscript </s> <s> mit  </s> <s> </s> <s>  tìm giá trị tiệm cận của các hàm sau a </s> <s> b </s> <s> c </s> <s> d </s> <s> e gợi ý viết lời giải dưới dạng dãy số fibonacci </s> <s> f  sử dụng cây đệ quy hoặc phương pháp bom tấn để tìm giá trị tiệm cận của các hàm sau a </s> <s> b </s> <s> c </s> <s> d </s> <s> e </s> <s> f </s> <s> </s> <s> bài tập  được lấy từ jeff erickson notes và bài tập  lấy từ introduction to algorithm nd </s> <s>    trackback link on cái chỗ công thức tổng quát trong ô vuông phải là fn/bi chứ không phải tn/bi anh à </s> <s> góp ý nhỏ thôi  on ừ nhỉ </s> <s> mình gõ sai </s> <s> cám ơn bạn đã góp ý </s> <s> góp ý này không hề nhỏ như bạn nghĩ d </s> <s> hùngpowered by and </s> <s> một số kĩ thuật cải tiến quy hoạch động i  advanced dynamic programming </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong loạt bài này mình sẽ giới thiệu những kĩ thuật để cải tiến thuật toán quy hoạch động </s> <s> kĩ thuật trong bài này mình viết ở đây chủ yếu dựa trên notes của jeff erickson  </s> <s> trong bài viết  mình giới thiệu phương pháp quy hoạch động để tính khoảng cách edit distance ed giữa hai xâu  với thời gian </s> <s> gọi là khoảng cách giữa hai xâu con và </s> <s> công thức đệ quy sau chính là ý tưởng chính của thuật toán quy hoạch động </s> <s> trong bài viết trước chúng ta đã thảo luận hai cách thực thi thuật toán quy hoạch động với bộ nhớ tương ứng là và </s> <s> nếu chúng ta chỉ quan tâm đến khoảng cách giữa hai xâu thuật toán thứ hai hiển nhiên sẽ là lựa chọn tốt </s> <s> bây giờ nếu bài toán yêu cầu in ra một dãy với tổng số lượng các các thao tác nhỏ nhất để biến thành  chúng ta sẽ làm thế nàovới thuật toán  bằng cách truy ngược bảng  chúng ta có thể dễ dàng thu được dãy tối ưu các thao tác </s> <s> tuy nhiên với cách thực thi với bộ nhớ  gần như không thể truy ngược lại vì chúng ta không lưu toàn bộ bảng </s> <s> tuy nhiên vào năm  đề xuất phương pháp chia để trị không những tính được khoảng cách giữa hai xâu với thời gian và bộ nhớ mà còn tìm được một dãy tối ưu các thao tác để chuyển thành với cùng thời gian và bộ nhớ </s> <s> giải thuật của dan hirshberg sẽ là chủ đề chính của phần này </s> <s> </s> <s> thuật toán của hirshberg dựa trên quan sát rằng bài toán chuyển xâu thành xâu có thể được chia thành hai bài toán con bài toán thứ nhất chuyển xâu thành và bài toán thứ hai chuyển xâu thành </s> <s> vấn đề ở đây là làm sao để tìm điểm chia </s> <s> hirshberg chứng minh bổ đề sau </s> <s> ta sẽ chứng minh bổ đề này sau </s> <s> bây giờ giả sử chúng ta đã có thuật toán tìm điểm chia trong thời gian và bộ nhớ </s> <s> ta có thể gọi đệ quy trên các bài toán con để giải bài toán ban đầu </s> <s> chi tiết như trong giả mã sau </s> <s> có thể dễ thấy là bộ nhớ cần thiết của thuật toán là vì bộ nhớ cần thiết của thủ tục là </s> <s> thời gian tính của thuật toán được cho bởi công thức đệ quy sau </s> <s> bằng phương pháp  ta có thể chứng minh rằng </s> <s> giải thuật hirshberg tìm điểm chia bằng phương pháp quy hoạch động </s> <s> gọi là điểm chia khi biến xâu con thành </s> <s> hay nói cách khác bài toán chuyển xâu sang xâu con có thể được chia thành hai bài toán bài toán chuyển xâu con sang xâu và bài toán chuyển xâu con sang xâu con </s> <s> dễ thấytổng hợp lại ta có công thức đệ quy sau của  </s> <s> như vậy điểm chia </s> <s> dựa vào công thức đệ quy ở trê ta có thể tính được với thời gian và bộ nhớ </s> <s> chi tiết coi như bài tập cho bạn đọc tham khảo thêm tại  </s> <s> ví dụ bảng và bảng với hai xâu  </s> <s> hình ảnh được lấy từ  </s> <s> </s> <s> chính vì kĩ thuật hirshberg mà thông thường với các bài toán quy hoạch động nếu chúng ta có thể tìm được giá trị tối ưu trong thời gian và bộ nhớ  chúng ta có thể tìm được ít nhất một phương án tối ưu với cùng thời gian và bộ nhớ </s> <s> các bài toán quy hoạch động thông thường liên quan đến việc xây dựng bảng quy hoạch hai hoặc ba chiều </s> <s> mỗi ô của bảng được cập nhật dựa trên các ô liền kề của bảng </s> <s> một điểm chúng ta có thể nhận thấy là không phải tất cả các ô đều được sử dụng trong xây dựng phương án tối ưu </s> <s> do đó một cách để tiết kiệm thời gian và bộ nhớ là chúng ta chỉ lưu lại giá trị của những ô mà có thể được sử dụng trong xây dựng phương án </s> <s> nếu số lượng các ô đó nhỏ hơn nhiều kích thước cuả toàn bảng chúng ta sẽ tiết kiệm thêm được thời gian và bộ nhớ </s> <s> trong bài này mình lấy bài toán dãy con chung dài nhất longest common subsequence  lcs làm ví dụ </s> <s> ví dụ và có xâu con chung dài nhất là có chiều dài là  ta thêm kí tự vào cuối hai xâu để việc lập trình đơn giản hơn </s> <s> tương tự như bài toán  nếu ta gọi là chiều dài dãy con chung dài nhất của hai xâu con </s> <s> ta có công thức đệ quy sau </s> <s> dựa vào công thức trên ta có thuật toán quy hoạch động giải bài toán trên với thời gian </s> <s> thuật toán quy hoạc động cũng là thuật toán tối ưu để giải bài toán này theo nghĩa nếu  không tồn tại thuật toán chạy với thời gian ít hơn với mọi trừ khi giả thiết thời gian lũy thừa  là sai  </s> <s> </s> <s> code của thuật toán bằng c </s> <s> trong code này đầu vào là dãy các số nguyên từ  thay vì là kí tự </s> <s> tuy nhiên trong một số trường hợp đặc biệt mà ở đây là trường hợp bảng qhd thưa ta có thể thiết kế thuật toán nhanh hơn </s> <s> nếu để ý kĩ ta sẽ thấy các ô của bảng được sử dụng để xây dựng phương án tối ưu là các ô với </s> <s> ta gọi các ô với là các ô </s> <s> với ví dụ và  ta có tất cả  ô hữu ích </s> <s> hình sau được lấy từ  </s> <s> </s> <s> ta có thể thấy giá trị của các ô hữu ích phụ thuộc trực tiếp vào nhau theo công thức đệ quy sau </s> <s> ở công thức trên là ô hữu ích  </s> <s> gọi là số lượng các ô hữu ích </s> <s> ta có thể tính trước danh sách các ô hữu ích và lưu trong mảng trong thời gian như sau </s> <s> trong code bằng c của giả mã dưới đây thay vì lưu giữ mảng chỉ số như trong giả mã mình dùng cấu trúc dữ liệu để lưu chỉ số cùng với dữ liệu </s> <s> sau khi đã tìm được chỉ số của các ô hữu ích ta có thể tìm chiều dài của dãy con chung dài nhất bằng quy hoạch động dựa vào công thức đệ quy ở </s> <s> giả mã như sau </s> <s> code của thuật toán bằng c </s> <s> code đầy đủ được cho ở cuối bài </s> <s> thuật toán tìm các ô hữu dụng có thời gian tính là </s> <s> sắp xếp mảng có thể thực hiện trong thời gian </s> <s> phần quy hoạch động cập nhật mảng có thời gian tính </s> <s> do đó tổng thời gian tính toán của thuật toán là </s> <s> như vậy nếu bảng quy hoạch động thưa thì thuật toán trên sẽ nhanh hơn thuật toán quy hoạch động ban đầu </s> <s> bằng kĩ thuật tương tự với kĩ thuật trong bài  chúng ta có thể giảm thời gian cập nhật mảng xuống còn </s> <s> do đó thời gian tính có thể giảm xuống còn </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> code </s> <s> </s> <s>  uiuc </s> <s> </s> <s>  d </s> <s> s </s> <s> hirschberg </s> <s>  </s> <s> </s> <s> commun </s> <s> acm   june   </s> <s> </s> <s>  abboud amir arturs backurs and virginia vassilevska williams </s> <s> </s> <s> arxiv preprint arxiv </s> <s>   </s> <s>    trackback link on thiếu dấu  ở mục độ phức tạp onlognmlogmk on cám ơn bạn đã chỉ ra </s> <s> mình đã sửa </s> <s> hùngpowered by and </s> <s> quy hoạch động  dynamic programming iv </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ thảo luận bài toán xây dựng cây nhị phân tìm kiếm tối ưu </s> <s> chúng ta cũng thảo luận giải thuật cuả knuth trong bài toán này </s> <s> ý tưởng của knuth sau này được yao mở rộng với trường hợp bất đẳng thức hình chữ nhật quadrangle inequality để cải tiến quy hoạch động một kĩ thuật mà mình sẽ giới thiệu ở phần sau </s> <s> cây nhị phân tìm kiếm binary search tree là một cây nhị phân có tính chất sau </s> <s> ví dụ ta có mảng và mảng tần số tương ứng </s> <s> một trong số các cây nhị phân tìm kiếm hợp lệ như trong hình sau </s> <s> </s> <s> các số trong hình vuông nhỏ là tần số tìm kiếm các số trong hình tròn là khóa tìm kiếm </s> <s> ta có thể thấynhư vậy tổng số phép so sánh là </s> <s> có thể kiểm tra bằng cách thử xây dựng các cây nhị phân tìm kiếm hợp lệ khac nhau rằng cây nhị phân trong hình tương ứng với và trong ví dụ có tổng số lượng các phép so sánh là nhỏ nhất </s> <s> qua ví dụ trên có thể rút ra số lần so sánh thực hiện ở nút gốc không phụ thuộc vào cách chọn khóa cho nút gốc và luôn là </s> <s> ta sẽ phát triển công thức đệ quy cho bài toán này </s> <s> gọi là số phép so sánh của cây nhị phân tìm kiếm tối ưu cho mảng </s> <s> nếu là khóa của nút gốc ta có vì ta không biết nút nào là nút gốc ta có thể thử tất cả các lựa chọn có thể có cho nút gốc </s> <s> do đó ta có </s> <s> gọi là số phép so sánh của cây nhị phân tìm kiếm tối ưu cho mảng con </s> <s> đặt </s> <s> ta có </s> <s> </s> <s> </s> <s> như các bài toán khác quy hoạch động trong bài toán nay quy về cập nhật các phần tử của mảng </s> <s> tuy nhiên một điểm cần chú ý ở đây chính là thứ tự cập nhật các phần tử của mảng </s> <s> </s> <s> </s> <s> trong hình trên các phân tử của mảng tô màu xanh là các phần tử và được khởi tạo </s> <s> giả sử ta muốn cập nhật phần tử được tô màu đen của mảng ảnh ngoài cùng bên trái ta phải chắc chắn rằng các phần tử được tô màu đỏ đã được cập nhật trước đó </s> <s> do đó ta có thể có  cách cập nhật bảng  hình với các mũi tên như trên hình trên </s> <s> các mũi tên chỉ thứ tự các phần tử được cập nhật </s> <s> trong giả mã dưới đây bảng được cập nhật theo hình thứ nhất cập nhật kiểu đường chéo </s> <s> mũi tên xanh sẽ tương ứng với vòng lặp ngoài cùng của giả mã </s> <s> các kiểu cập nhật khác coi như bài tập cho bạn đọc </s> <s> hàm tính </s> <s> hàm  tính theo công thức đệ quy </s> <s> ta lưu thêm mảng trong đó lưu lại gốc của cây nhị phân tìm kiếm tối ưu của mảng con </s> <s> mảng có thể được sử dụng để truy vết in ra cây nhị phân tìm kiếm tối ưu </s> <s> </s> <s> code bằng c của giả mã </s> <s> code đầy đủ của thuật toán được cho ở cuối bài </s> <s> bảng có thể được tính bằng quy hoạch động trong thời gian dựa vào công thức </s> <s> giả mã như sau </s> <s> code bằng c của giả mãgiả mã của hàm  </s> <s> </s> <s> code bằng c của giả mã thời gian để cập nhật mảng trong hàm là </s> <s> mỗi phần tử của mảng được cập nhật trong thời gian có thể phân tích chặt hơn nhưng thời gian tiệm cận vẫn không đổi </s> <s> như vậy thuật toán có thời gian tính là </s> <s> thuật toán cần hai mảng  chiều và kích thướng </s> <s> như vậy bộ nhớ cần dùng là </s> <s> hiện tại chưa có thuật toán nào tính chính xác cây nhị phân tìm kiếm tối ưu mà bộ nhớ </s> <s> với ví dụ trên mảng đầu ra của thuật toán là beginbmatrix            endbmatrix với ví dụ trên ta quan sát thấy mảng đầu ra có hàng và cột là các dãy tăng dần </s> <s> tính chất này không phải ngãu nhiên mà đúng với mọi và được chứng minh lần đầu tiên bởi  </s> <s> knuth sử dụng tính chất này để giảm thời gian của thuật toán quy hoạch động xuống còn </s> <s> mỗi mảng con có thể có nhiều hơn một cây nhị phân tìm kiếm tối ưu </s> <s> trong số các cây nhị phân tìm kiếm tối ưu đó chọn cây có gốc có khóa lớn nhất đồng nghĩa với trong số các gốc của các cây nhị phân tìm kiếm tối ưu có chỉ số trong mảng lớn nhất </s> <s> gọi là gốc đó </s> <s> nếu để ý kĩ thủ thục  với điều kiện so sánh tmp thay vì tmp  thủ tục đó trả lại cây của mảng có gốc lớn nhất </s> <s> knuth chứng minh bổ đề sau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> mình sẽ chứng minh bổ đề này trong bài viết thảo luận các kĩ thuật nâng cao áp dụng trong quy hoạch động </s> <s> </s> <s> </s> <s> do đó trong thủ tục  thay vì duyệt từ đến để tìm gốc ta chỉ cần duyệt từ đến </s> <s> giả mã như sau </s> <s> code bằng c của giả mãcác thủ tục khác không thay đổi ta chỉ việc thay thế thủ tục bằng ta có bổ đề sau </s> <s> </s> <s> với mỗi  số thao tác thuật toán thực hiện là do đó tổng số thao tác thực hiện của thuật toán là code  </s> <s> </s> <s> </s> <s> </s> <s>  jeff erickson  uiuc </s> <s> </s> <s>  nagaraj s </s> <s> v </s> <s> optimal binary search trees </s> <s>  theoretical computer science  </s> <s>    </s> <s> </s> <s>      trackback link on great article thank you for sharing </s> <s> powered by and </s> <s> sắp xếp quicksort and merge sort </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ áp dụng phương pháp trong bài toán sắp xếp </s> <s> hai phương pháp sắp xếp đặc trưng dựa trên chia để trị là và </s> <s> </s> <s> </s> <s> </s> <s> quick sort được phát minh bởi  </s> <s> quick sort là một thuật toán sắp xếp khá nhanh trong thực tế mặc dù trong trường hợp tồi nhất là </s> <s> có thời gian là  với hằng số đằng sau khá nhỏ </s> <s> điều đó giải thich một phần vì sao quick sort cũng hay được dùng trong thực tế </s> <s> tư tưởng của quick sort khá đơn giản và gồm hai bước chínhdưới đây là giả mã của thuật toán </s> <s> hàm  chia mảng thành hai phần với pivot được chọn là  và trả lại vị trí mới của trong mảng sau khi đã chia </s> <s> </s> <s> dưới đây là code c của giả mã trêngiả mã của thuật toán chia mảng với phân tử chọn pivot là  trả lại vị trí mới cuả phần tử có giá trị trong mảng </s> <s> </s> <s> dưới đây là code c của giả mã trên </s> <s> có đôi chút khác biệt khi ta thực thi bằng c vì mảng bắt đầu từ phần tử  và mình dùng while do đã quen thay vì do while để thực hiện giả mã repeat </s> <s> code đầy đủ bằng c sẽ được cho ở cuối bài </s> <s> </s> <s> nhìn vào giả mã cho thuật toán thực hiện  dễ thấy thời gian thực hiện là </s> <s> như vậy thời gian tính của quick sort là </s> <s> ở đây phụ thuộc vào việc chọn phần tử pivot </s> <s> trong trường hợp tồi nhất trong mỗi lần đệ quy phần tử pivot chi mảng thành một phần có  phần tử và phần còn lại có n phần tử </s> <s> như vậy thời gian là xem để biết tại sao </s> <s> như vậy các bạn có thể ghi nhớ trong trường hợp tồi nhất quick sort có thời gian chạy là </s> <s> trong trường hợp lí tưởng phần tử pivot chọn luôn chia mảng thành hai phần xấp xỉ như nhau </s> <s> như vậy ta có </s> <s> như đã nói đến trong bài n trong những trường hợp không biết chọn phần tử nào là pivot tốt cách đầu tiên có thể nghĩ tời là chọn một phần tử của mảng làm pivot với xác suất như nhau </s> <s> với quick sort chọn ngẫu nhiên sẽ cho ta thuật toán với thời gian kì vọng expected là </s> <s> chi tiết sẽ thảo luận trong phần thuật toán ngẫu nhiên </s> <s> cách khác là có thể áp dụng thuật toán với thời gian tuyến tính để chọn pivot </s> <s> về mặt lí thuyết thời gian tính là như hằng số trong biều thức sẽ khá cao </s> <s> nếu thực thi thực tế sử dụng cách này sẽ rất chậm </s> <s> merge sort được phát minh bởi vào năm  là một thuật toán sắp xếp luôn đảm bảo thời gian chạy tồi nhất là dựa trên kĩ thuật chia để trị </s> <s> ý tưởng cơ bản của merge sort gồm hai bướcdưới đây là giả mã của thuật toán </s> <s> hàm  trộn hai mảng con  đã sắp xếp thành mảng đã xắp xếp </s> <s> </s> <s> code của giả mã bằng c giả mã của hàm  </s> <s> code của giả mã bằng c </s> <s> nhìn vào giả mã ta có thể thấy hàm có thể thực hiện trong thời gian tuyến tính </s> <s> như vậy thời gian thực hiện của merge sort là </s> <s> để đơn giản ta có thể bỏ dấu phần nguyên trên và dưới </s> <s> như vậy thời gian thực hiện của merge sort là </s> <s> code bài viết dự chủ yêu trên notes của jeff erickson </s> <s>    trackback link on mình có một nhận xét thế này đúng ko ạ giả sử đầu vào là dãy có n số bằng nhau hết n rất lớn lúc đấy thời gian sắp xếp của q  sort luôn là on cho dù có sử dụng thuật chọn trung vị đi nữa </s> <s> on nhận xét của bạn hoàn toàn đúng </s> <s> có nhiều cách để giải quyết trường hợp này </s> <s> ví dụ khi bạn so sánh pivot với một phần tử bằng nó bạn sử dụng một counter để đếm xem bao nhiêu phần tử bằng với pivot mà ta đã so sánh rồi quyết định đưa phần tử này sang trái hay sang phải </s> <s> cách này không làm tăng thời gian tiệm cận của quicksort </s> <s> thông thường để phân tích đơn giản ta sẽ giả sử các phần tử luôn khác nhau </s> <s> powered by and </s> <s> đồ thị phẳng  planar graphs </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  đồ thị phẳng là một trong những đồ thị đặc biệt nhận được nhiều sự quan tâm trong lý thuyết đồ thị do cấu trúc đặc biệt và ứng dụng rộng khắp của nó </s> <s> </s> <s> đồ thị đầy đủ k là một đồ thị phẳng và đồ thị petersen không phải là một đồ tị phẳng </s> <s> xem figure  </s> <s> </s> <s> </s> <s> a đồ thị đầy đủ k </s> <s> b một cách vẽ k trên mặt phẳng sao cho không có hai cạnh nào cắt nhau </s> <s> do đó k là một đồ thị phẳng </s> <s> c đồ thị petersen </s> <s> ta không thể vẽ đồ thị petersen sao cho các cạnh chỉ cắt nhau tại các đầu mút do đó đồ thị petersen không phải là một đồ thị phẳng </s> <s> </s> <s> đồ thị phẳng còn được dùng trong xử lí ảnh </s> <s> coi mỗi pixel là một đỉnh của đồ thị và ta thêm cạnh giữa hai đỉnh nếu hai pixel tương ứng kề nhau </s> <s> một bài toán thường gặp trong xử lí ảnh là phân vùng ảnh image segmentation </s> <s> bài toán này có thể quy về tìm một lát cắt cực tiểu của đồ thị phẳng </s> <s> xem figure  </s> <s> a một ảnh số có kích thước x và b một đồ thị phẳng biểu diễn bức ảnh đó </s> <s> </s> <s> mạng giao thông nếu không có cầu vượt có thể coi là một đồ thị phẳng </s> <s> mỗi khi hai đường giao nhau thì nó giao tại một nút giao thông </s> <s> ta sẽ coi mỗi nút giao thông là một đỉnh và đường nói giữa hai nút giao thông tương ứng với cạnh nói hai đỉnh đó </s> <s> hai đồ thị đặc biệt mà ta quan tâm trong bài này là k và k </s> <s> k là đồ thị đầy đủ có  đỉnh còn k là đồ thị hai phía đầy đủ có  đỉnh </s> <s> xem figure  </s> <s>  hai đồ thị này đều không phải là đồ thị phẳng và ta sẽ chứng minh tính chất này trong phần tiếp theo </s> <s> </s> <s> a đồ thị đầy đủ k và b đồ thị hai phía đầy đủ k </s> <s> trước khi đọc tiếp mình khuyến khích bạn đọc xem lại bài giới thiệu về đồ thị để làm quen với một số khái niệm cơ bản </s> <s> ta sẽ không nhắc lại các khái niệm đó ở đây </s> <s> gọi g là một đồ thị phẳng có n  vg đỉnh và m  eg cạnh </s> <s> cố định một cách vẽ g trên mặt phẳng </s> <s> nếu ta xóa tất cả các điểm của mặt phẳng nằm trên cạnh và đỉnh cùa đồ thị ta sẽ thu được một số các vùng regions của mặt phẳng trong đó có đúng một vùng vô hạn infinite region </s> <s> ta gọi mỗi vùng đó là một mặt face của đồ thị và mặt tương ứng với vùng vô hạn ta gọi nó là một mặt vô hạn infinite face của đồ thị </s> <s> gọi f là số mặt của đồ thị </s> <s> ta có n  m  f   qquad  </s> <s> ta chứng minh bằng quy nạp trên số cạnh của đồ thị </s> <s> chú ý đồ thị liên thông và có ít cạnh nhất là </s> <s> gọi t là một cây khung bất kì của g </s> <s> dễ thấy t có n đỉnh n cạnh và  mặt </s> <s> do đó  đúng </s> <s> giả sử  đúng với mọi đồ thị con g của g có cùng số đỉnh và số cạnh m </s> <s> gọi fglà số mặt của g </s> <s> theo giả thiết quy nạp ta có n  m  fg   qquad  gọi e  egsetminus eg </s> <s> do khi ta thêm e vào một mặt nào đó của g e chia mặt đó ra làm  mặt mới </s> <s> do đó fg  fg  </s> <s> thay vào  ta được n  m  fg   từ đó suy ra dpcm </s> <s> trong figure b đồ thị k có  đỉnh  cạnh và khi vẽ trên mặt phẳng đồ thị này có  mặt </s> <s> dễ dàng thấy rằng công thức euler đúng trong trường hợp này </s> <s> ta định nghĩa độ dài của một mặt length of a face f kí hiệu ellf là số cạnh của đồ thị nằm trên biên của mặt f </s> <s> do mỗi cạnh nằm trên biên của tối đa hai mặt ta có từ observation  và công thức euler ta có m leq n qquad  </s> <s> do đồ thị là đơn mỗi mặt có ít nhất  cạnh </s> <s> do đó theo observation  d   f leq fracm </s> <s> áp dụng công thức euler ta có  leq n  m  fracm từ đó ta suy ra dpcm </s> <s> lemma  cho ta biết đồ thị phẳng là một đồ thị rất thưa </s> <s> do đó một cách kiểm tra đơn giản xem một đồ thị có thể là đồ thị phẳng hay không bằng cách kiểm tra xem số cạnh m có vượt quá n hay không </s> <s> một trong số đồ thị có nhiều cạnh như vậy là k </s> <s> do k có  đỉnh và  cạnh ta có cũng từ observation  và công thức euler ta có m leq n qquad  </s> <s> chứng minh lemma  tương tự như chứng minh lemma  mình coi đây là bài tập cho bạn đọc </s> <s> do k có  đỉnh  cạnh và mọi chu trình đều có  cạnh theo lemma  ta có một đa diện polyhedron được gọi là đều nếu các mặt là các đa giác đều và các đỉnh của đa diện đều có cùng bậc </s> <s> một khối plato platonic solid là một đa diện lồi và đều </s> <s> trong thực tế chúng ta chỉ có đúng  tứ diện đều tetrahedron hình lập phương hexahedron bát diện đều octahedron thập nhị diện đều dodecahedron và nhị thập diện đều icosahedron </s> <s> xem figure  </s> <s> </s> <s>  khối plato với số đỉnh mặt và cạnh </s> <s> hình vẽ được cắt từ </s> <s> tất cả các khối plato đều là đồ thị phẳng do đó nó cũng tuân theo công thức euler ở trên </s> <s> sử dụng công thức euler ta sẽ chứng minh chỉ có đúng  khối plato </s> <s> </s> <s> gọi p và q lần lượt là chiều dài mặt và bậc của đỉnh của khối plato </s> <s> do mỗi cạnh chỉ nằm trên đúng  mặt ta có pf  m qquad mboxand qquad qn  m qquad  thay phương trình  vào công thức euler ta được m/q  m  m/p   </s> <s> từ đó ta suy ra fracp  fracq mbox> frac qquad  chú ý pq geq  </s> <s> từ  ta suy ra minpq   và   leq maxpq leq  </s> <s> do đó tồn tại đúng  cặp pq in      tương ứng với  khối plato mô tả trong figure  </s> <s>     trackback link powered by and </s> <s> phương pháp tính tổng và tích </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  mình viết appendix này mục đích để hỗ trợ cho loạt bài về các giải thuật ngẫu nhiên randomized algorithms </s> <s> tính tổng và tích với mình luôn là bài toán đau đầu khi mới bắt đầu cho đến khi mình đọc chương  </s> <s>  </s> <s>  của knuth  </s> <s> do đó bài này mình tổng hợp ngắn gọn chương  </s> <s>  </s> <s>  của knuth theo cách hiểu của bản thân </s> <s> mình khuyến khích bạn đọc đọc bản gốc tiếng anh của knuth </s> <s> từ  </s> <s> tính tổng an  sumin sumj  in fracji qquad  biết rằng sumin fraci  hn qquad  trong đó hn là thứ n </s> <s> có lẽ nếu bạn nào đã từng gặp tổng này thì có thể sẽ biết được các bước tính an như sau beginarraylcl an    sumin sumk  ni frack     sumkn sumi  nk frack     sumknfracnkk     nsumknfrack  sumkn      nhn  n     nhn n endarray qquad   để thu được phương trình đầu tiên ta đổi biến bằng cách đặt k  j  i  </s> <s> do đó điều kiện j  i rightarrow n trở thành k   rightarrow ni </s> <s> các phương trình ở dòng thứ  và  thì ta chỉ việc sử dụng các phép tách và nhóm cơ bản </s> <s> khó nhất là làm sao để thu được phương trình thứ  đổi chỗ biến chạy i và k từ trong ra ngoài </s> <s> tất nhiên việc kiểm chứng không phải là khó lắm vì chỉ cần viết ra </s> <s> cái khó là hiểu được trên cơ sở nào mà ta có thể đổi chỗ như vậy để ta có thể áp dụng vào các tình huống tương tự </s> <s> bài này chúng ta sẽ đi tìm hiểu cơ sở đó </s> <s> phần này mình nhắc lại một số tổng cơ bản và cách chứng minh </s> <s> các tổng bpn dưới đây khá cổ điển nên mình không nhắc lại chứng minh nữa mà khuyến khích bạn đọc xem tại các liên kết đính kèm beginarraylcl bn    sumin i  fracnn  on bn    sumin i  fracnnn  on bn    sumin i  leftfracnnright  on  ldots   bpn    sumin ip  onp endarray qquad   tổng bn gọi là  tổng bn gọi là tổng  tổng bn được gọi là  tổng bpn được gọi là tổng faulhaber do công thức tổng quát của nó theo  được tìm ra bởi faulhaber năm  </s> <s> tổng bn còn có thể được khái quát hóa cho trường hợp cấp số cộng  </s> <s> một cấp số cộng aaldots an với công sai d sẽ có tổng apdn  a  a  ldots an  fracnaan qquad  dễ thấy nếu chọn a   và công sai d   thì apn chính là tổng bn </s> <s> chúng ta cũng đã biết tổng của một cấp số nhân  với công bội r cũng có thể tính được dưới đạng đóng closed form gpran  a  ar  ar  ldots  arn  afracrnr qquad  tổng gpran còn có thể được mở rộng hơn nữa để tìm tổng của tích của một cấp số cộng và một cấp số nhân  beginarraylcl pgpdran    a  adr  adr  ldots  andrn    fraca  andrnr  fracrdrnr endarray qquad   nếu bạn đọc đã từng đọc bài về  trong phần phân tích xây dựng heap từ một mảng ở cuối bài viết mình có sử dụng tổng có cả cách chứng minh pgpn </s> <s> chứng minh công thức  tương tự như cách chứng minh của mình với tổng pgpn và coi như bài tập cho bạn đọc </s> <s> mặc dù không có dạng đóng số đồng điều thứ n cũng có thể coi là một tổng cơ bản và đáng nhớ vì tổng này hay xuất hiện trong các phân tích thuật toán </s> <s> về mặt tiệm cận hn sim lnn </s> <s> do giới hạn chiều dài của bài viết mình xin dừng liệt kê các tổng cơ bản ở đây </s> <s> bạn đọc có thể tham khảo thêm các tổng cơ bản khác và phương pháp chứng minh trong các sách   </s> <s> tổng có thể không phải tất cả các số hạng thuộc dãy a aa ldots an thường được viết dưới dạng ngắn gọn sử dụng kí hiệu sigma như sau  sumriai qquad  trong đó ri là một của biến chạy i </s> <s> ví dụ a  a  ldots alfloor n/ rfloor là tổng các hạng có chỉ số chẵn có thể viết ngắn gọn thành dạng  với quan hệ của biến chạy i là ri  i là các số chẵn </s> <s> dạng ngắn gọn đó không chỉ dễ nhìn hơn mà còn cho phép chúng ta phát triển các để thao tác với nó </s> <s> leftsumriai rightleftsumsjbj right  sumrisumsj aibjqquad  trong đó ri và sj lần lượt là quan hệ của biến chạy i và j và hai quan hệ này với nhau </s> <s> ở đây mình nhấn mạnh từ </s> <s> thông thường trong các bài toán ta sẽ phải tính tổng bên về phải và sử dụng  đưa về vế trái để tính </s> <s> ví dụ tính tổng  cn  suminsumjn ij qquad  tổng cn nhìn có vẻ phức tạp nhưng thực rất đơn giản </s> <s> áp dụng  ta có thể đưa tổng cn về dạng beginarray l cn   sumin i sumjn j    fracnnfracnnn  on endarray </s> <s> trong đó phương trình cuối cùng ta thu được là nhờ tổng bn và bn </s> <s> sumriai  sumrjaj  sumrfiafi qquad  ở đây f </s> <s>  là một hàm tùy ý trên miền các số nguyên </s> <s> phép đổi biến đầu tiên của  chỉ đơn giản là đổi tên của biến </s> <s> ví dụ sumin i và sumjn j đều là tổng bn mặc dù ta dùng hai biến có tên khác nhau </s> <s> phép đổi biến thứ  thường hữu dụng hơn cả và cũng khó hiểu hơn một chút </s> <s> để hiểu hơn phép này bạn đọc nên dừng đọc tiếp và xem lại phép đổi biến k  ji trong ví dụ  để thu được phương trình đầu tiên trong  </s> <s> sumj  in fracji  sumk  ni frack chi tiết phép đổi biến trong  viết theo ngôn ngữ của hằng đẳng thức  là như sau ta đặt fj  j  i  </s> <s> ở đây rj  i   leq j leq n và aj  fracji </s> <s> do đó afj  fracfji  fracjii  fracj và rfj  i  leq ji leq n quan hệ này tương đương với rfj   leq j leq n </s> <s> áp dụng  ta sẽ thu được phép đổi biến ban đầu </s> <s> nếu bạn nào đã quen với tích phân thì có thể thấy phép đổi biến này giống như phép đổi biến của tích phân </s> <s> nếu ri và sj là hai quan hệ độc lập ta có sumri sumsj aij  sumsj sumri aij qquad  nếu ri là một quan hệ của i và sij là một quan hệ của j phụ thuộc vào i ta có sumri sumsij aij  sumsj sumrij aij qquad  trong đó i sj là quan hệ của j sao cho thỏa mãn cả hai quan hệ ri và sij và ii rij là quan hệ của i sao cho cả ri và sij đều thỏa mãn </s> <s> phần in đậm chính là sự khác nhau cơ bản giữa sj và rij </s> <s> để hiểu hơn về hằng đẳng thức này ta sẽ kiểm tra nó với  </s> <s> trong  ta thực hiện đổi thứ tự như sau sumin sumjni fracj  sumjn suminjfracj qquad  ở đây ri  leq i leq n và sij   leq j leq ni </s> <s> ta sẽ tìm sj trước </s> <s> sj sẽ là quan hệ của j sao cho tồn tại i để  leq i leq n và  leq j leq ni </s> <s> trước hết ta thấy nếu j <  thì không tồn tại i để bất đẳng thức  leq j leq ni đúng </s> <s> với lí do tương tự thì j leq n </s> <s> nếu ta cố định giá trị j bất kì trong đoạn n thì từ hai bất đẳng thức  leq i leq n và j leq ni ta suy ra  leq i leq nj </s> <s> vì j leq n đoạn nj luôn không rỗng do đó luôn tồn tại i thỏa mãn  leq i leq nj </s> <s> như vậy sj   leq j leq n </s> <s> tìm rij thường sẽ dễ hơn </s> <s> theo định nghĩa rij là quan hệ của i sao cho  leq i leq n và  leq j leq ni </s> <s> ta suy ra  leq i leq nj </s> <s> do đó rij  leq i leq nj </s> <s> áp dụng  ta sẽ suy ra  </s> <s> nếu ri và sj là hai quan hệ độc lập ta có sumriai  sumsi ai  sumri mbox or  siai  sumri mbox and  si ai qquad  ví dụ summ ai  sumi  mn ai  suminai  sumimm ai  suminai  am  am chứng minh sumin sumj  i aiaj  fracleft leftsumin airight  leftsumin airightright qquad  đặt s  sumin sumj  i aiaj áp dụng phép thay đổi thứ tự phụ thuộc ta được beginarray ls   sumjn sumijn aiaj    sumin sumjin aiaj endarrayở phương trình thứ hai ta áp dụng phép đổi biến để đổi tên i và j </s> <s> đặt s  sumin sum j in aiaj ta có beginarray ls   s  s    sumin left sumj  i aiaj  sumj  in aiaj right   sumin left sumj  n aiaj  aiai right  sumin sumj  n aiaj  sumin ai   leftsumin airightleftsumjn ajright  sumin ai   leftsumin airight  sumin ai endarraytừ đó ta suy ra dpcm </s> <s>  </s> <s> e </s> <s> knuth </s> <s> </s> <s> chapter  </s> <s>  </s> <s>  </s> <s> addison wesley longman publishing co </s> <s>  inc </s> <s>  redwood city ca usa </s> <s>  </s> <s> </s> <s>  p </s> <s> flajolet and r </s> <s> sedgewick </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  p </s> <s> marko h </s> <s> s </s> <s> wilf and d </s> <s> zeilberger </s> <s> </s> <s> ak peters ltd </s> <s> wellesley </s> <s> ma   </s> <s> </s> <s>  r </s> <s> p </s> <s> stanley </s> <s> </s> <s> wadsworth publ </s> <s> co </s> <s>  belmont ca usa </s> <s>  </s> <s>   trackback link powered by and </s> <s> heap nhị phân và thuật toán heapsort  binary heap and heapsort </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này mình sẽ giới thiệu với các bạn cấu trúc dữ liệu heap nhị phân </s> <s> đây là một cấu trúc dữ liệu đơn giản dễ thực thi you will see that và hiệu quả </s> <s> điểm yếu chính của cấu trúc này hầu hết các thao tác hỗ trợ có thời gian </s> <s> heap thường được dùng để thực thi priority queue </s> <s> nếu các bạn tìm kiếm  bạn sẽ thấy một bảng so sánh các loại heap khác nhau </s> <s> mỗi loại heap đều có một đặc điểm riêng và lĩnh vực ứng dụng cụ thể </s> <s> một số loại heap như fibonacci heap rankpairing heap brodal heap etc </s> <s>  có thời gian tiệm cận cho hầu hết các thao tác </s> <s> tuy nhiên điểm yếu của chúng là thực thi rất phức tạp tốn bộ nhớ do phải lưu trữ các con trỏ hỗ trơ và mặc dù tiệm cận là hay  hằng số ẩn sau kí hiệu là khá lớn </s> <s> nếu chúng ta chấp nhận các thao tác trong thời gian  heap nhị phân là một cấu trúc hoàn hảo </s> <s> ngữ cảnh ứng dụng của heap nhị phân thường có dạng như sau ta có một tập các phần tử trong đó phần tử thứ có giá trị </s> <s> thao tác mà chúng ta quan tâm nhất đối với tập này là tìm và lấy ra một phần tử có giá trị nhỏ nhất hoặc lớn nhất của tập hợp </s> <s> ngoài ra chúng ta cũng muốn hỗ trợ các thao tác để thay đổi tập hợp đó </s> <s> danh sách một số các thao tác mà chúng ta thường quan tâm như sauta sẽ sử dụng cấu trúc minheap để thực hiện các thao tác trên trong thời gian  tại thời điểm này mình vẫn chưa định nghĩa heap nhị phân trong như thế nào cả </s> <s> mình sẽ định nghĩa ở dưới </s> <s> trong phần ứng dụng dưới đây bạn đọc chỉ cần quan tâm đến các thao tác và thời gian thực hiện mỗi thao tác mà cấu trúc này hỗ trợ mà chưa cần quan tâm đến cấu trúc heap sẽ được tổ chức như thế nào </s> <s> ứng dụng nổi bật nhất của cấu trúc heap nhị phân là trong sắp xếp mà ta gọi là thuật toán heapsort </s> <s> giả sử ta có một mảng các số nguyên mà ta muốn sắp xếp nó theo chiều tăng dần của giá trị </s> <s> ta sẽ xây dựng một minheap nhị phân cho mảng này </s> <s> hỗ trợ các thao tác liệt kê ở trên với thời gian trong theorem  </s> <s> để sắp xếp mảng ta làm theo các bước saugiả mã của heapsort </s> <s> code c do mỗi thao tác mất thời gian  tổng thời gian để sắp xếp mảng là </s> <s> một ứng dụng khác của minheap là trong thuật toán dijsktra tìm đường đi ngắn nhất từ một đỉnh trong đồ thị có trọng số không âm </s> <s> mình sẽ blog về thuật toán này sau </s> <s> cấu trúc biểu diễn đơn giản nhất là danh sách liên kết </s> <s> nếu sử dụng cấu trúc đó các thao tác  mất nhưng  có thể thực hiện </s> <s> nếu sửa đổi một chút bằng cách luôn lưu phần tử nhỏ nhất của tập hợp ở đầu danh sách và luôn chèn phần tử mới vào cuối danh sách thì ta có thể thực hiện trong còn vẫn là do khi ta xóa phần tử nhỏ nhất khỏi danh sách ta phải tìm phần tử nhỏ nhất trong số các phần tử còn lại và đưa nó về đầu danh sách </s> <s> cách khác là dùng mảng tuy nhiên cách này cũng không ổn vì cho dù có làm thế nào thì một trong số các thao tác trên cũng là </s> <s> nếu chúng ta muốn các thao tác trong trường hợp tồi nhất là  ta phải nghĩ ngay đến cấu trúc cây </s> <s> ở đây mình sẽ dùng cấu trúc cây nhị phân do đó gọi là heap nhị phân </s> <s> trước hết để đảm bảo  cây của chúng ta phải cân bằng do đó độ sâu của cây là  </s> <s> ta sẽ lưu phần tử nhỏ nhất tại gốc của cây do đó có thời gian </s> <s> cũng từ đó ta suy ra khóa của nút gốc nhỏ hơn khóa của hai nút con của nó </s> <s> ta sẽ đảm bảo tính chất này cho mọi nút của cây heap </s> <s> như vậy hai tính chất cần thiết của cây heap làví du tập các giá trị có cấu trúc heap biểu diễn minh họa trong hình dưới đâytừ tính chất heap bằng quy nạp ta có thể chứng minh được </s> <s> gọi depth của một nút là số cạnh trên đường đi từ nút gốc đến nút đó </s> <s> gọi là số cạnh đi từ gốc đến một nút lá tại mức cao nhất của cây đó </s> <s> từ tính cân bằng mạnh ta suy ra </s> <s> mặc dù ta nói nhưng thực ra ta có thể biểu diễn cây đó bằng một mảng </s> <s> ta sẽ biểu diễn các nút của cây heap như sauví dụ mảng tương ứng với cây heap ở hình trên được minh họa trong hình dưới đây </s> <s> các mũi tên màu đỏ gạch là các mũi tên nối từ nút cha tới một nút con </s> <s> trong thực tế cài đặt nếu số lượng phần tử chèn vào vượt quá kích thước của mảng ta phải cấp phát lại bộ nhớ cho mảng </s> <s> chiến lược cấp phát bộ nhớ có thể áp dụng là gấp đôi kích thước của mảng mỗi lần ta phải cấp phát bộ nhớ giống trong java </s> <s> trong trường hợp chúng ta biết được kích thước tối đa của mảng trong mọi thời điểm thì bài toán sẽ đơn giản hơn nhiều </s> <s> để chèn một khóa vào heap ta sẽ tìm của cây là nút lá cuối cùng theo thứ tự từ trái sang phải </s> <s> gọi nút là đó là </s> <s> để đảm bảo tính cân bằng mạnh ta sẽ chèn vào nút anh em sibling gần nhất bên phải của </s> <s> nếu cây nhị phân là cân bằng ta sẽ chèn vào mức tiếp theo ngoài cùng bên trái </s> <s> thao tác này được minh họa trong hình a và b của hình dưới đây </s> <s> vấn đề còn lại là đảm bảo tính chất heap </s> <s> nếu nút mới chèn vào có khóa nhỏ hơn nút cha nó ta phải thay thế chỗ của nó với cha nó </s> <s> sau khi đổi chỗ khóa của nút này vẫn có thể nhỏ hơn khóa của nút cha mới </s> <s> do đó ta tiếp tục gọi đệ quy cho đến khi nào khóa của nó nhỏ hơn khóa của nút cha mới thì dừng lại </s> <s> ta gọi thủ tục đẩy một nút lên là thao tác upheapify </s> <s> thao tác đó được minh họa trong hình c d e của hình dưới đâyvới biểu diễn mảng của cây chính là và do đó anh em gần nhất bên phải của nó là </s> <s> giả mã </s> <s> code c thủ tục vun đống ngược lên trên có thời gian vì theo fact  cây heap có độ sâu </s> <s> do đó ta có thể chèn một nút vào trong heap trong thời gian </s> <s> khi giảm giá trị khóa của một nút mà ta gọi là  giá trị mới của có thể nhỏ hơn giá trị khóa của nút cha của nó tại sao ta không cần quan tâm đến các nút con của nó </s> <s> do đó ta sẽ sử dụng thủ tục vun đống ngược lên trên upheapify để đảm bảo tính cân bằng </s> <s> thao tác này mất thời gian do chiều cao của cây là </s> <s> hình minh họa </s> <s> giả mã như sau </s> <s> code cthủ tục này phức tạp hơn cả vì ta cần phải xóa phần tử nhỏ nhất ra khỏi heap và cùng một lúc đảm bảo các tính chất của heap </s> <s> chú ý phần tử nhỏ nhất là gốc của cây heap </s> <s> do đó để đảm bảo tính cân bằng mạnh đầu tiên ta sẽ đưa nút lá cuối cùng lên làm gốc thế chỗ cho nút có khóa nhỏ nhất </s> <s> do nút gốc mới này có giá trị có thể lớn hơn nút con của nó ta sẽ đổi chỗ cho của nó </s> <s> sau đó tiếp tục gọi đệ quy vì sau khi đổi chỗ khóa của nó có thể vẫn lớn hơn khóa của các nút con mới </s> <s> ta gọi thủ tục này là downheapify </s> <s> do độ cao của cây heap là  thủ tục này mất thời gian </s> <s> thao tác đó được minh họa trong hình dưới đây </s> <s> giả mã </s> <s> code cgiả sử ta có đầu vào là một mảng  ta muốn xây dựng heap với khóa là các phần tử của mảng </s> <s> ta có thể xây dựng bằng cách bắt đầu từ một heap rỗng và lần lượt chèn các phần tử vào heap </s> <s> mỗi lần chèn ta mất thời gian  do đó ta có thể xây dựng heap trong thời gian </s> <s> tuy nhiên ta có thể xây dựng heap trong thời gian như sauthao tác đó được minh họa trong hình sau </s> <s> các nút được đánh dấu là các nút ta sẽ thực hiện downheapify </s> <s> </s> <s> giả mã code c ta có các nhận xét saudo đó tổng thời gian của thuật toán là đặt  sử dụng của đẳng thức theo và thay thế  ta suy ra </s> <s> do đó ta có cấu trúc heap nhị phân không bắt buộc quan hệ giữ con trái và con phải của một nút có nghĩa là con trái có thể lớn hơn con phải và ngược lại </s> <s> do đó ta có thể tích hợp thêm quan hệ giữa con phải và con trái </s> <s> cấu trúc sử dụng ý tưởng này chính là mà mình đã viết ở bài trước </s> <s> code đầy đủ của bài viết </s> <s> </s> <s>  binary heap on wikipedia  accessed // </s> <s>     trackback link on mình thắc mắc chỗ decreasekey </s> <s> giả sử dãy ban đầu của mình là a </s> <s> </s> <s> n </s> <s> sau đó mình xây dựng min heap h </s> <s> </s> <s> n từ mảng a </s> <s> bây giờ mình thay đổi giá trị của phần tử thứ i trong a thì làm cho heap nó thay đổi như thế nào </s> <s> ví dụ a      > h      </s> <s> khi này mình thay đổi a   </s> <s> > heap sẽ thành h      chưa hiệu chỉnh </s> <s> hiệu chỉnh thành > h      on hi </s> <s> mình không hiểu ví dụ của bạn lắm </s> <s> tại sao thay đổi phần tử a   lại thay đổi được toàn bộ heap như ví dụ của bạn về cơ bản bạn muốn thay đổi một khóa </s> <s> có thể hiểu là bạn muốn tăng hoặc giảm giá trị của khóa đó </s> <s> giảm giá trị khóa và duy trì heap sau khi giảm mình đã mô tả trong phần decreasekey </s> <s> nếu bạn muốn tăng giá trị của một khóa làm tương tự nhưng bạn sẽ gọi downheapify thay vì upheapify </s> <s> hùng on về thay đổi giá trị của heap mình đã hiểu </s> <s> </s> <s>  nhưng giả sử ban đầu mình có mảng a </s> <s> </s> <s>  sau đó mình xây dựng heap từ mảng a đó > mảng a có n phần tử thì mảng heap cũng có n phần tử thôi </s> <s>  bây giờ bài toán thay đổi giá trị của phần tử trong mảng a điều đó cũng có nghĩa mình phải cho heap phải thay đổi tương ứng thì mình sẽ code để heap thay đổi ntn </s> <s>  ý bạn là thay đổi key trên heap nhưng thay đổi a   chẳng hạn thì lúc này a ở chỗ nào trong heap để mà thay đổi </s> <s> on trong trường hợp này có lẽ bạn cần thêm một mảng nữa ví dụ pos </s> <s> </s> <s> </s> <s> n để xác định xem phần tử ai ở vị trí nào trong heap </s> <s> ví dụ pos   nghĩa là a ở vị trí thứ  trong mảng heap </s> <s> khi thực hiện các thao tác của heap ngoài các khung cơ bản như trên thì bạn cần phải cập nhật mảng post </s> <s> hùngpowered by and </s> <s> đường đi ngắn nhất giữa mọi cặp đỉnh trong đồ thị thưa  johnsons algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  chúng ta đã tìm hiểu thuật toán floydwarshall tìm đường đi ngắn nhất giữa mọi cặp đỉnh trong thời gian </s> <s> thuật toán này áp dụng được cho cả trường hợp đồ thị và không có chu trình âm </s> <s> cho đến nay vẫn chưa có thuật toán nào thực sự nhanh hơn xem lại phần remark cuối cùng của bài  </s> <s> với đồ thị  chúng ta cũng đã biết rằng áp dụng thuật toán dijkstra với fibonacci heap lần ta sẽ thu được thuật toán </s> <s> với đồ thị thưa  thuật toán này rõ ràng nhanh hơn một cách đáng kể </s> <s> ở đây mình nhấn mạnh đồ thị không có trọng số âm thì ta mới áp dụng dijkstra được </s> <s> vấn đề của bài này là đồ thị có trọng số âm năm  johnson  đưa ra câu một câu trả lời cho câu hỏi trên cũng trong bài báo  johson giới thiệu cấu trúc heap phân để thực thi dijkstra mà ta đã tìm hiểu ở bài </s> <s> ý tưởng của thuật toán johnson thay đổi trọng số của các cung của để thu được đồ thị sao cho i trọng số cung của đồ thị không âm do đó ta có thể áp dụng dijkstra cho để tìm đường đi ngắn nhất giữa mọi cặp đỉnh trong và ii đường đi ngắn nhất giữa hai đỉnh bất kì của cũng chính là đường đi ngắn nhất giữa hai đỉnh tương ứng của </s> <s> ta gọi thủ tục để thực hiện ý tưởng trên là một phép reduction từ về </s> <s> khái niệm quy dẫn là khái niệm mà ta sẽ rất hay gặp trong lý thuyết độ phức tạp của thuật toán </s> <s> chú ý là hai đồ thị và có cùng tập đỉnh và tập các cung trọng số của các cung có thể khác nhau </s> <s> để phát biểu thuật toán một cách tỉ mỉ hơn ta cần thêm một số định nghĩa và khái niệm </s> <s> với mỗi đường đi giữa hai đỉnh bất kì trong đồ thị ta định nghĩa của đường đi kí hiệu  bằng trọng số của đường đi đó trong trừ đi trọng số của cùng đường đi trong </s> <s> một cách hình thức trong đó kí hiệu hoặc  là trọng số của đường đi trong  hoặc  </s> <s> một cách đơn giản nhất để thực hiện i đó là cộng trọng số của tất cả các cung của với cùng một trọng số đủ lớn để thu được mọi cung đều không âm </s> <s> sau đó từ đường đi ngắn nhất giữa hai đỉnh trên đồ thị  với mỗi cung trên đường đi ta trừ đơn vị trọng số để thu được đường đi ngắn nhất trong </s> <s> cách làm trên thoạt đầu nghe có vẻ đúng nhưng thực tế là sai tại sao </s> <s> tuy nhiên tư tưởng của nó vẫn được johnson áp dụng trong thuật toán của mình </s> <s> thay vì cộng tất cả các cung với cùng một trọng số johnson cộng với mỗi cung một trọng số phụ thuộc vào chính cung này </s> <s> cụ thể trọng số sẽ được cộng với một số sao cho trọng số mới thu được thỏa mãn để đảm bảo đường đi ngắn nhất giữa bất kì hai đỉnh nào trong cũng là đường đi ngắn nhất giữa và trong và ngược lại ta phải đảm bảo nếu và là hai đường đi giữa và thỏa mãn thì </s> <s> như vậy quan hệ ngắn hơn giữa hai đường đi bất kì với cùng điểm đầu điểm cuối phải được bảo toàn khi ta quy dẫn về </s> <s> johnson đảm bảo điều này bằng cách chọn sao cho mọi đường đi từ tới đều có cùng độ lệch </s> <s> với mọi là hai đường đi khác nhau bất kì từ tới và là hàm chỉ phụ thuộc vào </s> <s> ta sẽ chứng minh </s> <s> giả sử và là hai đường đi bất kì giữa và thỏa mãn </s> <s> do  ta có </s> <s> </s> <s> </s> <s> theo định nghĩa và từ đó ta suy ra  đó là dpcm </s> <s> </s> <s> </s> <s> </s> <s> bài toán của chúng ta bây giờ là đảm bảođộ lệch của một đường đi chỉ phụ thuộc vào điểm đầu và điểm cuối mà không phụ thuộc vào chính đường đi đó </s> <s> johson chọn với là potential của đỉnh ta sẽ mô tả chỉ tiết sau </s> <s> ta sẽ chứng minh với cách chọn như vậy tính bất biến của độ lệch sẽ được thỏa mãn trong đó là hai đỉnh bất kì thuộc đồ thị </s> <s> </s> <s> gọi là một đường đi từ tới </s> <s> theo định nghĩa ta có </s> <s> cũng theo định nghĩa </s> <s> từ đó ta suy  hay không phụ thuộc vào đường đi </s> <s> đó là dpcm </s> <s> ta phải chọn hàm thế năng sao cho bất đằng thức thỏa mãn với mọi cung </s> <s> do  bất đằng thức tương đường với bất đẳng thức này gợi lại cho ta bất đẳng thức tam giác nếu là khoảng cách ngắn nhất từ nào đó tới thì ta có do đó nếu chọn với mọi thì bất đằng thức sẽ thỏa mãn với mọi cung </s> <s> vấn đề còn lại là chọn như thế nào ta phải chọn sao cho đường đi ngắn nhất từ tới mọi đỉnh khác đều tồn tại i </s> <s> e với mọi </s> <s> johnson làm như sau thêm vào một đỉnh và với mỗi đỉnh  thêm cung với trọng số </s> <s> phép thêm đỉnh này sẽ đảm bảo  nếu không có chu trình âm thì cũng không có chu trình âm và ngược lại chứng minh coi như bài tập cho bạn đọc </s> <s> </s> <s> </s> <s> sau khi đã thêm  ta sẽ áp dụng để tìm khoảng đi ngắn nhất trong thời gian </s> <s> tổng kết lại thảo luận ở trên thuật toán johson có  bướcgiả mã code c ta sẽ phân tích từng bước trong mô tả ở trên </s> <s> bước  mất thời gian </s> <s> bước  mất thời gian xem lại bài bellmanford </s> <s> bước  mất thời gian </s> <s> bước  áp dụng lần dijkstra cho đồ thị  bước này như đã chỉ ra ở trên mất thời gian </s> <s> do đó tổng thời gian của thuật toán là </s> <s> ví dụhình a là đồ thị có hướng mà ta muốn tìm đường đi ngắn nhất </s> <s> hình b là đồ thị thu được sau khi ta thêm và các cung gạch và có màu đó có hướng từ tới các đỉnh khác với trọng số  </s> <s> hình c là cây đường đi ngắn nhất gốc tại sau khi áp dụng thuật toán bellmanford </s> <s> các số trong ô vuông chính là khoảng cách từ tới đỉnh tương ứng </s> <s> hình d là đồ thị thu được sau khi hiệu chỉnh trọng số của theo công thức </s> <s> code đầy đủ </s> <s>  johnson donald b </s> <s> journal of the acm jacm  </s> <s>    </s> <s> </s> <s>  uri zwick </s> <s>  lecture notes for analysis of algorithms  </s> <s>      trackback link powered by and </s> <s> quy hoạch động  dynamic programming iii </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta xem xét  bài toán khác nhap áp dụng phương pháp quy hoạch động </s> <s> </s> <s> cho hai chuỗi string và có chiều dài lần lượt là và </s> <s> khoảng cách edit distanceed hay còn gọi là khoảng cách  là số nhỏ nhất các thao tác chèn một kí tự letter insertion xóa kí tự letter deletion và đổi kí tự letter substitution để biến chuỗi này thành chuỗi kia </s> <s> ví dụ khoảng cách giữa food và money tối đa là  vì ood mod mond mone money </s> <s> trong bài này chúng ta sẽ thiết kế thuật toán với thời gian cho bài toán này dựa trên quy hoạch động </s> <s> điều thú vị là thuật toán quy hoạch động cho bài toán này là về mặt thời gian theo nghĩa nếu  không tồn tại thuật toán chạy với thời gian ít hơn với mọi trừ khi giả thiết thời gian lũy thừa  là sai  </s> <s> để nhận biết bài toán con ta hãy suy nghĩ câu hỏi sau liệu ta có thể tính khoảng cách ed giữa hai chuỗi con và nếu ta biết khoảng cách giữa các chuỗi và với và  trong đó ít nhất một trong hai hoặc </s> <s> trả lời được câu hỏi như vậy có nghĩa là bạn có thể tính được ed giữa và dựa vào các bài toán con nhỏ hơn </s> <s> gọi là khoảng cách ed giữa hai dãy con và </s> <s> nếu ta có hai chuỗi con và  ta có ba lựa chọn để áp dụng ba thao tác với trường hợp một trong hai số hoặc  khoảng cách tương ứng là hoặc </s> <s> định nghĩa ta có giả mã sau </s> <s> code của thuật toán bằng c </s> <s> code đầy đủ được cho ở cuối bài </s> <s> in ra các chuỗi trung gian trong quá trình chuyển thành như ở trong ví dụ food  money bằng cách truy vết thuật toán có thể tham khảo thêm ở  </s> <s> thời gian tính của thuật toán bằng thời gian cần thiết để cập nhật mảng </s> <s> mỗi phần tử của mảng mất thời gian để cập nhật </s> <s> do đó thời gian tính của thuật toán là </s> <s> bộ nhớ của thuật toán cũng là để lưu bảng </s> <s> nếu để ý kĩ ta sẽ thấy trong thuật toán  phần tử mảng chỉ phụ thuộc và  phần tử liền kề trong bảng </s> <s> như vậy ta chỉ cần lưu hàng của bảng  phần tử liền kề bên trái left và liền kề đường chéo dag của </s> <s> do đó ta giảm bộ nhớ xuống còn </s> <s> </s> <s> </s> <s> giả mã như sau </s> <s> vì và có vai trò như nhau thay đổi một chút ta có thể giảm bộ nhớ xuống còn </s> <s> code của giả mã bằng c </s> <s> trong bài  chúng ta đã phát triển thuật toán quay lui với thời gian cho bài toán subset sum </s> <s> ý tưởng đệ quy là xét một phần tử  tồn tại một dãy con có tổng bằng nếu một trong hai điều kiện sau là đúngnhư vậy ta có công thức đệ quy như vậy nếu ta đặt nếu tồn tại một dãy con của có tổng bằng  ta có và đều là các bài toán con </s> <s> ta có giải thuật quy hoạc động sau </s> <s> code của giả mã bằng c thời gian tính toán của thuật toán có thể được quy về thời gian cập nhật các phần tử của mảng </s> <s> vì mỗi phần tử của mảng được cập nhật trong thời gian  thời gian tính toán của thuật toán là </s> <s> dễ thấy thuật toán sử dụng bộ nhớ để lưu mảng </s> <s> code and  </s> <s> </s> <s>  jeff erickson  uiuc </s> <s> </s> <s> backurs arturs and piotr indyk </s> <s> edit distance cannot be computed in strongly subquadratic time unless seth is false </s> <s>   </s> <s> </s> <s>  sanjoy dasgupta christos papadimitriou and umesh vazirani </s> <s> algorithms </s> <s> st edition </s> <s> mcgrawhill higher education  </s> <s>    trackback link powered by and </s> <s> lý thuyết phổ đồ thị iiispectral graph theory iii </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ nghiên cứu phổ của một số đồ thị đặc biệt đó làma trận kề của đồ thị đầy đủ có tất cả các phần tử là  ngoại trừ các phần tử trên đường chéo chính </s> <s> do đó có thể viết và ma trận bậc có mọi giá trị trên đường chéo là  do đó </s> <s> từ đó suy ra ma trận laplace của đồ thị dầy đủ có dạng gọi là một trị riêng của và là vector riêng tương ứng </s> <s> theo bài  là một vector riêng ứng với trị riêng  ta có </s> <s> sử dụng thương rayleigh ta có từ phương trình trên ta suy ra và </s> <s> ta nói trị riêng có số bội multiplicity vì trị riêng đều bắng  </s> <s> </s> <s> việc tìm vector riêng của không quá khó và ta coi như bài tập bài  dưới đây </s> <s> với mỗi đỉnh của đồ thị gọi là vector có phần tử thứ là  còn các phần tử khác đều bằng  </s> <s> để đơn giản ta sẽ giả sử đỉnh  của đồ thị là đỉnh có bậc  còn các đỉnh khác đều có bậc  </s> <s> khi đó ma trận laplace tương ứng có phần tử đầu tiên của hàng đầu tiên là  còn các phần tử khác của hàng này là </s> <s> tương tự phần tử đầu tiên của cột đầu tiên là  còn các phần tử khác của cột này là </s> <s> với mội hàng tương ứng với đỉnh  phần tử đầu tiên của hàng này là và phần tử tương ứng với cột của hàng này là </s> <s> gọi là hai đỉnh bất kì khác  của </s> <s> thử nhân với ta thấy vector thu được có phần tử đầu tiên là và phần tử thứ là </s> <s> tương tự như vậy với có phần tử đầu tiên là và phần tử thứ là </s> <s> do đó nói cách khác là vector riêng của ứng với trị riêng </s> <s> có bao nhiêu trị riêng như vây câu trả lời là và vecotor riêng tương ứng là </s> <s> tại sao không tính  câu trả lời để dành cho các bạn </s> <s> trong bài tập  các bạn sẽ phải chứng minh trị riêng cuối cùng lớn nhất của là </s> <s> để hiểu rõ hơn về đồ thị siêu khối  chúng ta sẽ tìm hiểu thao tác lấy tích đềcác cartesian product của đồ thị </s> <s> nếu nếu định nghĩa tích đềcác hơi rối rắm chút và để hình dung ta thử xét một vài trường hợp đơn giản tìm tích đềcác nếu chỉ có  đỉnh và không có cạnh </s> <s> dễ thấy tích đề các là đồ thị thu được bằng cách thêm một nhãn mới vào các đỉnh của xem hình minh họa dưới đây </s> <s> tìm tích đềcác nếu có  đỉnh và không có cạnh </s> <s> ta sẽ thấy tích đề các là đồ thị thu được bằng cách lấy  copy của và thêm một nhãn vào mỗi đỉnh của một copy xem hình minh họa dưới đây </s> <s> tìm tích đềcác nếu có  đỉnh và  cạnh </s> <s> kết quả rất khó mô tả bằng lời </s> <s> xem hình minh họa dưới đây </s> <s> </s> <s> quay trở lại với đồ thị siêu khối </s> <s> ta thấysuy diễn rộng ra thì ta sẽ có phương trình cho phép chúng ta nghiên cứu phổ của thông qua phép lấy tích đềcác </s> <s> giả sử ta đã biết các trị riêng vector riêng của hai đồ thị và  liệu có một quan hệ nào giữa trị riêng và vector riêng của với trị riêng vector riêng của và không câu trả lời là có và hơn nữa quan hệ đó khá đơn giản </s> <s> gọi và lần lượt là trị riêng bất kì của và với hai vector riêng tương ứng </s> <s> ta hoàn toàn có thể giả sử là các vector đơn vị </s> <s> xét vector tích đềcác với số chiều được định nghĩa như sau ta sẽ chứng minh là một vector riêng của với trị riêng </s> <s> để chứng minh điều này ta sẽ sử dụng dạng toàn phương của ma trận laplace và thương rayleigh </s> <s> trước hết ta có </s> <s> chứng minh coi như bài tập bài tập  dưới đây cho bạn đọc </s> <s> chú ý ở đây là các vector đơn vị </s> <s> </s> <s> theo claim  trị riêng tương ứng với chính là  ở đây là ma trận laplace của </s> <s> sử dụng dạng toàn phương ta có </s> <s> ta sẽ giải thích lần lượt từng phép biến đổi trong </s> <s> phương trình đầu tiên sử dụng định nghĩa dạng toàn phương của ma trận laplace xem lại  </s> <s> phương trình thứ  sử dụng định nghĩa của tích đềcác </s> <s> phương trình thứ  sử dụng định nghĩa của vector </s> <s> phương trình thứ  sử dụng định nghĩa thương rayleigh cho và và dạng toàn phương của laplace cho  </s> <s> phương trình cuối sử dụng tính chất là các vector đơn vị </s> <s> quay lại đồ thị siêu khối </s> <s> sử dụng theorem  ta chỉ cần xét trị riêng và vector riêng của đồ thị có  đỉnh và đúng  cạnh </s> <s> trong bài tập  ta sẽ chứng minh có  trị riêng là và  do đó trị riêng nhỏ thứ  của sẽ là  i </s> <s> e </s> <s> sử dụng  ta suy ra </s> <s> hay nói cách khác với mọi tập đỉnh con có kích thước không quá một nửa tập đỉnh của đồ thị siêu khối  số cạnh biên  luôn lớn hơn hoặc bằng số đỉnh của </s> <s> trong bài tập  và  dưới đây chúng ta sẽ đi tìm trị riêng và vector riêng của </s> <s> </s> <s>  daniel speilman </s> <s> spectral graph theory notes fall  </s> <s> tìm các vector riêng của đồ thị đầy đủ </s> <s> </s> <s> chứng minh rằng trị riêng lớn nhất của là và tìm vector riêng tương ứng </s> <s> </s> <s> chứng minh claim  </s> <s> </s> <s> tìm trị riêng và vector riêng của </s> <s> </s> <s> chứng minh rằng là trị riêng của có số bội </s> <s> </s> <s> cho trước một vector có chiều và các phần tử chỉ thuộc  i </s> <s> e </s> <s> coi mỗi đỉnh của tương ứng với một vector trong và hai đỉnh có một cạnh nếu  vector tương ứng khác nhau đúng  vị trí mã gray </s> <s> chứng minh rằng vector được định nghĩa như sau là một vector riêng của </s> <s> gọi là vector riêng đơn vị tương ứng với </s> <s> sử dụng dạng toàn phương và thương rayleigh ta có từ đó suy ra khi và chỉ khi </s> <s> nếu là liên thông ta suy ra </s> <s> do là vector riêng của  ta suy ra </s> <s> từ đó suy ra  trái với giả thiết là vector đơn vị </s> <s> do đó phải có ít nhất  thành phần liên thông </s> <s> </s> <s> tư tưởng chứng minh giống bài  và kết hợp với quy nạp </s> <s>  trackback link powered by and </s> <s> máy trạng thái hữu hạn và thuật toán kmp </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  các máy trạng thái hữu hạn fsm thông thường được định nghĩa khá phức tạp tùy thuộc vào ngữ cảnh ứng dụng </s> <s> định nghĩa ở đây mình gắn luôn với bài toán tìm kiếm xâu do đó có đôi chút khác biệt so với các định nghĩa thông thường </s> <s> nhắc lại trong bài toán tìm kiếm xâu ta có một văn bản text biểu diễn bới xâu và một mẫu pattern biểu diễn bởi xâu </s> <s> ta muốn tìm vị trí xâu xuất hiện trong văn bản </s> <s> chi tiết các bạn xem thêm ở các bài viết khác trong cùng mục tìm kiếm xâu </s> <s> máy trạng thái hữu hạn biểu diễn xâu mẫu là một có nút sắp xếp trên một đường thẳng và được đánh số từ đến </s> <s> giữa nút thứ và   có một cạnh có hướng được gọi là success edge </s> <s> cạnh khớp này có nhãn là kí tự của xâu </s> <s> mỗi nút  ngoại trừ nút và nút thứ  còn có một cạnh hướng ra khác được gọi là </s> <s> nút có cạnh không khớp tới nút </s> <s> các cạnh không khớp khác nối nút thứ với một nút thứ nào đó với </s> <s> ví dụ về một máy trạng thái hữu hạn với được biểu diễn bởi hình dưới đây </s> <s> các cạnh có nhãn màu xanh là các cạnh khớp </s> <s> các cạnh màu đỏ không có nhãn là các cạnh không khớp </s> <s> </s> <s> </s> <s> mình sẽ giải thích tại sao các cạnh màu đỏ lại xuất hiện trong hình trên theo thứ tự như vậy ngay sau đây </s> <s> tạm thời bây giờ chưa cần chú ý đến nó vội </s> <s> bạn đọc hãy quan sát kĩ hình vẽ và tự đối chiếu với các khái niệm trong định nghĩa máy trạng thái hữu hạn </s> <s> ta nhận thấy nhãn của các cạnh màu xanh khi gộp lại chính là xâu </s> <s> hơn nữa nếu ta gộp nhãn của các cạnh từ nút tới nút thứ thì ta thu được tiền tố của </s> <s> nếu quan sát kĩ hơn thì ta có thể thấy rằng nút có một cạnh không khớp tới nút  khi và chỉ khi là số lớn nhất nhỏ hớn sao cho là hậu tố của </s> <s> ví dụ nhìn vào hình trên ta thấy nút có một cạnh không khớp tới nút vì là hậu tố của </s> <s> bạn đọc nên dành thời gian để kiểm tra luật trên với các nút khác </s> <s> bây giờ ta sẽ biến luật cạnh không khớp trên thành giải thuật để xác định các cạnh không khớp </s> <s> hiển nhiên với mỗi  ta chỉ cần duyệt từ cho đến khi tìm được thỏa mãn luật cạnh không khớp </s> <s> như vậy ta có thể xây dựng cạnh không khớp cho nút trong thời gian  do đó tuy nhiên ta có thể sử dụng để xây dựng cạnh không khớp nhanh hơn </s> <s> gọi là mảng trong đó nếu có một cạnh không khớp từ nút tới nút  <  </s> <s> ta có </s> <s> giả sử ta đã tính được </s> <s> làm sao ta có thể tính được  bạn đọc nên tự suy nghĩ một lúc trước khi xem lời giải dưới đây </s> <s> nếu  ta suy ra là hậu tố của theo luật cạnh không khớp </s> <s> do đó nếu thì ta chỉ cần gán hình a trong hình minh họa dưới đây </s> <s> ví dụ trên với  ta thấy và  do đó ta gán </s> <s> tuy nhiên cuộc sống không có dễ dàng vậy nếu </s> <s> trong trường hợp này ta sẽ phải xét và lại so sánh với </s> <s> chú ý ở đây là hậu tố của  do đó nó cũng là hậu tố của vì ta đã biết là hậu tố của </s> <s> từ đó suy ra nếu  ta sẽ gán xem hình b trong hình minh họa dưới đây </s> <s> nếu không ta sẽ tiếp tục lặp lại như trên </s> <s> trường hợp xấu nhất đến một lúc nào đó ta sẽ trở về vị trí sau bước tại sao với một số nào đó và do đó ta sẽ gán vì hiển nhiên theo quy ước là một hậu tố của </s> <s> </s> <s> ta có thuật toán sau </s> <s> code cviệc chứng minh bằng quy nạp rằng nếu nếu được gán bằng số nào đó theo thuật toán trên thì là số lớn nhất nhỏ hơn thỏa mãn tính chất của luật cạnh không khớp coi như bài tập cho bạn đọc </s> <s> mặc dù không có trong định nghĩa ta vẫn thêm vào mảng phần tử để cho việc viết giả mã sáng sủa hơn </s> <s> thông qua mảng  ta đã biểu diễn ngắn gọn được toàn bộ máy trạng thái hữu hạn </s> <s> ngoài ra nếu tinh ý các bạn sẽ phát hiện ra rằng thuật toán xây dựng cạnh không khớp trên chính là thuật toán tính hàm failure trong </s> <s> nếu bạn đọc đã đọc phân tích của hàm failure  có thể dễ dàng nhận thấy thời gian của thuật toán này là </s> <s> ở đây mình nhắc lại ngắn gọn ý tưởng độ phức tạp của thuật toán có cùng tiệm cận với số phép so sánh bằng và số phép so sánh không bằng </s> <s> mỗi lần so sánh bằng  thì ta tăng cả hai biến và lên </s> <s> mỗi lần so sánh không bằng  thì ta lại giảm </s> <s> do số lần ta giảm không thể vượt quá số lần ta tăng  số phép so sánh không bằng sẽ nhỏ hơn số phép so sánh bằng </s> <s> do đó độ phức tạp của thuật toán có cùng tiệm cận với số phép so sánh bằng và là </s> <s> </s> <s> khi so sánh hai xâu và  ta sẽ so sánh từng kí tự </s> <s> vấn đề mấu chốt là chúng ta sẽ xử lí như thế nào nếu  khi ta đang so sánh hai kí tự tương ứng trong văn bản và trong xâu mẫu </s> <s> sẽ lùi một số đơ vị là và tiếp tục so sánh với </s> <s> do đó trong trường hợp xấu nhất số phép so sánh là </s> <s> tuy nhiên ta có thể nhận xét thấy là nếu ta đang so sánh với  có nghĩa là </s> <s> hay nói cách khác là của </s> <s> do đó nếu  ta chỉ cần đi theo cạnh không khớp của nút để lùi về nút </s> <s> theo luật cạnh không khớp là hậu tố của và do đó cũng là hậu tố của </s> <s> hay nói cách khác </s> <s> do đó ta chỉ cần so sánh với và đệ quy </s> <s> dựa vào những quan sát này ta có thuật toán sau code cphân tích thuật toán giống như phân tích khi xây dựng fsm coi như bài tập cho bạn đọc </s> <s> như vậy máy trạng thái hữu hạn cho chúng ta một cách nhìn khác và đơn giản hơn về thuật toán kmp </s> <s> tuy nhiên nếu chỉ có thể thì cũng không thể nói lên được hết tầm quan trọng của máy trạng thái hữu hạn trong tìm kiếm xâu </s> <s> trong bài tiếp theo mình sẽ trình bày ứng dụng khác của máy trạng thái hữu hạn trong tìm kiếm đa mẫu multiple patterns mà cụ thể là thuật toán ahocorasick  </s> <s> code đầy đủ </s> <s> </s> <s>  knuth donald e </s> <s>  james h </s> <s> morris jr and vaughan r </s> <s> pratt </s> <s> </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  aho alfred v </s> <s>  and margaret j </s> <s> corasick </s> <s> communications of the acm  </s> <s>    </s> <s> </s> <s>  jeff erickson </s> <s>  uiuc  </s> <s>     trackback link on trong chứng minh lemma  cái chỗ </s> <s> nếu fi−jfi−j ta suy ra p…jp…j là hậu tố của pi−pi− theo luật cạnh không khớp </s> <s> do đó nếu pjpipjpi thì ta chỉ cần gán pij ý của anh chỗ này là fij phải ko anh  tại em lấn cấn chỗ này  mong anh giúp em thêm với ạthank anh  on đúng rồi đó bạn </s> <s> ý mình là </s> <s> mình gõ bị lỗi </s> <s> cám ơn bạn đã spot giúp </s> <s> hùngpowered by and </s> <s> thuật toán knuthmorrispratt  kmp string matching </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong loạt bài này mình giới thiệu các thuật toán thao tác với các xâu kí tự </s> <s> chúng ta bắt đầu bằng bài toán cơ bản nhất tìm sự xuất hiện của một xâu kí tự trong một văn bản </s> <s> </s> <s> ví dụ đoạn văn bản và xâu mẫu  xuất hiện ở vị trí  của văn bản </s> <s> trong ví dụ này bảng chữ cái gồm các kí tự latin viết thường </s> <s> chúng ta bắt đầu với thuật toán trâu bò brute force đôi khi còn gọi là vét cạn </s> <s> các thuật toán trâu bò thường chậm tuy nhiên dễ thiết kế cài đặt và thường là bước đầu tiên trước khi chúng ta phát triển các thuật toán cải tiến cao cấp hơn </s> <s> ý tưởng của thuật toán trâu bò khá đơn giản như sau bắt đầu từ kí tự đầu tiên của văn bản  dịch dần xâu về bên phải từng kí tự một </s> <s> nếu ta dịch đến kí tự thứ  so sánh với </s> <s> nếu ta tìm thấy xâu mẫu i </s> <s> e  ta trả về vị trí </s> <s> nếu không ta tiếp tục dịch sang vị trí </s> <s> giả mã như sau </s> <s> code của thuật toán bằng ccó thể thấy với mỗi vòng lặp chúng ta mất tối đa phép so sánh để kiểm tra xâu có xuất hiện trong văn bản hay không </s> <s> do đó thuật toán được knuth morris và pratt phát triển vào năm  là thuật toán tìm kiếm có thời gian tuyến tính </s> <s> thuật toán này chạy khá tốt trong thực tế tuy nhiên cũng khá khó hiểu vì thế khó gỡ lỗi </s> <s> trước hết mình trình bày một biến thể của thuật toán biến thể này được trình bày trong  với thời gian tính cỡ </s> <s> thuật toán này có hai điểm mạnh mình khuyến khích bạn đọc thêm bài về để hiểu hơn về thuật toán kmp </s> <s> ý tưởng của thuật toán kmp dựa trên quan sát rằng trong thuật toán trâu bò có nhiều bước so sánh dư thừa </s> <s> cụ thể khi so sánh phần tử với  nếu  ta đã có thông tin thuật toán trâu bò dịch sang lên  đơn vị bằng cách và thiết lập biến chạy trên xâu mẫu mà thông tin này </s> <s> trong phần này thay vì nói dịch xâu mẫu lên đơn vị ta sẽ nói lùi biến chạy về vị trí  </s> <s> hai cách nói này về cơ bản là tương đương </s> <s> như vậy tại sao thông tin này lại có ích xét văn bản và xâu mẫu trong ví dụ đầu tiên </s> <s> </s> <s> </s> <s> khi so sánh với  chúng ta thấy hai xâu này không khớp tại vị trí  </s> <s> thay vì thiết lập biến chạy như trong thuật toán trâu bò ta thiết lập và tiếp tục so sánh với </s> <s> cứ làm như vậy thì mỗi vòng lặp biến chạy trên văn bản luôn tăng và do đó thời gian tính toán sẽ là nếu như ta có thể tính được vị trí cần lùi lại của biến chạy trong thời gian </s> <s> tại sao trong ví dụ trên ta lại lùi biến chạy về vị trí </s> <s> quan sát kĩ ta thấy chúng ta lùi về vị trí là do  tức là kết thúc tại của khớp với bắt đầu từ của </s> <s> tổng kết lại quy luật lùi biến chạy như sau lùi về vị trí sao cho tiền tố kết thúc tại của chính là  khớp với hậu tố bắt đầu tại của chính là  và độ dài của đoạn khớp này chính là  lớn nhất </s> <s> ta gọi kí tự là kí tự </s> <s> trong ví dụ trên nếu ta lùi lại thì khới với </s> <s> nếu ta lùi lại thì khới với và độ dài đoạn khớp này là </s> <s> tương tự nếu ta lùi thì khới với và độ dài đoạn khớp là </s> <s> theo luật trên ta lùi về vị trí sao cho độ dài đoạn khớp là lớn nhất do đó ta lùi </s> <s> nhận xét thấy vị trí lùi lại phụ thuộc vào hai yếu tốtrường hợp kí tự chốt không xuất hiện trong  ta lùi lại hay nói cách khác ta dịch lên đơn vị </s> <s> ví dụ nếu thì ta có thể dịch lên đơn vị </s> <s> dựa trên nhận xét trên ta sẽ tính trước mảng trong đó là giá trị ta sẽ lùi lại nếu là kí tự thứ trong bảng chữ cái và vị trí xảy ra không khớp là trong xâu mẫu </s> <s> ví dụ trong ví dụ trên tương đương với nếu  và  thì </s> <s> giả sử ta đã tính được bảng bằng thủ tục ở dưới thuật toán tìm xâu sẽ như sau </s> <s> code của giả mã bằng cvới mỗi vòng lặp ta mất thời gian  do đó tổng thời gian là trong đó là thời gian tính bảng </s> <s> để tính bảng  ta sử dụng chính ý tưởng lùi biến chạy ở trên kết hợp với quy hoạch động </s> <s> gọi là mảng trong đó là chỉ số lớn nhất sao cho khớp với </s> <s> gọi là chỉ số của trong bảng chữ cái </s> <s> và có thể được tính thông qua dựa trên công thức quy hoạch động sau </s> <s> </s> <s> </s> <s> khởi tạo với mọi và why  </s> <s> giả mã như sau </s> <s> code của giả mã bằng cdo và chỉ phụ thuộc vào  ta có thể tiết kiệm một chút bộ nhớ bằng cách chỉ dùng một biến thay vì dùng cả mảng </s> <s> dễ thấy thuật toán trên mất thời gian để cập nhật bảng  do đó trong thuật toán trước sự phụ thuộc thời gian vào kích thước bảng chữ cái dường như dễ hiểu vì kí tự chốt có thể là bất kì kí tự nào trong bảng chữ cái </s> <s> để xóa bỏ sự phụ thuộc này ta chọn kí tự chốt là </s> <s> do  kí tự này luôn xuất hiện trong </s> <s> quy luật lùi biến chạy có thể phát biểu lại như sau lùi về vị trí sao cho tiền tố kết thúc tại của chính là  khớp với hậu tố bắt đầu tại của chính là  và độ dài của đoạn khớp này chính là  lớn nhất </s> <s> sự khác biệt cơ bản giữa quy luật  và quy luật / đó là sau mỗi lần lùi biến chạy  quy luật  luôn đảm bảo và do đó ta tiếp tục xét kí tự tiếp theo </s> <s> còn quy luật / không đảm bảo điều này do đó sau mỗi lần lùi biến chạy  nếu  ta phải tiếp tục lùi biến chạy một lần nữa nghe hơi giống đệ quy </s> <s> dường như thuật toán này mất nhiều phép so sa nhơn thuật toán trước </s> <s> tuy nhiên phân tích dưới đây chỉ ra rằng số lần lùi lại như vậy không nhiều </s> <s> do  quy luật trên có thể được phát biểu lại như sau lùi về vị trí sao cho tiền tố kết thúc tại của chính là  khớp với hậu tố bắt đầu tại của chính là  và độ dài của đoạn khớp này chính là  lớn nhất </s> <s> trong ví dụ trên nếu ta lùi lại thì tiền tố của khới với hậu tố </s> <s> nếu ta lùi lại thì tiền tố của với hậu tố của và độ dài đoạn khớp này là </s> <s> tương tự nếu ta lùi thì với và độ dài đoạn khớp là </s> <s> theo luật trên ta lùi về vị trí sao cho độ dài đoạn khớp là lớn nhất do đó ta lùi </s> <s> theo quy luật  ta có thể thấy vị trí lùi lại chỉ phụ thuộc vào vị trí xảy ra không khớp trong chính là  không phụ thuộc vào </s> <s> gọi là vị trí phải lùi về khi </s> <s> giả sử ta đã tính được bằng thủ tục ở dưới thuật toán tìm xâu sẽ như sau </s> <s> code bằng c của giả mãgiả sử thủ tục  sử dụng phép so sánh ta sẽ chứng minh rằng số phép so sánh của thuật toán  là </s> <s> không dễ để có thể thấy được điều này vì sự xuất hiện vòng lặp while bên trong vòng lặp for </s> <s> trước hết ta thấy sau mỗi phép so sánh bằng  cả và đều tăng lên  </s> <s> do đó số phép so sánh bằng tối đa là </s> <s> vòng lặp while giảm giá trị của mỗi khi ta bắt gặp một phép so sánh không bằng  </s> <s> tuy nhiên số lượng giảm của không thể vượt quá giá trị mà đã tăng lên sau mỗi phép so sánh bằng qua các vòng lặp trước đó </s> <s> điều đó có nghĩa là tổng số phép so sánh không bằng không thể vượt quá tổng số phép so sánh bằng do đó tối đa là </s> <s> như vậy tổng số phép so sánh là </s> <s> có thể được tính dựa vào định nghĩa của và quy luật  trong thời gian </s> <s> cụ thể để tính  ta sẽ kiểm tra tất cả các chỉ số từ đến sao cho khớp với và chọn ra chỉ số lớn nhất thỏa mãn điều kiện này </s> <s> tuy nhiên knuthmorrispratt chỉ ra rằng bảng có thể được tính trong thời gian bằng cách sửa đổi thuật toán đối sánh với chính nó </s> <s> code bằng c của giả mãtại sao đối sánh với chính nó lại cho ra kết quả ta mong muốn </s> <s> về mặt trực quan để ý quy luật / nếu thay trong quy luật này bởi  và bởi  giá trị trong quy luật / chính là </s> <s> thủ tục về cơ bản thực thi quy luật này do đó ta có thể sử dụng chính thủ tục này để tính </s> <s> một cách hiểu khác của thủ tục này là như sau giả sử  ta biết rằng </s> <s> do đó ta tìm các  bắt đầu từ ứng viên lớn nhất chính là  sao cho nếu thì chính là </s> <s> nếu  ứng viên tiếp theo sẽ là theo định nghĩa của bảng  do đó ở dòng  ta gán </s> <s> do ta xét các ứng cử viên từ lớn đến nhỏ giá trị tìm được sẽ tương ứng với đoạn khớp lớn nhất </s> <s> phân tích tương tự như trên số phép so sánh trong thủ tục là </s> <s> do đó ví dụ bảng ứng với mẫu như sau code   </s> <s>  sedgewick r </s> <s>  wayne k </s> <s>  </s> <s>  chapter  </s> <s> addisonwesley </s> <s> isbn  </s> <s>  knuth donald e </s> <s>  james h </s> <s> morris jr and vaughan r </s> <s> pratt </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  jeff erickson  uiuc </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn    trackback link powered by and </s> <s> thuật toán z  z algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  hàm là một hàm rất quan trọng thường được áp dụng trong các bước tiền xử lí xâu kí tự </s> <s> một trong những ứng dụng nổi bật của hàm là trong thuật toán tìm kiếm xâu với thời gian tuyến tính </s> <s> thuật toán tìm kiếm xâu với hàm có lẽ là thuật toán đơn giản nhất trong số các thuật toán có cùng thời gian </s> <s> thêm nữa thuật toán này không phụ thuộc vào bảng chữ cái như một số thuật toán khác </s> <s> mình đã implement thuật toán tìm kiếm xâu dựa trên hàm cho bài toán tìm kiếm xâu trên và đã được accept </s> <s> code được đính ở cuối bài </s> <s> </s> <s> nói cách khác là chiều dài của tiền tố dài nhất của khớp với một tiền tố của </s> <s> ví dụ  ta có vì tiền tố dài nhất của khớp với tiền tố của là và có chiều dài bằng </s> <s> tương tự </s> <s> trong phần này để đơn giản ta kí hiệu thay cho </s> <s> với mỗi với  ta gọi một là interval đoạn có chiều dài </s> <s> gọi là điểm cuối lớn nhất của các zbox bắt đầu từ hoặc trước </s> <s> một cách hình thức gọi là điểm đầu của zbox tương ứng kết thúc tại </s> <s> với ví dụ trên hay </s> <s> dựa vào định nghĩa của  ta có thể tính được bảng trong thời gian </s> <s> tuy nhiên chúng ta có thể tính nhanh hơn thế </s> <s> ý tưởng của thuật toán như sau giả mã của thuật toán như sau </s> <s> code của giả mã bằng ctrong giả mã trên bước của thuật toán chỉ phụ thuộc vào  chúng ta có thể giảm bộ nhớ bằng cách chỉ dùng hai biến </s> <s> ta có thể chứng minh tính đúng đắn của thuật toán bằng phương pháp quy nạp coi như bài tập cho bạn đọc </s> <s> mỗi vòng for của thuật toán hoặc mất thời gian  trong câu lệnh  hoặc mất thời gian tỉ lệ tuyến tính với số lượng phép so sánh bằng trong câu lệnh while  </s> <s> do tổng số lượng phép so sánh bằng không vượt quá chiều dài của xâu  số lượng phép so sánh bằng trung bình của mỗi vòng lặp for là </s> <s> do đó tổng thời gian của thuật toán là </s> <s> ta có thể áp dụng hàm để giải bài toán tìm kiếm xâu sau trong thời gian  gọi  là kí tự thuộc bảng chữ cái </s> <s> giả mã của thuật toán như sau do hàm có thời gian tuyến tính ta có code  </s> <s>  daniel m </s> <s> gusfield  ucdavis  </s> <s> </s> <s>  codeforces forum by   trackback link powered by and </s> <s> cấu trúc unionfind  unionfind data structure </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nếu bạn đã từng thực thi thuật toán kruskal tìm cây khung nhỏ nhất chắc bạn sẽ biết cấu trúc unionfind </s> <s> đó là một trong số rất nhiều ứng dụng của cấu trúc này </s> <s> trong phần này mình trình bày cấu trúc đó góc độ một cấu trúc dữ liệu để lưu trữ các tập hợp rời nhau disjoint sets </s> <s> do đó cấu trúc này còn gọi là </s> <s> bài toán của chúng ta như sauhãy thiết kế một cấu trúc dữ liệu cho thuật toán sao cho các thao tác này được thực hiện một cách hiệu quả nhất </s> <s> </s> <s> trong cấu trúc này mỗi tập hợp được lưu trữ bởi môt danh sách liên kết và mỗi phần tử của danh sách sẽ có một con trỏ chỉ đến đầu của danh sách có thể coi là id của danh sách vì mỗi phần tử chỉ xuất hiện trong tối đa  danh sách </s> <s> </s> <s> </s> <s> các thao tác  và  có thể được thực hiện trong thời gian như sau </s> <s> </s> <s> với cấu trúc lưu trữ này ta có thể thực hiện thao tác gộp hai tập với chiều dài tương ứng trong thời gian như sau ta có thể áp dụng một vài kĩ thuật như sau để cải tiến ý tưởng của thuật toán ở trêndo đó ở đây chú ý là chúng ta phải thay đổi thủ tục  khởi tạo thông tin và contrỏ chi tiết coi như bài tập </s> <s> giả mã của thao tác như sau </s> <s> thao tác union được minh họa trong hình dưới đây </s> <s> trong trường hợp xấu nhất ta sẽ mất thời gian để gộp hai danh sách có kích thước cỡ </s> <s> tuy nhiên những trường hợp như vậy sẽ không thường xuyên xảy ra vì sau khi gộp ta thu được danh sách kích thước </s> <s> nếu phân tích kĩ hơn ta sẽ thấy trung bình mỗi thao tác  chỉ tốn cỡ </s> <s> </s> <s> dễ thấy bước union sẽ thao tác trên tập có kích thước vì mỗi thao tác union chỉ thao tác trên tối đa phần tử mới </s> <s> xét một phần tử  ta sẽ phân tích xem bao nhiêu lần con trỏ của được cập nhật </s> <s> từ bổ đề  mỗi lần cập nhật con trỏ  kích thước của tập hợp chứa tăng lên ít nhất  lần </s> <s> do đó con trỏ của được cập nhật tối đa lần </s> <s> từ đó ta thu được định lý  </s> <s> từ định lý  ta thu được hệ quả sau </s> <s> do đó có thể coi thời gian khấu trừ amortized time của mỗi thao tác là </s> <s> trong cấu trúc cây mỗi tập hợp sẽ được biểu diễn bởi một cây và mỗi nút của cây có một con trỏ chỉ tới một nút cha parent  người viết không có ý phân biệt cha/mẹ chỉ là thấy nghe cha xuôi hơn </s> <s> id của tập hợp là id của nút gốc của cây </s> <s> ngoài ra gốc của mỗi cây lưu thông tin là chiều cao của cây biểu diễn tập hiện tại </s> <s> trong cấu trúc cây thao tác vẫn có thời gian hằng số  tuy nhiên thao tác sẽ không còn là hằng số nữa </s> <s> sự linh động đó cũng dẫn đến nhiều phương pháp cải tiến cấu trúc này </s> <s> trước hết mình trình bày cấu trúc cây đơn giản là cơ sở cho các cải tiến sau này </s> <s> hai thao tác và trong cấu trúc cây như sau </s> <s> để phép được hiệu qủa chúng ta thiết kế sao cho chiều cao của cây càng nhỏ càng tốt </s> <s> mặt khác chúng ta phải duy trì cấu trúc cây sao cho phép thực hiện được hiệu qủa </s> <s> trong cấu trúc cây phép sẽ gộp cây có chiều cao nhỏ vào cây có chiều cao lớn hơn gốc của cây nhỏ hơn sẽ trở thành nut con của gốc của cây lớn hơn </s> <s> khác với cấu trúc danh sách trong cấu trúc cây chúng ta không cần phải thay đổi con trỏ của các nút của cây khi gộp ngoại trừ nút gốc do đó phép có thể được thực hiện nhanh hơn </s> <s> giả mã như sau </s> <s> </s> <s> gọi là cây có chiều cao lớn nhất </s> <s> có thể chứng minh được bằng quy nạp số lượng nút trong cây có gốc ít nhất là </s> <s> do đó </s> <s> ý tưởng cải thiện cấu trúc cây cơ bản như sau mỗi lần thực hiện thao tác  ta kết hợp với cập nhật con trỏ của các nút trên đường đi từ nút tới nút gốc của cây chứa để trỏ tới nút gốc </s> <s> không khó để nhận thấy nếu thao tác  mất thời gian thì việc thêm thao tác cập nhật con trỏ trên đường đi còn gọi là nén đường đi  path compression mất thời gian </s> <s> do đó về mặt tiệm cận thời gian của thao tác  không thay đổi </s> <s> </s> <s> </s> <s> do kết hợp với nén đường đi mỗi lần tìm kiếm thông tin của nút gốc sẽ bị thay đổi </s> <s> cập nhật thông tin này rất tốn kém </s> <s> do đó ta có thể thay đổi một chút thay vì gộp cây theo độ sâu depth ta sẽ gộp cây theo </s> <s> thủ tục và vẫn tương tự như trường hợp cây cơ bản </s> <s> </s> <s> một số tính chất của hạng chúng ta có thể liệt kê ra như sau </s> <s> tính chất cuối cùng không dễ để nhận thấy tuy nhiên chúng ta có thể lập luận như sau để ý thấy nếu một nút thay đổi hạng từ lên trường hợp này xảy ra khi gộp hai cây có gốc có cùng hạng  cây mới có ít nhất nút </s> <s> theo tính chất  hạng của các nút không phải là gốc sẽ không bao giờ thay đổi ta có thể gán cho mỗi nút hạng một tập hợp chứa có kích thước </s> <s> do với hai nút có cùng hạng  </s> <s> do đó có tối đa nút có hạng </s> <s> ta sẽ phân tích thời gian tính toán của thao tác vì thao tác tốn thời gian bằng  thao tác cộng với một hằng số </s> <s> trước hết ta định nghĩa hàm </s> <s> </s> <s> hàm tăng cực chậm với   do đó có thể coi thực tế nhỏ hơn hoặc bằng  mới có cỡ ~ hạt cơ bản </s> <s> một hàm tăng chậm khác dùng trong phân tích unionfind là hàm ackerman ngược kí hiệu </s> <s> hàm này còn chậm hơn rất nhiều so với hàm </s> <s> tarjan  chứng minh rằng mỗi thao tác find trong cấu trúc cây kết hợp nén đường đi có thời gian khấu trừ </s> <s> trong bài này mình chứng minh kết quả yếu hơn </s> <s> ta có thể tính thời gian cho mỗi thao tác  bằng cách đếm chi phí như saucuối cùng phải trả chi phí là số tiền mà nó nợ </s> <s> nếu ở độ sâu càng lớn chi phí phải trả cuối cùng càng nhiều </s> <s> tuy nhiên sau khi đã thực hiện thao tác find đối với và nén đường đi các thao tác tìm kiếm các nút trên đường đi từ tới nút gốc sau đó sẽ rẻ hơn rất nhiều </s> <s> do đó các nút trên đường đi đó được hưởng lợi từ </s> <s> để cho công bằng giữa các nút chúng ta sẽ tìm cách nào đó để khấu trừ chi phí khi thực hiện  hay nói cách khác các nút trên đường đi từ tới gốc cũng phải trả bớt tiền mà nợ </s> <s> trước hết ta sẽ phân các nút thành các nhóm như sauở đây kí hiệu  dấu mũ lặp lại lần </s> <s> tóm lại mỗi nhóm có hạng từ tới </s> <s> một vài điểm quan trọng ở đây làxét một đường đi từ tới nút gốc trong thao tác  </s> <s> giả sử đi qua hai nút và trong đó nút là cha của nút </s> <s> nếu và nằm trong cùng một nhóm ta lấy đồng từ thay vì từ vì được hưởng lợi </s> <s> nếu nằm trong nhóm cao hơn là nhóm có số thứ tự cao hơn ta sẽ lấy đồng từ </s> <s> do đó chỉ phải trả đồng vì chúng ta chỉ có nhóm khác nhau </s> <s> bây giờ sẽ là phần khó nhất đó là trung bình mỗi nút như trên phải trả bao nhiêu đồng thứ nhất nút sẽ không bao giờ thay đổi hạng theo tính chất  của hạng </s> <s> thứ hai mỗi lần nút trả bớt đồng cho một nút nào đó hạng của cha của tăng ít nhất lên  và cha của phải nằm trong cùng một nhóm với </s> <s> do đó nếu hạng của cha của tăng đến mức của nhóm tiếp theo sẽ không bao giờ phải trả tiền cho bất kì một nút nào khác </s> <s> như vậy phải trả tối đa số tiền là phạm vi của hạng trong nhóm chứa  là nếu trong nhóm có hạng bắt đầu từ đến  </s> <s> nhóm chứa có kích thước là  do đó tổng số tiền mà tất cả các nút trong nhóm này phải trả hộ nút khác là do đó tổng số tiền trả hộ của tất cả các nút là vì số nhóm là </s> <s> tổng kết lại như sau nếu ta có thao tác  số tiền tất cả các nút phải trả cuối cùng là </s> <s> trong hầu hết các thuật toán  do đó thời gian khấu trừ cho mỗi thao tác là </s> <s> với cấu trúc danh sách liên kết cách thực thi hiệu qủa có lẽ cũng là sử dụng danh sách liên kết </s> <s> tuy nhiên với cấu trúc cây chúng ta không nhất thiết phải sử dụng cây để thực thi </s> <s> phần này mình sẽ giới thiệu phương pháp thực thi bằng mảng array </s> <s> ta sử dụng hai mảngcác thao tác cơ bản như sau </s> <s> </s> <s> unionfind có rất nhiều ứng dụng mà nổi tiếng là trong thực thi thuật toán kruskal tìm cây khung nhỏ nhất </s> <s> trong phần này mình sẽ giới thiệu ứng dụng của unionfind trong việc thiết kế giải thuật cho bài toán lập lịch có thời hạn đã giới thiệu trọng bài </s> <s> chi tiết xem thêm tại bài trước </s> <s> ở đây mình nhắc lại đề bài và thuật toán tham lam  giải thuật  </s> <s> trong thuật toán trên thời gian để tìm một vị trí để chèn một tác vụ mới mất cỡ </s> <s> bằng unionfind sử dụng cấu trúc cây kết hợp nén đương đi chúng ta có thể giảm thời gian này xuống  do đó thuật toán sẽ có tổng thời gian là nếu không tính bước sắp xếp mất  </s> <s> giả sử thời điểm hiện tại ta có mảng là mảng lưu trữ lịch trình của các tác vụ chúng ta đã được vào lời giải tối ưu trong các bước trước </s> <s> mỗi tập hợp của chúng ta sẽ biểu diễn một dãy liên tục và tối đại maximal các phần tử khác  của mảng </s> <s> nói cách khác với mỗi tập hợp chứa các phần tử  ta luôn đảm bảo điều kiện ngoài ra gốc của mỗi tập hợp sẽ lưu trữ số  là vị trí trái nhất leftmost còn trống của dãy liên tục này </s> <s> để kiểm tra xem tác vụ với thời hạn có thể chèn vào lịch trình hiện tại được không ta làm như sauchi tiết giả mã như sau </s> <s> code bằng c của giả mãthủ tục  không thay đổi so với ở trên </s> <s> mảng là mảng lưu trữ phần tử trái nhất còn trống của một tập </s> <s> một điểm chú ý là thứ tự của và trong  là quan trọng vì theo tứ tự đó phần tử trái nhất còn trống của tập chứa nhỏ hơn của tập chứa </s> <s> thứ nữa đó là trong hàm  phần tử ngay sau có thể khác  do đó trong comment mình để supposed empty </s> <s> nếu phần tử này khác  phép gộp trong hàm luôn đảm bảo tập hợp chứa sẽ được gộp với tập hợp chứa </s> <s> code </s> <s> </s> <s>  avrim blum </s> <s>  cmu  </s> <s> </s> <s>  jeff erickson </s> <s>  uiuc  </s> <s> </s> <s>  jon kleinberg and eva tardos </s> <s>  chapter  </s> <s> addisonwesley longman publishing co </s> <s>  inc </s> <s>  boston ma usa </s> <s> </s> <s>  robert endre tarjan </s> <s> j </s> <s> acm   april   </s> <s> doi </s> <s> / </s> <s>  </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>   trackback link powered by and </s> <s> luồng trong mạng ii thuật toán edmondskarp  network flow ii edmondskarp algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài trước chúng ta đã tìm hiểu tìm luồng cực đại trong mạng có khả năng thông qua nguyên </s> <s> thuật toán fordfulkerson về cơ bản bắt đầu từ một luồng hợp lệ ví dụ luồng  và thực lặp lại  bước sau cho đến khi thu được luồng cực đạita đã chứng minh sau mỗi bước tăng luồng luồng sẽ được tăng lên ít nhất  đơn vị </s> <s> do đó ta có thể thực thi thuật toán fordfulkerson trong thời gian  ở đây là giá trị của luồng cực đại </s> <s> tuy nhiên thuật toán fordfulkerson không phải là thuật toán thời gian đa thức vì giá trị của luồng cực đại có thể chỉ biểu diễn được bằng bít </s> <s> trong bài này chúng ta sẽ tìm hiểu  cách tìm đường tăng luồng khác nhau đề xuất bởi edmonds và karp  </s> <s> cả  cách này đều cho chúng ta thuật toán thời gian đa thức </s> <s> edmonds và karp để xuất </s> <s> đường tăng luồng này có thể tìm được bằng cách áp dụng bfs breathfirst search trong đồ thị thặng dư </s> <s> edmonds và karp chứng minh rằng nếu ta chọn đường tăng luồng như vậy thuật toán fordfulkerson sẽ kết thúc sau bước tăng luồng </s> <s> kết quả này thực sự là một kết quả ngạc nhiên vì nó cho thấy có sự khác biệt cơ bản giữa dfs và bfs trong tìm đường tăng luồng </s> <s> tất nhiên phần khó nhất vẫn là phân tích thuật toán mà ta sẽ tìm hiểu dưới đây </s> <s> gọi là các đồ thị trong đó là đồ thị thặng dư tại bước thứ </s> <s> gọi là số cung của đường đi có ít cung nhất từ tới trong </s> <s> theo định nghĩa này thì </s> <s> về mặt trực quan chính là khoảng cách ngắn nhất từ tới trong nếu ta gán trọng số cho mọi cung của </s> <s> dễ thấy với mọi </s> <s> nhắc lại một cung được gọi là bị bão hòa bởi luồng nếu </s> <s> theo định nghĩa đồ thị tăng luồng nếu một cung bị bão hòa bởi luồng thì nó sẽ không xuất hiện mà cung ngược của nó sẽ xuất hiện trong đồ thị thặng dư </s> <s> ta nói bị khỏi đồ thị thặng dư </s> <s> nếu một cung bị biến mất khỏi đồ thị thì có thể nó lại xuất hiện ở đồ thị với </s> <s> ý tưởng trong chứng minh theorem  của edmond và karp đó là mỗi cung sẽ bị biến mất không quá lần trong toàn bộ quá trình tăng luồng và do mỗi lần tăng luồng ít nhất  cung sẽ bị biến mất bão hòa do đó số lần tăng luồng tối đa là </s> <s> trước hết ta sẽ chứng minh rằng sau mỗi lần tăng luồng level của các đỉnh không bao giờ giảm xuống </s> <s> </s> <s> ta chỉ cần chứng minh lemma  đúng cho trường hợp </s> <s> ta sẽ chứng minh bằng quy nạp trên hai biến và </s> <s> dễ thấy luôn bằng  với mọi  do đó lemma đúng với </s> <s> gọi là một cung của sao cho </s> <s> theo quy nạp </s> <s> ta cần chứng minh </s> <s> ta có hai trường hợp </s> <s> giả sử cung và cung này bị biến mất sau khi tăng luồng tại bước </s> <s> theo định nghĩa ta có gọi là chỉ số lớn hơn sao cho cung lại xuất hiện trong </s> <s> do xuất hiện trong nhưng không ở trong  cung ngược của nó là cung bị biến mất khỏi </s> <s> do đó ta có do  theo lemma  ta suy ra </s> <s> kêt hợp với  ta suy ra hay nói cách khác mỗi khi cung biến mất và sau đó lại xuất hiện mức của lại tăng lên ít nhất  đơn vị </s> <s> do với mọi  cung biến mất không quá lần dpcm </s> <s> trong phân tích trên ta không hề sử dụng điều kiện nguyên của khả năng thông qua </s> <s> do đó thuật toán đường ngắn sẽ cho ta luồng cực đại trong thời gian ngay cả khi khả năng thông qua không phải là nguyên </s> <s> ý tưởng của giải thuật khá tự nhiên </s> <s> cuối bài ta sẽ tìm hiểu cách tìm đường tăng luồng béo nhất đường cho ta lượng tăng luồng lớn nhất từ đến trong thời gian </s> <s> bay giờ chúng ta tạm thời thống nhất là đường béo có thể được tìm một cách hiệu quả </s> <s> câu hỏi tương tự phần trước là thuật toán fordfulkerson sẽ kết thúc sau bao nhiêu bước tăng luồng để trả lời câu hỏi này chúng ta cần phải có cách nhìn khác về đường tăng luồng </s> <s> nhắc lại là đồ thị thặng dư tương ứng với luồng </s> <s> gọi là đường tăng luồng trong đồ thị và là trọng số của cung nhỏ nhất trong </s> <s> ta gọi là của đường tăng luồng </s> <s> đường béo nhất chính là đường có động rộng lớn nhất </s> <s> nếu ta coi là một luồng trong đồ thị thặng dư gọi là  thì luồng này có giá trị là </s> <s> với cách nhìn đó thay vì tăng luồng dọc theo đường tăng luồng ta có thể tăng luồng trong đồ thị gốc dọc theo các cung có luồng không âm của luồng thặng dư mà vẫn đảm bảo luồng sau khi tăng là một luồng hợp lệ </s> <s> ngoài ra lượng tăng luồng sau mỗi bước tăng cũng đúng bằng giá trị của luồng thặng dư </s> <s> bạn đọc cần phải phân biệt rõ ràng khái niệm luồng cực đại và luồng dư cực đại trước khi đọc tiếp </s> <s> luồng cực đại là luồng trong đồ thị gốc và luồng dư cực đại là luồng cực đại trong đồ thị thặng dư </s> <s> ta gọi là luồng cực đại của đồ thị gốc </s> <s> gọi là luồng sau khi thực hiện tăng luồng lần thứ dọc theo đường tăng luồng béo nhất và là luồng thặng dư của đồ thị thặng dư </s> <s> ban đầu và </s> <s> theo phân tích ở trên ta có theo  ta dễ dàng suy ra nếu được tăng lên một lượng  thì sẽ bị giảm đi cùng một lượng  </s> <s> cũng theo  nếu ta tìm được luồng dư cực đại thì chỉ cần  bước tăng luồng nữa là ta tìm được luồng cực đại trong đồ thị gốc </s> <s> tuy nhiên tìm luồng dư cực đại không dễ hơn tìm luồng cực đại trong đồ thị gốc và chúng ta cũng không cố gắng đi tìm luồng dư cực đại </s> <s> ở đây ta sẽ cố gắng liên hệ độ rộng của đường tăng luồng béo nhất với </s> <s> gọi là độ rộng của đường tăng luồng béo nhất trong đồ thị thặng dư </s> <s> ta sẽ có </s> <s> ta sẽ sử dụng theo định lý fordfulkerson khả năng thông qua của bất kì một lát cắt nào cũng lớn hơn giá trị của luồng cực đại </s> <s> gọi là tập các đỉnh trong đồ thị thặng dư sao cho với mỗi  tồn tại một đường đi từ tới sao cho mọi cung trên đường đi này đều có trọng số lớn hơn nhưng không bằng </s> <s> gọi </s> <s> rõ ràng  vì nếu không ta sẽ tìm được đường đi từ đến với độ rộng lớn hơn  điều này trái với định nghĩa của </s> <s> theo định nghĩa của  mọi cung từ tới đều có trọng số nhỏ hơn hoặc bằng </s> <s> do lát cắt có tối đa cung ta có kết hợp với định lý fordfulkerson ta suy ra điều phải chứng minh </s> <s> </s> <s> theo nhận xét từ  mỗi bước ta tăng luồng của đồ thị gốc một lượng thì luồng dư cực đại cũng bị giảm đi </s> <s> do đó theo lemma  ta có  ta suy ra từ  ta suy ra </s> <s> khi  ta có ở đây ta sử dụng bất đẳng thức  là cơ số của logarithm tự nhiên </s> <s> như vậy luồng dư cực đại tại bước thứ có giá trị không quá  </s> <s> do khả năng thông qua là nguyên ta chỉ cần tăng luồng thêm một lần nữa thì luồng dư cực đại tại bước sẽ là </s> <s> lúc đó theo  luồng trong đồ thị gốc thu được là luồng cực đại </s> <s>  tư tưởng tìm đường rộng nhất giống như tư tưởng tìm đường đi ngắn nhất của </s> <s> mình sẽ không đi sâu vào chi tiết mà chỉ lượt qua ý tưởng cơ bản </s> <s> ta bắt đầu từ đỉnh và xây dựng cây đường đi béo nhất thay vì cây đường đi ngắn nhất trong dijkstra có gốc tại </s> <s> với mỗi đỉnh  đường đi duy nhất từ tới trong cây chính là đường đi béo nhất trong từ tới </s> <s> mỗi bước ta sẽ thêm một đỉnh vào cây này ban đầu cây chỉ có một đỉnh là  </s> <s> với mỗi đỉnh không thuộc cây gọi là trọng số của cung lớn nhất với là đỉnh thuộc cây đã xây dựng </s> <s> nếu đỉnh không có cung nào như vậy thì coi </s> <s> ta sẽ thêm vào cây đỉnh có lớ nhất </s> <s> tiếp tục lặp lại cho đến khi ta thêm vào cây và đường đi béo nhất tương ứng sẽ là đường đi từ tới trên cây </s> <s> chứng minh tính đúng đắn mình coi như bài tập cho bạn đọc mình khuyến khích bạn đọc xem lại chi tiết và cách chứng minh thuật toán dijkstra </s> <s> cũng như dijkstra thuật toán này có thể thực thi trong thời gian </s> <s> kết hợp với lemma  ta có trong giải thuật đường béo ta có sử dụng tính nguyên của khả năng thông qua để chứng minh tính dừng của giải thuật </s> <s>  j </s> <s> edmonds and r </s> <s> m </s> <s> karp </s> <s> journal of the acm jacm  </s> <s>    </s> <s> </s> <s>  j </s> <s> erickson </s> <s>  uiuc fall  </s> <s>  trackback link powered by and </s> <s> trò chơi bắt trộm  cops and robbers games </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài viết này chúng ta sẽ tìm hiểu trò chơi bắt trộm </s> <s> trò chơi phát biểu như sautrộm được gọi là bị bắt nếu tồn tại một cảnh sát cùng nằm trên một đỉnh với trộm </s> <s> một chiến lược được gọi là một winning strategy cho mathcalc mathcalr nếu theo chiến lược đó mathcalc luôn bắt được trộm bất kể mathcalr mathcalc đi như thế nào </s> <s> câu hỏi đặt ra là cần ít nhất bao nhiêu cảnh sát để tồn tại một winning strategy cho mathcalc </s> <s> </s> <s> giả sử trò chơi trên là trò chơi complete information i </s> <s> e tất cả các người chơi đều biết vị trí của người chơi khác trong đồ thị </s> <s> </s> <s> </s> <s> trò chơi bắt trộm trên a cây b đồ thị đầy đủ k và c chu trình </s> <s> trong đồ thị chu trình c một cảnh sát không thể bắt được trộm </s> <s> để hiểu hơn về bài toán này ta xét một vài đồ thị đặc biệt </s> <s> nếu gve là một cây tree figure a hoặc một đồ thị đầy đủ complete graph figure b thì dễ thấy chỉ cần  cảnh sát là có thể bắt được trộm rồi </s> <s> nếu gve là một chu trình thì ta cần đúng  cảnh sát figure c </s> <s> tuy nhiên một tính chất thú vị là nếu gve là một planar graph thì chỉ cần đúng  cảnh sát là ta có thể bắt được trộm </s> <s> để bạn đọc hình dung được cái hay của định lý này xét đồ thị trong figure  </s> <s> hình vẽ minh họa một đồ thị phẳng kiểu grid kích thước times   hàng  cột </s> <s> theorem  cho ta biết chỉ cần  cảnh sát là có thể bắt được tên trộm </s> <s> tổng quát hơn mọi grid kích thước p times q với pq lớn tùy ý cũng chỉ cần  cảnh sát là đủ </s> <s> thực tế chứng minh dưới đây sẽ chỉ ra với mọi grid kích thước p times q thì chỉ cần  cảnh sát cũng đủ bắt được trộm </s> <s> </s> <s> một grid kích thước  hàng  cột </s> <s>  cảnh sát luôn có thể bắt được trộm trong grid này </s> <s> thực tế chỉ cần  cảnh sát là có thể bắt được trộm </s> <s> ý tưởng duy nhất mà cũng là quan trọng nhất trong chứng minh theorem  đó là chỉ cần đúng một cảnh sát là người chơi mathcalc có thể kiểm soát được một đường đi ngắn nhất bất kì trong đồ thị bằng cách đuổi theo cái bóng shadow của tên trộm </s> <s> trong lemma  ta nói cảnh s đường đi ngắn nhất p </s> <s> trước khi đi vào chứng minh lemma  ta xét ý nghĩa của nó </s> <s> gọi hpq là một grid kích thước ptimes q </s> <s> ta sử dụng lemma  để chứng minh chỉ cần  cảnh sát ss là có thể bắt được một tên trộm trong hpq xem figure  </s> <s> do bất kì cột nào của grid cũng là đường đi ngắn nhất giữa hai đầu mút của cột đó ta lần lượt cho s kiểm soát cột c sau hữu hạn bước </s> <s> khi s đã kiểm soát được c ta cho s kiểm soát c </s> <s> sau khi s đã kiểm soát được c ta cho s kiểm soát c blah blah </s> <s> cứ như vậy cho đến khi tên trộm bị dồn vào cột cuối cùng và lúc này ta dễ dàng bắt được nó </s> <s> chú ý theo lemma  nếu một cảnh sát đã kiểm soát được một cột thì tên trộm không thể bước vào cột đó vì nếu không nó sẽ bị bắt ngay lập tức </s> <s> </s> <s> đường màu đỏ là đường đi đã bị kiểm soát và đường màu xanh là đường mà một cảnh sát đang trong quá trình kiểm soát </s> <s> a ta cho s kiểm soát cột c và s kiểm soát c </s> <s> b sau khi s đã kiểm soát được c s không còn cần kiểm soát c nữa và ta cho nó kiểm soát c </s> <s> c s đang kiểm soát c </s> <s> cứ lặp lại quá trình này thì cuối cùng tên trộm cũng bị bắt </s> <s> gọi z là vị trí hiện tại của tên trộm và s là cảnh sát mà ta muốn nó kiểm soát p </s> <s> kí hiệu dgxy là khoảng cách ngắn nhất giữa hai đỉnh riêng biệt xy của đồ thị </s> <s> ta định nghĩa cái bóng shadow của tên trộm là đỉnh w trên đường đi p sao cho dguw  mindguz dguv qquad  </s> <s> a cái bóng của trộm w trên đường đi ngắn nhất p </s> <s> b cảnh sát sẽ kiểm soát p bằng cách đi theo cái bóng của trộm trên p </s> <s> xem ví dụ cái bóng của trộm trong figure a </s> <s> chú ý do p là đường đi ngắn nhất nên dguv chính là độ dài của p </s> <s> khi trộm thay đổi vị trí thì cái bóng cũng thay đổi theo </s> <s> tuy nhiên do unot v sau hữu hạn bước s sẽ bắt được cái bóng của tên trộm i </s> <s> e s sẽ đứng ở vị trí w </s> <s> do mỗi nước đi tên trộm chỉ được phép đi sang đỉnh kề với vị trí nó đang đứng cái bóng cũng chỉ thay đổi sang trái hoặc sang phải  bước </s> <s> do đó s luôn bắt được cái bóng sau mỗi nước đi </s> <s> tại sao ta lại quan tâm đến cái bóng đó là do nếu s đứng trên vị trí của cái bóng w thì dgzx geq dps x quad forall x in p qquad  xem minh họa trong figure b </s> <s> ý nghĩa của  là nếu tên trộm đi vào p thì sẽ tồn tại x sao cho dgzx   </s> <s> từ  ta suy ra dpsx   </s> <s> hay nói cách khác s cũng đứng tại đỉnh x i </s> <s> e tên trộm ngay lập tức sẽ bị bắt </s> <s> để chứng minh  ta xét hai trường hợp ta sẽ sử dụng lemma  để tìm ra chiến lược bắt trộm bằng  cảnh sát sss </s> <s> đầu tiên mình sẽ trình bày ý tưởng và sau đó đi vào chứng minh hình thức hơn </s> <s> ý tưởng của chiến lược bắt trộm khá đơn giản </s> <s> ta sẽ định nghĩa là một đồ thị con h của g sao cho nếu trộm đi ra ngoài vùng an toàn đó thì lập tức nó bị bắt </s> <s> ban đầu h là một thành phần liên thông của g chứa tên trộm nếu ta xóa các đỉnh bị chiếm bởi cảnh sát ra khỏi đồ thị </s> <s> ta sẽ tìm chiến lược để thu hẹp dần vùng an toàn sau một số hữu hạn vòng chơi đến cuối cùng h  emptyset </s> <s> lúc đó tên trộm sẽ bị bắt </s> <s> ta sẽ cho s kiểm soát một đường đi ngắn nhất p từ u tới v unot v bất kì </s> <s> sau đó tìm một đường đi ngắn nhất khác p từ u tới v sao cho p và p không có đỉnh chung ngoại trừ các đầu mút </s> <s> p có thể tìm được bằng cách xóa tất cả các đỉnh khác uv nằm trên p khỏi đồ thị và áp dụng thuật toán tìm đường đi ngắn nhất </s> <s> pcup p tạo thành một chu trình phân chia mặt phẳng thành hai phần phần bên trong và bên ngoài </s> <s> ta sẽ cho s kiểm soát p </s> <s> </s> <s> vùng tô màu xanh là vùng an toàn của kẻ trộm </s> <s> không mất tính tổng quát giả sử tên trộm nằm bên ngoài chu trình pcup p xem figure a </s> <s> hay nói cách khác vùng an toàn h của tên trộm lúc này là phần đồ thị con bên ngoài chu trình pcup p </s> <s> ta sẽ tìm một đường đi thứ  p cũng từ u tới v nằm bên ngoài chu trình pcup p có độ dài ngắn nhất sao cho p không có đỉnh chung với pp ngoại trừ hai đầu mút </s> <s> p có thể tìm được xóa tất các đỉnh ngoại trừ uv của pp và các đỉnh nằm trong đường chu trình pcup p ra khỏi đồ thị và sau đó áp dụng thuật toán tìm đường đi ngắn nhất </s> <s> ta sẽ cho s kiểm soát p </s> <s> lúc này tên trộm sẽ chỉ có thể nằm ở  trong  vùng của mặt phẳng có biên là pcup p và pcup p </s> <s> nếu tên trộm nằm trong pcup p thì ta có thể bỏ đi p và giải phóng cảnh sát s cho vòng tiếp theo figure b </s> <s> nếu tên trộm nằm ngoài pcup p thì ta có thể bỏ đi p và giải phóng cảnh sát s figure c </s> <s> trong cả hai trường hợp vùng an toàn của kẻ trộm bị thu hẹp </s> <s> lặp lại quá trình đó cho đến khi vùng an toàn h  emptyset và ta sẽ bắt được trộm </s> <s> chuyển ý tưởng trên thành một chứng minh hình thức cũng khá dài dòng </s> <s> lí do là không phải lúc nào cũng tồn tại các đường đi pp </s> <s> trong trình bày ở trên thì ta luôn giả sử pp tồn tại </s> <s> ta sẽ chứng minh rằng nếu không tồn tại pp thì đồ thị sẽ có những cấu trúc khác đặc biệt hơn mà ta có thể sử dụng </s> <s> ta cần thêm một số khái niệm </s> <s> giả sử xy là hai đỉnh của đường đi p </s> <s> ta kí hiệu đường đi con của p từ x tới y bởi pxy </s> <s> nếu pq là hai đường đi trong đó điểm cuối của p trùng với điểm đầu của q ta kí hiệu pcirc q là đường đi thu được bằng cách nối điểm cuối của p và điểm đầu của q </s> <s> gọi h là vùng an toàn của trộm i </s> <s> e nếu trộm cố gắng đi ra khỏi h thì nó bị bắt ngay lập tức </s> <s> ta sẽ luôn đảm bảo h là một đồ thị liên thông </s> <s> ban đầu h  g </s> <s> ta định nghĩa hai cấu hình cho người chơi mathcalc như saukhông mất tính tổng quát ta giả sử ban đầu người chơi mathcalc ở cấu hình  vì ta có thể di chuyển tất cả các cảnh sát về cùng một đỉnh của đồ thị </s> <s> ý tưởng là ta sẽ tìm cách di chuyển mathcalc từ cấu hình hiện tại sau một hữu hạn bước sang  trong  cấu hình ở trên sao cho sau khi c đạt sang cấu hình mới vùng an toàn h của tên trộm bị thu hẹp </s> <s> ta xét hai trường hợp mathcalc đang ở cấu hình  </s> <s> gọi u là đỉnh mà cả  cảnh sát đang đứng và v là đỉnh kề với u trong h </s> <s> có hai hai trường hợp con </s> <s> vùng màu xanh là vùng an toàn của kẻ trộm </s> <s> mathcalc đang ở cấu hình  </s> <s> không mất tính tổng quát giả sử trộm đang ở ngoài chu trình pcup p </s> <s> gọi h  hsetminus vpcup p là thành phần liên thông chứa tên trộm sau khi xóa pp ra khỏi vùng an toàn hiện tại h </s> <s> trước hết ta xét trương hợp tồn tại duy nhất  đỉnh x in pcup p có cạnh nối tới các đỉnh của h </s> <s> ta sẽ di chuyển s về u và sau đó di chuyển ss về x ta quay trở lại cấu hình  với h  h </s> <s> không nhất thiết vùng an toàn phải bị thu hẹp trong bước này vì ta đã quay lại cấu hình  và như ta đã chỉ ra ở trên nếu cảnh ở cấu hình  thì sau đó người chơi mathcalc luôn thu hẹp được h </s> <s>  </s> <s> </s> <s> vùng màu xanh là vùng an toàn của kẻ trộm </s> <s> do đó ta có thể giả sử tồn tại ít nhất hai đỉnh trên pcup p có cạnh nối tới h </s> <s> như vậy tồn tại ít nhất một đường đi từ u tới v chứa ít nhất  cạnh của h </s> <s> gọi p là đường đi ngắn nhất trong số các đường đi đó </s> <s> gọi xy là đường đi con của p sao cho x y in pcup p và không đỉnh nào khác của p nằm trên pcup p </s> <s> ta xét vài trường hợp chò trơi bắt trộm được đề xuất trong bài báo của aigner và michael  </s> <s> trong bài báo đó aigner và michael chứng minh rằng  canh sát có thể bắt được trộm trên mọi đồ thị phẳng </s> <s> chứng minh trình bày ở đây lấy ý tưởng từ đó </s> <s> adreaae  mở rộng kết quả của aigner và michale cho </s> <s>  m </s> <s> aigner and f </s> <s> michael </s> <s> discrete applied mathematics  </s> <s>    </s> <s> </s> <s>  t </s> <s> andreae </s> <s> journal of combinatorial theory series b  </s> <s>    </s> <s>    trackback link powered by and </s> <s> chia để trị  divide and conquer </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  chia để trị theo mình là một trong những phương pháp hiệu quả nhất để thiết kế thuật toán </s> <s> bài trước chúng ta đã làm quen với và sử dụng chia để trị </s> <s> bài này khái quát hóa phương pháp và sau đó chúng ta xem xét các ví dụ áp dụng </s> <s> nguyên lí của chia để trị gồm hai bước như sau </s> <s> cả hai bước đều yêu cầu những kĩ thuật nhất định và phương pháp tốt nhất để có thể áp dụng hai bước vào các bài toán khác nhau là thực hành nhiều </s> <s> trong bài này mình sẽ đưa ra các ví dụ minh họa hai bước và đừng quên xem lại các vì nó sẽ là công cụ chính để phân tích thời gian trong bài này </s> <s> </s> <s> </s> <s> phương pháp mà bạn có thể nghĩ ngay tới là sử dụng công thức </s> <s> ta có giả mã </s> <s> thời gian tính của là giả sử phép nhân được thực hiện trong thời gian  </s> <s> tuy nhiên ta có thể tính nhanh hơn bằng cách áp dụng phương pháp chia để trị để giải bài toán nhanh hơn </s> <s> ở đây ta có nhận xét như vậy nếu ta biết và ta có thể tính </s> <s> nhận thấy là tính và đều là các bài toán nhỏ hơn vì lũy thừa nhỏ hơn </s> <s> như vậy ta có </s> <s> như vậy thời gian tính của thuật toán là </s> <s> giải ra ta được </s> <s> trong phần này ta sẽ thảo luận bài toán sau như ta đã biết bằng phương pháp đặt tính nhân của cấp  ta có thể nhân hai số nguyên bít bằng phép cộng bit </s> <s> trong bài này mình sẽ giới thiệu phương pháp nhân hai số bít trong thời gian trước khi đi vào thuật toán mình giới thiệu câu đố nhân hai số phức của gauss </s> <s> câu đố này sẽ cung cấp tư tưởng chính của thuật toán sẽ trình bày </s> <s> </s> <s> lời giải là có và cách làm như sau beginarraylll x    a  b  x    cd  x    xx  acad  bc  bd  x    ac  x    bd  x    xx  ac  bd  x    x  x  x  bcad endarray </s> <s> tích của hai số phức chính là </s> <s> không khó để kiểm tra rằng chỉ mất  đồng để thực hiện các phép toán ở trên </s> <s> trở lại với bài toán nhân số nguyên </s> <s> để đơn giảm ta giả sử </s> <s> hai số nguyên có thể được viết lại như sau beginarraylll x    an/  b  y    cn/d endarray </s> <s> trong đó là các số nguyên bit </s> <s> </s> <s> </s> <s> như vậy ta có </s> <s> như vậy để tính  ta có thể tính các tích và sau đó thực hiện các phép dịch trái nhân với tương đương với dịch trái bít và cộng </s> <s> chú ý là các số có chiều dài bít do đó mất thời gian để thực hiện phép nhân </s> <s> như vậy ta có thể tính trong thời gian </s> <s> giải công thức truy hồi trên ta được </s> <s> oops không nhanh hơn thuật toán nhân cấp  </s> <s> nếu để ý kĩ ta có thể thấy có sự tương đồng khi tính và gauss puzzle </s> <s> sử dụng phương pháp như của gauss  ta có thể tính sử dụng  phép nhân hai số bít và vài phép cộng </s> <s> như vậy ta có thể tính trong thời gian </s> <s> giả mã của chương trình như sau </s> <s> thuật toán nhanh nhất hiện tại để nhân hai số nguyên bít phát minh bới với thời gian trong đó hàm được định nghĩa như sau </s> <s> </s> <s> hàm tăng cực kì chậm </s> <s> với  </s> <s> do đó trong thực tế ta có thể coi thuật toán fürer có thời gian cỡ </s> <s> tuy nhiên về mặt lý thuyết bài toán nhân hai số nguyên bít trong thời gian vẫn là một bài toán mở </s> <s> </s> <s> tìm kiếm nhị phân binary search là một trong những thuật toán được sử dụng rộng rãi nhất trong thiết kế giải thuật </s> <s> bài toán như sau </s> <s> nếu duyệt hết các phần tử của mảng từ đầu đến cuối ta sẽ mất để tìm </s> <s> tuy nhiên ta có thể lợi dụng tính chất mảng đã sắp xếp để thiết kế giải thuật tốt hơn tồn tại một thuật toán tìm ra một phần tử của mảng đã sắp xếp có giá trị trong thời gian </s> <s> </s> <s> </s> <s> ở đây để đơn giản ta sẽ giả sử mảng có ít nhất một phần tử có gía trị </s> <s> ý tưởng của tìm kiếm nhị phân khá đơn giản so sánh với phần tử </s> <s> nếu  ta tìm kiếm trên </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ của thuật toán được đính ở cuối bài </s> <s> </s> <s> ta thấy ở mỗi bước tìm kiếm chúng ta loại bỏ được ít nhất một nửa số phần tử cuả mảng </s> <s> như vậy code </s> <s> </s> <s>  jeff erickson </s> <s>  uiuc </s> <s> </s> <s>  sanjoy dasgupta christos papadimitriou and umesh vazirani </s> <s> algorithms </s> <s> st edition </s> <s> mcgrawhill higher education  </s> <s> </s> <s>  anupam gupta and john lefferty </s> <s> great theoretical ideas in computer science lecture notes cmu  </s> <s> </s> <s> </s> <s> bài tập trong phần này được trích từ chapter  của cuốn sách algorithms by sanjoy dasgupta christos papadimitriou and umesh vazirani </s> <s> </s> <s> </s> <s> giả sử ta có một mảng gồm phần tử và các phần tử có thể trùng nhau </s> <s> thiết kế giải thuật loại bỏ tất cả các phần từ trùng nhau giữ lại một copy trong thời gian </s> <s> </s> <s> </s> <s> giả sử trong bộ nhớ máy tính có một mảng vô hạn các phần tử trong đó phần tử đầu tiên được xắp xếp theo chiều tăng dần và còn lại là </s> <s> tuy nhiên bạn không biết  nghĩa là bạn không biết trong mảng có bao nhiêu phần tử khác </s> <s> mỗi lần bạn truy cập vào một vị trí lớn hơn thì máy tính sẽ trả lại </s> <s> bây giờ bạn có một số nguyên và muốn tìm vị trí cuả mảng chứa gía trị </s> <s> hãy thiết kế giải thuật tìm vị trí của trong mảng với thời gian </s> <s> </s> <s> </s> <s> bạn có một mảng gồm các số nguyên đôi một khác nhau và bạn muốn tìm chỉ số của mảng sao cho </s> <s> hãy thiết kế thuật toán với thời gian </s> <s> </s> <s> closest pair cho một tập điểm trên một mặt phẳng </s> <s> xác định cặp điểm gần nhất đó là cặp điểm sao cho khoảng cách giữa là nhỏ nhất </s> <s> khoảng cách đó được tính bởi công thức </s> <s> để đơn giản ở đây giả sử  tất cả các tọa độ trên trục đôi một khác nhau và tất cả các tọa độ trên trục đôi một khác nhau </s> <s> ý tưởng cơ bản như saucâu hỏi như sau   trackback link on những thao tác tính a b c d trong thuật toán nhân  số n bit đều là chia các số n bit sao ko phân tích thời gian hả ad  on hi bạn </s> <s> các thao tác chia này chỉ là các thao tác dịch bít trong máy tính </s> <s> do đó chỉ mất thời gian cho mỗi phép chia </s> <s> một cách hiểu đó là cũng giống như khi bạn nhân chia một số cho lũy thừa của  thì bạn chỉ việc dịch dấu phẩy sang bên phải trái </s> <s> hi vọng trả lời đúng câu hỏi của bạn </s> <s> powered by and </s> <s> danh sách liên kết đơn và các biến thể  singly linked list and its variants </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  danh sách liên kết dslk đơn singly linked list là một cấu trúc dữ liệu cơ bản và có cực kì nhiều ứng dụng </s> <s> ý tưởng của dslk đơn khá đơn giản </s> <s> tuy nhiên để cài đặt cấu trúc dslk đơn một cách ngắn gọn hiệu quả thì không phải là điều hiển nhiên </s> <s> trong bài này chúng ta sẽ thảo luận các cách cài đặt danh sách liên kết trong c sao cho và </s> <s> cài đặt dslk trong c không thể tránh khỏi sử dụng con trỏ pointer và struct </s> <s> con trỏ là một kiểu dữ liệu cực kì mạnh của ngôn ngữ c </s> <s> nó cho phép người lập trình thao tác bộ nhớ rất hiệu quả </s> <s> những lập trình viên giỏi luôn là những lập trình viên biết thao tác con trỏ một cách thuần thục </s> <s> tuy nhiên điểm yếu của con trỏ là khó học khó nắm bắt và cũng khó debug các chương trình có con trỏ nhất là đối với những người lần đầu tiếp xúc với khái niệm con trỏ </s> <s> trong bài này mình cũng không có gắng giải thích ý nghĩa mặc dù có nhắc lại con trỏ </s> <s> mình khuyến khích các bạn tự tìm hiểu vì có rất nhiều nguồn kể cả tiếng anh và tiếng việt </s> <s> phần cuối bài mình sẽ liên kết một số bài viết hay về con trỏ </s> <s> mục tiêu của bài này là minh họa tối đa khả năng kì diệu của con trỏ trong thao danh sách liên kết </s> <s> các bài khác trong blog mình thường minh họa bằng giả mã </s> <s> tuy nhiên bài này mình sẽ trực tiếp sử dụng code c </s> <s> một con trỏ pointer là một biến dùng để lưu trữ của một biến khác </s> <s> biến khác ở đây có thể là một biến thông thường như biến số nguyên biến số thực hoặc có thể là một mảng một hàm và có khi cũng chính là một con trỏ khác </s> <s> vì con trỏ là một biến nên nó cũng cần phải được lưu trữ ở đâu đó trong bộ nhớ có nghĩa là bản thân biến con trỏ cũng có một địa chỉ trong bộ nhớ </s> <s> do đó ta có thể dùng con trỏ đề lưu địa chỉ của một con trỏ khác </s> <s> tính chất này cũng chính là sự kì diệu của con trỏ mà mình sẽ minh họa trong bài này </s> <s> cú pháp khai báo con trỏ trong c nói một cách đơn giản nhưng không hoàn toàn chính xác gồm  phần i kiểu của biến khác mà con trỏ lưu trữ địa chỉ  dấu  và  tên của con trỏ </s> <s> con trỏ hàm thì khai báo hơi khác một chút nhưng đây không phải vấn đề trọng tâm của bài viết </s> <s> ví dụ khai báo một số con trỏkhai báo thì như vậy nhưng ý nghĩa của con trỏ thì không phải lúc nào cũng nhất quán </s> <s> ví dụ con trỏ vừa có thể hiểu là con trỏ tới một biến số nguyên vừa có thể hiểu là con trỏ tới phần tử đầu tiên của một mảng số nguyên </s> <s> struct trong c cho phép chúng ta tập hợp một hoặc một vài kiểu dữ liêu khác nhau thành một kiểu dữ liệu mới </s> <s> các kiểu dữ liệu thành phần của một struct có thể là kiểu dữ liệu sẵn có như số nguyên số thực con trỏ hoặc một kiểu struct đã định nghĩa trước đó </s> <s> tóm lại struct cho phép chúng ta gộp một số kiểu dữ liệu đã có lại với nhau để tiện thao tác </s> <s> trong dslk struct được sử dụng để khai báo một mắt xích của danh sách </s> <s> ví dụ ta muốn khai báo một mắt xích của một danh sách liên kết các biến kiểu int thì ta có thể khai báo như saubiến trong khai báo trên là dữ liệu của mỗi mắt xích và nó có kiểu int </s> <s> kiểu của còn có thể là con trỏ hay một struct </s> <s> mỗi mắt xích thường được minh họa như trong figure  trong đó mũi tên ám chỉ con trỏ lưu địa chỉ của mắt xích tiếp theo con trỏ next </s> <s> con trỏ này trong mắt xích cuối cùng của danh sách thường là </s> <s> </s> <s> </s> <s> biểu diễn một mắt xích của danh sách liên kết </s> <s> để khởi tạo một mắt xích ta sẽ dùng hàm malloc viết tắt của emory ation </s> <s> malloc là một hàm quản lí bộ nhớ của c </s> <s> bản thân hàm này cũng khá phức tạp </s> <s> bạn đọc xem thêm tại liên kết ở cuối bài </s> <s> danh sách liên kết đơn về mặt trực quan là cấu trúc dữ liệu tuyến tính giống như một cái xích dài liên kết các mắt xích với nhau </s> <s> mỗi mắt xích có dạng khai báo llnode ở trên </s> <s> figure  minh họa một danh sách liên kết với  phần tử </s> <s> </s> <s> một danh sách liên kết với  phần tử </s> <s> để theo dõi danh sách ta sẽ dùng một con trỏ đặc biệt gọi là con trỏ head </s> <s> con trỏ này lưu trữ của mắt xích đầu tiên của danh sách </s> <s> như đã nói ở trên con trỏ của mắt xích cuối cùng của danh sách sẽ có giá trị </s> <s> ta có thể duyệt qua danh sách này bằng cách bắt đầu từ phần tử đầu tiên đi theo con trỏ liên kết để đi tới nút tiếp theo </s> <s> đến khi ta gặp con trỏ thì ta đã duyệt xong danh sách </s> <s> đoạn code dưới đây là thủ tục walkdown để duyệt danh sách </s> <s> trong đoạn code trên liệu ta có bị mất con trỏ head câu trả lời là không vì mỗi lần gọi một hàm walkdown như trên một bản copy của con trỏ head sẽ được tạo ra và hàm walkdown sẽ thay đổi bản copy này </s> <s> bản gốc vẫn không thay đổi </s> <s> nếu bạn thay đổi con trỏ head trong hàm main hàm mà bạn tạo ra con trỏ này hoặc con trỏ head là một biến toàn cục thì con trỏ head sẽ bị thay đổi hay bị mất </s> <s> điều gì sẽ xảy ra nếu như ta làm mất con trỏ head bạn sẽ mất dấu của danh sách và do đó sẽ không thể thao tác được với danh sách nữa </s> <s> phần bộ nhớ của danh sách lúc này sẽ vẫn bị chiếm bởi danh sách do đó tạo ra rác garbage trong hệ thống </s> <s> phần rác này tồn tại cho đến khi chương trình kết thúc </s> <s> bài học rút ra khi nào bạn không còn cần danh sách nữa thì sử dụng hàm free để giải phóng bộ nhớ đừng bao giờ để mất dấu con trỏ head vì nó sẽ tạo ra rác </s> <s> khi thêm phần tử mới vào danh sách nếu bài toán không có yêu cầu gì đặc biệt thì bạn nên của danh sách </s> <s> nếu bạn thêm vào đuôi của danh sách theo tư duy thông thường thì ngoài phải trả thêm bộ nhớ để lưu trữ con trỏ đuôi của danh sách nếu không lưu con trỏ này thì sẽ phải duyệt rất tốn thời gian bạn phải xét trường hợp khi danh sách rỗng con trỏ đuôi là  i </s> <s> e thêm ifthen trong code </s> <s> điều này làm code vừa chậm vừa tối sủa xem code ví dụ dưới đây </s> <s> tóm lại </s> <s> đoạn code sau minh họa thao tác chèn vào đầu </s> <s> rõ ràng đoạn code dưới đây đẹp hơn rất nhiều </s> <s> </s> <s> các bước chèn một mắt xích có giá trị  vào đầu dslk trong figure  </s> <s> giả sử bạn muốn xóa một mắt xích có trường dữ liệu có giá trị ra khỏi danh sách bạn có thể làm như sau xem minh họa trong figure  </s> <s> các bước xóa mắt xích có giá trị ra khỏi danh sách </s> <s> </s> <s> codeđoạn code trên chỉ minh họa ý tưởng và nó là đoạn code có bug nghĩa là nó chỉ thành công trong một số trường hợp </s> <s> điều gì sẽ xảy ra nếu ta chạy đoạn code trên trong trường hợp mắt xích đầu tiên có giá trị datum khi đó đoạn code trong vòng while sẽ không thực hiện và kết quả là prev vẫn là sau vòng lặp while </s> <s> đến đây bạn có thể gặp lỗi segmentation fault </s> <s> bạn có thể sửa đổi code trên như sauđoạn code này ok có thể không có lỗi nhưng trông không được sạch sẽ và chậm vì có ifthen </s> <s> cách tốt hơn không có ifthen đó là thao tác trên </s> <s> phương pháp này minh họa cách sử dụng con trỏ rất thông minh </s> <s> hiểu đoạn code này có thể khó nhưng một khi đã hiểu thì bạn sẽ thấy cái hay của nó </s> <s> nhắc lại toán tử  là toán tử lấy địa chỉ của một biến còn toán tử  là toán tử lấy giá trị của biến có địa chỉ lưu trong con trỏ </s> <s> nhìn vào đoạn code trên sự khác biệt so với đoạn code goodbutnotcleanremove là chúng ta thao tác trên của con trỏ thay vì thao tác trên con trỏ </s> <s> đoạn code trên được sửa đổi từ </s> <s> đôi khi trong một số trường hợp ta muốn xóa một nút khỏi danh sách khi mà ta biết trước địa chỉ của nút đó </s> <s> cụ thể ta muốn đoạn code tương tự như saunếu chỉ đơn giản gán currentnode  thì đoạn code trên sẽ không thực hiện đúng như mong muốn bạn đọc nên thử và giải thích tại sao </s> <s> có hai cách để làm </s> <s> cách làm không mấy sạch sẽ là copy dữ liệu từ nút mắt xích sau đó vào nút hiện tại và ta xóa nút sau đó </s> <s> tuy nhiên cách này không áp dụng được nếu currentnode là mắt xích cuối cùng của dslk bạn đọc có thể thử để kiểm tra </s> <s> cách tốt hơn lấy ý tưởng hàm remove ở trên sử dụng địa chỉ của con trỏ ta sẽ truyên vào hàm địa chỉ của currentnode </s> <s> cách này áp dụng được ngay cả khi currentnode là mắt xích cuối cùng của dslk </s> <s> biến thể đầu tiên là dslk đôi doubly linked list trong đó mỗi mắt xích có  con trỏ </s> <s> con trỏ đầu tiên trỏ vào mắt xích trước nó trong dslk và con trỏ thứ hai trỏ vào mắt xích sau đó trong dslk </s> <s> </s> <s> một dslk đôi với  mắt xích </s> <s> dslk đôi so với dslk đơn cần nhiều bộ nhớ hơn để lưu trữ thêm một con trỏ </s> <s> các thao tác xóa và thêm mới cũng lâu hơn vì ta còn phải cập nhật cả con trỏ prev mỗi khi ta cần xóa hoặc thêm vào dslk </s> <s> về điểm mạnh dslk đôi mềm dẻo hơn vì từ một nút ta có thể đi đến nút trước nó mà không phải duyệt từ đầu dslk </s> <s> tính mềm dẻo này được knuth  khai thác triệt để trong thiết kế cấu trúc dancing links một cấu trúc dữ liệu hỗ trợ các thuật toán quay lui cho bài toán liệt kê tổ hợp </s> <s> ngoài ra ta có thể không cần con trỏ head để xác định nút đầu tiên của danh sách như dslk đơn tại sao </s> <s> nếu con trỏ head bị mất ta vẫn có thể tìm được phần tử đầu tiên của dslk nếu ta được phép truy nhập đến một phần tử bất kì của dslk </s> <s> dslk đôi cũng chính là cấu trúc đằng sau của java </s> <s> danh sách liên kết vòng circularly linked list là một biến thể khác của dslk đơn trong đó con trỏ next của mắt xích cuối cùng của danh sách trỏ vào mắt xích đầu tiên của danh sách để tạo thành một vòng tròn xem figure  </s> <s> với cấu trúc này khái niệm đầu và cuối không thực sự có ý nghĩa </s> <s> do đó ta thường chỉ lưu một con trỏ đặc biệt để trỏ vào một nút nào đó trong danh sách </s> <s> </s> <s> </s> <s> một dslk vòng với  mắt xích </s> <s> danh sách liên kết vòng thường được dùng trong các ứng dụng trong đó các thành phần tham gia được thực thi theo lượt </s> <s> ví dụ trong các game đánh bài khi mỗi người chơi được phép đi một lượt theo vòng </s> <s> một bài tập hay ứng dụng danh sách liên kết vòng là </s> <s> phần này sẽ liên tục được cập nhật </s> <s> bạn nào có tài liệu hay về con trỏ cũng như quản lí bộ nhớ thì comment xuống dưới để mình liên kết tới bạn đọc </s> <s> tutorial về con trỏ và ý nghĩa của con trỏ </s> <s> </s> <s> malloc làm việc như thế nào </s> <s> con trỏ hàm  t </s> <s> h cormen c </s> <s> e </s> <s> leiserson r </s> <s> rivest c </s> <s> stein </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s> </s> <s>  d </s> <s> e </s> <s> knuth donald e </s> <s> arxiv preprint cs/  </s> <s>      trackback link on admin cho mình hỏi nếu ta insert ở  vị trí bất kỳ nhưng không phải là ở đầu hay ở cuối thì sao  </s> <s> ví dụ </s> <s> thêm giá trị  vào vị trí  trong danh sách kiểu con trỏ l  hiện tại danh sách l có  phần tử </s> <s> on hi bạnví dụ bạn thêm vào vị trí thứ  thì bạn sẽ dùng một biến đếm i để xem bạn đã duyệt qua bao nhiêu mắt xích rồi đến khi nào i   thì bạn thêm vào sau nút hiện tại của con trỏ duyệt </s> <s> on link malloc die rồi anh ơi on ý bạn là link nào mình thấy các link mình đưa vẫn hoạt động mà </s> <s> on ý em là link malloc làm việc như thế nào anh ạ hôm qua em không truy cập được còn bây giờ lại được rồi ạpowered by and </s> <s> quy hoạch động trên cây  dynamic programming on trees </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nhiều bài toán trên đồ thị trở nên dễ dàng khi đồ thị đầu vào là một cây i </s> <s> e không có chu trình </s> <s> dễ dàng ở đây hiểu là giải được trong thời gian đa thức thông thường tuyến tính </s> <s> công cụ chúng ta thường sử dụng khi giải các bài toán trên cây là quy hoạch động </s> <s> trong bài này chúng ta sẽ tìm hiểu thuật toán quy hoạch động giải bài toán independent settrên cây một bài toán trên đồ thị </s> <s> ta nhắc lại bài toán tập độc lập </s> <s> một tập đỉnh của đồ thị đơn vô hướng gọi là một tập độc lập nếu không tồn tại cạnh của đồ thị nối hai đỉnh trong </s> <s> </s> <s> ví dụ </s> <s> </s> <s> tập độc lập lớn nhất là tập các đỉnh được tô màu đỏ </s> <s> tập này có trọng số  </s> <s> số bên cạnh mỗi đỉnh là trọng số của nó </s> <s> ta gọi tập độc lập có tổng trọng số lớn nhất là tập độc lập lớn nhất </s> <s> gọi là số đỉnh của </s> <s> ta chỉ định một đỉnh bất kì nào đó của làm gốc của cây </s> <s> các đỉnh có bậc  còn lại ta gọi là đỉnh lá leaf vertex </s> <s> mỗi nút trong sẽ có một cây con tương ứng kí hiệu  nhận làm gốc </s> <s> gọi là bảng quy hoạch động trong đóvới mỗi nút lá  theo định nghĩa ta có và </s> <s> ta sẽ cập nhật bảng theo thứ tự từ lá dần lên gốc </s> <s> khi cập nhật bảng tại nút  ta sẽ đảm bảo giá trị của bảng tại các nút con đã được cập nhật trong vòng lặp trước đó </s> <s> gọi là các nút con của một nút trong </s> <s> theo định nghĩa của tập độc lập nếu thuộc tập độc lập thì các nút con của sẽ không nằm trong </s> <s> do đó nếu không thuộc tập độc lập  thì ta có thể cho hoặc không cho các nút con của vào tập độc lập miễn sao tổng trọng số của tập là lớn nhất </s> <s> do đó khi ta cập nhật xong và của nút gốc  thì trọng số của tập độc lập lớn nhất là tìm tập độc lập ta chỉ cần truy ngược lại bảng </s> <s> kĩ thuật này ta đã thảo luận tại </s> <s> khi thực thi thuật toán để đảm bảo các giá trị của nút con đã được cập nhật trước khi ta cập nhật nút cha ta sẽ duyệt và cập nhật theo thứ tự sau  </s> <s> sau khi ta cập nhật xong bảng tại một nút  ta sẽ gửi các giá trị đó lên nút cha để cập nhật nút cha theo phương trình và </s> <s> </s> <s> ví du </s> <s> </s> <s> kết quả của bảng quy hoạch động áp dụng cho đồ thị trong figure  </s> <s> đỉnh màu xanh được lấy làm gốc của cây </s> <s> cạnh mỗi đỉnh là nhãn có dạng trong đó và </s> <s> thủ tục cập nhật bảng quy hoạch động duyệt qua mỗi đỉnh đúng một lần </s> <s> mỗi lần duyệt một đỉnh ta mất o thao tác để gửi giá trị của nút để cập nhật giá trị của nút cha </s> <s> do đó tổng thời gian của thuật toán là ta có thể giải một số bài toán nphard trên cây như phủ đỉnh vertex cover đường đi dài nhất longest path dominating set v </s> <s> v </s> <s> tất cả đều có thể giải bằng quy hoạch động </s> <s>  j </s> <s> erickson  uiuc  </s> <s>     trackback link powered by and </s> <s> đẹp  </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta tìm hiểu nguyên lí deferred decision mình để nguyên tiếng anh vì không biết dịch tiếng việt thế nào cho hay và chuẩn trong phân tích thuật toán ngẫu nhiên </s> <s> nguyên lí này được áp dụng khá phổ biến và là phương pháp chứng minh đằng sau của các kết quả đẹp như </s> <s> nguyên lí này có thể được hiểu tốt nhất thông qua ví dụ sau </s> <s> một cách đơn giản là ta tính và so sánh với </s> <s> phương pháp này mất thời gian nếu ta sử dụng phép nhân ma trận như định nghĩa hoặc sử dụng phương pháp nhân ma trận nhanh nhất hiện tại xem tại  </s> <s> tất cả đều hoặc rất chậm hoặc rất phức tạp </s> <s> sử dụng ngẫu nhiên ta có thể kiểm tra tích có bằng hay không chỉ trong thời gian với xác suất cao </s> <s> chọn vector  có phần tử và mỗi phần tử là một bít chọn ngẫu nhiên </s> <s> so sánh với </s> <s> nếu hai số này bằng nhau output yes ngược lại output no </s> <s> ta có thể tính trong thời gian  do đó thuật toán có thời gian </s> <s> </s> <s> nếu thì thuật toán luôn output yes </s> <s> do đó thuật toán chỉ sai khi mà ta lại chọn phải vector với </s> <s> đặt là một ma trận </s> <s> do  luôn tồn tại một ô khác  của ma trận </s> <s> không giảm tính tổng quát ta giả sử </s> <s> gọi </s> <s> ta có do  ta suy ra </s> <s> từ  ta suy ra do các bít của được chọn ngẫu nhiên độc lập ta coi như được chọn sau cùng </s> <s> do đó về phải của coi như đã xác định trước khi ta chọn </s> <s> vậy xác suất chọn phải bằng vế phải của là không quá </s> <s> nếu ta chọn mỗi phần tử của là một số nguyên  bít bằng cách mở rộng chứng minh ở trên xác suất thuật toán sai sẽ không quá  một con số khá nhỏ </s> <s> nguyên lí deferred decision thể hiện trong ví dụ trên ở chỗ phép phân tích chỉ nhìn vào phần tử được chọn cuối cùng của vector ngẫu nhiên </s> <s>    trackback link powered by and </s> <s> đẹp  </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nói đến kết quả đẹp trong khoa học máy tính khó có thể bỏ qua </s> <s> xác suất tìm được hai người có cùng ngày sinh trong  người chọn ngẫu nhiên ít nhất là </s> <s> một năm có  hoặc  ngày mà chỉ cần chọn ngẫu nhiên ra  người ta đã có thể tìm được hai người có cùng ngày sinh với xác suất ít nhất </s> <s> thật khó tin phải không thực ra đây không hẳn là nghịch lý vì điều này không có gì trái ngược với thực tế </s> <s> nên coi đây là định lý thì đúng hơn là nghịch lý </s> <s> tổng quát hóa của nghịch lý này được phát biểu như sau </s> <s> chọn có hoàn lại ở đây được hiểu là lấy ra rồi sau đỏ bỏ vào lại trong tập hợp gốc </s> <s> trong bài  chúng ta đã tìm hiểu một cách chứng minh </s> <s> ở đây mình trình bày một cách chứng minh khác với hằng số tệ hơn trong theorem  một chút nhưng đơn giản hơn </s> <s> cách chứng minh này được trình bày trong của emanuele viola </s> <s> kí hiệu </s> <s> đầu tiên chọn ra số từ tập </s> <s> giả sử không có cặp số nào trong số chọn ra có cùng giá trị </s> <s> chọn tiếp ra số nữa </s> <s> xác suất để không có số nào trong số chọn ra trong lần  này có cùng giá trị với số chọn ra trong lần  là do đó xác suất để ít nhất một số chọn ra lần  bằng một số trong tập số chọn ra lần  là > </s> <s> chứng minh trên có thể được mở rộng ra trong trường hợp ta chọn số từ tập  thì xác suất tìm được hai số trùng nhau ít nhất là </s> <s> ứng dụng nổi bật nhất của nghịch lý ngày sinh là trong thuật tóa pollards rho mà chúng ta đã có dịp tìm hiểu trước đây </s> <s> một ứng dụng khác là trong thiết kế không gian khóa của bảng băm </s> <s> giả sử hệ thống của bạn có khoảng  triệu người dùng </s> <s> vì lí do bảo mật bạn không muốn lưu tên đăng nhập của người dùng mà muốn thiết kế một hàm băm để băm tên đăng nhập thành một xâu kí tự </s> <s> đương nhiên bạn không muốn hai tên đăng nhập khác nhau cùng được băm vào một khóa </s> <s> vậy bạn cần phải chọn khóa đầu ra là ít nhất bao nhiêu bít để đảm bảo điều này với xác suất cao giả sử hàm băm của bạn băm mỗi tên đăng nhập thành một số ngẫu nhiên </s> <s> áp dụng nghịch lý ngày sinh bạn có thể tính được nếu sử dụng  bít đầu ra xác suất hai người được băm vào một khóa khá cao </s> <s> nếu đầu ra là  bít xác suất này giảm xuống chỉ còn cỡ  một con số bạn có thể tin tưởng được </s> <s> nghịch lý ngày sinh cũng lí giải tại sao mà các hàm băm mật mã cryptographic hash functions như họ các hàm băm thường có số bít đầu ra khá lớn  bít hoặc  bít vì các hàm băm này thường được dùng để băm số lượng rất lớn dữ liệu mà vẫn đảm bảo không có hai đoạn dữ liệu nào có cùng mã băm đầu ra </s> <s> gần đây đã tìm ra hai đoạn dữ liệu khác nhau mà có cùng mã băm sau khi băm bằng sha </s> <s> nếu bạn làm bảo mật thì có lẽ nên tránh hàm băm này   trackback link powered by and </s> <s> thuật toán pollardrho phân tích ra thừa số pollardrho algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này là tiếp nối của về bài toán phân tích ra thừa số </s> <s> trong bài này chúng ta sẽ thảo luận thuật toán pollardrho được đề xuất bởi pollard  và năm  </s> <s> độ phức tạp của thuật toán là </s> <s> chúng ta tạm quên bài toán phân tích ra thừa số để xét hai bài toán thú vị sau như ta đã biết theo nguyên lý dirichlet hay  trong  người thì sẽ có ít nhất hai người có cùng ngày sinh không tính năm nhuận nhé </s> <s> không có gì đặc biệt trong phát biểu này </s> <s> tuy nhiên nhìn dưới quan điểm của xác suất thì mở rộng của phát biểu này có những tính chất rất thú vị </s> <s> theo quan điểm của xác suất phát biểu trên có thể được phát biểu lại như sau trong  người xác suất tìm được hai người có cúng ngày sinh là </s> <s> giả sử xác xuất một người bất kì có ngày sinh vào một ngày nào đó trong năm là </s> <s> ta mở rộng phát biểu đó ra bài toán sau </s> <s> lời giải của bài toán trên vô cùng kinh ngạc chỉ cần  người </s> <s> lời giải đó minh họa cho một nghịch lí mà người ta gọi là ngịch lí ngày sinh nhất  </s> <s> gọi là sự kiện trong người không có hai người nào có cùng ngày sinh </s> <s> cố định ngày sinh của người thứ nhất </s> <s> ta códo đó ta có với  ta có   do đó xác suất để ít nhất hai người có cùng ngày sinh là </s> <s> </s> <s> bằng phân tích tương tự như trên xác suất để không có hai người nào trong số người có cùng ngày sinh trong thế giới là giả sử nhỏ hơn nhiều so với như với cũng là nhỏ hơn nhiều rồi sử dụng xấp xỉ  ta có thay thì ta có </s> <s> từ đó suy ra xác suất tìm được hai người có cùng ngày sinh ít nhất là </s> <s> để giải bài toán này chúng ta có thể tiến hành duyệt danh sách từ phần tử  lưu giữ thông tin về những phần tử đã duyệt qua </s> <s> mỗi lần duyệt đến phần tử mới ta lại so sánh với các phần tử đã duyệt qua để phát hiện vòng </s> <s> thuật toán này sẽ mất thời gian và bộ nhớ </s> <s> </s> <s> tuy nhiên thuật toán rùa và thỏ  hay còn gọi thuật toán floy sẽ cho ta lời giải với thời gian và bộ nhớ </s> <s> như cái tên của thuật toán ta sẽ sử dụng hai con trỏ </s> <s> một con trỏ chạy với vận tốc và con kia chạy với vận tốc </s> <s> nếu hai con trỏ gặp nhau thì danh sách có vòng </s> <s> giả mã như sau </s> <s> bây giờ chúng ta sẽ quay trở lại bài toán phân tích ra thừa số </s> <s> thuật toán pollard kết hợp ý tưởng từ hai bài toán tưỏng chừng như chả liên quan gì ở trên </s> <s> để việc phân tích và trình bày thuật toán đơn giản giả sử trong đó là hai số nguyên tố </s> <s> việc mở rộng phân tích ra trường hợp tổng quát coi như bài tập cho bạn đọc </s> <s> giả sử ta chọn số ngẫu nhiên trong khoảng </s> <s> xét dãy </s> <s> nếu tồn tại hai số sao cho  thì ta có </s> <s> từ đó suy ra chia hết cho </s> <s> do đó ta có thể tính tính ước chung lớn nhất có thể được thực hiện khá hiệu quả sử dụng thao tác bít </s> <s> một câu hỏi đặt ra là cần sinh bao nhiêu số ngẫu nhiên thì xác suất tìm được là khá cao nếu phân tích kĩ bài toán này thì đây chính là bài toán trong nghịch lý ngày sinh </s> <s> thế giới ở đây chính là thế giớ đồng dư modulo và số ngày ở đây là </s> <s> do đó nếu chọn thì xác suất tìm được hai số ta gọi là cặp số tốt như vậy ít nhất là </s> <s> để tăng xác suất tìm được cặp số tốt ta chỉ việc tăng lên </s> <s> cụ thể nếu tăng lên thì xác suất là chứng minh coi như bài tập  chỉ cần mở rộng chứng minh ở trên </s> <s> ví dụ ta muốn xác suất là thì ta sẽ tăng lên  </s> <s> nhưng ở đây ta đang đi tìm  làm sao ta xác định được  thực tế ta không cần xác định mà ta cứ sinh ngẫu nhiên có thể vô hạn cho đến khi ta tìm được thỏa mãn </s> <s> phân tích trên chỉ ra rằng quá trình sinh đó sẽ </s> <s> gỉa sử ta đã sinh được số ngẫu nhiên và ta cũng đã biết rằng sẽ tồn tại một cặp số tốt trong số các số đã sinh đó </s> <s> để tìm cặp số tốt này ta phải duyệt qua cặp </s> <s> thời gian để duyệt đó là nhắc lại  cách này không tốt hơn thuật toán mà chúng ta đã biết </s> <s> wait bài toán phát hiện vòng trong danh sách liên kết có thể có liên quan gì đó ở đây sự thông minh của thuật toán pollard chính là ở chỗ này </s> <s> để giải quyết vấn để này pollard đề xuất sử dụng một hàm giả ngẫu nhiên để sinh dãy </s> <s> hàm đơn giản nhất thỏa mãn tính chất này là mình không đi sâu giải thích tại sao knuth  là nguồn tham khảo khá đầy đủ của vấn đề này </s> <s> như vậy ta sẽ chỉ sinh một số hoàn toàn ngẫu nhiên và các phần tử còn lại sẽ sinh được sinh dựa trên </s> <s> dãy số ngẫu nhiên ta thu được cuối cùng là do dãy được sinh bởi hàm  nếu tồn tại thì ta dễ dàng suy ra nói cách khác ta sẽ có một vòng cycle trong các dãy số bở khi lấy giống như hình vẽ vòng của danh sách liên kết ở trên </s> <s> để tìm được giá trị thỏa mãn hay tương đương với  ta chỉ cần phát hiện ra vòng trong dãy này </s> <s> đó chính là vấn đề chúng ta đã giải quyết trong phần phát hiện vòng của danh sách liên kết </s> <s> như vậy ta đã có đầy đủ các công cụ cần thiết để thực thi thuật toán pollard </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầu đủ được đính ở cuối bàithủ tục kiểm tra xem có phải là số nguyên tố hay không sử dụng </s> <s> chú ý do các phân tích trên chỉ đúng khi đủ lớn </s> <s> do đó nếu quá nhỏ ta có thể sử dụng thuật toán chính là dòng trong giả mã trên </s> <s> </s> <s> gọi là ước số nguyên tố nhỏ nhất của </s> <s> gọi là thời gian để thuật toán tìm được </s> <s> do có tối đa ước số xem phần phân tích thuật toán của  thuật toán sẽ mất để phân tích thành các thừa số nguyên tố </s> <s> theo phân tích ở trên thủ tục  có thời gian kì vọng là để tìm ra một thừa số của có thể không nguyên tố do phép lấy ước chúng ở dòng của giả mã mà là một thừa số nguyên tố của </s> <s> sau khi đã tìm được  thuật toán tiếp tục gọi đệ quy để tìm </s> <s> nếu không quá nhỏ nếu không ta có thể tìm được với thời gian hằng số ta sẽ tiếp tục sử dụng  trong thời gian kì vọng  để tìm ra một thừa số của mà là một thừa số nguyên tố của </s> <s> tiếp tục như vậy ta sẽ phả mất thời gian là  trong đó là số thừa số nguyên tố của </s> <s> do  ta có </s> <s> do đó ta có code </s> <s>  pollard j </s> <s> m </s> <s>  </s> <s>  bit numerical mathematics   – </s> <s> </s> <s>  knuth donald e </s> <s> seminumerical algorithms  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn     trackback link on vì sao tn  √n </s> <s> logn  thời gian tính là otnlogn mà kết quả định lý lại là o√n ạ </s> <s> với lại chỗ knuth giải thích cho việc chọn fxx nằm ở phần nào của quyển sách vậy ạ </s> <s> </s> <s> cám ơn a ạ </s> <s> on hi bk </s> <s> cám ơn bạn đã đặt câu hỏi </s> <s> về câu hỏi đầu tiên bạn chú ý và là hai kí hiệu khác nhau </s> <s> kí hiệu sẽ bỏ qua nhân tử vì nó quá bé so với khi đủ lớn </s> <s> kí hiệu ít được dùng trong khoa học máy tính </s> <s> mình dùng kí hiệu này vì nó cho biểu thức đẹp hơn </s> <s> về câu hỏi  bạn xem trang  đoạn văn cuối cùng của vol  taocp </s> <s> hùng on vâng ạ cám ơn a nhiềupowered by and </s> <s> đẹp  </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  post này xuất phát từ post rất hay trên blog của về câu đố  con lạc đà và ứng dụng rất đẹp của ý tưởng câu đố này vào bài toán </s> <s> ba anh em mượn thêm  con lạc đà từ người hàng xóm để có  con lạc đà </s> <s> giờ họ chia theo nguyện vọng người cha </s> <s> người anh cả được con người anh thứ hai được con và người em út được con </s> <s> sau khi chia họ vẫn còn dư  con và họ trả con lạc đà này lại cho người hàng xóm </s> <s> một đồ thị là chính quy bậc  regular nếu mọi đỉnh trong đồ thị đều có bậc  số cạnh kề với mỗi đỉnh là  </s> <s> một cặp ghép matching được gọi là hoàn hảo perfect matching nếu mọi đỉnh đều xuất hiện trong cặp ghép </s> <s> gọi là số đỉnh của đồ thị mỗi phía có đỉnh </s> <s> ta chọn một số sao cho với logarithm cơ số  </s> <s> tại sao luôn chọn được như vậy xem gợi ý ở cuối bài </s> <s> với mỗi cạnh của đồ thị ta thêm bản copy để thu được một với mỗi đỉnh có bậc </s> <s> sau đó ta thêm một cặp ghép hoàn hảo không nhất thiết phải là cặp ghép của đồ thị vào đồ thị </s> <s> gọi là đồ thị thu được sau hai bước này </s> <s> không khó để thấy mỗi đỉnh trong có bậc </s> <s> do mọi đỉnh có bậc chẵn tồn tại một đi qua mọi cạnh của đồ thị đúng một lần </s> <s> đánh số các cạnh bắt đầu từ  theo cùng chiều kim đồng hồ dọc theo chu trình </s> <s> gọi là tập các cạnh lẻ của chu trình và là tập các cạnh chẵn của chu trình </s> <s> do là đồ thị hai phía nó không có chu trình có số cạnh lẻ </s> <s> do đó mỗi là một đồ thị chính quy bậc </s> <s> ngoài ra một trong hai đồ thị   chứa không quá một nửa số cạnh của gọi là đồ thị chứa không quá một nửa số cạnh của </s> <s> tiếp tục lặp lại tìm chu trình euler của và phân thành hai đồ thị con tìm đồ thị chính quy con chứa không quá một nửa các cạnh của trong  ta thu được </s> <s> tiếp tục như vậy đến khi thu được </s> <s> do  sẽ không chứa cạnh nào của vì chỉ có cạnh </s> <s> mỗi đỉnh trong có bậc  chính là một cặp ghép hoàn hảo của </s> <s> quá đẹplàm thế nào để chọn và  ta sẽ chọn  và </s> <s> giờ bạn chỉ cần chứng minh một trong ba số   chia hết cho là xong </s> <s> chứng minh của theorem  còn có thể chuyển thành giải thuật để tìm cặp ghép hoàn hảo của trong thời gian như sau </s> <s> đầu tiên chuyển thành trong thời gian do  </s> <s> gọi là số cạnh của  sau đó tìm chu trình euler trong trong thời gian sử dụng  và đệ quy </s> <s> tổng thời gian đệ quy cho đến khi chúng ta tìm được là giải phương trình trên ta được </s> <s> thuật toán này nhanh hơn nhiều so với thuật toán  thuật toán hiện tại tốt nhất tìm cặp ghép trên đồ thị hai phía </s> <s> bài viết gốc của gil kalai </s> <s> bài báo của noga alon </s> <s> bài viết này người viết dựa trên ý tưởng của hai bài viết đã ghi trong nguồn </s> <s> bất cứ lỗi nào xuất hiện trong bài viết là lỗi của người viết bài này không phải lỗi của hai bài viết trong nguồn </s> <s>       trackback link powered by and </s> <s> giải thuật cho hệ thống gợi ý với dữ liệu lớn  a recommendation algorithm for big data </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này chúng ta sẽ nghiên cứu kĩ thuật thiết kế giải thuật cho một hệ thống gợi ý với dữ liệu rất lớn lên tới  triệu user và  triệu items </s> <s> trọng tâm của bài này là sử dụng phép băm </s> <s> gọi và lần lượt là tập các user item trong hệ thống </s> <s> một chú ý quan trọng của bài này đó là dữ liệu của chúng ta là rất lớn do đó tất cả các giải thuật với độ phức tạp là đều không thể sử dụng được </s> <s> giải thuật gợi ý thường được chia thành  dạng chínhtrong bài này chúng ta chỉ tập trung vào </s> <s> giải thuật lọc cộng tác lại chia thành  nhóm chínhmặc dù hai phương pháp này khác nhau về mặt khái niệm các thức thực thi thì lại tương tự nhau </s> <s> do đó trong bài này chúng ta chỉ tập trung vào một phương pháp mà cụ thể là phương pháp dựa trên user </s> <s> trước hết chúng ta sẽ nói đến độ đo tương tự </s> <s> thông thường với dữ liệu có số chiều cao mà thưa như visit log người ta sử dụng  độ đo chính là độ đo cosine và độ đo jaccard </s> <s> tại sao các độ đo khác không phù hợp thì chúng ta không bàn thêm ở đây xem thêm tại  </s> <s> với độ đo cosine chúng ta coi mỗi user như một vector với mỗi chiều tương ứng với một item </s> <s> sự tương tự giữa  user được tính là cosin giữa  vector tương ứng </s> <s> do độ đo cosine sử dụng căn bậc  một thao tác khá tốn kém nên ta sẽ không dùng </s> <s> như vậy lựa chọn còn lại là độ đo jaccard </s> <s> độ đo jaccard giữa  tập hợp và được định nghĩa như sau ví dụ  thì độ đo jaccard của và là độ đo jaccard áp dụng cho hai user cho trước chính là độ tương tự giữa  tập item tương ứng mà  user đó thăm </s> <s> ví dụ đã thăm các item và đã thăm các item thì độ tương tự giữa và là </s> <s> sau khi ta đã thống nhất một độ đo tương tự ta có thể thực hiện gợi ý đơn giản như sau hai vòng lặp ngoài cùng sử dụng bước lặp </s> <s> tính mất thời gian  trong trường hợp tồi nhất </s> <s> trong thực tế số các item được xem bởi một user thường nhỏ hơn tổng số items rất nhiều và có thể coi là </s> <s> như vậy trong trường hợp lạc quan nhất thì thời gian của thuật toán vẫn là </s> <s> trong thuật toán trên với mỗi user  ta chỉ quan tâm đến các user mà giá trị thực tến của thường là  </s> <s> trong thực tế các user có thường không quá nhiều khoảng vài ngàn </s> <s> tuy nhiên thuật toán trên phải duyệt qua tất cả các user để lọc ra những user có độ tương tự cao với </s> <s> một ý tưởng cải tiến khá tự nhiên đó là sử dụng một hàm băm thỏa mãn nếu thì sẽ được băm vào cùng một cụm với xác suất cao và ngược lại </s> <s> ở đây ta nói với xác suất cao là vì các hàm băm tốt về mặt lý thuyết đều phải là các hàm băm ngẫu nhiên </s> <s> hàm băm với tính chất như trên được gọi là hàm băm lsh locality senstive hashing </s> <s> giả sử hàm băm như thế tồn tại giải thuật có thể được viết lại như sau chúng ta có thể dễ dàng nhận ra trong kịch bản tốt nhất thời gian của thuật toán trên là trong phần này chúng ta sẽ thảo luận cách thức thực thi thuật toán </s> <s> trước hết ta tạm quên đi condition  thay vào đó ta xem xét gợi ý với hàm băm đơn giản sau </s> <s> hàm  về cơ bản trả về chỉ nhỏ nhất trong hoán vị trong số các item mà đã xem trong quá khứ </s> <s> ví dụ ta có  items và user thăm </s> <s> giả sử hoán vị chúng ta sinh ra ngẫu nhiên là </s> <s> có nghĩa là có chỉ số  có chỉ số  và có chỉ số  </s> <s>  sẽ trả về vì  là chỉ số nhỏ nhất trong tập chỉ số </s> <s> câu hỏi mà ta sẽ tìm hiểu với hàm băm này đó là xác suất hai user và có cũng mã băm băm vào cùng một cụm là bao nhiêu trong đó  </s> <s> </s> <s> dễ thấy trong tập item  xác suất để một item bất kì có chỉ số nhỏ nhất trong hoán vị ngẫu nhiên là </s> <s> mở rộng ra xác suất để một item bất kì trong một tập con các item của có chỉ số nhỏ nhất trong hoán vị ngẫu nhiên là </s> <s> do đó xác xuất để chính là xác suất mà một phần tử bất kì trong tập hợp trở thành phần tử có chỉ số nhỏ nhất trong tập hợp </s> <s> xác suất này chính là </s> <s> từ phân tích ở trên ta thấy hàm băm mà ta chọn thông qua hoán vị ngẫu nhiên có một tính chất khá thú vị đó là xác suất hai user được băm vào một cụm bằng độ tương tự jaccard giữa hai user đó </s> <s> tuy nhiên ta chưa thể áp dụng ngay ý tưởng này vào gợi ý được vì còn hai lí dota sẽ giải quyết vấn đề đầu tiên trước </s> <s> phần này ta sẽ nghiên cứu phương pháp đơn giản để tăng cường xác suất sao cho hàm băm ở trên thỏa mãn condition  </s> <s> thay vì chỉ sử dụng một hàm băm ta sẽ sử dụng hàm băm minhash như trên bằng cách chọn hoán vị ngẫu nhiên khác nhau </s> <s> chia hàm băm này thành nhóm mỗi nhóm hàm băm </s> <s> với mỗi user ví dụ  ta sẽ băm vào cụm trong đó mỗi cụm sẽ tương ứng với hàm băm </s> <s> ví dụ với  ta chia hàm băm thành  nhóm mỗi nhóm  hàm băm </s> <s>  nhóm đó là   </s> <s> như vậy mỗi user sẽ được phân vào  cụm đó là </s> <s> ví dụ với  thì ta có </s> <s> từ đó ta suy ra xác suất để hai user với độ tương tự ít nhất được băm vào cùng ít nhất một cụm là </s> <s> rõ ràng xác suất này cao hơn nhiều so với </s> <s> hay nói cách khác ta đã tăng cường được xác suất mà hai users được băm vào cùng một cụm </s> <s> trong thực tế với ngưỡng cho trước ta chỉ việc chọn sao cho phù hợp </s> <s> vấn đề đầu tiên coi như đã xong </s> <s> ta tiếp tục với vấn đề thứ  làm sao để thực hiện hàm băm với hoán vĩ ngẫu nhiênnhư đã phân tích ở trên ta cần bít để mô tả một hoán vị ngẫu nhiên </s> <s> rất may dựa vào phân tích của theorem  ta thấy chúng ta không nhất thiết phải sử dụng hoán vị ngẫu nhiên để thực hiện hàm băm </s> <s> tính chất mà chúng ta cần đó là một hàm ngẫu nhiên có thể ánh xạ tập hợp vào tập các số nguyên ví dụ  bít sao cho xác suất để một phần tử bất kì trong có giá trị ảnh nhỏ nhất trong là </s> <s> điều này lại gợi cho chúng ta sử dụng hàm băm </s> <s> hàm băm thỏa mãn tính chất này người ta gọi là hàm băm minwise independent hashing mih  </s> <s> mình sẽ không đi sâu thêm ở đây vì lý thuyết của loại hàm băm này khá phức tạp </s> <s> các bạn xem thêm tại  và cách xấp xỉ hàm băm này trong  </s> <s> sau đây là giải mã của giải thuật đầy đủ kết hợp tất cả các ý tưởng ở trên </s> <s> dễ thấy trong kịch bản tốt nhất thời gian của thuật toán là vì số lượng hàm băm mà ta chọn trong thực tể chỉ khoảng vài chục đến vài trăm </s> <s> </s> <s>  das abhinandan s </s> <s>  mayur datar ashutosh garg and shyam rajaram </s> <s> proceedings of the th international conference on world wide web </s> <s> acm  </s> <s> </s> <s>  jure leskovec anand rajaraman jeff ullman </s> <s>  nd edition chapter  </s> <s> </s> <s>  fnv hash function http//isthe </s> <s> com/chongo/tech/comp/fnv/ accessed // </s> <s>  broder andrei z </s> <s>  moses charikar alan m </s> <s> frieze and michael mitzenmacher </s> <s> in proceedings of the thirtieth annual acm symposium on theory of computing pp </s> <s>  </s> <s> acm  </s> <s> </s> <s>  indyk piotr </s> <s> journal of algorithms  </s> <s>    </s> <s>      trackback link powered by and </s> <s> cây khung nhỏ nhất thuật toán kkt  kkt algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  thuật toán kkt là thuật toán ngẫu nhiên tìm cây khung nhỏ nhất với xác suất cao trong thời gian tuyến tính được phát triển bởi klein karger và tarjan </s> <s> ý tưởng của thuật toán này rất đẹp và hi vọng bài này sẽ truyền tải được cái đẹp đó đến các bạn </s> <s> nội dung kiến thức của bài viết này có thể coi ở mức độ cao cấp do đó nhiều chi tiết đơn giản mình sẽ bỏ qua </s> <s> bạn đọc nếu chưa từng đọc các bài viết trước về cây khung nhỏ nhất thì xin xem lại các bài viết đó trước khi đọc tiếp </s> <s> trong bài viết này mình sẽ giải sử trọng số của các cạnh là duy nhất i </s> <s> e không có hai cạnh nào có trọng số giống nhau </s> <s> trong bài  mình đã đưa ra cách để thực hiện giải thuyết này với đồ thị đầu vào bất kì trong thời gian tuyến tính </s> <s> mình khuyến khích bạn đọc xem lại </s> <s> với giả sử này </s> <s> giả sử bạn tung một đồng xu với xác suất mặt ngửa là do đó xác suất mặt sấp là  </s> <s> bạn muốn tung đồng xu đó đến khi nào bạn thu được một mặt ngửa </s> <s> gọi là số lần tung cần thiết </s> <s> khi đó ta có phân phối phân phối của được gọi là phân phối hình học  </s> <s> kì vọng của phân phối này là tính chất này mình không chứng minh mà gợi ý bạn đọc xem tại </s> <s> từ đó ta có hệ quả </s> <s> bài toán trên gọi là bài toán xác nhận cây khung nhỏ nhất mst verification </s> <s> khác với bài toán cây khung nhỏ nhất bài toán này có thể được giải quyết trong thời gian tuyến tính </s> <s> giải thuật không đơn giản và ý tưởng cũng không quá đẹp </s> <s> xem  để biết thêm chi tiết </s> <s> sau đây mình sẽ đưa ra mấy tính chất cơ bản của cây khung mà các thuật toán xác nhận áp dụng </s> <s> gọi là một rừng forest của đồ thị </s> <s> với mỗi cặp đỉnh của  gọi là trọng số của cạnh có trọng số lớn nhất trên đường đi duy nhất từ đến trong </s> <s> quy ước nếu thuộc hai cây khác nhau của thì </s> <s> cạnh được gọi là nếu > và được gọi là nếu ngược lại </s> <s> ta có một số nhận xétgiải thuật của king cho chúng ta theorem sau để xác nhận cây khung có phải là nhỏ nhất không ta áp dụng theorem  để tìm tất cả các cạnh heavy của đồ thị </s> <s> nếu tập trả về là rỗng cây sẽ là cây khung nhỏ nhất và ngược lại nếu tập trả về là khác rỗng tại sao </s> <s> do đó ta có thuật toán kkt trực tiếp áp dụng thuật toán borůvka và giải thuật xác nhận cây khung nhỏ nhất của king theorem  </s> <s> chúng ta đã biết thuật toán borůvka tìm cây khung nhỏ nhất bằng cách lặp lại  thao tác sau cho đến khi đồ thị chỉ còn một đỉnhta gọi  thao tác trên là một borůvkastep </s> <s> sau mỗi borůvkastep ít nhất cạnh sẽ bị co và do đó số đỉnh của đồ thị giảm ít nhất một nửa </s> <s> từ đó suy ra số vòng lặp của thuật toán borůvka là </s> <s> do đó tổng thời gian của thuật toán là ovelog v vì mỗi bước co có thể được thực hiện trong thời gian </s> <s> giả sử đồ thị sau mỗi bước đều thưa  với hằng số nào đó thì thời gian của thuật toán borůvka là trong đó là tổng số vòng lặp của thuật toán borůvka </s> <s> do đó thời gian của thuật toán là tuyến tính </s> <s> trong trường hợp đồ thị phẳng thì đồ thị sau mỗi bước của thuật toán borůvka đều thưa do đó thuật toán là tuyến tính </s> <s> tuy nhiên sau một số bước co cạnh đồ thị sẽ trở nên dày hơn </s> <s> giải quyết vấn đề này chính là cái hay của thuật toán kkt </s> <s> thuật toán kkt sẽ xóa đi một số cạnh dư thừa i </s> <s> e các cạnh mà ta biết chắc chúng không nằm trong cây khung nhỏ nhất </s> <s> sau khi xóa đồ thị lại trở nên thưa và do đó tiếp tục áp dụng thuật toán borůvka </s> <s> phân tích ở trên chỉ ra rằng thời gian cuối cùng sẽ là tuyến tính </s> <s> nice </s> <s> làm thế nào xóa được các cạnh dư thừa </s> <s> xem lại theorem  </s> <s> các cạnh heavy của bất kì rừng nào đó sẽ là dư thừa </s> <s> xóa các cạnh dưa thừa đó đi thì chỉ còn các cạnh light trong đồ thị </s> <s> thuật toán kkt sử dụng ngẫu nhiên để tìm ra rừng sao cho số cạnh light là nhỏ </s> <s> do đó đồ thị sau khi xóa cạnh heavy là thưa </s> <s> chi tiết như saugọi là đồ thị thu được bằng cách lấy mẫu sampling mỗi cạnh của đồ thị với xác suất </s> <s> hay nói cách khác với mỗi cạnh của  ta tung một đồng xu có xác suất mặt ngửa là </s> <s> nếu đồng xu là ngửa thì ta thêm cạnh đó vào  và không làm gì cả nếu đồng xu có mặt sấp </s> <s> gọi là rừng khung nhỏ nhất của gọi là rừng khung vì có thể không liên thông </s> <s> ta có ta sẽ sử dụng thuật toán kruskal để chứng minh các bạn nên xem lại thuật toán này </s> <s> giả sử ta sắp xếp các cạnh của theo trọng số giảm dần </s> <s> khởi tạo và rỗng </s> <s> với mỗi cạnh theo thứ tự đã sắp xếp ta tung một đồng xu có mặt ngửa xác suất  </s> <s> nếu đồng xu có mặt ngửa thì ta thêm vào </s> <s> nếu là light thì ta thêm vào </s> <s> sau khi quá trình kết thúc chính là rừng khung nhỏ nhất của quá trình thêm cạnh vào chính là thuật toán kruskal </s> <s> nên nhớ các cạnh heavy trong thì cũng là heavy trong </s> <s> do đó các cạnh này là dư thừa </s> <s> ta giờ phân loại đồng xu thành  loại loại k và loại k </s> <s> nếu cạnh là heavy trong thì đồng xu mà ta tung là loại k và ngược lại là loại k </s> <s> loại đồng xu k sẽ không liên quan gì đến số cạnh light cuối cùng trong vì cho dù nó là mặt sấp hay ngửa thì cạnh đó vẫn là cạnh dư thừa </s> <s> ta chỉ cần đếm xem có bao nhiêu loại k ta đã tung </s> <s> nên nhớ rừng có tối đa cạnh </s> <s> theo corollary  với kì vọng tung tối đa lần ta sẽ thu được rừng những cạnh với đồng xu k mà không thuộc sẽ là các cạnh light của  </s> <s> do đó số cạnh light tối đa trong là </s> <s> tổng hợp tất cả những gì ta đã thảo luận ta thu được giải thuật sau trong giải thuật kkt chúng ta  lần gọi đệ quy một lần trên và một lần trên </s> <s> gọi là thời gian tính toán của thuật toán trên đồ thị gốc  với lần lượt là số đỉnh cạnh của đồ thị </s> <s> chú ý do thuật toán là ngẫu nhiên là một biến ngẫu nhiên </s> <s> ta sẽ tính kì vọng </s> <s> nhận xét thấy kì vọng số đỉnh và cạnh của đồ thị lần lượt là và </s> <s> kì vọng số đỉnh của là và kì vọng số cạnh theo theorem  là </s> <s> chú ý ở đây ta áp dụng  bước borůvka nên số đỉnh giảm đi còn tối đa sau hai bước này </s> <s> ngoại trừ  thủ tục đệ quy các thao tác khác trong thuật toán kkt đều có thể tính được trong thời gian tuyến tính </s> <s> gọi thời gian đó là với là một hằng số </s> <s> ta có ta sẽ chứng minh bằng quy nạp </s> <s> thật vậy từ  ta có </s> <s> do đó ta có trong  các tác giả còn chứng minh được rằng thời gian chạy của thuật toán là với xác suất ít nhất </s> <s> mình khuyến khích bạn đọc tham khảo thêm </s> <s>  karger david r </s> <s>  philip n </s> <s> klein and robert e </s> <s> tarjan </s> <s> journal of the acm jacm  </s> <s>    </s> <s> </s> <s>  king valerie </s> <s> algorithmica  </s> <s>    </s> <s> </s> <s>  hagerup torben </s> <s> international workshop on graphtheoretic concepts in computer science </s> <s> springer berlin heidelberg  </s> <s> </s> <s> </s> <s>  uri zwick </s> <s> </s> <s> tel aviv university  </s> <s>     trackback link powered by and </s> <s> mảng mở rộng và ứng dụng trong ngăn xếp hàng đợi  extendable array stack and queue </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  ngăn xếp stack là cấu trúc dữ liệu trong đó phần tử nào được đưa vào sau cũng sẽ được lấy ra trước </s> <s> hàng đợi queue là cấu trúc dữ liệu trong đó phần từ nào được đưa vào trước sẽ được lấy ra trước </s> <s> tưởng tượng ngăn xếp giống như một chồng sách cuốn sách trên đầu của chồng sách là cuốn sách được đưa vào cuối cùng khi bạn lấy một cuốn sách ra khỏi chồng thì bạn nên lấy cuốn ở trên cùng </s> <s> hàng đợi thì giống như khi bạn xếp hàng trong siêu thị ai xếp hàng trước sẽ được thanh toán đi ra khỏi hàng đợi trước </s> <s> đó là tất cả những gì bạn cần biết về ngăn xếp và hàng đợi </s> <s> </s> <s> </s> <s> a minh hoạ ngăn xếp </s> <s> các phần tử được đưa vào push đỉnh ngăn xếp và cũng được lấy ra pop từ đỉnh của ngăn xếp </s> <s> b minh họa hàng đợi </s> <s> các phần tử được đưa vào enqueue cuối hàng đợi và cũng được lấy ra dequeue từ đầu của hàng đợi </s> <s> thực thi ngăn xếp có hai cách sử dụng mảng hoặc sử dụng </s> <s> nếu thực hiện bằng mảng kí hiệu là  ta cần một biến kí hiệu là  để xác định phần tử đầu tiên của ngăn xếp </s> <s> phần tử chính là phần tử trên cùng của ngăn xếp phần tử được đưa vào ngăn xếp gần đây nhất </s> <s> mỗi khi chèn vào ngăn xếp dữ liệu  ta thực hiện hai bướckhi lấy phần tử ra khỏi ngăn xếp ta sẽ copy dữ liệu từ ra một biến  giảm  đơn vị và trả lại giá trị của biến </s> <s> nếu thực hiện ngăn xếp bằng dslk mỗi khi thêm vào ngăn xếp ta luôn chèn vào đầu của dslk  chúng ta đã có nhận xét là chèn vào đầu dslk luôn hiệu quả và sạch sẽ hơn chèn vào đuôi </s> <s> khi lấy dữ liệu ra khỏi ngăn xếp ta lấy dữ liệu ra từ mắt xích đầu tiên của dslk </s> <s> thực thi hàng đợi ta cũng có hai cách tương tự như ngăn xếp chỉ có thứ tự lấy ra và đưa vào là khác </s> <s> khi đưa vào hàng đợi bạn nên đưa vào đuôi của dslk và lấy ra từ đầu của dslk nếu cấu trúc bạn sử dụng là dslk đơn tại sao không làm ngược lại </s> <s> nếu bạn sử dụng dslk đôi thì bạn có thể làm ngược lại lấy ra từ đuôi và chèn vào đầu của dslk </s> <s> do thực thi ngăn xếp và hàng đợi có nhiều điểm tương tự nhau từ đây trở đi mình chỉ nói về thực thi ngăn xếp </s> <s> trong hai cách thực thi trên mỗi cách đều có một điểm yếu riêng </s> <s> trong phương pháp thực thi bằng mảng ta cần phải biết trước lượng bộ nhớ tối đa của hàng đợi tại một thời điểm bất kì để khai báo và cấp phát bộ nhớ cho mảng </s> <s> trong một số trường hợp ví dụ  ta có thể ước lượng được lượng bộ nhớ này một cách khá chính xác </s> <s> tuy nhiên trong hầu hết các trường hợp khác rất khó để biết trước </s> <s> cho dù biết trước lượng bộ nhớ tối đa này không phải tại thời điểm nào ta cũng cần dùng hết lượng bộ nhớ khai báo </s> <s> điều này dẫn đến </s> <s> nếu thực thi bằng dslk ta có thể khắc phục dư thừa bộ nhớ nhưng mỗi lần thêm một mắt xích mới ta lại phải thực hiện cấp phát bộ nhớ cho mắt xích đó </s> <s> các hàm cấp phát bộ nhớ ví dụ hàm malloc trong c nói chung đều liên quan đến một chuỗi các thủ tục khác để quản lí bộ nhớ </s> <s> do đó mỗi lần cấp phát bộ nhớ như vậy cũng không hề rẻ </s> <s> nếu coi cách thực thi mảng là một cách thực thi đổi bộ nhớ lấy tốc độ thì cấu trúc mảng mở rộng extendable array ta nói tới ở đây cũng có tính chất tương tự </s> <s> tuy nhiên mảng mở rộng cho phép ta kiểm soát được lượng bộ nhớ hi sinh để đổi lại thời gian thực thi do đó nó phù hợp trong ứng dụng thực thi ngăn xếp hàng đợi </s> <s> vector trong c chính là cấu trúc mảng mở rộng </s> <s> mảng mở rộng còn được biết tới một cái tên khác là dynamic array </s> <s> mình không thích từ động lắm nên dùng từ mở rộng </s> <s> cái tên chuẩn hơn có lẽ là mảng tự mở rộng hoặc mảng tự điều chính kích thước </s> <s> tất cả đều dài nên tạm thời dùng từ mảng mở rộng vậy </s> <s> bạn nào có tên hay thì comment xuống dưới giúp mình </s> <s> về cơ bản mảng mở rộng extendable array là một cấu trúc dựa trên mảng </s> <s> mảng này gọi là  ban đầu được cấp phát một lượng bộ nhớ nhỏ  phần tử chẳng hạn như trong  </s> <s> để đơn giản ta giả sử chỉ thực hiện chèn vào cuối mảng mở rộng </s> <s> thao tác xóa sẽ được bàn thêm ở phần dưới </s> <s> mỗi lần chèn một phần tử vào cuối mảng ta sẽ đề cập đến xóa sau nếu mảng đã đầy thì ta ba thao tác trên có vẻ rất tốn kém và thực sự là nó tốn kém vì phải xóa toàn bộ mảng cũ và tạo một mảng mới </s> <s> điểm mấu chốt ở đây là ta sẽ phải thường xuyên thực hiện ba thao tác trên vì ta chỉ thực hiện khi nào mảng đầy </s> <s> nhận xét mỗi lần thực hiện ba thao tác trên ta tăng bộ nhớ lên lần </s> <s> do đó nếu bộ nhớ hiện tại của mảng là thì tổng số lần thực hiện ba thao tác là </s> <s> mỗi lần thực hiện ba thao tác trên ta trả thời gian để khởi tạo và copy do đó tổng thời gian là </s> <s> phân tích kĩ hơn trình bày dưới đây cho thấy tổng thời gian phải trả vẫn chỉ là  hay nói cách khác thời gian armotized time cho mỗi thao tác chèn là </s> <s> chú ý ở đây ta vân chưa xét phép xóa khỏi mảng </s> <s> để thực thi các thao tác trên ta cần thêm hai biến i biến lưu trữ dung lượng capacity của mảng hiện tại và ii biến để lưu số phần tử hiện tại lưu trữ trong mảng hay lượng dữ liệu của mảng </s> <s> ta sẽ kí hiệu mảng mở rộng bằng bộ ba biến </s> <s> ban đầu khởi tạo mảng ta cấp phát một mảng kích thước hằng số </s> <s> ở đây ta khởi tạo là để dễ phân tích </s> <s> </s> <s> ta có </s> <s> để trình bày được đơn giản ta giả sử nguyên </s> <s> dễ thấy nếu bỏ qua thao tác mở rộng thì tổng thời gian chèn phần tử là </s> <s> ta chỉ cần đếm số thao tác xảy ra trong quá trình mở rộng </s> <s> gọi </s> <s> do ta chỉ thực hiện mở rộng mảng mỗi khi số phần tử của mảng là với  và mỗi lần mở rộng ta mất thời gian là kích thước của mảng i </s> <s> e thời gian </s> <s> ta có tổng thời gian mở rộng mảng là từ  ta suy ra tổng thời gian chèn là bằng một chút phân tích nhỏ coi như bài tập cho bạn đọc ta thấy lượng bộ nhớ dư thừa là tối đa là </s> <s> theorem  cho ta thấy rõ nếu ta cần tiết kiệm bộ nhớ  càng gần  thì ta cần phải trả nhiều thời gian cho mỗi thao tác chèn và ngược lại ta càng cấp phát nhiều bộ nhớ sau mỗi lần bị đầy  lớn thì khả năng dư thừa bộ nhớ càng cao nhưng thời gian mỗi thao tác chèn lại càng nhỏ </s> <s> điểm chính ở đây là ta muốn thu hồi phần bộ nhớ dư thừa sau khi xóa rất nhiều phần tử khỏi mảng để đảm bảo dung lượng của mảng không quá lớn so với lượng dữ liệu lưu trữ trong mảng i </s> <s> e </s> <s> nếu ta không nhất thiết phải thu hồi bộ nhớ thì chỉ việc xóa khỏi mảng bình thường </s> <s> ta muốn đảm bảo ngoài việc cho phép thu hồi bộ nhớ trung bình mỗi thao tác xóa và chèn có thời gian </s> <s> xét ý tưởng sau mở rộng từ ý tưởng ở trên giả sử hiện tại dung lượng của mảng là </s> <s> nếu khi ta xóa một phần tử khỏi mảng số phần tử trong mảng còn lại là  ta sẽ co bộ nhớ của mảng về bằng cách tương tự như khi chèn i cấp phát mảng mới kích thước  ii copy toàn bộ sang mảng mới và iii giải phóng bộ nhớ của </s> <s> vấn đề của ý tưởng này ở chỗ nếu và nếu ta cứ thêm một phần tử mới sau đó lại lấy ra sau đó lại thêm mới </s> <s> thao tác thêm và xóa xảy ra liên tiếp nhau thì ta phải thực hiện thao tác mở rộng và co rất nhiều lần mỗi lần có độ phức tạp </s> <s> chúng ta sẽ đi lạc đề một chút tìm hiểu một cách khác để chứng minh theorem  vì cách này cho chúng ta ý tưởng để phân tích và giải quyết trường hợp xóa khỏi mảng </s> <s> khi số phần tử của mảng đạt ngưỡng  lần mở rộng gần nhất là khi </s> <s> điều đó có nghĩa giữa hai lần mở rộng ta đã chèn vào mảng </s> <s> mở rộng mảng mất thời gian  do đó chia trung bình cho các phần tử vừa chèn vào giữa hai lần mở rộng liên tiếp ta có phân tích trên có điểm hay là ta chỉ cần nhìn vào các phần tử giữa hai lần mở rộng liên tiếp để phân tích mà không cần quan tâm đến toàn bộ mảng hiện tại </s> <s> nhận xét này cho ta cách giải quyết xóa vào cuối mảng như sau ta chỉ giải phóng bộ nhớ khi thay vì như ý tưởng trên </s> <s> nếu xóa một phần tử khỏi mảng mà số dữ liệu còn lại trong mảng  ta sẽ i cấp phát mảng mới kích thước chú ý ở đây ii copy toàn bộ sang mảng mới và iii giải phóng bộ nhớ của </s> <s> như vậy lượng bộ nhớ dư thừa tối đa là </s> <s> </s> <s> gọi là số thao tác xóa trước khi ta thực hiện co mảng </s> <s> theo cách mở rộng mảng ta chỉ mở rộng mảng đến dung lượng khi và chỉ khi dữ liệu trong mảng có kích thước </s> <s> </s> <s> do ta chỉ co mảng khi  ta phải xóa ít nhất phần tử ra khỏi mảng </s> <s> phép co mất thời gian  do đó trung bình mỗi thao tác xóa mất tối đa phần bộ nhớ dư thừa trong cấu trúc mảng mở rộng trình bày ở trên là </s> <s> về mặt lí thuyết ta có thể giảm phần bộ nhớ dư thừa này xuống còn  </s> <s> mình khuyến khích bạn đọc đọc thêm tại  </s> <s>  t </s> <s> h </s> <s> cormen c </s> <s> e </s> <s> leiserson r </s> <s> l </s> <s> rivest c </s> <s> stein   </s> <s> </s> <s> introduction to algorithms nd ed </s> <s>  </s> <s> mit press and mcgrawhill </s> <s> pp </s> <s> – </s> <s> isbn  </s> <s> </s> <s>  a </s> <s> brodnik s </s> <s> carlsson r </s> <s> sedgewick j </s> <s> munro e </s> <s> d </s> <s> demaine  </s> <s> technical report cs pdf department of computer science university of waterloo </s> <s>     trackback link powered by and </s> <s> locality sensitive hashing </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  một trong số những bài toán cơ bản có rất nhiều ứng dụng trong khoa học máy tính là bài toán tìm điểm gần nhất </s> <s> trong bài này ta chỉ xét hàm khoảng cách d </s> <s>  </s> <s>  là </s> <s> cách đơn giản nhất để thiết kế cấu trúc dữ liệu như vậy là ta sẽ tính khoảng cách giữa mọi cặp điểm và sau đó lưu vào một mảng hai nhiều ma trận dldotsldots </s> <s> mỗi khi ta nhận được điểm truy vấn mathbfp ta chỉ việc duyệt qua tất cả các điểm khác và đưa ra các điểm có khoảng cách không quá r từ mathbfp </s> <s> dễ thấymột số cấu trúc dữ liệu như có thể sử dụng khi số chiều d nhỏ thường là  hoặc  chiều </s> <s> ta có thể xây dựng các cấu trúc này trong thời gian onlog n và truy vấn có thể được trả lời trong thời gian olog n </s> <s> tuy nhiên sự phụ thuộc của hằng số ẩn sau o </s> <s>  trong các cấu trúc này là lũy thừa theo số chiều d còn gọi là hiện tượng the curse of dimensionality do đó nó không phù hợp ngay cả khi d không quá lớn d   chẳng hạn </s> <s> trong thời đại big data hiện nay ta thường phải tìm điểm gần nhất khi p có tới hàng triệu điểm và các điểm có số chiều cũng lên tới hàng triệu d sim n geq  </s> <s> ví dụ thuật toán trong học máy machine learning là một biến thể của bài toán tìm điểm gần nhất trên </s> <s>  do đó bài toán trên trở nên vô cùng khó </s> <s> cấu trúc dữ liệu bảng ở trên chỉ có thể làm việc khi  còn các cấu trúc như kd tree thì hoàn toàn vô dụng </s> <s> locality sensitive hashing lsh là một kĩ thuật xấp xỉ dùng để giải quyết tìm điểm gần nhất một cách hiệu quả khi n và d đều vô cùng lớn </s> <s> khái niệm này được giới thiệu bởi indyk và motwani  </s> <s> trình bày trong bài này phỏng theo note của matoušek  </s> <s> ý tưởng của lsh là sử dụng một hàm băm h </s> <s>  để băm các điểm dữ liệu trong p vào một bảng t </s> <s>  sao cho nếu hai điểm mathbfpmathbfq gần nhau thì khả năng cao mathbfpmathbfq sẽ được băm vào cùng một ô </s> <s> ngược lại mathbfp và mathbfq sẽ bị băm vào hai ô khác nhau </s> <s> khi trả lời truy vấn ta chỉ việc tính mã băm hmathbfp và đưa ra tất cả các điểm lưu trong ô thmathbfp </s> <s> hàm băm h </s> <s>  như vậy đưcọ gọi là kiểu locality sensitive </s> <s> </s> <s>  minh họa một hàm băm locality sensitive </s> <s> trong định nghĩa trên ta mong muốn pmathrmfar gần  còn pmathrmclose gần với  vì như vậy xác suất hai điểm gần nhau được băm vào cùng một ô lớn còn xác suất hai điểm xa nhau bị băm vào cùng một ô sẽ nhỏ </s> <s> theo định nghĩa trên với các điểm mà khoảng cách trong khoảng r leq dmathbfp mathbfq leq cr thì ta không quan tâm đến chúng sẽ bị băm vào một ô hay không </s> <s> nếu ta chọn hằng số c càng gần  thì số các điểm như vậy càng nhỏ phương pháp của chúng ta cần chính xác </s> <s> tuy nhiên bạn sẽ thấy dưới đây thời gian và bộ nhớ của cấu trúc sẽ phụ thuộc vào c theo nghĩa chúng ta càng muốn độ chính xác cao thì ta càng phải trả nhiều thời gian và bộ nhớ </s> <s> theo định nghĩa trên không chỉ áp dụng đối với không gian euclidean mà với mọi không gian metric </s> <s> trong phạm vi của bài này ta chỉ quan tâm đến không gian euclidean </s> <s> để bài toán trở nên đơn giản ta sẽ giả sử r   bằng cách nhân tập các vector hay điểm trong p với /r </s> <s> như vậy ta đã tiết kiệm được một tham số </s> <s> gọi mathbfz  zzldots zd in mathbbrd là một vector ngẫu nhiên trong đó mỗi zi sim mathcaln là một biến ngẫu nhiên có phân phối chuẩn  </s> <s> gọi u là một số ngẫu nhiên trong đoạn  u được chọn đồng đều uniformly và w là một tham số thực mà ta sẽ định nghĩa sau </s> <s> định nghĩa họ các hàm băm mathcalhmathrmgauss như sau hmathbfx  lfloor fraclangle mathbfz mathbfx ranglew  u rfloor qquad ta sẽ chứng minh xác suất mathbfx và mathbfy bị băm vào cùng một ô xấp xỉ tỉ lệ thuận với khoảng cách giữa hai điểm mathbfx và mathbfy </s> <s> mathrmprhmathbfx not hmathbfy  sqrtfracpifracdmathbfx mathbfyw  ofracw qquad </s> <s> trước khi đi vào chi tiết chứng minh ta xét ý nghĩa của lemma  </s> <s> do w là tham số ta có thể tùy chọn ta sẽ chọn w đủ lớn </s> <s> khi đó phần ofracw trong phương trình  sẽ đóng góp không đáng kể và xác suất mathrmprhmathbfx not hmathbfy </s> <s> do đó ta có thể coi xác suất này là tỉ lệ thuận với khoảng cách giữa hai điểm mathbfx và mathbfy </s> <s> điều đó có nghĩa là mathbfx và mathbfy càng gần nhau thì xác suất chúng được băm vào cùng một ô càng lớn </s> <s> đây chính là điều mà chúng ta cần </s> <s> chú ý trong phần này ta đang giả sử r   </s> <s> từ  ta suy ra họ hàm băm mathcalh định nghĩa như trong phương trình  là một họ rcrpmathrmclose pmathrmfarsensitive với pmathrmclose    sqrtfracpifracw  ofracw  và pmathrmfar    sqrtfracpifraccw  ofracw  </s> <s> để chứng minh lemma  ta cần sử dụng hai tính chất sau đây mathrmprlfloor a  u rfloor not lfloor b  u rfloor  min ab qquad z sim mathcalnab qquad  gọi s  dmathbfx mathbfy là khoảng cách giữa hai điểm mathbfx và mathbfy và ps là xác suất mathbfx và mathbfy bị băm vào cùng một ô </s> <s> theo fact  ta có mathrmprhmathbfx not hmathbfy  mathbfz   min fraclangle mathbfz mathbfx  mathbfy ranglew qquad theo fact  x  langle mathbfz mathbfx  mathbfy rangle là một phân phối chuẩn có mean  và độ lệch tiêu chuẩn dmathbfxmathbfy  s </s> <s> do đó t  x/s phân bố theo mathcaln </s> <s> từ đó suy ra  beginarray l ps  fracsqrtpi intinftyinfty min fracswt et/ dt    mathrmprtgeq fracws  fracsw intw/sw/st et/ dt  </s> <s>  mathrmprtgeq fracws  fracsw et  fracsqrtpi fracswintw/sinfty tet/ endarray qquad  trong các bài tập dưới đây mình sẽ hướng dẫn các bạn chứng minh các tính chất sau do đó từ  ta suy ra dpcm </s> <s> có mấy vấn đề mà chúng ta chưa nói rõ phần trước về họ hàm băm mathcalh trong  </s> <s> thứ nhất ta mới chỉ nói chọn w đủ lớn nhưng chưa nói chọn w lớn bao nhiêu là vừa </s> <s> thứ hai đầu ra của hàm băm trong  là toàn bộ không gian mathbbz mà để thực hiện được trên máy tính đầu ra phải hữu hạn và phải không quá lớn so với n để cấu trúc của chúng ta trở nên hiệu quả </s> <s> cả hai vấn đề sẽ được làm rõ trong phần này </s> <s> trước hết ta giả sử đã có sẵn một họ r cr pmathrmclosepmathrmfarsensitive mathcalh </s> <s> gọi alpha  fracln pmathrmclose ln pmathrmfar qquad  theo định nghĩa của mathcalh ta chỉ biết rằng pmathrmclose  pmathrmfar  >  chứ ta chưa biết sự khác biệt này lớn bao nhiêu </s> <s> đầu tiên ta sẽ khuếch đại amplify khoảng cách này bằng cách ghép nhiều hàm băm trong họ mathcalh lại với nhau </s> <s> gọi t là một số nguyên mà ta sẽ xác định sau </s> <s> ta định nghĩa một họ hàm băm mới mathcalgt trong đó mỗi hàm băm g in mathcalgt là ghép của t hàm băm độc lập trong mathcalh </s> <s> một cách hình thức mathcalgt   g hhldotsht hhldotsht in mathcalh  qquad  dễ thấy gmathbfx  gmathbfy khi và chỉ khi himathbfx  himathbfy với mọi i leq i leq t </s> <s> do đó mathcalgt là một họ r cr ptmathrmcloseptmathrmfarsensitive </s> <s> đầu ra của mỗi hàm băm g </s> <s>  trong mathcalgt là một bộ t số nguyên ttuple chứ không phải là một số </s> <s> ta có thể sử dụng thêm một hàm băm nữa để băm đầu ra của g </s> <s>  về các số nguyên trong khoảng  on phục vụ cho mục đích tìm kiếm </s> <s> thiết kế hàm băm đó như thế nào thì bạn đọc có thể xem trong bài bảng băm mình </s> <s> mặc dù băm thêm một lần nữa có thể vẫn xảy ra đụng độ để phân tích dưới đây được đơn giản ta sẽ giả sử không xảy ra đụng độ trong lần băm cuối cùng </s> <s> do đó ta có thể coi g </s> <s>  như là một hàm băm để băm vào bảng lưu trữ </s> <s> tiếp theo ta xây dựng l bảng băm tt ldots tl trong đó mỗi bằng băm tj ta sử dụng hàm băm gj chọn ngẫu nhiên từ mathcalgt để băm toàn bộ các điểm dữ liệu vào tj </s> <s> gọi g  gldots gl là tập l hàm băm đã chọn ra từ mathcalgt </s> <s> thủ tục tìm kiếm các điểm gần nhất sẽ như sau mục đích của biến k ở trên là để ghi nhớ xem chúng ta đã kiểm tra bao nhiêu điểm mathbfq </s> <s> nếu số điểm chúng ta kiểm tra lớn hơn l thì ta sẽ dừng và coi như không có điểm nào gần mathbfp cả </s> <s> thủ tục trên chỉ trả về một điểm mathbfq có khoảng cách tới mathbfp không quá cr </s> <s> ta có thể dễ dàng sửa đổi thủ tục trên để trả về số điểm hơn nếu có </s> <s> </s> <s> tính mỗi mã băm gjmathbfp mất thời gian oth t </s> <s> do ta có l bảng băm tổng thời gian để băm toàn bộ p vào tất cả các bảng là gjmathbfpl </s> <s> do mỗi bảng băm có bộ nhớ on tổng bộ nhớ của l bảng băm là oln </s> <s> mỗi lần truy vấn ta phải trả thời gian otht để tính  mã băm </s> <s> do đó tổng thời gian để tính l mã băm là othtl </s> <s> trong phần này ta sẽ xác định hai tham số quan trọng t l </s> <s> các tham số này có ảnh hưởng tới tốc độ bộ nhớ cũng như độ chính xác của cấu trúc </s> <s> từ thủ tục  ta dễ thấy nếu thủ tục đó trả về một điểm mathbfq thì khoảng cách dmathbfpmathbfq leq cr </s> <s> chú ý mục tiêu ban đầu của chúng ta tìm điểm mathbfq sao cho dmathbfpmathbfq leq r </s> <s> do đó cấu trúc này chỉ trả về một điểm xấp xỉ gần với mathbfp </s> <s> nếu không tồn tại điểm mathbfq mà dmathbfpmathbfq leq r thì thủ tục có thể trả về một điểm nhưng cũng có thể không trả về điểm nào cả </s> <s> điều này không quan trọng vì bài toán của chúng ta không yêu cầu trả về nếu như không tồn tại điểm mathbfq như vậy </s> <s> tuy nhiên nếu tồn tại ít nhất một điểm mathbfq mà dmathbfpmathbfq leq r thì thủ tục có trả về hay không phần này ta sẽ tìm hiểu câu trả lời cho câu hỏi này </s> <s> </s> <s> chú ý alpha là tham số ta định nghĩa trong phương trình  </s> <s> có hai trường hợp thuật toán trả về emptyset mặc dù vẫn tồn tại điểm mathbfq có khoảng cách tới mathbfp không quá r  điểm mathbfq bị băm vào ô khác với mathbfp trong toàn bộ l bảng băm và  khi ta đã kiểm tra l điểm mà vẫn không tìm ra điểm nào nằm có khoảng cách tới mathbfp không quá cr </s> <s> ta lần lượt tính xác suất xảy ra một trong  trường hợpth do mathcalg là một họ r cr ptmathrmcloseptmathrmfarsensitive với mỗi j xác suất để gjmathbfq not gjmathbfp  là   ptmathrmclose </s> <s> do đó xác suất để th xảy ra là p    ptmathrmclosel leq e ptmathrmclosel qquad  ở trên ta sử dụng bất đẳng thức   x leq ex </s> <s> th trường hợp này xả ra khi ít nhất l điểm bị băm vào cùng ô với mathbfp mà điểm nào cũng có khoảng cách lớn hơn cr </s> <s> do mathcalg là một họ r cr ptmathrmcloseptmathrmfarsensitive xác suất để một điểm có khoảng cách lớn hơn cr bị băm vào cùng ô tjgjmathbfp là không quá ptmathrmfar </s> <s> do đó theo tính tuyến tính của kì vọng kì vọng số điểm bị băm cùng vào một ô với mathbfp trong l bảng băm là không quá nltmathrmfar </s> <s> theo bất  xác suất để xảy ra nhiều hơn l điểm bị băm vào cùng ô với mathbfp như vậy là không quá p  fracnlptmathrmfarl fracnptmathrmfar qquad  chọn t  fraclnnln /pmathrmfar ta có p leq / </s> <s> chọn l  ptmathrmclose  elnpmathrmcloselnn/lnpmathrmfar  nalpha qquad  từ  ta suy ra p leq e </s> <s> do đó xác suất xảy ra một trong hai trường hợp theo công thức cộng xác suất là không quá /  e leq / </s> <s> phần còn lại của theorem  ta chỉ việc thay các tham số t l vào lemma  </s> <s> chú ý th  od với d là số chiều của các điểm dữ liệu </s> <s> bây giờ ta quay trở lại xác định tham số w trong phương trình  </s> <s> trong phần phân tích ở trên ta đã chỉ ra chỉ cần chọn w đủ lớn thì pmathrmclose sim   sqrtfracpifracw và pmathrmfar sim   sqrtfracpifraccw </s> <s> lúc đó ta sẽ có alpha  fracln   sqrtfracpifracwln  sqrtfracpifraccw sim frac sqrtfracpifracw sqrtfracpifraccw  fracc qquad  ở phương trình  ta sử dụng công thức xấp xỉ   x sim ex </s> <s> công thức xấp xỉ này gần chính xác khi x rightarrow  có nghĩa là khi wrightarrow infty coi c như một hằng số </s> <s> ta có ý nghĩa của lemma  là nếu ta chấp nhận tỉ lệ xấp xỉ c càng lớn thì thời gian và bộ nhớ của cấu trúc nns càng nhỏ </s> <s> điểm cuối cùng mà mình muốn nhấn mạnh trước khi kết thúc bài này đó là xác suất  </s> <s>  trong theorem  có vẻ không tốt lắm </s> <s> thực ra con số  </s> <s>  phát biểu trong đó chỉ làm cho phép chứng minh trở nên đơn giản hơn mà thôi </s> <s> có nhiều cách để khuếch đại xác suất này lên epsilon với epsilon  nhỏ tùy ý ví dụ epsilon   </s> <s>  thì xác suất là  </s> <s>  </s> <s> cách đơn giản nhất là sửa đổi cách chọn t và l trong chứng minh theorem  </s> <s> chi tiết coi như bài tập cho bạn đọc bài tập  </s> <s> nếu d sim n thì thời gian truy vấn của cấu trúc nns onalpha </s> <s> thời gian này vẫn quá lớn so với thực tế </s> <s> một cách để giảm d về olog n là sử dụng </s> <s> năm  adoni and indyk cải tiến cấu trúc nns ở trên để đạt được thời gian truy vấn xấp xỉ odn/c đối chiếu với lemma  </s> <s> trên trang web của adoni còn rất nhiều tài liệu liên quan để các bạn tham khảo </s> <s>  p </s> <s> indyk and r </s> <s> motwani </s> <s> proceedings of the thirtieth annual acm symposium on theory of computing </s> <s> acm  </s> <s> </s> <s>  j </s> <s> matoušek </s> <s> </s> <s> technical report eth zürich  </s> <s> </s> <s>  a </s> <s> andoni and p </s> <s> indyk </s> <s> the th annual ieee symposium on </s> <s> foundations of computer science focs  </s> <s> chứng minh fact  </s> <s> gợi ý không mất tính tổng quát giả sử b geq a </s> <s> viết b  u  a  ba  u rồi xét các trường hợp ba geq  và ba <  </s> <s> chứng minh rằng mathrmprt geq w/s  o/w khi t sim mathcaln giả sử w rất lớn và s là một hằng số </s> <s> gợi ý sử dụng bất đẳng thức ex geq x/ ta có mathrmprt geq w/s  intw/sinfty et dt leq intw/sinfty t dt  sử dụng ý tưởng trong lời giải bài tập  chứng minh các bất đẳng thức đã sử dụng trong chứng minh lemma  sau đây trong theorem  ta đã chứng minh xác suất thuật toán tìm được một điểm mathbfq có khoảng cách tới mathbfp là  </s> <s>  </s> <s> chứng minh rằng xác suất này là epsilon nếu ta chọn t  fraclnnln /pmathrmfarepsilon và l  nalphalnfracepsilon </s> <s> sử dụng bất đẳng thức chernoff để giảm sự phụ thuộc của t vào epsilon xuống còn ofraclnnln /pmathrmfarlnfracepsilon </s> <s>     trackback link powered by and </s> <s> thuật toán millerrabin kiểm tra tính nguyên tố  millerrabin primality testing </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong phần này chúng ta sẽ tìm hiểu bài toán kiểm tra tính nguyên tố primality testing của một số nguyên </s> <s> đây là một bài toán có rất nhiều ứng dụng trong các lĩnh vực của tin học đặc biệt trong bảo mật thông tin </s> <s> bài toán phát biểu như sau </s> <s> bằng cách duyệt qua mỗi phần tử và kiểm tra xem có phải là ước của hay không ta có thể giải bài toán này trong thời gian có thể tăng tốc thêm một chút bằng cách chỉ kiểm tra và các số lẻ </s> <s> thuật toán không phải là thuật toán có thời gian đa thức polynomial time vì đầu vào có thể biểu diễn bởi bit trong khi thời gian tính toán là </s> <s> do đó thuật toán này không thể áp dụng cho các số rất lớn </s> <s> bài toán kiểm tra tính nguyên tố có thể được thực hiện trong thời gian đa thức hay không là một câu hỏi mở trong một khoảng thời gian rất dài và được giải quyết năm  bởi manindra agrawal neeraj kayal và nitin saxena thuật toán  </s> <s> tuy nhiên thuật toán aks sử dụng thao tác bít và vì vậy không phù hợp với các ứng dụng thực tế </s> <s> thuật toán millerrabin là thuật toán ngẫu nhiên kiểm tra tính nguyên tố sử dụng thao tác bít với xác suất lỗi thấp </s> <s> do đó thuật toán này được áp dụng khả phổ biển trong các ứng dụng thực tế </s> <s> ban đầu thuật toán này được đề xuất bở miller  và là thuật toán tất định deterministic </s> <s> sau đó rabin  sửa đổi thành thuật toán ngẫu nhiên </s> <s> về lịch sử của thuật toán xem thêm tại </s> <s> do phân tích các thuật toán trong phần này dùng một số kiến thức về đồng dư và lý thuyết nhóm mình sẽ trình bày các bổ đề và thuật toán trước </s> <s> chứng minh và phân tích mình sẽ đẩy về cuối bài viết </s> <s> trước hết chúng ta xem xét thuật toán dựa trên </s> <s> định lý nhỏ fermat phát biểu như sau dựa trên fermats little theorem ta có thuật toán kiểm tra số nguyên tố của một số nguyên code của giả mã bằng ctrong giả mã trên hàm  tính ước số chung lớn nhất giữa hai số nguyên dựa trên </s> <s> hàm này sử dụng thao tác cơ bản cộng trừ modulo </s> <s> các thao tác cơ bản này đều được thực hiện sử dụng số phép thao tác bít bằng số lương bít biểu diễn </s> <s> hàm  tính sử dụng phép nhân  số bít </s> <s> để đơn giản ta sẽ giả sử phép nhân  số bít được thực hiện sử dụng thao tác bít  về mặt  ta có thể thực hiện phép nhân sử dụng thao tác bít </s> <s> do đó ta có theo định lí fermat thuật toán luôn trả lại kết quả đúng nếu đầu vào là số nguyên tố </s> <s> hầu hết các thuật toán kiểm tra nguyên tố ngẫu nhiên thỏa mãn tính chất này </s> <s> tuy nhiên nếu đầu vào là một hợp số thì thuật toán vẫn có thể trả lại prime </s> <s> một thuật toán ngẫu nhiên kiểm tra tính nguyên tố gọi là nếu với một đầu vào là hợp số đầu ra của thuật toán là prime </s> <s> với thuật toán  giả sử là một hợp số thuật toán sẽ trả lại prime nếu số lựa chọn ngẫu nhiên trong thuật toán thỏa mãn </s> <s> tồi tệ hơn nữa tồn tại những hợp số gọi là số  thỏa mãn tính chất với mọi số  </s> <s> do đó thuật toán chỉ trả lại composite khi </s> <s> tuy nhiên các ước số của cũng là những số lớn thì xác suất chọn được số nguyên có rất nhỏ </s> <s> tóm lại nếu là số carmichael thì thuật fermat có lỗi khá cao </s> <s> may mắn là số lượng các số carmichael so với  do đó thuật toán vẫn được sử dụng trong một số ứng dụng </s> <s> ngược lại nếu không phải là số carmichael thuật toán trả lại kết qủa đúng với xác xuất khá cao do đó bằng cách thực hiện lặp lại thuật toán  lần xác suất lỗi của thuật toán chỉ còn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán millerrabin có độ chnh xác khá cao ngay cả khi đầu vào là số carmichael </s> <s> thuật toán được xây dựng dựa trên định lí sau hoặc tồn tại thỏa mãn và </s> <s> </s> <s>  gọi số nguyên là căn bậc  đồng dư của modulo nếu </s> <s> nếu là một số nguyên tố ta có thể dễ dàng chứng minh được là căn bậc  đồng dư duy nhất của modulo </s> <s> gọi  ta có gọi là số nhỏ nhất sao cho </s> <s> số tồn tại vì </s> <s> theo phương trình  ta có và do đó </s> <s> từ đó ta suy ra theorem  </s> <s> gọi là một bằng chứng witness cho biết là hợp số nếu cả và trong theorem  đều không thỏa mãn </s> <s> với bằng chứng và số nguyên  thủ tục  sẽ trả về composite nếu là bằng chứng cho biết là hợp số và trả về prime nếu ngược lại </s> <s> giả mã của thuật toán millerrabin kiểm tra tính nguyên tố như sau code của giả mã bằng ctrong giả mã trên chỉ phụ thuộc vào </s> <s> do đó bạn có thể tiết kiệm bộ nhớ một chút bằng cách sử dụng hai biến thay vì cả mảng </s> <s> thủ tục thực hiện thao tác bít để tách </s> <s> thủ tục sử dụng phép nhân hai số bít và phép toán cơ bản </s> <s> do  ta suy ra ví dụ là số carmichael hãy xem thuật toán millerrabi thực hiện như thế nào </s> <s> trước hếtt tách  do đó </s> <s> giả sử  ta có do  thuật toán millerrabin sẽ trả lại </s> <s> theo theorem  thuật toán millerrabin luôn trả lại nếu đầu vào là số nguyên tố </s> <s> cũng như thuật toán fermat thuật toán millerrabin cũng có lỗi nếu đầu vào là hợp số </s> <s> tuy nhiên ngay cả khi đầu vào là số carmichael thuật toán millerrabin có lỗi khá nhỏ </s> <s> do đó thuật toán này thường được sử dụng trong thực tế để kiểm tra tính nguyên tố của một số nguyên </s> <s> </s> <s> về mặt lý thuyết có thể chứng minh được xác suất lỗi của thuật toán millerrabin trong theorem  là </s> <s> tuy nhiên chứng minh sẽ phức tạp hơn </s> <s>  xét số sau giả sử tồn tại hai số sao cho </s> <s> do là một số nguyên tố ta suy ra hoặc </s> <s> cả hai trường hợp đều không thể xảy ra </s> <s> từ đó suy ra không có hai số nào trong số trên đồng dư </s> <s> do đó số dư của dãy số trên khi lấy modulo là hoán vị của </s> <s> do đó </s> <s> </s> <s> </s> <s> </s> <s> từ đó suy ra định lý fermat </s> <s> một là một cấu trúc đại số gồm một tập hợp và một phép toán kết hợp hai phần tử của tạo ra một phần tử thứ  thỏa mãn  tiên đề sauví dụ với là một nhóm </s> <s> bạn có thể kiểm tra  tiên đề của phép thao tác trên tập hợp các số nguyên </s> <s> chú ý với không phải là một nhóm vì có phần tử nghịch đảo là </s> <s> một nhóm được gọi là hữu hạn nếu số lượng các phần tử của  thường gọi là bậc của nhóm v kí hiệu là  hữu hạn </s> <s> một nhóm là một nhóm con của nếu hai phép toán thao tác trên hai tập này là một và </s> <s> định lý nổi tiếng largrange cho biết mối quan hệ giữa bậc của một nhóm và bậc của nhóm con của nó divides ví dụ là nhóm con của chính nó </s> <s> ví dụ khác trong đó là một nhóm con của </s> <s> gọi là tập các số nguyên tố cùng nhau với và nhỏ hơn </s> <s> phép nhân đồng dư định nghĩa trên trên như sau với  là tích của lấy đồng dư modulo </s> <s> ta sẽ chứng minh là một nhóm với </s> <s> ta kiểm tra  tiên đề của nhóm  tiên đề đầu không khó để kiểm tra và coi như bài tập cho bạn đọc </s> <s> với tiên đề cuối cùng gọi là một phần tử của </s> <s> do  theo  tồn tại hai số nguyên sao cho </s> <s> suy ra  do đó là phần tử nghịch đảo của </s> <s> từ đoạn này về cuối ta chỉ xét nhóm và các nhóm con của nó </s> <s> để đơn giản ta sẽ bỏ toán tử trong kí hiệu của nhóm i </s> <s> e sử dụng luôn kí hiệu tập hợp thay cho </s> <s>  nếu  thuật toán fermat sẽ trả lại </s> <s> phép kiểm tra ước chung lớn nhất chỉ thực sự hiệu quả xác xuất tìm được số như vậy  khi là số chẵn </s> <s> do đó hiệu quả của thuật toán fermat nằm ở bước kiểm tra </s> <s> số ngẫu nhiên sau bước kiểm tra ước chung lớn nhất với sẽ là một phần tử của nhóm </s> <s> giả sử là một hợp số và không là số carmichael </s> <s> thuật toán fermat sẽ trả lại có lỗi nếu số chọn ngẫu nhiên thỏa mãn </s> <s> gọi </s> <s> nhận thấy coi như bài tập cho bạn đọc là một nhóm con của với phép nhân đồng dư module  </s> <s> do không phải là số carmichael là một nhóm con đúng của  </s> <s> theo định lý lagrange là một ước số của  do đó </s> <s> từ đó suy ra xác xuất có lỗi của thuật toán fermat là ta chỉ cần chứng minh theorem  với trường hợp là số carmichael vì phép thử fermat là một thủ tục con của thuật toán millerrabin </s> <s> trước hết ta chứng minh không có số carmichael có dạng với và là một số nguyên tố </s> <s> thật vậy giả sử claim  là sai i </s> <s> e tồn tại số carmichael có dạng </s> <s> nhóm có bậc trong đó là </s> <s> từ đó suy ra vớ mọi </s> <s> do là số carmichael  từ đó suy ra </s> <s> tuy nhiên điều này là không thể vì chia hết cho còn thì không </s> <s> do đó claim  là đúng </s> <s> như vậy không phải là lũy thừa của một số nguyên tố </s> <s> gọi là một nếu tồn tại sao cho </s> <s> định nghĩa </s> <s> ta sẽ chứng minh nếu là một hợp số lẻ và không phải là lũy thừa của một số nguyên tố thì là một nhóm con đúng của </s> <s> ta sẽ tìm một số mà </s> <s> trước hết ta có thể kiểm tra coi như bài tập cho bạn đọc các tiên đề của nhóm đối với </s> <s> vì là một hợp số lẻ và không phải là lũy thừa của một số nguyên tố tồn tại lẻ nguyên tố cùng nhau sao cho </s> <s> vì là một số mũ tồi tồn tại sao cho </s> <s> áp dụng chinese remainder theorem ta tìm được sao cho beginarraylcl b  equiv  a mod n  b  equiv   mod n endarray từ đó ta suy ra và </s> <s> nếu  ta có </s> <s> ta có hai trường hợpdo đó </s> <s> như vậy claim  là đúng </s> <s> gọi với là số mũ tồi lớn nhất </s> <s> tồn tại vì lẻ và </s> <s> giả sử không phải là bằng chứng cho biết là hợp số </s> <s> gọi là số trong theorem  có hai trường hợptheo claim  là một nhóm con đúng của  ta có xác suất số ngẫu nhiên là </s> <s> từ đó suy ra theorem  </s> <s> thông thường trong các ứng dụng chúng ta phải kiểm tra tính nguyên tố của các số rất lớn </s> <s> các số này có số lượng bít biểu diễn lớn do đó rất dễ bị hiện tượng tràn số nếu chúng ta thực thi không cẩn thận </s> <s> xét trường hợp là số nguyên  bít khi thực hiện tính sử dụng thủ tục  ở trên chúng ta sẽ phải thực hiên phép nhân hoặc với là các số nguyên  bít </s> <s> kết quả của các phép nhân này có thể vượt quá  bít và do đó chúng ta sẽ bị tràn số nếu chúng ta sử dụng kiểu giả sử bạn sử dụng ngôn ngữ  </s> <s> ta có thể giải quyết vấn đề này như sau </s> <s> trước hết tính </s> <s> sau đó ta sẽ khai báo một biến kiểu unsigned long long để lưu giữ kết quả của trước khi lấy </s> <s> bạn có thể áp dụng kĩ thuật trên cho </s> <s> tuy nhiên không phải lúc nào chúng ta cũng có thể sử dụng biến kiểu dữ liệu lớn hơn </s> <s> giả sử kiểu dữ liệu lớn nhất chúng ta có là bít thông thường là  bít hoặc  bít trong khi có kích thước bít như trong  </s> <s> để tính tích  ta thể sử dụng hai số bít để lưu trữ tích của hai số bít trước khi lấy modulo tuy nhiên ta sẽ phải tự thực hiện phép modulo </s> <s> may mắn là có một kĩ thuật giúp chúng ta tính sử dụng các số bít mà không phải thực hiện lai phép modulo </s> <s> tuy nhiên chúng ta sẽ phải sử dụng thao tác bít cho phép nhân </s> <s> thuật toán như sau </s> <s> mình khuyến khích bạn đọc thực thi và áp dụng vào bài toán kiểm tra tính nguyên tố </s> <s> code cho bài toán này mình đính ở cuối bài </s> <s> code  </s> <s> </s> <s>  miller gary l </s> <s> journal of computer and system sciences  </s> <s>    </s> <s> </s> <s>  rabin michael o </s> <s> journal of number theory  </s> <s>    </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s> </s> <s>  james r </s> <s> lee  university of washington winter  </s> <s>    trackback link on chỗ cái hàm fermattesting câu return cuối là prime bác ad ơi </s> <s> on đúng rồi bạn </s> <s> trong code thật mình để prime </s> <s> lỗi đánh máy </s> <s> cám ơn bạn đã chỉ ra </s> <s> hùng on anh cho em hỏi là trong research  thì với cùng  cài đặt hoàn toàn như nhau thuật toán ngẫu nhiên có xác suất lỗi </ thì việc chứng minh </ có nhiều ý nghĩa không ạ còn trong thực hành thì sao ạ </s> <s> dĩ nhiên là nếu chứng minh được / thì số lần lặp chỉ cần bằng  nửa so với nếu chỉ chứng minh được / </s> <s> on anh cho em hỏi là trong research với cùng với cài đặt hoàn toàn như nhau thuật toán ngẫu nhiên có xác suất lỗi </ thì việc chứng minh tiếp </ có nhiều ý nghĩa không ạ còn trong thực tế thì sao ạ </s> <s> dĩ nhiên là nếu chứng minh được </ thì số lần lặp chỉ cần bằng một nửa so với chỉ chứng minh được / on câu hỏi của bạn rất hay </s> <s> câu hỏi này để trả lời đầy đủ thì rất dài </s> <s> nhưng mình tạm trả lời ngắn gọn như saunếu nói về ý nghĩa thì mình nghĩ là nhiều </s> <s> thứ nhất nó làm thay đổi cách hiểu về thuật toán nếu thực sự xưa nay người ta chỉ mới chứng minh dc / nhưng có vừa mới có người chứng minh được / </s> <s> thứ hai các phân tích mới thường mang vào những ý tưởng mới hoặc công cụ mới </s> <s> các ý tưởng này có thể sẽ mở ra những hướng mới không chỉ với bài toán hiện tại mà cả các bài toán liên quan </s> <s> trong thực tế thì cac phân tích mới không thay đổi tính chất của thuật toán hiện tại nhưng nó thay đổi cách mà chúng ta nghĩ về nó và ứng dụng nó </s> <s> ví dụ anh a nghĩ ra một thuật toán a đơn giản với xác suất / và có thể / nhưng chưa ai chứng minh được còn anh b nghĩ ra thuật toán b có thể chậm hơn  </s> <s>  lần nhưng đảm bảo xác suất / </s> <s> nếu cài đặt thì có thể bạn sẽ chọn a hoặc b tùy vào bài toán </s> <s> nhưng nếu anh c chứng minh được thuật toán anh a có xác suất / thì có lẽ chả có lí do gì mà bạn chọn b cả </s> <s> hùng on vâng ạ cám ơn a đã giải đáp rõ ràng ạ </s> <s> on đối với code c cần highlight bạn có thể dùng trang  tạo file </s> <s> c và lấy link nhúm ở phần embed on cám ơn bạn đã gợi ý </s> <s> thực ra c code không phải là trọng tâm </s> <s> chủ yếu là mình minh họa cho một số bạn chưa quen nhiều với lập trình </s> <s> còn các bạn đã quen thì hiểu ý tưởng là các bạn đã code được rồi </s> <s> powered by and </s> <s> cây hậu tố  suffix tree </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài trước ta đã tìm hiểu các thuật toán tìm kiếm xâu với thời gian trong đó là độ dài của văn bản và là độ dài của xâu tìm kiếm </s> <s> mỗi thuật toán có đặc tính và ứng dụng riêng  là thuật toán tìm kiếm tuyến tính đơn giản nhất là thuật toán có thời gian sublinear trong thực tế có ý nghĩa về mặt lịch sử cũng như ý tưởng của thuật toán và thuật toán này còn có thể được mở rộng ra trong trường hợp thời gian thực và tìm kiếm một tập nhiều mẫu được trong phát hiện đạo văn </s> <s> tuy nhiên tất cả các thuật toán này đều rất khó mở rộng khi chúng ta muốn thực hiện các truy vấn query văn bản </s> <s> một số truy vấn thường gặp như </s> <s> ngoài hai truy vấn cuối cùng các truy vấn còn lại có thể được thực hiện lặp đi lặp lại với các xâu mẫu khác nhau </s> <s> ta có thể tưởng tượng trong thực tế văn bản có kích thước lớn còn xâu mẫu có kích thước nhỏ </s> <s> do đó một truy vấn có thể coi là nếu thời gian thực hiện truy vấn chỉ phụ thuộc vào độ dài của  không phụ thuộc vào độ dài của </s> <s> phương pháp đầu tiên chúng ta có thể nghĩ tới đó là tìm một cách biểu diễn sao cho việc thực hiện các truy vấn được thực hiện hiệu quả </s> <s> thời gian để biểu diễn sẽ được tính vào thời gian tiền xử lí </s> <s> thông thường thời gian tiền xử lí là khá lớn </s> <s> cây hậu tố suffix tree được đề xuất bởi weiner  vào năm  là một trong những cách biểu diễn có thể trả lời các truy vấn trên một cách hiệu quả </s> <s> điều đặc biệt là cây hậu tố có thể được xây dựng trong thời gian </s> <s> knuth theo  đã gọi thuật toán xây dựng cây hậu tố của winer là giải thuật của năm  </s> <s> </s> <s> ví dụ  hình dưới đây biểu diễn cây hậu tố với  nút lá </s> <s> </s> <s> </s> <s> một điều đặc biệt chú ý là </s> <s> ví dụ không có cây hậu tố biểu diễn nào thỏa mãn  tính chất ở trên mình khuyến khích bạn đọc nên thử xây dựng </s> <s> lí do sau khi bạn thử xây dựng bạn sẽ thấy không có cây hậu tố tương ứng là vì hậu tố là tiền tố của hậu tố </s> <s> tổng quát hóa ta sẽ thấy có cây hậu tố biểu diễn nó khi và chỉ khi có một hậu tố là tiền tố của một hậu tố khác </s> <s> do đó để đảm bảo ta luôn có thể xây dựng được cây hậu tố cho mọi văn bản đầu vào ta sẽ thêm kí tự  không thuộc bảng chữ cái vào cuối của văn bản </s> <s> dễ thấy sau khi thêm  trường hợp của nhận xét trên không bao giờ xảy ra </s> <s> từ đoạn này trở đi của bài viết ta luôn giả sử  </s> <s> ta sẽ biểu diễn cây hậu tố dưới dạng cấu trúc cây </s> <s> về cơ bản mỗi nút của cây hậu tố sẽ có các thông tin sau nếu có các thông tin khác lưu trữ để tăng tốc thuật toán xây dựng thì chúng ta sẽ bổ sung sau </s> <s> hậu tố với được gọi là hậu tố thứ của và kí hiệu là </s> <s> với mỗi nút của cây hậu tố  là xâu con thu được bằng cách ghép concatenation các xâu con của các cạnh trên đường đi từ nút gốc đến của </s> <s> độ dài của xâu được gọi là string depth và kí hiệu là  là viết tắt của string depth </s> <s> giả sử chúng ta đã xây dựng được cây hậu tố cho </s> <s> sử dụng cây hậu tố ta có thể trả lời một số truy vấn ở trên như saugiả mã của các truy vấn này được cho ở phần phụ lục ở cuối bài </s> <s> dưới đây chúng ta giới thiệu thuật toán đơn giản với thời gian xây dựng cây hậu tố </s> <s> bài tiếp theo chúng ta sẽ làm quen với thuật toán </s> <s> ta lần lượt xây dựng cây hậu tố bằng cách chèn lần lượt các hậu tố  trong đó là hậu tố thứ của  vào cây hậu tố hiện tại </s> <s> cây hậu tố chỉ có  nút lá và một nút gốc biểu diễn hậu tố </s> <s> tại bước thứ  thuật toán chèn hậu tố vào cây hậu tố hiện tại </s> <s> để chèn hậu tố vào cây hậu tố hiện tại  ta sẽví dụ cây hậu tối khi chèn và lần lượt tương ứng với trường hợp i và ii sẽ như ở hình vẽ sau </s> <s> giả mã của thuật toán như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính ở cuối bài </s> <s> trước hết ta phân tích xem cây hậu tố ở trên có tối đa bao nhiêu nút </s> <s> dễ dàng thấy số nút lá của cây hậu tố là  bằng kích thước của văn bản đầu vào vì mỗi nút lá ứng với một hậu tố </s> <s> trong quá trình xây dựng cây hậu tố một nút trong chỉ xuất hiện khi chèn thêm một hậu tố mới </s> <s> do đó số nút trong của cây không thể vượt quá là số nút lá </s> <s> do đó cây hậu tố có tối đa nút </s> <s> nếu biểu diễn con trỏ tới các nút con bằng mảng như thực hiện ở trên thì cần con trỏ cho mỗi nút trong của cây </s> <s> do đó mỗi nút chiếm bộ nhớ là để biểu diễn và tổng bộ nhớ cần để biểu diễn cây là </s> <s> tuy nhiên nếu ta biểu diễn con trỏ tới các nút con là một danh sách thì số lượng con trỏ của tất cả các nút trong không lớn hơn số cạnh của cây hậu tố </s> <s> vì cây hậu tố có tối đa nút nó sẽ có tối đa cạnh và do đó số con trỏ đó không quá </s> <s> như vậy bộ nhớ để biểu diễn cây trong trường hợp này là </s> <s> về mặt thời gian có thể thấy rằng thuật toán xây dựng cây hậu tố trong bước </s> <s> bước thứ tìm kiếm hậu tố trong cây hậu tố đang xây dựng hiện tại </s> <s> bước này sử dụng là chiều dài của hậu tố  phép so sánh để tìm kiếm </s> <s> do đó tổng thời gian của thuật toán là </s> <s> code của giả mã bằng c </s> <s> code của giả mã bằng cnhư đã nhắc đến ở trên để thực hiện truy vấn này với mỗi nút  chúng ta lưu thêm một trường lưu số lượng nút lá của cây con gốc </s> <s> thông tin này có thể được cập nhật trong quá trình xây dựng cây mà không làm giảm thời gian tiệm cận xây dựng cây </s> <s> </s> <s> code của giả mã bằng cđể thực hiện truy vấn này với mỗi nút  chúng ta lưu thêm một trường lưu string depth của nút </s> <s> thông tin này có thể được cập nhật trong quá trình xây dựng cây mà không làm giảm thời gian tiệm cận xây dựng cây </s> <s> </s> <s> code của giả mã bằng c </s> <s> code của giả mã bằng ccode </s> <s>  weiner peter </s> <s> switching and automata theory  </s> <s> swat </s> <s> ieee conference record of th annual symposium on </s> <s> ieee  </s> <s> </s> <s>  gusfield dan </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  carl kingsford </s> <s> </s> <s> cmsc  cmu </s> <s>  hậu tố của một xâu là một xâu con của có dạng với là một số nào đó thỏa mãn </s> <s> ví dụ thì là một hậu tố của </s> <s> chú ý là hậu tố của chính nó </s> <s>  một hậu tố của được gọi là một hậu tố riêng proper suffix nếu hậu tố đó khác </s> <s>   trackback link powered by and </s> <s> phân tích ra thừa số  integer factorization </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài toán phân tích một số nguyên thành tích của các thừa số nguyên tố là một bài toán khó nằm trong lớp các bài tóan  </s> <s> hiện tai chưa có thuật toán thời gian đa thức polynomial time nào có thể giải được bài toán này nếu có thì toàn bộ các hệ thống bảo mật hiện tại sẽ đổ vỡ </s> <s> tuy nhiên điều đó không có nghĩa là chúng ta hoàn toàn không giải được </s> <s> trong phần này chúng ta sẽ thảo luận một số thuật toán thời gian lũy thừa để giải bài toán này qua đó có một cái nhìn sâu hơn về bài toán </s> <s> </s> <s> chú ý theo định lý cơ bản của số học  phép phân tích với là duy nhất </s> <s> ý tưởng cơ bản nhất để giải quyết bài toán này là duyệt dãy số nguyên tố để tìm ước nguyên tố của </s> <s> thông thường sinh dãy số nguyên tố như vậy có thể rất tốn kém phương pháp thường dùng là sử dụng tốn khá nhiều bộ nhớ </s> <s> do đó ta sẽ duyệt qua một dãy dễ sinh hơn dãy sao cho  có thể chứa hợp số </s> <s> donald knuth  p </s> <s>  đề xuất sử dụng dãy ngoại trừ  số đầu tiên dãy có khoảng cách giữa hai số kề nhau thay đổi liên tục giữa và </s> <s> giả mã như sau </s> <s> mặc dù có thể chứa hợp số ta có thể dễ dàng chứng minh coi như bài tập cho bạn các số đầu ra của thuật toán luôn là các số nguyên tố và có giá trị tăng dần </s> <s> từ giả mã trên ta thấy số lần lặp của vòng lặp chính bằng số phần tử của dãy </s> <s> hơn nữa dãy càng gần dãy thì số lần lặp càng ít </s> <s> trong trường hợp dãy như đề xuất  số lần lặp xấp xỉ bằng </s> <s> trường hợp  số phần tử của chính là số lượng các số nguyên tố </s> <s> gọi là số các số nguyên tố nhỏ hơn hoặc bằng </s> <s> định lý sau cho chúng ta biết giá trị tiệm cận của  do đó theo prime number theorem số lần lặp của vòng trong trường hợp là  tốt hơn đề xuất lần </s> <s> với số nguyên là rất lớn sự khác nhau này thực sự không nhiều </s> <s> chúng ta có thể cải tiến thuật toán dựa trên nhận xét sau nếu không phải số nguyên tố thì </s> <s> do đó trong vòng lặp ở trên ta chỉ việc thêm thủ tục kiểm tra tính nguyên tố của sử dụng thuật toán  và thay điều kiện bằng </s> <s> giả mã của thuật toán như sau </s> <s> code của giả mã bằng c code đầy đủ được đính kèm ở cuối bài nhắc lại là ước số nguyên tố lớn thứ  của </s> <s> vòng lặp ít nhất phải duyệt đến phần tử thứ của mảng sao cho </s> <s> sau khi đã duyệt và in ra   do đó thủ tục kiểm tra tính nguyên tố ở dòng sẽ in ra và thuật toán kết thúc </s> <s> từ đó suy ra số lần lặp xấp xỉ là </s> <s> do  số lần lặp là </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ta sẽ tính tổng số phép kiểm tra tính nguyên tố mỗi phép kiểm tra sử dụng thao tác bít </s> <s> thủ tục kiểm tra tính nguyên tố sẽ được gọi mỗi lần tìm thấy một ước số của </s> <s> do đó tổng số phép kiểm tra tính nguyên tố xấp xỉ </s> <s> ta có từ đó suy ra tổng số phép kiểm tra nguyên tố là </s> <s> tương tự như vậy tổng số phép tính xấp xỉ là </s> <s> mỗi phép khai căn có thể được thực hiện sử dụng thao tác bít </s> <s> do đó tổng thời gian cho phép khai căn là </s> <s> như vậy tổng thời gian của thuật toán là trong đó nhân tử là thời gian để thực hiện một phép cộng hoặc đồng dư bít </s> <s> code  </s> <s>  knuth donald e </s> <s> seminumerical algorithms  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>  pollard john m </s> <s> bit numerical mathematics  </s> <s>    </s> <s>   trackback link powered by and </s> <s> một số bài toán npcomplete với đầu vào là số nguyên lớn  weakly npcomplete problems </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài viết này chúng ta sẽ tìm hiểu một số bài toán khi mà đầu vào là các số nguyên lớn </s> <s> ta gọi các bài toán npcomplete kiểu này là các bài toán </s> <s> bài toán đầu tiên là bài toán </s> <s> trong bài  chúng ta đã tìm hiểu thuật toán giải bài toán với thời gian </s> <s> thoạt nhìn thuật toán này có vẻ như có thời gian đa thức vì ta không thấy lũy thừa ở đâu cả </s> <s> tuy nhiên đây lại chính là thuật toán với thời gian lũy thừa </s> <s> tại sao vậy nhắc lại ta luôn đo độ phức tạp thời gian là một hàm của của input </s> <s> số nguyên có thể được biểu diễn bằng bít do đó nó có chiều dài </s> <s> như vậy thời gian chính là một hàm lũy thừa </s> <s> các bạn có thể xem lại cách ta định nghĩa </s> <s> trong bài này ta sẽ chứng minh khi rất lớn bài toán là một bài toán </s> <s> hai bài toán khác chúng ta cũng xét trong phần này là bài toán và bài toán </s> <s> bài toán  về mặt ứng dụng ít được biết đến hơn bài toán </s> <s> tuy nhiên nó lại được dùng nhiều trong chứng minh tính của rất nhiều bài toán khác </s> <s> ta sẽ lần lượt chứng minh các bài toán trên là dựa trên sơ đồ quy dẫn sau </s> <s> </s> <s> </s> <s> bài toán là bài toán mà ta đã chứng minh ở </s> <s> mình nhắc lại bài toán đó ở đây </s> <s> </s> <s> ta sẽ quy dẫn từ bài toán như sau </s> <s> gọi lần lượt là số đỉnh của đồ thị </s> <s> ta thực hiện hai bước saugọi là tập các cạnh kề với đỉnh </s> <s> ta có nhận xét về tổng trọng số mà đỉnh nhận được sau hai bước trên là nếu viết trong cơ số  ta có thể hiểu đại lượng như sau chữ số thứ của luôn là  và chữ số thứ của là khi và chỉ khi kề với cạnh mảng của chúng ta bao gồm tất cả các đỉnh và cạnh có kích thước </s> <s> cạnh   có giá trị  và đỉnh  có giá trị như trong phương trình </s> <s> ta thiết lập ta sẽ chứng minh có một tập phủ đỉnh kích thước khi và chỉ khi có một tập con có tổng giá trị định nghĩa trong </s> <s> chiều thuận gọi là tập phủ đỉnh của đồ thị với kích thước </s> <s> ta xây dựng tập con của bao gồm i tất cả các đỉnh trong và  các cạnh của đồ thị có một đầu mút trong </s> <s> do là một tập phủ đỉnh mỗi cạnh có một đầu mút trong </s> <s> việc kiểm tra xem các phần tử trong có tổng giá trị coi như bài tập cho bạn đọc </s> <s> chiều ngược gọi là một tập con của có tổng giá trị </s> <s> do tổng trọng số các cạnh của đồ thị là  nhỏ hơn  tập gồm đúng đỉnh và có thể có thêm một số cạnh </s> <s> gọi là tập các đỉnh trong </s> <s> ta chỉ còn phải chứng minh mọi cạnh đều có một dầu mút trong </s> <s> giả sử có một cạnh ví dụ cạnh có số thứ tự với  không có đầu mút nào trong </s> <s> cạnh này có trọng số </s> <s> do đó cạnh nà đóng góp vào </s> <s> tuy nhiên do cạnh này không kề với đầu mút nào trong và nhỏ hơn  chỉ chứa tối đa  trái với định nghĩa trong là chứa </s> <s> nhận thấy bài toán thực ra là một trường hợp đặc biệt của bài toán khi và </s> <s> do đó một cách chứng minh đơn giản theorem  từ theorem  là cho </s> <s> cách chứng minh này thực ra là một cách chứng minh sai </s> <s> lý do tại sao coi như bài tập cho bạn đọc xem lại định nghĩa quy dẫn </s> <s> ta đặt </s> <s> gọi là tập gồm phần tử trong đó với mọi và  </s> <s> ta sẽ chứng minh tập có một tập con có tổng giá trị khi và chỉ khi tập có thể được chia thành hai tập con có tổng giá trị bằng nhau </s> <s> chứng minh chi tiết coi như bài tập cho bạn đọc dựa trên nhận xét rằng và không thể cùng thuộc một tập con </s> <s> </s> <s> ta quy dẫn từ bài toán bằng cách cho và </s> <s> chi tiết còn lại chỉ mang tính thủ tục và mình coi như bài tập cho bạn đọc </s> <s>  j </s> <s> erickson </s> <s> </s> <s> uiuc </s> <s>  </s> <s>  t </s> <s> h </s> <s> cormen c </s> <s> e </s> <s> leiserson r </s> <s> l </s> <s> rivest c </s> <s> stein </s> <s> </s> <s> chapter  </s> <s> mit press and mcgrawhill </s> <s> isbn  </s> <s>  </s> <s> </s> <s>  m </s> <s> r </s> <s> garey and d </s> <s> s </s> <s> johnson </s> <s> </s> <s> w </s> <s> h </s> <s> freeman  co </s> <s>  new york ny usa </s> <s>  </s> <s>      trackback link powered by and </s> <s> thuật toán mccreight xây dựng cây hậu tố  mccreight algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong  chúng ta đã làm quen với cây hậu tố suffix tree và thuật toán đơn giản xây dựng cây hậu tố trong thời gian </s> <s> mình khuyến khích bạn đọc xem lại các khái niệm của bài trước </s> <s> một số khái niệm mình sẽ không nhắc lại ở đây </s> <s> trong bài này chúng ta sẽ làm quen với thuật toán mccreight xây dựng cây hậu tố trong thời gian giả sử bảng chữ cái có kích thước </s> <s> thuật toán mccreight được đề xuất vào năm  bởi mccreight đơn giản hóa thuật toán trước đó đề xuất bởi weiner </s> <s> ngoài thuật toán mccreight thuật toán ukkonen xây dựng cây hậu tố cũng có thời gian và có thể được áp dụng trong trường hợp online có nghĩa là chúng ta có thể cập nhật lại cây hậu tố khi có thêm các kí tự mới </s> <s> tuy nhiên so với thuật toán ukkonen thuật toán mccreight đơn giản hơn </s> <s> chúng ta sẽ làm quen với thuật toán ukkonen trong bài sau </s> <s> mình nhắc lại khái niệm cây hậu tố ở đây ý tưởng của thuật toán mccreight có thể được coi là cải tiến của sử dụng liên kết hậu tố suffix link </s> <s> mỗi nút trong của cây hậu tố xây dựng trong thuật toán maccreight ngoài các trường cơ bản như đã mô tả ở còn có thêm một trường là định nghĩa dưới đây kí hiệu là </s> <s> goi là một nút trong với trong đó là kí tự đầu tiên trong và là một xâu  có thể là một xâu rỗng </s> <s> hai trường hợp ở trên được minh họa ở hình dưới đây </s> <s> đường màu đỏ có mũi tên biểu diễn liên kết hậu tố </s> <s> </s> <s> ví dụ xâu có cây hậu tố và các liên kết hậu tố như hình sau </s> <s> </s> <s> nếu coi nút gốc có liên kết hậu tố trỏ tới chính nó thì nhìn vào hình trên ta sẽ thấy mọi nút trong đều có đúng  liên kết hậu tố </s> <s> tính chất này không dễ thấy nếu chúng ta chỉ nhìn vào định nghĩa của liên kết hậu tố </s> <s> </s> <s> dựa vào định nghĩa của cây hậu tố và liên kết hậu tố nếu một nút trong có liên kết hậu tố tới một nút  nút đó phải là duy nhất </s> <s> do đó chúng ta chỉ cần chứng minh tồn tại nút như vậy </s> <s> nút trong được tại thành là do khi chèn hậu tố  với một số nào đó thỏa mãn  là tiền tố của và là xâu con chung lớn nhất gọi tắt là tiền tố con chung lớn nhất của với cây hậu tố </s> <s> thêm nữa phải là tiền tố của một hậu tố nào đó với </s> <s> xét  rõ ràng là một tiền tố con chung với cây hậu tố sau khi đã chèn </s> <s> giả sử nút với chưa tồn tại khi nút được thêm vào cây hậu tố </s> <s> do là tiền tố con chung lớn nhất của với cây hậu tố hiện tại sẽ là tiền tố con chung lớn nhất của với cây hậu tố </s> <s> do đó nút sẽ được tạo ra khi chièn  từ đó suy ra dpcm </s> <s> nếu một nút trong được tạo ra khi chèn hậu tố  liên kết hậu tố của có thể được cập nhật ngay tại bước sau đó </s> <s> tại sao liên kết hậu tố lại hữu dụng về mặt trực quan nếu ta chèn hậu tố có tiền tố con chung lớn nhất với cây hiện tại là thì tiền tố chung lớn nhất của và ít nhất có chiều dài </s> <s> do đó khi chèn  ta chỉ cần đi theo liên kết hậu tố để tiết kiệm được phép so sánh kí tự so với thuật toán đơn giản </s> <s> thuật toán thực hiện trong bước bước thứ chèn hậu tố vào cây hiện tại </s> <s> việc chèn hậu tố phụ thuộc vào bước trước </s> <s> khi chúng ta chèn để minh họa cho hai trường hợp trên ta sẽ xét hai ví dụ được minh họa bởi hình dưới đây </s> <s> ví dụ thứ nhất hình của hình dưới đây ta xây dựng cây hậu tố cho xâu </s> <s> khi chèn hậu tố vào cây hậu tố  ta sẽ tìm thấy một nút đã có liên kết hậu tố như ở hình vẽ và chèn nút lá tương ứng với hậu tố thứ  vào cây </s> <s> khi chèn  ta đi theo liên kết hậu tố của đến nút  gọi là  và bắt đầu tìm so sánh với cây con gốc tại </s> <s> trong trường hợp của ví dụ trong hình ta chỉ việc tạo thêm một nút lá là con của và gán hậu tố là con của nút </s> <s> ví dụ thứ hai khi ta chèn hậu tố vào cây hậu tố  ta sẽ tìm được một nút như trong hình và bẻ cạnh giữa và nút cha của nó để thêm một nút </s> <s> sau đó tạo một nút lá là con của và gán vào nút lá đó </s> <s> tiếp theo đó ta chèn </s> <s> lúc này nút chưa có liên kết hậu tố ta sẽ đi theo liên kết hậu tố của để đến một nút như trong hình vẽ và tìm kiếm bắt đầu từ cây con gốc </s> <s> tuy nhiên ta đã biết trước đoạn khớp sẽ là do nhãn của cạnh có chiều dài </s> <s> do đó ta có thể nhảy cóc  nút như mũi tên trong hình vẽ để chèn </s> <s> cuối cùng ta sẽ cập nhật liên kết hậu tố của </s> <s> trong giả mã dưới đây lưu giữ nút cần cập nhật liên kết hậu tố </s> <s> biến lưu giữ nút cuối của liên kết hậu tố ở bước trước </s> <s> do đó tại dòng của giả mã dưới đây ta luôn tìm kiếm bắt đầu từ nút thay vì từ gốc </s> <s> biến lưu giữ độ dài ít nhất của đoạn khớp khi tìm kiếm </s> <s> độ dài này ta tính được trong bước thứ khi chèn </s> <s> quy luật cập nhật đã được chỉ ra ở trên </s> <s> thủ tục  sẽ tìm kiếm đoạn khớp của với cây con gốc tại của cây hậu tố hiện tại khi biết trước độ dài đoạn khớp ít nhất là </s> <s> thủ tục này trả lại nút sao cho tiền tố chung lớn nhất là xâu con của  độ dài vị trí khớp cuả và vị trí khớp của văn bản </s> <s> xem thêm tại với hàm tương tự  </s> <s> điểm khác biệt chính với thủ tục  ở bài trước là ta kết hợp cập nhật liên kết hậu tố trong quá trình tìm kiếm </s> <s> giả mã của thuật toán như sau code của giả mã bằng c </s> <s> code đầy đủ được đính ở cuối bàihàm trả lại nếu và  nếu ngược lại </s> <s> các thủ tục khác của giả mã không trình bày ở đây tương tự như trong </s> <s> việc phân tích thuật toán trên có thể được tách thành hai thành phần sau tổng số phép so sánh kí tự vòng while ở dòng  và số lần nhảy cóc  lệnh if ở dòng  </s> <s> do phép nhảy cóc mỗi kí tự của văn bản được so sánh đúng  lần </s> <s> do đó tổng số phép so sánh kí tự là </s> <s> phần khó nhất là phân tích số lần nhảy cóc </s> <s> với mỗi nút của cây hậu tố gọi là số nút trong đường đi từ gốc tới của cây hậu tố trừ đi  </s> <s> ta có nhận xét sau do đó nếu ta nhảy cóc lần tại bước  nút lại có tăng lên so với tree depth của nó tại bước thứ </s> <s> do với mọi  tổng số lần nhảy cóc là không quá </s> <s> do đó ta có code  weiner peter </s> <s> switching and automata theory  </s> <s> swat </s> <s> ieee conference record of th annual symposium on </s> <s> ieee  </s> <s> </s> <s>  mccreight edward m </s> <s> journal of the acm jacm  </s> <s>    </s> <s> </s> <s>  ukkonen esko </s> <s> </s> <s> algorithmica  </s> <s>    </s> <s> </s> <s>  aluru srinivas </s> <s> handbook of data structures and applications  </s> <s>     trackback link on đã không viết thì thôi viết thì viết cho đàng hoàng chứ </s> <s> on hi bạn </s> <s> xin lỗi vì bạn có những trải nghiệm không hay với blog </s> <s> nếu bạn có comment cụ thể phần nào bạn cảm thấy chưa hài lòng thì xin để lại </s> <s> mình sẽ sửa cho bài viết chuẩn hơnhùngpowered by and </s> <s> thuật toán rabinkarp rabinkarp algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ tìm hiểu thuật toán rabinkarp áp dụng trong bài toán tìm kiếm xâu </s> <s> thuật toán được phát triển bởi richard karp và michael rabin  vào năm  </s> <s> ý tưởng trung tâm của thuật toán là coi và phép toán so sánh hai xâu được đưa về phép toán so sánh các số nguyên </s> <s> trước hết ta nhắc lại bài tìm kiếm xâu trước hết chúng ta xét ví dụ văn bản và xâu mẫu </s> <s> coi xâu mẫu là một số nguyên và thực hiện so sánh với theo thứ tự từ trái sang phải </s> <s> khi so sánh với  ta sẽ so sánh hai số nguyên và  thay vì so sánh hai xâu </s> <s> tương tự như vậy với các bước tiếp theo </s> <s> cuối cùng ta sẽ tìm được </s> <s> tổng quát hóa giả sử  gọi là số nguyên ứng với mẫu  và là số nguyên ứng với xâu con </s> <s> bài toán tìm kiếm xâu trở thành để chuyển thành  số nguyên thay vì tính các lũy thừa của  ta sẽ sử dụng </s> <s> ta có đặt suy ra </s> <s> dựa vào định nghĩa đệ quy của  ta có thể tính sử dụng  phép toán cơ bản cộng trừ nhân chia ta có thể tính được sử dụng phép toán cơ bản </s> <s> tương tự với mỗi chỉ số  sử dụng phương pháp horner ta có thể tính được sử dụng phép toán cơ bản </s> <s> do đó ta có thể tính tất cả các số sử dụng phép toán cơ bản </s> <s> tuy nhiên đó chưa phải là cách tốt nhất </s> <s> nhận thấy chữ số cuối của và chữ số đầu của giống nhau </s> <s> do đó ta có do đó có thể tính từ sử dụng phép toán cơ bản </s> <s> giả mã của thuật toán để tính  ta sử dụng phép toán cơ bản </s> <s> tính tất cả các gía trị  ta sử dụng phép toán cơ bản </s> <s> do đó số phép toán cơ bản là </s> <s> tuy nhiên do các số có độ dài chữ số </s> <s> do đó để thực hiện các phép toán cơ bản ta phải sử dụng thao tác bít </s> <s> do đó tổng thời gian của thuật toán vẫn là  không tốt hơn thuật toán trâu bò </s> <s> vấn đề của thuật toán nằm ở chỗ các số biểu diễn xâu và các xâu con độ dài của là các số qúa lớn </s> <s> dưới góc nhìn của hàm băm hàm chuyển đổi xâu và các xâu con của thành các số ở trên là một hàm băm </s> <s> hàm băm này luôn đảm bảo các xâu con khác nhau độ dài luôn được băm về các giá trị khác nha </s> <s> do đó giá trị đầu ra của hàm băm là các số rất lớn </s> <s> do đó karp và rabin đề xuất nới lỏng tính chất của hàm băm trên chọn một hàm băm sao cho các thao tác cơ bản được thực hiện hiệu quả và khi băm hai xâu con khác nhau có cùng độ dài  xác suất hai giá trị băm giống nhau là nhỏ </s> <s> để các thao tác cơ bản được thực hiện hiệu qủa đầu ra của hàm băm phải là các số nguyên không quá lớn </s> <s> thông thường các số nguyên đầu ra có độ lớn được biểu diễn bởi bít được coi là không quá lớn </s> <s> trong thực tế các giá trị này sẽ được chọn sao cho đầu ra có thể biểu diễn được bằng số nguyên hoặc bít do đó các thao tác cơ bản coi như hằng số </s> <s> xác xuất trùng nhau còn gọi là xác suất đụng độ của hai giá tri băm của hai xâu con khác nhau độ dài  gọi là  được coi là nhỏ nếu giả sử chúng ta đã tìm được hàm băm tốt gọi là tập các xâu con của độ dài có cùng giá trị băm với </s> <s> với mỗi xâu con trong tập  ta sẽ phải so sánh với mất thời gian  để kiểm tra xâu con đó có thực sự là hay không </s> <s> do đó tổng thời gian của thuật toán là trong đó là thời gian để tính và là thời gian so sánh với các xâu con trong </s> <s> theo  về mặt kì vọng số lượng các xâu con trong là do đó ta có gọi là hàm băm modulo trong đó là một số nguyên tố </s> <s> karprabin đề xuất chọn hàm băm một cách ngẫu nhiên từ một họ các hàm băm </s> <s> </s> <s> do đầu ra của hàm băm là một số nguyên  do đó có thể biểu diễn bằng bít thỏa mãn tính chất của hàm băm tốt </s> <s> áp dụng hàm băm  các thao tác cơ bản đều được lấy theo modulo </s> <s> giả mã của thuật toán như sau </s> <s> code của giả mã bằng ctính có thể thực hiện nhanh bằng hàm  trong </s> <s> hàm băm chọn theo thuật toán rabinkarp thỏa mãn tính chất </s> <s> ta chỉ cần chứng minh tính chất </s> <s> trước hết ta có  claim sau số ước số nguyên tố của một số nguyên ít hơn thật vậy gọi là các ước nguyên tố của  ta có </s> <s> từ đó dễ dàng suy ra claim  </s> <s> gọi là số lượng các số nguyên tố có độ lớn  ta có </s> <s> gọi là gía trị khi chưa lấy modulo tương ứng với hai xâu kí tự độ dài </s> <s> do  ta có </s> <s> hay nói cách khác là một ước nguyên tố của </s> <s> do  theo claim  số ước nguyên tố của nhỏ hơn </s> <s> theo claim  có lựa chọn của vì là số nguyên tố </s> <s> do đó xác suất chọn là ước của là như vậy hàm băm chọn ngẫu nhiên từ họ thỏa mãn tính chất  do đó theo theorem  thời gian kì vọng của thuật toán rabinkarp là </s> <s> sinh số nguyên tố trong đoạn không phải là vấn đề đơn giản </s> <s> trong thực tế thực thi để đơn giản chúng ta có thể thay bước sinh số nguyên tố bằng cách chọn cố định một số nguyên tố đủ lớn </s> <s> tất nhiên với cách này về mặt lý thuyết chúng ta không thể đảm bảo thời gian kì vọng của thuật toán là tuyến tính </s> <s> về mặt lý thuyết chúng ta có thể sinh số nguyên tố ngẫu nhiên bằng cách sinh một số ngẫu nhiên kiểm tra nó có phải là số nguyên tố hay không </s> <s> nếu không phải là số nguyên tố ta sẽ thử lạicode của giả mã bằng ctrước hết phân tích xem thuật toán sẽ dừng sau bao nhiêu phép chọn ngẫu nhiên </s> <s> theo claim  prime number theorem trong mỗi bước chọn ngẫu nhiên xác suất chọn được một số nguyên tố là do đó sau bước xác suất chọn được một số nguyên tố là ở công thức trên ta sử dụng xấp xỉ </s> <s> để kiểm tra có phải là số nguyên tố hay không ta có thể sử dụng thuật toán </s> <s> thuật toán rabinmiller có độ phức tạp  do đó thuật toán  có thời gian </s> <s> với  ta có thể sinh số nguyên tố ngẫu nhiên với thời gian </s> <s> trong trường hợp các kí tự không phải là các số từ đến  ta có thể sử dụng cơ số thay vì  trong đó là số lượng các kí tự trong bảng chữ cái </s> <s> mọi phân tích với cơ số khác vẫn không thay đổi </s> <s> nếu áp dụng thuật toán rabinkarp để tìm kiếm tất cả các vị trí xuất hiện của trong  thuật toán rabinkarp có thời gian kì vọng là trong đó là số lần xuất hiện trong do mỗi lần so sánh hai giá trị băm nếu bằng nhau ta phải mất thời gian để kiểm tra xem hai xâu có bằng nhau hay không </s> <s> trong trường hợp  thuật toán mất thời gian </s> <s> do đó để thuật toán có thể được thực hiện nhanh ta phải chấp nhận lỗi </s> <s> có nghĩa là mỗi lần thấy hai gía trị băm bằng nhau chúng ta sẽ trả về vị trí xuất hiện mà không kiểm tra lại xem hai xâu có bằng nhau thật không </s> <s> để thuật toán có độ chính xác cao  chúng ta phải giảm thiểu lỗi </s> <s> một cách để giảm thiểu lỗi là tăng tập lựa chọn của </s> <s> ví dụ thay vì chọn ngẫu nhiên trong khoảng  ta chọn trong khoảng trong đó </s> <s> bằng phân tích như trên ta sẽ có xác suất đụng độ là và do đó số lượng xâu con của khác mà có cùng giá trị băm sẽ là </s> <s> cách khác là ta có thể áp dụng vài hàm băm khác nhau cùng một lúc </s> <s> mình khuyến khích bạn đọc thử thực thi thuật toán và nộp bài </s> <s> code submit cho bài này mình đính ở cuối bài </s> <s> code </s> <s>  karp richard m </s> <s>  and michael o </s> <s> rabin </s> <s> ibm journal of research and development  </s> <s>    </s> <s> </s> <s>  jeff erickson  uiuc  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s>  chapter  </s> <s> mit press and mcgrawhill  </s> <s> isbn    trackback link powered by and </s> <s> mảng hậu tố suffix array </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  nhưng đã giới thiệu ở  cây hậu tố là một cấu trúc dữ liệu rất mạnh để thực hiện nhiều truy vấn văn bản với thời gian </s> <s> tuy nhiên điểm yếu chính của cây hậu tố là bộ nhớ lớn do mỗi nút của cây phải lưu nhiều thông tin mặc dù về mặt lý thuyết là </s> <s> nếu thực thi cây hậu tố tốt thì mỗi kí tự cũng phải mất trung bình bộ nhớ  bytes </s> <s> như vậy nếu ta có gb text thì cần gb bộ nhớ cho cây hậu tố </s> <s> mảng hậu tố suffix array được giới thiệu bởi manber và mayer  năm  như là một thay thế cho cây hậu tố </s> <s> điểm mạnh của mảng hậu tố là tiết kiệm được nhiều bộ nhớ </s> <s> ngoài ra nếu kết hợp mảng hậu tố với một vài mảng thông tin khác như mảng tiền tố chung lớn nhất mảng lcp  longest common prefix thì có thể thực hiện hậu hết các truy vấn như cây hậu tố với cùng thời gian  </s> <s> do những lợi ích đó mà mảng hậu tố được rất nhiều nhà nghiên cứu quan tâm và rất nhiều giải thuật được phát triển để xây dựng cây hậu tố </s> <s> trong  các tác giả phân loại hàng chục thuật toán cũng như các phân tích thời gian và bộ nhớ </s> <s> mình đính kèm phân loại đó ở phần phụ lục </s> <s> cho văn bản với các kí tự trong bảng chữ cái </s> <s> ta quy ước  là kí tự nhỏ nhất thuộc bảng chữ cái và chỉ xuất hiện duy nhất một lần trong </s> <s> văn bản có hậu tố trong đó hậu tố thứ là </s> <s> ta tập hợp các hậu tố thành một mảng </s> <s> để sử dụng mảng này thực hiện các truy vấn thông thường ta muốn mảng này được </s> <s> do đó ta sẽ gán nếu hậu tố gọi là hậu tố thứ  có vị trí thứ trong mảng hậu tố đã sắp xếp </s> <s> mảng gọi là </s> <s> ví dụ  mảng hậu tố của như sau </s> <s> theo bảng trên có nghĩa là hậu tố thứ là  đứng thứ  trong mảng các hậu tố đã sắp xếp theo thứ tự từ điển </s> <s> do  là kí tự nhỏ nhất trong theo thứ tự từ điển ta luôn có </s> <s> đi kèm với mảng hậu tố là  gọi tắt là </s> <s> mảng lcp kí hiệu là  là mảng trong đó là chiều dài của tiền tố chung dài nhất của hai hậu tố và </s> <s> giá trị không xác định và quy ước là </s> <s> với ví dụ trên vì chiều dài tiền tố chung dài nhất của hậu tố là  và là  là </s> <s> thuật toán đơn giản nhất ta có thể nghĩ tới để xây dựng mảng hậu tố là liệt kê tất cả các hậu tố và sau đó sắp xếp các hậu tố theo thứ tự từ điển </s> <s> có tất cả hậu tố của xâu  do đó sắp xếp các hậu tố có thể thực hiện trong phép so sánh ví dụ quicksort </s> <s> do so sánh hai hậu tố có thể thực hiện trong thời gian  ta có thể xây dựng mảng hậu tố trong thời gian </s> <s> nếu bằng cách nào đó chúng ta chỉ mất thời gian cho mỗi phép so sánh hai hậu tố chúng ta sẽ thu được thuật toán </s> <s> phần này mình giới thiệu hai thuật toán khác nhau thực hiện ý tưởng so sánh đó </s> <s> phương pháp này được trình bày trong lecture note  </s> <s> trước khi đọc tiếp mình khuyến khích bạn đọc xem lại bài tìm kiếm xâu với thuật toán </s> <s> ý tưởng chính của thuật toán rabinkarp là biến mỗi xâu con thành một số nguyên không quá lớn ví dụ  bit sử dụng phép băm và việc so sánh hai xâu con được quy về so sánh hai số nguyên với thời gian </s> <s> giả sử bằng cách nào đó mà ta sẽ mô tả sau chúng ta có thể kiểm tra xem hai xâu con của văn bản có bằng nhau hay không trong thời gian </s> <s> để so sánh hai hậu tố và của  ta sẽ sử dụng tìm kiếm nhị phân trong thời gian để tìm số sao cho và khi đã tìm được  ta chỉ cần so sánh và </s> <s> do đó phép so sánh hai hậu tố được thực hiện trong </s> <s> để phép kiểm tra hai xâu con có bằng nhau hay không trong thời gian  ta sẽ thực hiện tiền xử lí </s> <s> ta sẽ sử dụng hàm băm trong đó là một số nguyên tố được chọn ngẫu nhiên trong khoảng </s> <s> ta chọn ngẫu nhiên để đảm bảo về mặt lý thuyết xác suất đụng độ nhỏ xem lại phân tích trong bài  </s> <s> trong thực tế ta chỉ cần chọn một số nguyên tố lớn </s> <s> ví dụ trong  tác giả chọn </s> <s> gọi là cơ số thường chọn là số kí tự trong bảng chữ cái </s> <s> gọi là mảng trong đó </s> <s> định nghĩa mảng như sau quy ước  mảng và có thể tính được trong thời gian sử dụng </s> <s> ta chuyển mỗi xâu con của thành một số nguyên giá trị hash có dạng dễ thấy do đó giá trị với bất kì có thể tính được trong thời gian nếu biết và </s> <s> từ đó suy ra ta có thể kiểm tra xem hai xâu con có bằng nhau hay không trong thời gian bằng cách so sánh hai giá trị hash </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính ở cuối bài </s> <s> với hai hậu tố cho trước sửa đổi thủ tục một chút ta có thể tính được chiều dài tiền tố chung lớn nhất trong thời gian </s> <s> do đó ta có thể xây dựng mảng lcp trong thời gian </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> tổng kết lại ta có thuật toán nhân đôi tiền tố prefix doubling được đề xuất bởi uber và mayer  có thời gian sử dụng thuật toán đếm phân phối </s> <s> trong phần này mình trình bày một biến thể  sử dụng quick sort </s> <s> trước hết coi văn bản đầu vào có chiều dài vô hạn bằng cách thêm vào cuối văn bản vô hạn kí tự  </s> <s> gọi văn bản vô hạn là </s> <s> chú ý là  là kí tự nhỏ hơn  theo thứ tự từ điển tất cả các kí tự khác trong bảng chữ cái và chỉ xuất hiện trong văn bản đúng một lần tại vị trí cuối cùng </s> <s> do vô hạn với mỗi số ta có đúng xâu con của chiều dài  mỗi xâu bắt đầu bằng một kí tự của </s> <s> thuật toán thực hiện theo bước như sauta có nhận xét sau thứ tự của các xâu con thu được sau bước cuối cùng chính là thứ tự đã sắp xếp của các hậu tố bắt đầu bằng kí tự đầu tiên của các xâu con đó </s> <s> nhận xét đó là do các kí tự  là kí tự nhỏ nhất theo thứ tự từ điển </s> <s> chi tiết chứng minh của nhận xét đó coi như bài tập cho bạn đọc </s> <s> ta sẽ chứng minh rằng nếu sử dụng quick sort để sắp xếp thì mỗi bước của thuật toán có thể được thực thi trong thời gian </s> <s> </s> <s> bước đầu tiên ta có thể thực hiện trong thời gian sử dụng quick sort </s> <s> tại bước thứ  ta sẽ sắp xếp các xâu con có độ dài sử dụng quick sort </s> <s> để ý rằng tại bước  ta đã có thứ tự tương đối giữa các xâu con độ dài </s> <s> nếu coi xâu con độ dài là ghép của hai xâu con độ dài  xâu con độ dài thứ nhất gọi là và xâu con độ dài thứ hai gọi là  thì ta chỉ việc so sánh hai khóa cua hai xâu độ dài thay vì so sánh trực tiếp </s> <s> do đó việc so sánh có thể thực hiện trong thời gian thay vì </s> <s> như vậy ta sẽ có thuật toán </s> <s> tuy nhiên đó vẫn chưa phải là tất cả chúng ta cần </s> <s> ta cần thêm một cách mã hóa để mã hóa vị trí tương đối giữa các xâu con </s> <s> do mỗi bước ta có đúng xâu con ta gán cho mỗi xâu con một số trong tập để khi so sánh hai xâu ta chỉ cần so sánh hai số tương ứng </s> <s> chú ý là hai xâu giống nhau ta phải gán cho hai số giống nhau </s> <s> ta có thể làm như sautại bước  sau khi sắp xếp mỗi xâu độ dài sẽ được gán cho một số là vị trí của nó trong mảng đã sắp xếp </s> <s> ta sẽ thực hiện duyệt qua mảng để một lần để gán lại đảm bảo </s> <s> bước duyệt này chỉ mất </s> <s> như vậy ta có thể thực hiện mỗi bước trong thời gian trước khi trình bày giả mã của thuật toán mình sẽ nói qua đôi chút về tổ chức dữ liệu theo  </s> <s> với mỗi xâu con độ dài  ta sẽ lưu  giá trịta cũng sử dụng mảng hai chiều trong đó hàng lưu mã của xâu con bắt đầu từ độ dài như mô tả trong chứng minh của lemma  </s> <s> giả mã như sau </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được đính kèm ở cuối bàidựa vào mảng  ta có thể tính được chiều dài cuả tiền tố chung dài nhất của hai hậu tố trong thời gian bằng cách chia nhị phân </s> <s> do đó mảng lcp có thể tính được trong thời gian </s> <s> giả mã như sau </s> <s> code của giả mã bằng c mình khuyến khích bạn đọc code và submit bài tại </s> <s> cả hai thuật toán trên sẽ được khoảng  điểm </s> <s> code submit mình đính kèm dưới đây </s> <s> code đầy đủ của giả mã   </s> <s> </s> <s>  manber udi and myers gene </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  daniel sleator </s> <s> </s> <s> cmu fall  </s> <s> </s> <s>  vladu adrian and cosmin negruşeri </s> <s>  </s> <s> </s> <s>  puglisi simon j </s> <s>  william f </s> <s> smyth and andrew h </s> <s> turpin </s> <s> acm computing surveys csur  </s> <s>    </s> <s> </s> <s>  abouelhoda mohamed ibrahim stefan kurtz and enno ohlebusch </s> <s> journal of discrete algorithms  </s> <s>    </s> <s> </s> <s>  kasai toru gunho lee hiroki arimura setsuo arikawa and kunsoo park </s> <s> in combinatorial pattern matching pp </s> <s>  </s> <s> springer berlin heidelberg  </s> <s> phân loại các thuật toán xây dựng mảng hậu tố     trackback link on wow this could be one particular of the most helpful blogs we have ever arrive across on this subject </s> <s> actually fantastic </s> <s> i am also an expert in this topic therefore i can understand your effort </s> <s> powered by and </s> <s> cây khung nhỏ nhất thuật toán borůvka  borůvka algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  đây là bài thứ  trong loạt bài về cây khung nhỏ nhất </s> <s> mình khuyến khích bạn đọc xem lại bài thuật toán kruskal và thuật toán prim </s> <s> một số tính chất của cây khung mình không nhắc lại ở đây nữa </s> <s> thuật toán borůvka có lẽ là một trong số những thuật toán có tuổi đời khá lớn trong các thuật toán mà mình blog </s> <s> thuật toán được phát triển bởi  otakar borůvka năm  </s> <s> trọng tâm của thuật toán này là phép edge contraction một trong ba phép phổ biến xóa cạnh xóa đỉnh và co cạnh hay áp dụng trong lý thuyết đồ thị </s> <s> hình dưới đây minh họa một phép co cạnh </s> <s> hình  là đồ thị thu được sau khi co cạnh màu đỏ trong hình  </s> <s> </s> <s> phép co một cạnh còn có thể được mở rộng ra một tập cạnh </s> <s> gọi là một tập cạnh </s> <s> đồ thị thu được sau phép co tập cạnh  kí hiệu là  là đồ thị thu được sau lần liên tục co lần lượt các cạnh trong thứ tự cạnh nào được co trước co sau không quan trọng </s> <s> hình dưới đây minh họa một phép co một tập cạnh </s> <s> hình  là đồ thị thu được sau khi co tập cạnh màu đỏ trong hình  </s> <s> </s> <s> phép co cạnh thì có liên quan gì đến cây khung thực ra hai thuật toán kruskal và prim mà chúng ta tìm hiểu ở hai bài trước đều có thể được nhìn dưới góc độ phép co cạnh </s> <s> lấy thuật toán kruskal làm ví dụ </s> <s> thuật toán kruskal ban đầu sắp xếp các cạnh theo thứ tự tăng dần của trọng số sau đó xét từng cạnh theo thứ tự đã sắp xếp và thêm cạnh vào rừng kết quả trung gian là một rừng forest chứ không phải cây hiện tại </s> <s> nếu thêm cạnh đó vào mà không tạo ra chu trình của rừng hiện tại thì ta thêm </s> <s> nếu không ta xét cạnh tiếp theo </s> <s> mình khuyến khích bạn đọc xem lại ví dụ trong bài trước </s> <s> nhìn dưới góc độ của phép co cạnh ta sẽ thực hiện thuật toán kruskal bằng một câu như sau tìm cạnh có trọng số nhỏ nhất và co </s> <s> ví dụ thực hiện ý tưởng trên cho đồ thị được minh họa trong hình dưới đây </s> <s> chú ý khi co cạnh với đồ thị có trọng số ta sẽ giữ lại cạnh có trong số các cạnh song song </s> <s> thứ tự các cạnh được co màu đỏ cũng chính là thứ tự các cạnh được thêm vào cây khung trong thuật toán kruskal </s> <s> thuật toán borůvka có ý tưởng tương tự như trên </s> <s> để phát biểu thuật toán ta sẽ cần thêm khái niệm safe edge </s> <s> chú ý cụm từ </s> <s> ví dụ cạnh màu đỏ trong  là cạnh an toàn ứng với đỉnh nhưng không phải là cạnh an toán ứng với đỉnh </s> <s> các cạnh màu đỏ trong  là tập các cạnh an toàn </s> <s> </s> <s> để việc mô tả thuật toán trở nên đơn giản ta sẽ giả thiết không có hai cạnh nào của đồ thị đầu vào có cùng trọng số </s> <s> ta sẽ sử dụng giả thiết này để chứng minh tính đúng đắn của thuật toán borůvka </s> <s> cuối bài ta sẽ thảo luận phương pháp để loại bỏ giả thiết này </s> <s> thuật toán borůvka có thể được mô tả đơn giản bằng một câu sau tìm thêm vào cây khung và co tất cả các cạnh an toàn cho đến khi đồ thị chỉ còn một đỉnh </s> <s> ví dụ với đồ thị hình dưới đây thuật toán borůvka chỉ cần  bước để tìm ra cây khung là tập các cạnh màu đỏ bị co </s> <s> giả mã thực thi giả mã trên khá phức tạp </s> <s> trước khi đi vào chi tiết chúng ta thử phân tích tính đúng đắn và thời gian thực hiện của thuật toán </s> <s> ta sẽ chứng minh tập các cạnh trả về ở cuối thuật toán là cây khung nhỏ nhất </s> <s> dễ thấy phải là liên thông vì cuối cùng chỉ là một đỉnh </s> <s> để chứng minh là một cây ta sẽ chứng minh tập các cạnh an toàn mà ta đưa vào tập trong mỗi bước không chứa chu trình </s> <s> thật vậy giả sử là một chu trình của </s> <s> theo định nghĩa của cạnh an toàn ta có < </s> <s> không mất tính tổng quát ta giả sử < </s> <s> do là cạnh an toàn và <  ta suy ra < </s> <s> lập luận tương tự ta có < < < < < đó là điều không thể xảy ra </s> <s> như vậy phải là một cây </s> <s> để chứng minh có trọng số nhỏ nhất ta dựa vào nhận xét cạnh là an toàn khi và chỉ khi nó là cạnh nhỏ nhất của ít nhất một trong  lát cắt </s> <s> theo tính chất số  tại  của cây khung nhỏ nhất cạnh an toàn phải nằm trong cây khung nhỏ nhất </s> <s> do đó tập cạnh an toàn mà ta thực hiện co tại mỗi bước phải nằm trong cây khung nhỏ nhất của đồ thị tại bước đó </s> <s> điều này đã đủ để kết luận tập cạnh an toàn sẽ nằm trong cây khung nhỏ nhất của  thực ra là chưa </s> <s> chúng ta cần thêm một tính chất nữa đó là nếu là cây khung nhỏ nhất của thì là cây khung nhỏ nhất của </s> <s> chứng minh tính chất này không khó và coi như bài tập cho bạn đọc </s> <s> do đó đầu ra là cây khung nhỏ nhất của đồ thị </s> <s> </s> <s> mỗi lần ta co một tập cạnh trong mỗi bước lặp số đỉnh của đồ thị giảm đi ít nhất một nửa </s> <s> số đỉnh giảm đúng một nửa khi và chỉ khi là một cặp ghép hoàn hảo  </s> <s> do đó sau bước lặp số đỉnh của đồ thị chỉ còn lại  </s> <s> lúc này vòng lặp kết thúc </s> <s> nhiệm vụ còn lại của chúng ta là thực thi đoạn code trong vòng lặp while </s> <s> nếu chúng ta thực hiện được trong thời gian thì theo lemma  chúng ta sẽ thu được thuật toán </s> <s> trước hết chúng ta sẽ nghiên cứu xem làm thế nào để thực thi phép co cạnh </s> <s> có  cách thực thi thường được dùngcách đầu tiên thì thường ít được dùng vì nó liên quan đến việc sửa đổi đồ thì và chúng ta cũng có thể cảm nhận thấy co cạnh theo cách đầu tiên thực sự phức tạp và có thể mất thời gian lên tới cho mỗi thao tác co cạnh </s> <s> mặc dù ta có thể mở rộng cách đầu tiên ra để co với thời gian  thực hiện co thực sự vẫn là một thao tác tốn kém </s> <s> lợi thế của cách thực thi này là kích thước của đồ thị thực sự giảm sau mỗi phép co </s> <s> điều này có ý nghĩa về mặt lý thuyết như eisner  đã chỉ ra trang  độ phức tạp của thuật toán với thực thi co cạnh thực sự là </s> <s> thuật toán này thực sự nhanh hơn các thực thi của kruskal và prim mà chúng ta đã tìm hiểu trong blog này </s> <s> với cách thứ hai co một cạnh tương ứng với gọi thao tác và thao tác kiểm tra xem có thuộc cùng một tập hay không tương ứng với </s> <s> cấu trúc này có thể được thực thi kiểu danh sách hoặc bằng cây các bạn xem lại bài  </s> <s> trong thuật toán  chúng ta sẽ không thực sự thực hiện unionfind giống như thuật toán kruskal mà thực hiện sử dụng mảng nhãn chi tiết xem tại dưới đây vì cách thực thi này đơn giản hơn mà có cùng thậm chí tốt hơn thời gian tiệm cận </s> <s> một vấn đề nữa là ta không thực sự xóa cạnh/đỉnh khỏi đồ thị do đó sau khi co cạnh kích thước của đồ thị không thay đổi </s> <s> ta cần phải chú ý điều này khi phân tích các thuật toán với phép co cạnh hàm ẩn </s> <s> ở đây ta có hai đồ thị đồ thị gốc và đồ thị thu được sau khi đã co một tập cạnh </s> <s> ta sẽ gọi đỉnh và cạnh của đồ thị co tại bước hiện tại của thuật toán lần lượt là và </s> <s> đỉnh co thực chất là một tập hợp các đỉnh còn cạnh co thực chất là cạnh của đồ thị với trọng số nhỏ nhất trong số các cạnh song song giữa hai đỉnh co </s> <s> sự nhập nhằng giữa  đồ thị này có thể làm thuật toán hơi khó hiểu một chút và mình sẽ cố gắng viết rõ ràng nhất có thể </s> <s> mọi câu hỏi xin để lại ở phần comment </s> <s> ta sẽ dùng một mảng nhãn để biểu diễn các đỉnh sau khi đã thực hiện co cạnh </s> <s> cụ thể nếu thuộc đỉnh co trong đồ thị co </s> <s> ban đầu ta khởi tạo </s> <s> ta sẽ sử dụng thêm một biến để đếm số đỉnh trong đồ thị hiện tại sau khi đã co </s> <s> nhãn của các đỉnh sẽ có giá trị từ tới </s> <s> ta sẽ không biểu diễn đồ thị co một cách trực tiếp mà sẽ thao tác với nó thông qua nhãn của các đỉnh của đồ thị gốc </s> <s> ta sẽ lần lượt thực thi từng dọng trong vòng lặp của thuật toán ở trên </s> <s> để tìm các cạnh an toàn ta sẽ duyệt qua tất cả các cạnh của đồ thị co bằng cách duyệt qua các cạnh của đồ thị gốc </s> <s> với mỗi đỉnh co  ta sẽ lưu một số và một cạnh của đồ thị gốc trong đó nếu cạnh co nhỏ nhất kề với mà ta phát hiện tại bước duyệt cạnh hiện tại có trọng số  và nếu là cạnh của đồ thị gốc tương ứng với cạnh co nhỏ nhất kề với đó </s> <s> khi duyệt cạnh  ta sẽmảng cạnh chính là các cạnh an toàn của đồ thị co </s> <s> chú ý là có thể với hai đỉnh co khác nhau </s> <s> do đó trước khi trả lại m ta sẽ xóa các cạnh trùng lặp </s> <s> </s> <s> dễ thấy thao tác này có thể thực hiện trong thời gian </s> <s> giả mã </s> <s> code cta sẽ biểu diễn rừng trung gian bằng danh sách kề </s> <s> do đó để đưa mỗi cạnh vào rừng hiện tại ta chỉ việc xét mỗi cạnh trong tập và cập nhật danh sách kề </s> <s> code cco tập cạnh thực chất là cập nhật lại nhãn của các đỉnh </s> <s> để cập nhật lại nhãn ta duyệt dùng bfs hay dfs để gán cho đỉnh của mỗi thành phần liên thông của một nhãn </s> <s> cuối cùng ta cập nhật lại biến  là số thành phần liên thông của </s> <s> thao tác này có thể thực hiện trong thời gian </s> <s> </s> <s> code cnhư vậy ta đã thực thi được vòng lặp một cách trọn vẹn </s> <s> việc còn lại là chúng ta ghép mọi thứ lại với nhau </s> <s> dễ thấy trong thực thi ở trên mỗi thủ tục con mất thời gian </s> <s> ta có trong thuật toán borůvka là mỗi vòng lặp ta có thể thực hiện co tập các cạnh an toàn cùng một lúc </s> <s> do đó ta có thể dễ dàng song song hóa thuật toán borůvka </s> <s> nếu biểu diễn rừng trung gian bằng danh sách cạnh bước thêm cạnh vào rừng đơn giản chỉ là thêm phần tử vào một danh sách </s> <s> tuy nhiên khi đó ta không thể dùng bfs hay dfs để gán lại nhãn trong bước co tập cạnh dfs và bfs với biểu diễn d </s> <s> s cạnh mất thời gian bình phương </s> <s> mặc dù vậy ta có cách khác để gán lại nhãn trong thời gian </s> <s> mình không trình bày phương pháp này ở đây vì nó chỉ là vấn đề kĩ thuật và có khi làm phức tạp thêm bài toán </s> <s> chi tiết cụ thể coi như bài tập cho bạn đọc </s> <s> phần này ta sẽ thảo luận phương pháp để loại bỏ giả thiết trọng số duy nhất ở trên </s> <s> tại sao ta cần các cạnh có trọng số duy nhất xét đồ thị tam giác với  cạnh bằng nhau dưới đây </s> <s> </s> <s> theo định nghĩa của cạnh an toàn bất kì cạnh nào cũng có thể là cạnh an toàn tương ứng với các đỉnh đầu mút </s> <s> do đó bước tìm cạnh an toàn có thể trả về tập cạnh là cả  cạnh này </s> <s> hay nói cách khác tập trong giả mã có thể chứa chu trình và khi thêm vào  không còn là một cây nữa </s> <s> may mắn là trường hợp này chỉ xảy ra khi đồ thị có một chu trình mà tất cả các cạnh trong chu trình bằng nhau  bạn có thể chứng minh </s> <s> đây cũng là chìa khóa để chúng ta giải quyết trường hợp cạnh của đồ thị có trọng số duy nhất </s> <s> ta sẽ định nghĩa một cạnh có trọng số nhỏ hơn một cạnh nếu một trong ba trường hợp sau xảy ra </s> <s> ta kí hiệu nhỏ hơn là </s> <s> với định nghĩa như vậy áp dụng vào đồ thị tam giác trên ta sẽ có thứ tự giả mã như vậy không có bất kì hai cạnh nào có cùng trọng số theo thứ tự mới này và do đó ta đã biến trọng số của đồ thị đầu vào thành duy nhất </s> <s> trong code đầy đủ được attach dưới đây ta sẽ sử dụng ý tưởng này để giải thuật đúng với cả trường hợp đồ thị trọng số không duy nhất </s> <s> code đầy đủ </s> <s> </s> <s>  borůvka otakar  </s> <s> příspěvek k řešení otázky ekonomické stavby elektrovodních sítí contribution to the solution of a problem of economical construction of electrical networks </s> <s> elektronický obzor in czech  – </s> <s> </s> <s>  jeff erickson </s> <s> </s> <s> uiuc  </s> <s> </s> <s>  jason eisner </s> <s>  university of pennsylvania  </s> <s> </s> <s>  uri zwick </s> <s> </s> <s> tel aviv university  </s> <s>    trackback link powered by and </s> <s> tổng quan về cây khung nhỏ nhất </s> <s> </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  bài này mình đưa ra một cách nhìn tổng quan về bài toán cây khung nhỏ nhất và một số comments của mình trên những tài liệu tham khảo liên quan </s> <s> một phần của bài viết này trước đây mình viết trên trang facebook sau đó được viết lại một cách hình thức hơn trong bài thuật toán kruskal và bây giờ thì mình viết thành một bài riêng biệt </s> <s> trong bài toán cây khung nhỏ nhất ta chỉ xét đồ thị vô hướng </s> <s> do đó từ giờ trở đi chúng ta sẽ mặc định đồ thị đầu vào là vô hướng </s> <s> một ví dụ đồ thị hình  với trọng số và một cây khung nhỏ nhất hình  với trọng số  </s> <s> trong bài mà mình đã viết trước đây bạn đọc đã có cơ hội làm quen với và cũng đã thấy cây khung có liên quan chặt chẽ với matroid này </s> <s> cụ thể cơ sở của graphic matroid của một đồ thị chính là cây khung của đồ thị đó </s> <s> từ lý thuyết matroid ta biết bài toán tìm cơ sở của matroid có trọng số lớn nhất nhỏ nhất có thể tìm được bằng giải thuật tham lam </s> <s> do đó cũng không có gì lạ nếu ta có thể tìm được cây khung nhỏ nhất sử dụng thuật toán tham lam </s> <s> thực tế thuật toán trong bài lý thuyết matroid có thể được sửa đổi chi tiết coi như bài tập cho bạn đọc để thu được thuật toán tìm cây khung nhỏ nhất trong thời gian </s> <s> thuật toán kruskal mà ta sẽ tìm hiểu sau đây chính là thuật toán tham lam trong matroid </s> <s> dưới góc độ đồ thị ta có thể thực thi thuật toán kruskal trong thời gian </s> <s> trước khi đi vào chi tiết tìm hiểu các thuật toán cho bài toán cây khung nhỏ nhất chúng ta sẽ tìm hiểu một số tính chất của cây khung nhỏ nhất trước </s> <s> sau đây là một số tính chất chung của một cây khung không nhất thiết là nhỏ nhất chứng minh các tính chất trên không khó và coi như bài tập cho bạn đọc </s> <s> chứng minh tính chất  ta có thể dùng quy nạp </s> <s> tính chất  dựa vào tính chất liên thông của đồ thị và  dựa vào tính chất là một cây </s> <s> ví dụ lát cắt tương ứng với của đồ thị trong hình a là các cạnh màu đỏ trong hình b </s> <s> </s> <s> một số tính chất sau của cây khung sẽ rất hữu ích trong thiết kế thuật toán </s> <s> </s> <s> phương pháp chứng minh các tính chất trên đều giống nhau sử dụng phương pháp lập luận tráo đổi exchange argument </s> <s> mình sẽ chứng minh tính chất  và  để minh họa cho lập luận này </s> <s> chứng minh  tương tự và coi như bài tập cho bạn đọc </s> <s>  giả sử cạnh lớn hơn hoàn toàn các cạnh khác trong cùng một chu trình và giả sử một cây khung nhỏ nhất chứa </s> <s> xóa khỏi  ta sẽ thu được hai cây </s> <s> do là một chu trình tồn tại một cạnh khác  gọi là  của nối với </s> <s> do đó là một cây khung của có trọng số nhỏ hơn do <  trái với giả thiết là một cây khung nhỏ nhất </s> <s>  giả sử cạnh nhỏ hơn hoàn toàn các cạnh khác trong cùng một lát cắt và giả sử tồn tại một cây khung nhỏ nhất chứa </s> <s> thêm vào  ta sẽ thu được một chu trình chứa </s> <s> do là lát cắt phải chứa ít nhất một cạnh khác của </s> <s> do đó là một cây khung của có trọng số nhỏ hơn do <  trái với giả thiết là một cây khung nhỏ nhất </s> <s> có rất nhiều thuật toán đã được phát triển cho bài toán cây khung nhỏ nhất </s> <s> mình sẽ viết  bài về  thuật toán khác nhau </s> <s> mỗi thuật toán có điểm mạnh và yếu riêng </s> <s> phần đọc thêm dưới đây mình sẽ giới thiệu thêm một số thuật toán khác và liên kết tới nguồn tham khảo để bạn đọc dễ tìm </s> <s> như đã nói ở phần matroid thuật toán kruskal  là một thuật toán tham lam </s> <s> thuật toán này khá dễ hiêu vả chứng minh </s> <s> thuật toán này tìm cây khung nhỏ nhất dựa trên tính chất chu trình liên tục thêm cạnh theo thứ tự tăng dần của trọng số vào cây khung nếu cạnh đó không tạo ra chu tình với cây khung hiện tại </s> <s> tuy nhiên để thực hiện hiệu quả với thời gian  ta phải sử dụng đến cấu trúc </s> <s> chi tiết xem thêm </s> <s> thuật toán prim  tìm cây khung nhỏ nhất dựa trên tính cắt tính chất  của cây khung </s> <s> thuật toán duy trì một tập đỉnh và một cây khung cho tập đỉnh này </s> <s> ban đầu chỉ có một đỉnh bất kì của đồ thị và không chứa cạnh nào </s> <s> mỗi bước thuật toán tìm ra đỉnh không thuộc sao cho cạnh kề với là cạnh có trọng số nhỏ nhất trong số các cạnh trong lắt cắt và thêm vào </s> <s> trong giả mã dưới đây ta sử dụng để biểu diễn cả tập và cây khung của tập này </s> <s> thuật toán có thể dễ dàng thực thi với thời gian  và nếu kết hợp với  ta có thể giảm xuống </s> <s> với những bạn đã quen với thì có lẽ thực thi thuật toán này sẽ dễ hơn với bạn </s> <s> chi tiết xem thêm </s> <s> thuật toán borůvka tìm cây khung nhỏ nhất dựa trên phép co cạnh edge contraction </s> <s> co một cạnh được hiểu là phép gộp hai đỉnh kề với cạnh đó lại với nhau thành một đỉnh mới và xóa đi các cạnh lặp loop và các cạnh song song </s> <s> phép co cạnh là một phép rất mạnh và được sử dụng nhiều trong lý thuyết đồ thị </s> <s> tuy nhiên trong máy tính việc thực thi phép co cạnh lại không hề đơn giản </s> <s> đặc biệt của thuật toán này đó là nó có một số tính chất cự kì đẹp </s> <s> với đồ thị thưa  thuật toán này có thời gian tuyến tính </s> <s> với đồ thị dày thuật toán có thời gian </s> <s> các thuật toán tốt nhất bây giờ cho bài toán cây khung cũng xuât phát từ sửa đổi thuật toán boruvka </s> <s> chi tiết xem thêm </s> <s> thuật toán kargerkleintarjan kkt là thuật toán ngẫu nhiên có thời gian  trả lại cây khung nhỏ nhất với xác suất ít nhất trong đó là số cạnh của đồ thị xác suất cao </s> <s> thuật toán này là sự kết hợp hoàn hảo giữa phương pháp lấy mẫu và thuật toán boruvka </s> <s> cho đến này thì chưa có thuật toán tất định deterministic nào có thời gian tuyến tính </s> <s> thuật toán tất định nhanh nhất được phát triển bởi  với thời gian  là hàm ngược </s> <s>  </s> <s> câu hỏi tồn tại hay không một thuật toán tuyến tính tìm cây khung nhỏ nhất vẫn là một câu hỏi mở cho đến nay </s> <s> thuật toán tuyến tính kkt cũng như một lời gợi ý cho chúng ta biết thuật toán như vậy có thể tồn tại </s> <s> xem tại của jason eisner  về bài toán cây khung nhỏ nhất khá đầy đủ </s> <s> ngoài bài toán tìm cây khung nhỏ nhất bạn đọc còn có thể tìm được những bài toán liên quan như kiểm tra xem một cây khung có phải là nhỏ nhất hay không và phiên bản động dynamic của cây khung tại đó </s> <s> cách viết rất dễ hiểu </s> <s> paper của karger klein và tarjan  viết về thuật toán kkt cũng cực kì dễ đọc dễ hiểu </s> <s> mô tả thuật toán khá ngắn gọn </s> <s> chỉ có phân tích là hơi phức tạp hơn một chút </s> <s> về lecture note mình thấy của uri zwick khá dễ hiểu </s> <s> phần bài tập của note này có nhiều bài tập hay trong đó có một số tính chất khá thú vị của thuật toán borůvka mà mình đã nói ở trên </s> <s> về bài toán cây khung nhỏ nhất cho đồ thị có hướng mình khuyến khích bạn đọc tham khảo của uri zwick </s> <s> nếu bạn nào nghiên cứu sâu về bài toán cây khung thuật toán chazelle  cũng là bài báo phải đọc </s> <s> thuật toán sử dụng cấu trúc dữ liệu soft heap và mô tả của cấu trúc này trong  khá phức tạp </s> <s> kaplan và zwick đã đơn giản hóa cấu trúc dữ liệu này khá nhiều và bạn đọc có thể tìm thấy </s> <s> bạn nào biết các paper hoặc bài viết nào hay về cây khung xin để lại comment bên dưới để mình cập nhật vào bài viết </s> <s>  kruskal joseph b </s> <s> proceedings of the american mathematical society  </s> <s>    </s> <s> </s> <s>  prim robert clay </s> <s> bell system technical journal  </s> <s>    </s> <s> </s> <s>  borůvka otakar  </s> <s> </s> <s> elektronický obzor in czech  – </s> <s> </s> <s>  nešetřil jaroslav eva milková and helena nešetřilová </s> <s> discrete mathematics  </s> <s>    </s> <s> </s> <s>  karger david r </s> <s>  klein philip n </s> <s>  tarjan robert e </s> <s> </s> <s> journal of the acm   –  </s> <s> </s> <s>  chazelle bernard </s> <s> journal of the acm jacm  </s> <s>    </s> <s>   trackback link powered by and </s> <s> luồng trong mạng iii một số biến thể của luồng  network flow iii some flow variants </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong post này chúng ta tìm hiểu  biến thể khác nhau của bài toán luồng cực đạihai biến thể đầu tiên ta áp dụng phép quy dẫn để quy về bài toán luồng cơ bản </s> <s> bài toán thứ  chúng ta sẽ áp dụng thuật toán để tìm luồng có chi phí cực tiểu </s> <s> trong bài này ta kí hiệu là mạng đầu vào </s> <s> trong biến thể này mạng của chúng ta ngoài khả năng thông qua còn có một tập các đỉnh phát và một tập các đỉnh thu </s> <s> xem ví dụ minh họa trong figure a </s> <s> luồng trong mạng này được định nghĩa là hàm thỏa mãn điều kiện thông qua và điều kiện bảo toàn luồng tại mọi đỉnh trong </s> <s> giá trị của luồng được định nghĩa là tổng luồng đi ra tại tất cả các đỉnh trong  bài toán của chúng ta là tìm một luồng có giá trị cực đại trong mạng </s> <s> để quy về bài toán luồng cực đại với một đỉnh phát một đỉnh thu mà chúng ta đã biết cách giải ta sẽ thêm vào  đỉnh mới và </s> <s> ta sẽ nối với mỗi đỉnh phát bằng một cung và nối mỗi đỉnh với đỉnh bằng một cung </s> <s> </s> <s> xem ví dụ minh họa trong figure b </s> <s> gọi là mạng thu được </s> <s> ta sẽ chứng minh tìm luồng cực đại trong có thể được quy về tìm luồng cực đại trong  mạng chỉ có một đỉnh phát và một đỉnh thu </s> <s> </s> <s>  a một luồng với nhiều đỉnh phát/thu b đồ thị quy dẫn </s> <s> </s> <s> gọi lần lượt là luồng cực đại trong và </s> <s> trước hết ta chứng minh </s> <s> gọi là một luồng cực trong </s> <s> ta sẽ chuyển luồng này thành một luồng trong </s> <s> gọi là luồng trong đó và ta có thể dễ dàng kiểm tra điều kiện thông qua của vì các cạnh mới trong đều có khả năng thông qua vô hạn </s> <s> để kiểm tra điều kiện bảo toàn luồng ta chỉ cần kiểm tra với các đỉnh thuộc </s> <s> ta có thể kiểm tra trực tiếp dựa vào định nghĩa </s> <s> do đó luồng là một luồng hợp lệ trong </s> <s> do đó </s> <s> ngoài ra do  ta suy ra dpcm </s> <s> chứng minh  ta làm tương tự </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> ta sử dụng khả năng thông chỉ để trình bày được dễ hiểu </s> <s> ở đây ta có thể thay bằng tổng khả năng thông qua của tất cả các cung </s> <s> giả sử mạng của chúng ta chỉ có một đỉnh phát và một đỉnh thu </s> <s> tuy nhiên mỗi cung  ngoài khả năng thông qua còn có một định mức cho biết lượng luồng ít nhất trên cung </s> <s> điều kiện này được gọi </s> <s> một luồng được gọi là hợp lệ trong trường hợp này ngoài điều kiện thông qua và bảo toàn luồng còn phải thỏa mãn điều kiện định mức </s> <s> ví dụ một mạng với định mức cạnh trong figure a </s> <s> bài toán của chúng ta đặt ra là tìm một luồng cực đại với định mức của cung </s> <s> trước hết chúng ta giải bài toán đơn giản hơn tìm một luồng hợp lệ với định mức của cung </s> <s> nếu ta tìm được một luồng hợp lệ  chúng ta có thể tìm luồng cực đại với điều kiện định mức bằng cách tăng luồng hợp lệ này sử dụng ý tưởng của fordfulkerson </s> <s> thực ra khâu khó nhất của bài toán luồng cực đại với định mức chính là tìm một luồng hợp lệ </s> <s> trong bài toán luồng cổ điển luồng với giá trị  trên mọi cung là một luồng hợp lệ </s> <s> ta sẽ quy bài toán tìm luồng hợp lệ bằng về bài toán luồng cực đại cổ điển như sau </s> <s> thêm vào hai đỉnh mới và </s> <s> thiết lập khả năng thông qua mới như sau </s> <s> gọi đồ thị mới là </s> <s> chú ý các cung trong không có định mức định mức bằng  </s> <s> figure b dưới đây minh họa phép quy dẫn áp dụng cho đồ thị ở figure a </s> <s> </s> <s> </s> <s> a một mạng với định mức của cạnh </s> <s> với mỗi cung dạng  là khả năng thông qua và là định mức </s> <s> b đồ thị quy dẫn về bài toán luồng cực đại cổ điển </s> <s> </s> <s> ta sẽ chứng minh tìm luồng hợp lệ trong có thể quy về tìm luồng cực đại trong </s> <s> ta gọi luồng trong là một nếu mọi cung đi ra từ đều bị bão hòa </s> <s> một cách hình thức </s> <s> theo định lý luồng cực đại và lắt cắt cực tiểu luồng bão hòa cũng chính là một luồng cực đại </s> <s> do đó tìm luồng bão hòa trong cũng chính là tìm luồng cực đại </s> <s> </s> <s> ta sẽ phải chứng minh hai chiều  từ một luồng hợp lệ của  ta sẽ phải biến đổi nó thành một luồng bão hòa trong và  từ một luồng bão hòa trong  ta phải biến đổi nó thành một luồng hợp lệ của </s> <s> chứng minh  </s> <s> gọi là một luồng hợp lệ của </s> <s> ta sẽ gán cho mỗi cung của một luồng với giá trị như sau </s> <s> dễ thấy với mọi cung do thõa mãn điều kiện định mức </s> <s> ngoài ra ta dễ dàng kiểm tra được bão hòa các cung đi ra từ </s> <s> luồng thỏa mãn điều kiện thông qua do thỏa mãn điều kiện thông qua </s> <s> ta chỉ còn phải kiểm tra điều kiện bảo toàn luồng của </s> <s> ta thấy với mỗi đỉnh khác của  luồng đi vào trong bằng luồng đi vào trong và luồng đi ra từ trong bằng luồng đi ra từ trong </s> <s> tại  luồng đi ra có giá trị giả sử luồng cực đại của của không có luồng quay ngược lại  </s> <s> do ta gán luồng trên cung  cũng bằng </s> <s> do đó điều kiện bảo toàn luồng thỏa mãn với mọi đỉnh thuộc  ngoại trừ </s> <s> chứng minh  tương tự như  và coi như bài tập cho bạn đọc </s> <s> sau khi ta đã có được một luồng hợp lệ với định mức cạnh ta sẽ sử dụng ý tưởng fordfukerson để tìm đường tăng luồng trong đồ thị thặng dư và thực hiện tăng luồng để tìm luồng cực đại </s> <s> tuy nhiên trong trường hợp này chúng ta cần phải cần thận trong bước tăng luồng để đảm bảo luồng của các cung sau khi tăng vẫn phải thỏa mãn điều kiện định mức </s> <s> ta định nghĩa đồ thị thặng dư như sau </s> <s> với mỗi cung có luồng không âm ta định nghĩa  cung song song với trọng số </s> <s> sau đó ta thực hiện tìm đường tăng luồng và tăng như trong thuật toán gốc của fordfukerson </s> <s> trong phiên bản này ngoại trừ khả năng thông qua mỗi cung của còn có một chi phí </s> <s> chi phí này là chi phí phải trả cho luồng trên cung </s> <s> chi phí của một luồng trong được định nghĩa như sau </s> <s> trong figure  là một luồng cực đại với chi phí </s> <s> </s> <s> một luồng cực đại với chi phí </s> <s> mỗi cung có dạng trong đó là khả năng thông qua là giá trị của luồng trên cung và là chi phí cho mỗi đơn vị của luồng </s> <s> bài toán đặt ra cho chúng ta là trong số các luồng cực đại của  tìm luồng cực đại có chi phí nhỏ nhất </s> <s> nhìn dưới góc độ bài toán dẫn dầu như trong bài trước một công ty muốn chuyển dầu qua mạng đường ống có sẵn sẽ phải trả tiền cho phần ống mà họ chuyển dầu qua </s> <s> công ty muốn chuyển được lượng dầu nhiều nhất với chi phí nhỏ nhất họ sẽ phải tìm luồng cực đại với chi phí cực tiểu </s> <s> ta sẽ giả sử đầu thì đầu vào không có cung song song i </s> <s> e nếu thì và ngược lại </s> <s> tính chất này có thể được đảm bảo bằng cách thêm một đỉnh mới vào một trong  cung song song xem lại kĩ thuật tương tự trong bài trước </s> <s> ý tưởng của thuật toán gồm  bước  tìm một luồng cực đại trong mà chưa cần quan tâm đến chi phí và  thực hiện thay đổi luồng cực đại để thu được một luồng cực đại khác với chi phí nhỏ hơn </s> <s> bước  sẽ được lặp lại cho đến khi ta không thể thay đổi được luồng cực đại nữa thì luồng cuối cùng thu được sẽ là luồng cực đại có chi phí nhỏ nhất </s> <s> bước  ta có thể áp dụng bất kì thuật toán tìm luồng cực đại nào </s> <s> thực hiện bước  ta dựa trên nhận xét tăng luồng dọc theo một chu trình có hướng trong đồ thị thặng dư không làm thay đổi giá trị cực đại của luồng </s> <s> ví dụ trong figure  hình b là luồng thu được sau khi tăng luồng cực đại trong figure  dọc theo một chu trình của đồ thị thặng dư chu trình màu đỏ </s> <s> luồng thu được sau khi tăng có giá trị  bằng giá trị của luồng trong figure  </s> <s> </s> <s> a đồ thị thặng dư của luồng trong figure  b luồng cực đại thu được sau khi tăng luồng cực đại trong figure  dọc theo chu trình màu đỏ trong a </s> <s> do đó ta có thể thay đổi một luồng cực đại thành một luồng cực đại khác bằng cách tăng luồng dọc theo chu trình </s> <s> để giảm chi phí của luồng cực đại mỗi khi thay đổi luồng ta phải tìm một chu trình trong đồ thị thặng dư sao cho khi tăng luồng dọc theo chu trình này chi phí của luồng cực đại sẽ giảm đi </s> <s> do đó ta cần phải đưa thêm chi phí vào trong định nghĩa của đồ thị thặng dư mà ta gọi là và kí hiệu là </s> <s> với mỗi cung mà dương ta định nghĩa cung ngược trong với trọng số </s> <s> nếu <  ta định nghĩa cung với trọng số </s> <s> xem ví dụ trong figure  </s> <s> về cơ bản đồ thị chi phí thặng dư có cấu trúc giống đồ thị thặng dư chỉ khác trọng số ở đây là chi phí </s> <s> </s> <s> đồ thị chi phí thặng dư của luồng trong figure  </s> <s> ta sẽ tìm một chu trình âm trong với trọng số sử dụng chẳng hạn và thực hiện tăng luồng dọc theo chu trình âm này </s> <s> dễ thấy sau khi tăng luồng chi phí của luồng cực đại sẽ giảm đi  trong đó là lượng luồng tăng dọc theo chu trình âm và là chi phí trọng số của chu trình âm </s> <s> trong figure  chu trình âm tìm được là chu trình mà đỏ với chi phí và xem figure b </s> <s> do đó nêu tăng luồng dọc theo chu trình âm này chi phí sẽ giảm đi đơn vị </s> <s> luồng cực đại có thể tìm được trong thời gian sử dụng thuật toán orlin </s> <s> chu trình âm có thể tìm được trong thời gain sử dụng bellmanford </s> <s> mỗi bước tăng luồng chi phí của luồng cực đại giảm đi ít nhất  đơn vị </s> <s> do đó cần tối đa bước tăng luồng trong đó là chi phí của luồng cực đại </s> <s> như vậy ta có thể thực thi thuật toán này trong thời gian ovec </s> <s> tất nhiên đây không phải là thời gian đa thức vì có thể biểu diễn được bằng bít </s> <s> một số kĩ thuật như edmondkarp cũng không áp dụng được ở đây vì bài toán tìm chu trình âm với chi phí nhỏ nhất và bài toán tìm chu trình âm có ít cạnh nhất đều là các bài toán nphard </s> <s> goldberg và tajan  đưa ra thuật toán tìm chu trình âm với chi phí trung bình nhỏ nhất chi phí trung bình ở đây là chi phí trung bình trên mỗi cạnh trong thời gian đa thức và chứng minh rằng phép tăng luồng sẽ kết thúc sau đa thưc bước do đó cho ta thuật toán thời gian đa thức </s> <s>  j </s> <s> erickson </s> <s>  uiuc fall  </s> <s> </s> <s>  j </s> <s> b </s> <s> orlin </s> <s> </s> <s> in proceedings of the th annual acm symposium on theory of computing pp </s> <s>  </s> <s> acm  </s> <s> </s> <s>  a </s> <s> v </s> <s> goldberg and r </s> <s> e </s> <s> tarjan </s> <s> </s> <s> j </s> <s> assoc </s> <s> comput </s> <s> mach </s> <s>    </s> <s>     trackback link powered by and </s> <s> theory news / </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  tháng  và tháng  không có quá nhiều điều thú vị nên mình tổng hợp cả  tháng vào một bài </s> <s>        trackback link powered by and </s> <s> cây khung nhỏ nhất thuật toán kruskal  kruskal algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  thuật toán kruskal là một thuật toán tham lam </s> <s> thuật toán sẽ duy trì một đồ thị con phi chu trình  gọi là một rừng forest của </s> <s> ban đầu khởi tạo  i </s> <s> e là tập chỉ gồm các đỉnh mà không có cạnh nào cả </s> <s> tại mỗi bước thuật toán sẽ cố gắng thêm cạnh vào  để cuối cùng sẽ là một cây khung </s> <s> do ta muốn tổng trọng số của nhỏ nhất có thể ta sẽ chọn cạnh cạnh có nhỏ nhất gọi là  trong số các cạnh ở trong và thêm vào </s> <s> sẽ có hai trường hợptính chất  cho chúng ta biết thêm cạnh theo thứ tự tăng dần của trọng số như vậy sẽ cho chúng ta cây khung nhỏ nhất </s> <s> </s> <s> ví dụ các bước chạy của thuật toán với đồ thị cho trong hình trên </s> <s> các cạnh màu đỏ là các cạnh nằm trong cây khung nhỏ nhất </s> <s> các cạnh màu xanh là các cạnh đã được xét và không nằm trong cây khung </s> <s> các cạnh màu xanh gạch ngang là cạnh sẽ được xem xét đưa vào cây khung trong bước tiếp theo </s> <s> thứ tự các cạnh được xét là theo chiều tăng dần của trọng số </s> <s> giả mã tạm thời chưa quan tâm đến thời gian thực thi </s> <s> câu hỏi đầu tiên mà ta quan tâm đó là thuật toán có thực sự trả về cây khung nhỏ nhất để trả lời câu hỏi này ta sẽ trả lời một loạt câu hỏi dễ hơn sau </s> <s> đồ thị đầu ra của có phải là chu trình hay không câu trả lời là vì điều kiện trong dòng màu đỏ luôn đảm bảo điều này </s> <s> đồ thị đầu ra của có phải là một cây hay không ta đã biết không có chu trình do đó nó sẽ là cây nếu liên thông chỉ có duy nhất một thành phần liên thông </s> <s> giả sử đầu ra không liên thông sẽ có ít nhât hai thành phần liên thông mỗi thành phần liên thông có thể chỉ là  đỉnh </s> <s> chọn hai thành phần liên thông của  sao cho tồn tại một cạnh của nối hai thành phần này </s> <s> ta luôn chọn được vì liên thông </s> <s> gọi là cạnh có trọng số nhỏ nhất nối </s> <s> cạnh này không thuộc vì nếu không sẽ là chỉ là một thành phần mà thôi </s> <s> nhưng khi kiểm tra điều kiện ở dòng màu đỏ rõ ràng không có chu trình </s> <s> điều đó có nghĩa ta sẽ thêm vào trong ngay sau đó </s> <s> điều này trái với giả sử không thuộc </s> <s> do đó phải liên thông i </s> <s> e là một cây </s> <s> giờ ta sẽ chứng minh </s> <s> gọi là một cây khung nhỏ nhất của sao cho số cạnh chung giữa và là lớn nhất </s> <s> nếu thì rõ ràng là một cây khung nhỏ nhất </s> <s> do đó giả sử </s> <s> gọi và lần lượt là thứ tự các cạnh của và sắp xếp theo chiều tăng của trọng số </s> <s> gọi là chỉ số nhỏ nhất sao cho cạnh và cạnh là hai cạnh khác nhau </s> <s> theo cách chọn  ta suy ra và </s> <s> do đó không có chu trình </s> <s> ta sẽ có  vì nếu không dòng màu đỏ trong thuật toán sẽ kiểm tra cạnh kiểm tra cạnh  và do không có chu trình sẽ được thêm vào trước </s> <s> hay nói cách khác chính là cạnh thứ của  trái với giả thiết </s> <s> xét đồ thị </s> <s> sẽ có một chu trình </s> <s> chu trình có hai tính chất saugọi  là một cây tại sao </s> <s> do  </s> <s> từ đó suy ra cũng là một cây khung nhỏ nhất </s> <s> nhưng rõ ràng có số cạnh chung với nhiều hơn </s> <s> điều này trái với giả thiết là cây khung nhỏ nhất có số cạnh chung nhiều nhất với </s> <s> như vậy  i </s> <s> e là cây khung nhỏ nhất </s> <s> phần khó thực thi nhất của thuật toán có lẽ là dòng màu đỏ </s> <s> theo tính chất  của cây khung có tối đa cạnh do đó có tối đa cạnh </s> <s> dòng màu đỏ thực ra có thể quy về bài toánkiểm tra xem một đồ thị có chu trình hay khôngta có thể giải bài toán này bằng bất kì thuật toán nào bfs/dfs </s> <s> do đó ta có thể thực hiện dòng màu đỏ trong thời gian  qua đó thu được thuật toán </s> <s> tuy nhiên ta muốn thực hiện nhanh hơn thế </s> <s> ta nhận xét thấy trong mỗi bước trung gian là một rừng i </s> <s> e mỗi thành phần liên thông của là một cây </s> <s> phép kiểm tra xem có chu trình hay không tương đương với kiểm tra xem hai đầu mút gọi là  của có thuộc cùng một cây trong rừng hay không </s> <s> giờ nếu biểu diễn mỗi cây trong bằng cấu trúc tập hợp </s> <s> các đỉnh thuộc cùng một cây khi và chỉ khí nó nằm trong cùng một tập </s> <s> thao tác a sẽ tương đương với so sánh và </s> <s> thao tác b sẽ tương đương với </s> <s> các bạn xem thêm </s> <s> do đó ta có thể viết lại thuật toán như sau để thực thi giả mã trên chúng ta có thể sử dụng biểu diễn dạng ma trận kề hay danh sách kề </s> <s> tuy nhiên trong giả mã trên không có truy vấn dạng tìm hàng xóm của một đỉnh </s> <s> do đó ta có thể sử dụng cấu trúc danh sách cạnh để biểu diễn đồ thị gọi là danh sách chứ thực ra ta có thể dùng một mảng các struct mỗi struct biểu diễn một cạnh </s> <s> phép biểu diễn này cho phép chúng ta có thể gọi thủ tục sắp xếp cạnh một cách dễ dàng </s> <s> trong code dưới đây mình sử dụng danh sách cạnh để cài đặt </s> <s> code c sắp xếp các cạnh của đồ thị theo trọng số mất thời gian vd sử dụng  </s> <s> như ta đã biết mỗi thao tác của cấu trúc unionfind kết hợp nén đường đi mất thời gian trong đó là ngược </s> <s> hàm này có giá trị với mọi giá trị thực tế của </s> <s> do đó vòng lặp for có chứa dòng màu đỏ sẽ mất thời gian </s> <s> do đó tổng thời gian của thuật toán là </s> <s> trong cấu trúc unionfind giả sử ta có một tập gồm phần tử </s> <s> ta muốn có một cấu trúc dữ liệu biểu diễn các tập con không giao nhau disjoint subsets của </s> <s> cấu trúc này hỗ trợ các thao tác saumỗi tập hợp con của  ta sẽ dùng một cây để biểu diễn </s> <s> mảng sẽ biểu diễn cấu trúc cây này </s> <s> i </s> <s> e nếu như là nút cha của trong cây biểu diễn tập hợp chứa  </s> <s> do đó để kiểm tra xem hai phần tử có trong cùng một cây hay không ta chỉ việc tìm xem nút gốc của cây biểu diễn có trùng nhau hay không </s> <s> trong thực thi dưới đây ta sẽ sử dụng nén đường đi </s> <s> về cơ bản khi ta đã tìm được gốc gọi là  của cây chứa nút  ta đặt luôn  để các phép tìm gốc sau đó của sẽ nhanh hơn </s> <s> để hợp  cây ta sẽ hợp theo hạng rank và ta sẽ dùng một mảng </s> <s> về mặt trực quan khi gộp  cây ta nên gộp cây có độ sâu depth nhỏ hơn vào cây có độ sâu lớn hơn vì làm như vậy chiều sâu của cây không tăng lên tối đa  sau khi gộp và do đó các phép tìm gốc sau này sẽ nhanh hơn </s> <s> hạng là một chỉ số về mặt trực quan nhưng không hoàn toàn đo xem cây nào có chiều sâu nhỏ hơn cây nào </s> <s> do đó ta sẽ gộp cây của nút có hạng nhỏ hơn vào cây của nút có hạng lớn hơn </s> <s> giả mã </s> <s> </s> <s> code ccode đầy đủ </s> <s>  kruskal joseph b </s> <s> proceedings of the american mathematical society  </s> <s>    </s> <s> </s> <s>  prim robert clay </s> <s> bell system technical journal  </s> <s>    </s> <s> </s> <s>  borůvka otakar  </s> <s> </s> <s> elektronický obzor in czech  – </s> <s> </s> <s>  nešetřil jaroslav eva milková and helena nešetřilová </s> <s> discrete mathematics  </s> <s>    </s> <s> </s> <s>  karger david r </s> <s>  klein philip n </s> <s>  tarjan robert e </s> <s> </s> <s> journal of the acm   –  </s> <s> </s> <s>  jeff erickson </s> <s> </s> <s> uiuc  </s> <s>    trackback link on thank you share itpowered by and </s> <s> luồng trong mạng iv ứng dụng của luồng  network flow iv flow applications </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ tìm hiểu ba ứng dụng khác nhau của luồngba ứng dụng này nằm trong ba lĩnh vực hoàn toàn khác nhau cho chúng ta thấy bài toán luồng cực đại có tiềm năng ứng dụng rất lớn </s> <s> một đồ thị được gọi là bipartitie nếu tồn tại một cách phân hoạch tập đỉnh thành hai phần và sao cho mỗi cạnh có đúng một đầu mút trong và một đầu mút trong </s> <s> xem ví dụ trong figure  a </s> <s> ta thường sử dụng kí hiệu để kí hiệu đồ thị hai phía </s> <s> </s> <s> a một đồ thị hai phía và một cặp ghép trong đồ thị b cặp ghép cực đại của đồ thị c mạng thu được từ đồ thị ở hình a các cạnh vô hướng sẽ được chuyển thành hai cạnh có hướng song song ngược chiều với khả năng thông qua </s> <s> cho trước một đồ thị ta có thể kiểm tra đồ thị đó có phải là hai phía hay không trong thời gian bằng </s> <s> trong giới hạn của bài viết ta sẽ không đi sau vào chi tiết thuật toán này </s> <s> về cơ bản thuật toán dựa trên nhận xét rằng một đồ thị là hai phía khi và chỉ khi nó không chứa chu trình lẻ odd cycle i </s> <s> e chu trình mà số đỉnh thuộc chu trình là một số lẻ </s> <s> một matching trong một đồ thị không nhất thiết là hai phía là một tập các cạnh sao cho không có hai cạnh nào trong có chung một đầu mút </s> <s> một cặp ghép được gọi là cực đại maximum matching nếu nó có kích thước số lượng cạnh lớn nhất trong số các cặp ghép khác nhau của đồ thị </s> <s> xem ví dụ tring figure c </s> <s> bài toán đặt ra cho chúng ta là tìm một cặp ghép cực đại trong đồ thị hai phía </s> <s> chúng ta sẽ quy bài toán này về bài toán luồng cực đại như sau ta định hướng các các cạnh vô hướng thành các cung từ đến và gán cho mỗi cung khả năng thông qua </s> <s> ta thêm vào đồ thị hai đỉnh mới và </s> <s> ta nối với mỗi đỉnh trong và nối mỗi đỉnh trong với </s> <s> mỗi cung mới thêm vào đều có khả năng thông qua </s> <s> gọi là mạng thu được sau thao tác này </s> <s> xem ví dụ trong figure c </s> <s> ta sẽ chứng minh bài toán tìm cặp ghép cực đại của có thể được quy về bài toán tìm luồng cực đại trong </s> <s> </s> <s> gọi là cặp ghép cực đại của </s> <s> ta sẽ chứng minh có một luồng với giá trị </s> <s> chiều ngược lại của định lý coi như bài tập cho bạn đọc </s> <s> ta sẽ chuyển đơn vị luồng dọc theo các cung sauta gán luồng cho mọi cung khác của </s> <s> gọi là luồng thu được </s> <s> ta có thể dễ dàng kiểm tra được các điều kiện của luồng đối với chi tiết coi như bài tập cho bạn đọc </s> <s> ngoài ra có đúng cung đi ra khỏi là có luồng khác không vì kề với đúng đỉnh trong </s> <s> do đó </s> <s> dễ thấy xây dựng có thể được thực hiện trong thời gian do có đỉnh và cạnh và luồng cực đại trong có giá trị là  áp dụng thuật toán fordfulkerson ta có thể tìm luồng cực đại trong trong thời gian </s> <s> cho một ma trận vuông kích thước trong đó tổng các phần tử trên mỗi hàng đều là số nguyên và tổng các phần tử trên mỗi cột cũng đều là số nguyên </s> <s> tìm một cách làm tròn ma trận  bằng cách làm tròn mỗi phần tử của thành một số nguyên gần nhất sao cho tổng các hàng và cột của không thay đổi </s> <s> xem ví dụ ta sẽ quy bài toán này về bài toán tìm </s> <s> ta sẽ xây dựng một đồ thị từ như sau ban đầu đồ thị của chúng ta rỗng </s> <s> mọi cung khác của đồ thị sẽ có định mức là </s> <s> figure  minh họa cho mạng xây dựng theo cách này từ ma trận ví dụ ở trên </s> <s> </s> <s> mạng thu được từ ma trận ví dụ ở trên </s> <s> một luồng cực dại được gọi là nếu như mọi cung đi ra từ đều được bão hoàn i </s> <s> e với mọi </s> <s> theo định lý fordfulkerson luồng bão hòa cũng là luồng cực đại của đồ thị </s> <s> ta có </s> <s> ta sẽ phải chứng minh hai chiều của định lý </s> <s> chiều đầu tiên ta sẽ chứng minh một cách làm tròn ma trận sẽ cho ta một luồng cực đại bão hòa trong </s> <s> gọi là ma trận làm tròn của </s> <s> luồng trên các cung của sẽ có giá trị tương ứng như saudễ thấy luồng trên là một luồng bão hòa vì mọi cung đi ra từ đều được bão hòa </s> <s> ta sẽ kiểm tra luồng định nghĩa như trên là một luồng hợp lệ với định mức cạnh </s> <s> theo định nghĩa mỗi phần tử chỉ được làm tròn thành số nguyên gần nhất </s> <s> do đó điều kiện định mức được thỏa mãn </s> <s> điều kiện thông qua cũng được thỏa mãn do </s> <s> ta chỉ còn phải kiểm tra điều kiện bảo toàn </s> <s> do ma trận làm tròn bảo toàn tổng hàng và tổng cột luồng mỗi là tổng hàng thứ của và cũng chính là tổng hàng thứ của </s> <s> do tổng luồng từ là tổng hàng thứ của  điều kiện bảo toàn được thỏa mãn tại </s> <s> chứng minh tương tự với mỗi </s> <s> chiều ngược lại từ một luồng cực đại bão hòa của  ta sẽ xây dựng ma trận làm tròn cho ma trận như sau do định mức mà khả năng thông qua của đều là số nguyên luồng trên các cung cũng là số nguyên </s> <s> do đó ma trận là ma trận nguyên </s> <s> do tính bảo toàn luồng tổng hàng và cột trong cũng được bảo toàn trong </s> <s> các tính chất khác cần có của ma trận cũng có thể dễ dàng được kiểm tra thông qua điều kiện định mức của mạng </s> <s> trong bài toán này đầu vào của chúng ta là một bức ảnh và ta muốn tách một đối tượng gọi là phân vùng trong bức ảnh ra khỏi phần khác của bức ảnh mà ta gọi chung là nền </s> <s> xem ví dụ trong figure  </s> <s> </s> <s> tách  đối tượng  cái bút chì ra khỏi bức ảnh </s> <s> phần tối màu đen là nền của bức ảnh </s> <s> hình được lấy từ </s> <s> để đơn giản ở đây ta sẽ chỉ tách một và chỉ một đối tượng tất cả các đối tượng khác ta đều coi là nền </s> <s> để chuyển bài toán này thành một bài toán tính toán cụ thể ta cần phải mô hình hóa bức ảnh để biến nó thành đồ thị </s> <s> bước này cần rất nhiều kiến thức liên quan đến xử lí ảnh do đó mình sẽ cố gắng mô tả một cách đơn giản </s> <s> chi tiết cụ thể hơn bạn đọc có thể tham khảo tại bài báo gốc  </s> <s> ta sẽ coi mỗi một điểm ảnh pixel là một đỉnh của đồ thị </s> <s> mỗi đỉnh có hai đại lượng tương ứng với khả năng điểm thuộc đối tượng và tương ứng với khả năng thuộc nền </s> <s> mỗi điểm ảnh không thuộc phần biên ảnh sẽ có  điểm ảnh kề bên </s> <s> với mỗi điểm ảnh kề bên  ta sẽ có cạnh tương ứng với trọng số </s> <s> trọng số này sẽ tương ứng với phân và vào hai vùng khác nhau i </s> <s> e thuộc đối tượng và thuộc nền hoặc ngược lại </s> <s> làm thế nào để có được những đại lượng này từ một bức ảnh xem phần remark ở cuối bài </s> <s> ở đây ta giả sử đã có sẵn những đại lượng như vậy </s> <s> ta có hai tiêu chuẩn chính khi thực hiện phân vùng ảnhhai tiêu chuẩn đó đưa đến việc tìm một phân hoạch của tập đỉnh sao cho định nghĩa dưới đây đạt giá trị cực đại ta có thể coi tập đỉnh tương ứng với tập các điểm ảnh của đối tượng và tập đỉnh là tập các điểm ảnh thuộc nền </s> <s> đặt  ta có do là một hằng số ta có thể chuyển bài toán cực đại hóa về bài toán cực tiểu hóa </s> <s> ta sẽ quy bài toán này về bài toán tìm một lắt cắt với trọng số cực tiểu trong đồ thị khác  </s> <s> nhắc lại đồ thị hiện tại của chúng ta có tập đỉnh là tập các điểm ảnh và hai điểm ảnh kề bên sẽ được nối với một cạnh với trọng số </s> <s> ta sẽ biến mỗi cạnh vô hướng này thành hai cung song song và với cùng khả năng thông qua </s> <s> ta sẽ thêm vào đồ thị hai đỉnh và </s> <s> với mỗi điểm ảnh  ta thêm một cung với trọng số và một cung với trọng số </s> <s> gọi đồ thị thu được là </s> <s> xem minh họa trong figure  </s> <s> </s> <s> mạng thu được trong bài toán phân vùng ảnh </s> <s> </s> <s> chú ý lát cắt là lát cắt trong đồ thị còn lát cắt là lát cắt trong đồ thị </s> <s> theo định nghĩa từ định nghĩa nếu ta có hai cung song song và với cùng khả năng thông qua ở đây  thì ta chỉ tính khả năng thông qua của cung trong </s> <s> dựa vào định nghĩa của  đại lượng chính là tổng khả năng thông qua của các cung từ tới các đỉnh trong và chính là khả năng thông qua của các đỉnh từ tới </s> <s> do đó </s> <s> theorem  cho chúng ta biết để tìm phân hoạch của bức ảnh thỏa mãn cực tiểu ta chỉ việc tìm một lát cắt cực tiểu trong đồ thị </s> <s> lát cắt này có thể tìm bằng cách tìm một luồng cực đại từ tới  theo định lý fordfukerson </s> <s> trong phần này mình sẽ lượt qua ngắn gọn cách thu được như mô tả ở trên </s> <s> về mặt trực quan đại lượng đặc trưng cho độ tương tự giữa hai điểm ảnh </s> <s> nếu hai điểm ảnh càng tương tự nhau càng lớn và như vậy chi phí phân vào hai vùng khác nhau càng cao </s> <s> ví dụ trong  tác giả chọn  với là một hằng số dương và là cường độ tại hai điểm ảnh  là một hàm thỏa mãn tiêu chí như vậy </s> <s> để thu được  ta làm tương tự ta có thể cố định một số điểm ảnh trên ảnh thuộc đối tượng </s> <s> hay nói cách khác ta chọn một số điểm ảnh và cho với những điểm ảnh này </s> <s> với các điểm ảnh khác ví dụ  ta sẽ gán tỉ lệ với độ tương tự trung bình giữa và các điểm ảnh mà ta đã chọn sẵn thuộc đối tượng </s> <s> về mặt trực quan ta càng cố định nhiều điểm thuộc đối tượng giả sử các điểm đó đúng là đối tượng thì khả năng ta gán cho các điểm ảnh càng chính xác </s> <s> figure  dưới đây là ví dụ về chất lượng phân vùng sử dụng thuật toán trên với các điểm ảnh chọn thuộc đối tượng khác nhau </s> <s> </s> <s> độ chính xác của thuật toán phân vùng khi nhiều điểm được đánh dấu là thuộc đối tượng/nền </s> <s> hình lấy từ  </s> <s>  j </s> <s> erickson </s> <s>  uiuc fall  </s> <s> </s> <s>  y </s> <s> boykov and g </s> <s> funkalea </s> <s> international journal of computer vision  </s> <s>   </s> <s> </s> <s>  k </s> <s> wayne </s> <s>  princeton spring  </s> <s>     trackback link powered by and </s> <s> các kĩ thuật xử lí bít i bitwise tricks i </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  như donald knuth  đã nói thao tác với bít là một thành phần không thể thiếu trong toolkit của các lập trình viên tốt </s> <s> trong bài này chúng ta sẽ tìm hiểu tại sao thao tác với bít lại quan trong như vậy </s> <s> sử dụng thao tác bít chúng ta có thể thực hiện nhiều thứ rất ảo bằng một vài câu lệnh đơn giản </s> <s> xét một ví dụ đơn giản sau cho một số nguyên  bít không dấu  kiểm tra xem có phải là một lũy thừa của  hay không i </s> <s> e kiểm tra xem có tồn tại một số sao cho  có lẽ một số trong chúng ta sẽ tiếp cận như sau với mỗi  ta tính và so sánh với  </s> <s> tất nhiên bạn có thể thêm một vài heuristic để thuật toán nhanh hơn còn về mặt ý tưởng thì là như vậy </s> <s> tuy nhiên nếu bạn biết xử lí bít thì hàm trên có thể được thực hiện nhanh và ngắn gọn như sau </s> <s> code ctrong đó là phép and </s> <s> hi vọng ví dụ trên đủ để thuyết phục bạn rằng nắm chắc các kĩ thuật xử lí bít là một điều không thể thiếu trong các kĩ năng của bạn </s> <s> trong các phần tiếp theo chúng ta sẽ tìm hiểu tại sao thuật toán là đúng </s> <s> ta sẽ kí hiệu số nguyên có dấu là và số nguyên không dấu là trong đó là số bít </s> <s> ví dụ số nguyên  bít không dấu là và số nguyên  bít có dấu là </s> <s> các thao tác bít cơ bản và kí hiệu toán học dùng trong các bài viết này được cho bởi bảng dưới các ngôn ngữ lập trình thường cung cấp  phép shift right là logical shift right và arithmetic shift right </s> <s> sự khác nhau nằm ở chỗ bít dấu sẽ được shift như thế nào </s> <s> trong logical shift right kí hiệu  bít dấu không được giữ nguyên khi shift trong arithmetic shift right kí hiệu  bít dấu sẽ được shift lan về bên phải khi shift </s> <s> hai ví dụ cuối cùng trong bảng trên của hàng shift right minh họa cho sự khác nhau này </s> <s> nếu số được shift là số không dấu thì arithmetic shift right và logical shift right là như nhau </s> <s> một số ngôn ngữ có hai phép shift left là arithmetic shift left và logical shift left </s> <s> tuy nhiên trong khuôn khổ những bài viết ở đây ta chỉ xét logical shift left mà ta gọi là shift left cho ngắn gọn </s> <s> một trong những điều chúng ta phải hết sức chú ý đó là của các thao tác </s> <s> thứ tự thông thường như sau not > nhân chia > cộng trừ > shift left shift right > and > xor > or một số tính chất của các thao tác như sau </s> <s> các tính chất không quá khó để chứng minh </s> <s> do các thao tác áp dụng kiểu bitwise không có nhớ để chứng minh ta chỉ cần kiểm tra các thao tác trên đúng với trường hợp chỉ có  bít </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> chú ý có biểu diễn nhị phân là chỉ gồm các bít  </s> <s> tính chất  không dấu được suy ra từ định nghĩa của các phép shift </s> <s> ta dễ thấy  từ đó suy ra thay bởi  ta cũng suy ra kết hơp ta có </s> <s> bằng phép quy nạp ta suy ra trong các ví dụ dưới đây các giá trị boolean true/false sẽ được coi là các giá trị </s> <s> cho hai số nguyên kiểu  trả về nếu khác dấu và  nếu ngược lại </s> <s> các thủ tục dưới đây thực hiện hàm này </s> <s> tính đúng đắn coi như bài tập cho bạn đọc </s> <s> code ctính giá trị tuyệt đối của số nguyên có độ dài bít </s> <s> code cchứng minh trả lại giá trị tuyệt đối của coi như bài tập cho bạn đọc </s> <s> ta sẽ chứng minh thủ tục là đúngchứng minh đúng tương tự như chứng minh đúng </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> giả sử ta có một số nguyên có dấu độ dài bít ta muốn mở rộng bít thứ của ra thành bít dấuví dụ  giá trị sau khi mở rộng là </s> <s> ví dụ khác  giá trị sau khi mở rộng là </s> <s> ta có thể làm như sau code cta sẽ chứng minh đúng </s> <s> các thủ tục khác chứng minh tương tự </s> <s> gọi với và </s> <s> ta cần chứng minh thủ tục sẽ trả về nếu và nếu </s> <s> thật vậy sau khi đã xóa bít đầu tiên lệnh  ta có </s> <s> nếu  ta suy ra và thủ tục sẽ trả lại </s> <s> nếu  ta có và </s> <s> do đó thủ tục trả lại </s> <s> một trong những thủ tục trong các thuật toán sắp xếp là đổi chỗ hai biến </s> <s> thông thường ta sẽ dùng một biến trung gian để lưu một trong hai giá trị trong quá trình đổi chỗ </s> <s> nếu hai biến cần đổi chỗ là các số nguyên ta không cần phải sử dụng biến trung gian đó </s> <s> </s> <s> code cchứng minh tính đúng đắn coi như bài tập cho bạn đọc </s> <s> cho hai giá trị nguyên  tìm giá trị lớn nhất nhỏ nhất của hai số </s> <s> </s> <s> code ctính đúng đắn coi như bài tập cho bạn đọc </s> <s> thủ tục tính max tương tự như tính min </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> giả sử ta có một số nguyên có dấu và một biến </s> <s> nếu thì ta phải đổi dấu của </s> <s> nếu ta giữ nguyên giá trị </s> <s> </s> <s> code cta chứng minh đúng </s> <s> nếu  dễ dàng kiểm tra được thủ tục trả lại giá trị </s> <s> nếu  ta có tương tự như vậy ta có thể chứng minh được đúng </s> <s> trong phần này giả sử số nguyên có biểu diễn nhị phân như sau trong đó có thể bằng </s> <s> ta dễ dàng suy ra từ đó suy ra </s> <s> ta lại thu được các đẳng thức ở trên </s> <s> một số thao tác với bít  tận cùng bên phải quan trọng nên nhớ các mặt nạ thần kì magic mask được sử dụng rất rất nhiều trong các thủ tục thao tác bít </s> <s> các mặt nạ thần kì được định nghĩa như sau về mặt toán học là khai triển nhị phân của do ở đây bạn đọc chỉ cần nhớ gồm mỗi dãy lặp lại số liên tiếp sau đó là số  liên tiếp </s> <s> thủ tục ở trên kiểm tra xem có tồn tại sao cho hay không dễ thấy nếu thì có đúng  bít  </s> <s> theo  sẽ xóa bít  tận cùng bên phải </s> <s> do đó trả về  khi và chỉ khi và với một số nào đó </s> <s> </s> <s> cho một số nguyên không dấu đếm số bít của </s> <s> ta có thể thực hiện sử dụng thao tác bít trong đó là số bít biểu diễn của như sau </s> <s> code csử dụng thuật toán trên trong trường hợp có bít cần khoảng phép tính </s> <s> để tăng tốc thuật toán ta sẽ sử dụng một bảng  gọi là bảng nhớ để tính trước </s> <s> giả sử ta có bảng trong đó nếu trong biểu diễn nhịn phân cuả có bít  </s> <s> nếu bảng đã được tính sẵn ta có thể đếm số bít  của trong  phép tính như sau </s> <s> code ctrong trường hợp số lượng bít  của không nhiều ta có thể sử dụng </s> <s> cụ thể nếu có bít  thì ta chỉ cần phép tính </s> <s> code cchứng minh thủ tục đúng coi như bài tập cho bạn đọc </s> <s> cho một số nguyên  gọi là số lượng bít  cuối cùng trailing zeros của </s> <s> tính </s> <s> ví dụ  ta có </s> <s> dễ thấy nếu lẻ thì </s> <s> ta có công thức đệ quy sau của  trong đó là số bít biểu diễn của </s> <s> cách đầu tiên ta có thể nghĩ đến là duyệt các bít của từ trái sang phải để đếm số lượng bít  cho đến khi ta bắt gắp bít  đầu tiên thì dừng </s> <s> cách này cần khoảng phép tính trong đó là số lượng bít  cuối cùng </s> <s> trong trường hợp tồi nhất đếm số bít  cuối cùng cuả số nguyên không dấu  bít cần hơn  phép tính </s> <s> có thể tăng tốc thuật toán này bằng cách sử dụng bảng nhớ như trên </s> <s> cách khác ta có thể nghĩ tới là sử dụng chia để trị để tìm bít  phải nhất </s> <s> cách này áp dụng cho mọi số nguyên  bít sử dụng  phép tính </s> <s> </s> <s> code ctính đúng đắn coi như bài tập cho bạn đọc </s> <s> ngoài ra ta có thể sử dụng mặt nạ thần kì để tính </s> <s> nhận thấy nếu với một số nào đó thì trong đó hàm nếu là true và nếu ngược lại </s> <s> do đó để áp dụng  ta sẽ áp dụng trước để xóa hết các bít  bên trái của bít  cuối cùng </s> <s> nếp áp dụng phương pháp này cho số nguyên có bít thì mất cỡ  phép tính </s> <s> giả mã như sau code ccho số nguyên  ví dụ bít  đảo ngược biểu diễn nhị phân của  i </s> <s> e trả lại </s> <s> cách đơn giản nhất là copy các bít của sang một số theo thứ tự đảo ngược </s> <s> cách này mất phép tính trong đó là vị trí của bít  tận cùng bên trái của </s> <s> do đó khi áp dụng cho số  bít trong trường hợp xấu nhất tổng số thao tác ta cần sử dụng là hơn  phép tính </s> <s> </s> <s> code ctrong bài toàn này ta cũng có thể áp dụng chia để trị </s> <s> ví dụ với có  bít như trên ta có thể đảo ngược các bít của trong  bước như sau để thực hiện bước  ta sẽ làm như sau tương tự như vậy các bước tiếp theo ta thực hiện với mặt nạ thần kì </s> <s> giả mã với là số nguyên  bít không dấu như sau code cdễ thấy sử dụng các mặt nạ thần kì ta có thể đảo bít số nguyên  bít trong phép tính và số nguyên  bít trong  phép tính </s> <s> chứng minh tính đúng đắn của thủ tục trên coi như bài tập cho bạn đọc </s> <s> trong ví dụ tiếp theo ta sẽ áp dụng phương pháp đổi chỗ hai bít để đảo bít số nguyên  bít sử dụng  phép tính </s> <s> cho số nguyên không dấu  đổi chỗ hai bít và của  <  </s> <s> đặt  ta tiến hành đổi chỗ như sau </s> <s> code ctrong giả mã trên bước đầu tiên ta tách ra khỏi và đặt vào vị trí thứ </s> <s> sau đó ta tách ra khỏi và đặt vào bít thứ </s> <s> mặt nạ ở trên có tất cả các bít là  ngoại trừ bít thứ và </s> <s> suy ra sẽ thiết lập bít và về  </s> <s> như vậy kết quả cuối cùng sẽ là </s> <s> chú ý trong ví dụ đổi chỗ hai số nguyên không dùng biến thứ  ta sử dụng phép xor </s> <s> ở bài toán này ta có thể thực hiện ý tưởng tương tự </s> <s> </s> <s> code cđầu tiên ta tính và đưa kết qủa vào vị trí thứ </s> <s> sau đó đổi thành và thành </s> <s> dễ thấy cách này sử dụng ít thao tác bít hơn cách ở trên </s> <s> ý tưởng của thuật toán còn có thể được dùng để đổi chỗ vài cặp bít cùng một lúc giống như cách chúng ta đảo bít ở trên </s> <s> thông thường để thực hiện đảo nhiều cặp bít ta sẽ dùng mặt nạ thay vì như trên </s> <s> ta sẽ gọi thủ tục này là swap </s> <s> sử dụng swap ta có thể thực hiện đảo bít số nguyên  bít không dấu trong  phép tính thay vì  như sau chi tiết chứng minh tính đúng đắn của thuật toán trên coi như bài tập cho bạn đọc </s> <s> code  donald e </s> <s> knuth </s> <s> </s> <s> addisonwesley professional  </s> <s> </s> <s>  </s> <s>  warren henry s </s> <s> </s> <s> pearson education  </s> <s>   powered by and </s> <s> lát cắt cực tiểu i thuật toán stoerwagner  mincut i stoerwagner algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  cho đồ thị  với trọng số không âm </s> <s> gọi là hai tập đỉnh rời nhau i </s> <s> e </s> <s> ta sẽ sử dụng để kí hiệu tập các cạnh của đồ thị có đầu mút trong và đầu mút còn lại trong </s> <s> trọng số của tập cạnh  kí hiệu là  được định nghĩa là tổng trọng số của các cạnh trong  gọi là một tập đỉnh con của đồ thị </s> <s> một lát cắt tương ứng với là tập cạnh </s> <s> bài toán đặt ra cho chúng ta là thiết kế thuật toán hiệu quả để tìm lát cắt cực tiểu </s> <s> bài viết này giới thiệu giải thuật stoerwagner tìm lát cắt cực tiểu trong thời gian </s> <s> theo mình đây là một thuật toán khá đơn giản chứng minh tính đúng đắn hơi phức tạp và cần phải được phổ biến rộng rãi hơn nữa </s> <s> ta có thể áp dụng bài toán luồng cực đại để tìm lát cắt cực tiểu </s> <s> cụ thể với mỗi cặp  ta sẽ tìm một lát cắt cực tiểu trong đồ thị áp dụng luồng cực đại </s> <s> thuật toán nhanh nhất tìm do đó lắt cắt cực tiểu là </s> <s> bằng cách thử tất cả các cặp có cặp và lấy min ta có thể tìm được lắt cắt cực tiểu trong thời gian </s> <s> ta có thể giảm thuật toán này xuống còn bằng cách gộp đỉnh như thuật toán trình bày dưới đây </s> <s> tuy nhiên độ phức tạp vẫn khá lớn </s> <s> ngoài ra thực thi luồng trong thời gian không hề đơn giản </s> <s> thuật toán stoerwagner về cơ bản có nhiều điểm tương đồng với tìm cây khung nhỏ nhất </s> <s> đặc biệt trong cách thực thi của thuật toán này ta có thể áp dụng nhiều nhận xét trong các thực thi thuật toán prim </s> <s> do đó mình khuyến khích nhưng không bắt buộc bạn đọc xem lại thuật toán prim trước khi đọc phần thực thi thuật toán </s> <s> gọi là một cây không nhất thiết là cây khung trong đồ thị </s> <s> gọi là một đỉnh nằm trong </s> <s> độ stickiness của với  kí hiệu là  được định nghĩa là tổng trọng số của các cạnh từ tới các đỉnh trong  thuật toán stoerwagner thực hiện theo từng pha phase độc lập với nhau </s> <s> mỗi pha thuật toán sẽ tìm một cây khung của đồ thị bằng cách liên tục thêm đỉnh vào cây khung hiện tại điểm này giống thuật toán prim </s> <s> trong số các đỉnh chưa được thêm vào cây ta sẽ thêm đỉnh có độ kết dính lớn nhất với cây hiên tại </s> <s> trong giả mã dưới đây mảng sẽ là mảng độ kết dính i </s> <s> e với là cây khung xây dựng trong bước hiện tại </s> <s> thủ tục trả lại đỉnh có độ kết dính với lớn nhất trong số các đỉnh nằm trong ta sẽ mô tả thủ tục này kĩ hơn trong phần thực thi thuật toán </s> <s> hai đỉnh trong giả mã trên là hai đỉnh được thêm vào cây </s> <s> theo định nghĩa chính là độ kết dính của với cây tại bước cuối cùng do đó như vậy thủ tục  sẽ trả về tổng trọng số của các cạnh đi ra từ  trong đó là đỉnh cuối cùng trong một pha của thuật toán </s> <s> thủ tục sẽ gộp hai đỉnh thành một đỉnh mới </s> <s> gọi là đỉnh mới sau khi gộp </s> <s> với mỗi  ta sẽ gán trong phương trình  ta coi nếu cạnh không nằm trong </s> <s> tương tự như vậy với </s> <s> nếu tồn tại cạnh trong đồ thị ta sẽ xóa cạnh này sau phép gộp </s> <s> ví dụ gộp hai cạnh được minh họa trong figure  </s> <s> </s> <s> gộp hai đỉnh trong hình a thành một đỉnh trong hình b </s> <s> thủ tục  sẽ trả lại nhỏ nhất trong tất cả các pha của thuật toán </s> <s> chú ý mỗi pha ta sẽ gộp hai đỉnh lại làm một do đó tổng số pha tối đa là </s> <s> trong các phân tích dưới đây ta sẽ chứng minh rằng giá trị nhỏ nhất này chính là trọng số của lát cắt nhỏ nhất của </s> <s> việc tìm lát cắt không khó vì ta chỉ cần ghi lại lát cắt tương ứng với giá trị nhỏ nhất đó </s> <s> trước khi đi sâu vào chi tiết phân tích thuật toán ta sẽ thử xem thuật toán thực hiện như thế nào với đồ thị trong ví dụ sau </s> <s> </s> <s> hình a là đồ thị đầu vào </s> <s> hình bcdef mỗi hình tương ứng với một pha </s> <s> giá trị trả về của mỗi pha tương ứng là </s> <s> do đó giá trị cực tiểu trong tất cả các pha là  và đây cũng chính là trọng số của lát cắt cực tiểu của đồ thị </s> <s> điểm kì diệu của thuật toán stoerwagner chính là mỗi pha của thuật toán sẽ trả lại trọng số của lát cắt cực tiểu giữa và  là hai đỉnh cuối cùng được xét trong mỗi pha </s> <s> giả sử lemma  là đúng ta chứng minh sau ta có </s> <s> gọi là lát cắt cực tiểu của đồ thị </s> <s> ta xét pha hiện tại của thuật toán </s> <s> nếu và thì theo lemma  pha hiện tại sẽ trả về lát cắt cực tiểu giữa hai đỉnh và </s> <s> do đó lát cắt đó cũng là lát cắt cực tiểu của đồ thị </s> <s> nếu cả hai đỉnh đều thuộc trường hợp cả hai đỉnh thuộc tương tự ta có thể gộp hai đỉnh này vào làm một đỉnh và tìm lát cắt cực tiểu của đồ thị sau khi gộp </s> <s> do đó giá trị lát cắt cực tiểu của đồ thị sau khi gộp cũng chính là giá trị lát cắt cực tiểu của đồ thị ban đầu </s> <s> pha tiếp sau đó của thuật toán stoerwagner đi tìm chính lát cắt này </s> <s> do đó thuật toán stoerwagner trả về giá trị của lát cắt cực tiểu của đồ thị </s> <s> gọi là một lát cắt giữa và </s> <s> ta sẽ chứng minh bằng quy nạp lát cắt này có trọng số lớn hơn trọng số của lát cắt chính là  </s> <s> gọi là thứ tự các đỉnh được thêm vào trong thủ tục  </s> <s> ta có và </s> <s> gọi </s> <s> đỉnh được gọi là critical vertex nếu và không cùng nằm trong </s> <s> gọi và </s> <s> gọi là tập các cạnh của lát cắt  sao cho đầu mút của các cạnh này chỉ nằm trong </s> <s> một cách hình thức ta có ta sẽ chứng minh với mọi đỉnh tới hạn  chú ý là một đỉnh tới hạn và </s> <s> do đó </s> <s> bất đẳng thức sẽ tương đương với  đó là dpcm </s> <s> trong đoạn dưới đây ta sẽ tập trung chứng minh bằng quy nạp </s> <s> gọi là đỉnh tới hạn đầu tiên </s> <s> nếu  phải là tập rỗng do là điểm tới hạn đầu tiên </s> <s> do đó </s> <s> tương tự nếu  và </s> <s> như vậy chính là các cạnh </s> <s> do đó bất đẳng thức đúng </s> <s> gọi < là hai số trong đó là hai đỉnh tới hạn liên tiếp nhau i </s> <s> e với mọi < < thì không phải là đỉnh tới hạn </s> <s> ta xét trường hợp trường hợp tương tự và coi như bài tập cho bạn đọc </s> <s> trong trường hợp này </s> <s> do  tất cả các đỉnh đều thuộc </s> <s> do đó ta suy ra </s> <s> ta có xem thêm figure  </s> <s> </s> <s> hình minh họa chứng minh bất đẳng thức </s> <s> ta sẽ từng bước kiểm tra </s> <s> ba bất đẳng thức đầu tiên bạn đọc có thể dễ dàng kiểm tra </s> <s> bất đẳng thức thứ tư là do là đỉnh có độ kết dính lớn nhất tại bước </s> <s> bất đẳng thức thứ năm là do quy nạp trên </s> <s> chú ý ở đây </s> <s> bất đẳng thức thứ  cũng dễ dàng kiểm tra </s> <s> từ đó ta suy ra dpcm </s> <s> phần này có nhiều điểm tương đồng với thuật toán prim </s> <s> mình sẽ ôn lại một chút về thực thi thuật toán prim tại đây </s> <s> ta có hai cách thực thi thuật toán prim một cách trong thời gian và cách khác trong thời gian sử dụng </s> <s> nếu thay heap nhị phân bằng  ta có giảm thời gian thực thi thuật toán prim xuống còn </s> <s> do đó mỗi pha của thuật toán stoerwagner ta có thể thực thi trong thời gian sử dụng fibonacci heap </s> <s> do thuật toán stoerwagner thực hiện trong tối đa pha ta suy ra sau đây mình sẽ minh họa một cách thực thi với thời gian  mỗi pha thực hiện trong thời gian </s> <s> cách thực thi này hoàn toàn khớp với theorem  khi đồ thị đầu vào là một đồ thị dầy i </s> <s> e </s> <s> gọi lần lượt là số đỉnh cạnh của đồ thị đầu vào </s> <s> ta sẽ dùng ma trận kề để biểu diễn đồ thị kí hiệu là  trong đó do mỗi pha ta được phép sử dụng thời gian  ta sẽ được phép thực thị thi mỗi vòng lặp trong thủ tục  với thời gian </s> <s> như vậy ta có thể đơn giản thực thi bằng cách duyệt qua toàn bộ mảng và tìm đỉnh không nằm trong có giá trị lớn nhất </s> <s> để thực thi thủ tục  ta sẽ gộp vào </s> <s> cụ thể ta sẽ đánh dấu là đỉnh đã bị xóa sử dụng một mảng boolean và cập nhật lại trọng số của các cạnh kề với  code ccode đầy đủ </s> <s>  m </s> <s> stoer and f </s> <s> wagner </s> <s> european symposium on algorithms </s> <s> springer berlin heidelberg  </s> <s> </s> <s>  h </s> <s> nagamochi and t </s> <s> ibaraki </s> <s> siam journal on discrete mathematics  </s> <s>    </s> <s>    trackback link powered by and </s> <s> tính tổng tích modulo và bán tổng computing modulo sum modulo product and semisum </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  đây là bài trả lời cho bài toán bug bug bug trên mà mình post mấy hôm trước </s> <s> xin vui lòng để lại comment nếu bạn có lời giải tốt hơn mình sẽ cập nhật vào bài viết chính tất nhiên cả thông tin của tác giả </s> <s> bài toán như sau thông thường khi bạn được yêu cầu viết code cho các câu hỏi trên bạn có thể sẽ làm như sau các đoạn code này thoạt nhìn có vẻ đúng nhưng bên trong nó tiềm ẩn những lỗi nghiêm trọng </s> <s> trong hai đoạn code trả lời câu hỏi  và  lỗi cơ bản mà ta có thể gặp đó là tràn số </s> <s> ví dụ thì tổng và tích không còn có thể biểu diễn được bằng kiểu nữa </s> <s> trong đoạn code cho câu hỏi  ngoài lỗi tràn số kết quả trả về sẽ bị sai khi < </s> <s> ví dụ  đoạn mã sẽ trả về thay vì </s> <s> một nhận xét đơn giản mà ta dễ thấy đó là kết quả đầu ra của các câu hỏi trên có thể biểu điên được bằng kiểu </s> <s> tuy nhiên khi bạn nghĩ sâu hơn về làm thể nào để tránh tràn số bạn sẽ thấy trả lời câu hỏi này một cách trọn vẹn không hề đơn giản </s> <s> ngược lại với bài toán tổng modulo bài toán hiệu modulo có thể tính được dễ dàng mà không sợ tràn số </s> <s> ta có thể giả sử đều nhỏ hơn bằng cách lấy mod trước khi tính hiệu </s> <s> hiệu số luôn có thể biểu diễn được bằng kiểu int </s> <s> do đó nếu  ta tính tính </s> <s> nếu <  ta sẽ tính </s> <s> chú ý ở đây ta giả sử a b đều nhỏ hơn  do đó < </s> <s> code bài toán tổng modulo có thể quy về hiệu modulo bằng mẹo sau trước khi ta chuyển về tính hiệu ta đảm bảo đều nhỏ hơn bằng cách lấy modulo </s> <s> code </s> <s> tính tích  ta sử dụng ý tưởng trong bài tính lũy thừa </s> <s> ta sẽ gọi đệ quy để tính và sử dụng thủ tục tính tổng modulo để tính tổng </s> <s> code thủ tục đệ quy có độ sâu </s> <s> mỗi lần gọi đệ quy ta mất thao tác bít để tính từ kết quả của lời gọi đệ quy </s> <s> do đó tổng số thao tác bít là nếu tràn số không xảy ra thủ tục semisum ở phần giới thiệu sẽ trả lại kết quả đúng nếu và trả lại nếu ngược lại </s> <s> ta sẽ sử dụng công thức cơ bản sau để biến đổi nửa tổng về dạng mà ta có thể tính đơn giản được trường hợp khác dấu tràn số sẽ không bao giờ xảy ra </s> <s> do đó ta chỉ cần kiểm tra xem nếu  ta sẽ áp dụng thủ tục semisum và áp dụng nếu ngược lại </s> <s> trường hợp cùng dấu ta giả sử </s> <s> ta có do  phần nguyên theo  có thể tính như trong semisum mà không lo tràn số vì cùng dấu </s> <s> code code ở trên ta sử dụng phép xor  để kiểm tra xem hai số có cùn dấu hay không </s> <s> hai số nguyên cùng dấu khi và chỉ khi  ở đây là phép xor bit </s> <s> code ở trên chỉ mang tính minh họa </s> <s> để code hiệu quả hơn ta có thể thay thế một số thao tác đại số kể cả lệnh rẽ nhánh if then bằng các thao tác bít </s> <s> ví dụ   </s> <s> </s> <s> </s> <s> </s> <s> xem thêm tại bài các </s> <s> code đầy đủ </s> <s> </s> <s>  ruggieri salvatore </s> <s> information processing letters  </s> <s>    </s> <s>  trackback link powered by and </s> <s> giải thuật tham lam  greedy algorithms </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  tham lam là một trong những phương pháp phổ biến nhất để thiết kế giải thuật </s> <s> rất nhiều thuật toán nổi tiếng được thiết kế dựa trên tư tưởng của tham lam ví dụ như thuật toán tìm đường đi ngắn nhất của dijkstra thuật toán cây khung nhỏ nhất của kruskal v </s> <s> v </s> <s> trong bài này chúng ta sẽ tìm hiểu phương pháp thiết kế giải thuật này </s> <s> bài toán như sau tìm cách lưu trữ file sao cho việc truy xuất được hiệu quả nhất biết rằng các file có xác suất truy cập như nhau </s> <s> </s> <s> </s> <s> vì các file có xác suất truy cập như nhau với một cách lưu trữ cho trước chi phí để truy xuất ngẫu nhiên một file có kì vọng là cách lưu trữ file mà chúng ta có thể nghĩ đến ngay đó là các lưu các file nhỏ ở đầu đĩa từ và lưu các file lớn ở cuối đĩa từ </s> <s> vấn đề còn lại là chứng minh rằng cách lưu này là một cách lưu file tối ưu  nhỏ nhất </s> <s> </s> <s> giả sử tồn tại một cách lưu trữ tối ưu và chỉ số sao cho </s> <s> gọi là hoán vị thu được từ bằng cách đổi chỗ và </s> <s> ta có do đó  trái với giả thiết là cách lưu trữ tối ưu </s> <s> </s> <s> bằng cách sắp xếp theo chiều tăng của kích thước file chúng ta có thể thực thi thuật toán trên trong thời gian </s> <s> bây giờ chúng ta hãy thay đổi bài toán một chút như sau tìm cách lưu trữ file sao cho việc truy xuất được hiệu quả nhất </s> <s> </s> <s> với bài toán này tổng chi phí để truy xuất file là ta sẽ tổng quát hóa thuật toán ở problem  như sau lưu file theo tỉ lệ tăng dần </s> <s> ta sẽ chứng minh rằng cách lưu file này có tổng chi phí nhỏ nhất </s> <s> tương tự như chứng minh ở theorem  ta giả sử tồn tại một cách lưu trữ tối ưu và chỉ số sao cho </s> <s> gọi là hoán vị thu được từ bằng cách đổi chỗ và </s> <s> ta có do đó  trái với giả thiết là cách lưu trữ tối ưu </s> <s> </s> <s> ta xét bài toán phức tạp hơn sau </s> <s> ví dụ ở hình dưới đây lấy từ  mỗi môn học được biểu diễn bởi một thanh ngang có chiều dài </s> <s> tập các thanh màu xanh chính là một tập có số lượng lớn nhất các môn học không gối lên nhau </s> <s> </s> <s> bài toán này có thể giải bằng phương pháp với thời gian </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> ở đây mình đưa ra cách giải bằng phương pháp tham lam </s> <s> có  cách lựa chọn lớp học tham lam mà bạn có thể nghĩ đếnthuật toán như sau </s> <s> code của giả mã bằng cdễ dàng thấy thuật toán trên có thể được thực thi trong thời gian </s> <s> việc còn lại của chúng ta là chứng minh thuật toán trên cho chúng ta tập các lớp không gối lên nhau có kích thước lớn nhất </s> <s> </s> <s> giả sử là tập các lớp học đầu ra của thuật toán tham lam và là một phương án tối ưu  sắp xếp theo chiều tăng dần của thời gian hoành thành </s> <s> gọi là tập phần tử đầu tiên của </s> <s> trong số các phương tối ưu chọn phương án sao cho là lớn nhất </s> <s> nếu  ta có vì nếu không ít nhất một lớp học nữa sẽ được thêm vào </s> <s> do đó là một phương án tối ưu </s> <s> giả sử </s> <s> suy ra tồn tại sao cho </s> <s> ta chọn nhỏ nhất thỏa mãn </s> <s> như vậy </s> <s> do là lớp học có thời gian hoành thành sớm nhất sau khi đã hoàn thành thời gian hoành thành của sớm hơn </s> <s> suy ra kết thúc trước khi bắt đầu </s> <s> ngoài ra chứng minh coi như bài tập cho bạn đọc xem lời giải trong phần  </s> <s> xét  i </s> <s> e dễ thấy và các lớp trong không gối lên nhau </s> <s> do đó là một phương án tối ưu </s> <s> tuy nhiên  trái với cách chọn là phương án có lớn nhất </s> <s> do đó là phương án tối ưu </s> <s> phương pháp chứng minh bằng phản chứng cho bài toán chọn lớp học cũng là một phương pháp chứng minh phổ biến để chứng minh thuật toán tham lam là tối ưu </s> <s> ta có thể rút ra các bước như saubạn có thể thử phương pháp trên cho bài toán lưu trữ file trên đĩa từ </s> <s> giờ chúng ta thử áp dụng ý tưởng đó vào bài toán sau </s> <s> ví dụ bạn có  tác vụ với thông tin như sauphương án tối ưu là theo trình tự thực thi với tổng tiền thưởng thu được là  </s> <s> tư tưởng tham lam của bài toán này rất đơn giản như sau trong tập các tác vụ chưa được chọn chọn tác vụ có tiền thưởng lớn nhất nếu tác vụ này vẫn còn thực thi được </s> <s> ở đây ta luôn duy trì một danh sách các tác vụ đã chọn và một tác vụ gọi là thực thi được nếu ta thêm tác vụ này vào danh sách đó vẫn tồn tại một cách thực thi sao cho tất cả các tác vụ được hoàn thành trước thời hạn </s> <s> áp dụng với ví dụ trên đầu tiên ta chọn tác vụ  sau đó là chọn tác vụ với trình tự </s> <s> ứng viên tiếp theo là  tuy nhiên ta không thể thực thi toàn bộ trước thời hạn do đó ta bỏ qua </s> <s> tương tự như vậy tác vụ cũng không thể được chọn và cuối cùng ta chọn </s> <s> như vậy thuật toán tham lam sẽ cho ta các tác vụ theo đúng trình tự thực hiện này </s> <s> giả mã như sau </s> <s> code của thuật toán bằng cdễ thấy thuật toán trên có thể được thực thi trong thời gian </s> <s> trong bài  mình sẽ giới thiệu phương pháp sử dụng cấu trúc unionfind để giảm thời gian xuống còn </s> <s> nếu các tác vụ đầu vào đã được sắp xếp theo chiều giảm dần của tiền thưởng chúng ta còn có thể giảm thời gian xuống còn trong đó là hàm ackerman ngược </s> <s> hàm tăng cực kì chậm và với mọi giá trị thực tế của </s> <s> do đó có thể coi xấp xỉ </s> <s> vấn đề còn lại là chứng minh rằng thuật toán tham lam cho lời giải tối ưu </s> <s> </s> <s> chúng ta sẽ chứng minh theo các bước đã chỉ ra ở trên </s> <s> gọi là tập các tác vụ đầu ra của thuật toán tham lam sắp xếp theo chiều giảm dần cuả tiền thưởng </s> <s> gọi là tập các tác vụ tối ưu sắp xếp như </s> <s> các tác vụ có phần thưởng bằng nhau trong sẽ được sắp xếp ưu tiên theo thứ tự trong </s> <s> ví dụ chứa tác vụ mà  trong đó xuất hiện trong và tác vụ được chọn trước trong thì ta sắp xếp chúng theo thứ tự trong </s> <s> nếu  ta suy ra vì nếu không thuật toán tham lam sẽ chọn thêm ít nhất một phần tử nữa vào </s> <s> chọn sao cho là lớn nhất </s> <s> gọi là chỉ số nhỏ nhất sao cho </s> <s> ta có vì nếu không thuật toán tham lam sẽ chọn </s> <s> theo cách sắp xếp  ta suy ra </s> <s> giả sử tồn tại một tác vụ có thời hạn sớm hơn hoặc bằng </s> <s> nếu  ta có thể đổi chỗ và  qua đó thu được phản chứng theo như lập luận ở trên </s> <s> do đó  nhưng điều đó có nghĩa là </s> <s> suy ra không có tác vụ nào trong có thời hạn sớm hơn hoặc bằng </s> <s> gọi là một lịch trình thực thi các tác vụ trong và gọi là số nhỏ nhất sao cho </s> <s> do đó theo như lập luận ở trên ta có và </s> <s> vì có một lịch trình thực thi sao cho mọi tác vụ đều trước thời hạn bằng cách thay thế bởi  ta thu được lời giải tối ưu khác với  qua đó thu được phản chứng </s> <s> code  </s> <s>  jeff erickson </s> <s>  uiuc </s> <s> </s> <s>  george kocur mit owc  mit </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s> </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>  trackback link on bài toán lập lịch có vấn đề trong chứng minh rồi </s> <s> phản ví dụ    </s> <s>    </s> <s>   nếu theo trình tự thì đc  đồng </s> <s> nhưng theo trình tự  thì đc  đồng cơ on hi bạn </s> <s> </s> <s> hình như bạn hiểu sai thuật toán </s> <s> khi thuật toán chọn một việc để đưa vào tập lời giải nó sẽ không thực thi ngay </s> <s> theo ví dụ của bạn thuật toán sẽ chọn job  và  trước nhưng nó sẽ không thực thi ngay </s> <s> khi xét job  thuật toán sẽ kiểm tra xem có lịch nào để thực thi được cả  hay không trong trường hợp này là có </s> <s> do đó nó sẽ chọn job  đưa vào lời giải </s> <s> cuối cùng kết quả vẫn là  </s> <s> mình trích lại thuật toán trong tập các tác vụ chưa được chọn chọn tác vụ có tiền thưởng lớn nhất nếu tác vụ này vẫn còn thực thi được </s> <s> ở đây ta luôn duy trì một danh sách các tác vụ đã chọn và một tác vụ gọi là thực thi được nếu ta thêm tác vụ này vào danh sách đó vẫn tồn tại một cách thực thi sao cho tất cả các tác vụ được hoàn thành trước thời hạnhùng on vâng ạ em đã hiểu em đã đọc kỹ bài này thì duy chỉ có cái chứng minh theorem  em thấy nó hơi tối với khó hiểu một tý anh có thể xem lại và chỉnh sửa cho nó sáng sủa một tý không ạ </s> <s> chẳng hạn chỗ pyi < pxi rồi suy ra xi không thuộc y là chưa chặt chẽ </s> <s> nếu dấu bằng xẩy ra pyi  pxi thì có thể có xi thuộc y chứ </s> <s> on đúng là phần suy diễn chưa chặt chẽ </s> <s> ở đây mình sẽ phải sửa lại cách sắp xếp sao cho nếu thì sẽ không phải là chỉ số lớn nhất mà </s> <s> cám ơn bạn đã chỉ ra lỗi này </s> <s> on mình lại phát hiện ra một lỗi sai rất tinh vi trong chứng minh theorem  của anh </s> <s> ở cái chỗ xét y </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ấy </s> <s> lỡ yi thuộc vào tập x thì sao lúc đó anh bỏ đi yi rồi lại thêm vào xi sẽ không làm tăng số phần tử chung lên </s> <s> vì vậy ta phải thêm lý luận sau  nếu yi thuộc vào x thì mút trái của nó phải lớn hơn mút phải của xi do cách thuật toán tham lam chọn xi </s> <s> vì vậy ta có thể bổ sung phần tử xi vào giữa  phần tử yi và yi trong phương án tối ưu để tạo ra một phương án còn lớn hơn mâu thuẫn </s> <s> on hi bạn </s> <s> đúng là chứng minh đầy đủ cần phải có phần lập luận của bạn </s> <s> cám ơn bạn đã chỉ ra </s> <s> mình sẽ link vào phần chứng minh coi như bài tập nhỏ </s> <s> hùngpowered by and </s> <s> thuật toán boyer moore  boyer moore algorithm </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  thuật toán boyermoore bm là một thuật toán tìm kiếm xâu khá hiệu quả trong thực tế tuy rằng về mặt lý thuyết số phép so sánh trong trường hợp tồi nhất là không tốt hơn thuật toán  </s> <s> ta phát biểu lại bài toán tìm kiếm xâu như sau thuật toán bm gồm hai bước chính bắt đầu từ vị trí của văn bản như vậy thuật toán bm sẽ đối sánh và theo chiều từ phải sang trái của </s> <s> liệu so sánh từ phải sang trái có tốt hơn từ trái sang phải như trong thuật toán trâu bò bằng cách áp dụng thêm luật kí tự tồi bad character rule và luật hậu tố tốt thuật toán bm trong thực tế nhanh hơn hẳn thuật toán trâu bò </s> <s> trước hết chúng ta hãy xem xét ví dụ sau để hiểu luật này </s> <s> ví dụ và </s> <s> hi vọng ví dụ trên đã thuyết phục bạn rằng đối sánh thừ phải sang trái thực sự nhanh hơn từ trái sang phải </s> <s> tại bước  và  trong ví dụ trên ta có thể dịch lên đơn vị ở mỗi bước chỉ dùng  phép so sánh </s> <s> do đó ta có thể suy ra trong trường hợp tốt nhất ta chỉ cần phép so sánh để tìm ra trong </s> <s> luật kí tự tồi sẽ cho phép chúng ta xác định giá trị của trong bước thứ  của thuật toán bm </s> <s> tại mỗi bước đối sánh một xâu con của với  kí tự gọi là nếu không khớp xảy ra tại kí tự này </s> <s> trong ví dụ trên tại bước thứ  kí tự là kí tự tồi </s> <s> hay trong bước  kí tự là kí tự tồi </s> <s> mỗi lần bắt gặp một kí tự tồi chúng ta dịch theo luật sau dịch lên một số đơn vị sao cho kí tự tồi khớp với kí tự là kí tự xuất hiện gần với nhất  lớn nhất </s> <s> nếu hoặc không tồn tại kí tự như vậy thì ta dịch lên  </s> <s> áp dụng luật kí tự tồi vào bước thứ  của ví dụ trên  ta dịch lên đơn vị sao cho khớp với vì là kí tự xuất hiện gần với nhất và khớp với  </s> <s> do đó ta phải dịch lên đơn vị </s> <s> để thực thi luật kí tự tồi với mỗi kí tự  gọi là vị trí xuất hiện của kí tự gần với nhất </s> <s> nếu  </s> <s> theo quy luật kí tự tồi mỗi bước chúng ta sẽ dịch một đoạn là thủ tục dưới đây cập nhật bảng trong thời gian </s> <s> giả mã của thuật toán bm sử dụng luật kí tự tồi như sau </s> <s> code của giả mã bằng c xét ví dụ khi bạn đang so sánh một đoạn của văn bản nào đó với  bạn sẽ thấy không khớp xảy ra ở vị trí  </s> <s> ta có kí tự khớp với và gần nhất là  theo luật kí tự tồi ta dịch lên đơn vị vì </s> <s> tuy nhiên ta có thể dịch lên  đơn vị để khớp với thay vì  </s> <s> luật kí tự tồi mở rộng phát biểu như sau dịch lên một số đơn vị sao cho kí tự tồi khớp với kí tự xuất hiện gần nhất bên trái của </s> <s> như vậy với mỗi gía trị không khớp  ta phải tìm lớn nhất sao cho và dịch sao cho </s> <s> gọi là bảng  chiều trong đó tương ứng với và vị trí xảy ra không khớp là trong mẫu </s> <s> thủ tục cập nhật bảng trong thời gian  nếu số kí tự trong bảng chữ cái không nhiều </s> <s> thuật toán bm với luật kí tự tồi mở rộng như sau code của giả mã bằng cchúng ta có thể tiết kiệm bộ nhớ bằng cách thay bảng bằng danh sách liên kết mỗi danh sách cho một kí tự của và mỗi danh sách của một kí tự lưu các vị trí xuất hiện của kí tự đó trong  sắp xếp theo chiều giảm dần của vị trí </s> <s> bằng phân tích khấu trừ như trong  chúng ta cũng có thể chứng minh rằng lưu trữ bằng danh sách liên kết như vậy tối đa sẽ mất thời gian thuật toán với mảng hai chiều không tính thời gian khởi tạo  </s> <s> một cách khác là chúng ta cũng có thể thay thế danh sách liên kết bằng các cấu trúc khác để tăng thời gian tìm kiếm </s> <s> ở đây mình không đi sâu vào các vấn đề như vậy </s> <s> cũng như luật kí tự tồi thời gian tiệm cận của thuật toán bm trong trường hợp xấu nhất vẫn không đổi và bằng </s> <s> chỉ sử dụng luật kí tự tồi không đủ để giảm thời gian tiệm cận của thuật toán bm và thực tế thuật toán vẫn chưa đủ nhanh và khó mở rộng một cách hiệu quả ra trường hợp tìm tất cả sự xuất hiện của trong </s> <s> ví dụ khi bạn muốn tìm tất cả các vị trí xuất hiện của xâu  kí tự  trong  kí tự  </s> <s> kể cả áp dụng luật kí tự tồi mở rông thời gian chaỵ vẫn là </s> <s> một luật nữa được đề xuất để cải tiến thuật toán đó là luật hậu tố tốt good suffix rule </s> <s> phiên bản đầu tiên của luật hậu tố tốt vẫn có thời gian tồi nhất </s> <s> phiên bản mình trình bày ở đây bao gồm cả cải tiến của galil  có thời gian trong trường hợp tồi nhất </s> <s> luật hậu tố tốt chúng ta phát biểu trong phần này mạnh hơn phát biểu gốc cuả thuật toán boyermoore  </s> <s> phát biểu gốc của thuật toán vẫn chưa đủ để chứng minh thời gian trong trường hợp tồi nhất là tuyến tính </s> <s> trước khi đi sâu vào phát biểu và thực thi luật hậu tố tốt mình recommend bạn đọc trước vì thực thi luật này sẽ sử dụng hàm trong bước tiền xử lí </s> <s> luật hậu tố tốt khá dài và khó hiểu </s> <s> giả sử khi so sánh một xâu con của văn bản khớp với hậu tố của mẫu  nhưng kí tự liền kề bên trái của không khớp với kí tự tương ứng trong </s> <s> tìm một xâu con nếu có phải nhất right most gần với kí tự cuối nhất của thỏa mãn không phải là hậu tố của và kí tự liền kề bên trái của khác với kí tự liền kề bên trái của hậu tố của </s> <s> dịch sao cho khớp với trong </s> <s> nếu không tồn taị dịch một số lượng ít nhất sao cho kí tự đầu tiên của vượt quá kí tự đầu tiên của và tiền tố của khớp với hậu tố của </s> <s> nếu không thể dịch để thỏa mãn điều kiện đó dịch lên đơn vị trường hợp ta tìm tất cả sự xuất hiện của trong  sau khi đã tìm thấy  ta dịch một lượng ít nhất >  sao cho tiền tố của khớp với hậu tố của trong </s> <s> trong trường hợp không thể dịch như vậy dịch lên đơn vị </s> <s> có lẽ chỉ đọc luật thôi đã mệt rồi </s> <s> nếu bạn đọc một lần chưa hiểu thì </s> <s> </s> <s> </s> <s> </s> <s> đọc lại vậy </s> <s> xét ví dụ sau và khi so sánh với  nhận thấy  theo  ta có thể dịch hoặc đơn vị để khớp với </s> <s> tuy nhiên theo  ta dịch sẽ dịch đơn vị </s> <s> xét một ví dụ khác và  khi so sánh với  nhận thấy </s> <s> không tồn tại trong trường hợp này theo ta dịch ít nhất đơn vị và theo  ta sẽ dịch đơn vị </s> <s> trường hợp muốn tìm tất cả sự xuất hiện của trong khá dễ hiểu và có lẽ không cần thêm ví dụ </s> <s> trước hết ta chứng minh luật hậu tố tốt không bỏ sót bất kì kí tự nào </s> <s> </s> <s> giả sử thẳng hàng với trước khi luật hậu tố tốt dịch sang vị trí mới để thẳng hàng với </s> <s> giả sử tồn tại sao chonếu tồn tại sẽ tồn tại là xâu con của gần hơn hiện tại khi thẳng hàng với hoặc tồn tại một tiền tố dài hơn của khớp với hậu tố của </s> <s> do đó luật hậu tố tốt sẽ dịch sao cho thẳng hàng với thay vì </s> <s> trước hết để ý luật hậu tố tốt phát biểu chỉ phụ thuộc vào  do đó ta có thể áp dụng tiền xử lí để thực thi luật này có gì đó hơi giống  </s> <s> nhận xét thấy luôn là một hậu tố của </s> <s> trước hết ta thực thi và trong luật hậu tố tốt </s> <s> gọi là vị trí lớn nhất nhỏ hơn sao cho xâu khớp với hậu tố của và là vị trí lớn nhất nhỏ hơn sao cho xâu khớp với hậu tố của và kí tự liền kề bên trái của hậu tố khớp trong khác </s> <s> ví dụ  nếu ta đã tính được và với mọi  theo trường hợp  và  của luật hậu tố tốt ta sẽ dịch một đoạn là  là vị trí ngay trước vị trí xảy ra không khớp </s> <s> ta sẽ tìm cách tính và trong thời gian </s> <s> với mỗi  gọi là chiều dài của hậu tố dài nhất của khớp với hậu tố của </s> <s> nhắc lại với một xâu  hàm z của có là chiều dài của xâu con dài nhất của bắt đầu từ và khớp với một tiền tố của </s> <s> do đó gọi là xâu đảo ngược của  ta có thể tính được thông qua z của như sau ta có quan hệ sau giữa và như sau và là chỉ số lớn nhất sao cho lemma  có thể được chứng minh trực tiếp từ định nghĩa của và coi như bài tập cho bạn đọc </s> <s> ta có thuật toán sau tính  </s> <s> code của giả mã bằng cbây giờ chúng ta chỉ cần phải thực hiện và trong luật hậu tố tốt và luật dịch khi ta muốn tìm tất cả các vị trí xuất hiện của trong </s> <s> gọi là chiều dài của hậu tố dài nhất có thể có  của khớp với một tiền tố của </s> <s> nếu không tồn tại hậu tố như vậy </s> <s> </s> <s> dựa vào định nghĩa của  ta có là số lớn nhất sao cho </s> <s> ta có giả mã tính trong thời gian như sau </s> <s> code của giả mã bằng ctổng kết lại gọi là kí tự khớp cuối cùng khi so sánh với một xâu con của  </s> <s> ta sẽ dịch một lượng bằng giả mã của thuật toán boyermoore đầy đủ với luật kí tự tồi và luật hậu tố tốt code của giả mã bằng cnếu mẫu không xuất hiện trong văn bản  knuth morris and pratt  chứng minh rằng thời gian tìm kiếm của thuật toán boyermoore với luật kí tự tồi và hậu tố tốt là </s> <s> phiên bản đầu tiên của thuật toán boyermoore  tìm tất cả sự xuất hiện của trong có thời gian trong trường hợp tồi nhất là </s> <s> galil  sửa đổi thuật toán boyermoore tìm tất cả sự xuất hiện của trong thời gian </s> <s> ở giả mã trên mình chỉ tìm một sự xuất hiện của </s> <s> code tìm sự tất cả sự xuất hiện của được đính kèm ở dưới mình sử dụng code này cho bài toán trên spoj </s> <s> trong trường hợp chỉ sử dụng luật kí tự tồi với văn bản đầu vào là các kí tự được sinh ngẫu nhiên thời gian của thuật toán boyermoore là sublinear </s> <s> trong thực tế thuật toán boyermoore cũng có thời gian sublinear do đó thuật toán này được ưu tiên sử dụng hơn các thuật toán khác </s> <s> code  </s> <s>  boyer robert s </s> <s>  and j </s> <s> strother moore </s> <s> </s> <s> communications of the acm  </s> <s>    </s> <s> </s> <s>  gusfield dan </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  sedgewick r </s> <s>  wayne k </s> <s>  </s> <s> </s> <s> addisonwesley </s> <s> isbn  </s> <s>  knuth donald e </s> <s>  james h </s> <s> morris jr and vaughan r </s> <s> pratt </s> <s> fast pattern matching in strings </s> <s> siam journal on computing  </s> <s>    </s> <s> </s> <s>  galil zvi </s> <s> </s> <s> automata languages and programming </s> <s> springer berlin heidelberg  </s> <s>  </s> <s>   trackback link powered by and </s> <s> lý thuyết phổ đồ thị ivspectral graph theory iv </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này chúng ta sẽ tìm hiểu phổ cùa ma trận kề và quan hệ với bài toán tô màu đồ thị </s> <s> công cụ chính chúng ta sử dụng đó là thương rayleigh </s> <s> gọi là ma trận kề của đồ thị và là trị riêng tương ứng của  </s> <s> ta giả sử chú ý thứ tự các trị riêng của ma trận kề ngược với trị riêng của ma trập laplace </s> <s> nguyên nhân là vì với đồ thị chính quy bậc regular ta có và do đó </s> <s> trong bài này ta tập trung chứng mimh quan hệ sau giữa sắc số và phổ của ma trận kề bất đẳng thức đầu tiên cận dưới nhìn có vẻ tầm thường vì đương nhiên </s> <s> tuy nhiên ta nên nhớ trị riêng của ma trận kề </s> <s> ngược lại trị riêng của ma trận laplace luôn không âm và nhỏ nhất bằng </s> <s> bất đẳng thức đầu tiên là bất đẳng thức hoffman  và bất đẳng thức thứ hai là bất đẳng thưc wilf  </s> <s> trong phần này ta sẽ chứng minh cận trên của </s> <s> khi nghiên cứu trị riêng của ma trận laplace hai công cụ chính ta sử dụng là thương rayleigh và dạng toàn phương </s> <s> tuy nhiên dạng toàn phương của ma trận kề không đẹp như của ma trận laplace do đó thương rayleigh sẽ là công cụ chính </s> <s> theo thương rayleigh ta có gọi và lần lượt là bậc trung bình và bậc lớn nhất của </s> <s> ta sẽ chứng minh chúng minh cận dưới dễ hơn vì ta chỉ cần sử dụng </s> <s> chọn các phần tử đều là  ta có từ đó ta suy ra cận dưới của </s> <s> để chứng minh cận trên ta gọi là vector riêng ứng với </s> <s> theo định nghĩa ta có gọi là tập đỉnh kề với đỉnh của đồ thị </s> <s> tại đỉnh  từ phương trình  ta suy ra chọn là đỉnh có lớn nhất i </s> <s> e </s> <s> ta có thể giả sử vì ta có thể đổi dấu vector riêng </s> <s> từ  ta suy ra ở đây là bậc của đỉnh </s> <s> bằng cách xét điều kiện dấu bằng xảy ra trong vế phải của ta có thể chứng minh được bài tập  sử dụng cách chứng minh trong lemma  ta có thể chứng minh được bài tập  với mọi đồ thị con của </s> <s> ở đây là bậc trung bình của đồ thị con </s> <s> </s> <s> </s> <s> sử dụng lemma  ta có thể chứng minh vế phải của theorem  </s> <s> gọi là các đánh số các đỉnh của sao cho với mọi  đỉnh có tối đa cạnh nối tới các đỉnh </s> <s> ta thấy nếu cách đánh số như vậy tồn tại thì ta có thể tô màu đỉnh của sử dụng màu như sau tô màu bắt đầu từ đỉnh có chỉ số nhỏ nhất đỉnh  khi tô đến đỉnh  ta chỉ cần chọn màu tránh với các hàng xóm đã tô trước đó </s> <s> để chứng minh  ta chỉ cần chứng minh cách đánh số như đoạn văn trước tồn tại với </s> <s> thật vậy ta chọn đỉnh nhỏ nhất và đánh số nó là </s> <s> do  bậc của đỉnh này không quá </s> <s> sau đó ta tiếp tục đánh số đệ quy trên đồ thị con của sau khi đã đánh số đỉnh </s> <s> trong phần này chúng ta sẽ chứng minh cận dưới của sắc số </s> <s> trước hết ta sẽ tìm hiểu quan hệ giữa và </s> <s> nhắc lại có thể là số âm </s> <s> dấu bằng xảy ra khi và chỉ khi là đồ thị hai phía bipartite </s> <s> </s> <s> </s> <s> gọi là vector riêng đơn vị ứng với </s> <s> gọi là tập các đỉnh có tọa độ  i </s> <s> e </s> <s> gọi là vector với </s> <s> dễ thấy cũng là vector đơn vị </s> <s> theo thương rayleigh ta có </s> <s> phần kiểm tra điều kiện dấu bằng xem bài tập  </s> <s> để chứng minh theorem  ta cần một số công cụ từ đại số với ma trận và vector riêng </s> <s> do đó từ đoạn này trở về sau mình sẽ không tập trung vào ma trận kề của đồ thị mà đi lạc đề một chút </s> <s> gọi là một ma trận không nhất thiết là ma trận kề của đồ thị vuông kích thước và là một tập con của </s> <s> kí hiệu là ma trận vuông con của có các hàng cột là các hàng cột của mà chỉ số trong </s> <s> kí hiệu lần lượt là trị riêng lớn nhất và nhỏ nhất của ma trận </s> <s> ta có </s> <s> bất đẳng thức thứ  chính là định nghĩa của trị riêng </s> <s> ta sẽ chứng minh bất đẳng thứ thứ  bất đẳng thứ thứ nhất chứng minh tương tự bài tập  </s> <s> không mất tính tổng quát ta giả sử  là kích thước của  </s> <s> gọi là vector đơn vị tương ứng với của ma trận </s> <s> gọi là vector trong đó và nếu ngược lại </s> <s> dễ thấy cũng là vector đơn vị </s> <s> dễ dàng kiểm tra được do đó </s> <s> ta có </s> <s> thương rayleigh lại là công cụ chính cho chứng minh lemma này và cách chứng minh tương tự như trong lemma  </s> <s> gọi là vector riêng lớn nhất ứng với trị riêng </s> <s> ta phân hoạch thành hai thành phần giống như </s> <s> giả sử cả  vector đều khác </s> <s> gọi dễ dàng kiểm tra được là một vector đơn vị </s> <s> do đó theo thương rayleigh ta có </s> <s> ở bất đẳng thức thứ  ta sử dụng thương rayleigh cho và </s> <s> trường hợp hoặc  xem bài tập  </s> <s> ta có </s> <s> dựa trên lemma  chứng minh lemma  không còn là việc quá khó xem bài tập  </s> <s> giờ ta đã có đầy đủ công cụ để chứng minh cận dưới của theorem  </s> <s> giả sử ta có thể tô màu đồ thị bằng màu </s> <s> theo định nghĩa hai đỉnh có cùng màu sẽ không có cạnh nối </s> <s> do đó ta có thể sắp xếp lại ma trận kề theo dạng trong lemma  với </s> <s> hay nói cách khác mỗi khối tương ứng với ma trận kề của các đỉnh được tô màu  và do đó ma trận này là ma trận  </s> <s> do  theo  ta có </s> <s> từ đó suy ra chú ý <  </s> <s>  daniel speilman </s> <s>  fall  lecture  </s> <s> </s> <s>  a </s> <s> j </s> <s> hoffman </s> <s> </s> <s> in graph theory and its applications pages  </s> <s> academic press new york  </s> <s> </s> <s>  herbert s </s> <s> wilf </s> <s> </s> <s> j </s> <s> london math </s> <s> soc </s> <s>    </s> <s> chứng minh lemma  </s> <s> </s> <s> chứng minh lemma  sử dụng kĩ thuật trong chứng minh lemma  </s> <s> </s> <s> chứng minh khi và chỉ khi là đồ thị hai phía </s> <s> </s> <s> chứng minh bất đẳng thức đầu tiên của lemma  </s> <s> </s> <s> chứng minh lemma  trong trường hợp </s> <s> </s> <s> chứng minh lemma  sử dụng lemma  </s> <s> hints dùng quy nạp và bất đẳng thức lemma  </s> <s> vector riêng thứ có và </s> <s> sử dụng tính chất trong bài tập  trong bài lý thuyết đồ thị phổ i </s> <s>  sẽ suy ra </s> <s> ta có thể đoán trị riêng này tương ứng với đỉnh của và vector riêng ứng với sẽ có giá trị tại đỉnh và tại các đỉnh còn lại </s> <s> ta sẽ suy ra phương trình giải phương trình này và chọn bộ phù hợp để suy ra vector riêng tương ứng </s> <s> </s> <s> chính là  đồ thị mà chúng ta đã nghiên cứu kĩ </s> <s> hai trị riêng là và </s> <s> sử dụng quy nạp và theorem  trong bài lý thuyết đồ thị phổ iii </s> <s> ta có thể tách </s> <s> chú ý </s> <s> theo quy nạp có trị riêng với số bội và trị riêng với số bội </s> <s> do đó có trị riêng với số bội theo theorem  </s> <s> bài này chỉ cần bạn đọc hiểu kĩ đề bài là làm được </s> <s>   trackback link on cảm ơn bài viết của bạn rất nhiều </s> <s> bạn đã viêt bài tiếp theo chưa vậy on mình chưa có thời gian nên hiện tại chỉ có vậy thôi </s> <s> mình vẫn có kế hoach update thêm materials </s> <s> hùngpowered by and </s> <s> cây nhị phân cân bằng  balanced binary search tree </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  xét bài toán sau </s> <s> có  cách mà ta nghĩ đến ngay i dùng mảng để biểu diễn hoặc ii dùng </s> <s> cách ii có lẽ không phù hợp vì thao tác access k mất thời gian nếu như có phần tử </s> <s> với cách i ta có thể giải quyết thao tác access k bằng cách duy trì một mảng đã sắp xếp và sử dụng </s> <s> tuy nhiên ta lại gặp vấn đề với hai thao tác sau </s> <s> trong bài này ta sẽ tìm hiểu cấu trúc cây nhị phân tìm kiếm cân bằng blanched binary search tree để biểu diễn </s> <s> với cấu trúc này ta có thể thực hiện mỗi thao tác trên trong thời gian </s> <s> cây có thể coi là một đồ thị đơn không có chu trình </s> <s> ta thường chỉ định một nút đặc biệt trong cây kí hiệu  mà ta gọi là của cây </s> <s> các nút có bậc  chỉ kề với một cạnh trong cây ngoại trừ nút gốc được gọi là các nút lá leaf node </s> <s> nút không phải là nút lá ta gọi là của cây internal node </s> <s> với mỗi cạnh nối hai nút và  nút nào gần gốc hơn thì ta gọi nút đó là của nút còn lại </s> <s> ta dùng để kí hiệu nút cha của một nút </s> <s> chú ý gốc không có nút cha và ta gán </s> <s> ta gọi là nút con của nút </s> <s> một cây được gọi là nếu với mỗi nút trong có hai nút con </s> <s> thông thường ta biểu diễn một cây nhị phân như figure a </s> <s> cây trong khoa học máy tính thường được biểu diễn ngược với cây trong tự nhiên gốc ở trên còn lá ở dưới </s> <s> đôi khi ta định hướng cạnh từ nút cha tới nút con hoặc ngược lại để quan hệ chacon trực quan hơn </s> <s> từ đây về cuối bài ta sử dụng khái niệm cây để ám chỉ cây nhị phân vì ta chỉ tìm hiểu cây nhị phân trong bài này </s> <s> ta sử dụng cây để tổ chức dữ liệu bằng cách chèn các phần tử dữ liệu vào mỗi nút của cây và mỗi nút của cây được gán một khóa </s> <s> khóa không nhất thiết phải khác nhau tuy nhiên để trình bày đơn giản ta sẽ giả sử khóa của các nút đôi một khác nhau </s> <s> để hỗ trợ tìm kiếm ta thường tổ chức dữ liệu trên cây sao cho khóa của của nút cha lớn hơn khóa của nút con trái và nhỏ hơn khóa của nút con phải </s> <s> ta gọi tính chất này là tính chất và gọi cây nhị phân như vậy là </s> <s> figure b minh họa một cây nhị phân tìm kiếm </s> <s> </s> <s> </s> <s> a một cây nhị phân và b một cây nhị phân tìm kiếm nhắc lại ta sẽ dùng để kí hiệu nút cha của trong cây </s> <s> ta dùng và lần lượt để kí hiệu nút con trái và nút con phải của nút </s> <s> các giá trị này sẽ là nếu không có con trái hoặc con phải </s> <s> ta sử dụng để kí hiệu khóa của nút </s> <s> khi lập trình ta có thể lưu con trỏ cho mỗi nút </s> <s> tuy nhiên đa phần các cấu trúc cây nhị phân không cần đến trường này mà ta chỉ lưu con trỏ của  nút con và </s> <s> việc tiết kiệm con trỏ không chỉ vấn đề bộ nhớ mà còn tiết kiệm được cả thời gian cập nhật con trỏ này </s> <s> trong bài này mình sẽ không sử dụng con trỏ trong giả mã mà chỉ dùng nó như một kí hiệu tới nút cha trong chứng minh </s> <s> giả sử ta đã có một cây nhị phân tìm kiếm để biểu diễn  với khóa của mỗi nút là một số nguyên trong </s> <s> sử dụng tính chất tìm kiếm quan hệ giữa khóa của cha và hai nút con ta có thể thực hiện tìm kiếm như sau tạm thời gác lại hai thao tác chèn và xóa </s> <s> liệu thao tác access k với biểu diễn cây nhị phân tìm kiếm như trên có hiệu quả figure  cho ta câu trả lời là không </s> <s> trong trường hợp xấu nhất ta phải trả thời gian để tìm kiếm một nút lá của cây nếu như cấu trúc cây trong giống một đường đi đơn path như figure  </s> <s> </s> <s> một cây nhị phân tìm kiếm với độ sâu  </s> <s> ta có thể mở rộng ra cây nhị phân tìm kiếm có độ sâu </s> <s> do đó ta cần một cách tổ chức cây sao cho đường đi từ gốc của cây đến một nút lá bất kì đều không quá dài i </s> <s> e </s> <s> từ đó ta có khái niệm cây cân bằng là cây có độ sâu depth không quá lớn </s> <s> ta định nghĩa của một nút  kí hiệu  là độ dài là độ dài số cạnh trên đường đi duy nhât từ gốc đến nút </s> <s> của cây kí hiệu  được định nghĩa là độ sâu lớn nhất trong số các nút lá của cây </s> <s> theo định nghĩa độ sâu của nút gốc là </s> <s> một khái niệm tương tự độ sâu là height </s> <s> chiều cao của mọi nút lá là và chiều cao của một nút trong được định nghĩa từ nút con của nó như sau chiều cao của cây kí hiệu  được định nghĩa là chiều cao của nút gốc </s> <s> từ định nghĩa của chiều cao và độ sâu ta suy ra bạn đọc cần phân biệt rõ hai khái niệm chiều cao và độ sâu </s> <s> độ sâu được định nghĩa từ gốc xuống lá còn chiều cao được định nghĩa từ lá lên gốc </s> <s>  để dễ dàng trong việc phân tích cấu trúc cây ta sẽ giả mọi nút có chứa dữ liệu kể cả lá có hai nút con </s> <s> điều này có thể được đảm bảo bằng cách thêm  nút vào mỗi nút lá và thêm  nút vào mỗi nút trong nếu nút trong đó có đúng  nút con </s> <s> xem minh họa trong figure a </s> <s> theo quy ước trên mọi nút lá của cây là </s> <s> có nhiều cách để định nghĩa cây cân bằng cân bằng theo chiều cao cân bằng theo trọng số cân bằng theo hạng rank nhưng mục tiêu chung là đảm bảo độ sâu của cây là </s> <s> mỗi cách định nghĩa cân bằng thường tương ứng với một cách thực thi riêng </s> <s> tìm một cách định nghĩa cân bằng để cân bằng giữa các yếu tố độ sâu bộ nhớ và tính đơn giản trong thực thi vẫn đang là một chủ đề nghiên cứu hiện nay </s> <s> dưới đây mình giới thiệu loại cây cân bằng phổ biến cây avl và cây đỏđen redblack tree </s> <s> được phát triển bởi adelsonvelsky và landis  sử dụng chiều cao height làm tiêu chuẩn cân bằng </s> <s> </s> <s> trong bài sau ta sẽ tìm hiểu cách thức thực thi để đảm bảo tính chấ ttrong phương trình </s> <s> một số tính chất của cây avl ta sẽ nghiên cứu ở đây </s> <s> đầu tiên là chiều cao của cây avl </s> <s> theo quy ước mọi nút lá là và có chiều cao  </s> <s> do đó mọi nút trong đều có chiều cao dương </s> <s> với  và </s> <s> </s> <s> </s> <s> bằng quy nạp chi tiế tcoi như bài tập cho bạn đọc ta có thể chứng minh được một cây avl chiều cao có không quá nút trong </s> <s> từ đó ta suy ra cận dưới </s> <s> để chứng minh cận trên ta cần phải xét xem một cây avl chiều cao có bao nhiêu nút trong </s> <s> phương pháp chứng minh dưới đây được đề xuất bởi knuth  trang  </s> <s> gọi là cây avl chiều cao có số nút trong ít nhất trong số các cây avl chiều cao </s> <s> gọi là số nút của </s> <s> theo  ta có thể giả sử cây con trái của gốc có chiều cao và cây con phải của gốc có chiều cao tại sao ta có thể giả sử như vậy </s> <s> từ đó ta có công thức truy hồi và </s> <s> nếu đặt  ta có và </s> <s> đây chính là  kí hiệu  dịch sang trái  đơn vị </s> <s> do đó bằng một vài biến đổi đại số nhỏ ta sẽ có dpcm </s> <s> trong thực thi cây avl chúng ta cần một trường một số nguyên để lưu trữ chiều cao của mỗi nút khoảng  bít là đủ </s> <s> tùy vào ứng dụng mà số lượng bít này có thể coi là nhiều hay ít </s> <s> trong cây đỏđen dưới đây mỗi nút chỉ cần đúng  bít để duy trì thông tin cân bằng </s> <s> do đó so với cây avl cây đỏđen tiết kiệm được nhiều bộ nhớ lưu trữ hơn </s> <s> cây đỏđen được guibas và sedgewick  giới thiệu năm  </s> <s> trước hết ta định nghĩa cây đỏđen thông qua hạng rank </s> <s> cách định nghĩa này tuy chả liên quan gì đến cái tên đỏđen nhưng cho phép chứng minh một số tính chất về chiều cao trở nên đơn giản hơn sử dụng quy nạp là đủ </s> <s> sau đó ta sẽ liên hệ rank và màu sắc của nút </s> <s> một cây nhị phân tìm kiếm được gọi là cây đỏđen nếu tồn tại một hàm gán cho mỗi nút của cây một số nguyên không âm sao cho với mọi nút ví dụ một cách gán cho mỗi nút của cây ở figure b được minh họa trong figure b </s> <s> a cây nhị phân thu được sau khi thêm các nút vào cây nhị phân trong figure b để thu được cây theo quy ước </s> <s> b cây nhị phân với hàm </s> <s> số màu đỏ của mỗi nút tương ứng với rank của nút đó </s> <s> chứng minh rằng không tồn tại hàm với  tính chất kể trên cho cây trong figure a </s> <s> chú ý theo quy ước các nút lá sẽ có rank  </s> <s> việc kiểm tra hàm gán như trên thỏa mãn  tính chất coi như bài tập cho bạn đọc </s> <s> từ tính chất của rank ta suy ra các tính chất tương đương sau của màu sắc xem minh họa trong figure  </s> <s>  </s> <s> một cây đỏ đen được chuyển đổi từ cây nhị phân với hàm rank trong figure b </s> <s> số màu đỏ trên mỗi nút là rank của nút đó </s> <s> ngược lại từ một cây đỏđen với màu sắc của mỗi nút ta có thể suy ngược lại hàm rank bằng cách gán cho các nút lá rank  và rank của các nút trong khác được suy ra bằng quy nạp từ màu sắc và rank của các nút con của nó </s> <s> chi tiết coi như bài tập cho bạn đọc </s> <s> tính chất màu sắc của cây đỏ đen cho phép ta chỉ dùng  bít để lưu trữ màu sắc tại mỗi nút thay vì một số nguyên để lưu trữ giá trị height như trong cây avl tree </s> <s> cách lưu trữ này tiết kiệm được rất nhiều bộ nhớ </s> <s> cấu trúc trong java chính là sử dụng cây đỏđen </s> <s> </s> <s> ta chứng minh bằng phương pháp quy nạp </s> <s> dễ thấy theorem  đúng cho các nút lá có rank  và height  </s> <s> với nút có  theo  nút con của có hoặc </s> <s> phần còn lại của chứng minh ta sẽ xét các trường hợp và chi tiết coi như bài tập cho bạn đọc </s> <s> áp dụng theorem  cho nút gốc  ta suy ra nút gốc có chiều cao không quá và ít nhất nút con cháu </s> <s> do cây có tối đa nút trong nó có không quá nút tính cả các nút lá ta suy ra chứng minh chặt chẽ hơn ta có thể suy ra độ cao của cây là không quá </s> <s> logarithm ở đây là base  </s> <s> so với cậy avl chiều cao của cây đỏđen nói chung là lớn hơn xem lại theorem  </s> <s> tuy nhiên cây avl sử dụng nhiều bộ nhớ hơn </s> <s> trong bài sau ta sẽ thấy thực thi cây đỏđen phức tạp hơn thực thi cây avl rất nhiều </s> <s>  r </s> <s> e </s> <s> tarjan </s> <s> </s> <s> society for industrial and applied mathematics  </s> <s> </s> <s>  g </s> <s> adelsonvelsky and e </s> <s> landis </s> <s> </s> <s> proceedings of the ussr academy of sciences in russian </s> <s>  – </s> <s> english translation by myron j </s> <s> ricci in soviet math </s> <s> doklady –  </s> <s> </s> <s>  d </s> <s> knuth </s> <s> </s> <s> addisonwesley  </s> <s> </s> <s>  l </s> <s> j </s> <s> guibas and r </s> <s> sedgewick </s> <s> </s> <s> proceedings of the th annual symposium on foundations of computer science </s> <s> pp </s> <s> – </s> <s>  </s> <s>      trackback link on em chào anh ở phần đặt vấn đề problem  thì dùng hashmap được không ạ em nghĩ  thao thác tìm kiếm thêm xóa thực hiện trên hashmap đều hiệu quả </s> <s> on hi bạn </s> <s> </s> <s> great question vấn đề của một standard hashmap là bạn phải khởi tạo một map với n phần tử và sau đó không được phép thêm vào </s> <s> về mặt kĩ thuật bạn có thể thêm vào hashmap sau đó nhưng bạn sẽ không đạt được thời gian o như mong muốn nữa </s> <s> do đó hashmap chỉ phù hợp cho các bài toán mà access là thao tác chủ yếu còn delete và update là các thao tác ít khi xảy ra </s> <s> nếu cả  thao tác này xảy ra thường xuyên thì cây cân bằng là một cấu trúc phù hợp hơnhùngpowered by and </s> <s> quay luibacktracking </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  quy lui là một kĩ thuật thiết kế giải thuật dựa trên đệ quy </s> <s> ý tưởng của quay lui là tìm lời giải từng bước mỗi bước chọn một trong số các lựa chọn khả dĩ và đệ quy </s> <s> ok </s> <s> có vẻ vẫn chưa được rõ ràng lắm </s> <s> giờ chúng ta xem xét một vài ví dụ và khái quát hóa phương pháp quay lui </s> <s> bài toán như sau  ta thấy để các quân hâu không ăn được nhau ta phải xếp quân hậu trên hàng của bàn cờ </s> <s> ta dùng mảng  trong đó nếu quân hậu ở hàng thứ được đặt ở cột </s> <s>  giả sử chúng ta đã đặt được quân hậu  trên hàng đầu tiên sao cho không có  quân hậu nào ăn được nhau </s> <s> cụ thể các phần tử sẽ khác và các phần tử đều bằng </s> <s> chúng ta tìm cách đặt một quân hậu trên hàng thứ </s> <s> ta sẽ thử lần lượt đặt vào cột thứ </s> <s> nếu đặt vào cột thứ mà bị một trong quân hậu đã đặt trước đó ăn ta sẽ thử cột thứ </s> <s> nếu ta tìm được một ví trí đặt khả dĩ a feasible position ta sẽ đặt vào đó và gọi đệ quy để đặt hàng thứ </s> <s> giả mã như sau </s> <s> </s> <s> </s> <s> </s> <s> code của giả mã bằng c </s> <s> code đầy đủ được cho ở cuối bài </s> <s> </s> <s> là một cách nhìn khác của thuật toán </s> <s> tưởng tượng ta có một cây với gốc tượng trưng cho cấu hình ban đầu của bàn cờ mảng gồm toàn  </s> <s> nút con của gốc gọi là nút level  là các cách đặt một quân hậu vào hàng thứ  </s> <s> nút con của một nút level  gọi là nút level  là các cách đặt khả dĩ một quân hậu vào hàng thứ  </s> <s> cứ như thế đến nút level  ta sẽ thu được một cây gọi là cây đệu quy </s> <s> có thể thấy rằng thuật toán quay lui ở trên thực ra chính là một cách duyệt cây theo chiều sâu cho đến khi tìm được một nút ở level </s> <s> hình minh họa sau với được lấy từ  </s> <s> </s> <s> có thể thấy thuật toán trên có thời gian cỡ </s> <s> tuy nhiên nếu bạn cần một lời giải bất kì bài toán này có công thức giải và bạn chỉ mất thời gian để in lời giải ra  </s> <s> sudoku là một trò chơi khá phổ biến và chắc ai readers of this bog cũng biết </s> <s> trò chơi như sau có một hình vuông được chia thành x ô vuông con </s> <s> mỗi ô vuông con có giá trị trong khoảng từ  đến  </s> <s> ban đầu hình vuông có một số ô vuông con cho trước có điền sẵn số và còn lại là trống </s> <s> hãy điền các số từ  vào các ô con lại sao cho hàng ngang là các số khác nhau từ  đến  hàng dọc là các số khác nhau từ  đến  và mỗi khối x chính là các số khác nhau từ  đến  </s> <s> ví dụ một câu đố và lời gải tương ứng như sau hình được lấy từ  </s> <s> trong bài này mình sẽ giới thiệu cách giải sudoku bằng thuật toán quay lui </s> <s> ý tưởng của thuật toán cũng giống bài toán quân hậu </s> <s> mỗi bước tìm tập các giá trị khả dĩ để điền vào ô trống và sau đó đệ quy để điền ô tiếp theo </s> <s> giả mã của thuật toán ở đây chú ý mảng chỉ có kích thước  </s> <s> thủ tục kiểm trả xem giá trị có khả dĩ với ô không </s> <s> </s> <s> code của giả mã trên bằng c </s> <s> giả mã của thủ tục như sau </s> <s> code bằng c của giả mã code đầy đủ được cho ở cuối bài subset sum là một trong những </s> <s> trong bài này chúng ta sẽ thiết kế thuật toán quay lui để giải bài toán subset sum </s> <s> </s> <s> ví dụ và </s> <s> lời giải là true vì tập con của có tổng bằng  </s> <s> ý tưởng của thuật toán quay lui dựa trên quan sát sau xét một phần tử  tồn tại một dãy con có tổng bằng nếu một trong hai điều kiện sau là đúnggiả mã như sau </s> <s> code của giả mã bằng c ở mỗi bước của thuật toán quay lui ta gọi đệ quy hai lần trên mảng con của với kích thước nhỏ hơn  </s> <s> ta có code     uiuc </s> <s> </s> <s> </s> <s> cho một mảng phần tử </s> <s> tìm một dãy dài nhất  lớn nhất các chỉ số </s> <s> cho một dãy  tìm dãy con gia tốc dài nhất của </s> <s> tìm công thức đệ quy cho bài toán dựa vào đó thiết kế giải thuật quay lui </s> <s> hãy sửa đổi thuật toán quay lui ở trên của bài toán subset sum để in ra ít nhất một dãy con có tổng bằng của </s> <s>     trackback link on chào anh em đọc code giải sudoku của anh có đoạn em không hiểu lắm ạiffeasibles x y k    </s> <s> sxy  k </s> <s> solvesudokus x y </s> <s> sxy   </s> <s> tại sao sau khi gọi lại hàm solvesudokus x y lại phải gán sxy   vậy ạ on hi bạn muaxuan </s> <s> nếu bạn để ý kĩ hàm feasiblesxyk của mình đúng nếu đầu vào là ô </s> <s> do đó sau mỗi lần thử đặt vào ô  mình gán lại ô này bằng </s> <s> thực ra nếu để ý kĩ bạn sẽ thấy ta không nhất thiết phải làm như vậy </s> <s> bạn có thể đặt lệnh gán ra ngoài vòng lặp fork   k <  k </s> <s> lý do ta phải gán bằng  là như sau </s> <s> </s> <s> giả sử ô trước khi gán giá trị cho là ô cả hai ô ban đầu là rỗng </s> <s> nếu bạn vẽ cây đệ quy ra bạn sẽ thấy mỗi lần thử  bạn sẽ gán mọi giá trị có thể có cho ô tiêp theo </s> <s> sau khi thử  bạn thử </s> <s> khi thử  bạn lại phải thử lại toàn bộ giá trị có thể của </s> <s> do đó trước khi thử gán  bạn phải đảm bảo để code chạy đúng </s> <s> </s> <s> </s> <s> hi vọng mình trả lời đúng câu hỏi của bạn </s> <s> nếu bạn vẫn thấy chưa hoàn toàn trả lời được bạn có thể comment mình sẽ giải thích thêm </s> <s> </s> <s> on nếu như vậy thì sau lần cuối cùng thế k vào hàm feasiblelần lặp cuối cùng thì sxy cũng dc gán   thì đáng lý ra các ô sxy  rỗng ban đầu sau đó cũng đều   hết chứ sao nó lại lưu lại được  giá trị khác  vậy bạn  mình vẫn chưa hiểu lắm mong bạn giúp đỡ mình </s> <s> cảm ơn nhiều nhé bạn </s> <s> on khi lần cuối cùng bạn gán một giá trị vào và gọi đệ quy lần cuối thì lúc đó thủ tục sẽ in ra luôn  câu lệnh if đầu tiên của thủ tục sudoku </s> <s> sau khi đã in ra rồi thì thủ tục sẽ exit </s> <s> nếu để ý phần code bằng c minh họa thì sẽ có câu lệnh exit để thoát luôn khỏi chương trình ngay sau khi nó tìm được lời giải </s> <s> on ohhhh ra là vậy mình hiểu r cảm ơn bạn nhiều nha </s> <s> on ban đầu em cũng nghĩ như vậy nhưng không chắc nên đã hỏi cảm ơn anh đã trả lời 🙂 on không có gì cám ơn bạn đã ghé thăm </s> <s> on ở phần giả mã của bài n queens không biết có phải là e hiểu sai không nhưng nghĩ vòng lặp lớn phải cho j chạy từ  > n chứ sao lại là i ạ on đúng rồi bạn </s> <s> mình gõ sai </s> <s> trong phần code thật thì mình để là j </s> <s> cám ơn bạn đã chỉ ra lỗi </s> <s> on anh có thể gợi ý bài dãy gia tốc được không ạ  on cho mình hỏi có thể áp dụng giải thuật quay lui này để giải bài toán mã đi tuần được không on hi bạn </s> <s> câu trả lời là có nhé </s> <s> quay lui có thể áp dụng cho tất cả các bài toán mà bạn gặp trong thực tế </s> <s> vấn đề chỉ là nhanh hay chậm mà thôi </s> <s> hùng on em chào anh  em cũng đang bắt đầu làm quen với các thuật toán cơ bản này </s> <s> anh cho em hỏi ở bài nqueens tại sao lại là qijri và qijri vậy ạ  on hi châu </s> <s> đó là điều kiện kiểm tra xem nếu đặt vào ô rj thì ở đường chéo xuôi và ngược giao nhau tại rj đã đặt quân hậu nào trước đó hay chưa </s> <s> best </s> <s> hùng on anh có thể đưa bài giải của phần bài tập không ạ em mần nát óc mấy hôm nay mà chưa giải nổi on hi bạn </s> <s> cụ thể bạn muốn gợi ý bài nào mình có lẽ sẽ không có lời giải hoàn chỉnh nhưng sẽ gợi ý đến mức cụ thể nhất có thể </s> <s> hùng on bài  anh ơi </s> <s> em không biết phải làm thế nào để nó quay lui trong bài toán này </s> <s> em cảm ơn anh trước on hmm </s> <s> mình không biết gợi ý này có hữu dụng hay không bạn có thể thử ngẫm nghĩ </s> <s> bạn dùng thêm một biến j để lưu trữ phần tử cuối cùng trong dãy con tăng đã tìm được khi tới bước đệ quy hiện tại </s> <s> sau đó xét thêm một phần tử mới ai trong bước đệ quy hiện tại và so sánh ai với aj </s> <s>  nếu ai geq aj thì bạn có thể lựa chọn cho ai vào dãy con tăng hay không và đệ quy tiếp </s> <s> nếu không thì bạn bỏ qua ai và xét aibest </s> <s> hùng on bài toán subset sum hình như thiếu điều kiện mảng x là mảng không âm </s> <s> </s> <s> thanks on đúng rồi cám ơn bạn </s> <s> mình đã bổ sungpowered by and </s> <s>  công cụ xác suất  five probabilistic tools </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này mình giới thiêu  công cụ cơ bản từ lý thuyết xác suất để phân tích các giải thuật ngẫu nhiên </s> <s> nếu theo dõi các bài vết về giải thuật ngẫu nhiên trong blog của mình   v </s> <s> v </s> <s>  bạn sẽ thấy hầu hết các bài viết chỉ sử dụng  công cụ này thôi </s> <s> bài này chủ yếu viết lại note của tim roughgarden  </s> <s> mình khuyến khích các bạn đọc bản gốc </s> <s> trước đây mình có viết một bài về đề cập tới một số khái niệm như thế nào là một biến ngẫu nhiên kì vọng etc </s> <s> mình sẽ không nhắc lại các khái niệm đó tại đây </s> <s> gọi xxldots xn là n biến ngẫu nhiên trong cùng một không gian xác suất omega </s> <s> gọi x  sumin xi ta có ex  sumin exi qquad  điều đặc biệt quan trọng khiến đẳng thức  trở thành một cung cụ mạnh đó là nó đúng ngay cả khi các biến ngẫu nhiên x x ldots xn lẫn nhau </s> <s> trong các công cụ sẽ giới thiệu dưới đây một số công cụ yêu cầu các biến ngẫu nhiên phải có tính độc lập cao </s> <s> ta sẽ minh họa ứng dụng của tính tuyến tính của kì vọng trong bài toán  </s> <s> </s> <s> ta gọi một mệnh đề có giá trị là một mệnh đề được thỏa mãn satisfied </s> <s> ví dụ ta có  biến boolean và phi   x vee x vee barx barx vee x vee barx   barx vee barx vee x ta có thể gán xxx      </s> <s> khi đó toàn bộ các mệnh đề của phi đều được thỏa mãn </s> <s> gán cho mỗi biến ngẫu nhiên giá trị / </s> <s> gọi xi là biến ngẫu nhiên / cho sự kiện mệnh đề thứ i varphii được thỏa mãn xi   nếu varphii được thỏa mãn và ngược lại xi  </s> <s> số mệnh đề được thỏa mãn của phi là x  sumim xi qquad  do varphii có đúng  literals varphii thỏa mãn nếu ít nhất một trong  literals có giá trị </s> <s> do đó ta có mathrmprxi      frac  / qquad  vì xi là biến ngẫu nhiên / exi  mathrmprxi    / </s> <s> theo tính tuyến tính của kì vọng ta có ex  sumim xi  fracm qquad  nhận xét thấy với mọi biến ngẫu nhiên luôn tồn tại một giá tri của biến lớn hơn hoặc bằng kì vọng </s> <s> do đó luôn tồn tại một cách gán sao cho x geq ex  fracm </s> <s> chứng minh trên cũng cho chúng ta một giải thuật ngẫu nhiên khá đơn giản với thời gian đa thức tìm một cách gán thỏa mãn ít nhất / số mệnh đề của phi </s> <s> håstad  chứng minh rằng nếu  không có giải thuật nào có thể thực hiện tốt hơn giải thuật ngẫu nhiên trên trong thời gian đa thức </s> <s> trong nhiều trường hợp kì vọng của một biến ngẫu nhiên cũng không cho chúng ta quá nhiều thông tin </s> <s> thông tin quan trọng hơn đó là giá trị của biến ngẫu nhiên thay đổi như thế nào so với kì vọng của chúng </s> <s> ba công cụ tiếp theo cho phép chúng ta ước lượng được sự thay đổi này dựa trên những thông tin mà ta có bên cạnh kì vọng của các biến ngẫu nhiên </s> <s> mathrmprx geq c ex leq fracc qquad  </s> <s> gọi fx là hàm mật độ xác suất </s> <s> theo định nghĩa của kì vọng ta có beginarray l ex   intinftyinfty fx x dx  geq intcexinfty fx x dx  geq cexintcexinfty fx dx   cex mathrmprx geq c ex endarray liệu bất đẳng thức markov đã thực sự chặt câu trả lời là có </s> <s> nếu không có thông tin gì thêm ngoại trừ kì vọng thì bất đẳng thức markov là tốt nhất có thể xem bài tập  </s> <s> trong hầu hết các trường hợp bất đẳng thức markov không cho chúng ta nhiều thông tin giá trị </s> <s> tuy nhiên bất đẳng thức markov lại là công cụ phổ biến để chứng minh các bất đẳng thức khác khi chúng ta có thêm thông tin về biến ngẫu nhiên </s> <s> giả sử ngoài giá trị kì vong ex ta còn có ước lượng của phương sai variance varx </s> <s> gọi sigmax  sqrtvarx là độ lệch tiêu chuẩn standard deviation của x </s> <s> mathrmprx  ex geq c cdot sigmax leq fracc qquad  </s> <s> gọi y  x  ex </s> <s> y là một biến ngẫu nhiên với kì vọng ey  ex  ex  varx </s> <s> do đó ta có beginarray l mathrmprx  ex geq c cdot sigmax   mathrmprx  ex geq c varx   mathrmpry geq c ey  leq fracc endarray bất đẳng thức cuối cùng là do ta sử dụng bất đẳng thức markov </s> <s> bất đẳng thức chebyshev cũng là tốt nhất có thể nếu bạn chỉ có ước lượng về kì vọng và phương sai xem bài tập  </s> <s> giả sử bạn đang thiết kế lại một trang web bán hàng của bạn </s> <s> trang web này có khoảng  triệu khách hàng viếng thăm và bạn muốn kiểm tra xem bao nhiêu khách hàng sẽ thích giao diện mới </s> <s> tuy nhiên bạn không thể thay đổi luôn giao diện và đếm thử vì nếu trong trường hợp rất nhiều khách hàng không thích bạn có thể mất một lượng lớn khách hàng </s> <s> các bạn làm là lấy mẫu ra một số lượng khách hàng rất nhỏ n và hỏi họ xem họ thích hay không thích và từ đó tính được ước lượng số khách hàng thích trong một triệu khách hàng bằng cách chia tỉ lệ </s> <s> nếu bạn muốn ước lượng của bạn với xác suất ít nhất / lệch không quá  thì bạn cần phải lấy mẫu bao nhiêu người giả sử xác suất một người thích giao diện mới của bạn là p p là số người thích giao diện mới trong  triệu người </s> <s> gọi xi là sự kiện người thứ i trong tập n người ngẫu nhiên thích giao diện mới </s> <s> ta có exi  p và varxi  pp </s> <s> gọi x là số người trong n người chọn ra thích giao diện mới </s> <s> ta có x  sumin xi qquad  theo tính tuyến tính của kì vọng ex  np </s> <s> do xi là các biến ngẫu nhiên độc lập ta có varx  sumin varxi  npp </s> <s> theo bất đẳng thức chebyshev ta có beginarrayl mathrmprx  ex geq  </s> <s>  n  mathrmprx  exgeq frac </s> <s>  nsqrtnpp sqrtnpp   leq fracnpp </s> <s>  n  leq fraccdot  </s> <s>  cdot nendarray qquad  để xác suất này không quá / ta chọn n     </s> <s> như vậy nếu bạn lấy mẫu khoảng  </s> <s>  người thì ước lượng của bạn sai lệch khoảng  với xác suất ít nhất  </s> <s> tổng quát hóa ví dụ trên nếu bạn muốn ước lượng chính xác tới một hằng số delta geq / với xác suất ít nhất epsilon epsilon geq / áp dụng bất đẳng thức chebyshev bạn nên lấy mẫu khoảng n  fracepsilondelta qquad  chi tiết chứng minh coi như bài tập cho bạn đọc bài tập  </s> <s> áp dụng  cho ví dụ ban đầu với delta   </s> <s>  và epsilon  / ta được n   </s> <s> bất đẳng thức chernoff cho phép chúng ta ước lượng sự thay đổi giá trị của một biến ngẫu nhiên xung quanh kì vọng của nó khi biết rằng biến đó là tổng của nhiều biến ngẫu nhiên độc lập </s> <s> </s> <s> bất đẳng thức  trông không được đẹp </s> <s> trong nhiều trường hợp ta chủ yếu ước lượng cả cận trên và cận dưới của x với delta in  </s> <s> khi đó người ta thường sử dụng hệ quả sau của chernoff bound </s> <s> mathrmprx  mu geq delta mu  leq  edeltamu/qquad  khi delta gg  hệ quả sau thường được sử dụng mathrmprx geqdelta mu  leq edeltamu/deltaqquad  mình sẽ không chứng minh các bất đẳng thức này </s> <s> thay vào đó mình sẽ hướng dẫn chi tiết từng bước trong bài tập  để các bạn có thể tự chứng minh </s> <s> trường hợp các bạn các bạn cần lời giải thì có thể xem trong note của goemans  </s> <s> trở lại ví dụ trong phần  để ý thấy x là tổng của các biến ngẫu nhiên độc lập xi i   ldots n cùng nhận giá trị  và có cùng xác suất mathrmprxi    p </s> <s> theo chernoff bound  ta có beginarrayl mathrmprx  ex geq delta n  mathrmprx  exgeq fracdelta p np   leq efracdelta npp   efracdelta np  leq edelta nendarray  do đó để xác suất này không quá epsilon ta chỉ cần chọn n sao cho edelta n  epsilon từ đó ta suy ra n  lnfracepsilon fracdelta qquad  so với  thì phụ thuộc của n vào epsilon trong  tốt hơn theo hàm mũ còn sự phụ thuộc vào delta không thay đổi </s> <s> do đó khi ta biết các biến ngẫu nhiên độc lập với nhau thì ta nên sử dụng chernoff bound </s> <s> xét bài toán sau ném n quả bóng vào n cái rổ một cách ngẫu nhiên </s> <s> hỏi rổ đầy nhất có bao nhiêu quả bóng với xác suất cao tất nhiên là rổ đầy nhất có thể có đến n quả bóng nhưng xác suất xảy ra trường hợp này cực kì nhỏ </s> <s> ta đã xét bài toán này trong phần </s> <s> sau một loạt các câu hỏi thì kết quả cuối cùng là trong bài này ta sẽ chứng minh theorem  sử dụng chernoff bound </s> <s> ta sẽ tìm xác suất rổ đầu tiên có nhiều hơn fracln nln ln n quả bóng </s> <s> gọi xi là sự kiện quả thứ i được ném vào rổ  </s> <s> mathrmprxi  fracn  exi </s> <s> gọi x  sumin xi </s> <s> theo tính tuyến tính của kì vọng ex   </s> <s> do các biến xi là độc lập theo chernoff bound  ta có mathrmprx geq fracln nln ln n leq fraclnln n ln nfrace lnln nln n leq fracn qquad  trong  ta sử dụng tính chất fracln nln ln n xấp xỉ là nghiệm của xx  n </s> <s> theo  xác suất để một rổ bất kì có nhiều hơn fracln nln ln n quả bóng là không quá /n </s> <s> do đó xác suất để một rổ nào đó có nhiều hơn fracln nln ln n quả bóng là không quá /n </s> <s> như vậy với xác suất fracn mọi rổ do đó rổ đầy nhất đều có không quá fracln nln ln n quả bóng </s> <s> trong bài tập  ta sẽ chứng minh rằng nếu ném ngẫu nhiên nlog n quả bóng vào n rổ thì với xác suấ ít nhất   /n rổ đầy nhất có không quá olog n quả bóng </s> <s> trong trường hợp này số quả bóng trong trường hợp xấu nhất cũng chỉ lớn hơn kì vọng hằng số lần mà thôi mathrmprmbox ít nhất một sự kiện ei mbox xảy ra leq sumin mathrmprei qquad  bạn đọc có thể hỏi tại sao lại phát biểu  thành một công cụ riêng </s> <s> chả phải  rất hiển nhiên sao ít nhát là đối với các bạn có kiến thức sơ khai về xác suất đúng là  rất hiển nhiên và nó đúng ngay cả khi các sự kiện ei phụ thuộc vào nhau </s> <s> đó cũng chính là sức mạnh của công cụ này </s> <s> thông thường theo kinh nghiệm của mình các bài toán mà ta quan tâm đòi hỏi tìm xác suất để một tập các sự kiện aaldots ak xảy ra </s> <s> nhưng các sự kiện đó có thể phụ thuộc nên ta không thể áp dụng công thức nhân xác suất mathrmprai wedge aj  mathrmprai cdot mathrmpraj </s> <s> cách làm là ta sẽ chuyển về sử dụng union bound thông qua </s> <s> để mình minh họa thông qua ví dụ ném bóng vào rổ ở trên </s> <s> gọi ai là sự kiện rổ thứ i có không quá fracln nln ln n quả bóng </s> <s> theo  mathrmprbarai leq /n hay mathrmprai geq /n </s> <s> để chứng minh theorem  ta phải chứng minh mathrmpra wedge a wedge an geq   /n qquad  đương nhiên là các sự kiện ai phụ thuộc ta không thể áp dụng công thức nhân xác suất </s> <s> sử dụng luật demorgan ta có beginarrayl mathrmproverlinea wedge a wedge ldots wedge an  mathrmprbara vee bara vee ldots vee baran   leq suminmathrmprbarai  leq sumin fracn  fracnendarray qquad  từ đó ta suy ra  </s> <s> không khó để thấy rằng phương trình gần cuối của  ta áp dụng union bound </s> <s> tại sao tiêu đề là  công cụ mà ở đây lại lòi ra công cụ thứ  </s> <s> bản thân mình thì thấy công cụ thứ  này rất hữu dụng trong việc tính xác suất nhưng lại chưa tìm ra ví dụ đơn giản để minh họa </s> <s> các ví dụ mình biết đều quá phức tạp do đó mình sẽ bổ sung và thay đổi tiêu đề bài viết khi đã tìm được ví dụ phù hợp </s> <s> ý tưởng của công cụ này là khi ta quan tâm đến sự kiện x nhưng lại rất khó để tính mathrmprx một cách trực tiếp </s> <s> tuy nhiên tính xác suất mathrmprx y lại rất dễ trong đó y là một sự kiện xảy ra với xác suất cao i </s> <s> e mathrmpry geq epsilon với epsilon vô cùng nhỏ </s> <s> lúc này ta có thể tính mathrmprx một cách tương đối theo công thức bayes như sau beginarrayl mathrmprx  mathrmprx ymathrmpry  mathrmprx barymathrmprbary   leq mathrmprx y  mathrmprbary  leq mathrmprx y  epsilon endarray qquad  do đó ta có thể ước lượng mathrmprx thông qua tính mathrmprx y mà ta biết là dễ tính hơn nhiều </s> <s> ở đây mình chưa có ví dụ minh họa nên có thể mọi thứ chưa có ý nghĩa nhiều </s> <s> phần này chủ yế là ghi chú cá nhân để cập nhật sau </s> <s>  t </s> <s> roughardentim </s> <s> </s> <s> stanford  </s> <s> </s> <s>  t </s> <s> rougharden and g </s> <s> valiant </s> <s> </s> <s> stanford  </s> <s> </s> <s>  lászló kozma </s> <s> </s> <s> </s> <s>  j </s> <s> håstad </s> <s> journal of the acm jacm  </s> <s>    </s> <s> </s> <s>  m </s> <s> goemans </s> <s> </s> <s> mit  </s> <s> gọi x là một biến ngẫu nhiên / trong đó mathrmprx    /k </s> <s> chứng minh rằng mathrmprx geq cex leq /c </s> <s> gọi z là một biến ngẫu nhiên có phân phối z  begincases k  mboxwith probability  frack    mboxwith probability  frack  k  mboxwith probability  frackendcases chứng minh rằng a ez   b varz   và c mathrmprz geq k leq /k </s> <s> chứng minh công thức  cho trường hợp tổng quát của ví dụ  </s> <s> trong bài tập này mình sẽ hướng dẫn các bạn chứng chernoff bound khi các biến xi chỉ nhận  trong  giá trị / </s> <s> gọi mui  mathrmprxi  exi </s> <s> ta có mu  suminmui </s> <s> gọi s và a là hai số không âm bất kì </s> <s> giả sử ta ném n log n quả bóng vào n cái rổ chứng minh rằng với xác suất   fracn rổ đầy nhất có không quá olog n quả bóng </s> <s>    trackback link powered by and </s> <s> xác suất cơ bản  a quick tutorial on probability </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong bài này mình sẽ giới thiệu những kiến thức cơ bản về xác suất </s> <s> do xác suất là một lĩnh vực rất rộng rất khó để viết toàn bộ những kiến thức cở bản trong một bài viết </s> <s> do đó mình chỉ chọn ra những phần nhất định để trình bày </s> <s> những phần này sẽ được áp dụng trong những bài viết sau về phân tích thuật toán ngẫu nhiên </s> <s> trước hết chúng ta định nghĩa những khái niệm cơ bản nhất về không gian xác suất dựa vào định nghĩa  ta có bổ đề sau </s> <s> dựa vào định nghĩa của hàm xác suất  ta có từ đó suy ra định lý  </s> <s> định lý  còn được mở rộng ra trong trường hợp hữu hạn các sự kiện gọi là tương tự như vậy các sự kiện được gọi là độc lập nếu </s> <s> một luật rất quan trọng để tính xác suất là luật </s> <s>  </s> <s>  do các sự kiện là đôi một không giao nhau áp dụng tính chất của hàm xác suất ta có đẳng thức sau được rút ra từ định nghĩa của xác suất có điều kiện </s> <s> </s> <s> ta có thể dễ dàng chứng minh công thức bayes dựa vào luật tổng xác suất </s> <s> ví dụ là một bài toán nối tiếng minh họa việc áp dụng công thức bayes </s> <s> bài toán như sau giả sử trong một trò chơi có  cánh cửa đằng sau một trong  cánh của đó là một chiệc xe ô tô và đằng sau hai cánh cửa còn lại là hai con dê </s> <s> bạn chỉ được phép mở cánh cửa một lần và phần thưởng cuả bạn là thứ đằng sau cánh cửa đó tất nhiên là bạn muốn ô tô </s> <s> giả sử bạn đã chọn một cánh cửa nhưng chưa mở giả sử cánh cửa  ban tổ chức trò chơi đó sẽ mở một cánh cửa có con dê giả sử cánh cửa  trong hai cánh cửa còn lại </s> <s> bây giờ trước khi bạn quyết định mở ban tổ chức cho phép bạn đổi cánh cửa  và  </s> <s> câu hỏi là bạn có đổi hay không giả sử xác suất mỗi cánh cửa có ô tô là như nhau và bằng phần lớn mọi người khi lần đầu tiên gặp bài toán này sẽ cho rằng đổi hay không cũng không quan trọng vì xác xuất ô tô ở trong cánh cửa  và  đều bằng nhau và bằng khi bạn đã biết cánh cửa  không có ô tô </s> <s> ngay cả nhà toán học nổi tiếng lúc đầu cũng không tin là bạn nên đổi ông chỉ tin bạn nên đổi sau khi ông đã thử nghiệm giả lập với máy tính </s> <s> vậy tại sao bạn nên đổi </s> <s> về mặt trực quan lý do như sau ban đầu bạn chọn cánh cửa  xác suất ô tô nằm trong cánh cửa  là </s> <s> suy ra nếu bạn không đổi thì xác suất bạn có được ô tô là </s> <s> còn nếu bạn đổi xác suất bạn có được ô tô sẽ là </s> <s> rõ ràng là bạn nên đổi </s> <s> bây giờ chúng ta áp dụng công thức bayes vào bài toán nàygọi là xác suất ô tô ở sau cánh cửa </s> <s> gọi là sự kiện người chơi chọn cánh cửa  và là sự kiện ban tổ chức mở cánh cửa  </s> <s> như vậy sự kiện ô tô ở cánh cửa thứ  là </s> <s> do đó xác suất ô tô ở trong cánh cửa thứ  là </s> <s> ta có chú ý độc lập với với mọi  do đó </s> <s> áp dụng công thức bayes ta có trong ứng dụng của xác suất trong phân tích thuật toán ngẫu nhiên chúng ta chủ yếu nhưng không phải tất cả bắt gặp biến ngẫu nhiên rời rạc </s> <s> cụ thể trong định nghĩa trên với một biến ngẫu nhiên và một giá trị  sự kiện  là tập hợp  và xác suất của sự kiện này được kí hiệu là và bằng ví dụ gọi là biến ngẫu nhiên biểu diễn tổng của hai con xúc xắc  mặt </s> <s> ở đây và như vậy sự kiện sẽ tương đương với tập hợp và có xác suất là tương tự như các sự kiện ở đây chúng ta cũng có khái niệm các biến ngẫu nhiên độc lập </s> <s> tương tự như vậy các biến ngẫu nhiên được gọi là độc lập với nhau khi và chỉ khi với mọi tập con và mọi giá trị  ta có </s> <s> với ví dụ biến ngẫu nhiên là tổng của hai con xúc xắc  mặt được định nghĩa trong ví dụ trên kì vọng của  một tính chất vô cùng quan trong đó là tính tuyến tính của kì vọng </s> <s> tính chất này chúng ta sẽ sử dụng trong gần như tất cả các phân tích xác suất </s> <s> </s> <s> ta chỉ cần chứng minh trong trường hợp hai biến ngẫu nhiên và sau đó quy nạp để chứng minh định lý </s> <s> gọi hai biến ngẫu nhiên là và với kì vọng tương ứng </s> <s> theo định nghĩa ta có điểm mạnh của định lý  chính là đẳng thức đúng trong cả trường hợp các biến ngẫu nhiên phụ thuộc </s> <s> tương tự như định lý  ta có thể chứng minh tương tự như xác suất có điều kiện ta có thể định nghĩa kì vọng có điều kiện </s> <s> </s> <s> dựa vào định nghĩa ta cũng có thể chứng minh được tính tuyến tính của kì vọng </s> <s> với mỗi  kì vọng phụ thuộc vào </s> <s> do đó ta có thể coi kì vọng như là một biến ngẫu nhiên  </s> <s> do đó ta có thể định nghĩa kì vọng cho biến ngẫu nhiên đó </s> <s> định lý sau có thể được chứng minh trực tiếp dựa vào định nghĩa một hàm được gọi là lồi nếu với mọi và  ta có định nghĩa này rộng hơn định nghĩa trong giải tích mà chúng ta đã biết nếu một hàm có đạo hàm cấp  với mọi thì là hàm lồi </s> <s> ta có bất đẳng thức jensen cho hàm lồi </s> <s> trong trường hợp có đạo hàm cấp  bất đẳng thức này có thể được chứng minh bằng khai triển taylor và áp dụng tính tuyến tính của kì vọng </s> <s> mình bỏ qua chứng minh bạn đọc có thể xem trong  </s> <s> một hệ qủa của định lý trên đó là của một biến ngẫu nhiên là một đại lượng đặc trưng cho sự dao động của biến ngẫu nhiên xung quanh giá trị kì vọng và được định nghĩa như sau từ bổ đề  có thể thấy với mọi biến ngẫu nhiên </s> <s> ta xét một ứng dụng của phân tích xác suất trong bài toán người sưu tập coupon  </s> <s> bài toán này cũng được giới thiệu ở với cái tên bài toán mai siêu phong </s> <s> gọi là số lượng coupon cần mua để thu được ít nhất một coupon trong mỗi loại và gọi là số lượng coupon cần phải mua khi bạn đã thu thập được loại coupon khác nhau </s> <s> theo tính tuyến tính của kì vọng ta có bây giờ ta sẽ tính kì vọng của với mỗi </s> <s> do bạn đã thu tập được loại khác nhau xác suất khi bạn mua hộp kẹo có coupon loại mới là ở đây ta cần phải hiểu rõ ý nghĩa của </s> <s> nếu có nghĩa là hộp kẹo đầu tiên bạn mua không có coupon nào mới cả và hộp kẹo thứ có môt coupon loại mới </s> <s> do đó do đó tuân theo với tham số </s> <s> ta có do đó ta có trong đó là số thứ </s> <s> về mặt tiệm cận  hay chính xác hơn </s> <s> trong phân tích thuật toán biến ngẫu nhiên / indicator random variable rất hay được sự dụng như một phương pháp để chuyển đổi giữa kì vọng và xác suất </s> <s> như cái tên của nó biến ngẫu nhiên / chỉ nhận hai giá trị  và  </s> <s> </s> <s> dựa vào định nghĩa ta dễ dàng chứng minh định lý sau một tính chất quan trọng của biến ngẫu nhiên / mà ta thường hay sử dụng trong các phân tích xác suất là </s> <s>  trong đó là xác suất </s> <s>  mitzenmacher michael and eli upfal </s> <s> </s> <s> cambridge university press  </s> <s> </s> <s>  cormen thomas h </s> <s>  leiserson charles e </s> <s>  rivest ronald l </s> <s>  stein clifford </s> <s> </s> <s> mit press and mcgrawhill  </s> <s> isbn  </s> <s>   trackback link powered by and </s> <s> cây avl i  avl tree i </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  xem bài tiếp theo về </s> <s> trong  chúng ta đã tìm hiểu sơ bộ về cây nhị phân tìm kiếm tìm kiếm trên cây và định nghĩa hai loại cây avl và cây đỏ đen </s> <s> trong bài này ta tìm hiểu cách chèn thêm một khóa vào cây avl mà vẫn đảm bảo các tính chất của cây avl sau khi chèn </s> <s> bài tiếp theo chúng ta sẽ tìm hiểu cách xóa một nút khỏi cây avl </s> <s> một số khái niệm như chiều cao của một nút  bạn đọc xem lại </s> <s> mình chỉ nhắc lại tính chất cân bằng của cây avl ở đây </s> <s> </s> <s> trong  ta đã chứng minh rằng cây avl có nút trong sẽ có chiều cao </s> <s> ở đây ta vẫn giữ quy ước các nút lá là </s> <s> giả sử khóa ta muốn chèn vào trong cây avl là một  i </s> <s> e không có khóa nào trong cây có cùng giá trị </s> <s> điều này có thể được đảm bảo bằng cách kiểm tra xem khóa đã tồn tại trong cây hay chưa trước khi thực hiện chèn </s> <s> sau khi chèn một khóa ta phải đảm bảo hai điều kiện để đảm bảo điều kiện  ta luôn chèn một khóa mới vào vị trí sao cho nút mới chèn là nút lá của cây </s> <s> tạm thời gác lại điều kiện  giả mã chèn vào cây như sau ví dụ trong figure  dưới đây ta có một cây avl với tập khóa figure a </s> <s> ta chèn thêm khóa  vào cây trong figure a thu được cây trong figure b </s> <s> dễ dàng kiểm tra được cây trong figure b vẫn là cây avl </s> <s> ta chèn tiếp khóa  vào figure b thu được figure c </s> <s> cây trong figure c không còn là cây avl nữa vì hai nút tô màu đỏ trong cây vi phạm điều kiện trong phương trình </s> <s> </s> <s> </s> <s> a một cây avl </s> <s> node có kí hiệu lần lượt tương ứng với trường hợp chiều cao con phải chiều cao con trái chiều cao con phải chiều cao con trái  đơn vị và chiều cao con phải chiều cao con trái  đơn vị </s> <s> b cây thu được sau khi chèn khóa  </s> <s> chú ý sự thay đổi của  kí hiệu </s> <s> c cây thu được sau khi chèn thêm khóa  </s> <s> hai nút tô màu hồng và có dấu là nút bị mất cân bằng chiều cao con phải lớn hơn chiều cao con trái  đơn vị tại các nút này </s> <s> phép chèn như trên đảm bảo điều kiện  nhưng sau khi chèn cây mới có thể vi phạm điều kiện cân bằng </s> <s> ví dụ trong figure c sau khi chèn các nút đều vi phạm điều kiện cân bằng </s> <s> do đó ta cần một cơ chế để đảm bảo tính cân bằng sau khi chèn </s> <s> để hiểu các cơ chế này trước hết ta nghiên cứu cấu trúc của các nút bị mất cân bằng </s> <s> ta có nhận xét </s> <s> gọi là nút mới chèn </s> <s> gọi là nút bị mất cần bằng gần nhất </s> <s> gọi là chiều cao của nút trước khi chèn </s> <s> không mất tính tổng quát ta giả sử được chèn vào của </s> <s> ta có </s> <s> gọi là nút con phải của </s> <s> theo observation  </s> <s> bổ đề sau cho chúng ta biết cấu trúc của cây tại nút </s> <s> </s> <s> giả sử < </s> <s> nếu được vào cây con phải của thì nút sẽ bị mất cân bằng trái với giả thiết là nút mất cân bằng gần nhất </s> <s> nếu được chèn vào cây con trái của thì chiều cao của không thay đổi sau khi chèn </s> <s> như vậy sẽ không bị mất cân bằng </s> <s> trái với giả thiết bị mất cân bằng </s> <s> trường hợp < chứng minh tương tự </s> <s> ta xét hai trường hợp </s> <s> xem minh họa trong figure a </s> <s> trường hợp này ta thực hiện left rotation tại  ta gán con trái của làm con phải của và gán làm con trái của và cho nút cha của trỏ vào </s> <s> xem minh họa trong figure b </s> <s> </s> <s> </s> <s> a nút bị mất cân bằng lệch về bên phải sau khi chèn vào cây con phải của </s> <s> b phép quay trái tại để thự hiện cân bằng </s> <s> chú ý chiều cao của và sự thay đổi các kí hiệu sau khi quay </s> <s> ta cógiả mã </s> <s> code cgọi là nút con trái của </s> <s> lập luận tương tự như lemma  ta có </s> <s> xem minh họa lemma  trong figure a </s> <s> như vậy sau khi chèn  cây con trái hoặc phải của sẽ có chiều cao  tùy thuộc bị chèn vào cây con nào </s> <s> trong trường hợp này ta thực hiện phép doubly left rotation tại như sau a gán con trái của làm con phải của  b gán con phải của làm con trái của  c gán làm con trái của và d gán làm con phải của </s> <s> xem minh họa trong figure b </s> <s> </s> <s> a nút bị mất cân bằng lệch về bên phải sau khi chèn vào cây con trái của </s> <s> trong hình trên ta giả sử được chèn vào cây con trái của </s> <s> nếu được chèn vào cây con phải của thì thao tác quay vẫn không thay đổi </s> <s> b phép quay kép trái tại để thự hiện cân bằng </s> <s> chú ý chiều cao của và sự thay đổi các kí hiệu sau khi quay </s> <s> giả mã thủ tục chèn đầy đủ như sau giả mã của và coi như bài tập cho bạn đọc </s> <s> code đây đủ thủ tục chèn trong c cám ơn bạn nam nguyen đã chỉ ra một số lỗi sai rất tinh vi trong phiên bản trước của bài vết </s> <s> code đầy đủ </s> <s>  g </s> <s> adelsonvelsky and e </s> <s> landis </s> <s> </s> <s> proceedings of the ussr academy of sciences in russian </s> <s>  – </s> <s> english translation by myron j </s> <s> ricci in soviet math </s> <s> doklady –  </s> <s> </s> <s>  d </s> <s> knuth </s> <s> </s> <s> addisonwesley  </s> <s> trackback link powered by and </s> <s> phd life sucks chém gió sau deadline </s> <s> http//www </s> <s> giaithuatlaptrinh </s> <s> com/p </s> <s> nơi tổng hợp và chia sẻ những kiến thức liên quan tới giải thuật nói chung và lý thuyết khoa học máy tính nói riêng </s> <s> in  trong blog chủ yếu là các bài viết kĩ thuật </s> <s> post này là bài đầu tiên về công việc cá nhân mặc dù vẫn dính dáng một tí đến kĩ thuật </s> <s> hôm nay tự nhiên có hứng nên post luôn nếu không mấy hôm nữa lại không viết được </s> <s> có khi hôm đẹp trời nào đó đọc lại post này mình lại đóng post cũng nên </s> <s> thực ra trong thư mục draft của mình cũng có vài bài cá nhân nhưng chưa bao giờ những bài đó được hoàn thành vì sau những dòng đầu tiên thì bị cụt hứng không viết tiếp được </s> <s> post này khoe khoang là chính nhưng mình vẫn cố gắng kiềm chế cảm xúc để bớt tính bốc phét của bài viết </s> <s> chả là hôm nay vừa submit một bài đầu tiên vào </s> <s> danh tiếng của focs thì trong ngành lý thuyết khoa học máy tính gọi tắt là lý thuyết thì không phải bàn </s> <s> nói đến lý thuyết thì có  hội nghị chính  focs và </s> <s> với một số outstanding student thì việc có bài trong mấy hội nghị này không phải vấn đề lớn ví dụ có cả đống </s> <s> còn với một sinh viên bình thường hi vọng là bình thường như chủ thớt đây chẳng hạn thì một bài là ấp ủ từ lâu </s> <s> mặc dù mới chỉ là submit accept hay không thì còn phải đợi vài tháng nữa nhưng câu chuyện đầy đủ tại sao mà có kế quả này thì xin kể ra đây </s> <s> kết quả trong bài báo submit mà mình và  người khác nhưng thôi tạm gọi là mình chung cho cả  là về </s> <s> bạn nào học cs thì đều biết bài này nhưng vẫn xin mô tả ngắn gọn như sau bài toán này có thể nhìn qua góc độ đồ thị như sau mỗi đỉnh là một thành phố và cạnh nối hai thành phố có độ dài là khoảng cách giữa hai thành phố </s> <s> bài toán này là một trong những bài toán rất khó làm đau đầu các nhà nghiên cứu bao nhiêu năm nay </s> <s> đây là một bài toán  nghĩa là cho tới hiện tại người ta vẫn không tìm ra được để giải bài toán này </s> <s> ở đây đang nói đến tìm lời giải chính xác i </s> <s> e tìm chu trình ngắn nhất </s> <s> không giải được chính xác thì ta xấp xỉ vậy </s> <s> giải thuật christofides năm  luôn đảm bảo tìm được chu trình với độ dài không quá / độ dài của chu trình ngắn nhất </s> <s> người ta mới phát hiện thuật toán cực kì phưc tạp tìm được chu trình độ dài không quá với là một phần tỉ tỉ tỉ không nhớ rõ là bao nhiêu chữ tỉ </s> <s> và chứng minh được rằng có lẽ không thể xấp xỉ tốt hơn / được </s> <s> sau đó thì người ta tìm cách xấp xỉ tsp trong các đồ thị thực tế hơn ví dụ đồ thị với các điểm trên   hay đồ thị boundedgenus mình không biết dịch từ này </s> <s> kết quả gần đây nhất là trong các đồ thị như vậy ta có thể tìm được một chu trình có độ dài không quá trong thời gian với bất kì số nhỏ tùy ý </s> <s> ví dụ bạn có thể tìm được chu trình với độ dài không quá lần đồ dài chu trình ngắn nhất  trong thời gian mặc dù hằng số ẩn sau khá to </s> <s> một câu hỏi bỏ ngỏ từ lâu là ví dụ là một đa thức như vậy </s> <s> kết quả mà nhóm mình đang nộp là câu trả lời yes của bài toán mở này và biến nó thành định lí đồ thị minorfree là gì thì có lẽ mất cả vài chục dòng để mô tả nên mình không định nghĩa ở đây nhưng nó là một dạng tổng quá hóa của đồ thị phẳng và đồ thị boundedgenus </s> <s> đây có lẽ cũng là loại đồ thị tổng quát nhất mà người ta hi vọng có thể xấp xỉ tsp tùy ý được </s> <s> đồ thị minorfree có một cấu trúc nhìn rất phức tạp xem hình dưới đây và phải mất tới  năm cùng  trang giấy thì mới chứng minh được cấu trúc như vậy </s> <s> công trình của robertson và seymour là một bước ngoặt trong lý thuyết đồ thị hiện đại </s> <s> </s> <s>  hình bên trái là một đồ thị phẳng </s> <s> hình bên phải là một đồ thị minorfree đã đơn giản hóa </s> <s> hình được sửa đổi </s> <s> gần đây tìm ra được giải thuật với thời gian  trong khi câu hỏi mở là đưa ra khỏi lũy thừa của </s> <s> kết quả của nhóm mình chính là như vậy </s> <s> vài dòng trên chỉ là giới thiệu kết quả và đó không phải là nội dung chính của bài viết này </s> <s> nội dung chính là quá trình tìm ra câu trả lời của bài toán đó </s> <s> mình sẽ lan man một tí về quá trình bắt đầu ph </s> <s> d life và tại sao tiêu đề của mình lại như vậy </s> <s> ph </s> <s> d </s> <s> life sucks tháng  năm  mình chính thức bắt đầu chương trình ph </s> <s> d </s> <s> bài toán đầu tiên mà advisor của mình giáo sư  gợi ý liên quan tới bài toán tìm đồ thị con của một </s> <s> sau  tháng vật vã mình bắt đầu nếm mùi </s> <s> tưởng tìm ra được gì đó hay hay cuối cùng mới biết có người làm trước rồi mà lại còn làm tốt hơn </s> <s> ph </s> <s> d </s> <s> life suckssau đó chuyển qua làm về trong đồ thị có nhỏ </s> <s> câu chuyện lần này còn thú vị hơn nữa </s> <s> sau  tháng lúc này là năm  ra được một kết quả để nộp vào  và sau đó kết quả bị từ chối </s> <s> người bình duyệt reviewer cho rằng kết quả chưa đủ mạnh </s> <s> lần này dành khoảng  tháng cải tiến kết quả và thêm vào một kết quả mới và quyết định nộp vào soda </s> <s> lần này gặp lại người bình duyệt lần trước từ esa chính người bình duyệt nói là đã review một lần trong esa rồi </s> <s> người bình duyệt cho rằng kết quả chưa đủ mạnh so với mức của soda nhưng nếu nộp vào esa thì ông ấy sẽ đồng ý accept </s> <s> kết quả bài báo bị reject lần  </s> <s> sau đó lại nộp vào esa năm sau nhưng không may không gặp người bình duyệt cũ </s> <s> một trong số bình duyệt chê là bài báo viết khó hiểu  người còn lại thì chả có comment gì và chỉ nói accept và cho điểm bình duyệt thấp </s> <s> kết quả cuối cùng bị reject lần  </s> <s> lần  nộp vào wads bị reject lần  </s> <s> nguyên nhân là format chỉ cho phép lề của bài viết ít nhất  </s> <s>  inch trong khi mình để  inch </s> <s> sau đó bị reject tiếp lần  vì kết quả không ấn tượng </s> <s> đó là cuối năm  còn mình thì đã post bài báo lên arxiv từ cách đó lâu rồi </s> <s> mãi đến lần  năm  mới được </s> <s> đúng  lần nộp trong vòng hơn  năm </s> <s> ph </s> <s> d </s> <s> life sucksquay trở lại chủ đề chính </s> <s> mình bắt đầu bài toán mở trên từ tháng  năm  cho đến lúc có kết quả là vừa tròn  năm </s> <s> như đã nói bài toán mình theo đuổi là về xấp xỉ tsp trong đồ thị minorfree </s> <s> giải thuật thì đã có sẵn chỉ là có phân tích được nó hay không </s> <s> phép phân tích yêu cầu chứng minh một kết quả trong lý thuyết spanner mà mình sẽ không nói ở đây nó là cái gì </s> <s> điểm chính ở đọa này đó là thay vì tập trung vào tsp mình chỉ cần tập trung vào các spanner là đủ </s> <s> mình bắt đầu từ việc tìm hiểu minorfree là gì và cấu trúc nó như thế nào </s> <s> không có cách nào khác là đọc công trình của robertson và seymour công trình đồ sộ  trang và được chia thành  bài báo viết trong vòng  năm bài đầu tiên từ năm  và bài cuốc cùng là năm  </s> <s> sau đó còn thêm một vài bài nữa nhưng về cơ bản đến bài số  là kết thúc </s> <s> rất may cấu trúc của đồ thị minorfree được mô tả từ bài  cho đến bài  tổng cộng hơn  trang </s> <s> ba tháng đọc ròng rã và mình dừng ở bài số  </s> <s> lúc đó cũng nắm khá rõ về cấu trúc đồ thị này </s> <s> nhìn lại thấy lúc đó trẻ trâu thật chứ giờ mà bảo đọc công trình nào đó tương tự kiểu này thì chắc cũng xin kiếu </s> <s> không đủ kiên nhẫn như hồi đó </s> <s> sau đó bắt đầu quay ra đọc kĩ hơn về các kết quả đã có trước cho bài toán này </s> <s> kết quả đầu tiên và duy nhất là của  giải quyết cho trường hợp đồ thị có bounded pathwidth </s> <s> mình không mô tả boundedpathwidth là đồ thị như thế nào nhưng về cơ bản nó chỉ là một lớp đồ thị rất nhỏ trong đồ thị minorfree </s> <s> tuy nhiên phần quan trọng nhất của bài báo thì lại được mô tả khá sơ sài và khó hiểu </s> <s> thách thức đầu tiên mà mình tự đặt ra là tự chứng minh lại kết quả của grigni và hung dựa trên ý tưởng của họ với hi vọng sẽ mở rộng được ý tưởng của họ </s> <s> sau khoảng  tháng thì mình đã tìm ra cách chứng minh mới và tại sao mình dùng từ tin rằng thì sẽ kể sau chi tiết khá thú vị mình đã mở rộng được ý tưởng đó cho đồ thị có độ rộng cây nhỏ bounded treewidth graphs </s> <s> lớp đồ thị này rộng hơn lớp đồ thị bounded pathwidth nhưng vẫn không là gì so với minorfree graphs </s> <s> câu hỏi tiếp theo là làm sao mở rộng ra cho minorfree graphs được </s> <s> lúc này sự hiểu biết về cấu trúc của đồ thị minorfree bắt đầu có tác dụng </s> <s> trong khoảng  tháng miệt mài mình tìm ra một cách quy đồ thị minorfree về đồ thị boundedtreewidth mà mình đã chứng minh tính chất của nó ở đoạn văn trước </s> <s> phép quy reduction sử dụng định lý robertson và seymour bingo bài toán đã xong và cuộc đời lại tươi đẹp </s> <s> ph </s> <s> d </s> <s> life không còn suck nữa </s> <s> lúc đó là đầu năm  </s> <s> việc còn lại là viết bài và nộp cho focs  </s> <s> viết trong khoảng  hay  tháng gì đó </s> <s> mọi thứ hình như có gì đó không đúng hơi suôn sẻ </s> <s> cuối cùng thì khó khăn thực sự lộ diện </s> <s> một tuần trước deadline ngồi duyệt lai paper một lần trước khi nộp phát hiện ra một lỗi logic rất cơ bản </s> <s> không hiểu sao mình lại có thể viết ra những thứ phi logic thế </s> <s> lỗi logic nằm ở chỗ mở rộng chứng minh của đồ thị bounded pathwidth ra đồ thị bounded treewidth giờ thì bạn đã hiểu tại sao mình dùng chữ ở trên </s> <s> còn đúng  tuần tập trung hết tốc lực để sửa </s> <s> cả tuần mất ăn mất ngủ </s> <s> cuối cùng thì đến ngày deadline mình vẫn không sửa nổi và rồi không nộp bài nữa có đúng đâu mà nộp </s> <s> ph </s> <s> d </s> <s> life sucks againrất may là advisor cực kì nice cho dù thất bại nhưng vẫn động viên mình rất nhiều </s> <s> sau vài tháng tiếp tục tìm cách sửa nhưng vẫn không có cách nào </s> <s> cuối cùng thì quyết định nộp kết quả phép quy mà mình phát hiện ra nếu đồ thị boundedtreewidth có light spanner thì đồ thị minorfree cũng có light spanenr </s> <s> còn đồ thị boundedtreewidth có tính light spanner hay không thì vẫn không xác định đươc vừa mới post bài báo lên arxiv cách đây vài ngày  </s> <s> mặc dù kết quả này đã giảm độ khó của bài toán ban đầu vì đồ thị bounded treewidth chỉ là lớp rất nhỏ của đồ thị minorfree nhưng nó vẫn không phải là một kết quả đây đủ theo đúng nghĩa </s> <s> nếu đồ thị bounded treewidth không có light spanner thì bài báo của mình chả có ý nghĩa gì </s> <s> do đó  lần nộp vào  hội nghị thì đều bị reject cả  với cùng một lí do mà mình vừa nói </s> <s> ph </s> <s> d </s> <s> life suckstrong  năm tiếp theo mình vẫn không bỏ cuộc tuần nào cũng nghĩ về nó một chút </s> <s> mình có làm thêm một số bài toán khác và cũng có kết quả </s> <s> nhưng  năm rồi vẫn không mò ra gì thêm cho bài toán chính của mình </s> <s> các kết quả spanner cho đồ thị tổng quát thì rất nhiều nhưng cho đồ thị minorfree thì lại không có mấy </s> <s> đến đầu năm  sau khi trở về từ internship mình và advisor bắt đầu liên hệ với  giáo sư của trường đại học copenhaghen đan mạch </s> <s> giáo sư christian là bạn của advisor mình và cũng đã publish vài bài cùng với advisor </s> <s> giáo sư christian cũng là chuyên gia về spanner </s> <s> năm  christian và đồng nghiệp đã được giải best paper award về spanner cho đồ thị tổng quát tại soda một trong  hội nghị hàng đầu về lý thuyết </s> <s> sự cộng tác này đã dẫn đến kết quả cuối cùng </s> <s> ph </s> <s> d </s> <s> life lại không suck nữanhững email trao đổi đầu tiên với christian chủ yếu về mô tả bài toán một số phương pháp tiếp cận và các kết quả ban đầu mà mình và advisor đã đạt được </s> <s> nhiệm vụ còn lại chỉ là chứng minh kết quả spanner cho đồ thị bounded treewidth </s> <s> sau khi đồng ý cộng tác mình và christian có họp trên skype vài lần </s> <s> nửa tháng đầu tiên nhóm mình khai triển một phương pháp khác cho đồ thị bounded treewidth nhưng rồi sau đó thấy rằng phương pháp đó không hiệu quả </s> <s> sau đó nhóm chuyển sang sử dụng phương pháp cũ của christian và đồng nghiệp trong bài báo đoạt giải best paper award </s> <s> cuối cùng thì phương pháp này lại cho ra lời giải đẹp </s> <s> không những giải quyết được trường hợp đồ thị bounded treewidth mà còn mở rộng ra được thành một chứng minh mới cho đồ thị minorfree </s> <s> mission is completed what an enjoyful journey ph </s> <s> d </s> <s> life lại đẹp </s> <s> bài báo đã được submit vào focs cách đây vài giờ </s> <s> mọi thứ giờ chỉ là đợi kết quả chuẩn bị cho lần nộp bài tiếp theo nếu bài báo bị reject </s> <s> cho dù kết quả hội nghị có thế nào vì mình cũng hài lòng vì it’s all about the journey not the destination mình không biết câu nói này của ai bạn nào biết thì comment xuống dưới hộ cái </s> <s> mình thật may mắn đã được cộng tác với advisor của mình và christian </s> <s> mình kết bài với câu nói nổi tiếng của pasteur luck favors the prepared mind </s> <s> lê việt hùng </s> <s> corvallis or </s> <s> ngày // ngôi sao lý thuyết mới nổi aviad rubinstein nhắc tới ở trên sẽ vào stanford làm assistant professor fall  </s> <s> </s> <s> paper đã được accept vào focs </s> <s> bản đã được up lên tại đây </s> <s>      trackback link powered by and </s> <s> heavylight decomposition </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/heavylightdecomposition </s> <s> </s> <s> </s> <s> </s> <s> tác giả nguyễn đình trí cường </s> <s> </s> <s> table of contents thuật toán phân tách cây cập nhật và truy vấn một đường đi trên cây độ phức tạp bài tập áp dụng tham khảo </s> <s> </s> <s> heavylight decomposition hld là kĩ thuật phân tách một cây thành nhiều chuỗi đỉnh chain rời nhau </s> <s> sau đó chúng ta có thể áp dụng các cấu trúc dữ liệu như interval tree hay binaryindexed tree lên những chuỗi này để có thể cập nhật dữ liệu hoặc trả lời các truy vấn trên một đường đi giữa  đỉnh trong cây </s> <s> </s> <s> </s> <s> thuật toán phân tách cây </s> <s> </s> <s> trước hết chúng ta có các định nghĩa như sau </s> <s> </s> <s> </s> <s> đỉnh con đặc biệt  heavy vertex  trong số những đỉnh con của một đỉnh u không phải là lá đỉnh đặc biệt v là gốc của cây con có kích thước lớn nhất </s> <s> </s> <s> cạnh đặc biệt  heavy edge  là cạnh nối giữa u và v với v là đỉnh đặc biệt và u là cha của v </s> <s> </s> <s> những đỉnh con còn lại của u gọi là đỉnh thường  light vertex  và những cạnh nối giữa u đến các đỉnh đó gọi là cạnh thường  light edge  </s> <s> </s> <s> </s> <s> </s> <s> dễ thấy là với mỗi đỉnh không phải là lá đều có thể chọn được đúng một cạnh và một đỉnh con đặc biệt của nó </s> <s> để tạo các chuỗi đỉnh chúng ta làm như sau bắt đầu từ đỉnh gốc di chuyển xuống đỉnh con đặc biệt của nó và tiếp tục di chuyển xuống các đỉnh con tiếp theo đến khi gặp đỉnh lá thì kết thúc </s> <s> đường đi từ đỉnh gốc đến đỉnh lá này tạo thành một chuỗi đỉnh </s> <s> chúng ta lại lặp lại thao tác này với các đỉnh còn lại đến khi tất cả các đỉnh đều thuộc đúng một chuỗi nào đó </s> <s> </s> <s> </s> <s> để cho dễ hiểu chúng ta có ví dụ sau </s> <s> </s> <s> </s> <s> </s> <s> từ đỉnh  di chuyển xuống đỉnh  </s> <s> đỉnh đặc biệt của đỉnh  là đỉnh  vì cây con có đỉnh  làm gốc có kích thước lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> từ đỉnh  di chuyển xuống đỉnh  vì cây con có gốc là đỉnh  có kích thước lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> từ đỉnh  di chuyển xuống đỉnh số  </s> <s> tại đây  cây con có gốc là đỉnh  và đỉnh  đều có kích thước như nhau nên ta có thể chọn bất kì đỉnh nào </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tiếp tục thực hiện cho đến khi gặp đỉnh lá </s> <s> như vậy là chúng ta đã có được một chuỗi đỉnh </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> chúng ta bắt đầu chuỗi mới ở một đỉnh gần nhất và lặp lại quá trình trên </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> cuối cùng chúng ta sẽ có một tập các chuỗi đỉnh rời nhau </s> <s> những cạnh được tô màu là cạnh đặc biệt và cạnh không được tô màu là cạnh thường </s> <s> </s> <s> </s> <s> </s> <s> // nchain chuỗi hiện tại </s> <s> sau khi kết thúc việc phân tách thì đây sẽ là tổng số chuỗi </s> <s> </s> <s> // chainheadc đỉnh đầu của chuỗi c </s> <s> // chainindu chuỗi mà đỉnh u nằm trong </s> <s> </s> <s> </s> <s> void hld  int u   </s> <s> </s> <s> // nếu chuỗi hiện tại chưa có đỉnh đầu đỉnh gần gốc nhất thì đặt u làm đỉnh đầu của nó </s> <s> </s> <s> if  chainhead  nchain     chainhead  nchain   u  </s> <s> </s> <s> // gán chuỗi hiện tại cho u </s> <s> chainind  u   nchain  </s> <s> </s> <s> // giải thích bên dưới </s> <s> posinbase  u    nbase  </s> <s> </s> <s> // biến lưu đỉnh con đặc biệt của u </s> <s> int mxvtx     </s> <s> </s> <s> // tìm đỉnh con đặc biệt trong số những đỉnh con của u </s> <s> for  int i    i lt adj  u  </s> <s> size  i    </s> <s> int v  adj  u  i  </s> <s> if  v  parent  u   </s> <s> if  mxvtx     nchild  v  gt nchild  mxvtx   </s> <s> mxvtx  v  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> // nếu tìm ra đỉnh con đặc biệt u không phải là đỉnh lá thì di chuyển đến đỉnh đó </s> <s> if  mxvtx gt    </s> <s> hld  mxvtx  </s> <s> </s> <s> // sau khi đi hết một chuỗi thì tăng nchain lên và bắt đầu một chuỗi mới </s> <s> for  int i    i lt adj  u  </s> <s> size  i    </s> <s> int v  adj  u  i  </s> <s> if  v  parent  u  ampamp v  mxvtx   </s> <s> nchain   </s> <s> hld  v  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> để có thể tiếp tục chúng ta cần biết ít nhất các thông tin sau </s> <s> </s> <s> </s> <s> với một chuỗi đỉnh đầu đỉnh gần đỉnh gốc nhất của nó là đỉnh nào </s> <s> </s> <s> với một đỉnh chuỗi mà nó nằm trong là chuỗi nào </s> <s> </s> <s> ngoài ra chúng ta còn có mảng posinbase </s> <s> đây là mảng lưu lại vị trí của các đỉnh sau khi chúng ta trải các chuỗi trên lên một đường thẳng </s> <s> điều này sẽ giúp cho việc cài đặt các cấu trúc dữ liệu như interval tree hoặc binary indexed tree một cách gọn gàng hơn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giả sử với hình trên thì posinbase    posinbase   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> cập nhật và truy vấn một đường đi trên cây </s> <s> </s> <s> thay vì cập nhật hoặc truy vấn một đường đi từ đỉnh u đến đỉnh v trên cây chúng ta có thể thực hiện các thao tác này trên  đường đi từ u đến lcau v và từ v đến lcau v lca là hàm tìm cha chung gần nhất của  đỉnh </s> <s> </s> <s> </s> <s> giả sử chúng ta cần cập nhật đường đi từ u đến lcau v gọi tắt là a </s> <s> nếu a và u không cùng một chuỗi chúng ta thực hiện thao tác cập nhật lên đường đi từ đỉnh u đến đỉnh đầu của chuỗi hiện tại </s> <s> sau đó cho u nhảy lên đỉnh cha của đỉnh đầu này rồi lặp lại thao tác cập nhật </s> <s> đến khi u và a nằm trên cùng một chuỗi chúng ta chỉ cần cập nhật đoạn từ u đến a và kết thúc </s> <s> thao tác truy vấn được thực hiện tương tự </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> chúng ta cần thực hiện cập nhật trên đường đi từ u   đến a   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> gọi hàm update interval tree cho đoạn từ đỉnh  đến đỉnh  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nhảy lên đỉnh cha của đỉnh đầu của chuỗi hiện tại </s> <s> lúc này u   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> gọi hàm update interval tree cho đoạn từ đỉnh  đến đỉnh  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nhảy lên đỉnh cha của đỉnh đầu của chuỗi hiện tại </s> <s> lúc này u   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> gọi hàm update interval tree cho đoạn từ đỉnh  đến đỉnh  và kết thúc </s> <s> </s> <s> </s> <s> void update  int u  int a   </s> <s> // uchain chuỗi hiện tại của u </s> <s> // achain chuỗi của a </s> <s> int uchain  chainind  u  achain  chainind  a  </s> <s> </s> <s> while     </s> <s> // nếu u và a cùng nằm trên một chuỗi thì update đoạn từ u đến a và kết thúc </s> <s> </s> <s> if  uchain  achain   </s> <s> updateintervaltree  </s> <s> </s> <s> </s> <s>  posinbase  a  posinbase  u  </s> <s> </s> <s> </s> <s>  </s> <s> break  </s> <s>  </s> <s> // nếu u và a không nằm trên cùng một chuỗi thì update đoạn từ u đến đỉnh đầu của chuỗi hiện tại </s> <s> </s> <s> updateintervaltree  </s> <s> </s> <s> </s> <s>  posinbase  chainhead  uchain  posinbase  u  </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> // nhảy lên đỉnh cha của đỉnh đầu hiện tại </s> <s> </s> <s> u  parent  chainhead  uchain  </s> <s> uchain  chainind  u  </s> <s>  </s> <s>  </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> với một cây có n đỉnh khi đi từ đỉnh gốc đến một đỉnh lá bằng một đường đi bất kì thì số lần chúng ta phải nhảy chuỗi sẽ không vượt quá logn </s> <s> để chứng minh điều này chúng ta có thể thấy rằng khi nhảy từ một đỉnh bất kì đến đỉnh con thường của nó thông qua cạnh thường thì số lượng đỉnh con có thể đi được sẽ giảm đi xuống còn tối đa một nửa so với ban đầu nếu số đỉnh con còn lại nhiều hơn một nửa số đỉnh ban đầu thì đỉnh chúng ta nhảy tới đã là đỉnh con đặc biệt </s> <s> và nếu chúng ta tiếp tục nhảy qua nhiều chuỗi mới thì số lượng đỉnh sẽ giảm theo bội của  </s> <s> bên cạnh đó chúng ta sử dụng cấu trúc dữ liệu đặc biệt cho việc cập nhật hoặc truy vấn thông tin các đỉnh trong cùng một chuỗi nên độ phức tạp của thao tác này cũng là ologn </s> <s> </s> <s> </s> <s> như vậy độ phức tạp của một thao tác cập nhật hoặc truy vấn một đường đi trên cây sẽ là ologn </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> hld có thể áp dụng để giải bài toán lca </s> <s> </s> <s> qtree </s> <s> qtree </s> <s> qtreex </s> <s> epictree </s> <s> </s> <s> </s> <s> tham khảo </s> <s> </s> <s> wcipeg </s> <s> </s> <s> blog anudeep </s> <s> </s> <s> </s> <s> mảng và danh sách liên kết </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/arrayvslinkedlists </s> <s> </s> <s> </s> <s> </s> <s> biến con trỏ </s> <s> </s> <s> cấu trúc dữ liệu đơn giản nhất chính là các biến variable </s> <s> chúng nắm giữ duy nhất một giá trị hơn nữa phạm vi sử dụng có giới hạn </s> <s> khi nhiều giá trị cần lưu trữ mảng arrays được sử dụng </s> <s> </s> <s> </s> <s> một khái niệm hơi khó hơn mặc dù không kém phần căn bản là con trỏ pointer </s> <s> con trỏ thay vì giữ một giá trị nó lại giữ một địa chỉ vùng nhớ </s> <s> </s> <s> </s> <s> </s> <s> trong hình trên </s> <s> </s> <s> </s> <s> </s> <s> var là một biến thông thường có địa chỉ  và giá trị  </s> <s> </s> <s> </s> <s> ptr là một biến kiểu con trỏ có địa chỉ  và giá trị  </s> <s> giá trị của ptr là địa chỉ của biến var </s> <s> </s> <s> </s> <s> </s> <s> mảng arrays </s> <s> </s> <s> mảng là một cấu trúc dữ liệu cực kỳ đơn giản và có thể xem như một danh sách với chiều dài cố định </s> <s> mảng là một cấu trúc dữ liệu “đẹp” bởi tính đơn giản của nó </s> <s> mảng đặc biệt thích hợp cho các tình huống mà ta biết trước được số lượng phần tử hoặc có thể xác định được khi chạy chương trình </s> <s> </s> <s> </s> <s> giả sử bạn cần một đoạn mã để tính giá trị trung bình của một vài con số </s> <s> mảng là sự lựa chọn tuyệt vời để giữ các giá trị bởi yêu cầu bài toán không đòi hỏi một thứ tự lưu trữ cụ thể và các phép tính toán cũng không đòi hỏi gì khác ngoài việc duyệt qua toàn bộ các phần tử </s> <s> </s> <s> </s> <s> một trong những sức mạnh khác của mảng chính là ta có thể truy cập các phần tử của mảng một cách ngẫu nhiên bằng chỉ số </s> <s> ví dụ như bạn có một danh sách gồm tên của các học sinh trong lớp học </s> <s> mỗi học sinh đánh số từ  đến n </s> <s> khi đó để đọc hoặc lưu tên học sinh thứ i bạn chỉ cần gọi tới studentnamei </s> <s> do các phần tử của mảng ở vị trí liên tiếp nhau trong bộ nhớ máy tính nên thao tác này chỉ mất độ phức tạp mathcalo </s> <s> tuy nhiên cũng vì lý do này nên việc tăng kích thước mảng hay thêm / xóa  phần tử vào vị trí bất kỳ của mảng có độ phức tạp mathcalon </s> <s> </s> <s> </s> <s> mảng có số lượng phần tử cố định mỗi phần tử giữ của mảng một thông tin và ở một vị trí không đổi đã được định nghĩa trước đó </s> <s> </s> <s> </s> <s> tổng kết </s> <s> </s> <s> </s> <s> bộ nhớ cố định cần biết trước số phần tử </s> <s> truy cập một vị trí bất kỳ mathcalo </s> <s> </s> <s> thêm / xóa một phần tử mathcalon </s> <s> </s> <s> </s> <s> </s> <s> mở rộng </s> <s> </s> <s> trong c stl có ctdl vector  được gọi là mảng động </s> <s> ctdl này cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> truy cập một vị trí bất kỳ mathcalo </s> <s> </s> <s> thêm / xóa  phần tử vào cuối mảng độ phức tạp trung bình mathcalo </s> <s> </s> <s> thêm / xóa một phần tử bất kỳ mathcalon </s> <s> </s> <s> </s> <s> </s> <s> để làm được điều này vector sử dụng kĩ thuật nhân đôi mảng </s> <s> </s> <s> </s> <s> mảng của ta sẽ có thể cấp phát bộ nhớ tối đa là  lần chiều dài thật số phần tử của mảng </s> <s> </s> <s> nếu mảng vẫn chưa đầy bộ nhớ cấp phát lớn hơn chiều dài thật của mảng ta chỉ cần đơn giản là thêm phần tử mới vào cuối mảng </s> <s> </s> <s> nếu mảng đầy ta làm như sau </s> <s> </s> <s> </s> <s> cấp phát bộ nhớ mới bằng  lần chiều dài mảng </s> <s> copy mảng cũ qua bộ nhớ mới cấp phát </s> <s> như vậy ta có mảng mới với dữ liệu giống với mảng cũ và còn dư ra chỗ trống ở cuối mảng mới </s> <s> </s> <s> thêm phần tử mới vào cuối mảng mới </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nếu ta thêm n phần tử vào cuối mảng thì độ phức tạp là </s> <s> </s> <s> </s> <s> mathcalo          </s> <s> </s> <s> </s> <s>  cho các thao tác cấp phát bộ nhớ </s> <s> mathcalo cho việc ghi phần tử mới vào phần bộ nhớ trống </s> <s> </s> <s> </s> <s> </s> <s> do đó độ phức tạp tổng không quá mathcalon và độ phức tạp trung bình của  thao tác là mathcalo </s> <s> </s> <s> </s> <s> danh sách liên kết linked lists </s> <s> </s> <s> danh sách liên kết là một cấu trúc dữ liệu có thể giữ một số lượng phần tử tùy ý và dễ dàng thay đổi kích thước cũng như dễ dàng bỏ đi các phần tử bên trong nó </s> <s> </s> <s> </s> <s> danh sách liên kết hiểu theo cách đơn giản nhất là một con trỏ trỏ tới một nút dữ liệu </s> <s> mỗi nút dữ liệu bao gồm dữ liệu cần chứa và một con trỏ trỏ tới nút tiếp theo </s> <s> tại điểm cuối cùng con trỏ trỏ tới giá trị null </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> với thiết kế như ban đầu một danh sách liên kết thích hợp để lưu trữ dữ liệu khi chưa biết trước được số lượng các phần tử hoặc các phần tử thường xuyên thay đổi </s> <s> tuy vậy chúng ta không thể truy cập một cách ngẫu nhiên các phần tử của danh sách liên kết </s> <s> để tìm kiếm một giá trị ta phải bắt đầu tại phần tử đầu tiên và duyệt tuần tự qua các phần tử cho tới khi bắt gặp được giá trị mà mình cần tìm kiếm </s> <s> để chèn một nút vào danh sách liên kết bạn cũng phải thực hiện tương tự </s> <s> độ phức tạp của cả  thao tác này là mathcalon </s> <s> tuy nhiên nếu ta biết được con trỏ trỏ đến phần tử cần xóa thì độ phức tạp chỉ là mathcalo </s> <s> dễ dàng nhận thấy thao tác tìm kiếm và chèn trong danh sách liên kết không thật sự hiệu quả </s> <s> </s> <s> </s> <s> sau đây là cài đặt kiểu dữ liệu danh sách liên kết thông thường </s> <s> </s> <s> struct listnode  </s> <s> int data  // dữ liệu được lưu ở nút của linked list </s> <s> listnode  nextnode  // con trỏ trỏ tới phần tử tiếp theo của linked list </s> <s> </s> <s>  </s> <s> listnode  firstnode  </s> <s> </s> <s> bạn có thể chèn một nút mới vào bằng cách chèn chúng vào đầu danh sách </s> <s> thao tác này có độ phức tạp là mathcalo </s> <s> </s> <s> </s> <s> listnode  newnode  new listnode  </s> <s> newnode gt nextnode  firstnode  </s> <s> firstnode  newnode  </s> <s> </s> <s> duyệt qua toàn bộ danh sách liên kết rất đơn giản như sau </s> <s> </s> <s> listnode  curnode  firstnode  </s> <s> while  curnode  null   </s> <s> cout ltlt curnode gt data ltlt endl  </s> <s> curnode  curnode gt nextnode  </s> <s>  </s> <s> </s> <s> ngoài ra ta cũng có thể lưu thêm con trỏ trỏ vào phần tử cuối của danh sách </s> <s> khi đó độ phức tạp để thêm  phần tử vào cuối danh sách là mathcalo </s> <s> </s> <s> </s> <s> tổng kết </s> <s> </s> <s> </s> <s> thêm / xóa  phần tử mới vào đầu / cuối mathcalo </s> <s> truy cập  phần tử ở vị trí bất kỳ mathcalon </s> <s> </s> <s> </s> <s> </s> <s> tài liệu tham khảo </s> <s> </s> <s> </s> <s> topcoder </s> <s> wikipedia </s> <s> </s> <s> </s> <s> </s> <s> public key cryptography </s> <s> http//vnoi </s> <s> info/wiki/cs/crypto/publickeycryptography </s> <s> </s> <s> </s> <s> </s> <s> tác giả  hoàng gia minh </s> <s> </s> <s> bài viết này nhằm giúp bạn đọc nắm được ý tưởng cơ bản của các hệ mã hóa khóa công khai  public key cryptography  và một số ứng dụng của chúng </s> <s> ngoài ra chúng ta cũng sẽ tìm hiểu về thuật toán mã hóa rsa một hệ mã hóa khóa công khai được sử dụng khá phổ biến hiện nay </s> <s> </s> <s> </s> <s> table of contents  </s> <s> một số khái niệm  </s> <s> lịch sử  </s> <s>  </s> <s> mã hóa khóa đối xứng symmetrickey cryptography  </s> <s>  </s> <s> mã hóa khóa công khai publickey cryptography  </s> <s> ứng dụng  </s> <s>  </s> <s> mã hóa công khai publickey encryption  </s> <s>  </s> <s> chữ ký điện tử digital signatures  </s> <s> rsa  </s> <s>  mã hóa  </s> <s>  </s> <s> giải mã  </s> <s>  </s> <s> sinh khóa key generation  </s> <s>  </s> <s> sample code  </s> <s> tham khảo </s> <s> </s> <s>  </s> <s> một số khái niệm </s> <s> </s> <s> mã hóa encryption quá trình chuyển đổi thông tin từ dạng thông thường có thể đọc được sang dạng không đọc được nếu không có khóa bí mật nhằm bảo mật thông tin </s> <s> </s> <s> </s> <s> giải mã decryption là quá trình ngược của mã hóa  chuyển đổi từ thông tin đã mã hóa về thông tin ban đầu </s> <s> </s> <s> </s> <s> khóa key một đoạn thông tin được sử dụng để mã hóa và/hoặc giải mã </s> <s> </s> <s> </s> <s>  </s> <s> lịch sử </s> <s> </s> <s>  </s> <s>  </s> <s> mã hóa khóa đối xứng  symmetrickey cryptography  </s> <s> </s> <s> cho đến trước năm  các phương pháp mã hóa đều là mã hóa đối xứng </s> <s> </s> <s> </s> <s> các hệ mã hóa đối xứng sử dụng cùng một khóa cho cả bên gửi lẫn bên nhận </s> <s> nói một cách chính xác hơn hai khóa này có thể </s> <s> </s> <s> </s> <s> giống nhau hoặc </s> <s> khác nhau nhưng có thể dễ dàng tìm ra được khóa còn lại nếu đã biết một khóa </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm của các phương pháp này là đơn giản tốc độ cao mang lại hiệu quả tốt nếu bạn không chia sẻ khóa của mình cho người khác </s> <s> tuy nhiên chúng lại có các nhược điểm sau </s> <s> </s> <s> </s> <s> để có thể trao đổi thông tin bí mật với nhau hai bên phải thống nhất với nhau trước về khóa bí mật </s> <s> bài toán đặt ra là làm sao có thể đảm bảo việc gửi khóa cho nhau là bí mật </s> <s> </s> <s> để đảm bảo trong  nhóm n người cần phải có  số lượng khóa khá lớn  fracnn khóa </s> <s> điều này dẫn đến một bài toán về việc lưu trữ phân phối một số lượng lớn khóa mà vẫn phải đảm bảo sự an toàn của chúng </s> <s> </s> <s> do bên gửi và nhận sử dụng chung khóa chúng ta không thể xác định được nguồn gốc của một thông điệp message </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> mã hóa khóa công khai  publickey cryptography  </s> <s> </s> <s> vào năm  william stanley jevons viết trong quyển the principles of science về mối liên hệ giữa các hàm một chiều và mật mã học </s> <s> đặc biệt ông đã đi sâu vào bài toán phân tích ra thừa số nguyên tố sau này được sử dụng trong thuật toán rsa </s> <s> </s> <s> </s> <s> </s> <s> liệu rằng bạn đọc có thể đoán được  số nguyên nào có tích bằng  tôi nghĩ rằng ngoài tôi ra thì không ai có thể biết kết quả được </s> <s> </s> <s> </s> <s> </s> <s> năm  whitfield diffie và martin hellman công bố bài báo new directions in cryptography  làm thay đổi căn bản về cách các hệ mật mã hoạt động </s> <s> bài báo đã đưa ra một hệ thống mã hóa bất đối xứng trong đó nêu ra phương pháp trao đổi khóa công khai giải quyết các hạn chế của mã đối xứng </s> <s> </s> <s> </s> <s> khác với mã đối xứng mã hóa khóa bất đối xứng sử dụng một cặp khóa khóa công khai  public key  và khóa bí mật  private key  </s> <s> hai khóa này được xây dựng sao cho từ một khóa rất khó có cách sinh ra được khóa còn lại </s> <s> một khóa sẽ dành để mã hóa khóa còn lại dùng để giải mã </s> <s> chỉ có người sở hữu nắm được khóa bí mật trong khi khóa công khai được phổ biến rộng rãi </s> <s> hình vẽ sau minh họa việc mã hóa và giải mã </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> ứng dụng </s> <s> </s> <s> mật mã hóa khóa công khai hay còn gọi là mã hóa bất đối xứng có  ứng dụng phổ biến sau </s> <s> </s> <s>  </s> <s>  </s> <s> mã hóa công khai  publickey encryption  </s> <s> </s> <s> một thông điệp được mã hóa bằng khóa công khai của người nhận </s> <s> thông điệp này chỉ có thể giải mã được bằng khóa bí mật mà chỉ người nhận có </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> chữ ký điện tử  digital signatures  </s> <s> </s> <s> chữ ký điện tử là thông tin đi kèm với dữ liệu nhằm mục đích xác định chủ sở hữu của dữ liệu đó </s> <s> </s> <s> </s> <s> một văn bản được ký bằng khóa bí mật của người gửi và có thể được xác nhận bới bất kỳ ai có khóa công khai của người gửi </s> <s> </s> <s> </s> <s> cụ thể hơn bên gửi sẽ tính ra mã hash h của văn bản sau đó dùng khóa bí mật để mã hóa h thành sigma rồi gửi cho bên nhận văn bản đó cùng với chữ ký sigma </s> <s> bên nhận thực hiện xác nhận như sau </s> <s> </s> <s> </s> <s> tính mã hash h của văn bản </s> <s> </s> <s> giải mã chữ ký sigma thành h bằng khóa công khai </s> <s> </s> <s> so sánh h và h nếu chúng bằng nhau thì quá trình xác thực thành công ngược lại quá trình xác thực thất bại </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> rsa </s> <s> </s> <s> rsa là một trong những phương pháp mã hóa khóa công khai đầu tiên được ứng dụng rộng rãi trong việc đảm bảo an toàn khi truyền thông tin </s> <s> sự bất đối xứng của hệ mã này được dựa trên quan sát là khó có thể phân tích ra thừa số nguyên tố của một số là tích của  số nguyên tố </s> <s> rsa được tạo thành bằng chữ cái đầu tiên của ron r ivest adi s hamir lenonard a dleman  người đầu tiên mô tả thuật toán vào năm  </s> <s> </s> <s> </s> <s> nguyên lý cơ bản của rsa dựa trên nhận định là có thể tìm được  số nguyên dương rất lớn e d và n mà </s> <s> </s> <s> med equiv m pmod n quad forall m </s> <s> </s> <s> và dù cho có biết cả e n hay cả m thì cũng rất khó để tìm ra d </s> <s> </s> <s> </s> <s> tiếp theo chúng ta sẽ đi sâu vào từng công đoạn của  hệ mã bao gồm việc mã hóa giải mã và sinh khóa </s> <s> </s> <s> </s> <s>  </s> <s>  mã hóa </s> <s> </s> <s> giả sử rằng bob muốn gửi mẫu tin m cho alice </s> <s> </s> <s> </s> <s> đầu tiên thông điệp m thành từng phần nhỏ mỗi phần biểu diễn bởi một số nguyên m sao cho  leq m lt n </s> <s> việc chuyển đổi này cần đảm bảo là ngẫu nhiên và m không nhận các giá trị không an toàn ví dụ như số  hay  nhưng vẫn đảm bảo là có thể suy ra m từ m </s> <s> tiếp theo bob tính ra bản mã hóa c sử dụng khóa công khai e của alice như sau </s> <s> </s> <s>  c equiv me pmod n  </s> <s> </s> <s> bob gửi c cho alice </s> <s> </s> <s> </s> <s> lưu ý rằng sao khi mã hóa chính bob cũng không thể giải mã được từ c thành m </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> giải mã </s> <s> </s> <s> alice tính lại ra m từ c dựa vào khóa bí mật d </s> <s> </s> <s>  cd equiv med equiv m pmod n  </s> <s> </s> <s> dựa vào m alice có thể khôi phục lại mẫu tin ban đầu m </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> sinh khóa key generation </s> <s> </s> <s> </s> <s> chọn  số nguyên tố khác nhau p và q </s> <s> </s> <s> tính n  p  q </s> <s> độ dài của n tính theo bit chính là độ dài của khóa </s> <s> hiện nay người ta khuyến cáo sử dụng khóa có độ dài tối thiếu  bit </s> <s> </s> <s> tính varphin  varphipvarphiq  p  q    n  p  q   </s> <s> trong đó varphin là phi hàm euler </s> <s> varphin  số lượng số nguyên dương nhỏ hơn n mà nguyên tố cùng nhau với n </s> <s> </s> <s> chọn một số nguyên e thỏa mãn  lt e lt varphin và gcde varphin   </s> <s> </s> <s> tính ra d equiv e pmodvarphin </s> <s> </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> để chứng minh tính đúng đắn của thuật toán sinh khóa trên ta cần chứng minh rằng med equiv m pmod n với n  pq </s> <s> </s> <s> </s> <s>  </s> <s> trường hợp gcdn m   </s> <s> </s> <s> ta có ed equiv  pmodvarphin </s> <s> </s> <s> do e và d nguyên dương nên ed    hvarphin với h là một số nguyên không âm </s> <s> </s> <s> </s> <s> do đó med  m  hvarphin  mmvarphinh </s> <s> </s> <s> </s> <s> theo định lý euler avarphin equiv  pmod n quad forall a n gcda n   nên mmvarphinh equiv mh equiv m pmod n </s> <s> </s> <s> </s> <s>  </s> <s> trường hợp gcdn m neq  </s> <s> </s> <s> theo định lý phần dư trung hoa chinese remainder theorem nếu p q nguyên tố cùng nhau thì </s> <s> </s> <s> x equiv y pmod p quad và quad x equiv y pmod q rightarrow x equiv y pmod pq </s> <s> </s> <s> </s> <s> do vậy ta cần chứng mình  mệnh đề sau </s> <s> </s> <s> </s> <s> med equiv m pmod p </s> <s> med equiv m pmod q </s> <s> </s> <s> </s> <s> vì gcdm n neq  rightarrow gcdm n  p quad hoặc quad gcdm n  q </s> <s> </s> <s> </s> <s> không mất tính tổng quát giả sử gcdm n  p </s> <s> ta có </s> <s> </s> <s> </s> <s> gcdm p  p  rightarrow m equiv  pmod p  rightarrow med equiv  equiv m pmod p </s> <s> gcdm q    rightarrow med equiv m pmod q </s> <s> chứng mình tương tự trong trường hợp  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> sample code </s> <s> </s> <s> /usr/bin/env python </s> <s>   coding utf  </s> <s> </s> <s> import random </s> <s> </s> <s> def isprime  n  </s> <s> return all  n  j  for j in range    int  n   </s> <s>      and n gt  </s> <s> </s> <s>  sinh ra số nguyên tố ngẫu nhiên trong left right mà khác exclude </s> <s> def randomprime  left  right  exclude     </s> <s> p  random </s> <s> randint  left  right    </s> <s> if isprime  p  and p  exclude  </s> <s> return p </s> <s> else  </s> <s> return randomprime  left  right    exclude  </s> <s> </s> <s>  thuật toán tìm nghịch đảo modulo </s> <s>  mmia n  x thỏa mãn ax mod n   </s> <s> mmi  lambda a  n  s    t    n     n lt  and t  n or mmi  n  a  n  t  s  a / n  t  n or n     n lt   </s> <s> </s> <s>  thuật toán sinh khóa </s> <s> def rsagenerate  </s> <s> p  randomprime      </s> <s> q  randomprime      p  </s> <s> n  p  q </s> <s> t   p      q    </s> <s> e  randomprime    t  </s> <s> d  mmi  e  t  </s> <s> </s> <s>  kết quả trả về bao gồm </s> <s>   khóa công khai n e </s> <s>   khóa bí mật n d </s> <s> return n  e  d </s> <s> </s> <s> def rsaencrypt  message  n  e  </s> <s> return pow  message  e  n  </s> <s> </s> <s> def rsadecrypt  encryptmessage  n  d  </s> <s> return pow  encryptmessage  d  n  </s> <s> </s> <s> </s> <s>  example </s> <s> n  e  d  rsagenerate  </s> <s> </s> <s> print n e d </s> <s> format  n  e  d  </s> <s> </s> <s> message  random </s> <s> randint    n    </s> <s> print original message  </s> <s> format  message  </s> <s> </s> <s> encryptedmessage  rsaencrypt  message  n  e  </s> <s> print encrypted message  </s> <s> format  encryptedmessage  </s> <s> </s> <s> decryptedmessage  rsadecrypt  encryptedmessage  n  d  </s> <s> print decrypted message  </s> <s> format  decryptedmessage  </s> <s> </s> <s>  </s> <s> tham khảo </s> <s> </s> <s> wiki  publickey cryptography </s> <s> </s> <s> wiki  rsa </s> <s> </s> <s> wiki  history of cryptography </s> <s> </s> <s> </s> <s> seam carving algorithm </s> <s> http//vnoi </s> <s> info/wiki/cs/imageprocessing/seamcarving </s> <s> </s> <s> </s> <s> </s> <s> bài viết gốc seam carving algorithm  k </s> <s> lykov blog </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> seam carving là một thuật toán dùng để thay đổi kích thước hình ảnh nó được giới thiệu trong bài báo cáo khoa học của s </s> <s> avidan amp a </s> <s> shamir </s> <s> trong bài báo việc thay đổi kích thước ảnh được thực hiện bằng cách loại bỏ đi các điểm ảnh ít quan trọng và giữ lại các điểm ảnh quan trọng </s> <s> bức ảnh dưới đây là minh họa điều này ảnh bên trên là ảnh gốc với kích thước x và ảnh bên dưới là ảnh sau khi áp dụng thuật toán seam carving đẻ thu nhỏ còn lại kích thước là x </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán này khá phổ biến nên có thể dễ dàng tìm thấy rất nhiều bài viết nói về nó </s> <s> tuy nhiên hầu hết đa số các tác giả đã không đọc bài báo cáo ban đầu và chỉ cung cấp cách cài đặt thuật toán khá cơ bản </s> <s> trong bài viết này tôi sẽ mô tả thuật toán đầy đủ các chi tiết như trong bài viết của avidan amp shamir dưới góc nhìn của một lập trình viên </s> <s> ở đây ta sẽ sử dụng matlab để cài đặt thuật toán </s> <s> phần chứng minh cụ thể các bạn xem ở phần tham khảo </s> <s> </s> <s> </s> <s> năng lượng energy </s> <s> </s> <s> để đơn giản bài viết này chỉ tập trung nói về việc làm giảm kích thước hình ảnh </s> <s> tuy nhiên việc làm tăng kích thước hình ảnh cũng có thể làm tương tự và sẽ được mô tả sơ qua ở phần sau </s> <s> ý tưởng chính của thuật toán là việc loại bỏ các nội dung có ít ý nghĩa đối với người sử dụng chứa ít thông tin </s> <s> ta gọi thông tin này là năng lượng energy </s> <s> vì vậy ta cần định nghĩa hàm năng lượng để tính năng lượng điểm ảnh từ các điểm ảnh của ảnh gốc </s> <s> ví dụ ở đây ta có thể tính năng lượng của ảnh thông qua đạo hàm của từng điểm ảnh theo các hướng </s> <s> </s> <s> eleft  fracdelta idelta x right   left  fracdelta idelta y right  </s> <s> </s> <s> </s> <s> nếu như ảnh có  kênh màu thì ta lấy tổng giá trị năng lượng của  kênh này lại với nhau </s> <s> đoạn code matlab dưới đây sẽ mô tả quá trình tính </s> <s> hàm imfilter được áp dụng cho các điểm ảnh được đánh dấu do đó kết quả là </s> <s> </s> <s> dii j/dx  iiii/dx với dx   </s> <s> </s> <s> </s> <s> tương tự cho dii j/dy </s> <s> </s> <s> dii j/dy  ijij/dy với dy   </s> <s> </s> <s> </s> <s> function res  energyrgb  i  </s> <s>  input ảnh màu  kênh màu </s> <s>  output một mảng  chiều thể hiện năng lượng của các điểm trong ảnh </s> <s> </s> <s>  e  di/dx  di/dy </s> <s>  vì ảnh có  kênh màu nên ta trả ra tổng năng lượng theo  kênh màu </s> <s> res  energygrey  i      energygrey  i      energygrey  i     </s> <s> </s> <s> function res  energygrey  i  </s> <s>  input ảnh đen trắng </s> <s>  output một mảng  chiều thể hiện năng lượng của các điểm trong ảnh </s> <s> </s> <s>  e  di/dx  di/dy </s> <s> res  abs  imfilter  i          replicate   abs  imfilter  i          replicate  </s> <s> end </s> <s> </s> <s> năng lượng thu được </s> <s> </s> <s> </s> <s> </s> <s> seam </s> <s> </s> <s> nếu chúng ta xóa đi các điểm ảnh có nặng lượng thấp nhất ở các vị trí ngẫu nhiên ta sẽ ra một hình ảnh méo mó </s> <s> nếu chúng ta xóa theo cột hoặc hàng với năng lượng tối thiểu ta sẽ nhận được một bức ảnh hoàn chỉnh được thu nhỏ kích thước lại </s> <s> ở đây cột j nghĩa là tập hợp i j với j cố định và một hàng i nghĩa là tập hợp i j với i cố định </s> <s> </s> <s> </s> <s> thuật toán seam carving xóa các hàng và cột tổng quát được gọi là đường seam </s> <s> cụ thể hơn gọi i là một bức ảnh có kích thước n  m một đường seam dọc là sxi  i xis </s> <s> t </s> <s> forall i xi  xi   leq  trong đó x </s> <s> </s> <s> n to  </s> <s> </s> <s> m </s> <s> nói một cách dễ hiểu hơn một đường seam dọc  vertical seam  là một đường đi từ biên trên của bức ảnh xuống biên dưới của bức ảnh với độ dài đường đi bằng chiều cao của bức ảnh và với mỗi phần vị trí i j của đường seam ta có thể đi tiếp đến các phần tử i   j   i   j i   j   </s> <s> tương tự ta cũng có thể định nghĩa cho đường seam ngang  horizontal seam  </s> <s> ví dụ về các đường màu đen là các đường seam trong hình dưới đây </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> chúng ta sẽ tìm kiếm một đường seam sao cho có tổng giá trị năng lượng là nhỏ nhất theo chiều chúng ta chọn s min limitss sumlimitsin eisi </s> <s> cách để tìm được kết quả tối ưu cho bài toàn là sử dụng phương pháp quy hoạch động </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tìm đường seam tối ưu từ biên trên của ảnh đến mỗi điểm ảnh i j </s> <s> </s> <s> </s> <s> </s> <s> gọi mi j là giá trị năng lượng nhỏ nhất đi từ biên trên của ảnh đến điểm ảnh i j </s> <s> </s> <s> m j  e j với ei j là năng lượng điểm ảnh tại i j </s> <s> </s> <s> mi j  minmi   j   mi   j mi   j    ei j </s> <s> </s> <s> </s> <s> </s> <s> ở biên dưới của ảnh ta tìm điểm đường seam tối ưu tổng giá trị năng lượng thấp nhất thông qua bảng phương án m và đi ngược về để tìm đường đi tối ưu </s> <s> </s> <s> </s> <s> </s> <s> lưu ý  trong đoạn code dưới đây trả về một ma trận n  m chỉ gồm  và  với các điểm ảnh trên đường đi seam sẽ có giá trị là  và ngược lại </s> <s> để tìm đường seam ngang ta chỉ cần chuyển vị ma trận năng lượng lại </s> <s> </s> <s> </s> <s> function  optseammask  seamenergy   findoptseam  energy  </s> <s>  input mảng  chiều là năng lượng của các điểm ảnh </s> <s>  output đường seam dọc tối ưu amp năng lượng </s> <s>  mảng optseammask gồm / với  thể hiện điểm đó thuộc đường seam </s> <s>  để tìm đường seam ngang tối ưu cho input là ma trận chuyển vị </s> <s> </s> <s>  tính mảng quy hoạch động m cho các đường seam dọc </s> <s> m  padarray  energy      realmax  double   m  mảng energy thêm  cột có giá trị cực đại ở đầu và cuối để tránh xử lý biên </s> <s> </s> <s> sz  size  m  </s> <s> for i    sz    </s> <s> for j     sz       </s> <s> neighbors   m  i    j    m  i    j  m  i    j    </s> <s> m  i  j   m  i  j   min  neighbors  </s> <s> end </s> <s> end </s> <s> </s> <s>  tìm phần tử nhỏ nhất hàng cuối </s> <s>  val  indj   min  m  sz     </s> <s> seamenergy  val  </s> <s> </s> <s> optseammask  zeros  size  energy  uint  </s> <s> </s> <s>  đi ngược lại và truy vết </s> <s> for i  sz         </s> <s>  optseami  indj   </s> <s> optseammask  i  indj         vì lúc đầu ta thêm một cột  vào bên trái </s> <s> neighbors   m  i    indj    m  i    indj  m  i    indj    </s> <s>  val  indincr   min  neighbors  </s> <s> </s> <s> seamenergy  seamenergy  val  </s> <s> </s> <s> indj  indj   indincr     x   gt </s> <s> end </s> <s> </s> <s> optseammask    indj         vì lúc đầu ta thêm một cột  vào bên trái </s> <s> optseammask  ~ optseammask  </s> <s> end </s> <s> </s> <s> tìm phương án tối ưu để xóa đường seam </s> <s> </s> <s> bây giờ ta có thể tính toán ra được đường seam và sử dụng đoạn code dưới đây ta có thể loại bỏ đường seam ra khỏi bức ảnh </s> <s> </s> <s> </s> <s> function imagereduced  reduceimagebymaskvertical  image  seammask  </s> <s>  input ảnh amp mask của đường seam </s> <s>  output ảnh sau khi xóa đường seam dọc </s> <s> imagereduced  zeros  size  image    size  image       size  image    </s> <s> for i    size  seammask    </s> <s> imagereduced  i      image  i  seammask  i     </s> <s> imagereduced  i      image  i  seammask  i     </s> <s> imagereduced  i      image  i  seammask  i     </s> <s> end </s> <s> end </s> <s> </s> <s> function imagereduced  reduceimagebymaskhorizontal  image  seammask  </s> <s>  input ảnh amp mask của đường seam </s> <s>  output ảnh sau khi xóa đường seam ngang </s> <s> imagereduced  zeros  size  image       size  image    size  image    </s> <s> for j    size  seammask    </s> <s> imagereduced  j     image  seammask  j  j    </s> <s> imagereduced  j     image  seammask  j  j    </s> <s> imagereduced  j     image  seammask  j  j    </s> <s> end </s> <s> end </s> <s> </s> <s> đây là một thuật toán hiệu quả để làm giám kích thước ảnh theo một chiều  chỉ cần việc tìm và xóa các đường seam nhiều lần như bạn cần </s> <s> nhưng nếu làm giảm kích thước theo cả hai chiều ta cần phải làm như thế nào làm sao để quyết định rằng ở mỗi lần lắp đưa ra quyết định là xóa theo dòng hay cột sẽ tốt hơn vấn đề này một lần nữa được giải quyết bằng quy hoạch động </s> <s> ta gọi ti j là giá trị năng lượng thấp nhất khi ta loại bỏ i đường seam theo chiều dọc và j đường seam theo chiều ngang </s> <s> cụ thể ti j  minti j  eseamvertical tij  eseamhorizontal </s> <s> trong đó eseamvertical là giá trị nhỏ nhất tối ưu đường seam dọc loại bỏ đi eseamhorizontal là giá trị nhỏ nhất tối ưu đường seam ngang loại bỏ đi </s> <s> </s> <s> ta sử dụng thêm một mảng transbitmaski j lưu truy vết đường đi cho bản phương án ti j </s> <s> transbitmaski j   bỏ đi đường seam dọc transbitmaski j   bỏ đi đường seam ngang </s> <s> nhìn một đoạn code giả dưới đây để có thể dễ hình dung </s> <s> </s> <s> </s> <s>  t    </s> <s>  khởi tạo t </s> <s> for all j  </s> <s> t j  t j    eseamvertical </s> <s>  </s> <s> for all i  </s> <s> ti   tj     eseamhorizontal </s> <s>  </s> <s>  initialize borders of transbitmask tbm </s> <s> for all j  tbm j    </s> <s> for all i  tbm i    </s> <s>  tính t và tbm </s> <s> for i   to r  </s> <s> imagewithoutrow  image </s> <s> for j   to c  </s> <s> energy  computeenergyimagewithoutrow </s> <s> </s> <s> horizontalseamenergy  findhorizontalseamenergyenergy </s> <s> verticalseamenergy  findverticalseamenergyenergy </s> <s> tvertical  ti   j  verticalseamenergy </s> <s> thorizontal  ti j    horizontalseamenergy </s> <s> if tvertical lt thorizontal  </s> <s> ti j  tvertical </s> <s> tbmi j   </s> <s>  else  </s> <s> ti j  thorizontal </s> <s> tbmi j   </s> <s>  </s> <s> // xóa đường seam dọc </s> <s> imagewithoutrow  removeverticalseamenergy </s> <s>  </s> <s> </s> <s> energy  computeenergyimage </s> <s> image  removehorizontalseamenergy </s> <s>  </s> <s> </s> <s>  truy vết theo t và tbm </s> <s> </s> <s> </s> <s> đoạn code bằng matlab </s> <s> chú ý ở pseduocode dùng zerobased index do matlab sử dụng onebased index nên cần phải đẩy index lên  đơn vị </s> <s> </s> <s> </s> <s> function  t  transbitmask   findtransportmatrix  sizereduction  image  </s> <s>  input kích thước cần giảm amp ảnh gốc </s> <s>  output t tbm định nghĩa ở trên </s> <s> </s> <s> t  zeros  sizereduction       sizereduction       double  </s> <s> transbitmask  ones  size  t      </s> <s> </s> <s>  khởi tạo ti  t i tbmi  tbm i </s> <s> imagenorow  image  </s> <s> for i    size  t    </s> <s>  tính năng lượng </s> <s> energy  energyrgb  imagenorow  </s> <s>  tìm đường seam ngang tối ưu </s> <s>  optseammask  seamenergyrow   findoptseam  energy   </s> <s>  xóa đường seam </s> <s> imagenorow  reduceimagebymask  imagenorow  optseammask    </s> <s> </s> <s>  tính t và tbm </s> <s> t  i     t  i       seamenergyrow  </s> <s> transbitmask  i       </s> <s> end  </s> <s> </s> <s> imagenocolumn  image  </s> <s> for j    size  t    </s> <s>  tính năng lượng </s> <s> energy  energyrgb  imagenocolumn  </s> <s>  tìm đường seam dọc </s> <s>  optseammask  seamenergycolumn   findoptseam  energy  </s> <s>  xóa đường seam dọc </s> <s> imagenocolumn  reduceimagebymask  imagenocolumn  optseammask    </s> <s> </s> <s>  tính tbm amp t </s> <s> transbitmask    j     </s> <s> t    j   t    j     seamenergycolumn  </s> <s> end  </s> <s> </s> <s>  xóa  hàng và  cột </s> <s> energy  energyrgb  image  </s> <s>  optseammask  seamenergyrow   findoptseam  energy   </s> <s> image  reduceimagebymask  image  optseammask    </s> <s> </s> <s> energy  energyrgb  image  </s> <s>  optseammask  seamenergycolumn   findoptseam  energy  </s> <s> image  reduceimagebymask  image  optseammask    </s> <s> </s> <s>  fill in internal part </s> <s> for i    size  t    </s> <s> </s> <s> imagewithoutrow  image   ta sẽ xóa  hàng của imagewithoutrow </s> <s> </s> <s> for j    size  t    </s> <s> energy  energyrgb  imagewithoutrow  </s> <s> </s> <s>  optseammaskrow  seamenergyrow   findoptseam  energy   </s> <s> imagenorow  reduceimagebymask  imagewithoutrow  optseammaskrow    </s> <s> </s> <s>  optseammaskcolumn  seamenergycolumn   findoptseam  energy  </s> <s> imagenocolumn  reduceimagebymask  imagewithoutrow  optseammaskcolumn    </s> <s> </s> <s> neighbors   t  i    j   seamenergyrow   t  i  j     seamenergycolumn  </s> <s>  val  ind   min  neighbors  </s> <s> </s> <s> t  i  j   val  </s> <s> transbitmask  i  j   ind    </s> <s> </s> <s>  ta xóa lần lượt từng cột </s> <s> imagewithoutrow  imagenocolumn  </s> <s> end  </s> <s> </s> <s> energy  energyrgb  image  </s> <s>  optseammaskrow  seamenergyrow   findoptseam  energy   </s> <s>  move from top to bottom </s> <s> image  reduceimagebymask  image  optseammaskrow    </s> <s> end  </s> <s> </s> <s> end </s> <s> </s> <s> phóng to hình ảnh </s> <s> </s> <s> để phóng to hình ảnh thay vì ta loại bỏ đường seam ra khỏi ảnh thì ta thêm một đường seam mới vào với giá trị trung bình của các điểm ảnh lận cận </s> <s> </s> <s> </s> <s> function imageenlarged  enlargeimagebymaskvertical  image  seammask  </s> <s>  input ảnh và đường seam </s> <s>  output ảnh đã được phóng to thêm  cột </s> <s> </s> <s> avg    image  i  j  k   image  i  j    k   image  i  j    k /   </s> <s> </s> <s> imageenlarged  zeros  size  image    size  image       size  image    </s> <s> for i    size  seammask    </s> <s> j  find  seammask  i   ~   </s> <s> imageenlarged  i       image  i    j    avg  image  i  j    image  i  j    end    </s> <s> imageenlarged  i       image  i    j    avg  image  i  j    image  i  j    end    </s> <s> imageenlarged  i       image  i    j    avg  image  i  j    image  i  j    end    </s> <s> end  </s> <s> end </s> <s> </s> <s> function imageenlarged  enlargeimagebymaskhorizontal  image  seammask  </s> <s>  input ảnh và đường seam </s> <s>  output ảnh đã được phóng to thêm  hàng </s> <s> </s> <s> avg    image  i  j  k   image  i    j  k   image  i    j  k /   </s> <s> </s> <s> imageenlarged  zeros  size  image       size  image    size  image    </s> <s> for j    size  seammask    </s> <s> i  find  seammask  j  ~   </s> <s> imageenlarged  j      image    i  j    avg  image  i  j    image  i    end  j    </s> <s> imageenlarged  j      image    i  j    avg  image  i  j    image  i    end  j    </s> <s> imageenlarged  j      image    i  j    avg  image  i  j    image  i    end  j    </s> <s> end  </s> <s> end </s> <s> </s> <s> source code </s> <s> </s> <s> dưới đây là toàn bộ code của tác giả giữ nguyên lại comment gốc bằng tiếng anh </s> <s> </s> <s>  c copyright kirill lykov  </s> <s> </s> <s>  </s> <s>  distributed under the freebsd software license see accompanying file license </s> <s> txt </s> <s> </s> <s> function image  seamcarving  newsize  image  </s> <s>  apply seam carving to the image </s> <s>  following paper by avidan and shamir  </s> <s> sizereductionx  size  image     newsize    </s> <s> sizereductiony  size  image     newsize    </s> <s> </s> <s> mmax    left  right  max  left right  </s> <s> </s> <s> image  seamcarvingreduce  mmax    sizereductionx  mmax    sizereductiony  image  </s> <s> </s> <s> image  seamcarvingenlarge  mmax     sizereductionx  mmax     sizereductiony  image  </s> <s> end </s> <s> </s> <s> function image  seamcarvingreduce  sizereduction  image  </s> <s> if  sizereduction    </s> <s> return  </s> <s> end  </s> <s>  t  transbitmask   findtransportmatrix  sizereduction  image  </s> <s> image  addordeleteseams  transbitmask  sizereduction  image   reduceimagebymask  </s> <s> end </s> <s> </s> <s>  todo bug enlarge gives artifacts althout i chouse different seams as described </s> <s>  in  </s> <s>  in the paper </s> <s> function image  seamcarvingenlarge  sizeenlarge  image  </s> <s> if  sizeenlarge    </s> <s> return  </s> <s> end  </s> <s>  t  transbitmask   findtransportmatrix  sizeenlarge  image  </s> <s> image  addordeleteseams  transbitmask  sizeenlarge  image   enlargeimagebymask  </s> <s> end </s> <s> </s> <s> function  t  transbitmask   findtransportmatrix  sizereduction  image  </s> <s>  find optimal order of removing raws and columns </s> <s> </s> <s> t  zeros  sizereduction       sizereduction       double  </s> <s> transbitmask  ones  size  t      </s> <s> </s> <s>  fill in borders </s> <s> imagenorow  image  </s> <s> for i    size  t    </s> <s> energy  energyrgb  imagenorow  </s> <s>  optseammask  seamenergyrow   findoptseam  energy   </s> <s> imagenorow  reduceimagebymask  imagenorow  optseammask    </s> <s> transbitmask  i       </s> <s> </s> <s> t  i     t  i       seamenergyrow  </s> <s> end  </s> <s> </s> <s> imagenocolumn  image  </s> <s> for j    size  t    </s> <s> energy  energyrgb  imagenocolumn  </s> <s>  optseammask  seamenergycolumn   findoptseam  energy  </s> <s> imagenocolumn  reduceimagebymask  imagenocolumn  optseammask    </s> <s> transbitmask    j     </s> <s> </s> <s> t    j   t    j     seamenergycolumn  </s> <s> end  </s> <s> </s> <s>  on the borders just remove one column and one row before proceeding </s> <s> energy  energyrgb  image  </s> <s>  optseammask  seamenergyrow   findoptseam  energy   </s> <s> image  reduceimagebymask  image  optseammask    </s> <s> </s> <s> energy  energyrgb  image  </s> <s>  optseammask  seamenergycolumn   findoptseam  energy  </s> <s> image  reduceimagebymask  image  optseammask    </s> <s> </s> <s>  fill in internal part </s> <s> for i    size  t    </s> <s> </s> <s> imagewithoutrow  image   copy for deleting columns </s> <s> </s> <s> for j    size  t    </s> <s> energy  energyrgb  imagewithoutrow  </s> <s> </s> <s>  optseammaskrow  seamenergyrow   findoptseam  energy   </s> <s> imagenorow  reduceimagebymask  imagewithoutrow  optseammaskrow    </s> <s> </s> <s>  optseammaskcolumn  seamenergycolumn   findoptseam  energy  </s> <s> imagenocolumn  reduceimagebymask  imagewithoutrow  optseammaskcolumn    </s> <s> </s> <s> neighbors   t  i    j   seamenergyrow   t  i  j     seamenergycolumn  </s> <s>  val  ind   min  neighbors  </s> <s> </s> <s> t  i  j   val  </s> <s> transbitmask  i  j   ind    </s> <s> </s> <s>  move from left to right </s> <s> imagewithoutrow  imagenocolumn  </s> <s> end  </s> <s> </s> <s> energy  energyrgb  image  </s> <s>  optseammaskrow  seamenergyrow   findoptseam  energy   </s> <s>  move from top to bottom </s> <s> image  reduceimagebymask  image  optseammaskrow    </s> <s> end  </s> <s> </s> <s> end </s> <s> </s> <s> function image  addordeleteseams  transbitmask  sizereduction  image  operation  </s> <s>  delete seams following optimal way </s> <s> i  size  transbitmask    </s> <s> j  size  transbitmask    </s> <s> </s> <s> for it     sizereduction     sizereduction    </s> <s> </s> <s> energy  energyrgb  image  </s> <s> if  transbitmask  i  j     </s> <s>  optseammask  seamenergyraw   findoptseam  energy   </s> <s> image  operation  image  optseammask    </s> <s> i  i    </s> <s> else </s> <s>  optseammask  seamenergycolumn   findoptseam  energy  </s> <s> image  operation  image  optseammask    </s> <s> j  j    </s> <s> end  </s> <s> </s> <s> end  </s> <s> end </s> <s> </s> <s> function  optseammask  seamenergy   findoptseam  energy  </s> <s>  following paper by avidan and shamir ` </s> <s>  finds optimal seam </s> <s>  returns mask with  mean a pixel is in the seam </s> <s> </s> <s>  find m for vertical seams </s> <s>  for vertical  use i` </s> <s> m  padarray  energy      realmax  double   to avoid handling border elements </s> <s> </s> <s> sz  size  m  </s> <s> for i    sz    </s> <s> for j     sz       </s> <s> neighbors   m  i    j    m  i    j  m  i    j    </s> <s> m  i  j   m  i  j   min  neighbors  </s> <s> end </s> <s> end </s> <s> </s> <s>  find the min element in the last raw </s> <s>  val  indj   min  m  sz     </s> <s> seamenergy  val  </s> <s> </s> <s> optseam  zerossz  int </s> <s> optseammask  zeros  size  energy  uint  </s> <s> </s> <s> indj  indj    because of padding on  element from left </s> <s> </s> <s> go backward and save i j </s> <s> for i  sz         </s> <s> optseami  indj   </s> <s> optseammask  i  indj         because of padding on  element from left </s> <s> neighbors   m  i    indj    m  i    indj  m  i    indj    </s> <s>  val  indincr   min  neighbors  </s> <s> </s> <s> seamenergy  seamenergy  val  </s> <s> </s> <s> indj  indj   indincr     x   gt </s> <s> end </s> <s> optseam  indj  to avoid if in loop becuase matlab is slow as hell </s> <s> </s> <s> optseammask    indj         because of padding on  element from left </s> <s> optseammask  ~ optseammask  </s> <s> </s> <s> end </s> <s> </s> <s> function imagereduced  reduceimagebymask  image  seammask  isverical  </s> <s>  removes pixels by input mask </s> <s>  removes vertical line if isverical   otherwise horizontal </s> <s> if  isverical  </s> <s> imagereduced  reduceimagebymaskvertical  image  seammask  </s> <s> else </s> <s> imagereduced  reduceimagebymaskhorizontal  image  seammask   </s> <s> end  </s> <s> end </s> <s> </s> <s>  could not find a more elegant way to do it </s> <s> function imagereduced  reduceimagebymaskvertical  image  seammask  </s> <s> imagereduced  zeros  size  image    size  image       size  image    </s> <s> for i    size  seammask    </s> <s> imagereduced  i      image  i  seammask  i     </s> <s> imagereduced  i      image  i  seammask  i     </s> <s> imagereduced  i      image  i  seammask  i     </s> <s> end </s> <s> end </s> <s> </s> <s> function imagereduced  reduceimagebymaskhorizontal  image  seammask  </s> <s> imagereduced  zeros  size  image       size  image    size  image    </s> <s> for j    size  seammask    </s> <s> imagereduced  j     image  seammask  j  j    </s> <s> imagereduced  j     image  seammask  j  j    </s> <s> imagereduced  j     image  seammask  j  j    </s> <s> end </s> <s> end </s> <s> </s> <s> function imageenlarged  enlargeimagebymask  image  seammask  isverical  </s> <s>  removes pixels by input mask </s> <s>  removes vertical line if isverical   otherwise horizontal </s> <s> if  isverical  </s> <s> imageenlarged  enlargeimagebymaskvertical  image  seammask  </s> <s> else </s> <s> imageenlarged  enlargeimagebymaskhorizontal  image  seammask   </s> <s> end  </s> <s> end </s> <s> </s> <s> function imageenlarged  enlargeimagebymaskvertical  image  seammask  </s> <s> </s> <s> avg    image  i  j  k   image  i  j    k   image  i  j    k /   </s> <s> </s> <s> imageenlarged  zeros  size  image    size  image       size  image    </s> <s> for i    size  seammask    </s> <s> j  find  seammask  i   ~   </s> <s> imageenlarged  i       image  i    j    avg  image  i  j    image  i  j    end    </s> <s> imageenlarged  i       image  i    j    avg  image  i  j    image  i  j    end    </s> <s> imageenlarged  i       image  i    j    avg  image  i  j    image  i  j    end    </s> <s> end  </s> <s> end </s> <s> </s> <s> function imageenlarged  enlargeimagebymaskhorizontal  image  seammask  </s> <s> </s> <s> avg    image  i  j  k   image  i    j  k   image  i    j  k /   </s> <s> </s> <s> imageenlarged  zeros  size  image       size  image    size  image    </s> <s> for j    size  seammask    </s> <s> i  find  seammask  j  ~   </s> <s> imageenlarged  j      image    i  j    avg  image  i  j    image  i    end  j    </s> <s> imageenlarged  j      image    i  j    avg  image  i  j    image  i    end  j    </s> <s> imageenlarged  j      image    i  j    avg  image  i  j    image  i    end  j    </s> <s> end  </s> <s> end </s> <s> </s> <s> function res  energyrgb  i  </s> <s>  returns energy of all pixelels </s> <s>  e  di/dx  di/dy </s> <s> res  energygrey  i      energygrey  i      energygrey  i     </s> <s> end </s> <s> </s> <s> function res  energygrey  i  </s> <s>  returns energy of all pixelels </s> <s>  e  di/dx  di/dy </s> <s> res  abs  imfilter  i          replicate   abs  imfilter  i          replicate  </s> <s> end </s> <s> </s> <s> tham khảo </s> <s> </s> <s> wikipedia </s> <s> </s> <s> seam carving for contentaware image scaling </s> <s> </s> <s> https//jeremykun </s> <s> com////seamcarvingforcontentawareimagescaling/ </s> <s> </s> <s> http//kirilllykov </s> <s> github </s> <s> io/blog////seamcarvingalgorithm/ </s> <s> </s> <s> </s> <s> machine learning  classification  phần  </s> <s> http//vnoi </s> <s> info/wiki/translate/ml/machinelearningclassificationphan </s> <s> </s> <s> </s> <s> </s> <s> nguồn achoums blog </s> <s> </s> <s> trong hai bài viết trước  phần   và  phần   chúng ta đã cùng tìm hiểu về classification </s> <s> chúng ta cũng đã làm quen với một thuật toán rất nổi tiếng gọi là knearest neighbors </s> <s> nếu có thời gian bạn nên đọc các bài viết đó để có thể hiểu cặn kẽ những nội dung trong bài viết này bài viết cuối cùng trong chuỗi bài giới thiệu về classification </s> <s> </s> <s> </s> <s> thuật toán knearest neighbors mà chúng ta tìm hiểu ở bài viết trước là một thuật toán được sử dụng rất rộng rãi </s> <s> tuy nhiên nó cũng là một thuật toán rất cũ </s> <s> cho đến thời điểm này các nhà nghiên cứu đã và đang phát triển những thuật toán phức tạp và mạnh mẽ hơn nhiều </s> <s> thuật toán tiếp theo mà tác giả muốn giới thiệu với các bạn được gọi là random forest </s> <s> đây là một thuật toán mới xuất hiện tầm  năm trước và được coi là một cuộc cách mạng trong machine learning </s> <s> random forest chỉ phức tạp hơn một chút so với knearest neighbors  nhưng nó hiệu quả hơn nhiều nếu xét trên hiệu năng tính toán của máy tính </s> <s> bên cạnh đó random forest còn cho kết quả chính xác hơn nhiều so với knearest neighbors </s> <s> nghĩa là khi các nhà nghiên cứu kiểm thử kết quả của hai thuật toán này trên các bộ dữ liệu khác nhau bao gồm cả the iris dataset  random forest thường cho kết quả đúng hơn so với knearest neighbors </s> <s> </s> <s> một trong những lí do khiến random forest hiệu quả hơn so với knearest neigbors là bởi vì với knearest neighbors  tất cả các thuộc tính đều có mức độ quan trọng như nhau </s> <s> mặt khác random forest có khả năng tìm ra thuộc tính nào quan trọng hơn so với những thuộc tính khác </s> <s> trên thực tế nó còn có thể chỉ ra rằng một số thuộc tính là hoàn toàn vô dụng </s> <s> </s> <s> </s> <s> random forest là một thành viên trong họ thuật toán decision tree cây quyết định </s> <s> vậy cây quyết định là gì một cây quyết định là một cách đơn giản để biểu diễn một giao thức  protocol  </s> <s> nói cách khác cây quyết định biểu diễn một kế hoạch trả lời câu hỏi phải làm gì trong một hoàn cảnh nhất định </s> <s> ví dụ cây quyết định được sử dụng trong tổng đài điện thoại để quyết định xem tổng đài viên sẽ trả lời như thế nào dựa trên phản hồi của khách hàng </s> <s> nó cũng được sử dụng trong hệ điều hành của bất kì cỗ máy nào mà bạn có thể tưởng tượng tàu ngầm bom nguyên tử </s> <s> </s> <s> </s> <s>  hay đơn giản cây quyết định được các bác sĩ sử dụng để chẩn đoán bệnh </s> <s> </s> <s> </s> <s> hãy trở lại câu chuyện của chúng ta với một ví dụ đơn giản </s> <s> hình ảnh phía dưới minh hoạ một cây quyết định để xác định chủng loại của một con vật </s> <s> để đơn giản chúng ta sẽ chỉ xét một vài chủng loại động vật mà thôi </s> <s> giả sử ta có một con vật hãy thử dùng cây quyết định này để tìm ra chủng loại của nó </s> <s> </s> <s> </s> <s> đường đi bắt đầu từ câu hỏi đầu tiên ở phía trên của cây bên dưới vòng tròn đỏ </s> <s> trả lời câu hỏi đó và đi tiếp xuống các nút phía dưới của cây tuỳ thuộc vào câu trả lời có/không với câu hỏi đầu tiên </s> <s> lặp lại hành động đó cho đến khi đi tới nút lá các út màu xanh lá cây </s> <s> khi đó bạn sẽ có câu trả lời </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> chú thích trên hình bị sai cm thay vì kg </s> <s> </s> <s> ví dụ bạn bắt gặp một con vật mà bạn không biết nó thuộc chủng loại gì </s> <s> câu hỏi đầu tiên là nó có lông không </s> <s> giả sử nó có lông chúng ta đi tiếp sang nhánh bên phải </s> <s> câu hỏi tiếp theo là nó cao bao nhiêu </s> <s> giả sử con vật của chúng ta chỉ cao cm </s> <s> điều này có nghĩa là chúng ta sẽ đi theo nhánh bên trái </s> <s> khi đó vì chúng ta đã đi đến nút lá chúng ta biết rằng con vật mà mình đang xét chính là con gà </s> <s> </s> <s> </s> <s> bây giờ chắc bạn đã hiểu phần nào về cây quyết định hãy trở lại với thuật toán random forest  ý tưởng phía sau random forest khá đơn giản </s> <s> thuật toán này sinh một số cây quyết định thường là vài trăm và sử dụng chúng </s> <s> các câu hỏi của cây quyết định sẽ là câu hỏi về các thuộc tính </s> <s> ví dụ cánh hoa có dài hơn  </s> <s> cm hay không </s> <s> câu giá trị ở nút lá sẽ là các lớp  class  </s> <s> sử dụng hàng trăm cây quyết định là bất khả thi với con người nhưng máy tính có thể làm việc này tương đối dễ dàng </s> <s> </s> <s> </s> <s> đến lúc này chúng ta đã tìm hiểu cách sử dụng một cây quyết định nhưng vấn đề là làm thế nào để tạo ra nó </s> <s> </s> <s> </s> <s> có hai giải pháp </s> <s> cách thứ nhất là hỏi chuyên gia ví dụ như một nhà nhân chủng học với bài toán phân biệt chủng loại của con vật </s> <s> nghe có vẻ hấp dẫn nhưng không phải khi nào bạn cũng có thể tiếp cận được với chuyên gia trong bài toán của mình </s> <s> hơn nữa bạn có thể sẽ ngạc nhiên rằng ngay cả những chuyên gia giỏi nhất cũng gặp khó khăn trong việc viết ra những kiến thức của mình </s> <s> ngay cả khi bạn tìm được một chuyên gia có khả năng đó thì chắc chắn sẽ có những thứ mà họ không biết tới </s> <s> ví dụ nhà nhân chủng học của chúng ta có thể quên mất rằng con đà điểu có thể nhỏ hơn kg </s> <s> </s> <s> </s> <s> thay vì sử dụng chuyên gia các nhà nghiên cứu sử dụng phương án thứ hai tạo ra một thuật toán tự sinh cây quyết định </s> <s> điều kiện duy nhất là phải có vài ví dụ để máy tính có thể tham chiếu </s> <s> trong iris dataset  những ví dụ này chính là những bông hoa mà chúng ta đã biết chủng loại </s> <s> </s> <s> </s> <s> để tạo ra một cây quyết định thuật toán random forest luôn bắt đầu bằng một cây rỗng </s> <s> một cây quyết định rỗng chỉ có một ô start chỉ thẳng đến câu trả lời ô xanh lá </s> <s> tiếp theo thuật toán sẽ tìm câu hỏi đầu tiên và bắt đầu xây dựng cây quyết định trong ví dụ trước câu hỏi đó là nó có lông không </s> <s> mỗi lần thuật toán tìm được thêm một câu hỏi nó tạo hai nhánh trên cây quyết định </s> <s> khi không còn câu hỏi nào nữa thuật toán dừng lại và chúng ta có một cây quyết định hoàn chỉnh </s> <s> </s> <s> </s> <s> làm thế nào để tìm ra những câu hỏi tốt nhất cho cây quyết định đây là một bước khá phức tạp nhưng ý tưởng đằng sau nó tương đối đơn giản ở thời điểm bắt đầu thuật toán của chúng ta chưa biết phân biệt các chủng loại của các con vật </s> <s> nói cách khác tất cả các con vật được cho chung vào một cái túi </s> <s> để tìm ra câu hỏi tốt nhất thuật toán thử đưa ra tất cả các câu hỏi có thể có khi là hàng triệu câu hỏi </s> <s> ví dụ nó có bao nhiêu chân nó có đuôi không </s> <s> </s> <s> </s> <s> sau đó với mỗi câu hỏi thuật toán sẽ đánh giá mức độ hiệu quả mà câu hỏi này giúp phân biệt các chủng loại hay các class </s> <s> câu hỏi được chọn không cần thiết phải hoàn hảo nhưng nó phải tốt hơn những câu hỏi khác </s> <s> để tính toán mức độ hiệu quả của câu hỏi chúng ta sử dụng một độ đo có tên là information gain </s> <s> chúng ta sẽ không bàn chi tiết về độ đo này có thể hiểu nôm na nó như một cách để cho điểm các câu hỏi </s> <s> câu hỏi với information gain lớn nhất sẽ được chọn như là câu hỏi tốt nhất để xây dựng cây quyết định </s> <s> </s> <s> </s> <s> hình ảnh phía dưới minh hoạ  bước để tạo một cây quyết định đơn giản </s> <s> quá trình này sẽ được lặp lại cho tất cả các cây </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sau khi thuật toán xây dựng xong các cây quyết định những cây này sẽ được sử dụng để trả lời câu hỏi hay phân loại </s> <s> trong bài toán về hoa diên vĩ thuật toán sẽ trả lời câu hỏi chủng loại của bông hoa bí ẩn là gì </s> <s> </s> <s> </s> <s> nếu bạn theo dõi sát sao bài viết này có thể bạn sẽ thấy một chút mâu thuẫn chúng tôi nói với bạn rằng thuật toán random forest xây dựng nhiều cây quyết định </s> <s> tuy nhiên chúng tôi mới chỉ giải thích cách dựng một cây quyết định mà thôi </s> <s> </s> <s> </s> <s> random forest coi mỗi cây quyết định như một cử tri bỏ phiếu độc lập như một cuộc bầu cử thực sự </s> <s> ở cuối cuộc bầu cử câu trả lời nhận được nhiều bầu chọn nhất từ các cây quyết định sẽ được lựa chọn </s> <s> </s> <s> </s> <s> tuy nhiên vẫn còn một vấn đề nếu như tất cả các cây được dựng theo cùng một cách chúng sẽ cho những câu trả lời giống nhau </s> <s> như vậy chẳng khác gì chúng ta chỉ sử dụng một cây quyết định duy nhất cả </s> <s> ở đây random forest có một cách làm rất hay để chắc chắn rằng không phải tất cả các cây quyết định cho cùng câu trả lời thuật toán random forest chọn ngẫu nhiên các quan sát observations </s> <s> chính xác hơn random forest sẽ xoá một số quan sát và lặp lại một số khác một cách ngẫu nhiên </s> <s> xét toàn cục những quan sát này vẫn rất gần với tập các quan sát ban đầu nhưng những thay đổi nhỏ sẽ đảm bảo rằng mỗi cây quyết định sẽ có một chút khác biệt </s> <s> quá trình này gọi là bootstrapping </s> <s> </s> <s> thêm vào đó để thực sự chắc chắn các cây quyết định là khác nhau thuật toán random forest sẽ ngẫu nhiên bỏ qua một số câu hỏi khi xây dựng cây quyết định </s> <s> trong trường hợp này nếu câu hỏi tốt nhất không được chọn một câu hỏi kế tiếp sẽ được lựa chọn để dựng cây </s> <s> quá trình này được gọi là attribute sampling </s> <s> </s> <s> chắc rằng các bạn rất thắc mắc tại sao người ta lại tạo ra một thuật toán phức tạp như vậy ngẫu nhiên thay đổi các quan sát và bỏ qua một số câu hỏi </s> <s> câu trả lời rất đơn giản có thể các mẫu thử mà chúng ta đang sử dụng chưa hoàn hảo </s> <s> ví dụ có thể mẫu thử của chúng ta chỉ có những con mèo có lông đuôi </s> <s> trong trường hợp này những con mèo thuộc loài sphynx mèo không lông có thể được phân loại là con chuột </s> <s> tuy nhiên nếu câu hỏi về đuôi không được hỏi bởi vì sự thay đổi ngẫu nhiên thuật toán có thể sử dụng câu hỏi các câu hỏi khác ví dụ con vật đó có kích thước như thế nào </s> <s> việc có nhiều câu hỏi đa dạng có thể không hoàn hảo là một ý tưởng không tồi nó có thể là cứu tinh khi thuật toán tham chiếu đến một quan sát mà nó chưa từng thấy trước đây </s> <s> </s> <s> </s> <s> và đó là tất cả những gì bạn cần biết về random forest </s> <s> </s> <s> </s> <s> đây là bài viết cuối cùng trong chuỗi ba bài viết về classification trong machine learning </s> <s> hi vọng bạn đã có được những hiểu biết ban đầu về bài toán phân loại và quen thuộc với các khái niệm quan sát observations hay thuộc tính attributes </s> <s> chúng tôi cũng đã trình bày hai thuật toán phân loại nổi tiếng knearest neighbors và random forest  hi vọng bạn đã hiểu được phần nào về cách thức mà các thuật toán này hoạt động </s> <s> </s> <s> </s> <s> hẹn gặp lại các bạn ở trong những bài viết tới </s> <s> </s> <s> </s> <s> machine learning  classification  phần  </s> <s> http//vnoi </s> <s> info/wiki/translate/ml/machinelearningclassificationphan </s> <s> </s> <s> </s> <s> </s> <s> nguồn achoums blog </s> <s> </s> <s> trong bài viết trước  link  chúng ta đã cùng tìm hiểu về classification </s> <s> chúng ta cũng đã đưa ra vài ví dụ về ứng dụng của nó và cũng đã làm quen với the iris dataset </s> <s> nếu có thời gian bạn nên đọc bài viết đó để có thể hiểu cặn kẽ những nội dung trong bài viết này </s> <s> </s> <s> </s> <s> trở lại câu chuyện về hoa diên vĩ iris flower chúng ta có một danh sách các bông hoa diên vĩ được mô tả bằng độ dài và độ dày của đài hoa và cánh hoa  attributes  </s> <s> chúng ta cũng đã biết chủng loại của tất cả các bông hoa trừ một cái duy nhất chúng ta sẽ gọi nó là bông diên vĩ bí ẩn  và mục tiêu cuối cùng là tìm ra chủng loại của bông diên vĩ bí ẩn này </s> <s> với bài toán này chúng ta giả sử rằng những thuộc tính trên là đặc trưng của chủng loại </s> <s> </s> <s> </s> <s> giải pháp  quan sát tương đồng  the same observation solution  </s> <s> </s> <s> giải pháp đầu tiên mà ta thường nghĩ đến trong trường hợp này là tìm kiếm một bông diên vĩ khác với độ dài và độ dày của đài hoa và cánh hoa giống với bông diên vĩ bí ẩn </s> <s> nếu có nhiều khả năng chủng loại của bông hoa này cũng tương đồng với bông hoa bí ẩn </s> <s> không may mắn thay rất hiếm khi chúng ta tìm được hai bông diên vĩ với những thông số giống hệt nhau </s> <s> trên thực tế tìm kiếm một quan sát với các thuộc tính giống hệt hiếm khi là một giải pháp tốt sẽ luôn có những sự khác biệt dù là rất nhỏ </s> <s> </s> <s> </s> <s> giải pháp  hàng xóm gần nhất  the nearest neighbors solution  </s> <s> </s> <s> thay vì tìm kiếm một bông diên vĩ với các giá trị thuộc tính tương đồng chúng ta sẽ tìm kiếm những bông hoa gần giống với bông hoa bí ẩn </s> <s> nếu hai bông diên vĩ có kích thước rất gần giống nhau chúng trông sẽ rất giống nhau và vì vậy có thể chúng thuộc cùng một chủng loại </s> <s> </s> <s> </s> <s> tuy nhiên cách này sẽ không hiệu quả nếu như có một vài bông diên vĩ thuộc các chủng loại khác nhau nhưng đều có giá trị thuộc tính gần giống với bông diên vĩ bí ẩn </s> <s> vì vậy chúng ta chỉ tìm ra bông diên vĩ giống nhất với bông diên vĩ bí ẩn </s> <s> điều đó có nghĩa là chúng ta phải định nghĩa chính xác thế nào là hai bông diên vĩ giống nhau </s> <s> chúng ta cũng phải định nghĩa thế nào là một bông diên vĩ giống bông diên vĩ này hơn so với một bông khác </s> <s> </s> <s> </s> <s> giải pháp được sử dụng bởi các nhà nghiên cứu là định nghĩa khoảng cách giữa hai bông diên vĩ </s> <s> khoảng cách giữa hai bông diên vĩ càng nhỏ chúng càng giống nhau </s> <s> có rất nhiều cách để định nghĩa khoảng cách </s> <s> một trong những khoảng cách thường được sử dụng nhất trong khoa học máy tính là khoảng cách euclide the euclidean distance </s> <s> nghe có vẻ nguy hiểm nhưng thực ra khoảng cách euclide chính là những gì bạn vẫn thường hiểu về khoảng cách hay đường chim bay </s> <s> </s> <s> </s> <s> tuy nhiên mặc dù khoảng cách euclide giữa hai điểm trên bản đồ rất dễ hiểu sẽ khó tưởng tượng hơn một chút khi bạn nói đến khoảng cách giữa hai bông diên vĩ </s> <s> </s> <s> </s> <s> để tính khoảng cách euclide bạn phải tính tổng bình phương của hiệu các thuộc tính tương đương rồi lấy căn bậc hai của tổng đó </s> <s> hãy áp dụng công thức đó cho hai bông hoa đầu tiên được biểu diễn trong bảng sau </s> <s> </s> <s> </s> <s> </s> <s> khoảng cách giữa hai bông diên vĩ đầu tiên là </s> <s> </s> <s> sqrt </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>  </s> <s> </s> <s> khoảng cách giữa bông hoa đầu tiên và bông hoa thứ ba là </s> <s> </s> <s> sqrt </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>    </s> <s>  </s> <s> </s> <s> giá trị đầu tiên nhỏ hơn  </s> <s>  lt  </s> <s>  điều này có nghĩa là bông diên vĩ đầu tiên giống bông hoa thứ hai hơn so với bông hoa thứ ba </s> <s> </s> <s> </s> <s> nhờ những bước tính toán và so sánh như trên bạn có thể tìm ra bông hoa giống bông hoa bí ẩn nhất </s> <s> đơn giản là chúng ta chỉ cần tính khoảng cách giữa bông hoa bí ẩn với mỗi bông hoa khác và tìm bông hoa có khoảng cách nhỏ nhất </s> <s> phương pháp tưởng chừng như đơn giản này thực ra lại được sử dụng bởi rất nhiều nhà nghiên cứu </s> <s> nó có tên là hàng xóm gần nhất  the nearest neighbors solution  </s> <s> </s> <s> </s> <s> </s> <s> giải pháp  khàng xóm gần nhất  the knearest neighbors solution  </s> <s> </s> <s> thông thường giải pháp hàng xóm gần nhất  the nearest neighbors solution  cho kết quả tốt nhưng trong nhiều trường hợp vì nhiều nguyên nhân khác nhau mà giải pháp này cho kết quả thiếu chính xác </s> <s> một trong những nguyên nhân có thể là sự thiếu chính xác trong phép đo các thuộc tính </s> <s> điều này dẫn đến việc tính khoảng cách không đúng và như vậy thuật toán không thể tìm ra lớp  class  đúng nhất </s> <s> </s> <s> </s> <s> các nhà nghiên cứu đã tìm ra một giải pháp đơn giản cho vấn đề này thay vì tìm ra bông diên vĩ giống nhất chúng ta sẽ tìm  </s> <s> nói cách khác chúng ta tìm  bông diên vĩ có khoảng cách nhỏ nhất so với bông diên vĩ bí ẩn </s> <s> nếu cả  bông diên vĩ thuộc cùng một chủng loại vấn đề trở nên rất đơn giản chủng loại hay lớp  của bông diên vĩ bí ẩn chính là chủng loại của  bông diên vĩ đó </s> <s> </s> <s> </s> <s> tuy nhiên sẽ thế nào nếu  bông diên vĩ trên thuộc về các chủng loại khác nhau trong trường hợp này chúng ta sẽ đếm số lượng các bông diên vĩ trong một chủng loại và chủng loại với số bông diên vĩ lớn nhất sẽ được coi là chủng loại của bông diên vĩ bí ẩn </s> <s> ví dụ nếu trong  bông diên vĩ giống nhất có  bông thuộc loại setosa  thuộc versicolour và  bông còn lại thuộc loại viginica chúng ta có thể khá chắc chắn khi kết luận rằng bông hoa bí ẩn thuộc loại viginica xem hình minh hoạ phía dưới </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giải thuật trên được gọi là hàng xóm gần nhất  nearest neighbors  </s> <s> </s> <s> có thể bạn thắc mắc tại sao chúng ta lại tìm  hàng xóm gần nhất thay vì   hay  </s> <s> chọn ra k tốt nhất trong giải thuật khàng xóm gần nhất là một câu hỏi rất khó trả lời vì nó phụ thuộc vào rất nhiều vấn đề </s> <s> chúng ta sẽ không giải thích chi tiết ở đây nhưng bạn nên biết rằng trong thực tế các nhà nghiên cứu thường thử rất nhiều trường hợp để tìm ra phương án tốt nhất </s> <s> </s> <s> </s> <s> bài viết đến đây là hết </s> <s> hi vọng bạn đã có một hiểu biết sơ lược về thuật toán nổi tiếng khàng xóm gần nhất hay knearest neighbors  </s> <s> trong bài viết tiếp theo tác giả sẽ giới thiệu một thuật toán mới hơn phức tạp và rất mạnh gọi là random forest </s> <s> </s> <s> </s> <s> hẹn gặp lại các bạn trong bài viết tới </s> <s> </s> <s> </s> <s> machine learning  classification  phần  </s> <s> http//vnoi </s> <s> info/wiki/translate/ml/machinelearningclassificationphan </s> <s> </s> <s> </s> <s> </s> <s> nguồn  achoums blog </s> <s> </s> <s> có thể bạn đã nghe đến cụm từ machine learning hay data mining  big data  data science  </s> <s> </s> <s> </s> <s>  nhưng bạn chưa bao giờ hiểu ý nghĩa thực sự của chúng là gì </s> <s> có thể tất cả những gì bạn biết là à đó là những thuật ngữ trong toán học và tin học và </s> <s> </s> <s> </s> <s> thế là hết </s> <s> có thể bạn phải sử dụng những phần mềm dựa trên machine learning trong công việc nhưng với bạn chúng hoạt động như là ma thuật vậy </s> <s> </s> <s> </s> <s> nếu bạn vẫn đang còn tò mò thì machine learning được dùng trong hầu hết mọi lĩnh vực </s> <s> ví dụ machine learning được sử dụng bởi các ngân hàng để phát hiện gian lận và dự đoán rủi ro được dùng bởi nhà quản lí email để phát hiện thư rác </s> <s> các bác sĩ dùng machine learning để hỗ trợ chẩn đoán các nhà sinh học ứng dụng machine learning trong việc phân tích dna </s> <s> chúng ta cũng đang tiếp xúc với nó hàng ngày khi google/bing/yahoo đều sử dụng machine learning để xử lý mỗi khi bạn gõ lệnh tìm kiếm </s> <s> </s> <s> </s> <s> mục tiêu của tác giả với chuỗi bài viết này là giúp các bạn có một hiểu biết sơ lược về machine learning và một cái nhìn trực quan về cách mà kỹ thuật này hoạt động </s> <s> thay vì nêu ra một đống lý thuyết bài viết này sẽ chủ yếu dựa trên các ví dụ </s> <s> để đọc hiểu bài viết này bạn không cần phải là một nhà khoa học máy tính thậm chí bạn không cần phải biết bất cứ điều gì liên quan đến máy tính và toán học </s> <s> </s> <s> </s> <s> chuỗi bài viết trong chủ đề này gồm có  bài </s> <s> bài viết đầu tiên sẽ giới thiệu về một trong những nhiệm vụ chính của machine learning phân loại  classification  </s> <s> bài viết thứ hai trình bày và minh hoạ hai kỹ thuật quan trọng của machine learning được áp dụng trong bài toán phân loại một trong số đó tuy rất đơn giản nhưng được sử dụng rộng rãi cái còn lại là một kỹ thuật rất mới </s> <s> cuối cùng bài viết thứ ba sẽ nói về cách các nhà khoa học máy tính đánh giá chất lượng của một kỹ thuật trong machine learning </s> <s> </s> <s> </s> <s> định nghĩa </s> <s> </s> <s> thật sự không dễ để có thể đưa ra một định nghĩa chính xác của machine learning </s> <s> nói một cách nôm na machine learning là các chương trình giúp đưa ra dự đoán hoặc giúp người dùng hiểu về các hiện tượng phức tạp </s> <s> </s> <s> </s> <s> machine learning là một chủ đề rộng lớn với rất nhiều chủ đề con </s> <s> thay vì cố gắng đưa ra những định nghĩa chung chung bài viết sẽ chỉ tập trung vào một chủ đề duy nhất phân loại classification </s> <s> bài toán phân loại chỉ là một trong rất nhiều chủ đề của machine learning nhưng là một trong những chủ đề quan trọng nhất </s> <s> khi người ta nói đến machine learning thông thường họ nói đến bài toán phân loại nếu họ không chỉ rõ chủ đề khác </s> <s> </s> <s> </s> <s> phân loại classification </s> <s> </s> <s> ý tưởng của bài toán phân loại bắt đầu như sau chúng ta có một danh sách các quan sát  observation  </s> <s> một quan sát là một khái niệm chung chung </s> <s> với machine learning một quan sát thường là sự mô tả một đối tượng trong một trạng thái nào đó </s> <s> để hiểu rõ hơn hãy xét một ví dụ rất phổ biến trong machine learning hoa diên vĩ iris flowers </s> <s> giả sử một quan sát là sự mô tả một bông hoa </s> <s> với mỗi bông hoa chúng ta có bốn thông số độ dày và chiều dài của đài hoa sepal và cánh hoa petal </s> <s> trên thực tế ví dụ về hoa diên vĩ nổi tiếng với cái tên the iris dataset và đây là bộ dữ liệu được sử dụng rất rộng rãi trong giới nghiên cứu machine learning để tìm hiểu về các thuật toán phân loại </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bốn thông số của mỗi bông hoa được gọi là các thuộc tính  attributes  </s> <s> trong machine learning một quan sát đơn thuần chỉ là một danh sách các thuộc tính </s> <s> khi so sánh các quan sát thực ra chúng ta so sánh các thuộc tính </s> <s> ví dụ bông hoa này có cánh hoa dài hơn bông hoa kia </s> <s> các thuộc tính có thể đại diện cho những thứ rất khác nhau </s> <s> ví dụ độ dài của máy bay thời gian của cơn bão nhiệt độ của căn phòng màu sắc của bức tường </s> <s> </s> <s> </s> <s> nói chung các thuộc tính thường được chia thành hai loại thuộc tính dạng số numbers và thuộc tính dạng thể loại categories </s> <s> sự khác biệt của hai loại thuộc tính này không quá nghiêm ngặt nhưng thông thường khi thuộc tính có thể so sánh được  gt hoặc lt  ta coi nó là thuộc tính dạng số ví dụ như độ dài của cánh hoa diên vĩ ngược lại chúng ta coi nó là thuộc tính dạng thể loại ví dụ như màu sắc của một bông hoa hay chủng loại của một chú chó </s> <s> </s> <s> </s> <s> ngoài ra với mỗi quan sát hay với mỗi bông hoa diên vĩ chúng ta có một lớp  class  </s> <s> một lớp là một thông tin bổ sung về một quan sát </s> <s> trong ví dụ về hoa diên vĩ ta giả sử rằng lớp của một bông hoa diên vĩ chính là loài của nó </s> <s> trong ví dụ này chúng ta chỉ quan tâm ba loài hoa diên vĩ setosa  versicolour và viginica </s> <s> </s> <s> </s> <s> tóm lại chúng ta có một tập hợp các quan sát các bông hoa diên vĩ </s> <s> với mỗi quan sát chúng ta có một số các thuộc tính và một lớp </s> <s> bảng dưới đây minh hoạ một tập hợp các quan sát trong ví dụ về hoa diên vĩ </s> <s> một bảng kiểu này thường được gọi là một dataset hay bộ dữ liệu </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giả sử rằng chúng ta có  quan sát như vậy tương ứng với  bông hoa diên vĩ </s> <s> tuy nhiên với quan sát cuối cùng hay bông hoa diên vĩ cuối cùng chúng ta không biết lớp của nó là gì hay không biết bông hoa thuộc loài gì </s> <s> chúng ta có thể tự hỏi liệu loài hoa có liên quan đến kích thước của cánh hoa và đài hoa không có chăng một loài hoa có cánh hoa dài hơn so với các loài diên vĩ khác nói cách khác liệu chúng ta có thể sử dụng  bông hoa diên vĩ mà chúng ta đã biết lớp của nó và tìm ra lớp của bông hoa cuối cùng không đó chính xác là bài toán phân loại </s> <s> diễn đạt theo cách khác bài toán phân loại có thể mô tả như sau </s> <s> </s> <s> giả sử chúng ta có một tập hợp các quan sát được đánh nhãn hay các quan sát mà chúng ta đã biết lớp của nó và một quan sát chưa được đánh nhãn </s> <s> làm thế nào để tìm ra lớp của quan sát đó </s> <s> </s> <s> trong thực tế dĩ nhiên các kỹ thuật phân loại không chỉ được dùng để phân loại hoa </s> <s> các ngân hàng sử dụng nó để phân loại khách hàng ví dụ liệu khách hàng có hoàn lại nợ tín dụng hay không </s> <s> các bệnh viện ứng dụng nó để phân loại bệnh nhân các công ty bảo hiểm dùng trong việc phân loại các thân chủ của mình </s> <s> </s> <s> </s> <s> phân loại còn có thể được sử dụng ở một mức độ sâu sắc hơn </s> <s> ví dụ các loại camera hiện đại dùng classification để nhận diện khuôn mặt dịch vụ bưu điện sử dụng nó trong việc nhận dạng địa chỉ viết tay </s> <s> các thương gia dự đoán thị trường bằng các thuật toán phân loại trong khi những nhà khí tượng sử dụng nó để dự báo thời tiết </s> <s> </s> <s> </s> <s> điểm khác biệt chính giữa những ví dụ trên chính là các thuộc tính </s> <s> với khách hàng của các ngân hàng thuộc tính là thu nhập hàng tháng điểm tín dụng số lần sử dụng thẻ gần đây </s> <s> </s> <s> </s> <s> với bệnh nhân thì thuộc tính là giới tính nhịp tim huyết áp </s> <s> </s> <s> </s> <s> với các bức ảnh thuộc tính chính là giá trị màu của từng điểm ảnh </s> <s> </s> <s> </s> <s> trong bài viết tiếp theo tác giả sẽ trình bày cách giải bài toán phân loại </s> <s> chính xác hơn tác giả sẽ trình bày hai thuật toán phân loại được sử dụng rộng rãi mà bất cứ nhà nghiên cứu về machine learning nào cũng biết </s> <s> </s> <s> </s> <s> hẹn gặp lại các bạn trong bài viết tiếp theo </s> <s> </s> <s> </s> <s> </s> <s> machine learning   làm quen </s> <s> http//vnoi </s> <s> info/wiki/cs/ml/machinelearning </s> <s> </s> <s> </s> <s> </s> <s> tác giả nguyễn xuân khánh </s> <s> </s> <s> </s> <s> xin chào mình là khanhptnk </s> <s> mình là một người đang học và nghiên cứu về machine learning </s> <s> lĩnh vực mình chuyên sâu cho đến bây giờ là natural language processing gọi tắt là nlp tức là làm cho máy tính có khả năng hiểu được ngôn ngữ của con người </s> <s> mình không phải là một chuyên gia kinh nghiệm còn khá non nếu so với các giáo sư đầu ngành nhưng mình rất muốn đem bộ môn này về giới thiệu với các bạn nhất là các bạn còn đang loay hoay tìm câu trả lời cho câu hỏi học tin học sau này làm được gì đây là bài viết mở đầu cho cuốn sách về machine learning cơ bản của mình </s> <s> </s> <s> </s> <s> </s> <s> vào năm  mình có thuyết trình trước lớp một bài giới thiệu về machine learning </s> <s> nội dung bài viết này phần lớn dựa vào đó </s> <s> để giới thiệu về machine learning mình xin dựa vào mối quan hệ của nó với ba khái niệm sau </s> <s> </s> <s> </s> <s> machine learning và trí tuệ nhân tạo artificial intelligence hay ai </s> <s> machine learning và big data </s> <s> </s> <s> machine learning và dự đoán tương lai </s> <s> </s> <s> </s> <s> </s> <s> trí tuệ nhân tạo ai  một cụm từ vừa gần gũi vừa xa lạ đối với chúng ta </s> <s> gần gũi bởi vì thế giới đang phát sốt với những công nghệ được dán nhãn ai </s> <s> xa lạ bởi vì một ai thực thụ vẫn còn nằm ngoài tầm với của chúng ta </s> <s> nói đến ai hẳn mỗi người sẽ liên tưởng đến một hình ảnh khác nhau </s> <s> các bạn có để ý rằng vài thập niên gần đây có một sự thay đổi về diên mạo của ai trong các bộ phim quốc tế </s> <s> trước đây các nhà sản xuất phim thường xuyên đưa hình ảnh robot hoặc terminator vào phim nhằm gieo vào đầu người xem suy nghĩ rằng trí tuệ nhân tạo như một phương thức nhân bản con người bằng máy móc </s> <s> tuy nhiên trong những bộ phim gần đây nhất về đề tài này ví dụ như transcendence do johny depp vào vai chính ta không thấy hình ảnh của một con robot nào cả </s> <s> thay vào đó là một bộ não điện toán khổng lồ chỉ huy hàng vạn con nanobot được gọi là singularity </s> <s> tất nhiên cả hai hình ảnh đều là hư cấu và giả tưởng nhưng sự thay đổi như vậy cũng một phần nào phản ánh sự thay đổi ý niệm của con người về ai </s> <s> ai bây giờ được xem như vô hình vô dạng hay nói các khác có thể mang bất cứ hình dạng nào </s> <s> </s> <s> </s> <s> trong giới hàn lâm theo hiểu biết chung ai là một ngành khoa học được sinh ra với mục đích làm cho máy tính có được trí thông minh </s> <s> mục tiêu này vẫn khá mơ hồ vì không phải ai cũng đồng ý với một định nghĩa thống nhất về trí thông minh </s> <s> thế nên các nhà khoa học phải định nghĩa một số mục tiêu cụ thể hơn một trong số đó là việc làm cho máy tính lừa được turing test </s> <s> turing test được tạo ra bởi alan turing  người được xem là cha đẻ của ngành khoa học máy tính hiện đại nhằm phân biệt xem người đối diện có phải là người hay không xem phim the imitation game về nhân vật này nhưng đừng tin hết những gì trong phim </s> <s> </s> <s> </s> <s> ai thể hiện một mục tiêu của con người </s> <s> machine learning là một phương tiện được kỳ vọng sẽ giúp con người đạt được mục tiêu đó </s> <s> và thực thế thì machine learning đã mang nhân loại đi một quãng đường rất xa trên quãng đường chinh phục ai </s> <s> nhưng vẫn còn một quãng đường xa hơn cần phải đi </s> <s> machine learning và ai có mối quan hệ chặt chẽ với nhau nhưng không hẳn là trùng khớp vì một bên là mục tiêu ai một bên là phương tiện machine learning </s> <s> chinh phục ai mặc dù vẫn là mục đích tối thượng của machine learning nhưng hiện tại machine learning tập trung vào những mục tiêu ngắn hạn hơn như </s> <s> </s> <s> </s> <s> làm cho máy tính có những khả năng nhận thức cơ bản của con người như nghe nhìn hiểu được ngôn ngữ giải toán lập trình </s> <s> </s> <s> </s> <s> </s> <s> hỗ trợ con người trong việc xử lý một khối lượng thông tin khổng lồ mà chúng ta phải đối mặt hàng ngày hay còn gọi là big data </s> <s> </s> <s> </s> <s> </s> <s> big data thực chất không phải là một ngành khoa học chính thống </s> <s> đó là một cụm từ dân gian và được giới truyền thông tung hô để ám chỉ thời kì bùng nổ của dữ liệu hiện nay </s> <s> nó cũng không khác gì với những cụm từ như “cách mạng công nghiệp” “kỉ nguyên phần mềm” </s> <s> big data là một hệ quả tất yếu của việc mạng internet ngày càng có nhiều kết nối </s> <s> với sự ra đời của các mạng xã hội nhưng facebook instagram twitter nhu cầu chia sẻ thông của con người tăng trưởng một cách chóng mặt </s> <s> youtube cũng có thể được xem là một mạng xã hội nơi mọi người chia sẻ video và comment về nội dung của video </s> <s> để hiểu được quy mô của big data hãy xem qua nhũng con số sau đây </s> <s> </s> <s> </s> <s> khoảng  giờ video được upload trên youtube trong mỗi phút  nguồn  </s> <s> hơn  triệu người thật sự sử dụng facebook mỗi ngày  </s> <s>  trong số đó ở ngoài mỹ và canada  nguồn  </s> <s> nhu cầu chia sẻ tăng đi đôi với việc nhu cầu tìm kiếm thông tin cũng tăng </s> <s> google phải xử lý  tỉ lượt tìm kiếm mỗi tháng tức là  tỉ lượt mỗi ngày và  </s> <s>  lượt mỗi giây  nguồn  </s> <s> </s> <s> </s> <s> và những con số này đang tăng lên theo từng giây </s> <s> </s> <s> bùng nổ thông tin không phải là lý do duy nhất dẫn đến sự ra đời của cụm từ big data </s> <s> nên nhớ rằng big data xuất hiện mới từ vài năm gần đây nhưng khối lượng dữ liệu tích tụ kể từ khi mạng internet xuất hiện vào cuối thế kỉ trước cũng không phải là nhỏ </s> <s> thế nhưng lúc ấy con người ngồi quanh một đống dữ liệu và không biết làm gì với chúng ngoài lưu trữ và sao chép </s> <s> cho đến một ngày các nhà khoa học nhận ra rằng trong đống dữ liệu ấy thực ra chứa một khối lượng tri thức khổng lồ </s> <s> những tri thức ấy có thể giúp cho ta hiểu thêm về con người và xã hội </s> <s> từ danh sách bộ phim yêu thích của một cá nhân chúng ta có thể rút ra được sở thích của người đó và giới thiệu những bộ phim người ấy chưa từng xem nhưng phù hợp với sở thích </s> <s> từ danh sách tìm kiếm của cộng đồng mạng chúng ta sẽ biết được vấn đề nóng hổi nhất đang được quan tâm và sẽ tập trung đăng tải nhiều tin tức hơn về vấn đề đó </s> <s> big data chỉ thực sự bắt đầu từ khi chúng ta hiểu được gía trị của thông tin ẩn chứa trong dữ liệu và có đủ tài nguyên cũng như công nghệ để có thể khai thác chúng trên quy mô khổng lồ </s> <s> và không có gì ngạc nhiên khi machine learning chính là thành phần mấu chốt của công nghệ đó </s> <s> ở đây ta có một quan hệ hỗ tương giữa machine learning và big data machine learning phát triển hơn nhờ sự gia tăng của khối lượng dữ liệu ngược lại thành công của big data phụ thuộc vào khả năng khai thác tri thức từ dữ liệu </s> <s> </s> <s> </s> <s> ngược dòng lịch sử machine learning đã xuất hiện từ rất lâu trước khi mạng internet ra đời </s> <s> một trong những thuật toán machine learning đầu tiên là thuật toán perceptron được phát minh ra bởi frank rosenblatt vào năm  </s> <s> đây là một thuật toán kinh điển dùng để phân loại classification hai khái niệm </s> <s> một ví dụ đơn gỉan là phân loại thư rác tam gíac và thư bình thường vuông </s> <s> chắc các bạn sẽ khó hình ra được làm thế nào để làm được điều đó </s> <s> đối với perceptron điều này không khác gì với việc vẽ một đường thẳng trên mặt phẳng để phân chia hai tập điểm </s> <s> </s> <s> </s> <s> </s> <s> sơ lược quy trình phân loại thư được mô tả sau </s> <s> trước hết ta cần một thuật toán để chuyển email thành những điểm dữ liệu </s> <s> công đoạn này rất rất quan trọng vì nếu chúng ta chọn được biểu diễn phù hợp công việc của perceptron sẽ nhẹ nhàng hơn rất nhiều </s> <s> tiếp theo perceptron sẽ đọc tọa độ của từng điểm và sử dụng thông tin này để cập nhật tham số của đường thẳng cần tìm </s> <s> các bạn có thể xem demo của perceptron tại đây điểm xanh lá cây là điểm perceptron đang xử lý </s> <s> </s> <s> youtube video </s> <s> </s> <s> những điểm tam giác và vuông đại diện cho những email chúng ta đã biết nhãn trước </s> <s> chúng được dùng để “huấn luyện” train perceptron </s> <s> sau khi vẽ đường thẳng chia hai tập điểm ta nhận thêm các điểm chưa được dán nhãn đại diện cho các email cần được phân loại điểm tròn </s> <s> ta dán nhãn của một điểm theo nhãn của các điểm cùng nửa mặt phẳng với điểm đó </s> <s> vì là một thuật toán khá đơn giản có rất nhiều vấn đề có thể nảy sinh với perceptron ví dụ như điểm cần phân loại nằm ngay trên đường thẳng phân chia </s> <s> hoặc tệ hơn là với một tập dữ liệu phức tạp hơn đường thẳng phân chia không tồn tại </s> <s> </s> <s> </s> <s> </s> <s> lúc này ta cần các loại đường phân chia “không thẳng” </s> <s> nhưng đó lại là một câu chuyện khác </s> <s> </s> <s> </s> <s> perceptron là một thuật toán “học có hướng dẫn”  supervised learning  ta đưa cho máy tính hàng loạt các ví dụ cùng câu trả lời mẫu với hy vọng máy tính sẽ tìm được những đặc điểm cần thiết để đưa ra dự đoán cho những ví dụ khác chưa có câu trả lời trong tương lai </s> <s> ngoài ra cũng có những thuật toán machine learning “không cần hướng dẫn”  unsupervised learning  máy tính cố gắng khai thác ra cấu trúc ẩn của một tập dữ liệu mà không cần câu trả lời mẫu </s> <s> một loại machine learning khác được gọi là “học củng cố”  reinforcement learning  </s> <s> trong dạng này cũng không hề có câu trả lời mẫu nhưng thay vì đó máy tính nhận được phản hồi cho mỗi hành động </s> <s> dựa vào phản hồi tích cực hay tiêu cực mà máy tính sẽ điều chỉnh hoạt động cho phù hợp </s> <s> sau đây là một ví dụ minh họa </s> <s> </s> <s> youtube video </s> <s> </s> <s> mục tiêu của chiếc xe là leo lên được đỉnh đồi và lấy được ngôi sao </s> <s> chiếc xe có hai chuyển động tới và lui </s> <s> bằng cách thử các chuyển động và nhận được phản hồi là độ cao đạt được và thời gian để lấy được ngôi sao chiếc xe dần trở nên thuần thục hơn trong việc leo đồi lấy sao </s> <s> </s> <s> </s> <s> machine learning có mối quan hệ rất mật thiết đối với thống kê  statistics  </s> <s> machine learning sử dụng các mô hình thống kê để “ghi nhớ” lại sự phân bố của dữ liệu </s> <s> tuy nhiên không đơn thuần là thống kê dữ liệu machine learning phải có khả năng tổng quát hóa những gì đã được nhìn thấy và đưa ra dự đoán cho những trường hợp chưa được nhìn thấy </s> <s> bạn có thể hình dung một mô hình machine learning không có khả năng tổng quát như một đứa trẻ học vẹt chỉ trả lời được những câu trả lời mà nó đã học thuộc lòng đáp án </s> <s> khả năng tổng quát là một khả năng tự nhiên và kì diệu của con người bạn không thể nhìn thấy tất cả các khuôn mặt người trên thế giới nhưng bạn có thể nhận biết được một thứ có phải là khuôn mặt người hay không với xác suất đúng gần như tuyệt đối </s> <s> đỉnh cao của machine learning sẽ là mô phỏng được khả năng tổng quát hóa và suy luận này của con người </s> <s> </s> <s> </s> <s> như ta đã thấy nói đến machine learning là nói đến “dự đoán” từ việc dự đoán nhãn phân loại đến dự đoán hành động cần thực hiện trong bước tiếp theo </s> <s> vậy machine learning có thể dự đoán tương lai hay không có thể có hoặc có thể không machine learning có thể dự đoán được tương lai nhưng chỉ khi tương lai có mối liên hệ mật thiết với hiện tại </s> <s> </s> <s> </s> <s> để kết thúc bài viết mình muốn cùng các bạn xem xét một ví dụ đơn giản sau </s> <s> giả sử bạn được đưa cho một đồng xu rồi được yêu cầu tung đồng xu một số lần </s> <s> vấn đề đặt ra là dựa vào những lần tung đồng xu đó bạn hãy tiên đoán ra kết quả lần tung tiếp theo </s> <s> chỉ cần dựa vào tỉ lệ xấp/ngửa của những lần tung trước đó bạn có thể đưa ra một dự đoán khá tốt </s> <s> nhưng nếu mỗi lần tung người ta đưa cho bạn một đồng xu khác nhau thì mọi chuyện sẽ hoàn toàn khác </s> <s> các đồng xu khác nhau có xác suất xấp ngửa khác nhau </s> <s> lúc này việc dự đoán gần như không thể vì xác suất xấp ngửa của lần tung sau không hề liên quan gì đến lần tung trước </s> <s> điều tương tự cũng xảy ra với việc dự đoán tương lai bằng machine learning nếu ta xem như mỗi ngày có một “đồng xu” được tung ra để xem một sự kiện có diễn ra hay không </s> <s> nếu “đồng xu” của ngày mai được chọn một cách tùy ý không theo phân bố nào cả thì machine learning sẽ thất bại </s> <s> rất may là trong nhiều trường hợp điều đó không hoàn toàn đúng thế giới hoạt động theo những quy luật nhất định và machine learning có thể nhận ra những quy luật đó </s> <s> nhưng nói cho cùng machine learning hoàn toàn không phải là một bà phủ thủy với quả cầu tiên tri mà cũng giống như chúng ta phán đoán bằng cách tổng quát hóa những kinh nghiệm những gì đã được học từ dữ liệu </s> <s> </s> <s> </s> <s> </s> <s> sử dụng regex </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/usingregularexpression </s> <s> </s> <s> </s> <s> </s> <s> table of contents giới thiệu mô tả regex sử dụng regex debug regex trong java trong c posixregex ví dụ gnuregex ví dụ ví dụ trong các cuộc thi srms tham khảo </s> <s> </s> <s> bài viết gốc using regular expressions  đăng bởi danpopovici amp mariusmuja trên topcoder </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> một regex  regular expression  là một chuỗi ký tự đặc biệt dùng để mô tả một mẫu tìm kiếm  search pattern  </s> <s> hẳn là nhiều bạn đã nhìn thấy hoặc dùng regex trong các câu lệnh như ls  </s> <s> txt hoặc dir  </s> <s> txt  để liệt kê ra tất cả các file có đuôi txt </s> <s> regex rất hữu dụng không chỉ trong việc tìm kiếm trên xâu  pattern matching  mà còn trong việc xử lý văn bản </s> <s> trong các kỳ srms thì regex có thể cực kỳ hữu ích </s> <s> vài dòng code sử dụng regex trong các bài toán xử lý text có thể khiến việc lập trình trở nên dễ thở hơn nhiều </s> <s> </s> <s> </s> <s> mô tả regex </s> <s> </s> <s> một regex là một hoặc nhiều nhánh không rỗng được phân cách bởi ký tự  </s> <s> regex sẽ khớp với bất kỳ cái gì khớp với một trong các nhánh của nó </s> <s> regex sau sẽ khớp với bất kỳ từ nào trong  từ the top coder </s> <s> </s> <s> </s> <s> regex thetopcoder </s> <s> input marius is one of the topcoders </s> <s> </s> <s> </s> <s> tìm thấy the bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> tìm thấy top bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> tìm thấy coder bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> </s> <s> một nhánh bao gồm một hoặc nhiều mảnh nối vào với nhau </s> <s> nó sẽ khớp với mảnh đầu tiên trước rồi sau đó sẽ đến mảnh thứ  thứ  v </s> <s> v </s> <s> </s> <s> </s> <s> một mảnh là một nguyên tử atom có thể được theo sau bởi một trong các ký tự sau       hoặc biên  bound  </s> <s> </s> <s> </s> <s> một nguyên tử được theo sau bởi  sẽ khớp với chuỗi nào có  hoặc nhiều hơn phần khớp với nguyên tử đó </s> <s> </s> <s> một nguyên tử được theo sau bởi  sẽ khớp với chuỗi nào có  hoặc nhiều hơn phần khớp với nguyên tử đó </s> <s> </s> <s> một nguyên tử được theo sau bởi  sẽ khớp với chuỗi nào có  hoặc  phần khớp với nguyên tử đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> regex sau sẽ khớp với chuỗi nào có chữ top và coder nối tiếp nhau </s> <s> </s> <s> regex topcoder </s> <s> input this regex matches topcoder codertop toptop toptoptop codercoder </s> <s> </s> <s> </s> <s> </s> <s> tìm thấy topcoder bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> tìm thấy codertop bắt đầu ở vị trí  vả kết thúc ở vị trí  </s> <s> </s> <s> </s> <s> một biên được bắt đầu bởi  được theo sau bởi  hoặc  số nguyên không dấu cách nhau bởi dấu   và luôn kết thúc bởi  </s> <s> nếu có  số nguyên thì số thứ nhất sẽ không lớn hơn số thứ hai </s> <s> </s> <s> </s> <s> </s> <s> một nguyên tử theo sau bởi một biên chứa duy nhất một số nguyên i thì sẽ khớp với xâu được ghép bởi đúng i nguyên tử </s> <s> </s> <s> một nguyên tử theo sau bởi một biên chứa duy nhất một số nguyên i có dấu  đằng sau thì sẽ khớp với xâu được ghép bởi i hoặc nhiều hơn i nguyên tử </s> <s> </s> <s> một nguyên tử theo sau bởi một biên chứa  số nguyên i j sẽ khớp với xâu được ghép bởi i đến j nguyên tử </s> <s> </s> <s> </s> <s> </s> <s> regex sau sẽ khớp với bất kỳ xâu nào có   hoặc  ký tự   </s> <s> </s> <s> regex  </s> <s> input            </s> <s> tìm thấy  bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> tìm thấy  bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> tìm thấy  bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> </s> <s> chúng ta có thể thấy rằng chuỗi dài nhất có thể sẽ được khớp và các đoạn được khớp sẽ không giao nhau </s> <s> một nguyên tử atom có thể là </s> <s> </s> <s> </s> <s> một regex được đặt trong dấu ngoặc tròn  khớp với cả regex </s> <s> một biểu thức ngoặc xem ví dụ </s> <s> </s> <s> </s> <s> khớp với bất kỳ ký tự nào </s> <s> </s> <s>  khớp với xâu rỗng ở đầu dòng </s> <s> </s> <s>  khớp với xâu rỗng ở cuối dòng </s> <s> ký tự  được theo sau bởi một trong các ký tự  </s> <s>  khớp với các ký tự đặc biệt tương ứng </s> <s> một ký tự khớp với ký tự đó </s> <s> </s> <s> ký tự  được theo sau bởi một chữ số d khác  </s> <s> nguyên tử này sẽ khớp với chuỗi ký tự giống với chuỗi ký tự được khớp bởi biểu thức con trong ngoặc tròn thứ d đánh số ngoặc tròn bằng vị trí của mở ngoặc từ trái qua phải </s> <s> ví dụ bc sẽ khớp với bb hoặc cc và không khớp với bc </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> regex sau đây khớp với một xâu được tạo bởi  chữ in thường giống nhau được phân cách bởi bất kỳ ký tự nào </s> <s> </s> <s> regex az </s> <s>  </s> <s> input toptopcodercoder </s> <s> tìm thấy toptop bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> tìm thấy codercoder bắt đầu vở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> </s> <s> một danh sách các ký tự được viết trong dấu  khớp với bất ký ký tự đơn nào ở trong danh sách </s> <s> </s> <s> </s> <s> </s> <s> nếu danh sách được bắt đầu bởi   nó sẽ khớp với bất kỳ ký tự nào không ở trong danh sách </s> <s> </s> <s> nếu  ký tự trong danh sách được phân cách bởi  thì có nghĩa là danh sách này bao gồm tất cả các ký tự nằm trong đoạn với  đầu là  ký tự đó ví dụ  khớp với bất kỳ chữ số thập phân nào </s> <s> </s> <s> </s> <s> </s> <s> tất cả các ký tự ngoại trừ       kể cả ký tự đặc biệt đều mất đi tính chất đặc biệt của nó trong biểu thức ngoặc </s> <s> </s> <s> </s> <s> regex sau đây khớp với các từ không bắt đầu bởi b  c  d và kết thúc bởi at  </s> <s> </s> <s> regex bdat </s> <s> input bat </s> <s> không tìm thấy xâu nào khớp </s> <s> </s> <s> </s> <s> regex bdat </s> <s> input hat </s> <s> tìm thấy hat bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> </s> <s> ví dụ sau đây sẽ bao gồm hầu hết các định nghĩa ở phía trên đã nêu </s> <s> nó sẽ khớp với một cặp html tag đóng/mở và nội dung giữa  tag này </s> <s> </s> <s> </s> <s> regex ltazazazaz gtgt </s> <s> lt/gt </s> <s> input ltfont sizegttopcoder is thelt/fontgt ltbgtbestlt/bgt </s> <s> tìm thấy ltfont sizegttopcoder is thelt/fontgt bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> tìm thấy ltbgtbestlt/bgt bắt đầu ở vị trí  và kết thúc ở vị trí  </s> <s> </s> <s> </s> <s> giải thích </s> <s> </s> <s> </s> <s> </s> <s> azazazaz sẽ khớp với bất kỳ từ nào bắt đầu bởi một chữ cái và tiếp tục bởi một số lượng chữ cái hoặc chữ số bất kỳ </s> <s> </s> <s> </s> <s> </s> <s>  gt sẽ khớp với xâu rỗng hoặc bất kỳ xâu nào không chứa gt </s> <s> </s> <s> </s> <s> </s> <s>  khớp với xâu nào mà azazazaz đã khớp trước đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> mô tả trên là mô tả sơ qua về regex cơ bản </s> <s> một regex được viết bởi các luật trên sẽ chạy được ở java gt  </s> <s>  và c posix extended </s> <s> để tìm hiểu sâu hơn về các mở rộng được cung cấp bởi các ngôn ngữ khác mời các bạn xem phần tham khảo </s> <s> </s> <s> </s> <s> sử dụng regex </s> <s> </s> <s> debug regex </s> <s> </s> <s> trong các ngôn ngữ lập trình khác nhau thường regex có thể khác nhau đôi chút </s> <s> để kiểm tra  đoạn regex trong  ngôn ngữ có ý nghĩa gì các bạn có thể lên search debug regex online có khá nhiều trang phù hợp </s> <s> </s> <s> </s> <s> trong java </s> <s> </s> <s> trong java từ  </s> <s>  trở lên có một package tên là java </s> <s> util </s> <s> regex cho phép sử dụng regex </s> <s> </s> <s> </s> <s> package này bao gồm  class  pattern matcher patternsyntaxexception </s> <s> </s> <s> </s> <s> </s> <s> object pattern là một regex đã được biên dịch </s> <s> class pattern không cung cấp public constructors </s> <s> để tạo ra một object bạn phải sử dụng một trong các method của nó và chúng sẽ trả về một object pattern </s> <s> </s> <s> object matcher sẽ tiến hành thông dịch mẫu và khớp với input </s> <s> giống như class pattern matcher không có public constructors </s> <s> để tạo ra một object matcher bạn phải sử dụng method của class matcher trên một object pattern và nó sẽ trả về một object matcher </s> <s> </s> <s> object patternsyntaxexception là unchecked exception chỉ ra lỗi cú pháp của regex </s> <s> </s> <s> </s> <s> </s> <s> ví dụ lấy từ  </s> <s> </s> <s> pattern pattern  </s> <s> matcher matcher  </s> <s> pattern  pattern </s> <s> compile lt regex gt </s> <s> matcher  pattern </s> <s> matcher lt input gt </s> <s> boolean found  </s> <s> while  matcher </s> <s> find   </s> <s> system </s> <s> out </s> <s> println  found the text   matcher </s> <s> group    starting at index   matcher </s> <s> start   </s> <s>  and ending at index   matcher </s> <s> end    </s> <s>   </s> <s> found  true  </s> <s>  </s> <s> </s> <s> if  found  </s> <s> system </s> <s> out </s> <s> println  no match found </s> <s>   </s> <s>  </s> <s> </s> <s> java cũng cung cấp các method sau trong class string </s> <s> </s> <s> </s> <s> </s> <s> boolean matchesstring regex  kiểm tra xem xâu hiện tại có khớp với regex không </s> <s> </s> <s> </s> <s> string replaceallstring regex string replacement  thay tất cả các xâu con của xâu hiện tại mà khớp với regex bằng xâu replacement </s> <s> </s> <s> </s> <s> string replacefirststring regex string replacement  thay xâu con đầu tiên của xâu hiện tại mà khớp với regex bằng xâu replacement </s> <s> </s> <s> </s> <s> string splitstring regex  chia xâu hiện tại thành nhiều xâu sử dụng các xâu con khớp với regex làm phân cách </s> <s> </s> <s> </s> <s> </s> <s> trong c </s> <s> </s> <s> nhiều topcoders cho rằng regex là một trong những điểm mạnh của java so với c </s> <s> tuy nhiên các coders sử dụng c cũng không hề nản chí vì regex cũng có thể được sử dụng trong c </s> <s> </s> <s> </s> <s> có nhiều thư viện hỗ trợ regex cho c tuy nhiên chúng không tương thích với nhau tốt cho lắm </s> <s> một điều may mắn đó là bạn có thể chọn lựa một trong các thư viện này để sử dụng và không phải lo là nó không tương thích với nhau </s> <s> nếu bạn muốn dùng regex ở arena bạn phải lựa chọn giữa  apis posixregex và gnuregex </s> <s> để sử dụng  apis này bạn phải thêm header regex </s> <s> h </s> <s> cả  apis đều được thực hiện qua  bước </s> <s> đầu tiên sẽ có một hàm biên dịch regex sau đó sẽ có một hàm khớp/tìm regex đã được biên dịch với xâu cần khớp </s> <s> </s> <s> sau đây sẽ là mô tả ngắn gọn về  apis này để cho các bạn có thể chọn lựa bạn thích cái nào hơn </s> <s> </s> <s> </s> <s> posixregex </s> <s> </s> <s> posixregex hỗ trợ  kiểu regex khác nhau cơ bản và mở rộng </s> <s> regex cơ bản tương tự như trong ed trong khi regex mở rộng tương tự như trong egrep thêm vào các phép toán      và không yêu cầu  ở các biểu thức con viết trong ngoặc đơn  hoặc các biên được viết trong ngoặc nhọn  </s> <s> kiểu cơ bản là mặc định nhưng kiểu mở rộng được ưa thích hơn </s> <s> </s> <s> </s> <s> với posix bạn chỉ có thể tìm kiếm regex mà không thể khớp được </s> <s> để khớp được bạn phải biên dịch nó thành một pattern buffer sử dụng regcomp </s> <s> một khi đã biên dịch thành pattern buffer bạn có thể tìm kiếm trong một xâu kết thúc bằng null bằng cách dùng regexec </s> <s> nếu một trong hai hàm regcomp và regexec gặp lỗi nó sẽ trả về error code </s> <s> để biết được lỗi là gì bạn dùng regerror </s> <s> để giải phóng bộ nhớ của pattern buffer bạn dùng regfree </s> <s> </s> <s> </s> <s> để biết cách sử dụng chi tiết mời các bạn xem mục  và  ở phần tham khảo </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> sau đây là một ví dụ về cách sử dụng các hàm này </s> <s> </s> <s> regext reg  </s> <s> </s> <s> string pattern  tpr  </s> <s> string str  topcoder  </s> <s> </s> <s> regmatcht matches    </s> <s> </s> <s> regcomp  amp reg  pattern </s> <s> cstr  regextended  regicase  </s> <s> </s> <s> if  regexec  amp reg  str </s> <s> cstr    matches        </s> <s> cout ltlt match  </s> <s> cout ltlt str </s> <s> substr  matches    </s> <s> rmso  matches    </s> <s> rmeo  matches    </s> <s> rmso  </s> <s> cout ltlt  found starting at  </s> <s> cout ltlt matches    </s> <s> rmso </s> <s> cout ltlt  and ending at  </s> <s> cout ltlt matches    </s> <s> rmeo </s> <s> cout ltlt endl  </s> <s>  else  </s> <s> cout ltlt match not found </s> <s>  </s> <s> cout ltlt endl  </s> <s>  </s> <s> regfree  amp reg  </s> <s> </s> <s> gnuregex </s> <s> </s> <s> gnuregex api có nhiều hàm hơn </s> <s> với các hàm của gnuregex các bạn có thể khớp một xâu với mẫu và cũng có thể tìm kiếm mẫu ở trong xâu </s> <s> việc sử dụng các hàm này cũng tương tự như việc sử dụng các hàm của posix đầu tiên một mẫu cần phải được biên dịch sử dụng recompilepattern  sau đó nhận được pattern buffer và nó được dùng để tìm và khớp </s> <s> các hàm sử dụng cho tìm kiếm và khớp là research và rematch </s> <s> trong trường hợp tìm kiếm thì fastmap có thể được sử dụng để tối ưu việc tìm kiếm </s> <s> nếu không có fastmap thuật toán tìm kiếm sẽ khớp các mẫu ở các vị trí liên tiếp nhau trong xâu </s> <s> fastmap sẽ chỉ ra vị trí của ký tự bắt đầu tìm kiếm </s> <s> fastmap được tạo bằng cách gọi recompilefastmap </s> <s> gnuregex còn có hàm research và rematch cho việc tìm kiếm và khớp với những data tách rời </s> <s> để giải phóng bộ nhớ của pattern buffer bạn dùng regfree </s> <s> </s> <s> </s> <s> để biết cách sử dụng chi tiết mời các bạn xem mục  ở phần tham khảo </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> string pattern  az </s> <s>    </s> <s> string str  toptopcodercoder  </s> <s> </s> <s> repatternbuffer buffer  </s> <s> char map    </s> <s> </s> <s> buffer </s> <s> translate    </s> <s> buffer </s> <s> fastmap  map  </s> <s> buffer </s> <s> buffer    </s> <s> buffer </s> <s> allocated    </s> <s> </s> <s> resetsyntax  resyntaxposixextended  </s> <s> const char  status  recompilepattern  pattern </s> <s> cstr  pattern </s> <s> size  amp buffer  </s> <s> if  status   </s> <s> cout ltlt error  ltlt status ltlt endl  </s> <s>  </s> <s> recompilefastmap  amp buffer  </s> <s> </s> <s> struct reregisters regs  </s> <s> int ofs    </s> <s> if  research  amp buffer  str </s> <s> cstr  str </s> <s> size    str </s> <s> size  amp regs      </s> <s> cout ltlt match  </s> <s> cout ltlt str </s> <s> substr  regs </s> <s> start    regs </s> <s> end     regs </s> <s> start    </s> <s> cout ltlt  found starting at  </s> <s> cout ltlt regs </s> <s> start    </s> <s> cout ltlt  and ending at  </s> <s> cout ltlt regs </s> <s> end    </s> <s> cout ltlt endl  </s> <s>  else  </s> <s> cout ltlt match not found </s> <s>  </s> <s> cout ltlt endl  </s> <s>  </s> <s> regfree  amp buffer  </s> <s> </s> <s> ví dụ trong các cuộc thi srms </s> <s> </s> <s> các ví dụ phía dưới được viết bằng java </s> <s> bạn nào dùng c có thể dùng posix hoặc gnu regex apis để viết các hàm tương đương trong java replaceall split matches </s> <s> </s> <s> cyberline srm  div  level  </s> <s> </s> <s> import java </s> <s> util </s> <s>   </s> <s> public class cyberline </s> <s>  </s> <s> public string lastcyberword  string cyberline  </s> <s>  </s> <s> string  w  cyberline </s> <s> replaceall      </s> <s> </s> <s> replaceall  azaz     </s> <s> </s> <s> split      </s> <s> return w  w </s> <s> length    </s> <s>  </s> <s>  </s> <s> unlinker srm  div  level  </s> <s> </s> <s> import java </s> <s> util </s> <s>   </s> <s> public class unlinker </s> <s>  </s> <s> public string clean  string text  </s> <s>  </s> <s> string  m  text </s> <s> split  http//www </s> <s> http//azaz </s> <s>  </s> <s> comorgeduinfotv    </s> <s> string s  m     </s> <s> for  int i    i lt m </s> <s> length   i  </s> <s> s  s  omit  i  m  i   </s> <s> return s  </s> <s>  </s> <s>  </s> <s> </s> <s> cheatcode srm  div  level  </s> <s> </s> <s> import java </s> <s> util </s> <s>   </s> <s> public class cheatcode  </s> <s> public int  matches  string keypresses  string  codes   </s> <s> boolean  map  new boolean  codes </s> <s> length   </s> <s> int count    </s> <s> for  int i    i lt codes </s> <s> length   i  </s> <s>  </s> <s> string regex   </s> <s>   </s> <s> for  int j    j lt codes  i  </s> <s> length    </s> <s> int k    </s> <s> while  j  k lt codes  i  </s> <s> length  ampamp codes  i  </s> <s> charat  j  k  codes  i  </s> <s> charat  j  k  </s> <s> regex  regex  codes  i  </s> <s> charat  j     k    </s> <s> j  k  </s> <s>  </s> <s> </s> <s> regex  regex   </s> <s>   </s> <s> if  keypresses </s> <s> matches  regex  </s> <s>  </s> <s> map  i   true  </s> <s> count   </s> <s>  </s> <s>  </s> <s> int  res  new int  count   </s> <s> int j    </s> <s> for  int i    i lt codes </s> <s> length   i  </s> <s> if  map  i   true  </s> <s> res  j  i  </s> <s> return res  </s> <s>  </s> <s>  </s> <s> </s> <s> tham khảo </s> <s> </s> <s> </s> <s> xem trang hướng dẫn của linux regex </s> <s> xem trang hướng dẫn của linux regex </s> <s> http//docs </s> <s> freebsd </s> <s> org/info/regex/regex </s> <s> info </s> <s> programmingwithregex </s> <s> html </s> <s> http//www </s> <s> regularexpressions </s> <s> info/ </s> <s> http//java </s> <s> sun </s> <s> com/docs/books/tutorial/extra/regex/ </s> <s> </s> <s> </s> <s> </s> <s> xâu trong c </s> <s> http//vnoi </s> <s> info/wiki/languages/cpp/string </s> <s> </s> <s> </s> <s> </s> <s> bài viết sưu tầm trên mạng </s> <s> </s> <s> </s> <s>  </s> <s> kiểu chuỗi của c và hạn chế </s> <s> </s> <s> khi mới học c chắc các bạn đều rất bối rối khi làm việc với xâu ký tự việc sử dụng con trỏ lưu xâu ký tự rất phức tạp dễ gây lỗi khiến nhiều người cho rằng nó không bằng xâu ký tự trong pascal </s> <s> </s> <s> </s> <s> các chương trình c có thể sử dụng chuỗi theo cách thức cũ của ngôn ngữ c trong bài viết này gọi là cstring mảng các ký tự kết thúc bởi ký tự mã ascii là  ký tự   cùng với các hàm thư viện khai báo trong ltstring </s> <s> hgt </s> <s> có nhiều bất tiện khi dùng theo cách thức này </s> <s> </s> <s> </s> <s> người lập trình phải chủ động kiểm soát bộ nhớ cấp phát cho chuỗi ký tự </s> <s> nói chung là phải am hiểu và rất thông thạo về kỹ thuật dùng bộ nhớ và con trỏ thì chương trình mới tránh được các lỗi về kỹ thuật </s> <s> không thể gán giá trị hay sử dụng phép toán  ghép chuỗi và các phép toán so sánh như gt lớn hơn lt nhỏ hơn </s> <s> </s> <s> </s> <s> mà phải gọi các hàm thư viện trong ltstring </s> <s> hgt  </s> <s> nếu dùng kỹ thuật cấp phát động thì phải quản lý việc cấp thêm bộ nhớ khi chuỗi dãn ra chẳng hạn do ghép chuỗi và phải hủy bộ nhớ khi không dùng nữa để tránh việc cạn kiệt bộ nhớ của máy tính trong trường hợp có nhiều chương trình hoạt động đồng thời </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> kiểu chuỗi string trong thư viện stl của c </s> <s> </s> <s> thư viện chuẩn stl standard template library cung cấp kiểu string xâu ký tự giúp các bạn tránh khỏi hoàn toàn các phiền phức nêu trên </s> <s> các chỉ thị include cần khai báo để sử dụng string </s> <s> </s> <s> include ltstringgt </s> <s> using std  string  </s> <s> // using namespace std  </s> <s> </s> <s> nếu bạn muốn tận dụng các hàm của cstring cần chuyển đổi giữa  kiểu dữ liệu này </s> <s> </s> <s> </s> <s> </s> <s> chuyển từ string sang cstring </s> <s> </s> <s> string s  </s> <s> s </s> <s> cstr  </s> <s> </s> <s> </s> <s> chuyển từ cstring sang string  </s> <s> </s> <s> char  sold  abc  </s> <s> string s  sold  </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> các phương thức phép toán tiện ích của kiểu string </s> <s> </s> <s> kiểu string của stl hỗ trợ các nhóm phương thức và phép toán tiện ích sau đây </s> <s> </s> <s> </s> <s> a các phép toán và phương thức cơ bản </s> <s> </s> <s> </s> <s> các toán tử    dùng để ghép hai chuỗi và cũng để ghép một ký tự vào chuỗi </s> <s> các phép so sánh theo thứ tự từ điển  bằng nhau  khác nhau gt lớn hơn gt lớn hơn hay bằng lt nhỏ hơn lt nhỏ hơn hay bằng </s> <s> hàm length và phép lấy chỉ số  để duyệt từng ký tự của chuỗi nếu s là biến kiểu string thì si là ký tự thứ i của s với  le i lt s </s> <s> length </s> <s> phép gán  dùng để gán biến kiểu string bằng một chuỗi hoặc bằng string khác chẳng hạn string sabcdef  hay ss  mà không cần copy xâu </s> <s> </s> <s> </s> <s> những constructor thường sử dụng nhất </s> <s> </s> <s> string  </s> <s> string  const char  str  // char là kiểu dữ liệu xâu của c </s> <s> string  const string amp str  </s> <s> </s> <s> </s> <s> có thể dùng toán tử ltlt với cout để xuất một chuỗi ra màn hình hoặc dùng toán tử gtgt với cin để nhập một chuỗi ký tự đến khi gặp một khoảng trống thì dừng </s> <s> </s> <s> </s> <s> char st   abcdef  </s> <s> string s  </s> <s> s  xyz  </s> <s> cout ltlt s ltlt endl  </s> <s> s  st  </s> <s> cout ltlt s </s> <s> length  ltlt    ltlt s ltlt endl  </s> <s> </s> <s> </s> <s> một vấn đề thường nảy sinh trong các ứng dụng có sử dụng cstring một cstring chưa khởi tạo cần được gán null </s> <s> tuy nhiên rất nhiều hàm thư viện của cstring sẽ gặp sự cố trong thời gian chạy khi gặp đối tượng cstring là null </s> <s> chẳng hạn lệnh </s> <s> </s> <s> char  x  null  </s> <s> cout ltlt strlen  x  </s> <s> </s> <s> được một số trình biên dịch chấp nhận nhưng với nhiều hiện thực khác của thư viện cstring thì gặp lỗi trong thời gian chạy </s> <s> string không gặp vấn đề này ta hoàn toàn có thể cho  xâu là rỗng mà không gặp bất cứ lỗi nào string s </s> <s> </s> <s> </s> <s> </s> <s> string thực chất là một vectorltchargt có bổ sung thêm một số hàm và thuộc tính do đó nó có toàn bộ các tính chất của  vector như hàm size  pushback  toán tử   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> các hàm từ vector  </s> <s> </s> <s> </s> <s> </s> <s> v </s> <s> size  số lượng phần tử </s> <s> </s> <s> v </s> <s> empty  trả về  nếu chuỗi rỗng  nếu ngược lại </s> <s> </s> <s> </s> <s> v </s> <s> maxsize  trả về số lượng phần tử tối đa đã được cấp phát </s> <s> </s> <s> v  v  trả về  nếu hai chuỗi giống nhau </s> <s> </s> <s> v  v  trả về  nếu hai chuỗi khác nhau </s> <s> </s> <s> v </s> <s> begin  trả về iterator đầu tiên của chuỗi </s> <s> </s> <s> v </s> <s> end  trả về iterator cuối cùng của chuỗi trỏ vào sau kí tự cuối cùng </s> <s> </s> <s> v </s> <s> front  trả về phần tử đầu tiên của chuỗi </s> <s> </s> <s> v </s> <s> back  trả về phần tử cuối cùng của chuỗi </s> <s> </s> <s> v </s> <s> swapv  hoán đổi  chuỗi với nhau giống việc hoán đổi giá trị của  biến </s> <s> </s> <s> </s> <s> include ltiostreamgt </s> <s> include ltconio </s> <s> hgt </s> <s> include ltstringgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string s  hello string  // khai báo biến kiểu string </s> <s> cout ltlt noi dung string  ltlt s ltlt endl  // in nôi dung string ra màn hình </s> <s> cout ltlt chieu dai cua string  ltlt s </s> <s> size  ltlt endl  </s> <s> // chiều dài </s> <s> cout ltlt ky tu   ltlt s    ltlt endl  // in ký tự đầu tiên của xâu </s> <s> cout ltlt ky tu   ltlt s    ltlt endl  // in ký tự thứ  </s> <s> cout ltlt ky tu   ltlt s    ltlt endl  // in ký tự thứ  </s> <s> getchar  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> nhập một string trên  dòng chú ý cin sẽ chỉ đọc đến dấu cách hoặc xuống dòng đầu tiên </s> <s> istreamamp getline  istreamamp in stringamp str char delimiter  ‘n’ </s> <s> </s> <s> đọc  dòng văn bản từ istream in có thể là file hay đối tượng chuẩn cin từng ký tự đến khi ký tự delimiter được nhập vào mặc định là n  </s> <s> </s> <s> // getline with strings </s> <s> include ltiostreamgt </s> <s> include ltstringgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string str  </s> <s> short age  </s> <s> cout ltlt please enter full name and age ltlt endl  </s> <s> getline  cin  str  gtgt age  </s> <s> cout ltlt thank you  ltlt str ltlt  n   </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> b các phương thức chèn xóa lấy chuỗi con </s> <s> </s> <s> </s> <s> </s> <s> phương thức substrint pos int nchar trích ra chuỗi con của một chuỗi cho trước ví dụ str </s> <s> substr trả về chuỗi con gồm  ký tự của chuỗi str kể từ ký tự ở vị trí thứ  ký tự đầu tiên của chuỗi ở vị trí  </s> <s> </s> <s> </s> <s> //get substring </s> <s> include ltiostreamgt </s> <s> include ltstringgt </s> <s> include ltconio </s> <s> hgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string s  concho chay qua rao  </s> <s> cout ltlt s </s> <s> substr      ltlt endl  </s> <s> // cout ltlt new stringstr </s> <s> begin str </s> <s> begin </s> <s> getchar  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> phương thức insert chèn thêm ký tự hay chuỗi vào một vị trí nào đó của chuỗi str cho trước </s> <s> có nhiều cách dùng phương thức này </s> <s> </s> <s> </s> <s> </s> <s> str </s> <s> insertint pos char s  chèn s mảng ký tự kết thúc   vào vị trí pos của str  </s> <s> </s> <s> str </s> <s> insertint pos string s  chèn chuỗi s kiểu string  vào vị trí pos của chuỗi str  </s> <s> </s> <s> str </s> <s> insertint pos int n int ch  chèn n lần ký tự ch vào vị trí pos của chuỗi str  </s> <s> </s> <s> </s> <s> // inserting into a string </s> <s> include ltiostreamgt </s> <s> include ltstringgt </s> <s> include ltconio </s> <s> hgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string str  day la </s> <s> </s> <s> xau thu  </s> <s> string istr  them  </s> <s> str </s> <s> insert    istr  </s> <s> cout ltlt str ltlt endl  </s> <s> getchar  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> phương thức str </s> <s> eraseint pos int n xóa n ký tự của chuỗi str kể từ vị trí pos  nếu không quy định giá trị n thì tất cả các ký tự của str từ vị trí pos trở đi sẽ bị xóa </s> <s> </s> <s> // erase from a string </s> <s> include ltiostreamgt </s> <s> include ltstringgt </s> <s> include ltconio </s> <s> hgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string str  day cung la xau thu  </s> <s> str </s> <s> erase      //  cung la xau thu </s> <s> cout ltlt str ltlt endl  </s> <s> str </s> <s> erase      </s> <s> cout ltlt str ltlt endl  //  cung xau thu </s> <s> getchar  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> c so sánh </s> <s> </s> <s> bạn có thể đơn giản là sử dụng những toán tử quan hệ      lt  lt  gt  được định nghĩa sẵn </s> <s> tuy nhiên nếu muốn so sánh một phần của một chuỗi thì sẽ cần sử dụng phương thức compare  </s> <s> </s> <s> int compare  const string amp str  const  </s> <s> int compare  const char  s  const  </s> <s> int compare  sizet pos  sizet n  const string amp str  const  </s> <s> int compare  sizet pos  sizet n  const char  s  const  </s> <s> int compare  sizet pos  sizet n  const string amp str  sizet pos  sizet n  const  </s> <s> int compare  sizet pos  sizet n  const char  s  sizet n  const  </s> <s> </s> <s> hàm trả về  khi hai chuỗi bằng nhau và lớn hơn hoặc nhỏ hơn  cho trường hợp khác </s> <s> ví dụ </s> <s> </s> <s> // comparing apples with apples </s> <s> include ltiostreamgt </s> <s> include ltstringgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string str  green apple  </s> <s> string str  red apple  </s> <s> if  str </s> <s> compare  str     </s> <s> cout ltlt str ltlt  is not  ltlt str ltlt  n   </s> <s> if  str </s> <s> compare      apple     </s> <s> cout ltlt still  ltlt str ltlt  is an apple n   </s> <s> if  str </s> <s> compare  str </s> <s> size       apple     </s> <s> cout ltlt and  ltlt str ltlt  is also an apple n   </s> <s> if  str </s> <s> compare      str         </s> <s> cout ltlt therefore both are apples n   </s> <s> return   </s> <s>  </s> <s> </s> <s> d các phương thức tìm kiếm và thay thế </s> <s> </s> <s> </s> <s> </s> <s> phương thức find tìm kiếm xem một ký tự hay một chuỗi nào đó có xuất hiện trong một chuỗi str cho trước hay không </s> <s> có nhiều cách dùng phương thức này </s> <s> </s> <s> str </s> <s> find  int ch  int pos    t ì m k ý t ự ch k ể t ừ v ị tr í pos đế n cu ố i chu ỗ i str </s> <s> str </s> <s> find  char  s  int pos    t ì m s  m ả ng k ý t ự k ế t th ú c ‘  ’  k ể t ừ v ị tr í pos đế n cu ố i </s> <s> str </s> <s> find  string amp s  int pos    t ì m chu ỗ i s k ể t ừ v ị tr í pos đế n cu ố i chu ỗ i </s> <s> </s> <s> </s> <s> nếu không quy định giá trị pos thì hiểu mặc nhiên là  nếu tìm có thì phương thức trả về vị trí xuất hiện đầu tiên ngược lại trả về giá trị  </s> <s> </s> <s> </s> <s> //find substring </s> <s> include ltiostreamgt </s> <s> include ltstringgt </s> <s> include ltconio </s> <s> hgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string str  concho chay qua rao  </s> <s> cout ltlt str </s> <s> find  chay  ltlt endl  //  </s> <s> cout ltlt  int  str </s> <s> find  chay  ltlt endl  //  </s> <s> getchar  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> hàm tìm kiếm ngược  rfind  </s> <s> </s> <s> //find from back </s> <s> include ltiostreamgt </s> <s> include ltstringgt </s> <s> include ltconio </s> <s> hgt </s> <s> using namespace std  </s> <s> int main  </s> <s>  </s> <s> string str  concho chay qua chay qua rao  </s> <s> cout ltlt str </s> <s> find  chay  ltlt endl  //  </s> <s> cout ltlt  int  str </s> <s> rfind  chay  ltlt endl  //  </s> <s> getchar  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> phương thức replace thay thế một đoạn con trong chuỗi str cho trước đoạn con kể từ một vị trí pos và đếm tới nchar ký tự ký tự về phía cuối chuỗi bởi một chuỗi s nào đó hoặc bởi n ký tự ch nào đó </s> <s> có nhiều cách dùng thứ tự tham số như sau </s> <s> </s> <s> str </s> <s> replace  int pos  int nchar  char  s  </s> <s> str </s> <s> replace  int pos  int nchar  string s  </s> <s> str </s> <s> replace  int pos  int nchar  int n  int ch  </s> <s> </s> <s> string str  con cho la con cho con </s> <s> con meo ko phai la con cho  </s> <s> str </s> <s> replace      cho  // con cho la con cho con </s> <s> con meo ko phai la con cho </s> <s> cout ltlt str ltlt endl  </s> <s> getchar  </s> <s> </s> <s> </s> <s> </s> <s> e tách xâu </s> <s> </s> <s> trong việc xử lý xâu ký tự không thể thiếu được các thao tác tách xâu ký tự thành nhiều xâu ký tự con thông qua các ký tự ngăn cách </s> <s> các hàm này có sẵn trong các ngôn ngữ khác như visual basic java hay thậm chí là trong ltstring </s> <s> hgt </s> <s> với stl các bạn có thể dễ dàng làm điều này với stringstream  </s> <s> </s> <s> string s  xin chao tat ca cac ban  // khởi tạo giá trị của xâu </s> <s> stringstream ss  s  // khởi tạo stringstream từ xâu s </s> <s> </s> <s> while  ss gtgt token   // đọc lần lượt các phần của xâu </s> <s> các phần tách nhau bởi dấu cách hoặc xuống dòng </s> <s> </s> <s> cout ltlt token ltlt endl  </s> <s>  </s> <s> </s> <s> output </s> <s> </s> <s> xin </s> <s> chao </s> <s> tat </s> <s> ca </s> <s> cac </s> <s> ban </s> <s> </s> <s> chú ý rằng cách này cũng có thể dễ áp dụng nếu bạn muốn chuyển số thành xâu hoặc ngược lại tách  xâu thành nhiều số </s> <s> </s> <s> </s> <s> nếu không muốn sử dụng stringstream  các bạn cũng có thể tự xây dựng hàm tách xâu như sau </s> <s> </s> <s> string s  xin chao tat ca cac ban  // khởi tạo giá trị của xâu </s> <s> string  iterator t  t  // các biến lặp </s> <s> vector lt string gt split  // mảng các xâu lưu kết quả tách </s> <s> </s> <s> for  t  s </s> <s> begin  t lt s </s> <s> end  </s> <s>  </s> <s> // lặp từ vị trí bắt đầu </s> <s> t  find  t  s </s> <s> end     // tìm ký tự space   đầu tiên </s> <s> // kể từ vị trí t </s> <s> if  t  t  split </s> <s> pushback  string  t  t  // lấy xâu ký tự giữa  vị trí </s> <s> t  t    // chuyển sang vị trí sau </s> <s>  </s> <s> for  int i    i lt split ì size  i   </s> <s> cout ltlt split  i  ltlt endl  // in mảng các xâu ký tự </s> <s> getchar  </s> <s> </s> <s> output </s> <s> </s> <s> xin </s> <s> chao </s> <s> tat </s> <s> ca </s> <s> cac </s> <s> ban </s> <s> </s> <s> đoạn chương tr </s> <s> nh sử dụng các kỹ thuật sau </s> <s> </s> <s> </s> <s> phương thức findvịtríđầu vịtrícuối kýtựtìm dùng để tìm vị trí đầu tiên của kýtựtìm bắt đầu từ vịtríđầu </s> <s> hàm này trả về vị trí của ký tự tìm được nếu tìm thấy hoặc vịtrícuối nếu không tìm thấy </s> <s> </s> <s> string có thể khởi tạo từ một đoạn ký tự con của một xâu ký tự khác với cú pháp stringvịtríđầu vịtrícuối </s> <s> </s> <s> đoạn chương trình thực hiện tách các xâu ký tự kể cả trong trường hợp có nhiều ký tự space nằm liên tiếp nhau </s> <s> một cách đơn giản hơn là bạn có thể gọi hàm strtok trong string </s> <s> h để làm việc này nhưng không may là hàm này thao tác trên char chứ không phải string </s> <s> hàm thành viên cstr sẽ giúp bạn chuyển từ string thành dạng const chart cstr  const  </s> <s> </s> <s> </s> <s> hàm này cũng tự động sinh ra ký tự null chèn vào cuối xâu </s> <s> </s> <s> </s> <s> từ prototype ta cũng thấy được hàm trả về một hằng chuỗi điều này đồng nghĩa với việc ta không thể thay đổi chuỗi trả về </s> <s> </s> <s> gọi phương thức cstr </s> <s> </s> <s> string s  somestring  </s> <s> cout ltlt s </s> <s> cstr  ltlt endl  </s> <s> cout ltlt strlen  s </s> <s> cstr  ltlt endl  </s> <s> </s> <s> sau đây là ví dụ bên trên được viết lại dùng hàm thành viên cstr và các hàm trong ltstring </s> <s> hgt </s> <s> </s> <s> // strings vs cstrings </s> <s> include ltiostreamgt </s> <s> include ltstring </s> <s> hgt </s> <s> include ltstringgt </s> <s> using std  string  </s> <s> int main  </s> <s>  </s> <s> char  cstr  </s> <s> char  p  </s> <s> string str  xin chao tat ca cac ban  </s> <s> cstr  new char  str </s> <s> size     </s> <s> strcpy  cstr  str </s> <s> cstr  </s> <s> // cstr là  bản sao cstring của str </s> <s> p  strtok  cstr     </s> <s> while  p  null  </s> <s>  </s> <s> cout ltlt p ltlt endl  </s> <s> p  strtok  null     </s> <s>  </s> <s> delete  cstr  </s> <s> return   </s> <s>  </s> <s> </s> <s> output </s> <s> </s> <s> xin </s> <s> chao </s> <s> tat </s> <s> ca </s> <s> cac </s> <s> ban </s> <s> </s> <s> f chuyển đổi hàng loạt với transform </s> <s> </s> <s> outputiterator transform  inputiterator first  </s> <s> inputiterator last  </s> <s> outputiterator result  </s> <s> unaryoperation unaryop  </s> <s> </s> <s> include ltcctypegt // for toupper </s> <s> include ltstringgt </s> <s> include ltalgorithmgt //for transform </s> <s> using namespace std  </s> <s> char alphabet  char c  </s> <s>  </s> <s> static char ch  a  </s> <s> return ch   </s> <s>  </s> <s> int main  </s> <s>  </s> <s> string s  this is a lower case string  </s> <s> transform  s </s> <s> begin  s </s> <s> end  s </s> <s> begin  toupper  </s> <s> cout ltlt s ltlt endl  </s> <s> transform  s </s> <s> begin  s </s> <s> end  s </s> <s> begin  alphabet  </s> <s> cout ltlt s  </s> <s> return   </s> <s>  </s> <s> </s> <s> g một số phương thức khác </s> <s> </s> <s> còn nhiều phương thức tiện ích khác như append  rfind  findfirstnotof  findlastnotof  swap </s> <s> cách dùng các hàm này đều được trình bày trong hệ thống hướng dẫn help của các môi trường có hỗ trợ stl trong vc là msdn </s> <s> ngoài ra các phương thức như findfirstof tương tự như find  findlastof tương tự như rfind </s> <s> </s> <s> </s> <s> các đội việt nam tại acm icpc world final </s> <s> http//vnoi </s> <s> info/wiki/cacdoivietnamtaiacmicpcworldfinal </s> <s> </s> <s> </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> acm icpc là kỳ thi lập trình lớn nhất thế giới dành cho sinh viên </s> <s> năm  có gần  thí sinh từ hơn  trường đh đến từ  quốc gia và vùng lãnh thổ tham dự </s> <s> </s> <s> </s> <s> mỗi team gồm  người giải  bài trong vòng h </s> <s> </s> <s> </s> <s> để lọt vào vòng chung kết gồm khoảng hơn  đội đầu tiên các đội phải vượt qua vòng regional </s> <s> khu vực châu á thái bình dương thường có các regional tại việt nam  thái lan indonesia </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> các đội việt nam muốn được thi regional ở việt nam cần phải vượt qua vòng national </s> <s> </s> <s> </s> <s> các đội việt nam tại acm icpc world final </s> <s> </s> <s> trong phần này mình chỉ liệt kê các đội gồm  người vn và chỉ liệt kê các đội đã vào top  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>   đh công nghệ uet  vnu team unsigned  rank  </s> <s> </s> <s> </s> <s> phạm cao nguyên hcv ioi  hcđ ioi   cf natsukagami </s> <s> </s> <s> lê quang tuấn hcv ioi  hcđ ioi   cf alexa </s> <s> </s> <s> nguyễn đinh quang minh cf mofk </s> <s> </s> <s> cao nguyên và quang tuấn đã từng có bài phỏng vấn trên vnoi wiki </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>   national university of singapore nus team rrwatameda  rank  </s> <s> </s> <s> </s> <s> nguyễn tấn sỹ nguyên hcb ioi   cf flashmt </s> <s> </s> <s> nguyễn hùng tâm hcb imo  </s> <s> </s> <s> nguyễn thành trung rr cf ilovehoangyen   acm wf  </s> <s> </s> <s> </s> <s> </s> <s>   nanyang technological university ntu team ntu ares  rank  </s> <s> </s> <s> </s> <s> khúc anh tuấn hcb ioi   cf ktuan  tc ktuan  đỏ target duy nhất của vn rank  facebook hackercup   lần chung kết gcj </s> <s> </s> <s> phạm quang vũ cf conankudo   acm wf  </s> <s> đoàn tuấn anh </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>   đh công nghệ uet  vnu  rank  </s> <s> </s> <s> </s> <s> phạm văn hạnh hcv ioi   cf skyvn </s> <s> </s> <s> nguyễn tiến trung kiên hcb ioi  hcđ ioi   cf kiencoi </s> <s> </s> <s> đỗ ngọc khánh cf dnk </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>   đh công nghệ uet  vnu  rank  </s> <s> </s> <s> </s> <s> phạm văn hạnh hcv ioi   cf skyvn </s> <s> </s> <s> phan đức nhật minh hcv ioi  hcb ioi   cf minh </s> <s> </s> <s> nguyễn đức duy cf duyboy </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> fenwick tree </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/fenwick </s> <s> </s> <s> </s> <s> </s> <s> fenwick hay ở việt nam được gọi là cây chỉ số nhị phân  binary indexed tree  là một ctdl với n node và mỗi node thứ i chứa thông tin về các phần tử trong đoạn i  i amp i i </s> <s> </s> <s> ví dụ có một mảng aa </s> <s> </s> <s> </s> <s> an và được khởi tạo bằng  </s> <s> chúng ta nhận được các truy vấn  là tăng phần tử ap lên val  là in ra aa </s> <s> </s> <s> </s> <s> ap </s> <s> </s> <s> </s> <s> giờ chúng ta chỉ cần quan tâm cách giải bài toán này với fenwick nhưng sau đó bạn có thể tìm tòi và áp dụng nó cho nhiều bài tập khác </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp khi xử lý các truy vấn là ologn </s> <s> </s> <s> </s> <s> code based </s> <s> </s> <s> int fen  maxn  </s> <s> void update  int p  int val  </s> <s> for  int i  p  i lt n  i  i amp  i  </s> <s> fen  i   val  </s> <s>  </s> <s> int sum  int p   </s> <s> int ans    </s> <s> for  int i  p  i  i  i amp  i  </s> <s> ans  fen  i  </s> <s> return ans  </s> <s>  </s> <s> </s> <s> mảng bắt buộc phải là based không thể chạy với based </s> <s> </s> <s> </s> <s> bài tập </s> <s> </s> <s> </s> <s> pashmak and parmida’s problem </s> <s> bst </s> <s> </s> <s> </s> <s> tài liệu tham khảo </s> <s> </s> <s> </s> <s> codeforces </s> <s> </s> <s> </s> <s> </s> <s> hoài niệm về pascal  lê minh hoàng </s> <s> http//vnoi </s> <s> info/wiki/others/pascalvisao </s> <s> </s> <s> </s> <s> </s> <s> nhân chuyện thảo luận về việc ioi  sẽ dừng cho phép làm bài bằng pascal thầy lê minh hoàng đã có chia sẻ rất ý nghĩa về việc tại sao pascal lại được giảng dạy ở việt nam </s> <s> để những chia sẻ của thầy không bị thất lạc mất mình sẽ lưu lại vào đây  </s> <s> </s> <s> </s> <s> đầu tiên tại sao vn lại học pascal </s> <s> </s> <s> bây giờ có nhiều bạn chửi bới tùm lum thậm chí cho đây là món quà cay độc của bộ gddt </s> <s> </s> <s> </s> <s> không phải mình bênh bộ gd nhưng các bạn đó không hiểu một vấn đề lịch sử từ những năm s s là khi tin học bắt đầu vào vn pascal là ngôn ngữ chính của tạp chí công nghệ pc magazine turbo pascal vẫn là best ide phần mềm hiệu suất cao đa số viết bằng pascal sách vở về thuật toán cấu trúc dữ liệu đều dùng pascal </s> <s> vậy ngoài pascal ra còn có thể chọn gì khác </s> <s> những gì kernighan viết trong why pascal is not my favorite programming language không hề đúng với pascal extension của turbo và objpas sau này </s> <s> trong khi ngôn ngữ c lúc đó bị đập be bét </s> <s> lý do duy nhất nó tồn tại là vì unix được mở mã và c được học để mổ xẻ cấu trúc hệ điều hành mà thôi còn cái kiểu viết c pq thì dù bạn thành kiến cách mấy pascal vẫn không bao giờ cho phép viết cái code tối như thế này </s> <s> người ta nói pascal trong sáng hơn chính là khi so sánh với c chứ không phải so với python hay java là những thứ mới đâu </s> <s> </s> <s> </s> <s> thứ hai tại sao vn lại chậm chuyển sang c </s> <s> </s> <s> c ra đời từ những năm s một ngôn ngữ sẽ cần khoảng thời gian hơn chục năm để quảng bá và kiểm chứng thực tế trước khi khẳng định nó có thể tồn tại lâu dài ít ra là trong một lĩnh vực nào đó </s> <s> đến khi họ đã kiểm chứng xong và triển khai diện rộng sách vở tài liệu đầy đủ cộng đồng hoạt động tích cực </s> <s> </s> <s> </s> <s> thì việt nam chưa có internet nói gì đến các hình thức thương mại điện tử để mà mua sách phần mềm </s> <s> </s> <s> </s> <s> ở bậc phổ thông thì kỳ thi quốc tế vẫn phổ biến pascal cho tới đầu những năm  </s> <s> ở ngoài xã hội tạp chí pc world vn ra rả các bài nói về visual basic foxpro </s> <s> </s> <s> </s> <s> là những thứ mà các công ty tin học dùng để làm các phần mềm quản lý nhân sự </s> <s> </s> <s> </s> <s> chẳng có bài nào nói về c cả </s> <s> thậm chí nhiều người đều cho là c là một extension của c chứ không phải là một ngôn ngữ mới nữa kia </s> <s>  năm học khoa toán của mình khi ra trường cntt có những bước phát triển nhưng là phát triển sai hướng </s> <s> mình có cảm giác là nếu như ms đánh mất vị trí  mọi thứ của việt nam sẽ reset lại như khi mình tốt nghiệp pt </s> <s> </s> <s> </s> <s> thứ ba tại sao mình phải ngừng dạy pascal </s> <s> </s> <s> pascal object pascal đối với mình vẫn là ngôn ngữ hay </s> <s> thật đáng tiếc vì nó không còn sự hỗ trợ từ những ông lớn nên không được chuẩn hóa mở rộng về ngôn ngữ cũng như thư viện hỗ trợ </s> <s> chính cái cộng đồng phát triển free pascal đã giết nó bằng cách đưa ra những phiên bản mới đầy lỗi dịch sai chậm sửa </s> <s> lẽ ra phát triển theo hướng công cụ học tập thi cử hoàn thiện thư viện fclstl </s> <s> </s> <s> </s> <s> thì lại đi phát triển thêm một đống tool làm software chẳng để làm gì vì người làm chuyên nghiệp có delphi rồi </s> <s> ngay cả mình là người code objpas khá giỏi mà nhiều lúc rất ức chế với mấy cái lỗi của nó ngay cả bộ cài đặt làm cũng không nên hình </s> <s> </s> <s> </s> <s> thứ tư mình khảo sát chuyện dạy c như thế nào </s> <s> </s> <s> vào khoảng  có nhiều thầy khuyên và các bạn mình đề xuất chuyển sang dạy c ở phổ thông ở chuyên sư phạm csp </s> <s> mình bắt đầu lộ trình dù rất nhiều bạn phê phán rất gay gắt và đề nghị chuyển ngay lập tức </s> <s> nhưng mình nắm hơi nhiều sinh mạng trong tay không thể liều được </s> <s> </s> <s> </s> <s> </s> <s> đầu tiên là khảo sát tình hình anh em những đơn vị nào đang dùng c để học tập mô hình đó </s> <s> kết quả khá là thất vọng chuyên tổng hợp a có kết quả tốt nhưng đối tượng học sinh đầu vào rất khác với csp cách học cách tuyển chọn cũng khác không tham khảo được gì </s> <s> các đơn vị khác dùng c thì kết quả chập chờn trong khi những đơn vị dùng pascal như hải phòng hà nội ptnk </s> <s> </s> <s> </s> <s> kết quả ổn định tốt </s> <s> </s> <s> tiếp theo là tìm hiểu hệ thống chấm bài thi qg bên mình không thi thành phố nên ko quan tâm thành phố chấm kiểu gì kết quả hệ thống amm không chấm được trực tiếp mã cpp phải dịch tay hơn nữa khi mã cpp chạy lỗi thường treo luôn hệ thống chấm </s> <s> </s> <s> </s> <s> nếu không chấm tay thì phải chạy trung gian qua một code pascal thiệt thòi về thời gian </s> <s> </s> <s> </s> <s> </s> <s> về ide và trình dịch trên unix thì khá ổn nhưng gcc và devc trên windows tính cho tới bản  </s> <s> x vẫn còn lắm lỗi quá </s> <s> sinh lỗi báo lỗi lung tung đối với người mới học sẽ gây ức chế giảm cảm hứng tìm hiểu </s> <s> </s> <s> về tình hình học tập code bẩn tràn lan vô số undefined behaviors chẳng theo standard/style nào cả </s> <s> hệ quả của việc học tập thiếu hệ thống và không nghiêm khắc với bản thân </s> <s> </s> <s> về sách vở thì ôi thôi bó tay luôn xin lỗi các bộ giáo trình c tiếng việt mình đã đọc qua tất cả đều không xài được </s> <s> mình không thể yêu cầu hs đọc được tiếng anh vì học sinh các tỉnh về csp học đâu có nền tàng tiếng anh tốt </s> <s> hơn nữa thứ tiếng anh hùng biện chém gió khác hẳn với thứ tiếng anh để đọc hiểu bản chất </s> <s> </s> <s> về nội lực trong bộ môn cũng toàn người như mình nếu chuyển ngôn ngữ thì cùng chuyển chứ lệch pha thì cộng tác giảng dạy sao được </s> <s> hơn nữa c mình không giỏi như pascal dạy lập trình là phải thị phạm không phải cứ chiếu bụp cái code lên giải thích là xong </s> <s> phải làm từ đầu gt gặp bugs gt debug ngay trước mũi học sinh sinh viên nó mới học được cách thiết kế triển khai và gỡ rối kiểm thử </s> <s> nhỡ gặp cái bug mình gỡ cả tiết không xong thì cháy nên hơi run </s> <s> </s> <s> </s> <s> về quan điểm có nhiều quan điểm mình không thể theo </s> <s> ví dụ nhé </s> <s> </s> <s> </s> <s> chuyển c chỉ là transcode thôi if bên pascal viết thế này bên c viết thế kia while repeat for cũng thế </s> <s> </s> <s> </s> <s>  </s> <s> mình nghĩ rất khác first language giống như tiếng mẹ đẻ ta phải nghĩ theo ngôn ngữ đó mới được chứ nghĩ bằng một ngôn ngữ rồi dịch ra một ngôn ngữ khác không phải là cách làm tự nhiên và hiệu quả </s> <s> </s> <s> dạy pointers và oop làm gì dạy chúng nó không hiểu mà đi thi đâu có cần </s> <s> dạy là dạy mà thi là thi c vứt đi  thứ đó sẽ đến lúc có bài không thể giải quyết được thì biết kêu ai giờ </s> <s> mình vẫn luôn kêu ca là sgk lớp  dưới áp lực giảm tải vứt đi luôn lệnh repeat và for của pascal là một sai lầm </s> <s> khó bước đầu thì mới dễ về sau có phải vòng lặp nào viết kiểu while cũng thuận với tư duy lập trình đâu </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thứ năm mình triển khai dạy c as first language như thế nào </s> <s> </s> <s> nói chuyện này đúng là số chém gió tí thì gọi là thiên thời </s> <s> </s> <s> </s> <s> cái may thứ nhất là năm  </s> <s> mình và thầy đông nhận được dự án của bộ gd viết hệ thống chấm tự động trên windows </s> <s> mình đặt mục tiêu viết một bộ chấm ổn định chạy không cần cấu hình cao dịch cpp như pas dù ít chức năng cũng được </s> <s> mã nguồn kernel sau khi nghiệm thu bộ giữ bản quyền mình thì build và cập nhật bản enduser cho các nơi dùng free </s> <s> vậy là thiên hạ khỏi băn khoăn việc dùng cpp thiệt thòi khi chấm </s> <s> </s> <s> </s> <s> cái may thứ hai là năm  </s> <s> uet được giao chỉnh sửa quy chế thi qg và phụ trách việc huấn luyện đtqg </s> <s> thầy đàm thầy nghĩa anh việt hà và phạm bảo sơn </s> <s> </s> <s> </s> <s> gọi mình với hồ đắc phương đi họp nhân lúc đó ấn luôn code blocks vào và thế là cái họa devcpp với gcc cũ rích coi như được loại bỏ </s> <s> chương trình sẽ được dịch theo phiên bản mới nhất tính từ lúc triển khai kỳ thi </s> <s> </s> <s> </s> <s> còn lại là việc nội bộ cả bộ môn lao vào cày học viết giáo trình thậm chí phải thi như thật cùng bọn học sinh xem thế nào </s> <s> mình không thi được thì đi dạy thằng đi thi cũng khó </s> <s> cựu học sinh cũng phải xắn tay vào nữa </s> <s> </s> <s> </s> <s> cuối cùng tại sao cứ phải pascal/c/c mà không phải thứ nào khác phổ biến hơn </s> <s> </s> <s> bạn có thể học một ngôn ngữ dễ hơn để làm quen với việc lập trình scratch python </s> <s> </s> <s> </s> <s>  cũng có thể dùng một ngôn ngữ khác thiết kế phần mềm java basic </s> <s> </s> <s> </s> <s>  </s> <s> nhưng khi bạn muốn tìm hiểu sâu về thuật toán cũng như muốn đánh giá chính xác hiệu suất thuật toán những ngôn ngữ đó hoàn toàn không phù hợp </s> <s> trong giai đoạn học thuật toán ngôn ngữ lập trình chương trình dịch công cụ lập trình là cực kỳ quan trọng </s> <s> bởi vì bạn sẽ phải tư duy trên ngôn ngữ đó bạn còn phải hiểu bản chất thế nào là một đoạn code tốt thế nào là một đoạn code tồi về mặt hiệu suất </s> <s> bạn cũng không thể học các thuật toán chia để trị nếu dùng một ngôn ngữ lập trình không cho phép đệ quy không thể đánh giá đúng hiệu suất của một thuật toán trên thực tế đong đếm đến từng nano giây khi mà thời gian thực hiện chương trình mất phần lớn vào công đoạn thông dịch hay kích hoạt máy ảo </s> <s> </s> <s> </s> <s> ví dụ thế này nhé khi bạn học lái xe thông thường bạn sẽ được tập bằng một chiếc sedan hatchback hay couple </s> <s> khi ra đường phố ngoài các loại trên bạn thường thấy phổ biến các loại xe suv pickup roadster </s> <s> </s> <s> </s> <s> nhưng ở phương diện những người làm chuyên nghiệp trong ngành công nghiệp ô tô bạn phải biết về công suất và từng chi tiết động cơ hiểu rõ khả năng cân bằng xe các thiết kế khí động học độ cứng và độ bám của lốp hệ thống phanh </s> <s> </s> <s> </s> <s> và để biết tất cả những thứ này bạn bắt buộc phải ngồi vào một chiếc f dù việc điều khiển nó không hề dễ dàng và nó cũng sẽ không bao giờ là loại xe phổ biến trên đường phố </s> <s> </s> <s> </s> <s> tất cả những thứ đó bất kỳ đơn vị nào muốn chuyển đổi có lẽ sẽ ít nhiều phải trải qua </s> <s> với một cơ chế tổ chức cồng kềnh rất khó mà thay đổi diện rộng được nếu không nhắm mắt chịu gạch đá </s> <s> </s> <s> </s> <s> ngay cả việc ioi có lộ trình bỏ pascal mình không biết gì hết vì mình không đi theo đoàn từ năm  do lý do tài chính </s> <s> năm  thằng korokevich vô địch ioi bằng pascal chẳng ai nói gì về lộ trình này </s> <s> những năm sau cũng không thấy ai về nói hoặc một thông tư chính thức từ phía bộ gddt </s> <s> tất cả những xu hướng kiến thức hay thể thức mình đều phải đoán từ mấy bài tham luận của tạp chí olympiads in informatics </s> <s> </s> <s> </s> <s> nói như thế tức là mình đã sử dụng hết quyền trong phạm vi có thể rồi việc còn lại là ở cấp vĩ mô hơn nữa kia </s> <s> </s> <s> </s> <s> chú thích   vài nhân vật xuất hiện trong bài </s> <s> </s> <s> </s> <s> thầy đông thầy đỗ đức đông </s> <s> </s> <s> anh việt hà thầy nguyễn việt hà hcđ ioi lần thứ  năm  hiệu trường đh công nghệ uet </s> <s> </s> <s> phạm bảo sơn thầy phạm bảo sơn hcb ioi năm  và  hiệu phó trường đh công nghệ uet </s> <s> </s> <s> </s> <s> </s> <s> các comment này được lấy từ comment của thầy hoàng ở post của anh trương xuân nam hcb ioi  </s> <s> </s> <s> </s> <s> </s> <s> phỏng vấn team ioi việt nam  </s> <s> http//vnoi </s> <s> info/wiki/vnoiinterview/phongvanteamioivn </s> <s> </s> <s> </s> <s> </s> <s> vừa qua đoàn ioi việt nam đã xuất sắc đem về cho việt nam những kết quả rực rỡ trong kì thi ioi  tại tehran </s> <s> sau đây là  khuôn mặt chắc chắn quen thuộc với mọi người trong cộng đồng cp việt nam </s> <s> </s> <s> </s> <s> phạm cao nguyên đến từ trường chuyên tổng hợp hà nội với thành tích vô cùng ấn tượng  giải tầm quốc tế với  huy chương apio và  huy chương ioi </s> <s> trong đó ấn tượng nhất là tấm huy chương vàng ioi năm  </s> <s> bạn cũng có công đóng góp rất nhiều trong nền tin học việt nam trong đó bạn chính là tác giả của web interface cho themis </s> <s> </s> <s> cf http//codeforces </s> <s> com/profile/natsukagami </s> <s> lê quang tuấn đẹp trai đến từ trường chuyên sư phạm cùng những kết quả cũng khủng không kém </s> <s> bạn ấy đóng góp  huy chương apio và một huy chương vàng ioi </s> <s> </s> <s> cf http//codeforces </s> <s> com/profile/youaremyprettysunshine </s> <s> nguyễn hy hoài lâm là học sinh đầu tiên tham gia và mang về tấm huy chương ioi cho trường quốc học huế </s> <s> bạn ấy đã mang về cho việt nam  huy chương apio và  huy chương ioi </s> <s> </s> <s> cf http//codeforces </s> <s> com/profile/abcdef </s> <s> nguyễn diệp xuân quang là người đã xuất sắc giành được điểm cao nhất trong kì voi  và bước đến từ một thành phố không có truyền thống olympiad như một vị thần và đè bẹp mọi đối thủ với rank rất cao rank  tst và rank  và huy chương bạc apio trong việt nam và giành cho mình một vị trí trong ioi </s> <s> quang là ví dụ rõ nét về việc tiến lên từ cố gắng hết mình </s> <s> </s> <s> cf http//codeforces </s> <s> com/profile/xuanquang </s> <s> </s> <s> </s> <s> được tham dự một kì ioi là mơ ước của bất cứ bạn nào trong giới cp nơi có thể được thi đấu các thần tượng như yuta takaya rank  ioi rank  imo  codeforces yutaka  xiao mao rank  chọn đội tuyển trung quốc legendary grandmaster codeforces matthew và có cơ hội giải những bài toán cực đỉnh </s> <s> vnoi wiki đã rất may mắn có cơ hội phỏng vấn  bạn khủng trên với hi vọng đem đến cho các bạn cái nhìn từ các ioier về các kì thi lập trình cũng như cách ôn luyện của các bạn để trở nên khủng như bây giờ </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> câu hỏi chung </s> <s> </s> <s>  </s> <s> khi đi thi bạn thấy các thí sinh nước ngoài có gì khác biệt so với vn tâm lý phong cách làm bài </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> tuấn  với bọn tàu hàn hay mỹ </s> <s> </s> <s> thì chúng nó cực kì coi trọng kết qủa còn những người bạn khác mà mình quen thì họ đến rất thoải mái giao lưu đi chơi và chẳng nghĩ mấy đến medal làm gì cả </s> <s> </s> <s> </s> <s> nguyên  tất nhiên với phần đông số nước đặc biệt là các nước châu u thì họ không hề quan tâm đến kết quả của cuộc thi </s> <s> nhiều người chỉ coi đây là một dịp đi chơi gặp mặt bạn bè quốc tế </s> <s> </s> <s> </s> <s> còn lại những nước như mỹ nhật trung quốc thì nghiêm túc kết quả hơn </s> <s> dù vậy mình thấy team nhật năm nay dù lúc nào cũng như đi chơi mà kết quả vẫn cao ngất ngưởng  </s> <s> </s> <s> quang  mình thấy thí sinh nước ngoài có thể chia ra thành hai nhóm </s> <s> </s> <s> </s> <s> nhóm  rất coi trọng kết quả huy chương điển hình là trung quốc mỹ </s> <s> hiển nhiên là áp lực tâm lý của họ sẽ lớn </s> <s> </s> <s> nhóm  đến cuộc thi với mục đích giao lưu vui là chính không quan tâm nhiều đến huy chương không có áp lực tâm lý </s> <s> </s> <s> nhưng dù thuộc nhóm nào thì mình đều thấy họ rất cởi mở và trò chuyện với họ rất thoải mái </s> <s> </s> <s> </s> <s> </s> <s> lâm  một số đội có vẻ như cực kỳ xem trọng kết quả trung quốc hàn quốc </s> <s> </s> <s> </s> <s>  còn những đội khác thì mình thấy họ khá thoải mái và không quan trọng medal cho lắm </s> <s> </s> <s> đội vn thì mình thấy là ở giữa giữa  loại này và thiên về loại  hơn </s> <s> </s> <s> </s> <s>  </s> <s> khi học cp các anh thường học từ nguồn nào làm bài tập ở đâu </s> <s> tập trung vào học kĩ lý thuyết hay làm bài tập để nâng cao kỹ năng ạ </s> <s> </s> <s> tuấn  nguồn bài tập thì thay đổi qua từng thời kì </s> <s> hồi mới học thì mình chủ yếu cày các bài a b c div trên codeforces rồi qua một thời gian thấy quá chán thì sang cày mấy bài dùng kiến thức ở trên spoj suốt năm lớp  </s> <s> đến năm lớp  thì mở rộng sang làm usaco coci rồi cày các đề voi những năm trước </s> <s> codeforces thì mình vẫn làm thường xuyên nhưng lên lớp  thì mình không làm codeforces nữa </s> <s> lên lớp  thì mình chỉ tập trung vào suy nghĩ nên làm những đề cần phải nghĩ sâu như poi hay atcoder topcoder vào ioi thì được nguyên phổ độ cho joi spring camp với đề cực kì chất lượng </s> <s> mình chả bao giờ tập trung vào học lý thuyết làm gì cả khi gặp một bài mà cần dùng kiến thức mình chưa học thì mình lên mạng tìm tài liệu đọc rồi áp dụng làm bài đó </s> <s> </s> <s> </s> <s> nguyên  lớp  học tổng hợp lúc đầu được làm uva rất nhiều d đề uva tóm lại không khó nghĩ gì cả nhưng rất lằng nhằng xử lí lăng nhăng nói chung là nguồn tốt để cày cho quen tay code </s> <s> sau đấy mình đi làm các oj có bài khó hơn  lớp  thì làm codeforces trước khi thi voi thì làm voi các năm trước rồi làm ba lan và các contest của châu u đợt ioi năm ngoái thì cày topcoder đợt ioi năm nay thì làm joi spring camp </s> <s> </s> <s> </s> <s> quang  mình thường làm bài tập và tham gia các contest từ trang spoj việt nam codeforces đến lớp  thì có thêm atcoder vào ioi thì làm thêm các đề ioi từ năm  và được các bạn ioi phổ độ cho một vài bài joi spring camp và qua đó biết thêm các thuật toán các các tiếp cận mới </s> <s> một số thuật toán thì mình được các thầy cô trong đội tuyển dạy một số thì mình tìm kiếm bằng google và ưu tiên lựa chọn các kết quả có nguồn từ codeforces emaxx geeksforgeeks … ngoài ra thì mình cũng có đọc sách competitive programming  của thầy steven halim theo dõi kênh algorithm live trên youtube </s> <s> </s> <s> </s> <s> lâm  hồi trước thì mình ngồi cày spoj suốt đến cuối  thì ngồi làm codeforces </s> <s> lúc vòng  năm nay thì làm usaco </s> <s> tới lúc học ioi thì được phổ độ cho joi sp </s> <s> về việc học lý thuyết thì mình chỉ đọc qua là thuật toán ctdl </s> <s> </s> <s> </s> <s> đó dùng để làm gì tới khi cần mình sẽ lôi ra nghiên cứu sau </s> <s> </s> <s> </s> <s>  </s> <s> mình thấy có rất nhiều comment rằng đi thi về rồi mai mốt ko làm được gì cho đất nước </s> <s> bản thân là một nhân vật trong ấy các bạn có cảm nghĩ gì và định hướng tương lai các bạn là gì </s> <s> </s> <s> tuấn  mình là một người rất yêu đảng yêu cách mạng nên mình sẽ quyết tâm sang nước ngoài học thật tốt để về về việt nam mở một trang trại gà và lập một thương hiệu gà lqt </s> <s> </s> <s> </s> <s> nguyên  mình thấy  vế của câu chả liên quan gì đến nhau cả  tại sao cứ đi thi thì sau này không làm được gì cho đất nước nghe cứ như kiểu lời nguyền ý </s> <s> tất nhiên việc học để làm gì đó đóng góp cho xã hội không giống với việc học để đi thi thố tuy nhiên nếu mình là người học tốt thông minh thì chẳng có gì là không thể  kể cả đóng góp cho đất nước </s> <s> </s> <s> </s> <s> quang  theo mình thấy thì việc “có làm được gì cho đất nước hay không” phụ thuộc vào kiến thức chuyên môn kĩ năng sống và thái độ của mỗi người </s> <s> những bạn thuộc diện “đi thi” sẽ có lợi thế về kiến thức chuyên môn nhưng một số bạn thì kĩ năng sống không bằng các bạn “không đi thi” </s> <s> do đó sau cuộc thi mình dự định sẽ dành thời gian nhiều hơn cho việc rèn luyện các kỹ năng sống </s> <s> mình đang học ngành công nghệ thông tin ở trường đh khoa học tự nhiên hcm dự định năm  sẽ đi du học tại trường đại học quốc gia singapore với mong muốn trở thành một nhà phát triển phần mềm developer và làm việc cho công ty google </s> <s> sau khi đã có đủ kinh nghiệm mình sẽ quay về việt nam và mở một công ty phần mềm riêng </s> <s> </s> <s> </s> <s> lâm  dự định tương lai của mình là đi nước ngoài học tập thật tốt sau đó quay về nước vào đảng và phấn đấu làm chủ tịch nước </s> <s> </s> <s> </s> <s>  </s> <s> các bạn cảm nhận thế nào về thời gian học đội tuyển từ lúc ở trường cấp  đến lúc học chung nếu có thể các bạn có thể chia sẻ  vài kỉ niệm đáng nhớ </s> <s> </s> <s> tuấn  bọn mình thật lòng xin lỗi quang vì đã nhồi quá nhiều những thông tin mà đáng lẽ ra ông nên tiếp thu một cachs tự nhiên và đã troll ông quá nhiều trong khoảng thời gian học đội tuyển có thể là một trong những nguyên do khiến ông bị tâm lý </s> <s> lúc học chung thì kỉ niệm nhiều lắm mình nhớ nhất là lần cả  đứa đi ăn bít tết rồi mưa ngập đến bắp đùi vừa đi vừa hát lụt từ ngã tư đường phố hay là những buổi đi ăn đi chơi đi xem phim đi dạo bờ hồ … à cả hackathon tổng hợp nữa cả lũ thức đến sáng vui lắm </s> <s> </s> <s> </s> <s> nguyên  nói chung quãng thời gian học đội tuyển có thể nói là kỉ niệm đáng nhớ nhất thời đi học của mình </s> <s> ai mà lại không thích giành toàn bộ thời gian cho niềm yêu thích của mình chứ </s> <s> </s> <s> quang  khoảng thời gian học đội tuyển là một khoảng thời gian mình cảm thấy thích nhất khi mà mình được học bộ môn yêu thích mà tạm thời không phải bận tâm đến các môn học khác </s> <s> lúc học ioi mình đã ngộ ra nhiều điều mới như việc không lạm vào việc giải các bài dễ trong lúc làm contest trên codeforces hay kĩ năng xử lí phân loại thông tin thu thập được trên internet </s> <s> </s> <s> </s> <s>  </s> <s> có nhiều kỉ niệm đáng nhớ cả lúc học ở trường cấp  và lúc học chung mà mình không kể hết được </s> <s> </s> <s> </s> <s> </s> <s> có một hôm học đội tuyển voi vì một lý do nào đó thầy dạy đội tuyển quyết định khóa cửa phòng đội tuyển lại </s> <s> sau đó thầy mới nhận ra là trong phòng không có chìa khóa </s> <s> thầy phải gọi một thầy dạy đội tuyển khác đem chìa khóa lên </s> <s> lúc đến nơi thầy đem chìa nói “đứa nào nghịch dại thế” </s> <s> cả đội tuyển hôm ấy được một trận cười vỡ bụng </s> <s> </s> <s> lúc ở đội tuyển ioi một tối cả đội tuyển đi ăn bò bít tết xong trời mưa xối xả nước ngập đến đầu gối </s> <s> cả đội tuyển đang lội nước đi thì một chiếc xe tải chạy qua mang theo cả một đợt sóng thần đến </s> <s> tuấn và nguyên la lên “nami tới kìa” ai chơi lmht sẽ hiểu </s> <s> bữa đấy ai cũng ướt cả người nhưng đây là một kỉ niệm khá vui </s> <s> </s> <s> </s> <s> </s> <s> lâm  kỷ niệm ioi thì mình nhớ đêm trước ngày  mình và nguyên nhồi nhét vào đầu quang và tuấn một đống trí tuệ  ͡° ͜ʖ ͡° </s> <s> </s> <s>  </s> <s> các bạn làm gì suy nghĩ gì khi có cảm giác thất vọng chán nản trong việc học </s> <s> </s> <s> tuấn  việc này xảy ra rất thường xuyên việc học liên tục làm bài liên tục dẫn đến mệt mỏi áp lực nên mất cảm hứng học thiếu sáng tạo </s> <s> mình đã gặp qua tình trạng này rất nhiều lần </s> <s> mình rút ra một kinh nghiệm là phải làm thế nào để luôn luôn giữ được động lực học  xem phim và đọc sách mình thấy sách và phim khiến cho mình có động lực nhất </s> <s> một số bộ phim mà mình xem xong cảm thấy máu chiến cực kì muốn làm hết tất cả các bài trên thế giới này luôn như  ba chàng ngốc about time … sách thì có những cuốn mình rất thích như  nhà giả kim không gia đình triệu phú khu ổ chuột … mình hay lên xem code mấy thằng nick đỏ trên codeforces nữa rồi nghĩ rằng một ngày nào đấy mình sẽ code được như mấy thằng đấy </s> <s> hay thấy các anh các bạn thi khủng về thì mình có cực nhiều động lực để chiến đấu </s> <s> </s> <s> </s> <s> nguyên  mình ít bị cái này nên cũng không nghĩ ra là nên làm gì tại vì cách chọn bài của mình cũng có phần hợp với tinh thần lớp  còn trâu bò thì làm bài trâu bò sau này càng ngày càng ít sức thì làm nhiều bài trí tuệ hơn nghĩ nhiều hơn code… </s> <s> đồng thời mình rất hay nghe nhạc trong lúc code và cả khi nghĩ bài rất có tác dụng làm dãn tinh thần </s> <s> </s> <s> </s> <s> quang  trong quá trình học việc làm bài liên tục có lúc sẽ dẫn đến sự mệt mỏi lười biếng hoặc việc gặp một bài quá khó đọc sol  lần vẫn không hiểu hay làm không được một bài nào đó mà cả tỷ người ac dẫn đến chán nản mất động lực </s> <s> </s> <s> </s> <s> mỗi lần cảm thấy mệt mỏi lười biếng mình thường tạm ngưng cày bài khó quay qua làm một hoặc hai bài dễ cỡ a div  codeforces để thư giãn đầu óc rồi quay trở lại </s> <s> hoặc mỗi khi mình mất động lực mình thường lật lại các contest cũ mình đã tham gia làm một bài mà trước đó mình không làm được khi đấy thì mình cảm thấy rằng mình đã tiến bộ hơn so với lúc trước và có lại động lực </s> <s> ngoài ra đôi khi mình cũng tình cờ bắt gặp một số video bài viết nói về việc phải nỗ lực phấn đấu nếu mong muốn có thành công điều đó cũng tiếp thêm cho mình nhiều động lực </s> <s> nói nhỏ đây cũng là một nguồn động lực không nhỏ của mình </s> <s> </s> <s> lâm  khi mà thất vọng thì thường mình sẽ đi ngủ ngủ dậy xong là tự reset hết cảm xúc </s> <s> khi mà cảm thấy lười biếng mình sẽ kiếm mấy bài code max dài và lằng nhằng ra để code rồi vừa code vừa chửi tới lúc ac thì sẽ sung sướng và có động lực để học tiếp </s> <s> hoặc là mình sẽ mở hình astolfo ra xem động lực sẽ được auto refill </s> <s> </s> <s> </s> <s>  </s> <s> điều gì mà các bạn cho là quan trọng nhất để có được thành công như ngày hôm nay ex kiên nhẫn ký luật đam mê </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> tuấn  theo mình thì mình thấy đây chẳng phải thành công </s> <s> còn yếu tố quan trọng nhất để được vàng ioi  theo mình thì vàng ioi đã được chọn từ trước rồi các bạn chỉ cần hiểu tai sao mình được thôi tất cả là số cả rồi </s> <s> </s> <s> </s> <s> nguyên  ioi bé tí ấy mà d quan trọng là phải có may mắn thì sẽ có medal </s> <s> còn để vào đội tuyển thì có lẽ là kỷ luật </s> <s> có thể mọi người không tự để ý chứ dù có game gủng gì cả ngày thì đội ioi không hôm nào là bỏ làm bài cả d </s> <s> </s> <s> quang  theo mình thì quan trọng nhất là lòng đam mê </s> <s> mình đã từng đọc qua câu nói nếu công việc là đam mê của bạn thì mỗi ngày bạn không phải đi làm </s> <s> nếu có đam mê thì tự khắc ta sẽ có kỷ luật kiên nhẫn siêng năng để theo đuổi con đường mình đã chọn </s> <s> </s> <s> </s> <s> lâm  mình không hề nghĩ đây là thành công </s> <s> còn điều quan trọng nhất theo mình để có medal là code nhiều cho tay to vào bạn sẽ auto có medal assume bạn đã vào được đội ioi </s> <s> à và làm sao đấy để đừng xui như quang là được  </s> <s> </s> <s>  </s> <s> em xin hỏi thời gian biểu hằng ngày của các anh trong lúc học văn hóa không trong mùa ôn luyện cày thi ioi ở trường được không ạ  </s> <s> </s> <s> tuấn  mình đến lớp tiết nào mà hay thì mình nghe tiết nào mà chán thì mình ngủ gục xuống vì mệt </s> <s> ở nhà thì vẫn học tin rồi xem phim đọc sách để giải trí </s> <s> vẫn đi ăn chơi với bạn bè vẫn có những kỉ niệm đi học muộn bị ghi sổ đầu bài </s> <s> như thế thì tuổi thanh xuân của mình mới có nhiều thứ để nhớ </s> <s> </s> <s> </s> <s> nguyên  xa quá rồi quên gần hết rồi d mình chỉ nhớ hồi lớp  thì còn học đầy đủ các môn mà hồi đấy hóa vẫn còn nhai được nên vẫn ngồi học đầy đủ </s> <s> lúc đấy thì tối cứ làm hết bài các môn xong thì ngồi code </s> <s> mà hồi đấy hóa với lí nhiều bài không chịu được nên thỉnh thoảng cũng bỏ bài hihi </s> <s> </s> <s> </s> <s> quang  mình thì sáng học ở trường từ thứ  đến thứ  tối học thêm </s> <s> hễ lúc nào xong hết bài vở ở trường thì cày cp nếu thấy đầu óc mệt mỏi thì chơi game thư giãn touhou mấy bản mario cực khó rollercoaster tycoon  có hôm thì code danmakufu … học về lập trình phần mềm hoặc xem các video khoa học trên các kênh vsauce scishow braincraft teded </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> lâm  ngày nào mà nhiều tiết toán lý hóa not sinh f ck sinh thì mình sẽ đến lớp ngồi nghe giảng cũng vui thỉnh thoảng lại có bài nào đấy mình làm được thì cũng vui </s> <s> còn ở nhà thì mình xem phim chơi game và đọc wiki về đủ thứ về game về nhân vật về lịch sử đ ng lịch sử thế giới </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s> cho mình hỏi dự định tương lai của các bạn như thế nào </s> <s> ý mình là sau đại học ấy </s> <s> </s> <s> </s> <s> tuấn  mình sẽ cưới vợ rồi sinh con rồi dạy con thi ioi </s> <s> </s> <s> </s> <s> nguyên  tương lai mịt mù học đại học sẽ tìm cơ hội đi làm thuê rồi sau đó sẽ đi thay đổi thế giới </s> <s> </s> <s> </s> <s> quang  như đã nói ở trên mình dự định trở thành một nhà phát triển phần mềm developer và làm việc cho công ty google </s> <s> sau khi đã có đủ kinh nghiệm mình sẽ quay về việt nam và mở một công ty phần mềm riêng </s> <s> còn việc có gấu hay không thì tùy duyên số </s> <s> </s> <s> </s> <s> lâm  giờ mình chỉ biết là cứ cày tiếng anh đã </s> <s> sau đó thì mịt mù chưa có định hướng gì </s> <s> </s> <s> </s> <s>  </s> <s> theo các anh nghĩ thì trình độ của những người từng đạt huy chương ioi sau khi tốt nghiệp đh có hơn trình độ của những người không phải dân competitive programming nhưng chăm chỉ cần cù chịu khó tìm hiểu sau khi tốt nghiệp đh không và nếu hơn thì những người từng đạt huy chương sẽ hơn được những điểm gì ạ </s> <s> </s> <s> tuấn  theo thầy đông phân tích thì mỗi người đều có trình độ tư duy nhất định mức độ nhất định </s> <s> cần cù chăm chỉ sẽ khiến ta đạt được mức độ đấy khai phá được tiềm năng của bản thân </s> <s> và khi đã đến giới hạn rồi thì lên nữa sẽ rất khó thế nên cần cù chăm chỉ làm những thứ vượt quá khả năng của mình vẫn có thể nâng trình độ lên được </s> <s> những lời này thầy đông đã nói với đội apio  và mình cảm thấy nó rất đúng </s> <s> </s> <s> </s> <s> nguyên  mình thấy là người được medal chỉ chứng minh được bạn là người có iq cao hơn trung bình một chút cộng với có tố chất cần cù kỉ luật từ thời học sinh </s> <s> tất cả những thứ khác có lẽ không rõ ràng </s> <s> còn là người có làm competitive programming thì bạn có kinh nghiệm problem solving khả năng nghĩ nhanh hiểu biết cơ bản về algo amp data structures </s> <s> </s> <s> </s> <s> quang  theo mình thì người học competitive programming sẽ có lợi ở chỗ xuất phát điểm cao hơn đã nắm vững về tư duy lập trình các cấu trúc dữ liệu cơ bản có kinh nghiệm về debug </s> <s> </s> <s> </s> <s>  </s> <s> nhưng đây cũng là những thứ mà các bạn chưa từng học competitive programming có thể học được thông qua quá trình làm việc tìm hiểu </s> <s> </s> <s> </s> <s> lâm  mình chỉ thấy là dân cp thì sẽ có nhiều kinh nghiệm về code và debug hơn thôi </s> <s> </s> <s> </s> <s>  </s> <s> dạo này rộ lên chuyện bàn luận về gà chọi </s> <s> các bạn có nghĩ mình là gà chọi ko  các bạn suy nghĩ thế nào về quãng thời gian học đội tuyển </s> <s> </s> <s> tuấn  mình nghĩ mình không phải là gà </s> <s> mình học tin vì niềm đam mê yêu thích của mình </s> <s> kể cả thi có thọt thì mình vẫn học tin thôi </s> <s> học đội tuyển cho ta nhiều kỉ niệm trải nghiệm đáng nhớ mà ít ai được trải qua </s> <s> được toàn tâm toàn ý theo đuổi một giấc mơ được sống bên những người bạn người đồng hành cùng trang lứa </s> <s> đấy là luyện gà chọi ư  </s> <s> </s> <s> nguyên  gà chọi quá ý chứ  nhưng gà chọi thì có gì sai đâu </s> <s> ít nhất con gà chọi vẫn giỏi đặc biệt ở môn chọi </s> <s> có gì sai ở việc cố gắng giỏi ở một môn có ích cho tương lai chứ </s> <s> </s> <s> </s> <s> quang  trong quá trình học đội tuyển mình không phải dành cả ngày để học mà vẫn có thời gian để chơi hoặc tìm hiểu về những vấn đề khác </s> <s> mình cũng không phải chịu nhiều áp lực từ thầy cô và gia đình </s> <s> sau quá trình học đội tuyển mình vẫn lấy lại được kiến thức các môn khác </s> <s> nên mình không nghĩ mình là gà chọi </s> <s> </s> <s> </s> <s> lâm  mình không nghĩ mình là gà chọi </s> <s> thứ nhất là vì mình gà vkl  thứ hai là nhà trường và gia đình cũng không đặt áp lực gì cho mình </s> <s> </s> <s> </s> <s>  </s> <s> ngồi trong phòng thi voi v apio với ioi có gì khác nhau cảm giác nộp offline khác nộp online thế nào </s> <s> áp lực khi biết tất cả moi người xem điểm mình  việc thi hai ngày có ảnh hưởng gì đến tâm lý các anh </s> <s> </s> <s> tuấn  voi  là kì thi mà mình tuyệt vọng kinh khủng vì chả biết làm gì cả </s> <s> nộp offline thì rõ là sợ nên không có nhiều thời gian để nghĩ hay làm những thứ đột phá </s> <s> theo mình thì thấy là mình chả có áp lực gì cả cứ vào thi là quên hết tất cả ấy mà đâm đầu vào làm </s> <s> thế nhưng nộp online mình nghĩ có  chiều hướng  may mắn ac tâm lý hứng lên nghĩ ra làm tiếp ac tiếp càng ngày càng hưng phấn hoặc nộp mãi vẫn  điểm sửa đi sửa lại vẫn  điểm càng ngày càng tuyệt vọng thọt </s> <s> </s> <s> </s> <s> nguyên  mỗi cái thi lại căng thẳng  kiểu khác nhau </s> <s> ở voi thì lúc nào làm cũng phải đặc biệt cẩn thận thiếu  kí tự là chết như chơi </s> <s> bài cũng không phải là dễ càng không phải là dễ cắn </s> <s> vòng  thì khác một chút chấm online mà lại chấm lẻ test nên dễ ăn điểm hơn </s> <s> dù vậy bài cũng lằng nhằng hơn theo như mình thấy phần lớn là các bài khó chịu hơn là khó </s> <s> thêm nữa học tổng hợp bị bệnh ngộ thuật chuẩn nên nhiều lúc thọt vì không nghĩ ra thuật bậy bạ cắn test </s> <s> apio thì chắc là căng thẳng nhất vì chấm subtask lại có mỗi  ngày thi  không có cơ hội sửa sai </s> <s> ioi thì chắc căng vì biết rằng tất cả đang theo dõi mình thi đấu hơn nữa vào đọc đề ioi bao giờ cũng sẽ thấy bài rất khó phải có tâm lí vững chãi nghĩ dần dần mới có thể tiến đến số điểm mong muốn </s> <s> </s> <s> </s> <s> quang  ngồi trong phòng thi nào thì giây phút căng thẳng nhất cũng là giây phút trước khi cuộc thi bắt đầu còn khi bắt đầu thi thì tập trung làm bài nên quên hết cảm giác căng thẳng ngay </s> <s> mình thấy việc làm online so với offline sẽ có khác biệt </s> <s> </s> <s> </s> <s> làm online sẽ có lợi thế là biết được lời giải mình đúng hay sai không phải lo sợ là sol mình sẽ tạch vì bug vớ vẩn như lúc thi offline hơn nữa có thể test sol với độ phức tạp lớn xem thử ý tưởng đúng hay sai sau đó mới cải tiến thuật toán </s> <s> </s> <s> làm online thì thường sẽ có “lăn cầu tuyết” snowball theo hai chiều hướng </s> <s> ac được một bài lên tinh thần nghĩ ra luôn sol cho một số bài khác ac tiếp và cứ như thế thi tst ngày  thì nửa tiếng đầu không nghĩ ra sol bài  nhưng sau khi mình ac bài  xong cái nghĩ ra luôn sol bài  </s> <s> </s> <s> cứ  điểm mãi một bài sửa kiểu gì cũng không lên điểm cảm thấy tuyệt vọng và ức chế tâm lý thấy mình vô dụng và hành ngập mồm cả contest lúc thi ioi ngày  thì mình bị snowball theo chiều hướng này và “hạt bụi nào hóa kiếp thân tôi” luôn </s> <s> </s> <s> </s> <s> việc tất cả mọi người xem điểm của mình đã ảnh hưởng phần nào đến tâm lý của mình điều mà mình không nên để xảy ra </s> <s> cái cảm giác mà cả nước việt nam biết mình đang sấp mặt nó khủng khiếp lắm </s> <s> </s> <s> </s> <s> </s> <s> việc thi hai ngày không ảnh hưởng quá nhiều đến tâm lý của mình </s> <s> có câu thành ngữ “its no good crying over spilt milk” đừng tiếc rẻ con gà quạ tha </s> <s> nếu ta làm bài không tốt ở ngày  thì có tiếc cũng không làm được gì mà phải cố gắng hơn ở ngày  </s> <s> </s> <s> </s> <s> lâm  voi mình chỉ nhớ là ngồi code sml ngày  còn ngày  thì chả làm được gì </s> <s> sau đó thì các cuộc thi khác mình đều chả có cảm xúc gì </s> <s> chỉ trừ lúc chuẩn bị vào contest thì max căng thẳng thôi </s> <s> </s> <s> </s> <s> giữa nộp offline và online thì mình chỉ thấy nộp online nó đỡ sai ngu ngu hơn như kiểu nhầm  chữ số ở bài  và quên fast i/o ở bài  voi của mình vì mình code toàn chỉ rơi vào  trường hợp đúng luôn sai   chỗ lặt vặt typo </s> <s> </s> <s> </s> <s>  sai không thể sửa được thì nộp online sẽ giúp mình tránh được trường hợp  còn trường hợp  thì toàn là sai ngay test đề nên online hay offline không ảnh hưởng gì </s> <s> </s> <s> </s> <s> câu hỏi riêng </s> <s> </s> <s>  </s> <s> câu này hỏi riêng cho tuấn  gần đây có  số báo đưa tin là tuấn chơi game rất nhiều h mỗi ngày điều này có đúng ko  tuấn nghĩ sao về việc chơi game </s> <s> </s> <s> tuấn  mình hiện tại chơi  game là liên minh huyền thoại và candy crush </s> <s> thực ra thì mình không chơi nhiều mà mình xem các giải đấu chuyên nghiệp thì nhiều mỗi ngày tầm  tiếng thật </s> <s> còn chơi game thì tuỳ từng giai đoạn nếu không phải thi thì mình chơi hàng ngày mỗi ngày  trận </s> <s> còn vào đội tuyển thì mình chỉ chơi vào ngày chủ nhật </s> <s> mình đã từng là con nghiện game hồi cấp  nên mình đã học được cách kiểm soát thời gian chơi của bản thân </s> <s> theo mình biết thì anh phan đức nhật minh hồi cấp  cũng đã từng chơi võ lâm chi mộng hết sức bá đạo </s> <s> theo mình chơi game là tốt nếu chơi hợp lý vì có thể được chơi cùng bạn bè được chửi nhau khá là vui </s> <s> </s> <s> </s> <s>  </s> <s> theo mình biết vào năm lớp  quang đã tham dự kì thi học sinh giỏi quốc gia và đạt giải  và năm  cũng có kết quả tương tức nhưng lớp  lại vùng lên thủ khoa quốc gia và vào đội ioi </s> <s> điều này cũng là điều tuong tự với rating codeforces của quang trong kì tst và apio </s> <s> cho hỏi điều gì năm  đã làm quang bức phá và đièu gì khiến quang bị kẹt trong một khoảng thời gian dài như vậy  </s> <s> </s> <s> quang  theo mình tự nhận thấy thì trình độ mình tăng đều qua các năm và tăng mạnh nhất kể từ lúc học tst do trong quá trình đó thì mình học được rất nhiều từ các bạn trong đội tuyển </s> <s> ngoài ra thì may mắn cũng là một nhân tố ảnh hưởng không nhỏ trong các kì thi </s> <s> </s> <s> </s> <s> năm lớp  thì được giải ba quốc gia là nhờ vét hết tất cả các subtask nhỏ của tất cả các bài chứ lúc đó mình còn gà lắm không giải trọn vẹn bài nào hết </s> <s> năm lớp  thì mình đọc sai đề bài  nên tạch mất  điểm nên chỉ được giải ba không bị cái đấy thì có lẽ mình đã được giải nhì </s> <s> năm lớp  thì mình nghĩ mình được thủ khoa có một phần do may mắn mình nghĩ là khả năng của mình sẽ đủ để vào tst nhưng không nghĩ là sẽ được thủ khoa </s> <s> </s> <s> </s> <s> việc rating codeforces của mình tăng đột biến kể từ lúc học apio trong khi lúc học tst thọt tới nỗi xuống div  thì… mình cũng không biết tại sao </s> <s> </s> <s> mà cũng kể từ lúc xuống div  sau kì  mình đã đổi profile picture thành ảnh marisa nhân vật yêu thích trong game touhou </s> <s> kể từ đó thì rating mình tăng liên tục hơn  điểm gần đạt mức đỏ luôn </s> <s> có lẽ cô ấy đã đem lại sự may mắn cho mình </s> <s> </s> <s> </s> <s>  </s> <s> câu hỏi cho bạn nguyên bạn có nghĩ việc mình được vàng ioi năm ngoái đã phần nào đó đặt một áp lực lên bạn không  </s> <s> </s> <s> nguyên  có chứ ai mà chả thế </s> <s> may mà có ngày  thọt để được mấy ngày đi chơi xả láng </s> <s> </s> <s> </s> <s>  </s> <s> mình nghe đồn bạn đã trải qua nhiều cuộc friendzone tỏ tình  lần thì  lần fail </s> <s> bạn có cảm thấy điều này là may mắn khi có thể tập trung ăn vàng ioi sau ioi bạn có định dùng vàng của mình để thay đổi tình trạng này ko hay vẫn tiếp tục giữ vững phong độ để thêm nhiều thành tích khủng trong tương lai </s> <s> </s> <s> tuấn  bạn lấy thông tin ở đâu mà bảo mình bị friendzone nhiều như vậy </s> <s> theo mình thì vàng ioi cũng không thể đưa  người đến với nhau được </s> <s> còn mình thì đã có gấu rồi nhé </s> <s> mình thấy anh phát vừa code vừa skype mà thi vẫn khủng đấy thôi việc có bạn gái mình nghĩ không ảnh hưởng gì đến việc học lắm </s> <s> </s> <s> </s> <s>  </s> <s> bạn lâm và quang có thấy áp lực khi bản thân hai bạn là những người đầu tiên của trường thành phố và tỉnh mình đi tham dự một kì thi lớn như vậy không  </s> <s> </s> <s> quang  là người cần thơ đầu tiên dược dự thi ioi nên mình cũng mong muốn là người mang về tấm huy chương quốc tế môn tin học đầu tiên cho cần thơ </s> <s> nhưng cũng chính vì vậy mà mình đã tự gây áp lực lên bản thân mình trong cả  ngày thi dù tuấn và nguyên đã khuyên mình rằng mục đích chính của kì thi là giao lưu không có huy chương thì cũng không ai ăn thịt mình </s> <s> giờ mới thấy lẽ ra mình không nên tự gây áp lực cho bản thân như vậy </s> <s> </s> <s> </s> <s> lâm  áp lực duy nhất của mình là huy chương càng thấp thì tiền thưởng càng ít tiền thưởng ít thì khổ bố mẹ mình thế thôi </s> <s> </s> <s> </s> <s> </s> <s> vnoi interview  nguyễn xuân khánh </s> <s> http//vnoi </s> <s> info/wiki/vnoiinterview/xuankhanh </s> <s> </s> <s> </s> <s> </s> <s> hẳn mọi người đã từng giải quyết một loạt bài tập trên voj có những chiếc cầu dừa thơ mộng cùng anh chàng pirate </s> <s> tác giả những bài đó là anh nguyễn xuân khánh một trong những admin đóng góp rất nhiều đường lối quan trọng trong việc phát triển của vnoi </s> <s> </s> <s> </s> <s> anh khánh là cựu học sinh trường phổ thông năng khiếu anh đạt được huy chương đồng ioi năm  </s> <s> sau khi kết thúc  năm học ở việt nam anh đã sang university of massachusetts amherst và sau đó anh tiếp tục theo học phd ngành machine learning tại đại học maryland college park </s> <s> tại đây anh nghiên cứu về machine learning và natural language processing </s> <s> </s> <s> </s> <s> anh khánh cũng từng đi thực tập ở google trong  năm   và  ở nhiều team khác nhau có nhiều kinh nghiệm với các project khủng về machine learning và deep learning </s> <s> </s> <s> </s> <s> anh khánh nổi tiếng với những bài viết trên vnoi wiki như bài viết “tôi đã học tin thế nào gồm  phần </s> <s> </s> <s> </s> <s> tôi đã học tin thế nào phần  </s> <s> tôi đã học tin thế nào phần  </s> <s> </s> <s> </s> <s> anh còn kỳ công viết một cuốn sách machine learning cơ bản bằng tiếng việt https//mlbookvn </s> <s> khanhxnguyen </s> <s> com/ </s> <s> </s> <s>  vài của anh khánh trên voj </s> <s> </s> <s> </s> <s> kbuild </s> <s> khistory </s> <s> ktreec </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trả lời nhanh </s> <s> </s> <s>  </s> <s> có một bài viết của giáo sư john martinis nhận định rằng “các thuật toán học máy machine learning thực ra khá là ngớ ngẩn và chúng cần không biết bao nhiêu ví dụ để máy tính học được một điều cơ bản” </s> <s> anh nghĩ sao về điều này </s> <s> </s> <s> mình có google thực sự xem ông giáo sư này nguyên văn nói gì và trong văn cảnh như thế nào </s> <s> nếu chúng ta trích dẫn câu nói này một cách đơn lẻ dễ gây hiểu lầm </s> <s> ý muốn nói đến của câu này tức là về khả năng tổng quát hóa của các thuật toán machine learning vẫn còn xa mới bằng được con người </s> <s> điều này đúng </s> <s> các model machine learning thường chỉ được huấn luyện để giải quyết một bài toán riêng biệt </s> <s> chúng thiếu đi khả năng liên kết và suy luận giữa các bài toán như ở con người </s> <s> con người có khả năng học với rất ít ví dụ là do chúng ta có thể tổng hợp kiến thức từ nhiều nguồn </s> <s> vì dụ như ta đọc một đoạn văn tả một con đường thì trong đầu lại có thể mường tượng được hình ảnh của nó thậm chí có thể vẽ ra được </s> <s> hoặc nhìn thấy con đường thật thì nhớ lại con đường trong văn thơ </s> <s> các thuật toán machine learning hiện giờ vẫn chưa giỏi trong việc kết hợp nhiều dạng dữ liệu khác nhau </s> <s> </s> <s> </s> <s> tuy nhiên nói là machine learning học chậm chạp cũng không đúng </s> <s> thực tế là google có thể huấn luyện được một model dịch thuật anhpháp từ level không biết gì đến level làm hài lòng con người trong vòng vài tuần </s> <s> liệu bạn có thể làm được điều đó với một đứa bé chưa biết nói hoặc kể cả một người lớn machine learning đặc biệt là deep learning cần rất nhiều dữ liệu đó vừa là nhược điểm nhưng vừa là ưu điểm </s> <s> trong khi sức học của con người là có giới hạn sức học của machine learning là không biết mệt mỏi và vô hạn trên lý thuyết </s> <s> mặt khác nói machine learning cần nhiều dữ liệu cũng chưa hoàn toàn chính xác vì con người để có được khả năng tổng quá hóa cao cũng phải có rất nhiều trải nghiệm </s> <s> nhiều kinh nghiệm của một người được để lại từ đời ông đời cha trải qua hàng trăm năm mới tích lũy được </s> <s> chỉ là vì con người có thể sử dụng kiến thức dùng làm việc a để làm việc b nên trông có vẻ như là học rất ít về việc b để làm được việc </s> <s> tương lai của machine learning cũng sẽ hướng đến điều đó </s> <s> </s> <s> </s> <s>  </s> <s> ý tưởng sử dụng machine learning trong thực tế điên rồ nhất anh từng nghĩ ra là gì </s> <s> </s> <s> mình có một ý tưởng khá hay nhưng mà khó quá chưa làm được đó là xây dựng các model để dạy lại cho các model khác </s> <s> bây giờ đa phần các model đều mô phỏng một learner học trực tiếp từ chỉ dạy của con người </s> <s> tuy nhiên thì cách học của con người mà máy lại khác nhau </s> <s> mình muốn xây dựng một model trung gian hiểu cách học của hai bên để giúp các model learner học nhanh hơn </s> <s> </s> <s> </s> <s>  </s> <s> theo anh thì điều gì là quan trọng nhất anh học được ở đại học và anh nghĩ sao về việc đi du học </s> <s> </s> <s> khi ở đại học mình học được chữ nhẫn </s> <s> khi mới vào năm đầu mình buồn rất nhiều </s> <s> mình may mắn được học trong một trường trung học đầy nhân tài ở việt nam trường ptnk </s> <s> nhưng mà đó cũng là áp lực rất lớn vì phải nỗ lực rất nhiều để không cảm thấy thua kém bạn bè </s> <s> năm ấy bạn bè mình đậu vào những trường top rất nhiều còn mình thì lại không thành công lắm trong việc apply </s> <s> mùa hè các bạn đi thực tập ở những công ty lớn còn mình thì lại phải lủi thủi về việt nam </s> <s> khi mình viết cái resume đầu tiên trong đời thì cảm thấy rất xấu hổ vì không có gì để viết </s> <s> tuy nhiên mình học được cách chắt chiu từng cơ hội và quý trọng bản thân </s> <s> mình nhận ra là nếu có xuất phát điểm thấp thì không thể bước một bước tới trời được mà phải bước từng bước nhỏ </s> <s> dù nhỏ nhưng vẫn phải bước vì không bước thì sẽ chẳng đi đến đâu cả </s> <s> thay đổi trong tư tưởng bắt đầu từ việc viết resume </s> <s> suy nghĩ của nhiều người khi viết resume lần đầu đó là mình thấy mình chẳng có thành tích để ghi vào cả </s> <s> mình tòan làm những thứ vớ vẩn thôi </s> <s> tuy nhiên đó là suy nghĩ cần nên được vượt qua nhất là khi bạn ở mỹ </s> <s> người mỹ rất giỏi trong việc nâng tầm những việc tưởng chừng như rất bình thường của họ </s> <s> đó không phải là ba hoa mà thể hiện sự trân trọng và tự hào về bản thân </s> <s> khi mình trân trọng bản thân thì mới làm cho người khác cũng trân trọng mình được </s> <s> năm thứ hai mình đi thực tập ở một công ty không phải là quá lớn để lấy kinh nghiệm đồng thời cũng apply thử một lớp học kéo dài chỉ có một tuần ở google </s> <s> không ngờ sau đó mình đậu </s> <s> lớp học này sau đó lại được ghi vào resume giúp hồ sơ của mình thân thiện hơn với người tuyển dụng ở google </s> <s> cho nên mình cũng có lời khuyên với các bạn muốn làm ở các công ty tốt là hãy cố gắng săn lùng và tham gia các hoạt động của các công ty này tổ chức hackathon summer school </s> <s> </s> <s> </s> <s>  vì các công ty rất thích tuyển người quen </s> <s> </s> <s> </s> <s> sau khi học đại học tư tưởng của mình thoáng hơn nhiều </s> <s> bây giờ mình có tới sơ sơ chục người bạn dạng thân từ cấp  học ở stanford mit và harvard </s> <s> mình cũng chẳng phải học ph </s> <s> d </s> <s> ở trường top </s> <s> thế nên mình không câu nệ việc học trường lớn trường nhỏ nữa vì nghĩ nhiều chỉ khổ mình thôi </s> <s> mình cũng rất mong xã hội sẽ thoáng hơn khi nghĩ về việc này </s> <s> việc anh học trường nào có thể làm bệ phóng rất tốt cho tương lai </s> <s> nhưng năm mười năm sau người ta chỉ nghĩ đến việc anh làm chứ chẳng ai nhớ anh đã học trường gì </s> <s> mình nói như vậy không phải để bớt tủi thân khi không học trường top mà nói với trải nghiệm của một người học trường không top và thấy được cái lợi của nó </s> <s> malcolm gladwell có một bài thuyết giảng rất hay về chuyện này với luận điểm tóm tắt là người đứng top ở các trường mới thực sự thành công chứ không phải người đứng ở trường top </s> <s> cho nên hãy chọn trường phù hợp với khả năng để có cơ hội cao đứng top </s> <s> </s> <s> </s> <s> câu hỏi chính </s> <s> </s> <s>  </s> <s> theo em biết thì anh đã từng làm intern google research về machine learning anh có thể cho biết quá trình phỏng vấn khác thế nào so với phỏng vấn software engineering ko ạ </s> <s> </s> <s> internship của mình vẫn là engineer internship dù mình làm trong một team thuộc google research </s> <s> cho nên quá trình phỏng vấn của giống như các chia sẻ của các bạn khác trên vnoi đã làm ở google </s> <s> google research thực ra là rất rộng </s> <s> có rất nhiều team trong đó dù toàn là ph </s> <s> d </s> <s>  nhưng chỉ có nhiệm vụ chính là engineer </s> <s> còn nói về phỏng vấn để làm research scientist ở google thì mình không rõ lắm </s> <s> </s> <s> </s> <s> năm nay thì mình có một research internship thật sự ở microsoft </s> <s> quá trình phỏng vấn cũng khá đơn giản gồm  cuộc phỏng vấn </s> <s> một cuộc là về research interest một cuộc là về coding ability </s> <s> </s> <s> </s> <s>  </s> <s> việc học thuật toán hồi cấp  để luyện thi quốc gia quốc tế có giúp ích nhiều cho anh không </s> <s> </s> <s> giúp ích rất nhiều khả năng code và thói quen thích code là một lợi thế </s> <s> ví dụ trong việc phỏng vấn chẳng hạn thì rõ ràng những tay chuyên luyện algorithm sẽ trả lời các câu hỏi coding một cách khá trơn tru </s> <s> trong việc nghiên cứu khả năng đọc code và sửa code có thể giúp ta tự chủ và tiết kiệm thời gian hơn </s> <s> </s> <s> </s> <s> tuy nhiên lợi thế đó chỉ là tương đối và cần phải biết cách khai phá </s> <s> tương đối tức là không phải mình biết code thì mình sẽ hơn hẳn người khác </s> <s> người có xuất thân học toán có lợi thế của họ người xuất thân học ngôn ngữ có lợi thế của họ </s> <s> ai cũng có lợi thế nào đó quan trọng là có biết nhìn ra và khai phá hay không </s> <s> khai phá không đúng cách thì lợi thế sẽ biến thành bất lợi </s> <s> ví dụ những người đi luyện thi như mình thì quen với kiểu thi thố code nhanh cấu trúc không quan trọng miễn là ra được kết quả đúng </s> <s> đặc biệt vì thời gian chạy code ngắn nên code sai thì lại sửa chủ yếu là nhanh hoàn thành </s> <s> tuy nhiên trong nghiên cứu thì đòi hỏi phải code chuẩn mực </s> <s> code chạy là phải đúng vì thậm chí thời gian compile code cũng đã rất lâu </s> <s> học deep learning thì càng phải chú ý như mình sai một bug là mất luôn  tiếng chạy chương trình </s> <s> code phải được cấu trúc rõ ràng để có thể sau này mở rộng dễ dàng sử dụng cho nhiều mục đích khác nhau </s> <s> đặc biệt là khi nghiên cứu với tập thể code dễ hiểu sáng sủa phải được đề cao </s> <s> cho nên mình luôn giữ tâm thế mở sẵn sàng thay đổi tư duy tùy theo hoàn cảnh và chỉ giữ lại những cái bản sắc thật cốt lõi thôi </s> <s> </s> <s> </s> <s>  </s> <s> anh có định hướng lộ trình phát triển nào cho học sinh muốn theo con đường làm phd computer science không ạ và anh có so sánh gì về làm research với làm software engineering không </s> <s> </s> <s> muốn làm ph </s> <s> d </s> <s> thì đầu tiên bạn phải hiểu về nó đã </s> <s> sau khi biết nó là gì thì bạn suy nghĩ xem là bạn có thực sự cần nó hay không </s> <s> bản thân mình không xem việc học ph </s> <s> d </s> <s> là một cái học vị và không có tư tưởng học ph </s> <s> d </s> <s> để mở mày mở mặt với làng xóm </s> <s> mình xem ph </s> <s> d </s> <s> là một sở thích cũng giống như ra trường tìm một công việc để làm vậy thôi </s> <s> mình học ph </s> <s> d </s> <s> là vì mình có đam mê nghiên cứu cũng giống như một người có đam mê về ẩm thực tốt nghiệp mở quán bán phở thế thôi </s> <s> chứ mình không nghĩ ph </s> <s> d </s> <s> là thông minh hơn người ta </s> <s> mình cũng mong xã hội hiểu về ph </s> <s> d </s> <s> như một công việc một sở thích chứ không phải là một học vị nên mặc định là mấy ông tiến sĩ này biết hết mọi thứ để chê trách khi họ không làm được việc gì đó </s> <s> </s> <s> </s> <s> nếu bạn không có một đam mê nghiên cứu thì ph </s> <s> d </s> <s> là một sự lãng phí thời gian </s> <s> cho nên muốn bắt đầu học ph </s> <s> d </s> <s> bạn phải xác định được đam mê của mình là gì </s> <s> sau khi xác định được bạn tìm lấy một giáo sư trong trường có ngành nghiên cứu bạn có hứng thú và xin ông ta giao một việc gì đó cho bạn </s> <s> có một số giáo sư khó bạn sẽ không thuyết phục ông ấy trong lần đầu tiên </s> <s> nếu thế thì hãy học một lớp mà ông ta dạy rồi cố gắng làm ông ấy ấn tượng bằng cách đặt các câu hỏi thông minh nói chuyện nhiều với ông ấy </s> <s> sau khi kết thúc đại học ông thầy bạn làm cùng sẽ là người viết thư giới thiệu cho bạn </s> <s> thường thì bạn sẽ cần tới  lá thư giới thiệu nhưng chỉ một lá thư viết thật tốt là được rồi </s> <s> để được một lá thư giới thiệu thật tốt tối ưu là bạn nên ra được một paper với ông thầy của bạn </s> <s> nếu không có paper cũng đừng hoảng chỉ cần nghiên cứu của bạn đang trên hướng tốt là được </s> <s> mối quan hệ xã hội của ông thầy bạn sẽ quyết định rằng bạn sẽ đi học ph </s> <s> d </s> <s> ở đâu </s> <s> cho nên bạn nên chọn làm với những thầy có tiếng tăm tốt hoặc có paper gây tiếng vang trong thời gian gần đây </s> <s> hồi mình nộp ph </s> <s> d </s> <s>  mình không có paper nào cả nhưng vẫn đậu được master của cmu là do thầy mình là cựu ph </s> <s> d </s> <s> cmu mới tốt nghiệp ra làm giáo sư </s> <s> tuy nói vậy nhưng cuối cùng vẫn là do năng lực của bạn thôi </s> <s> tưởng tượng bạn làm với một ông giáo sư trùm nhưng mà lại biểu hiện rất tệ thì lại phản tác dụng </s> <s> </s> <s> </s> <s> với việc so sánh giữa ph </s> <s> d </s> <s> và software engineer thì mình nghĩ không nên so sánh như vậy </s> <s> tại vì đa số ph </s> <s> d </s> <s> ra trường là đi làm software engineer cả </s> <s> vấn đề chỉ làm trước hay làm sau mà thôi </s> <s> nếu nói thế thì học ph </s> <s> d </s> <s> được lợi gì thứ nhất tuy mình không coi ph </s> <s> d </s> <s> là một cái ph </s> <s> d </s> <s> là một cái học vị nhưng một số nơi sẽ coi nó như một tiêu chuẩn tuyển dụng luôn </s> <s> không phải ph </s> <s> d </s> <s> không cho vào </s> <s> những nơi này thường công việc rất cao cấp và thú vị </s> <s> thứ hai là học ph </s> <s> d </s> <s> giúp bạn có thời gian để tích lũy kiến thức sâu sắc về một lĩnh vực nào đó </s> <s> thứ ba học ph </s> <s> d </s> <s> giúp bạn luyện khả năng về viết nói và khả năng suy nghĩ giải quyết vấn đề </s> <s> </s> <s> </s> <s> thật ra theo kinh nghiệm thì mình thấy môi trường ph </s> <s> d </s> <s> với software engineer cũng không khác mấy lắm đâu </s> <s> có khác ở đây là học ph </s> <s> d </s> <s> có nhiều tự do hơn nhưng mà áp lực với bản thân nhiều hơn </s> <s> còn làm engineer áp lực đến từ cấp trên mục tiêu bị giới hạn vào mục tiêu của công ty và được trả nhiều tiền hơn </s> <s> </s> <s> </s> <s>  </s> <s> dành cho những bạn muốn tự học machine learning anh có gợi ý gì về hướng tiếp cận cũng như lộ trình để có thể tự phát triển không ạ </s> <s> </s> <s> mình có viết một cuốn sách về machine learning cơ bản  https//mlbookvn </s> <s> khanhxnguyen </s> <s> com  </s> <s> bạn có thể bắt đầu học từ đó hoặc những khóa học cơ bản như của andrew ng  coursera richard socher csd karpathy csn </s> <s> nếu mới bắt đầu thì nguyên tắc là bạn vừa học vừa bổ sung kiến thức </s> <s> nếu đọc gì bạn không hiểu thì bạn nên dừng lại và bổ sung thêm kiến thức đó </s> <s> lý thuyết machine learning thực chất là không có khó học lắm vì mảng toán không quá nặng </s> <s> tuy nhiên bạn phải hiểu kỹ và có hệ thống một chút </s> <s> ví như cuốn sách mình viết với với tư tưởng là không đi sâu vào một dạng model nào hết nhưng mà nếu học theo cách tổng quát như vậy thì gặp dạng model nào cũng thấy quen thuộc </s> <s> </s> <s> </s> <s> một lời khuyên nữa là bạn nên chăm chỉ thực hành chứ không chỉ ngồi nghe bài giảng suông </s> <s> lý thuyết machine learning thì dễ nhưng mà thực hành thì rất khó </s> <s> nếu nghe bài giảng có bài tập hoặc demo nào thì bạn nên ngồi lấy ra làm thử </s> <s> bạn nên tìm lấy một framework ml phổ biến nào đó tensorflow torch chainer rồi lập trình hoặc chạy thử các model ml trên đó có thể tìm được trên github </s> <s> </s> <s> </s> <s>  </s> <s> về xử lý ngôn ngữ tự nhiên nlp theo anh thì những challenges của nlp là gì và những người mới học ml cần biết những gì để bắt đầu đi sâu vào lĩnh vực nlp ạ </s> <s> </s> <s> challenge của nlp có rất nhiều </s> <s> nlp bây giờ tập trung vào deep learning </s> <s> cho nên những khó khăn của deep learning cũng là khó khăn của nlp ví dụ như về làm sao để học với ít dữ liệu hơn làm sao để chuyển đổi kiến thức giữa các model và giữa các task </s> <s> về mặt ngôn ngữ học thì nlp bây giờ thực chất là elp english language processing nên còn rất nhiều đất để nghiên cứu về các ngôn ngữ khác </s> <s> </s> <s> </s> <s> một thách thức lớn của nlp bây giờ đơn giản là làm sao để tạo ra ngôn ngữ một cách tự nhiên để máy tính thực sự giao tiếp được với con người </s> <s> tạo ra một câu nói đúng ngữ pháp thì không khó nhưng mà làm cho nó có ý nghĩa và ý nghĩa đó phải điều khiển được theo ý muốn của chúng ta là rất khó </s> <s> việc này lại liên quan đến việc làm sao để biểu diễn được ý nghĩa chỉ với những con số   mà máy tính hiểu được </s> <s> </s> <s> để đi vào lĩnh vực nlp thì cần có nền tảng ml tốt </s> <s> lộ trình học ml mình đã trả lời ở câu trước rồi </s> <s> ngoài ra để làm nlp tốt bạn cần có một chút kiến thức và đam mê về ngôn ngữ học nữa </s> <s> nlp bây giờ có hai thái cực một thái cực thiên về ml và một thái cực thiên về ngôn ngữ học </s> <s> ở thái cực thiên về ml bạn tạo ra một model ml tốt và muốn áp dụng nó trên một bài toán về ngôn ngữ để chứng minh là nó tốt </s> <s> thái cực này quan trọng là model ml đó giải được những bài toán nào có phải về ngôn ngữ hay không thì không quan trọng </s> <s> ở thái cực khác thiên về ngôn ngữ học bạn có một bài toán về ngôn ngữ và sử dụng ml như một công cụ để giải </s> <s> bạn không quan tâm model nào được sử dụng miễn là bài toán về ngôn ngữ của bạn được giải </s> <s> theo mình thì dung hòa giữa hai thái cực này là tốt nhất </s> <s> </s> <s> </s> <s>  </s> <s> hiện giờ deep learning đang rất hot nhưng về lâu dài thì anh có dự đoán gì không ạ liệu nó có phải chỉ là một xu hướng nhất thời hay nó sễ hoàn toàn thay thế các mô hình machine learning truyền thống ạ </s> <s> </s> <s> trong một bài blog gần đây  http//khanhxnguyen </s> <s> com/deeplearninggocnhingiaoduc/  mình có phân tích tại sao deep learning là một sự phát triển tự nhiên và tất yếu từ các model truyền thống </s> <s> mình thì thường không phân biệt model theo tên gọi và trường phái </s> <s> khi mình nhìn thấy một model mình chỉ nghĩ đến à nó có bao nhiêu lớp layer kiến trúc của nó là gì hàm mất mát của nó là gì </s> <s> nếu kiến trúc là feedforward chỉ có một layer và hàm mất mát là logistic loss thì sẽ được logistic regression </s> <s> nếu lại đổi sang hinge loss và thêm vào lregularization thì ta lại được support vector machine </s> <s> đổi logistic regression với kiến trúc recurrent thay vì feedforward ta được hidden markov model hoặc là conditional random fields </s> <s> đổi hàm loss của hmm hoặc crf thành hinge loss ta lại được structured svm </s> <s> tóm lại là nó chỉ vòng vòng thế thôi </s> <s> các model đều có bà con với nhau cả </s> <s> </s> <s> </s> <s> cho nên thực chất là không có gì thay thế cái gì cả model chỉ đang trở nên to lớn hơn thôi </s> <s> thế nên mình dự đoán rằng trong tương lai thì các model sẽ còn deep hơn nữa </s> <s> tuy nhiên đó không phải là giải pháp cho tất cả </s> <s> deep learning hiện giờ phải đi đôi với big data </s> <s> có rất nhiều nơi mà big data không có sẵn những nơi đó gọi là small data </s> <s> ví dụ như một model muốn học ý thích của từng cá nhân để phục vụ việc cá nhân hóa personalization </s> <s> vì lượng dữ liệu mà một cá nhân sinh ra không thể dồi dào các model deep learning sẽ không thể tốt bằng các model truyền thống đơn giản hơn </s> <s> thế nên trong tương lai người ta sẽ phải tìm cách tổng quát hóa kiến thức từ nhiều nguồn và học với ít dữ liệu hơn </s> <s> </s> <s> </s> <s>  </s> <s> anh có thể chia sẻ những khó khăn trong việc anh viết sách về machine learning bằng tiếng việt trong khi anh đã học và vận dụng các kiến thức đó bằng tiếng anh không ạ </s> <s> </s> <s> câu hỏi này rất thú vị </s> <s> thú thực là mình đã định viết một bài blog chỉ để nói riêng về chuyện có nên dịch hay không dịch những thuật ngữ tiếng anh </s> <s> bạn mình từng đưa cho mình một cuốn sách về machine learning tiếng việt </s> <s> mình đọc thấy chữ thuật toán xuống thang đạo hàm mãi mới đoán ra là gradient descent </s> <s> quan điểm của mình là không dịch các thuật ngữ bằng tiếng anh </s> <s> trường hợp duy nhất mình thấy nên dịch đó là để phục vụ thẩm mỹ văn học và giữ gìn sự trong sáng của tiếng việt </s> <s> ví dụ như thay vì nói model này được train bằng thuật toán x nghe nửa việt nửa anh hơi kì mình sẽ dùng từ huấn luyện thay cho train dù thực chất train là một thuật ngữ của ml </s> <s> trong các bài viết ban đầu mình cũng có dịch những thuật ngữ khác nhưng là để thân thiện hơn với người đọc </s> <s> càng về sau khi bạn đọc quen thuộc hơn với ngành ml mình sẽ ít dịch đi </s> <s> và nếu mình có dịch mình sẽ ghi kèm theo thuật ngữ tiếng anh tương đương trong dấu ngoặc </s> <s> lý lẽ cho rằng nên dịch sang tiếng việt hết để giữ gìn sự trong sáng của tiếng việt mình không đồng tình lắm </s> <s> ta nên giữ gìn cái gì là của ta tạo ra mà thôi </s> <s> còn đối với ml các thuật ngữ nguyên gốc bằng tiếng anh </s> <s> nếu dùng những cụm từ dị hợm để dịch ra vô tình chúng ta bôi xấu tiếng việt và cũng làm mất đi trong sáng của ml </s> <s> thực tế là có nhiều từ mình cũng chẳng biết dịch thế nào cho sát với môi trường việt nam nhất là các thuật ngữ trong xác suất thống kê </s> <s> </s> <s> </s> <s> mục tiêu tối thượng của cuốn sách mình viết ra không phải để thay thế các tài liệu nước ngoài mà là làm cầu nối giữa mọi người với các tài liệu nước ngoài </s> <s> thế mình không viết hết mà chỉ muốn viết dạng như một cuốn từ điển các thuật ngữ ml cơ bản </s> <s> mình biết là các bạn học ở trong nước sẽ gặp khó khăn với các thuật ngữ này nhưng chúng ta phải chịu khó tra cứu để hội nhập với thế giới thôi </s> <s> về lâu về dài người nghiên cứu ml tất yếu phải đọc được viết được paper bằng tiếng anh </s> <s> có thế thì vị thế của việt nam trong cộng đồng khoa học thế giới mới được nâng cao </s> <s> </s> <s> </s> <s> </s> <s> vnoi interview  lê yên thanh </s> <s> http//vnoi </s> <s> info/wiki/vnoiinterview/yenthanh </s> <s> </s> <s> </s> <s> </s> <s> “anh up ảnh cốc nước cũng phải được vài trăm likes </s> <s> ” </s> <s> </s> <s> bạn thử đoán xem ai là tác giả của câu nói trên sơn tùng hay tùng sơn đây không phải đó là lê yên thanh nhân vật hot nhất lắm fame nhất khủng thuộc hàng nhất trong thế giới vnoi chúng ta </s> <s> </s> <s> </s> <s> google từ khóa lê yên thanh bạn sẽ tìm thấy hàng trăm bài báo lá cải viết về anh ấy </s> <s> yên thanh nổi tiếng với vô số giải thưởng cả về oi ứng dụng lẫn những giải chung chung như nhân tài đất việt  hay gương mặt trẻ việt nam tiêu biểu  </s> <s> năm  yên thanh được thực tập tại google mountain view anh sẽ làm chính thức cho google vào năm  </s> <s> </s> <s> </s> <s> “anh ấy ăn gì mà khủng thế </s> <s> mình không thể được như anh ấy đâu </s> <s> ” có thể bạn đang nghĩ vậy </s> <s> nhưng bạn có biết rằng anh ấy cũng là một người thành công đi lên từ vnoi chúng ta </s> <s> idol yên thanh mới ngày nào vẫn còn là một oier ở an giang chăm chỉ cày quốc trên voj lên đến nick cam chinh chiến qua từng trận codeforces vnoi marathon </s> <s> anh ấy là một thành viên vnoi nhiệt tình một admin vui tính </s> <s> vậy thì hãy cùng vnoi wiki phỏng vấn idol yên thanh nhé </s> <s> không giống thông tin lá cải trên báo chúng ta sẽ được hiểu thêm về yên thanh theo một phong cách rất vnoi </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trả lời nhanh </s> <s> </s> <s>  </s> <s> được biết anh nổi tiếng với nick codeforces ihavemanygirlfriends </s> <s> vậy anh có thể cho hỏi bí kíp tán gái không </s> <s> </s> <s> tán gái và coding là  phạm trù không liên quan nhau em muốn học thì inbox anh riêng nhé  </s> <s> </s> <s>  </s> <s> anh có thể chia sẻ cảm giác làm người nổi tiếng anh có thấy thích thú khi status ảnh của mình được nhiều likes không </s> <s> </s> <s> anh thấy cũng không có gì khác biệt anh vẫn cư xử bình thường vậy thôi ai chơi thân sẽ thấy anh rất bựa là khác </s> <s> status với ảnh của mình được nhiều người quan tâm thì tất nhiên là thích rồi d </s> <s> </s> <s>  </s> <s> em nghe đồn năm lớp  anh đã bắt đầu học giáo trình của mit thực hư thế nào </s> <s> </s> <s> giáo trình mit là giáo trình gì cơ  lúc đó anh chỉ biết giáo trình dsap thôi </s> <s> </s> <s>  </s> <s> anh hãy nhận xét về sắc đẹp của anh rr </s> <s> </s> <s> </s> <s> em kiếm chị hy mà hỏi  </s> <s> </s> <s> câu hỏi nghiêm túc </s> <s> </s> <s>  </s> <s> anh hãy chia sẻ kinh nghiệm học code và cày quốc thuật toán của mình anh cân bằng việc học code với những thứ khác trong cuộc sống như thế nào </s> <s> </s> <s> thời còn thpt anh chỉ dành  tiếng để học thuật toán mỗi tối thường là từ hh </s> <s> do lịch học ở trường anh khá dày trường anh ko ưu tiên cho đội tuyển nhiều hsg qg vẫn phải hoàn thành các môn khác một cách bình thường </s> <s> do đó anh chỉ có bấy nhiêu thời gian để học trừ lúc hè hoặc cuối tuần thì mới học được nhiều hơn </s> <s> </s> <s> </s> <s> ấy thế mà lại tốt quan trọng là ngày nào anh cũng dành thời gian để học đúng  tiếng rồi nghĩ </s> <s> kiến thức được tiếp thu  cách từ từ chứ không dồn dập tích lũy qua ngày chậm mà chắc </s> <s> lúc làm anh có cuốn tập để note lại các kinh nghiệm và phương pháp làm hay cứ từ từ như vậy anh cũng tự học hết được các tài liệu dsap tài liệu giáo khoa chuyên tin các chuyên đề nâng cao v </s> <s> v… </s> <s> </s> <s> điều quan trọng là phải học từ từ nhưng phải có phương pháp để nắm vững kiến thức </s> <s> có nhiều bạn dành rất nhiều thời gian để học nhưng lại quên rất nhanh thành ra lại không tốt bằng học ít từng chút một </s> <s> </s> <s> </s> <s> còn về việc học tiếng anh thì chỉ đơn giản là nhờ anh tập đọc các tài liệu tiếng anh tham gia các kì thi tiếng anh </s> <s> dần thì vốn từ của anh cũng được nâng cao lên nhiều có khả năng đọc hiểu khá tốt </s> <s> các trang mà anh cày lúc trước là vnoi </s> <s> info usaco </s> <s> org spoj </s> <s> pl acm </s> <s> timus </s> <s> ru codeforces </s> <s> com topcoder </s> <s> com codechef </s> <s> com </s> <s> </s> <s> </s> <s> thường thì khi học  chủ đề nào đó xong anh sẽ cố làm thật nhiều bài liên quan trên các trang này để có thể mở sâu hơn về cái vừa học </s> <s> </s> <s> </s> <s>  </s> <s> anh học ở an giang trong giới tin học có thể coi là trường làng so với những trường chuyên lớn ở hà nội và hcm </s> <s> anh có cảm thấy việc ở trong một môi trường nhỏ ảnh hưởng đến cơ hội học tập của mình so với những người ở môi trường lớn theo anh việc tìm một môi trường lớn để học và làm việc có quan trọng bằng việc tự nỗ lực bản thân </s> <s> </s> <s> cái quan trọng không phải là học ở đâu mà là mình học như thế nào </s> <s> anh không bao giờ nghĩ là học ở các trường lớn sẽ lợi thế hơn so với các trường nhỏ </s> <s> một học sinh ở hà nội hay hcm được giải cao cũng phải bỏ ra sự nỗ lực rất lớn chứ không phải chỉ đơn thuần là do ngôi trường mình học </s> <s> </s> <s> </s> <s> anh nghĩ cái lợi thế duy nhất mà học sinh các trường lớn có được đó là môi trường học tập cạnh tranh có nhiều học sinh giỏi từ khắp nơi đổ về học chung một lớp </s> <s> khi học trong một môi trường cạnh tranh càng cao thì người ta sẽ càng có động lực để phát triển hoặc ai thiếu ý chí thì tạch luôn </s> <s> ví dụ như nếu giờ em học chung lớp với tourist từ nhỏ rồi thì giờ em không bằng / cũng bằng / tourist mà chỉ nhiêu đó thôi là cũng bá rồi  </s> <s> </s> <s> còn anh học ở  tỉnh vốn không mạnh về tin học hsg tin học giải  thôi cũng được xem là giỏi lắm rồi điều quan trọng là anh không nhìn những người cạnh mình mà cố gắng không thấy mình được giải cao hơn so với các học sinh trong tỉnh là đã giỏi rồi </s> <s> anh luôn đặt bản thân mới là người mà anh muốn cạnh tranh do đó anh không cảm thấy thiệt gì so với các học sinh nơi khác </s> <s> cái anh thiếu có lẽ thiếu sự trao đổi với những học sinh giỏi khác để tìm hiểu về cách suy nghĩ và tư duy của họ để bổ sung thêm vào suy nghĩ và tư duy lâu dài của bản thân mà điều này thì khi lên đại học anh đã có cơ hội làm được rồi </s> <s> </s> <s> </s> <s> tuy là học một mình cũng được nhưng nếu được đi chung với những người giỏi lúc nào cũng sẽ giúp cho mình trưởng thành hơn em ạ </s> <s> “muốn đi nhanh thì đi một mình nhưng lớn lên rồi muốn đi xa được thì phải đi cùng nhau cùng với những người giỏi giống như mình” d </s> <s> </s> <s>  </s> <s> em nghe nói năm lớp  anh được đánh giá là giỏi nhất trong số các thí sinh vòng  được giải nhất vòng  </s> <s> đáng tiếc anh lại không được thi ioi năm đó </s> <s> anh có bao giờ cảm thấy tiếc về điều này không ngoài ra anh còn điều gì khác trong cuộc đời anh cảm thấy tiếc nuối </s> <s> </s> <s> cái gì cũng có nguyên nhân của nó em ạ có thể lúc thi vòng  anh không đạt được phong độ như vòng  </s> <s> anh cũng thấy tiếc nhưng nghĩ lại thấy giờ cũng không có gì phải ân hận cả </s> <s> quan trọng là sau thất bại đó anh không từ bỏ và vẫn cố gắng theo đuổi đam mê suốt khoảng thời gian đại học tiếp theo và đã đạt lại được một số thành công nhất định như hiện nay </s> <s> </s> <s> </s> <s> điều quan trọng là dù có thất bại cũng không bao giờ từ bỏ </s> <s> đôi khi trong cuộc sống ngoài việc học em sẽ còn gặp những việc khó khăn khác làm ta trùng bước </s> <s> anh cũng từng gặp những khó khăn như thế và giờ nghĩ lại nếu lúc đó chỉ cần anh bỏ cuộc thôi thì có lẽ tương lai sẽ thay đổi hoàn toàn so với bây giờ rồi </s> <s> tuy là anh không bỏ cuộc nhưng cũng đã để những khó khăn đó làm mình hơi trì trệ  tí và cũng ảnh hưởng không nhỏ đến tương lai hiện giờ đó là điều mà anh cảm thấy tiếc nuối vì đã đôi lúc nản chí và muốn bỏ hết theo đúng nghĩa đen d may mà anh đã không làm vậy </s> <s> </s> <s>  </s> <s> các kiến thức mà anh đã tích lũy được từ vnoi có tầm quan trọng như thế nào trong công việc hiện tại của anh </s> <s> </s> <s> có lẽ đó là những kiến thức về thuật toán </s> <s> vnoi là một trong những nơi có tầm ảnh hưởng lớn nhất tới những gì mà anh đạt được hiện nay có thể nói đó là nơi anh bắt đầu con đường học tập thuật toán của mình </s> <s> nhờ nó mà anh không chỉ giỏi về thuật toán mà điều quan trọng là còn phát triển được về tư duy giải quyết vấn đề problem solving </s> <s> đó là một trong những kĩ năng quan trọng nhất mà những công ty lớn như google facebook mong muốn và nó cũng rất quan trọng cho em trong bất kể việc gì mà em làm trong tương lai sau này </s> <s> </s> <s> </s> <s> nếu bây giờ em học thuật toán mà vẫn thấy chưa có tác dụng thi hsg tin vẫn chưa thấy trúng tủ bài nào thì hãy cứ tiếp tục học tập tại vnoi và những trang thuật toán khác </s> <s> chắc chắn sẽ có ngày em nhận ra mình đang giỏi lên và có khả năng giải được các bài toán mà trước đây em không thể giải được </s> <s> về xa hơn khi làm việc thì sẽ có lúc những kiến thức thuật toán em học sẽ giúp em giải quyết được các bài toán trong công việc mà em không thể ngờ tới </s> <s> </s> <s> </s> <s>  </s> <s> em là một học sinh lớp  muốn sau này được làm ở google facebook giống anh </s> <s> theo anh kĩ năng tính cách nào là quan trọng nhất để em có thể được như anh </s> <s> </s> <s>  cái quan trọng nhất mà em cần đạt được đó là </s> <s> </s> <s> </s> <s> </s> <s> kiến thức chuyên môn </s> <s> </s> <s> ở đây anh đánh giá bao gồm thuật toán  kiến thức về máy tính  và về các kĩ thuật  </s> <s> </s> <s> </s> <s> thuật toán có thể em chỉ cần biết những thuật toán cơ bản quan trọng là em cần hiểu kĩ và sâu </s> <s> ví dụ như quicksort cài như vậy nhưng nó hoạt động như thế nào tại sao độ phức tạp lại thấp nó lại chạy nhanh hơn các thuật toán khác </s> <s> việc biết thêm các thuật toán ctdl nâng cao sẽ là một điểm cộng thêm rất lớn cho em khi được phỏng vấn </s> <s> </s> <s> kiến thức tổng quan về máy tính như em phải hiểu hđh nó hoạt động ntn ram ổ cứng dữ liệu trên máy tính được lưu ra sao mạng máy tính hoạt động ra sao </s> <s> </s> <s> </s> <s>  mấy cái này học ở đh sẽ được dạy </s> <s> </s> <s> </s> <s> các kĩ thuật thì có thể em học thêm về android ios lập trình web angularjs react lập trình backend nodejs aspx </s> <s> </s> <s> </s> <s>  và tốt nhất là em có những sản phẩm dự án làm về những kiến thức kĩ thuật này để show cho người phỏng vấn đó sẽ những thứ để em ghi điểm lúc phỏng vấn </s> <s> </s> <s> </s> <s> ngoài ra nếu em có kiến thức về làm research thì sẽ càng tốt nhưng ở đây anh nghĩ cái em nhắm tới là kĩ sư phần mềm thì những cái đó không quan trọng lắm </s> <s> trừ khi em muốn vào mảng nghiên cứu của các công ty này đòi hỏi sẽ cần phải đầu tư nhiều hơn về mặt kiến thức chuyên môn </s> <s> </s> <s> </s> <s> tiếng anh </s> <s> </s> <s> có lẽ đây là điều quan trọng nhất nếu em muốn làm cho công ty nước ngoài các em không được coi thường vấn đề này nếu không muốn sau này bị thất bại tức tưởi vì không biết đứa phỏng vấn mình đang nói cái gì  tốt nhất là từ năm  đại học nên dành thời gian để học tiếng anh giao tiếp là vừa sớm hơn thì từ thời phổ thông học luôn cũng được </s> <s> cái quan trọng là em cần nói và nghe tốt không cần toefl hay ielts gì chỉ cần em nói người ta hiểu người ta nói em hiểu là ok </s> <s> </s> <s> </s> <s> </s> <s> kĩ năng mềm </s> <s> </s> <s> kĩ năng mềm ở đây có lẽ là kĩ năng giao tiếp và làm việc nhóm </s> <s> cái này không quan trọng lắm nhưng các em nên có để khi nói chuyện và làm việc được tốt hơn khi các em có những kĩ năng này thì sẽ la một lợi thế cho con đường làm việc của mình </s> <s> nhiều người cả đời xem thường việc học kĩ năng mềm nhưng khi họ làm việc thì họ đã tự luyện những kĩ năng mềm cho bản thân mình lúc nào mà không hay </s> <s> </s> <s> </s> <s> ví dụ như em muốn đề xuất một ý tưởng mới cho mọi người trong team nếu em có khả năng ăn nói và thuyết trình tốt thì sẽ có cơ hội thuyết phục mọi người hơn còn ngược lại em sẽ chỉ mãi là một người chậm thăng tiến trong công ty </s> <s> </s> <s> </s> <s> có một người bạn nói với anh rằng trong công ty thường có  loại người winner và loser </s> <s> winner là những người có thể không giỏi chuyên môn cho lắm nhưng biết cách ăn nói và được sự ủng hộ của mọi người </s> <s> họ sẽ không ngừng học hỏi dù không giỏi bằng người khác sẽ không ngừng cố gắng để thăng tiến hơn trong công ty rồi sẽ có ngày họ thành những người rất giỏi </s> <s> loser là những người có thể rất giỏi về kiến thức lúc mới vào làm nhưng không có khả năng giao tiếp xa lánh mọi người ai giao gì làm nấy và không có khả năng teamwork </s> <s> những người như vậy dù giỏi nhưng sẽ mãi là loser chỉ làm những thứ vớ vẩn không thể nào thành công được </s> <s> rồi sẽ có ngày họ bị người khác vượt mặt </s> <s> đó là câu chuyện tham khảo thôi các em có tin hay không thì tùy  </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> anh cảm thấy công việc và môi trường làm việc ở google như thế nào so với những nơi khác đặc biệt là ở việt nam </s> <s> </s> <s> tất nhiên ở google là một trong những nơi tốt nhất để làm việc </s> <s> anh chưa làm hết tất cả các nơi ở việt nam nên cũng không thể đưa ra so sánh với các công ty ở việt nam được </s> <s> mặc dù vậy thì cũng tùy người có thể có những người thích làm việc đam mê với công việc thì làm ở đâu cũng được miễn là họ được làm những cái mà họ thích và không phải vướng bận gì tới việc cơm áo gạo tiền </s> <s> ở việt nam thì cũng không thiếu những nơi như vậy </s> <s> </s> <s> </s> <s> môi trường làm việc là quan trọng nhưng cái quan trọng nhất là điều mà em muốn làm mục tiêu mà em muốn hướng tới </s> <s> đối với anh thì thật ra google không phải là một nơi phù hợp nhất với anh chỉ là nơi mà anh từng mong muốn được đến và làm việc vào lúc anh còn đang là học sinh lớp  mới bắt đầu học tin học thôi  </s> <s> </s> <s> tuy nhiên thì google facebook cũng là những mục tiêu rất tốt để các em đặt ra cho tương lai của mình lúc bấy giờ tùy vào khả năng của các em tùy vào sự cố gắng của các em mà mục tiêu đó có thể thay đổi hoặc không </s> <s> chúc cho các em sẽ thành công trên con đường chinh phục đam mê it của mình  </s> <s> </s> <s> </s> <s> kinh nghiệm phỏng vấn google </s> <s> http//vnoi </s> <s> info/wiki/interview/kinhnghiemphongvangoogle </s> <s> </s> <s> </s> <s> </s> <s> người viết  rr </s> <s> </s> <s> trong bài viết này mình muốn chia sẻ kinh nghiệm phỏng vấn google của mình </s> <s> mình tên là rr hiện đang làm software engineer ở google </s> <s> trong thời gian làm ở google mình đã refer giới thiệu hơn  bạn vào google kể cả đỗ và trượt nhờ đó nắm được tương đối rõ quy trình tuyển dụng của google </s> <s> trước khi vào google mình làm ở garena singapore và cũng có cơ hội được phỏng vấn khá nhiều bạn </s> <s> đứng ở cả  phía của quá trình phỏng vấn đã giúp cho mình có cái nhìn rõ ràng hơn về quy trình tuyển dụng của các công ty </s> <s> </s> <s> </s> <s> bài viết này thể hiện quan điểm cá nhân của mình có thể không đúng với quan điểm tuyển dụng của google hay garena singapore </s> <s> </s> <s> </s> <s>  </s> <s> quy trình phỏng vấn google </s> <s> </s> <s> </s> <s> </s> <s> gửi resume cho google  hồ sơ của các bạn sẽ được kiểm duyệt và đánh giá sau đó những resume nào tốt sẽ được chọn vào vòng phỏng vấn </s> <s> vòng này vốn có tỉ lệ đậu rất thấp hầu hết hồ sơ của các bạn sẽ bị rớt từ vòng này </s> <s>  cách gửi resume </s> <s> </s> <s> </s> <s> vào trang google careers  tìm vị trí phù hợp rồi gửi resume hoặc </s> <s> tìm người refer là nhân viên google và gửi resume trực tiếp cho người đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> phỏng vấn  </s> <s> </s> <s> </s> <s> với intern các bạn sẽ có  vòng phỏng vấn online  phút với các lập trình viên google </s> <s> nếu google chưa đánh giá được trình độ các bạn sau  vòng thì sẽ tiến hành phỏng vấn thêm  vòng nữa </s> <s> kết quả phỏng vấn sẽ được báo sau vài tuần </s> <s> </s> <s> với phỏng vấn full time bạn sẽ phải trải qua nhiều vòng hơn thường là  vòng qua điện thoại và  vòng trực tiếp </s> <s> </s> <s> thời gian phỏng vấn các bạn có thể tự thỏa thuận với google </s> <s> </s> <s> </s> <s> </s> <s> nhận kết quả phỏng vấn  sau khi vượt qua vòng phỏng vấn bạn sẽ nhận được thư chúc mừng từ recruiter </s> <s> các bạn đọc lưu ý bên dưới rằng ở bước này có thể các bạn sẽ chưa được nhận offer letter ngay do vẫn còn bước  để các bạn có thể chắc chắn được đi thực tập tại google </s> <s> </s> <s> </s> <s> host matching  sau khi đậu phỏng vấn hồ sơ của các bạn sẽ vào một danh sách để các lập trình viên tại google hiện có dự án cho thực tập sinh xét chọn </s> <s> họ sẽ chủ động liên hệ các bạn để giới thiệu về dự án cũng như đánh giá các bạn có phù hợp với công việc không </s> <s> bạn cũng có quyền đồng ý hoặc từ chối để lựa chọn dự án phù hợp với mình </s> <s> sau khi đã chọn xong dự án thì coi như mọi thứ đã xong các bạn sẽ được liên hệ để hoàn thành các giấy tờ và chuẩn bị cho chuyến đi thực tập vào hè </s> <s> thời gian thực tập là từ  đến  tuần và có thể bắt đầu vào thời gian bất kì trong hè tùy vào điều kiện của các bạn </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> chuẩn bị </s> <s> </s> <s> phỏng vấn google chủ yếu hỏi về thuật toán </s> <s> bạn cũng có thể bị hỏi thêm  vài câu design thiết kế hệ thống hoặc những kiến thức khác </s> <s> do vậy phần này mình sẽ chia làm  mục nhỏ thuật toán kĩ năng trình bày bằng tiếng anh và các kiến thức khác </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> thuật toán </s> <s> </s> <s> với dân acm icpc hoặc oi chuyên nghiệp các câu hỏi phỏng vấn đều không khó </s> <s> để thêm tự tin các bạn có thể luyện tập cài đặt một số bài đơn giản chú ý vào xét trường hợp đặc biệt và cài đặt dễ hiểu </s> <s> trong vòng  năm trước khi phỏng vấn google mình đang chuẩn bị cho icpc world final  hầu như ngày nào cũng làm contest h nên lúc đi phỏng vấn mình cứ hồn nhiên đi chứ không cần chuẩn bị gì cả </s> <s> tuy nhiên các bạn vẫn cần chú ý một số điểm sau </s> <s> </s> <s> </s> <s> không dùng những kiến thức phức tạp và không phổ biến như splay tree suffix array max flow </s> <s> </s> <s> </s> <s> </s> <s> chú ý  số thuật toán có tên gọi khác với tên gọi phổ biến ở việt nam ví dụ như interval tree  segment tree binary indexed tree  fenwick tree </s> <s> </s> <s> tìm thuật toán thật đơn giản </s> <s> các bài phỏng vấn được làm trong thời gian ngắn vì vậy hãy chọn cách tiếp cận đơn giản nhất </s> <s> nếu người phỏng vấn chưa hài lòng họ sẽ hỏi cách tốt hơn </s> <s> </s> <s> nắm rõ những thuật toán cơ bản dùng bộ nhớ động và con trỏ như linked list tree </s> <s> các bạn cũng có thể luyện thêm trên leetcode  careercup  techiedelight </s> <s> </s> <s> </s> <s> </s> <s> với các bạn không thi acm icpc hoặc oi hoặc bạn đã bỏ thi sau nhiều năm các bạn có thể lên mạng làm thử  số bài gần với những bài được dùng trong phỏng vấn ví dụ trang leetcode </s> <s> với mỗi bài có thể luyện tập như sau </s> <s> </s> <s> </s> <s> tập trình bày thuật toán một cách rõ ràng </s> <s> </s> <s> phân tích thuật toán cả tốc độ và thời gian chạy </s> <s> có thể tham khảo thêm bài viết về độ phức tạp tính toán trên vnoi wiki </s> <s> </s> <s> suy nghĩ xem có những corner cases nào trường hợp đặc biệt </s> <s> </s> <s> trong trường hợp nào thì thuật toán có độ phức tạp xấu nhất </s> <s> </s> <s> phần nào của code có thể được thay đổi để </s> <s> </s> <s> </s> <s> giảm độ phức tạp tính toán </s> <s> </s> <s> giảm bộ nhớ </s> <s> </s> <s> cài đặt đơn giản hơn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> để kết thúc phần này mình sẽ lấy ví dụ về một câu phỏng vấn chú ý mình chưa từng thấy câu này trong lúc phỏng vấn google nhưng nó phù hợp về độ khó </s> <s> </s> <s> </s> <s> một xâu được gọi là xâu đối xứng nếu nó đọc từ trái qua phải cũng giống như từ phải qua trái </s> <s> ví dụ abcba a abba là các xâu đối xứng </s> <s> abc không phải là xâu đối xứng </s> <s> cho xâu s </s> <s> tìm xâu con gồm các ký tự liên tiếp của s có độ dài lớn nhất và là xâu đối xứng </s> <s> </s> <s> </s> <s> </s> <s> lời giải bài này các bạn có thể tìm thấy trên vnoi wiki </s> <s> với các bạn dân acm khi gặp bài này nên tránh những thuật toán như hash  vì có thể người phỏng vấn sẽ thắc mắc những vấn đề như đánh giá độ chính xác </s> <s> bạn cũng nên tránh thuật toán không phổ biến như manacher </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> tiếng anh </s> <s> </s> <s> quá trình phỏng vấn của google rất coi trọng khả năng trình bày ý tưởng </s> <s> điều này đơn giản là vì nếu không có khả năng giao tiếp tốt bạn không thể trở thành software engineer giỏi </s> <s> khi phỏng vấn mình được phỏng vấn bởi các software engineer ở các khu vực khác nhau trung quốc ấn độ singapore châu âu </s> <s> </s> <s> tiếng anh của bạn cần khá tốt để có thể nghe hiểu được các accent tiếng anh khác nhau </s> <s> </s> <s> </s> <s> việc trình bày thuật toán một cách dễ hiểu cũng rất quan trọng </s> <s> trước khi bắt đầu code bạn cần giải thích thuật toán của mình rõ ràng mạch lạc để người phỏng vấn có thể hiểu được </s> <s> sau đó nếu cảm thấy thuật toán của bạn chưa đủ tốt người phỏng vấn sẽ tiếp tục thảo luận thêm với bạn hoặc đưa ra gợi ý cho bạn làm tốt hơn </s> <s> </s> <s> </s> <s> khi chuẩn bị phỏng vấn hãy </s> <s> </s> <s> </s> <s> tập trình bày thuật toán của mình mạch lạc dễ hiểu </s> <s> </s> <s> tìm một người khác cùng luyện tập với mình để  người trao đổi thuật toán với nhau </s> <s> có thể sử dụng những trang web như pramp để luyện tập </s> <s> </s> <s> </s> <s> </s> <s> bạn không cần giỏi tiếng anh nhưng cần nắm rõ từ chuyên môn ví dụ tên tiếng anh tất cả các thuật toán diễn đạt hợp lý và có sự tự tin </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> các kiến thức khác </s> <s> </s> <s> </s> <s> để trả lời tốt các câu design các bạn nên google để tìm đọc thêm nhiều </s> <s> bạn cần có nhiều kinh nghiệm thực tế để trả lời những câu này do đó mình sẽ không đi sâu vào phần này </s> <s> </s> <s> bạn cũng có thể bị hỏi  số câu cơ bản ví dụ như pointer memory allocation </s> <s> nếu bạn dùng java cũng có thể bị hỏi những câu về jvm garbage collection </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> nộp resume </s> <s> </s> <s>  </s> <s>  </s> <s> soạn resume </s> <s> </s> <s> resume là một phần rất quan trọng trong quá trình phỏng vấn </s> <s> một resume không chỉ cần thể hiện rõ trình độ và kinh nghiệm của bạn mà còn cần được trình bày kĩ lưỡng và cẩn thận </s> <s> có rất nhiều lý do </s> <s> </s> <s> </s> <s> người duyệt resume của bạn không có nhiều thời gian </s> <s> thông thường họ sẽ chỉ nhìn qua resume của thí sinh trong  vài phút </s> <s> do đó resume cần trình bày khoa học nhấn mạnh những chỗ cần thiết và không dài dòng </s> <s> </s> <s> khi nhìn resume kém người phỏng vấn có thể sẽ hỏi những câu hỏi dễ hơn mức thông thường và bạn sẽ khó có thể chứng tỏ khả năng của mình hơn </s> <s> </s> <s> </s> <s> </s> <s> dưới đây là một vài resume chuẩn của các bạn đã được nhận bởi google </s> <s> </s> <s> </s> <s> trương minh bảo </s> <s> hồ vĩnh thịnh </s> <s> </s> <s> </s> <s> các đặt điểm cần chú ý của các resume này </s> <s> </s> <s> </s> <s> </s> <s> trình bày đơn giản rõ ràng có sự thống nhất ví dụ </s> <s> </s> <s> </s> <s> các gạch đầu dòng cùng  kiểu </s> <s> </s> <s> tiêu đề cùng  kiểu </s> <s> </s> <s> không có nhiều font chữ </s> <s> những chỗ cần nhấn mạnh được bôi đen </s> <s> </s> <s> </s> <s> </s> <s> về ngữ pháp  </s> <s> </s> <s> </s> <s> cấu trúc câu đơn giản </s> <s> các câu không cần có chủ ngữ </s> <s> </s> <s> những sự việc nào ở quá khứ thì chia đúng thời quá khứ </s> <s> </s> <s> các câu nên bắt đầu bằng những động từ mạnh như implement lead design teach </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> phần giải thưởng chỉ liệt kê có chọn lọc khoảng   giải thưởng có giá trị nhất </s> <s> </s> <s> có giải thích rõ ràng cho tất cả các phần </s> <s> </s> <s> </s> <s> giải thưởng thì phải nói rõ quy mô bao nhiêu đội tham gia thi về cái gì đạt giải ra sao </s> <s> </s> <s> kinh nghiệm làm việc cần có mô tả sơ qua về công việc nêu rõ những gì đã học được như ngôn ngữ lập trình framework tools </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> mình lấy một ví dụ khác về resume mà theo mình thấy là viết chưa tốt resume </s> <s> </s> <s> nhận xét của mình </s> <s> </s> <s> </s> <s> về mặt trình bày </s> <s> </s> <s> </s> <s> không nên dùng bảng </s> <s> có thể bỏ bớt địa chỉ trường </s> <s> </s> <s> </s> <s> objective nếu viết objective thường cần chặt chẽ với vị trí đang apply không nên viết  câu quá chung chung </s> <s> thay vào đó có thể viết  cái summary về bản thân </s> <s> </s> <s> education ghi rõ điểm  </s> <s>  /  </s> <s>  </s> <s> experience </s> <s> </s> <s> </s> <s> giải thưởng để ra  mục riêng không để lẫn với kinh nghiệm làm việc </s> <s> </s> <s> codeforces recruiter sẽ không biết rating và master nghĩa là gì </s> <s> thay vào đó nên viết là đứng trong top bao nhiêu  </s> <s> </s> <s> internship cần viết rõ về mình làm gì học được gì không cần viết về công ty đó làm gì </s> <s> </s> <s> </s> <s> </s> <s> skills </s> <s> </s> <s> </s> <s> bôi đen những từ khoá như c python </s> <s> </s> <s> </s> <s> để nhấn mạnh </s> <s> </s> <s> </s> <s> </s> <s> interests </s> <s> </s> <s> </s> <s> những interest chung chung không thật sự cần thiết </s> <s> nên thay bằng những kinh nghiệm và kết quả cụ thể </s> <s> </s> <s> có thể đưa những ý như solving hard problems required using algorithms </s> <s>  vào phần summary ví dụ như good problem solving skills and algorithm knowledge </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> kiếm người refer </s> <s> </s> <s> một nhân viên google bất kỳ có thể refer giới thiệu bạn với công ty </s> <s> nếu người refer có tâm sẽ giúp bạn có khả năng đỗ cao hơn </s> <s> để chứng minh điều này mình xin kể lại chuyện có thật </s> <s> </s> <s> ở vòng đầu tiên resume của bạn sẽ được duyệt bởi recruiter </s> <s> những người này không phải là software engineer nên có lúc sẽ không đánh giá đúng được trình độ của bạn do đó quá trình duyệt resume sẽ có rủi ro nhất định </s> <s> trong những bạn mình refer có hai bạn rất khá nhưng trượt vòng resume đã nhận được email từ chối của google </s> <s> tuy nhiên sau đó mình đã liên hệ trực tiếp với recruiter viết  email rất dài để chứng minh  bạn đó rất giỏi </s> <s> kết quả cả  bạn đều được đi tiếp đến vòng phỏng vấn và  bạn sẽ đi thực tập ở google vào hè tới </s> <s> ví dụ này cũng cho thấy quá trình duyệt resume cũng có rủi ro và tài năng thật sự có thể bị bỏ qua </s> <s> </s> <s> </s> <s> tuy nhiên bạn chỉ nên nhờ những người có quen biết trực tiếp với bạn refer </s> <s> bởi khi refer sẽ cần phải trả lời những câu hỏi như </s> <s> </s> <s> </s> <s> bạn quen ứng viên này ra sao </s> <s> ứng viên này theo bạn đánh giá có giỏi không </s> <s> ứng viên này có thông minh không </s> <s> </s> <s> </s> <s> với một người chỉ biết bạn sơ sơ tất nhiên họ sẽ không có cách nào trả lời những câu hỏi trên </s> <s> do đó sẽ không thể giúp bạn nhiều </s> <s> </s> <s> </s> <s> vậy tìm người refer ở đâu cách tốt nhất là hãy tìm hiểu xem trường của bạn hoặc những trường xung quanh có ai đã đi thực tập ở google </s> <s> nếu bạn là dân acm thực thụ cũng có thể liên hệ mình </s> <s> </s> <s> </s> <s>  </s> <s> phỏng vấn </s> <s> </s> <s> với phỏng vấn intern sẽ gồm khoảng  vòng phỏng vấn qua điện thoại </s> <s> sẽ có thể có thêm phụ thuộc vào kết quả của  vòng đó </s> <s> </s> <s> </s> <s> với phỏng vấn full time sẽ gồm  vòng phỏng vấn qua điện thoại  khoảng  vòng phỏng vấn trực tiếp </s> <s> mình có kết quả thi google code jam khá tốt nên được miễn  vòng phỏng vấn qua điện thoại và được recruiter liên hệ trực tiếp luôn </s> <s> đây cũng là  lý do các bạn nên cố gắng hết sức để thi những kỳ thi như google code jam  </s> <s> </s> <s> </s> <s> mỗi vòng phỏng vấn thường kéo dài khoảng  </s> <s> bạn sẽ cần trả lời  câu đơn giản hoặc  câu khó </s> <s> </s> <s> </s> <s> bạn sẽ phải code trên google docs và theo mình biết kết quả phỏng vấn của bạn sẽ được quyết định bởi những người phỏng vấn và hiring committee tạm dịch là hội đồng chấm thi </s> <s> hiring committee sẽ có bản google docs của các bạn vì vậy các bạn cũng nên viết sơ qua thuật toán độ phức tạp vào trong google docs trong lúc giải thích cho người phỏng vấn </s> <s> </s> <s> </s> <s> một số chú ý trong quá trình phỏng vấn </s> <s> </s> <s> </s> <s> đề bài được người phỏng vấn đưa ra có thể thiếu nhiều chi tiết </s> <s> trước khi cài đặt bạn cần hỏi rõ những điểm chưa được nói rõ </s> <s> ví dụ nếu xử lý xâu thì có thể có những ký tự nào có thể dùng ascii thông thường không </s> <s> </s> <s> </s> <s> suy nghĩ cẩn thận về các corner case trước khi bắt đầu cài đặt và giải thích với người phỏng vấn </s> <s> điều này không phải lúc nào cũng đơn giản </s> <s> nếu khi đang code bạn mới nghĩ ra corner case thì nên nói ngay với người phỏng vấn </s> <s> </s> <s> khi code bạn nên chọn thuật toán nào bạn có thể tự tin code được </s> <s> đơn giản bởi bạn code một chương trình hoàn chỉnh mà không tối ưu sẽ tốt hơn hẳn việc bạn không code xong </s> <s> </s> <s> với những bài sử dụng cấu trúc dữ liệu bạn có thể giả sử bạn đã có một thư viện với cấu trúc dữ liệu đó ví dụ bạn có thể giả sử đã có  class balancedbinarysearchtree với các hàm insert delete update </s> <s> </s> <s> dĩ nhiên bạn cũng phải nói rõ với người phỏng vấn </s> <s> </s> <s> bạn có thể trình bày một thuật toán tối ưu và khi code xin phép code cách đơn giản hơn </s> <s> nói rõ với người phỏng vấn là bạn không tự tin code được thuật toán tối ưu </s> <s> </s> <s> khi code sử dụng tên biến rõ ràng dễ hiểu </s> <s> hạn chế đặt tên biến gồm  ký tự </s> <s> </s> <s> </s> <s> </s> <s> mình sẽ lấy ví dụ về mặt cài đặt bằng bài toán tìm xâu con đối xứng dài nhất với độ phức tạp mathcalon ở phần  </s> <s> </s> <s> int expand  const string amp s  int left  int right   </s> <s> // given a palindrome substring sleft </s> <s> </s> <s> right we expand left right to </s> <s> // find the maximum palindrome substring with center left </s> <s> </s> <s> right </s> <s> </s> <s> // returns length of maximum palindrome substring with center left </s> <s> </s> <s> right </s> <s> </s> <s> </s> <s> while  left gt  ampamp right   lt s </s> <s> length  ampamp s  left     s  right     </s> <s> left   </s> <s> right   </s> <s>  </s> <s> return right  left    </s> <s>  </s> <s> </s> <s> int maxpalindromesubstring  string s   </s> <s> // given string s find its longest palindrome substring </s> <s> </s> <s> // returns length of longest palindrome substring </s> <s> </s> <s> int result    // our result </s> <s> </s> <s> for  int center    center lt s </s> <s> length  center    </s> <s> // oddlength substrings </s> <s> result  max  result  expand  s  center  center  </s> <s> </s> <s> // evenlength substrings </s> <s> if  center   lt s </s> <s> length  ampamp s  center   s  center     </s> <s> result  max  result  expand  s  center  center    </s> <s>  </s> <s>  </s> <s> return result  </s> <s>  </s> <s> </s> <s> một vài chú ý trong code trên </s> <s> </s> <s> </s> <s> mình vẫn có biến tên có  ký tự s nhưng rất hạn chế </s> <s> </s> <s> tránh lặp lại code </s> <s> ví dụ phần xét xâu đối xứng độ dài chẵn và lẻ có code giống nhau thì tách thành hàm riêng </s> <s> </s> <s> khi phỏng vấn mình cũng vừa code vừa comment như vậy </s> <s> trong quá trình code mình hầu như không nói chuyện với interviewer mà chỉ viết comment </s> <s> nếu có nói thì mình cũng chỉ đọc lại comment </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> host matching </s> <s> </s> <s> như đã trình bày ở phần đầu bài viết vòng cuối cùng bạn phải vượt qua là host matching </s> <s> mục đích của phần này là để các team tìm người phù hợp </s> <s> do đó bạn sẽ được phỏng vấn với người thuộc team đó và bị hỏi gì cũng phụ thuộc chủ yếu vào team </s> <s> có team sẽ hỏi thuật toán code có team sẽ chỉ hỏi chung chung về sở thích của bạn hoặc có team sẽ chỉ giới thiệu về những cái họ làm rồi nhận luôn chứ không cần hỏi gì thêm </s> <s> </s> <s> </s> <s> vòng này có tính rủi ro khá cao </s> <s> bạn có thể tăng khả năng đỗ của mình nếu có quen biết với nhân viên google và xin trực tiếp vào những team đó </s> <s> ngoài ra nếu bạn nộp resume sớm sẽ có lợi thế hơn ở vòng này </s> <s> ví dụ các bạn muốn đi thực tập vào hè  thì nên nộp resume từ tháng  năm  </s> <s> </s> <s> </s> <s> </s> <s> những lần phỏng vấn và những bài học rút ra </s> <s> http//vnoi </s> <s> info/wiki/interview/nhunglanphongvantrongthuctevabaihocrutra </s> <s> </s> <s> </s> <s> </s> <s> tác giả  lê trương quốc thắng </s> <s> </s> <s> thông thường trong các vòng phỏng vấn sẽ có một vòng về chuyên ngành các bạn đam mê </s> <s> mình chuyên về android nên các vòng bên dưới là về android </s> <s> </s> <s> skedgo internship </s> <s> </s> <s> sau phần giới thiệu bản thân câu hỏi đầu tiên như sau </s> <s> </s> <s> </s> <s> có  con ngựa và  đường đua </s> <s> </s> <s> các đường đua chỉ có thể xác định thứ tự về đích mà không biết chính xác thời gian về đích của mỗi con ngựa </s> <s> </s> <s> hỏi cần ít nhất bao nhiêu vòng đua để chọn ra  con ngựa nhanh nhất </s> <s> </s> <s> </s> <s> đây là một câu hỏi rất hay trong phỏng vấn vì rất khó để đưa ra câu trả lời chính xác ngay từ đó dễ dàng kiểm tra khả năng giao tiếp cách ứng viên phát hiện dần dần và giải quyết vấn đề </s> <s> điều người phỏng vấn mong muốn thấy khi hỏi câu này không phải là một câu trả lời đúng ngay lập tức nếu được thì quá tốt mà là kỹ năng giao tiếp giải quyết vấn đề cải tiến cách giải quyết </s> <s> </s> <s> </s> <s> </s> <s> để đạt được mục tiêu cuối cùng </s> <s> </s> <s> </s> <s> vng fresher </s> <s> </s> <s> vng là một trong những công ty khởi nghiệp thành công vang dội trong ngành cntt ở việt nam </s> <s> </s> <s> </s> <s> quy trình phỏng vấn </s> <s> </s> <s> </s> <s> </s> <s> vòng  tư duy logic và lập trình cơ bản </s> <s> một bộ đề bí mật được cập nhật thường xuyên bao gồm các câu hỏi để đánh giá khả năng suy luận và kiến thức cơ bản về tin học của ứng viên </s> <s> ở vòng này không đòi hỏi bất cứ kiến thức chuyên ngành hay kinh nghiệm làm việc gì </s> <s> </s> <s> </s> <s> một vài câu hỏi thú vị </s> <s> </s> <s> </s> <s> có  vòi nước  vòi nếu chảy vào bể nước thì mất  phút đầy  vòi mất  phút thì đầy bể nước có  lỗ xả và nếu để bể nước đầy thì mất  phút để xả hết </s> <s> vậy nếu cho  vòi nước chảy cùng lúc vào bể và mở lỗ xả nước thì mất bao lâu để bể đầy </s> <s> điền số tiếp theo vào dãy số     </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vòng  kiến thức về lập trình hướng đối tượng object oriented programming java và android </s> <s> </s> <s> </s> <s> vòng  các câu hỏi cơ bản về tin học mức độ sâu sẽ tăng dần theo từng câu hỏi </s> <s> một vài câu hỏi ví dụ </s> <s> </s> <s> </s> <s> sự khác biệt giữa get amp post hai phương thức trao đổi dữ liệu phổ biến trong mạng máy tính từ những khác biệt đó sẽ mang lại hệ quả gì </s> <s> cho ví dụ khi nào dùng giao thức tcp khi nào dùng giao thức udp để trả lời được câu hỏi này cần hiểu sâu  giao thức này </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ngoài ra còn gặp gỡ trao đổi với phó giám đốc bộ phận tuyển dụng </s> <s> mục đích là để xem xét sự phù hợp với văn hoá và con người công ty </s> <s> </s> <s> </s> <s> không nhận được lời mời làm việc offer không có nghĩa là bạn không giỏi mà nó nghĩa là bạn và công ty không phù hợp </s> <s> ví dụ như công ty khởi nghiệp startup đòi hỏi nhân viên phải học hỏi thật nhanh làm ra sản phẩm thật nhanh nhưng bạn thì chú trọng nhiều vào chất lượng của mã code rõ ràng bạn không phù hợp </s> <s> nhưng bạn lại phù hợp với công ty chú trọng hơn vào chất lượng ví dụ google facebook </s> <s> </s> <s> </s> <s> chẳng hạn </s> <s> phỏng vấn là đôi bên tìm hiểu lẫn nhau xem có phù hợp với nhau không chứ không phải chỉ là công ty tìm người làm việc </s> <s> </s> <s> </s> <s> còn tiếp </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> những kinh nghiệm khi phỏng vấn </s> <s> http//vnoi </s> <s> info/wiki/interview/generalexperience </s> <s> </s> <s> </s> <s> </s> <s> tác giả đinh hoàng phong </s> <s> </s> <s> một số điểm cần lưu ý trong khi viết resume </s> <s> </s> <s> </s> <s> với những bạn đang học đại học thì thường resume không nên dài quá  trang </s> <s> bạn nên viết rõ mục tiêu của bạn objective vào trong resume để nhà tuyển dụng hiểu rõ bạn đang tìm kiếm điều gì trong công việc tiếp theo </s> <s> </s> <s> nhấn mạnh những kĩ năng có liên quan đến công việc bạn đang tìm kiếm và nếu cần thiết thì phải bỏ đi những phần không liên quan </s> <s> </s> <s> nếu bạn còn đang là sinh viên thì nên ghi rõ trường bạn đang học và điểm trung bình tới thời điểm gần nhất </s> <s> </s> <s> khi bạn viết resume xong hãy đưa thử một người khác đọc và hỏi họ xem nếu họ là nhà tuyển dụng họ có chú ý đến bạn hay không từ đó bạn hãy lắng nghe những gì họ nói và sửa đổi để hoàn thiện resume của mình hơn </s> <s> </s> <s> </s> <s> ví dụ một resume được trình bày rõ ràng </s> <s> </s> <s> những bước cơ bản để nộp hồ sơ và thu hút nhà tuyển dụng </s> <s> </s> <s> </s> <s> nếu bạn có quen biết ai trong một công ty nào nó hãy nhờ họ giới thiệu bạn vào công ty đấy ask for referral </s> <s> đây là cách dễ nhất để được chọn phỏng vấn tất nhiên với điều kiện là bạn cũng phải là một người có thực lực </s> <s> </s> <s> có nhiều cách để giới thiệu bản thân đến các công ty như hội chợ việc làm linkedin </s> <s> </s> <s> </s> <s> bạn có thể liên hệ trực tiếp nhà tuyển dụng để giới thiệu bản thân </s> <s> </s> <s> một số công ty lớn thì sẽ yêu cầu bạn nộp hồ sơ qua internet </s> <s> họ sẽ yêu cầu bạn có resume thỉnh thoảng có cả thư xin việc cover letter và học bạ transcript </s> <s> </s> <s> nếu bạn đang tìm kiếm một công việc có liên quan đến nghiên cứu khoa học và bạn có một bài báo ở một hội nghị khoa học lớn bạn nên tham dự vì sẽ có rất nhiều nhà tuyển dụng của các công ty hàng đầu thế giới đến để mời chào bạn </s> <s> </s> <s> </s> <s> </s> <s> quy trình phỏng vấn thông thường </s> <s> </s> <s> </s> <s> </s> <s> coding assessment  phần này bạn sẽ phải giải  đến  bài toán trong một thời gian quy định </s> <s> các bài toán này chủ yếu tập trung vào thuật toán algorithms và cấu trúc dữ liệu data structure đơn giản không quá phức tạp </s> <s> </s> <s> </s> <s> phone screening  phần này bạn sẽ phải trả lời phỏng vấn trực tiếp qua điện thoại hoặc skype/hangouts/ </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> onsite interview  đến vòng phỏng vấn này bạn sẽ được mời đến công ty và sẽ có  người phỏng vấn bạn trực tiếp tại chỗ </s> <s> ở mỗi lần phỏng vấn sẽ có khoảng  đến  nhân viên đưa ra những câu hỏi khác nhau cho bạn </s> <s> một số công ty sẽ có nhân viên dẫn bạn đi ăn sáng/trưa/tối để đánh giá con người của bạn </s> <s> </s> <s> </s> <s> interview with hiring manager  một số công ty sẽ yêu cầu bạn thêm một phần phỏng vấn với một hiring manager người đưa ra quyết định cuối cùng về việc có tuyển dụng bạn hay không </s> <s> ở vòng này có thể là technical hoặc behavioral skills </s> <s> </s> <s> </s> <s> </s> <s> những điều cần biết khi trả lời phỏng vấn </s> <s> </s> <s> </s> <s> nếu bạn không bị bắt buộc về ngôn ngữ lập trình khi phỏng vấn hãy nói rõ cho người phỏng vấn biết ngôn ngữ bạn lựa chọn để phỏng vấn là gì </s> <s> </s> <s> khi đọc câu hỏi xong bạn nên xác định lại với người phỏng vấn rằng bạn đã hiểu rõ câu hỏi để tránh thời gian bạn hiểu sai câu hỏi dẫn đến lãng phí thời gian </s> <s> </s> <s> bạn không nên hỏi người phỏng vấn về độ phức tạp của thuật toán mà họ yêu cầu </s> <s> đây là một phần đánh giá mà thường thì người phỏng vấn sẽ đặt ra để bạn tự tìm kiếm cách trả lời tối ưu </s> <s> </s> <s> trong quá trình suy nghĩ trả lời câu hỏi bạn cần phải nghĩ đến cả các giới hạn và những điều bạn có thể giả định trước được </s> <s> ví dụ như nếu bài toán có đầu vào là một dãy số bạn cần biết đó là dãy số tự nhiên hay số thực và dãy số có độ dài là bao nhiêu và định dạng của đầu vào như thế nào </s> <s> </s> <s> khi bạn trả lời một câu hỏi phỏng vấn thì hãy đưa ra một cách giải đơn giản nhất không cần phải tối ưu trừ khi bạn chắc chắn rằng cách giải tối ưu của bạn là đúng và bạn có thể lập trình trong một thời gian ngắn </s> <s> nếu như bạn không nghĩ ra cách giải tối ưu thì ít nhật bạn cũng có một cách giải để giải quyết được bài toán </s> <s> trong thực tế thì có những bài toán thì cách giải tối ưu cũng chỉ là một phép tối ưu hoá từ những cách giải đơn giản </s> <s> </s> <s> khi bạn trả lời phỏng vấn qua điện thoại thì phải nói hết ra những gì bạn suy nghĩ </s> <s> quá trình này ban đầu có vẻ rất khó để luyện tập nhưng nếu như bạn không làm như vậy thì không cách nào người phỏng vấn có thể biết được bạn đang suy nghĩ gì và cách họ đánh giá về bạn cũng không được rõ ràng và chính xác nhất </s> <s> </s> <s> nếu như trong vòng  đến  phút và bạn không có một ý tưởng để trả lời câu hỏi thì bạn có thể yêu cầu một gợi ý để bạn có thể giải quyết bài toán </s> <s> đây là một điều chấp nhận được và rất bình thường trong phỏng vấn </s> <s> </s> <s> điều quan trọng nhất của một cuộc phỏng vấn đó là hãy xem nó như một cuộc trò chuyện về một bài toán giữa hai lập trình viên với nhau </s> <s> bạn cần phải thoải mái bởi vì họ cũng sẽ đánh giá ở tiêu chí này </s> <s> người phỏng vấn cần biết được rằng bạn có thể là một người đồng nghiệp của họ trong tương lai được hay không </s> <s> </s> <s> </s> <s> </s> <s> bạn cũng có thể tham khảo thêm hướng dẫn phỏng vấn của google </s> <s> </s> <s> những dạng câu hỏi và cách luyện tập trả lời </s> <s> </s> <s> dạng câu hỏi về kĩ thuật technical questions </s> <s>  các câu hỏi sẽ thuộc về dạng này </s> <s> các câu hỏi ở dạng này sẽ có những loại như sau </s> <s> </s> <s> </s> <s> câu hỏi về thuật toán algorithms </s> <s> câu hỏi về cấu trúc dữ liệu data structure </s> <s> câu hỏi về khả năng thiết kế hệ thống system design </s> <s> </s> <s> </s> <s> dạng câu hỏi về kĩ năng ứng xử behavioral questions </s> <s> </s> <s> </s> <s> một số công ty sẽ yêu cầu bạn trả lời những tình huống nhất định để đánh giá về con người của bạn có phù hợp với yêu cầu nhất định hay không </s> <s> </s> <s> </s> <s> </s> <s> với những bạn chưa có nhiều kiến thức hoặc muốn ôn tập lại kiến thức về thuật toán và cấu trúc dữ liệu thì các bạn có thể tìm đọc những cuốn sách như sách của thầy lê minh hoàng hoặc những bài viết tiếp theo của chúng tôi về những kiến thức cơ bản/nâng cao cần biết về thuật toán </s> <s> </s> <s> </s> <s> với những bạn đã có những kiến thức cơ bản về thuật toán và cấu trúc dữ liệu thì cơ bản các bạn chỉ cần luyện tập kĩ năng trả lời câu hỏi sao cho thật là thuần thục </s> <s> một số trang web để các bạn luyện tập như leetcode hackerrank </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nếu bạn có quen một ai đó có thể giúp đỡ bạn bạn hãy nhờ họ làm một cuộc phỏng vấn thử </s> <s> trong lúc phỏng vấn thử này họ sẽ đưa cho bạn một câu hỏi và nhiệm vụ của bạn là hãy trả lời một cách suôn sẻ và họ sẽ đưa ra ý kiến của riêng họ về những điều bạn có thể cải thiện để tiến bộ hơn </s> <s> </s> <s> </s> <s> những điều mà các nhà tuyển dụng thường chú ý </s> <s> </s> <s> </s> <s> khả năng chuyên môn giỏi điều này thể hiện qua cách bạn giải quyết các vấn đề bài toán mà họ đưa ra </s> <s> bạn có thể không phải là người giỏi nhất nhưng chỉ cần bạn thể hiện đúng năng lực của mình với sự tự tin và kiến thức của bản thân họ sẽ có một đánh giá công bằng nhất về trình độ hiện tại và có thể là tương lai của bạn </s> <s> </s> <s> khả năng giao tiếp thuần thục họ đang tìm kiếm những nhân viên tương lai mà họ đánh giá rằng họ có thể huấn luyện/làm việc chung với chính bản thân họ được </s> <s> vì vậy hãy cứ thoải mái chia sẻ và trao đổi với người phỏng vấn để họ biết được khả năng thật sự của bạn ở mức độ nào </s> <s> </s> <s> sự trung thật bạn sẽ không bao giờ thành công nếu thiếu yếu tố này </s> <s> một ví dụ đơn giản như nếu bạn đã biết chắc chắn đáp án của câu hỏi mà nhà tuyển dụng đưa ra hãy thành thật nói với họ như vậy </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng hợp các lời khuyên cho các kỳ thi </s> <s> http//vnoi </s> <s> info/wiki/algo/skill/kinangthicu </s> <s> </s> <s> </s> <s> </s> <s> những lời khuyên trước khi thi qg   phạm văn hạnh skyvn </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> vậy là chỉ còn hơn  ngày nữa kì thi học sinh giỏi quốc gia sẽ bắt đầu </s> <s> để giúp các bạn đạt được kết quả cao trong kì thi này mình xin được ra mắt chuyên mục mỗi ngày một lời khuyên </s> <s> kể từ mai cho đến trước khi thi mỗi ngày mình sẽ chia sẻ một kinh nghiệm nho nhỏ để chuẩn bị cho kì thi </s> <s> đồng thời chuyên mục cũng như chiếc đồng hồ đếm ngược từng ngày tới kì thi làm tăng thêm phần hồi hộp kịch tính gay cấn căng thẳng </s> <s> hy vọng rằng với chiếc đồng hồ này các bạn thí sinh sẽ cảm thấy thêm áp lực thêm lo lắng thêm sợ hãi tăng xông tăng huyết áp ngất xỉu đột quỵ rối loạn tiêu hoá biếng ăn chậm lớn còi xương suy dinh dưỡng chán đời thất tình muốn tự tử </s> <s> mình xin cam kết rằng sau loạt bài viết này bạn nào vẫn còn đủ can đảm bước vào phòng thi quốc gia thì cũng có đủ sức mạnh để vượt qua mọi sóng gió của kì thi </s> <s> </s> <s> </s> <s> tuyển sinh vào đại học và sẵn sàng tham gia kì thi này </s> <s> </s> <s> </s> <s> đừng quên check facebook vnoi mỗi ngày để có được những lời khuyên bổ ích </s> <s> lưu ý rằng đây chỉ là những lời khuyên dựa trên kinh nghiệm thi voi của mình vì vậy các bạn nên tham khảo và áp dụng cho phù hợp </s> <s> </s> <s> chúc các bạn một năm mới tràn đầy niềm vui và gặt hái nhiều may mắn khởi đầu bằng một kỳ thi hsg thành công rực rỡ </s> <s> </s> <s> </s> <s>  </s> <s> làm lại đề voi  năm trước </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> trước mỗi kì thi bạn cần tìm hiểu đề ra những năm trước để ngửi được hương vị của nó </s> <s> con số  năm là vừa đủ bởi kỳ thi ở những năm trước nữa có thể khác xa so với hiện tại lại vừa khó kiếm được đề và trên hết bạn không phải là một nhà sử học nên không có nhu cầu tìm hiểu xem vào thời vua hùng dựng nước kỳ thi hsgqg đã diễn ra như thế nào hay vào thời kỳ đồ đá người ta đã thi lập trình hay chưa </s> <s> quan trọng là bạn cần chú ý đến văn phong ra đề một số chủ đề hay xuất hiện hoặc độ khó trung bình của nó </s> <s> </s> <s> </s> <s> lưu ý rằng đề ra năm nay không đảm bảo sẽ tương tự như những năm trước </s> <s> bạn cố gắng làm thử nếu được giành ra h đồng hồ liên tục </s> <s> tránh việc làm đc h đi wc h r làm nốt h nữa </s> <s> vì những j diễn ra trong wc k đảm bảo chất lượng bài thi sẽ giống như lúc bạn thi thật v ngoài ra bạn có thể tìm hiểu mức điểm thi của năm đó để đánh gái trình độ của mình </s> <s> điểm thi từng năm có thể khác biệt nhưng nhìn chung chất lượng thí sinh thì k thay đổi nhiều </s> <s> </s> <s> </s> <s> dưới đây là danh sách các bài thi chính thức của hsgqg trên voj kèm theo bảng điểm trong các năm gần đây </s> <s> </s> <s> </s> <s>  seq vohaucan idcode rbull voiexam vodoncay </s> <s>  tfield cryptkey reform mincut vodivide voitsort </s> <s>  minroad lcsx aznet ballgmvn qos jobset </s> <s>  organ tours stmerge comnet message bonus </s> <s>  travel move ham robocon cross fibval </s> <s>  treeline bonus colorec bwpoints parigame upgranet </s> <s> </s> <s> </s> <s> kết quả thi chính thức </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s> đọc lại phần đồ thị trong cuốn sách của thầy hoàng </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> đồ thị là chủ đề phổ biến nhất trong mỗi đề thi quốc gia </s> <s> năm nào cũng có đồ thị ít thì một bài nhiều thì có thể là hai    hay thậm chí ba bài  </s> <s> không chỉ các đoạn mã nguồn và thuật toán bạn cần chú ý đến cả phần lý thuyết và những khái niệm như chu trình/đường đi euler/hamilton chu trình/đường đi đơn đa đồ thị khuyên </s> <s> </s> <s> </s> <s> để tránh việc không nắm được đề bài nếu như các khái niệm này xuất hiện trong đề </s> <s> các thuật toán như khớp cầu fordbellman dễ bị lãng quên do số lượng bài về nó không nhiều nhưng hoàn toàn có thể gặp lại trong đề thi </s> <s> bài reform voi   là điển hình của việc nhiều bạn không nhớ các thuật toán về cầu nên không giải được bài này dù thuật toán của nó khá tự nhiên và đơn giản </s> <s> </s> <s> </s> <s>  </s> <s> chú trọng việc rèn luyện kĩ năng code hơn là suy nghĩ </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> có một sự thật là voi là kì thi đòi hỏi kĩ năng hơn là tư duy thuật toán </s> <s> câu nói cứ trâu hết là vào vòng hai không phải là không có cơ sở khi luật thi offline đang đẩy vai trò của sự cẩn thận lên cao hơn bao giờ hết </s> <s> nếu bạn đảm bảo toàn bộ code của bạn là không bug nghĩa là điểm của bạn đúng với khả năng bạn làm được thì đó đã là lợi thế quá lớn </s> <s> mình nghĩ rằng không có quá  bạn thí sinh có khả năng giữ được sự ổn định và tính cẩn thận trong khi làm bài nghĩa là sẽ có rất ít bạn giữ được phong độ thi đấu ổn định giữa hai kì thi prevoi và voi </s> <s> </s> <s> vì vậy bạn không được chủ quan </s> <s> giải nhất prevoi hoàn toàn có thể đi kèm với giải ba voi </s> <s> và ở chiều ngược lại cũng không việc gì phải lo lắng bởi nếu bạn chịu khó và nỗ lực một giải ba prevoi sẽ được nối tiếp bởi giải khuyến khích voi </s> <s> </s> <s> </s> <s> vì tương lai con em chúng ta ngay từ lúc này bạn nên chịu khó code nhiều code chắc tay code cẩn thận thay vì nghĩ những bài quá khó </s> <s> </s> <s> </s> <s>  </s> <s> tận dụng các kì thi thử để xác định chiến thuật trong kì thi thật </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> p là quá ngắn ngủi để bạn có thể làm trọn vẹn và chắc chắn cả ba bài trong đề thi </s> <s> trong p bạn có quá nhiều việc để làm đọc đề nghĩ thuật toán code kiểm tra tên file sinh test chạy trâu so kết quả đi wc ăn uống ngủ nghỉ chơi dò mìn </s> <s> </s> <s> </s> <s> bởi thế việc phân chia thời gian sao cho hiệu quả đóng vai trò rất quan trọng </s> <s> tiếc rằng chiến lược tối ưu cho mỗi người không giống nhau tùy thuộc vào khả năng nghĩ tốc độ code đặc điểm tâm sinh lý </s> <s> </s> <s> </s> <s> vì vậy trong hai ngày thi vo tới bạn cần thực hiện mọi công việc trên như một kì thi thật </s> <s> sau khi thi xong bạn nên nhớ lại quá trình mình làm bài thi phân tích và đánh giá nó thời gian phân chia vào công việc nào bị quá ít quá nhiều sắp xếp thứ tự làm bài đã hợp lý chưa </s> <s> </s> <s> </s> <s>  những phân tích này là rất quan trọng nó giúp bạn rút kinh nghiệm cho ngày thi chính </s> <s> vì vậy ngoài việc tập trung thi cần ghi nhớ thật kĩ quá trình mình đã làm bài như thế nào </s> <s> </s> <s> </s> <s> chúc các bạn thi tốt d </s> <s> </s> <s>  </s> <s> đánh giá tốc độ của một thuật toán </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> sau khi nghĩ ra một thuật toán bạn biết được độ phức tạp của nó </s> <s> nhưng câu hỏi đặt ra là làm thế nào để biết một thuật toán là đủ nhanh hay chưa </s> <s> nếu biết trước timelimit thông thường một thuật toán được coi là đủ nhanh nếu giá trị độ phức tạp ứng với test max là dưới timelimit  e </s> <s> </s> <s> </s> <s> ví dụ nếu có một thuật toán onlogn và bài toán có giới hạn n le e thì khi đó nlogn ~ e nghĩa là nếu timelimt s thì sẽ hơi chậm một chút còn nếu timelimit s thì có thể chấp nhận được </s> <s> </s> <s> </s> <s> tuy nhiên cách đánh giá trên khá phiến diện vì nhiều lý do hàm đánh giá độ phức tạp không thể hiện chính xác thời gian chạy không tính hằng số cách cài đặt và tốc độ của mỗi máy chấm một khác </s> <s> tệ hại hơn nếu không biết trước timelimit thì cũng còn chẳng biết đánh giá ra làm sao </s> <s> tuy nhiên theo mình nghĩ nếu một thuật toán có độ phức tạp tầm e trở xuống có thể coi là chấp nhận được </s> <s> chấp nhận được ở đây không có nghĩa là thuật toán đó là đủ hiệu quả để đạt điểm tối đa mà có nghĩa là bạn nên bắt tay vào việc code thuật toán đó thay vì cố gắng tối ưu thêm </s> <s> đôi khi việc tối ưu thuật toán từ nlogn xuống n hay nlogn xuống nlogn là không đơn giản tốn nhiều thời gian và đôi khi sự tăng độ khó trong cài đặt sẽ khiến bạn thiếu thời gian làm bài </s> <s> chưa kể những thuật toán có độ phức tạp khoảng tầm e trở xuống thường chỉ bị tle một vài test chứ không phải cả subtask nên không làm thay đổi quá nhiều điểm số </s> <s> </s> <s> </s> <s> ví dụ bài minroad  hồi đấy mình nghĩ ra một thuật toán onlogn với giới hạn n lt e </s> <s> mình ngồi code luôn bài đấy mà không nghĩ để tối ưu xuống onlogn </s> <s> về sau mình phát hiện ra mình là người duy nhất code thuật đó tất cả mọi người khác trong đội đều làm onlogn hay on </s> <s> mình nghĩ quyết định lúc đó khá hợp lý bởi hồi đấy mình code khá chậm và rất tệ nên cần ưu tiên việc code và kiểm tra hơn và chấp nhận không được điểm tối đa bài đó </s> <s> </s> <s> </s> <s>  </s> <s> không sử dụng các thuật toán lạ trong kỳ thi voi </s> <s> </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> gần đây theo khảo sát của một số tổ chức giấu tên xuất hiện tình trạng nhiều thí sinh của kì thi voi thích khoe hàng trong phòng thi </s> <s> đặc điểm chung những thí sinh này thường inbox tâm sự riêng với gs </s> <s> pvh về ham muốn được thể hiện những thuật toán hàng khủng như thuật toán lehman suffix array dfs khử đệ quy bằng stack </s> <s> </s> <s> </s> <s> qua điều tra sơ bộ chúng tôi đã xác định được ba nguyên nhân chính dẫn tới căn bệnh nghiện show hàng này như sau </s> <s> </s> <s> </s> <s> đã hoặc đang sử dụng ma túy đá cơ thể thường xuyên ở trong tình trạng phê ngáo dẫn đến mất kiểm soát hành vi lệch lạc trong suy nghĩ </s> <s> có tiền sử về các bệnh liên quan đến não bị mất não hoặc thường xuyên bỏ quên não ở ngoài phòng thi </s> <s> </s> <s> ăn thức ăn không đảm bảo vệ sinh chứa nhiều progesterone là chất kích thích cực mạnh làm tăng ham muốn tham dự kì thi tuyển sinh vào đại học </s> <s> </s> <s> </s> <s> </s> <s> căn bệnh này đang có xu hướng lây lan nhanh trong giới học sinh giỏi tin của các trường chuyên và diễn biến rất phức tạp </s> <s> vì vậy mình khuyến cáo các bậc phụ huynh cần theo dõi con em mình chặt chẽ hạn chế cho trẻ tiếp xúc với ma túy thực phẩm bẩn nhắc trẻ mang theo não thường xuyên </s> <s> nếu thấy con có biểu hiện lạ cần đưa đến trung tâm gs </s> <s> pvh gần nhất để được chữa trị kịp thời </s> <s> </s> <s> </s> <s> xin cảm ơn </s> <s> </s> <s> </s> <s> mình nghĩ có lẽ không cần nhắc các bạn vấn đề này nhưng gần đây có mấy bạn rất hổ báo vào inbox mình hỏi về thuật toán leman jj đó liên quan đế số nguyên tố </s> <s> mình thú thật là mình ứ biết cái thuật toán này là gì và có lẽ nó khó có thể xuất hiện trong kỳ thi tới </s> <s> </s> <s> </s> <s> tất nhiên không có bất kỳ giới hạn kiến thức nào trong kì thi này </s> <s> nhưng mình vẫn muốn nhắc lại rằng với những thuật toán dù biết nhưng cài đặt không thành thạo không dùng thường xuyên hoặc rất phức tạp kmp suffix array dinitz dfs khử đệ quy </s> <s> </s> <s> </s> <s>  thì bạn không nên cài đặt trong phòng thi </s> <s> nếu cài sai bạn sẽ trong trạng thái tiến thoái lưỡng nan debug thì mất quá nhiều thời gian xóa hết thì phí công code </s> <s> </s> <s> </s> <s> nhớ rằng voi không là chỗ thích hợp cho việc phô trương sức mạnh hãy cẩn thận và chắc chắn để đảm bảo những sự cố thương tâm không xảy ra </s> <s> </s> <s> </s> <s>  </s> <s> về các bài multitest </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> sau một ngày gián đoạn hôm nay chuyên mục mỗi ngày một lời khuyên xin phép đc tiếp tục </s> <s> </s> <s> </s> <s> những bài toán có đặc tính multitest là những bài mà trong đó một file input chứa nhiều bộ dữ liệu </s> <s> các bộ dữ liệu test này luôn độc lập với nhau và luôn được chương trình của chúng ta xử lý theo kiểu tuần tự nghĩa là đọc từng bộ dữ liệu xử lý in ra output rồi mới đọc bộ dữ liệu tiếp theo </s> <s> </s> <s> có ba lý do chính dẫn tới kiểu input này </s> <s> </s> <s> </s> <s> người ra đề muốn giới hạn độ phức tạp của thuật toán tới mức rất nhỏ ví dụ ologn với n lt e </s> <s> </s> <s> bài toán có output dạng yes/no đặt nhiều test trong một file input sẽ vô hiệu hoá việc “output bừa” của thí sinh </s> <s> </s> <s> một số hệ thống chấm bài giới hạn số lượng file input được đặt vào </s> <s> </s> <s> </s> <s> </s> <s> trừ trường hợp đầu tiên khi đó số lượng test trong một file input sẽ rất lớn e e … và được chỉ rõ trong đề bài còn hai trường hợp còn lại số lượng test thường khá nhỏ và đa số các test trong file input không phải test max số lượng test có thể không được nhắc đến trong đề và thuật giải bài toán sẽ y hệt như khi trong file input chỉ có một test </s> <s> </s> <s> </s> <s> trong kỳ thi quốc gia đa số các bài multitest đều thuộc hai nguyên nhân dưới </s> <s> bởi thế trong quá trình tìm kiếm thuật toán bạn không cần quan tâm đến số lượng test có trong một file input </s> <s> </s> <s> </s> <s> tuy nhiên trong khi code bạn lại cần rất chú ý đến vấn đề multitest bởi trước khi xử lý một test bạn cần khởi tạo lại biến mảng </s> <s> </s> <s> </s> <s> để xoá dấu vết của bộ test cũ </s> <s> </s> <s> </s> <s> khi có multitest việc code bug hoặc quên khởi tạo sẽ tạo hậu quả rất nghiêm trọng  là bạn sẽ được  điểm </s> <s> do đó bạn cần ưu tiên sinh test và kiểm tra kĩ những bài này </s> <s> tuy nhiên việc sinh test trong những bài này lại có lợi thế bởi khi bạn sinh một file input gồm nhiều test số test bạn test được lớn hơn rất nhiều </s> <s> </s> <s> có một kinh nghiệm nhỏ để giúp các bạn tránh việc khởi tạo thiếu mảng </s> <s> </s> <s> </s> <s> các biến mảng cần khởi tạo nên để là biến toàn cục </s> <s> đối với các bạn code c các biến toàn cục cần được để ở cùng một chỗ </s> <s> khi đọc code bạn điểm danh từng biến với mỗi biến bạn tìm lệnh khởi tạo của biến đó trong code sau đó mới kiểm tra đến biến tiếp theo… </s> <s> thay vì viêc khởi tạo theo kiểu “for i   gt n ai  ” nên dùng fillchar hoặc memset </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> điều chỉnh đồng hồ máy thi cho đúng với thời gian thực </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> đây là một kĩ năng nhỏ nhưng quan trọng trong khi làm bài bạn luôn phải để ý lượng thời gian còn lại để xem mình nên nghĩ tiếp một bài hay k hay bắt đầu việc code trâu luôn hoặc là bạn có thể đi wc thêm bao nhiêu lần nữa </s> <s> </s> <s> </s> <s> hoặc đơn thuần bạn cần biết là sắp hết giờ r để cảm thấy tăng huyết áp sợ hãi và k làm nổi cái j nữa v </s> <s> tưởng tượng h bắt đầu thi máy tính bạn chỉ h </s> <s> đến khi máy tính chỉ h bạn yên tâm còn p quá thừa để ac cả  bài và bắt đầu chìm vào giấc ngủ </s> <s> thế nhưng p sau thình lình gv gọi bạn dậy và bạn chợt nhận ra tương lai sụp đổ cuộc đời bế tắc </s> <s> do đó việc kiểm soát thời gian là vô cùng quan trọng </s> <s> </s> <s> một trong những lỗi về chiến lược mà kể cả những ng đã thi nhiều lần mà vẫn mắc đó là quá cay cú đi tìm lời giải cho một bài toán kết quả là không còn thời gian chạy trâu các bài còn lại </s> <s> nên nhớ rằng đôi khi sub cuối bài  khó hơn rất nhiều nhưng lại ít điểm hơn sub  bài  do đó trước khi bắt đầu nghĩ một bài bạn cần đặt gia hạn mức thời gian nghĩ bài đó </s> <s> </s> <s> </s> <s>  </s> <s> sử dụng thư viện thay thế bits/stdc </s> <s> h </s> <s> </s> <s> với các bạn code c việc include vô cùng tiện lợi nó giúp bạn khỏi bận tâm về việc include mọi thư viện khác </s> <s> tuy nhiên cách đây ba năm mọi bản g tích hợp sẵn trong themis đều quá cũ việc sử dụng thư viện này chắc chắn dẫn tới lỗi biên dịch </s> <s> cách đây hai năm việc sử dụng thư viện này vẫn được coi là điều cấm kỵ trong kì thi học sinh giỏi quốc gia </s> <s> ngày nay do các bản themis đã được cập nhật việc sử dụng thư viện trên đã được chấp nhận </s> <s> do vậy theo quan điểm cá nhân include không phải là lựa chọn mạo hiểm </s> <s> tuy nhiên không một quy định nào nói rõ phiên bản themis nào sẽ được sử dụng nên cũng không lấy gì đảm bảo rằng include không phải là tai họa </s> <s> bởi vậy các bạn nên nhớ tên các thư viện sau đây để include thay thế cho thư viện huyền thoại kia </s> <s> </s> <s> </s> <s> trong hai ngày tới hãy code một số bài đơn giản để thay đổi thói quen include sẽ không vất vả đâu  </s> <s> ghi chú </s> <s> </s> <s> </s> <s> với các bạn cảm thấy lo lắng hãy vứt bỏ </s> <s> nó cũng như việc bạn vứt bỏ một gánh nặng tâm lý trong kỳ thi đáng sợ này </s> <s> </s> <s> </s> <s> các bạn được khuyến khích include tất cả các thư viện sau đây </s> <s> với những địa điểm thi cài phiên bản g  </s> <s>  trở lên việc include thiếu không gặp lỗi khi code trên máy nhưng vẫn bị lỗi khi chấm bằng themis </s> <s> các bạn cần đặc biệt lưu ý trong trường hợp này </s> <s> </s> <s> trong khi test máy vào ngày khai mạc ngày mai các bạn nên include thử hết các thư viện trên để đảm bảo bộ dịch trên máy thi không gặp vấn đề </s> <s> </s> <s> </s> <s> </s> <s> danh sách các thư viện hay dùng </s> <s> </s> <s> </s> <s> thư viện cơ bản của c cstdio cstring cstdlib cassert nếu bạn sử dụng hàm assert </s> <s> </s> <s> </s> <s> </s> <s> thư viện stl của c hay dùng algorithm chứa hàm sort chặt nhị phân </s> <s> </s> <s>  iostream kh sử dụng cin cout iomanip </s> <s> </s> <s> </s> <s> </s> <s> các thư viện cấu trúc dữ liệu stl vector queue stack set map string </s> <s> </s> <s> </s> <s> </s> <s> các bạn thấy thư viện nào hay dùng mà chưa được liệt kê trong bài viết này hãy để lại comment để mình bổ sung nhé  </s> <s> </s> <s> </s> <s>  </s> <s> một số kinh nghiệm nho nhỏ khác </s> <s> </s> <s> kỳ thi quốc gia đã đến thật gần </s> <s> các bạn đã bỏ ra rất nhiều công sức tâm huyết và niềm tin vào những tháng học đôij tuyển rồi phải không  để có những bước chuẩn bị hoàn hảo cuối cùng hãy tham khảo bài viết dưới đây </s> <s> </s> <s> note post này chỉ nhằm mục đích giải trí </s> <s> bạn nào cảm thấy quá căng thẳng hoặc có tính mê tín thì có thể k đọc nữa </s> <s>  </s> <s> </s> <s> a/ lựa chọn thức ăn phù hợp </s> <s> </s> <s> ăn gì trong những ngày thi là một câu hỏi khó </s> <s> bạn sẽ phải gạch tên rất nhiều những món ăn khoái khẩu của mình để có một kì thi suôn sẻ </s> <s> </s> <s> </s> <s> không ăn trứng ngỗng chuối thịt bò mực </s> <s> </s> <s> </s> <s>  nhứng thứ biểu tượng cho sự đen đủi </s> <s> </s> <s> không ăn xôi đỗ với chả truyền thuyết kể rằng </s> <s> một thí sinh đã bị fail voi vì ăn món xôi chả đỗ bổ béo này trước khi đi thi </s> <s> </s> <s> </s> <s> </s> <s> b/ không nghe các bài hát mang nội dung nhạy cảm </s> <s> </s> <s> </s> <s> nếu như ăn chuối là điều cấm kị vì nó khiến đề thi của bạn bị chuối thì cũng như vậy những bài hát có những từ ngữ xấu cũng nên bị loại bỏ trong giờ phút căng thẳng này </s> <s> </s> <s> ví dụ nghe những bài hát có chữ trôi hay chữ lạc sẽ khiến bạn làm bài lạc đề kiến thức bị trôi nổi giữa đời vì thế bạn nên tránh xa những bài như vậy </s> <s> </s> <s> </s> <s> đùa tí các bạn nóng nảy vl </s> <s> đừng phẫn nộ mình sau khi đọc đến dòng này nhé </s> <s> </s> <s> c/ không tắm trước khi thi </s> <s> </s> <s> </s> <s> nhiều người không gội đầu trước khi thi vò lo sợ kiến thức trên đầu sẽ bị rửa trôi </s> <s> thực tế kiến thức còn được lưu trữ ở nhiều nơi bí ẩn khác trong cơ thể </s> <s> do đó bạn không nên tắm nếu thuật toán được lưu trên da ghét hay gàu </s> <s> ngoài ra nếu bạn lưu ở bộ phận tích trữ khác bạn nên kìm nén nhịn không được phép xả ra ngoài trước khi thi xong </s> <s> </s> <s> </s> <s> d/ chọn chỗ ngồi hợp phong thủy </s> <s> </s> <s> phong thủy mang ý nghĩa rất quan trọng với con người </s> <s> trước khi làm những việc lớn như xây nhà lấy vợ người ta đều phải xem phong thủy </s> <s> thi hsgqg cũng vậy vì nó ảnh hưởng rất lớn đến tương lai bạn bạn cũng nên chọn chỗ ngồi kê bàn ghế theo hướng hợp với phong thủy của mình để có được chất lượng bài thi cao hơn </s> <s> </s> <s> </s> <s> e/ chọn thời gian thi phù hợp </s> <s> </s> <s> </s> <s> giờ hoàng đạo luôn đem lại sự suôn sẻ và những điều tốt lành </s> <s> vì vậy các bạn hãy lựa chọn thời gian thi vào những giờ hoàng đạo để làm bài tốt hơn </s> <s> </s> <s> ngày / các giờ hoàng đạo bao gồm sửu h  h ngọ h  h mùi h  h tuất h  h và hợi h  h </s> <s> </s> <s> </s> <s> nếu có thể hãy làm bài thi quốc gia vào những khoảng thời gian này sẽ có lợi cho bạn hơn </s> <s> </s> <s> trong ngày mai mình sẽ cố gắng liệt kê thêm những kinh nghiệm khác để chia sẻ với các bạn </s> <s> chúc các bạn nghỉ ngơi thoải mái và có một buổi khai mạc rực rỡ  </s> <s> </s> <s>  </s> <s> nghỉ ngơi thư giãn thoải mái </s> <s> </s> <s> </s> <s> giờ k phải là lúc lo âu căng thẳng hay xám hối vì sự lười nhác của bạn nữa </s> <s> hãy nghỉ ngơi thư giản thoải mái làm những gì khiến bạn sung sướng nhất trong ngày cuối cùng này </s> <s> </s> <s> </s> <s> chuyên mục của chúng tôi cũng xin được kết thúc tại đây </s> <s> rất cám ơn sự chú ý theo dõi và ủng hộ nhiệt tình của các bạn giành cho mình </s> <s> hy vọng rằng qua series bài viết này bạn tìm ra được cho mình những bài học bổ ích và sẽ áp dụng được chúng một cách hợp lý cho hai ngày sắp tới </s> <s> </s> <s> </s> <s> chắc chắn sang năm mình sẽ mở ra những chuyên mục hay hơn nữa d </s> <s> </s> <s> cuối cùng xin chúc các bạn gặp nhiều may mắn và mọi thứ suôn sẻ trong hay ngày thi sắp tới </s> <s> ai ai cũng đạt được ước nguyện của mình </s> <s> </s> <s> </s> <s> à quên chúc  bạn ndt gttv dxb npd và tqa ngày mai vui vẻ  ahihi </s> <s> </s> <s>  vài góp ý sau kỳ thi vo  rr </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s>  </s> <s> </s> <s> khi đi thi các bạn cần chú ý tránh những code có thể dẫn đến compile error </s> <s> </s> <s> </s> <s> pas không thêm uses crt </s> <s> c </s> <s> </s> <s> </s> <s> nắm rõ những hàm mình hay dùng ở những thư viện nào ví dụ hàm memset thuộc cstring </s> <s> thông thường thì mình luôn include cả  đống cstdio cstdlib cstring cmath </s> <s> </s> <s> biết rõ những biến nào có thể bị trùng với biến của thư viện ví dụ y next </s> <s> </s> <s> bạn có thể xem code ilovetanyaromanova có define tất cả những biến hay dùng mà trùng thư viện nào đó để tránh trùng tên biến </s> <s> ngoài ra cách khác là cho tất cả mọi thứ vào  namespace </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> namespace a  </s> <s> int y  next  </s> <s> void solve   </s> <s> cout ltlt ok ltlt endl  </s> <s> y  next    </s> <s> cout ltlt y ltlt   ltlt next ltlt endl  </s> <s>  </s> <s>  </s> <s> int main   a  solve   </s> <s> </s> <s>  </s> <s> </s> <s> bài  ngày  votv có  số bạn dùng suffix array </s> <s> cách này đúng nhưng cài đặt phức tạp hơn rất nhiều so với dùng hash </s> <s> khi đi thi mỗi lựa chọn sai lầm về thuật toán kiểu này sẽ làm bạn tiêu tốn rất nhiều thời gian và thường không sửa chữa kịp </s> <s> </s> <s> </s> <s> vì vậy khi nghĩ ra bất kỳ thuật toán nào bạn nên tiếp tục suy nghĩ xem có cách nào đơn giản hơn không </s> <s> chỉ bắt đầu code khi thật sự chắc chắn không có cách nào tốt hơn </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> có chiến thuật rõ ràng cho  bài </s> <s> với những bài cài đặt phức tạp như bài vobach bạn cần có chiến thuật rõ ràng ngay từ đầu là debug như thế nào </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> đầu tiên code duyệt </s> <s> sau khi duyệt  sort in tất cả ra rồi kiểm tra bằng mắt với  giá trị n tương đối lớn e </s> <s> g </s> <s>  </s> <s> cài đặt subtask  hoặc  </s> <s> dùng subtask  viết thêm trình sinh test tự động để kiểm tra độ chính xác với  số lượng test tương đối lớn    test </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tự code tự chấm tự sướng  bí kíp thi offline </s> <s> http//vnoi </s> <s> info/wiki/algo/skill/viettrinhcham </s> <s> </s> <s> </s> <s> </s> <s> tác giả  vũ chipchip phúc hoàng </s> <s> </s> <s> bạn cảm thấy lo sợ trong những kì thi chấm offline bạn bình thường làm bài rất tốt nhưng khi chấm offline lại bị điểm kém vì sai những lỗi vớ vẩn bạn code sai một bài rất khó và debug mãi không được vì không có test sai tất cả những vấn đề đó sẽ được giải quyết đơn giản với một chương trình chấm bài tự động giúp bạn tự kiểm tra bài mình và phát hiện test sai </s> <s> bài viết này sẽ giới thiệu với bạn những bước cơ bản nhất để viết trình chấm  một kĩ thuật mà bạn nên thành thạo trước khi thi hsg quốc gia </s> <s> </s> <s> </s> <s> table of contents trình chấm là gì tại sao nên viết trình chấm khi nào nên viết trình chấm thành phần của một bộ trình chấm lời giải  lời giải  trình sinh test trình so test ví dụ bài vmellip </s> <s> lời giải  lời giải  trình sinh test  trình so test làm sao để viết trình chấm một cách hiệu quả template dành cho c template dành cho pascal template dùng shell script luyện tập viết trình chấm </s> <s> </s> <s> trình chấm là gì </s> <s> </s> <s> trình chấm là một bộ chương trình giúp bạn tự động sinh ra các test input ngẫu nhiên và tự động chạy hai chương trình lời giải khác nhau với các input đó để so sánh output </s> <s> về cơ bản trình chấm gồm  chương trình là lời giải  lời giải  trình sinh test và trình so test </s> <s> thường thì lời giải  là cách chuẩn bạn sẽ sử dụng còn lời giải  là một cách có hiệu quả kém hơn nhưng vẫn chính xác </s> <s> </s> <s> </s> <s> tại sao nên viết trình chấm </s> <s> </s> <s> viết trình chấm là một trong những cách kiểm tra bài của mình đáng tin cậy nhất </s> <s> với những kì thi chấm offline ví dụ như voi việc sai sót nhỏ rất khó tránh khỏi khi ta không thể biết kết quả trong khi thi </s> <s> vậy thì nếu như bài của bạn không được chấm với bộ test của ban tổ chức bạn hãy tự chấm nó với bộ test ngẫu nhiên mà mình sinh </s> <s> nếu bài của bạn đúng với các test ngẫu nhiên bạn có thể tạm yên tâm là bài sẽ được điểm cao và không bị những sai sót chí mạng dẫn đến bài bị  điểm </s> <s> </s> <s> </s> <s> trình chấm yêu cầu một trình chuẩn và một trình trâu và so sánh hai chương trình này với nhau </s> <s> nếu trình chấm của bạn phát hiện được một test mà kết quả hai chương trình không khớp nhau trình chuẩn hoặc trình trâu của bạn sẽ sai và bạn hãy sử dụng test đó để debug </s> <s> còn nếu tất cả các test đều đúng bạn có thể tạm yên tâm vì mặc dù có thể cả hai lời giải cùng sai nhưng cùng sai giống hệt nhau thì rất khó </s> <s> </s> <s> </s> <s> đối với những kì thi chấm online hoặc đơn giản là bạn làm bài online trên mạng trình chấm cũng rất hữu ích trong việc tìm test sai </s> <s> chẳng hạn khi bạn code một bài cấu trúc dữ liệu khó nộp bài thấy bị  điểm thay vì việc ngồi debug bằng mắt hãy thử code một bộ trình chấm để giúp tìm test sai </s> <s> với test sai tìm được bạn sẽ dễ dàng debug hơn rất nhiều </s> <s> </s> <s> </s> <s> nhiều người ngại viết trình chấm vì cho rằng làm vậy mất thời gian </s> <s> tuy nhiên khi đã thành thạo thì viết một bộ trình chấm cho một bài chỉ mất khoảng  phút nếu như bài đó có thể làm trâu và sinh test ngẫu nhiên một cách dễ dàng </s> <s> lợi thế về mặt tâm lí khi đã biết chắc bài làm của mình đúng sẽ giúp bạn làm bài hiệu quả hơn thực tế sẽ tiết kiệm được thời gian so với khi không kiểm tra bài </s> <s> tương tự viết trình chấm để debug những bài code khó đôi khi hiệu quả hơn nhiều so với việc debug bằng mắt tiết kiệm được rất nhiều thời gian </s> <s> </s> <s> </s> <s> khi nào nên viết trình chấm </s> <s> </s> <s> lời khuyên của tác giả là hãy viết trình chấm bất cứ lúc nào mà bài có thể làm trâu và sinh test ngẫu nhiên dễ dàng </s> <s> có một số bài mà cách trâu còn khó hơn cách chuẩn thì có thể tạm bỏ qua tuy nhiên nếu có thời gian vẫn nên viết trình chấm sau đấy để đảm bảo chắc chắn </s> <s> </s> <s> </s> <s> thành phần của một bộ trình chấm </s> <s> </s> <s> lưu ý bài viết này hướng dẫn cho pascal/c trên hệ điều hành windows </s> <s> với các ngôn ngữ khác hoặc chạy trên hệ điều hành khác một số lệnh sẽ thay đổi tuy nhiên ý tưởng vẫn tương tự </s> <s> </s> <s> </s> <s> một bộ trình chấm gồm có  thành phần lời giải  lời giải  trình sinh test trình so test </s> <s> </s> <s> </s> <s> lời giải  </s> <s> </s> <s> thường là code chuẩn của bạn </s> <s> dù viết trình chấm hay không thì phần này bắt buộc phải có nên cũng không cần phải nói nhiều </s> <s> trong bài viết này ta sẽ giả sử input của trình lời giải  là  </s> <s> inp  output là  </s> <s> out </s> <s> </s> <s> </s> <s> lời giải  </s> <s> </s> <s> thường là code trâu hoặc là một cách giải khác miễn là ra đúng đáp số </s> <s> hãy chọn cách dễ code nhất dễ đúng nhất có thể vì thời gian chạy thực ra không quan trọng lắm khi bạn chỉ cần sinh test nhỏ để kiểm tra </s> <s> trong bài viết này ta sẽ giả sử input của trình lời giải  là  </s> <s> inp  output là  </s> <s> ans </s> <s> </s> <s> </s> <s> trình sinh test </s> <s> </s> <s> chương trình này có nhiệm vụ sinh input ngẫu nhiên vào file  </s> <s> inp </s> <s> để cho hàm ngẫu nhiên được thay đổi khi chương trình khởi động sử dụng lệnh randomize trong pascal và srandtimenull trong c </s> <s> </s> <s> </s> <s> lưu ý lệnh srandtimenull trong c tính random theo giây tức là sau  giây nó mới thay đổi random seed </s> <s> vì vậy nhiều khả năng các test random sinh ra liên tục sẽ bị giống nhau </s> <s> để khắc phục điều này ta có thể lồng trình sinh test vào trình so test chứ không tách ra cho chạy riêng nữa </s> <s> với pascal thì không phải lo về điều này vì randomize thay đổi random seed theo mili giây </s> <s> </s> <s> </s> <s> trình so test </s> <s> </s> <s> chương trình này có nhiệm vụ duyệt n lần với n là số test cần so mỗi lần thì chạy trình sinh test trước xong đến lần lượt lời giải  và lời giải  </s> <s> sau khi chạy xong ta có được file  </s> <s> out và  </s> <s> ans tương ứng là kết quả của hai chương trình lời giải và việc còn lại là so sánh  file này với nhau </s> <s> nếu kết quả trùng nhau hoặc thỏa mãn điều kiện đề bài với những bài có nhiều đáp số ta coi như test đó đúng và chuyển đến test sau </s> <s> nếu khác nhau ta in ra sai và dừng chương trình lại luôn và ta có  file  </s> <s> inp   </s> <s> out   </s> <s> ans là dữ liệu của test sai </s> <s> </s> <s> </s> <s> để chạy file ta sử dụng exec </s> <s> exe  trong pascal và system </s> <s> exe trong c </s> <s> </s> <s> </s> <s> ví dụ bài vmellip </s> <s> </s> <s> </s> <s> đây là một bài cấu trúc dữ liệu rất khó thuộc đề thi vnoi marathon  </s> <s> bài viết xin được lấy code của tanphatls được  điểm làm ví dụ </s> <s> </s> <s> </s> <s> lời giải  </s> <s> </s> <s> link code </s> <s> </s> <s> đây là code của tanphatls được thêm  dòng freopen vào để mở file </s> <s> code gốc không có  dòng này vì nộp trên spoj sử dụng standard input / output </s> <s> </s> <s> </s> <s> lời giải  </s> <s> </s> <s> link code </s> <s> </s> <s> đây là code trâu với độ phức tạp on  m làm y như những gì đề bài bảo </s> <s> </s> <s> </s> <s> trình sinh test  trình so test </s> <s> </s> <s> link code </s> <s> </s> <s> vì đây là code c nên tác giả kết hợp trình sinh test với trình so test để cho hàm random chạy không bị trùng </s> <s> code sinh test từ dòng  đến dòng  </s> <s> ở đây ta duyệt  lần ứng với  test mỗi lần duyệt ta sinh ngẫu nhiên ra file input vmellip </s> <s> inp </s> <s> sau đó ta lần lượt chạy hai chương trình ở trên systemvmellip </s> <s> exe và systemvmelliptrau </s> <s> exe lời giải  đặt tên là vmelliptrau  </s> <s> sau đó ta sử dụng lệnh systemfc vmellip </s> <s> out vmellip </s> <s> ans  có nhiệm vụ so hai file text vmellip </s> <s> out và vmellip </s> <s> ans với nhau </s> <s> nếu hai file hoàn toàn khớp nhau lệnh system sẽ trả về exit code là  còn không sẽ trả về exit code là  </s> <s> </s> <s> </s> <s> chạy thử chương trình này ta có thể sinh được một test sai như sau </s> <s> </s> <s>   </s> <s>   </s> <s>     </s> <s>     </s> <s>    </s> <s>     </s> <s>     </s> <s>   </s> <s> </s> <s> trong đó lời giải  ra output là </s> <s> </s> <s>  </s> <s> </s> <s> lời giải  ra output là </s> <s> </s> <s>  </s> <s> </s> <s> giới hạn test dòng  được đặt nhỏ mục đích là để sinh ra test sai nhỏ dễ debug hơn </s> <s> sau khi code đã đúng có thể tăng giới hạn lên để kiểm tra mạnh hơn </s> <s> </s> <s> </s> <s> làm sao để viết trình chấm một cách hiệu quả </s> <s> </s> <s> qua ví dụ trên bạn có thể cảm thấy khá ngại khi code trình so test khá dài code có thể mất thời gian </s> <s> tuy nhiên ta hoàn toàn có thể viết code so test thành một template để ứng dụng cho tất cả các bài với một template so test có sẵn việc còn lại của ta chỉ là code phần sinh test và trình trâu nếu như đã làm quen với trình chấm thì chỉ mất khoảng  phút để viết </s> <s> </s> <s> </s> <s> tác giả xin được chia sẻ với các bạn các template trình chấm do chính mình sử dụng </s> <s> </s> <s> </s> <s> template dành cho c </s> <s> </s> <s> include ltbits/stdc </s> <s> hgt </s> <s> using namespace std  </s> <s> // tên chương trình </s> <s> const string name  template  </s> <s> // số test kiểm tra </s> <s> const int ntest    </s> <s> </s> <s> // viết lại hàm random để sử dụng cho thuận tiện </s> <s> hàm random này sinh ngẫu nhiên số trong phạm vi long long số sinh ra gt l và lt h </s> <s> </s> <s> long long rand  long long l  long long h  </s> <s>  </s> <s> return l   long long  rand    randmax      randmax      randmax     </s> <s>  long long  rand    randmax      randmax     </s> <s>  long long  rand    randmax     </s> <s> rand    h  l    </s> <s>  </s> <s> </s> <s> int main  </s> <s>  </s> <s> srand  time  null  </s> <s> for  int itest    itest lt ntest  itest   </s> <s>  </s> <s> ofstream inp  name   </s> <s> inp  </s> <s> cstr  </s> <s> // code phần sinh test ở đây </s> <s> inp </s> <s> close  </s> <s> // nếu dùng linux thì  </s> <s> /  tên chương trình </s> <s> system  name   </s> <s> exe  </s> <s> cstr  </s> <s> system  name  trau </s> <s> exe  </s> <s> cstr  </s> <s> // nếu dùng linux thì thay fc bằng diff </s> <s> if  system  fc   name   </s> <s> out   name   </s> <s> ans  </s> <s> cstr     </s> <s>  </s> <s> cout ltlt test  ltlt itest ltlt  wrong n   </s> <s> return   </s> <s>  </s> <s> cout ltlt test  ltlt itest ltlt  correct n   </s> <s>  </s> <s> return   </s> <s>  </s> <s> </s> <s> template dành cho pascal </s> <s> </s> <s> mode objfpc </s> <s> // thư viện dos chứa lệnh exec </s> <s> uses dos  </s> <s> const </s> <s> // tên chương trình </s> <s> nam  template  </s> <s> // số test kiểm tra </s> <s> ntest    </s> <s> var </s> <s> itest  integer  </s> <s> </s> <s> begin </s> <s> for itest   to ntest do </s> <s> begin </s> <s> // pascal không gặp vấn đề với randomize vì vậy ta có thể tách trình sinh test riêng ra </s> <s> </s> <s> exec  nam  sinhtest </s> <s> exe    </s> <s> exec  nam   </s> <s> exe    </s> <s> exec  nam  trau </s> <s> exe    </s> <s> exec  fc  nam   </s> <s> out   nam   </s> <s> ans  </s> <s> if dosexitcode ltgt  then </s> <s> begin </s> <s> writeln  test   itest   wrong  </s> <s> exit  </s> <s> end  </s> <s> writeln  test   itest   correct  </s> <s> end  </s> <s> end </s> <s> </s> <s> </s> <s> template dùng shell script </s> <s> </s> <s> giả sử bạn có  code khác nhau đã dịch ra  file executable là prog và prog </s> <s> bạn viết thêm  trình sinh test và dịch ra file gen  gen nhận  argument là randomized seed vd với c bạn dùng srandatoiargv  </s> <s> </s> <s>  sinh  test </s> <s> for  i  ilt  i   do </s> <s>  sinh input với seed i và lưu vào intmp </s> <s> </s> <s> /gen i gt intmp </s> <s>  so sánh output của  code nếu output khác nhau thì dừng lại </s> <s> </s> <s>  khi đó ta có file intmp chính là input mà  code chạy ra kết quả khác nhau </s> <s> </s> <s> diff lt  </s> <s> /prog lt intmp  lt  </s> <s> /prog lt intmp   break </s> <s> done </s> <s> </s> <s> luyện tập viết trình chấm </s> <s> </s> <s> để viết trình chấm thành thạo hãy thử viết trình chấm với tất cả các bài mà bạn luyện tập cho đến khi không còn ngại viết trình chấm nữa thì lúc đó bạn sẽ thành công </s> <s> hãy đặt ra mục tiêu là một sub ac với tất cả các bài mình làm với sự hỗ trợ của trình chấm </s> <s> một khi đã thành thạo tuyệt kĩ này bạn sẽ dễ dàng chinh phục những kì thi chấm offline và không bao giờ phải lo lắng làm sai nữa </s> <s> </s> <s> </s> <s> </s> <s> tôi đã học tin học như thế nào phần  bắt đầu từ đâu </s> <s> http//vnoi </s> <s> info/wiki/algo/basic/hoctinthenao </s> <s> </s> <s> </s> <s> </s> <s> tác giả nguyễn xuân khánh </s> <s> </s> <s> trong bài viết này mình sẽ cố gắng trả lời ngắn gọn và đơn giản những câu hỏi mà mình nghĩ rằng sẽ có ích đối với các bạn đặc biệt có đam mê đối với tin học nhưng mới tiếp xúc và không biết phải bắt đầu từ đâu </s> <s> trọng tâm của mình sẽ là việc học thuật toán để tham gia các kì thi quốc gia tuy nhiên mình cũng sẽ cố gắng gợi mở thêm nhiều hướng khác trong phạm trù kinh nghiệm của mình </s> <s> </s> <s> </s> <s> lưu ý  xuất xứ của mình là một người học tin để thi quốc gia sau đó chuyển dần sang nghiên cứu khoa học về machine learning </s> <s> vì thế những gì được viết dưới đây xuất phát từ kinh nghiệm của riêng bản thân mình và chỉ thể hiện góc nhìn từ con đường mình đã đi </s> <s> mình khuyên các bạn nên chừa ra một khoảng trống trong tâm hồn để thu nhặt các ý kiến từ các góc nhìn khác </s> <s> </s> <s> </s> <s> sau đây là các câu hỏi… </s> <s> </s> <s> tại sao phải học tin học </s> <s> </s> <s> về cơ duyên đến với tin học của mình bạn có thể tham khảo bài viết trước </s> <s> hy vọng các bạn sẽ tìm thấy điểm chung nào đó </s> <s> một điều mình muốn nói thêm là tin học hiện nay giống như một môn toán thứ hai vậy </s> <s> nếu sau cuộc cách mạng công nghiệp nhân loại bắt đầu gắn động cơ vào bất cứ mọi thứ xung quanh thì đến cuộc cách mạng máy tính hiện tại con người bắt đầu dùng máy tính vào mọi việc có thể </s> <s> một công việc trong thế giới hiện đại khó mà có thể vận hành hiệu quả mà không cần dùng đến máy tính </s> <s> vì thế một con người trong thế giới hiện đại khó mà có thể thành công mà không có kỹ năng sử dụng công cụ này </s> <s> bạn bè của mình làm nhiều ngành khác nhau từ toán học hoá học vật lý đến kiểm toán </s> <s> họ đều phải chí ít phải có kỹ năng lập trình để phục vụ cho công việc của mình </s> <s> </s> <s> </s> <s> học tin học như thế nào cho đúng </s> <s> </s> <s> rất khó để đưa được một câu trả lời trọn vẹn </s> <s> thay vì đó mình sẽ nói về một cách học mình cho là chưa đúng </s> <s> đó là quan niệm học tin học tức là học một ngôn ngữ lập trình </s> <s> các cách nói dân gian như “học pascal” không thể hiện được hết tinh thần của việc học tin </s> <s> đối với phạm trù tin học cấp  điều quan trọng nhất bạn rút ra được sau  năm học phải một tư duy thuật toán </s> <s> bạn cần làm cho bộ não quen thuộc với lối suy nghĩ theo các cấu trúc điều kiện cấu trúc lặp lại cách chia chương trình ra thành các chương trình nhỏ hơn rồi tập trung giải quyết từng phần một </s> <s> vì đa phần các ngôn ngữ lập trình đều được xây dựng dựa trên các yếu tố cơ bản trên việc bạn thành thạo về tư duy lập trình sẽ giúp bạn học một ngôn ngữ lập trình rất nhanh </s> <s> hãy làm chủ ngôn ngữ lập trình chứ đừng bị phụ thuộc vào chúng </s> <s> </s> <s> </s> <s> mình không phản đối việc thành thục một ngôn ngữ lập trình </s> <s> thậm chí việc thành thạo một ngôn ngữ lập trình là quan trọng sống còn sau này khi bạn muốn làm ra những sản phẩm thực thụ </s> <s> nhưng hãy để việc đó sau khi bạn đã có một nền tảng tư duy vững chắc </s> <s> </s> <s> </s> <s> nhưng vẫn phải chọn một ngôn ngữ để bắt đầu học chứ </s> <s> </s> <s> chính xác </s> <s> câu trả lời này mình xin chia ra dành cho hai đối tượng </s> <s> </s> <s> </s> <s> các bạn luyện thi tin học quốc gia  theo mình biết thì hai lựa chọn chính dành cho các bạn là pascal và c </s> <s> việc đưa c vào danh sách là một thay đổi lớn vì  năm trước khi mình học tin pascal là sự lựa chọn duy nhất cho các vòng thi trong nước </s> <s> trong tương lai mình dự đoán c sẽ thay thế hẳn cho pascal </s> <s> mình không rành về pascal bằng c nên sẽ không so sánh tính năng của chúng chi tiết </s> <s> tuy nhiên c đưa ra ưu thế rõ rệt về tốc độ bao gồm cả tốc độ chạy của chương trình và tốc độ lập trình ra chương trình đó </s> <s> nói đơn giản là code c chạy nhanh và tương đối ngắn gọn không quá ngắn gọn đến mức khó hiểu </s> <s> đặc biệt khi học c bạn có thể tham gia được rất nhiều kỳ thi lập trình thuật toán trực tuyến trên mạng </s> <s> đây là mấu chốt trong việc thành công trong kỳ thi quốc gia </s> <s> một lợi thế khác khi học c là nó được sử dụng rộng rãi trong công nghiệp </s> <s> vì sớm muộn gì bạn cũng phải học đến nó chi bằng học sớm từ đầu </s> <s> </s> <s> các bạn học tin với mục đích chung khác ngoài c ra theo mình ngôn ngữ python là một sự khởi đầu tuyệt vời </s> <s> cú pháp của python cực kỳ đơn giản giống như là đang viết những phép toán trong sách giáo khoa vậy </s> <s> dù đơn giản python lại rất đa năng và được hỗ trợ mạnh mẽ từ cộng đồng người sử dụng </s> <s> java là một sự lựa chọn tốt cho những bạn muốn học về lập trình hướng đối tượng một cách bài bản </s> <s> dù cả python và c đèu hỗ trợ lập trình hướng đối tượng java theo mình là ngôn ngữ biểu hiện điều này rõ rệt nhất </s> <s> bạn không thể viết một chương trình hoàn chỉnh trong java mà không đặt nó vào trong một đối tượng class trong khi nếu sử dụng python và c ta có thể quên bẵng đi khái niệm này </s> <s> ngôn ngữ java chặt chẽ và dạy cho bạn những thói quen tốt về cách thiết kế chương trình </s> <s> </s> <s> </s> <s> </s> <s> học ngôn ngữ lập trình như thế nào </s> <s> </s> <s> mình sẽ giả sử là các bạn muốn học c </s> <s> theo mình thì việc chạy ra nhà sách và mua ngay một cuốn sách giáo khoa dày cộm về c không giúp ích gì mấy vì mình đã từng làm điều này </s> <s> hồi mình mới học c mình thường lên các trang giải bài trực tuyến hoặc cách trang kỳ thi và xem code c của các cao thủ khác để học theo cách code của học </s> <s> điều này có hai lợi ích </s> <s> thứ nhất vì mình đã biết trước lời giải nên mình có thể đoán được từng phần chương trình sẽ làm nhiệm vụ gì sau đó đi sau vào xem cụ thể nhiệm vụ đó được thực hiện thế nào </s> <s> thứ hai vì là cao thủ nên code của họ sẽ rất tối ưu có thể học được nhiều mẹo vặt mà sách giáo khoa không dạy </s> <s> một cách khác là bạn có thể google từ khoá “c interactive tutorial” để tìm kiếm cách trang dạy ngôn ngữ lập trình một cách tương tác </s> <s> các trang này thường sẽ đưa bạn đi qua các khái niệm từ dễ đến khó </s> <s> bạn vừa học vừa thực hành ngay nên sẽ bớt nhàm chám hơn là ngồi cày sách </s> <s> tuy nhiên về lâu về dài bạn vẫn phải đọc sách hoặc tài liệu chính thống để hiểu biết các khái niệm cốt lõi của một ngôn ngữ </s> <s> ví dụ như là trong c bạn có thể truyền tham số bằng cả reference hoặc value trong khi đó java chỉ cho phép truyền tham số bằng value mà thôi </s> <s> những điều “behindthescenes” như vậy không thể học được nếu chỉ nhìn vào code của người khác </s> <s> </s> <s> </s> <s> stackoverflow – the definitive c book guide and list </s> <s> </s> <s> nên dùng công cụ gì để lập trình </s> <s> </s> <s> trên windows free pascal là sự lựa chọn tốt cho pascal </s> <s> ngoài ra còn có một số công cụ khác như lazarus  codeblocks  delphi  </s> <s> </s> <s> </s> <s> đối c thì hồi trước mình hay dùng nhất là devc </s> <s> </s> <s> </s> <s> tuy nhiên mình khuyên là các bạn nên từ bỏ windows và chuyển sang một hệ điều khác dựa trên nền tảng unix như là ubuntu </s> <s> hiện tại thì màn hình lập trình của mình trông giống như thế này </s> <s> </s> <s> </s> <s> </s> <s> ở cửa sổ trái mình sử dụng vim  chỉ đơn thuần là một chương trình soạn thảo văn bản text editor của ubuntu </s> <s> ở cửa sổ phải mình sử dụng terminal  nói nôm na là nơi bạn có thể điều khiển máy tính bằng các câu lệnh thay vì dùng chuột giống như là msdos thời xa xưa </s> <s> lưu ý là hai công cụ này đều có sẵn trong ubuntu bạn không cần phải cài đặt gì cả </s> <s> trong hình mình có cài thêm một số plugins cho vim để thêm màu mè màn hình đen hiển thị dòng cột cảm ơn bạn mình là rr </s> <s> mình cũng cài thêm theme macbook cho máy nên màn hình trông giống macos mặc dù thật ra nó vẫn là ubuntu </s> <s> </s> <s> </s> <s> khi lập trình mình viết code vào vim rồi sử dụng câu lệnh này để biên dịch compile chương trình </s> <s> </s> <s> </s> <s> g test </s> <s> cpp o a o wall </s> <s> </s> <s> lựa chọn “o a” sẽ biên dịch file test </s> <s> cpp thành một file excutable tương tự như file </s> <s> exe của windows có tên là a trong cùng thư mục của file test </s> <s> cpp </s> <s> vì thế muốn chạy chương trình mình chỉ cần chạy file a bằng câu lệnh sau </s> <s> </s> <s> </s> <s> /a </s> <s> </s> <s> nếu bạn không thích vim có thể xài gedit hoặc là emacs hoặc bất cứ trình soạn thảo văn bản nào khác đều được </s> <s> bộ đôi text editor  terminal rất đa năng vì bạn có thể sử dụng nó cho nhiều ngôn ngữ khác nhau </s> <s> hơn nữa trong một sản phẩm lập trình thật sự bạn không phải compile một lúc một file nữa mà có thể là cả ngàn files </s> <s> lúc đó bạn sẽ cần đến các công cụ chạy từ terminal </s> <s> cho nên làm quen với terminal sớm là một lợi thế </s> <s> ngoài ra trong tương lai gần nếu thi tin học quốc tế ioi các bạn sẽ thi trên hệ điều hành ubuntu </s> <s> </s> <s> </s> <s> tìm thầy nơi đâu </s> <s> </s> <s> muốn học giỏi cần phải có thầy giỏi </s> <s> cho dù có tố chất đến mấy mà không biết cách khai phá thì cũng sẽ không thể đạt đỉnh cao </s> <s> nếu ai đó bảo bạn rằng chỉ có tự học mới giỏi được thì người đó nói đúng </s> <s> nhưng nếu bạn chỉ ngồi trong giếng nhà tự mày mò tất cả thì theo mình đó không phải là tự học mà chỉ là học một mình </s> <s> tự học bao gồm cả việc tự tìm thầy để mà học </s> <s> </s> <s> </s> <s> khi mình đặt chân vào trường phổ thông năng khiếu nơi có đội tuyển tin thuộc hàng top của đất nước thời bấy giờ mình cứ ngỡ sẽ được dạy dỗ bởi những sư tổ tu luyện lâu năm là những giáo sư tiến sĩ đầu tóc bạc phơ </s> <s> tuy nhiên năng khiếu xây dựng cho mình một hình tượng khác về người thầy </s> <s> người “thầy” của mình ở năng khiếu ngoài thầy chủ nhiệm còn là các anh khóa trên đi trước và các bạn trong cùng đội tuyển </s> <s> ngoài ra mình cũng chủ động làm quen các anh học giỏi trong cả nước thời ấy như khúc anh tuấn hoặc phạm quang vũ để hỏi bài </s> <s> khi hỏi mình cũng thấy hơi ngại nhưng mà thông qua đó mình học được cách suy nghĩ rất hay của các anh </s> <s> có những bài tập đòi hỏi những kỹ thuật mà mình thật sự không thể nào biết được nếu chỉ ngồi học trong giếng nhà </s> <s> sau này diễn đàn vnoi được các đàn anh lập ra cũng vì mục đích để mọi người tìm được những người thầy như vậy </s> <s> </s> <s> </s> <s> tuy nhiên mình khuyến cáo các bạn không nên quá lạm dụng các “thầy” không nên coi các thầy như là một cỗ máy trả lời </s> <s> các “thầy” thường sẽ tận tình đỡ các bạn hơn nếu các bạn thể hiện được mình là người chịu khó tư duy và tìm tòi hơn là chỉ biết vòi vĩnh câu trả lời </s> <s> các bạn coi phim chắc cũng biết là cao nhân chỉ truyền bí kíp cho kẻ có tố chất </s> <s> một mẹo nhỏ là nhớ lịch sự nói “cảm ơn” sau mỗi lần hỏi </s> <s> </s> <s> </s> <s> tìm bài nơi đâu </s> <s> </s> <s> khi học tin học bạn có một lợi thế đó là bài tập dường như là vô biên  spoj  timus  poj  </s> <s> nhưng bạn không cần thiết làm hết tất cả chúng để giỏi </s> <s> vì thế ta thay vì hỏi tìm bài ở đâu thì nên hỏi </s> <s> </s> <s> nên làm những bài gì </s> <s> </s> <s> mình gợi ý một số cách làm bài cơ bản như sau </s> <s> </s> <s> </s> <s> làm hết những bài cơ bản  vào trang spoj hoặc voj  mở list đề bài ra </s> <s> ở tiêu đề của cột “users” khi bạn bấm vào đó một lần thì các bài tập sẽ được sắp xếp theo thứ tự giảm dần số lượng người làm được </s> <s> bài ở những trang đầu tiêu là những bài cơ bản nhất hầu như ai cũng làm được </s> <s> bạn nên làm khoảng vài trang đầu để luyện các kỹ thuật cơ bản </s> <s> </s> <s> </s> <s> làm theo chủ đề  khi bạn đang làm những bài cơ bản sẽ gặp những bài bạn nghĩ mãi vẫn không ra </s> <s> không phải là bạn kém thông minh gì mà vì những thuật toán đó quá xa lạ với bạn </s> <s> vậy thì bạn nên tìm tòi làm những dạng bài tương tự để biết cách áp dụng các thuật toán mới học </s> <s> sau khi google mình tìm thấy trang này problem classifier có lẽ khá hữu dụng </s> <s> </s> <s> </s> <s> mình muốn dừng ở đây một chút để lưu ý là cách  và cách  phải nên được áp dụng bổ trợ cho nhau bởi vì một phương pháp chú trọng vào mở rộng kiến thức theo chiều rộng còn phương pháp còn lại mở rộng theo chiều sâu </s> <s> chỉ làm theo kiểu gặp bài nào làm bài đó thì khó thể đúc kết được những kinh nghiệm sâu sắc </s> <s> ngược lại làm theo chủ đề cho các bạn thời gian để tập trung suy nghĩ về một vấn đề nhưng cẩn thận tránh đam mê quá một dạng bài mà trở nên không thoải mái khi làm những dạng bài khác </s> <s> </s> <s> </s> <s> tham gia các kì thi trực tuyến  nếu hai phương pháp trên sẽ cho bạn nền tảng tốt thì phương pháp này sẽ đưa bạn đến đỉnh cao </s> <s> vì mục đích cuối của bạn là tham gia các kì thi quốc gia quốc tế nên việc ngồi cả ngày trời để làm một bài tập trên các trang online judge một lúc nào đó sẽ trở thành một thói quen vô cùng nguy hại </s> <s> lúc đó bạn nên chuyển qua làm bài theo thời gian thực </s> <s> có cảm nhận về áp lực thời gian đầu óc bạn sẽ trở nên nhanh nhẹn hơn nhiều </s> <s> hơn nữa khi thật sự thi đấu với những con người khác bạn cũng sẽ có cảm xúc luyện tập hơn là chỉ ngồi cày online judge một mình </s> <s> hiện nay các kì thi trực tuyến mọc lên như nấm  codeforces  topcoder  hackerrank  usaco  coci  </s> <s> các bạn cũng có thể lấy bài từ các cuộc thi khác vào tạo ra cuộc thi của riêng rồi mời bạn bè tham gia  hustoj  </s> <s> </s> <s> </s> <s> </s> <s> làm sao để làm bài ít mà vẫn giỏi </s> <s> </s> <s> không có cách nào cả </s> <s> phải làm bài nhiều mới giỏi được </s> <s> nghiên cứu về các kiện tướng ở nhiều bộ môn cho thấy họ đều luyện tập ít nhất  ngàn giờ để đạt được trình độ đó </s> <s> </s> <s> </s> <s> làm sao để không cần làm quá nhiều bài mà vẫn giỏi </s> <s> </s> <s> điều này thì có thể </s> <s> thậm chí mình cảm thấy làm quá nhiều sẽ dẫn đến hoặc là quá tải hoặc là sẽ trở một cỗ máy giải bài giải bài xong thì bỏ qua ngay mà không suy nghĩ thêm gì nữa </s> <s> nên nhớ là thời gian luyện tập của các bạn có hạn nên các bạn phải khai thác hết giá trị của từng bài tập bạn giải </s> <s> giải một bài tập xong rồi quăng sang một bên là vô cùng phí phạm </s> <s> việc các bạn giải được nhiều bài trước kì thi chẳng có nghĩa lý gì nếu bạn không rút ra được nhiều giá trị từ chúng </s> <s> </s> <s> </s> <s> suy cho cùng thì nguyên lý “muốn giỏi phải làm nhiều bài tập” vẫn không đổi </s> <s> tuy nhiên thay vì làm các bài tập một cách tuần tự các bạn có thể cùng một lúc giải nhiều bài tập bằng cách suy nghĩ về những biến thể của một bài tập vừa giải được </s> <s> hãy xem xem trong bài toán có những điều kiện nào thể thay đổi được có thể tổng quát hóa lên được </s> <s> bài toán này có tính chất gì đặc biệt mà thuật toán của bạn lại giải được tính chất đó có thể xuất hiện dưới dạng khác hay không chỉ cần bỏ một ít thời gian đặt ra những câu hỏi dạng này và đào sâu khám phá giá trị thu được khi giải một bài tập sẽ được nhân lên nhiều lần </s> <s> giải một bài mà như giải  bài là như vậy </s> <s> </s> <s> </s> <s> một ví dụ đơn giản là trong lúc làm bài tập mình nhận ra rằng thuật toán chia nhị phân được sử dụng để chuyên trị những bài tập đòi hỏi “cực tiểu hóa một giá trị cực đại” hoặc ngược lại ví dụ như là tìm tập hợp sao cho số lớn nhất trong tập nhỏ nhất trong tất cả các cách chọn </s> <s> trong một ví dụ khác với bài qbdivseq  nhận xét mấu chốt là “độ dài dãy con tăng dài nhất là số lượng ít nhất các dãy con giảm mà ta có thể phân chia dãy ban đầu thành” </s> <s> khi chứng minh nhận xét này mình nhận thấy một tính chất đặc biệt của mối quan hệ “lớn bé” giúp cho chứng minh trở nên khả thi </s> <s> đó là tính chất bắc cầu a lt b b lt c suy ra a lt c </s> <s> từ đó mình suy nghĩ ra rằng thay vì sử dụng mối quan hệ “lớn bé” thông thường khi so sánh các số ta có hoàn toàn có thể áp dụng nhận xét của bài này cho một mối quan hệ “lớn bé” khác ví dụ quan hệ chia hết miễn là tính chất bắc cầu được thỏa mãn </s> <s> </s> <s> </s> <s> cuối cùng nhưng quan trọng nhất… tiếng anh </s> <s> </s> <s> theo mình có một thứ tách biệt người học giỏi và người học không giỏi trong các kì thi tin học quốc gia và quốc tế đó là việc người học đó có thoải mái với tiếng anh hay không </s> <s> việc thoải mái với tiếng anh giúp cho bạn có thể vươn ra khỏi cộng đồng trong nước để tiếp cận với nhiều luồng tri thức của nhân loại </s> <s> hồi mình mới học tin tìm được một cuốn sách dạy thuật toán bằng tiếng việt giống như là tìm cá mập trong vịnh thái lan vậy </s> <s> thực tế chỉ có một cuốn sách về thuật toán được viết sát với nội dung thi quốc gia do thầy lê minh hoàng biên soạn </s> <s> nhưng chỉ luyện các thuật toán cơ bản trong sách thầy hoàng thì không đủ để có thể cạnh tranh trên đấu trường quốc tế em xin lỗi thầy   </s> <s> lúc ấy muốn học thêm các kỹ thuật nâng cao về quy hoạch động hay cấu trúc dữ liệu mình phải tìm đến trang dạy thuật toán của topcoder hoặc đọc lời giải bằng tiếng anh của các kì thi quốc tế </s> <s> hiện nay các thành viên của codeforces có viết nhiều trang blog mô tả đủ loại kỹ xảo lập trình tiên tiến nhất </s> <s> đó là một mỏ vàng cần được khai thác </s> <s> </s> <s> </s> <s> thoái mái với tiếng anh cũng giúp bạn hòa nhập với cộng đồng luyện thi lập trình trên thế giới thông qua việc tham gia các kì thi trực tuyến đề tiếng anh </s> <s> bạn từ một con cá nhỏ trong cái ao làng vươn ra biển lớn </s> <s> bạn sẽ thấy rằng con cá lớn nhất trong cái ao của bạn chẳng to bằng một phần trăm con cá lớn của đại dương </s> <s> khi được tôi luyện với con những con cá đó dù cố tình hay vô ý khả năng sinh tồn của bạn rồi cũng sẽ được nâng cao </s> <s> </s> <s> </s> <s> bài viết đến đây là hết chúc các bạn tìm được nhiều niềm vui với môn tin học  </s> <s> </s> <s> </s> <s> interval tree trên tập đoạn thẳng </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/intervaltreetapdoanthang </s> <s> </s> <s> </s> <s> </s> <s> tác giả  vũ chipchip phúc hoàng </s> <s> </s> <s> table of contents bài toán ưu điểm nhược điểm ý tưởng query update mở rộng ứng dụng một số câu hỏi bài tập áp dụng một số bài tập quy hoạch động bao lồi truyền thống usaco  fencing the herd voj  vomario bài khác </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một tập hợp chứa các đường thẳng có dạng ax  b mỗi đường thẳng được biểu diễn bằng một cặp số a b </s> <s> cần thực hiện hai loại thao tác </s> <s> </s> <s> </s> <s> thêm một đường thẳng vào tập hợp </s> <s> </s> <s> trả lời xem tại hoành độ q điểm nào thuộc ít nhất một đường thẳng trong tập có tung độ lớn nhất </s> <s> nói cách khác đường thẳng a b nào có aq  b lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> để giải bài toán này hai cách phổ biến là ứng dụng bao lồi và sử dụng cây interval tree lưu đoạn thẳng </s> <s> sau đây là những ưu điểm và nhược điểm của it đoạn thẳng so với bao lồi </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> ứng dụng được với đoạn thẳng chứ không chỉ đường thẳng </s> <s> đây là ưu điểm lớn nhất của it đoạn thẳng so với bao lồi khi tập hợp cần xử lí là tập đoạn thẳng chứ không phải đường thẳng tức là đường thẳng ax  b chỉ tồn tại khi x thuộc một khoảng l h nhất định bao lồi sẽ không thể làm được </s> <s> </s> <s> thực hiện thao tác thêm đường thẳng đoạn thẳng một cách dễ dàng </s> <s> bao lồi gặp nhược điểm lớn khi thêm đường thẳng mà hệ số góc a không tăng dần hoặc giảm dần </s> <s> mặc dù không phải là không thể làm được nhưng bao lồi khi đó phải biểu diễn bằng cấu trúc khác không phải stack gây khó khăn lớn khi code </s> <s> </s> <s> dễ code </s> <s> chính vì hai ưu điểm ở trên it đoạn thẳng rất tổng quát và không cần phải xét trường hợp phụ thuộc vào bài toán như bao lồi </s> <s> đa số các bài toán phần update và query của it đoạn thẳng gần như giống hệt nhau </s> <s> phần thân chương trình cũng rất ngắn gọn </s> <s> </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> phụ thuộc vào kích thước hoành độ x </s> <s> vì it đoạn thẳng xử lí trên khoảng của hoành độ với bài toán mà query x lớn hoặc x không phải số nguyên không thể biểu diễn bằng it bình thường </s> <s> có thể thay thế bằng rời rạc hóa các tọa độ hoặc it động nhưng so với bao lồi đây là một nhược điểm đáng kể khi bao lồi hoàn toàn không phụ thuộc vào x </s> <s> </s> <s> bộ nhớ và thời gian lớn </s> <s> lưu một cây it chứa hai số nguyên a b tốn bộ nhớ hơn nhiều so với stack bao lồi </s> <s> xử lí trên cây it cũng chậm hơn chặt nhị phân trên bao lồi </s> <s> về độ phức tạp có thể so sánh qua bảng sau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> lưu ý  ở đây ta giả sử các đường thẳng thêm vào có hệ số a tăng dần hoặc giảm dần bao lồi được biểu diễn bằng stack </s> <s> </s> <s> </s> <s> tóm lại so với cách ứng dụng bao lồi sử dụng it đoạn thẳng là một phương pháp tổng quát hơn nhưng chậm và tốn nhiều bộ nhớ hơn </s> <s> sau đây là những phân tích cơ bản về thuật toán </s> <s> </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> xây dựng một cây interval tree để quản lí tập các đoạn thẳng mỗi nút của cây quản lí một khoảng trên trục hoành </s> <s> thông tin lưu ở mỗi nút trên cây sẽ là đoạn thẳng đặc trưng cho khoảng nó quản lí </s> <s> đoạn thẳng này phải phủ kín khoảng tức là đoạn ax  b có khoảng x bao lấy khoảng do nút quản lí nếu là đường thẳng thì luôn phủ kín khoảng do nút quản lí </s> <s> đoạn thẳng được lưu trong nút phải cao hơn tất cả các đoạn khác tại một vị trí nào đó thuộc khoảng nếu không thì không cần quan tâm đến đoạn đó </s> <s> ý nghĩa của việc lưu này là với một query q bất kì đoạn aq  b cao nhất sẽ được lưu trong một nút nào đó của cây it quản lí khoảng chứa q </s> <s> cách lưu đoạn thẳng này khá trừu trượng nếu bạn đọc phần này chưa hiểu nên bỏ qua để xem cách query và update trên cây rồi đọc lại phần này sau </s> <s> </s> <s> </s> <s> như vậy thông tin lưu trên cây it sẽ được biểu diễn bằng một mảng line line là một cặp số a b biểu diễn đường thẳng </s> <s> </s> <s> </s> <s> line itmaxx   // maxx là giới hạn trục hoành </s> <s> </s> <s> ngoài ra có thể thêm một vài mảng phụ cần thiết cho it như low  high  leaf  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ta định nghĩa hàm getline d int x cho biết tung độ của điểm thuộc đường thẳng d tại hoành độ x </s> <s> </s> <s> </s> <s> int get  line d  int x  </s> <s>  </s> <s> return d </s> <s> a  x  d </s> <s> b  </s> <s>  </s> <s> </s> <s> query </s> <s> </s> <s> ta sẽ trả lời cho query q xem tại hoành độ x  q tìm tung độ cao nhất của một điểm thuộc một đoạn trong tập </s> <s> như đã nói ở trên it lưu các đoạn thẳng đảm bảo trong các nút cây quản lí khoảng chứa q có một nút lưu đoạn thẳng đạt tung độ cao nhất làm thế nào để được như vậy thì xem phần update </s> <s> vậy ở đây muốn trả lời cho query q ta đi từ gốc xuống nút lá quản lí điểm q trên đường đi update đáp số bằng tung độ cao nhất tại điểm q của đoạn thẳng do nút đó quản lí </s> <s> </s> <s> </s> <s> int query  int node  int pos  </s> <s>  </s> <s> if  low  node  gt pos  high  node  lt pos  </s> <s>  </s> <s> return  oo  </s> <s>  </s> <s> res  get  it  node  pos  </s> <s> if  low  node   high  node  </s> <s>  </s> <s> return res  </s> <s>  </s> <s> res  max  res  query  node    pos  </s> <s> res  max  res  query  node      pos  </s> <s> return res  </s> <s>  </s> <s> </s> <s> độ phức tạp ologmaxx </s> <s> </s> <s> update </s> <s> </s> <s> thêm một đoạn thẳng vào tập hợp ta phải thay đổi những nút trên cây it quản lí khoảng ứng với đoạn thẳng đó </s> <s> việc đầu tiên giống như update trên cây it cơ bản ta phải chia đoạn cần update ra thành những khoảng it </s> <s> </s> <s> </s> <s> void update  int node  int l  int h  line val  </s> <s>  </s> <s> if  low  node  gt h  high  node  lt l  </s> <s>  </s> <s> return  </s> <s>  </s> <s> if  low  node  gt l ampamp high  node  lt h  </s> <s>  </s> <s> // do something </s> <s> return  </s> <s>  </s> <s> update  node    l  h  val  </s> <s> update  node      l  h  val  </s> <s>  </s> <s> </s> <s> độ phức tạp của phần chia khoảng này là ologmaxx giống như it cơ bản </s> <s> nếu đoạn cần update là đường thẳng l  low h  high thì không mất thời gian chia khoảng độ phức tạp chỉ là o </s> <s> </s> <s> </s> <s> bây giờ việc phải làm là điền vào chỗ // do something </s> <s> ta có một đường thẳng val và đường thẳng itnode  cả hai đều chỉ được xét trong khoảng từ lownode đến highnode </s> <s> lấy mid là điểm giữa của khoảng mid  lownode  highnode /  </s> <s> ta sẽ thay đổi nút itnode và cả các con của nó </s> <s> có  trường hợp có thể xảy ra </s> <s> </s> <s> </s> <s> </s> <s> itnode hoàn toàn nằm trên val </s> <s> trường hợp này ta chỉ bỏ qua mà không làm gì vì val chắc chắn không bao giờ đạt max trong khoảng lownode đến highnode </s> <s> </s> <s> </s> <s> if  get  it  node  low  node  gt get  val  low  node  ampamp get  it  node  high  node  gt get  val  high  node  </s> <s>  </s> <s> return  </s> <s>  </s> <s> </s> <s> </s> <s> itnode hoàn toàn nằm dưới val </s> <s> trường hợp này ta gán itnode bằng val  itnode cũ không còn giá trị khi tìm max </s> <s> </s> <s> </s> <s> if  get  it  node  low  node  lt get  val  low  node  ampamp get  it  node  high  node  lt get  val  high  node  </s> <s>  </s> <s> it  node   val  </s> <s> return  </s> <s>  </s> <s> </s> <s> </s> <s> nửa bên trái của itnode hoàn toàn nằm trên nửa bên trái của val </s> <s> vậy val chắc chắn không bao giờ đạt max tại nửa trái của khoảng node  ta giữ lại itnode tại node và down val xuống con phải node     </s> <s> </s> <s> </s> <s> if  get  it  node  low  node  gt get  val  low  node  ampamp get  it  node  mid  gt get  val  mid  </s> <s>  </s> <s> update  node      l  h  val  </s> <s> return  </s> <s>  </s> <s> </s> <s> </s> <s> nửa bên trái của itnode hoàn toàn nằm dưới nửa bên trái của val </s> <s> tương tự như trên ta down itnode xuống con phải của node và update itnode bằng val </s> <s> </s> <s> </s> <s> if  get  it  node  low  node  lt get  val  low  node  ampamp get  it  node  mid  lt get  val  mid  </s> <s>  </s> <s> update  node      l  h  it  node  </s> <s> it  node   val  </s> <s> return  </s> <s>  </s> <s> </s> <s> </s> <s> nửa bên phải của itnode hoàn toàn nằm trên nửa bên phải của val </s> <s> </s> <s> </s> <s> if  get  it  node  mid    gt get  val  mid    ampamp get  it  node  high  node  gt get  val  high  node  </s> <s>  </s> <s> update  node    l  h  val  </s> <s> return  </s> <s>  </s> <s> </s> <s> </s> <s> nửa bên phải của itnode hoàn toàn nằm dưới nửa bên phải của val </s> <s> </s> <s> </s> <s> if  get  it  node  mid    lt get  val  mid    ampamp get  it  node  high  node  lt get  val  high  node  </s> <s>  </s> <s> update  node    l  h  it  node  </s> <s> it  node   val  </s> <s> return  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> sau khi xét xong  trường hợp ở trên ta đã xử lí xong việc update đoạn val trong một khoảng lownode  highnode </s> <s> độ phức tạp của thao tác này là ologmaxx vì có thể phải đi từ node cho đến lá </s> <s> có thể thấy cây it có đầy đủ thông tin về đoạn thằng đạt max tại một hoành độ nhất định vì ta chỉ loại những đoạn thẳng mà hoàn toàn không còn giá trị trường hợp  và trường hợp  còn những đoạn thẳng vẫn có thể đạt max tại một vị trí nào đấy luôn được bảo tồn </s> <s> </s> <s> </s> <s> độ phức tạp ologmaxx </s> <s> ologmaxx khi chia khoảng ologmaxx khi update trên một khoảng </s> <s> nếu update đường thẳng thì không mất thời gian chia khoảng độ phức tạp tổng cộng là ologmaxx </s> <s> </s> <s> </s> <s> mở rộng </s> <s> </s> <s> query và update ở trên là những thao tác cơ bản nhất của it đoạn thẳng </s> <s> ngoài ra có thể có thêm nhiều thông tin phụ đính kèm với đoạn thẳng tùy thuộc vào đề bài toán </s> <s> </s> <s> </s> <s> có nhiều cách để biểu diễn đoạn thẳng trong cây it ngoài ax  b </s> <s> ví dụ có thể biểu diễn đoạn thẳng bằng cách lưu tọa độ  điểm đầu mút của đoạn </s> <s> tùy vào đề bài toán mà có cách biểu diễn hợp lí nhất </s> <s> </s> <s> </s> <s> ứng dụng </s> <s> </s> <s> bài toán tìm max min của ax  b thường đi kèm với thuật toán quy hoạch động chẳng hạn như bài toán quy hoạch động có công thức fi  maxaj  xi  bj  c ta cần tìm j lt i sao cho hàm đó đạt max </s> <s> bao lồi cũng là phương pháp thường được sử dụng trong bài toán này </s> <s> hạn chế của bao lồi là aj phải tăng dần hoặc giảm dần nếu không sẽ phải sử dụng cấu trúc khác stack để biểu diễn bao lồi code rất khó khăn </s> <s> hạn chế của it đoạn thẳng là xi phải nguyên và nhỏ để có thể biểu diễn trên it nếu không sẽ phải sử dụng it động hoặc rời rạc hóa </s> <s> </s> <s> </s> <s> ngoài ra có một số bài toán yêu cầu tìm max min trên tập đoạn thẳng </s> <s> đây là những bài toán it đoạn thẳng gần như là cách làm duy nhất </s> <s> </s> <s> </s> <s> một số câu hỏi </s> <s> </s> <s> để hiểu rõ về it đoạn thẳng bạn hãy tự trả lời một số câu hỏi sau </s> <s> </s> <s> </s> <s> trong trường hợp nào thì một nút không có thông tin gì cả </s> <s> trong các trường hợp  và  của phần update  tại sao phải gán lại val cho itnode  </s> <s> giả sử thay vì truy vấn theo điểm ta truy vấn theo khoảng tức là trả lời xem tại tất cả các điểm trong một khoảng nào đó đoạn thẳng nào đạt chiều cao lớn nhất / nhỏ nhất </s> <s> giả sử khoảng này nằm hoàn toàn trong phạm vi quản lí của một nút nào đó liệu ta có thể trả luôn kết quả là đoạn thẳng lưu trong nút đó không vì sao </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> một số bài tập quy hoạch động bao lồi truyền thống </s> <s> </s> <s> </s> <s> voj  vmpizza </s> <s> cf   div   c </s> <s> spoj  acquire </s> <s> spoj  apioa </s> <s> </s> <s> </s> <s> để làm những bài tập này đầu tiên ta sẽ giải bằng cách quy hoạch động với độ phức tạp on </s> <s> công thức quy hoạnh động sẽ có dạng là fi  max/minaj  xi  bj  c với mọi j từ  đến i   </s> <s> để giảm độ phức tạp xuống on logn ta sẽ sử dụng bao lồi hoặc it đoạn thẳng </s> <s> lưu ý là với cách bao lồi stack bao lồi phải đảm bảo aj tăng dần hoặc giảm dần nếu không phải lọc ra sao cho tính chất này thỏa mãn </s> <s> lưu ý rằng bao lồi chỉ có thể làm được khi hệ số góc tăng dần hoặc giảm dần </s> <s> </s> <s> </s> <s> usaco  fencing the herd </s> <s> </s> <s> bài này yêu cầu tìm ax  by max và min khi cho điểm x y bất kì hay là ax/y  b max và min </s> <s> </s> <s> </s> <s> đây chính là dạng chuẩn của bài toán bao lồi và it đoạn thẳng </s> <s> tuy nhiên làm bao lồi trong trường hợp này cực kì khó khăn vì hệ số góc a không đảm bảo tăng dần hoặc giảm dần </s> <s> để có thể làm bao lồi với bài này ta phải sử dụng cấu trúc dữ liệu lưu bao lồi sao cho hệ số góc a vẫn tăng hoặc giảm cách đơn giản nhất là trong quá trình thêm a b ta sử dụng một buffer có sức chứa là sqrtq khi nào buffer đầy thì gộp vào bao lồi </s> <s> lúc query thì tìm max min trên cả bao lồi và buffer </s> <s> solution bao lồi chi tiết xem ở đây </s> <s> </s> <s> </s> <s> còn với it đoạn thẳng ta cũng gặp khó khăn vì query không phải là số nguyên và x/y cũng rất lớn </s> <s> tuy nhiên ta có thể xử lí offline đơn giản bằng cách đọc hết tất cả các query lưu lại các điểm x/y rời rạc hóa lại và xây dựng cây it đoạn thẳng trên tập điểm đã rời rạc hóa đấy </s> <s> trong bài này cách it đoạn thẳng đơn giản hơn nhiều so với cách bao lồi </s> <s> </s> <s> </s> <s> voj  vomario </s> <s> </s> <s> bài độc quyền của it đoạn thẳng </s> <s> trong bài này ta cũng tìm công thức quy hoạch động on fi  maxaj  xi  bj  c </s> <s> </s> <s> </s> <s> tuy nhiên đáng lưu ý là mỗi cặp aj bj chỉ được tính trong một khoảng xi nào đó còn xi nằm ngoài khoảng đó thì cặp aj bj này không được phép chọn để lấy max </s> <s> đây chính là tính chất đoạn thẳng thay vì đường thẳng </s> <s> bài này không thể sử dụng bao lồi để giải được </s> <s> </s> <s> </s> <s> bài khác </s> <s> </s> <s> </s> <s> voj  jewelnb </s> <s> spoj  ptitb </s> <s> </s> <s> </s> <s> </s> <s> tôi đã học tin học như thế nào phần  vòng lặp </s> <s> http//vnoi </s> <s> info/wiki/algo/basic/hoctinthenao </s> <s> </s> <s> </s> <s> </s> <s> tác giả nguyễn xuân khánh </s> <s> </s> <s> </s> <s> biển học là vô bờ </s> <s> hai chữ “vô bờ” bản thân nó vốn ám chỉ rằng không có đích đến rồi </s> <s> bạn rong ruổi trên một con tàu theo năm tháng trên đại dượng tri thức </s> <s> vậy thì ý nghĩa của một cuộc sống như vậy nằm ở đâu là vẻ đẹp của những hòn đảo bạn ghé thăm những trải nghiệm về phong ba bão táp của đại dương những cuộc gặp gỡ duyên phận với những con tàu khác những cuộc đua và những khi tản mạn </s> <s> </s> <s> </s> <s> </s> <s> năm  tôi nộp đơn thi vào trường phổ thông năng khiếuđại học quốc gia thành phố hồ chí minh </s> <s> tôi không hề biết gì về trường này trước đó chỉ biết rằng học sinh trường này ắt hẳn phải là siêu nhân sau khi tôi xem qua đề tuyển sinh môn toán </s> <s> tôi lúc ấy cũng đang học chuyên môn toán </s> <s> tôi không biết gì về lập trình dù đã được học được hơn tháng về pascal người dạy tôi khi ấy chỉ chép lên bảng code từ sách ra bảo tôi gõ lại và không giảng gì thêm </s> <s> tôi nộp đơn vào lớp chuyên toán của ptnk </s> <s> kết qủa là tôi thiếu  </s> <s>  điểm để đậu vào lớp chuyên toán </s> <s> may mắn thay lớp chuyên tin của trường vẫn lấy một nửa chỉ tiêu từ số học sinh có nguyện vọng vào lớp toán </s> <s> tôi đủ điểm để vào chuyên tin nhưng tôi cảm thấy rất lo xa nhà học ở một trường qúa sức chuyên một môn học bí ẩn </s> <s> tôi nói “con không học chuyên tin đâu” </s> <s> nhưng rồi tôi cũng đi </s> <s> mẹ tôi khóc nhiều </s> <s> ba tôi chạy khắp nơi để lo chỗ ở xe cộ chỗ ăn uống cho tôi ở một thành phố lớn nhưng lạ </s> <s> </s> <s> </s> <s> ngày đầu tiên tôi bước vào lớp tôi bị sốc </s> <s> bạn tôi đố nhau về toán học và tin học </s> <s> đi đâu tôi cũng nghe cái từ “lệ quy” </s> <s> bài nào cũng giải được bằng “lệ quy” </s> <s> tôi thấy cái từ này sao nó hay nó đẹp thế </s> <s> mãi sau này tôi mới biết là tôi nghe nhầm từ “đệ quy” </s> <s> </s> <s> </s> <s> trường chúng tôi năm ấy nhập học sớm lớp tôi được học thêm một vài tuần về toán rời rạc trước khi vào chương trình của năm học </s> <s> vài tuần đầu chúng tôi được học cơ bản về ngôn ngữ pascal dùng vòng lặp for để vẽ sao </s> <s> rồi tiếp theo là vẽ những hình phức tạp hơn buộc tôi phải học “đệ quy” và “vòng lặp” mới giải được </s> <s> vòng lặp và đệ quy hai khái niệm rất khó nuốt cho một học sinh chuyên toán như tôi </s> <s> dẫu rằng trong toán học vẫn có những công thức truy hồi nhưng tôi thường nghĩ về chúng như một công thức toán hoặc một hàm số tức là ta cứ thế số vào trải qua một số công đoạn tính nhất định để ra kết quả </s> <s> vòng lặp lại khác ta làm đi làm lại cùng một thứ nhưng kết quả của ta biến đổi dần dần rồi đi đến giá trị cuối cùng khi vòng lặp kết thúc </s> <s> trong cách hiểu về toán học của tôi tôi quan tâm đến bên trong hàm của tôi bao gồm những phép tính gì cộng trừ nhân chia ra sao nhưng trong tư duy tin học mới tôi có thể xem hàm của tôi như những chiếc hộp đen </s> <s> tôi quan tâm nhiều hơn về thứ nó nhận vào input và thứ nó trả ra output </s> <s> hãy lấy dãy fibonacci làm ví dụ </s> <s> </s> <s>       </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giá trị của một số bằng tổng của hai số liền trước nó trừ hai số đầu </s> <s> ta tạm gọi fn là sô fibonacci thứ n </s> <s> tôi rất muốn tính nhanh giá trị của số này </s> <s> </s> <s> </s> <s> trong toán học phổ thông mà tôi được học tôi sẽ cố gắng tìm ra một công thức tổng quát cho số fibonacci thứ n </s> <s> </s> <s> fn  fracphi n  psi  nphi  psi  fracphi n  psi nsqrt </s> <s> </s> <s> với </s> <s> </s> <s> phi  frac  sqrt  </s> <s> </s> <s> và </s> <s> </s> <s> psi  fracphi </s> <s> </s> <s> mục đích của điều này là để giảm thiểu số phép tính </s> <s> ví dụ tôi muốn tính số thứ  của dãy trên việc thay giá trị n   và công thức tổng quát trên của dãy sẽ nhanh hơn việc áp dụng số công thức truy hồi </s> <s> </s> <s> fn  fn –   fn –  </s> <s> </s> <s> và tính ra  số trước đó </s> <s> </s> <s> khi tôi học toán ở cấp hai nhìn vào công thức tổng quát của số fibinacci tôi chỉ thấy một phép trừ một phép chia vài phép căn bậc hai và lũy thừa </s> <s> tôi trông cậy vào máy tính cầm tay để thực hiện những phép tính đó </s> <s> nhưng tôi không để ý rằng thực hiện phép căn bậc hai khó hơn rất nhiều so với phép trừ </s> <s> “khó” ở đây không những là về thời gian mà còn về độ chính xác </s> <s> giá trị của căn bậc hai của  mà máy tính cầm tay hiển thị ra luôn chứa sai số vì chúng ta đều biết rằng đây là một số vô tỉ trong khi độ dài màn hình máy tính thì hữu hạn </s> <s> trong công thức tổng quát trên còn chứa nhiều phép tính phức tạp như phép lũy thừa một số thập phân chẳng hạn </s> <s> thực tế rất ít người sử dụng công thức ấy vì nó luôn cho sai số </s> <s> hãy dùng số nguyên khi còn có thể </s> <s> </s> <s> ngược lại trong công thức truy hồi tôi chỉ thấy một phép cộng đơn giản </s> <s> tôi gõ ra một hàm số nhận input là hai số nguyên và trả output là tổng của hai số đó </s> <s> tôi lại tiếp tục nâng cấp hàm số đó lên thành một quy trình như sau tôi loại số nhỏ hơn trong input ra khỏi hàm số và thay nó bằng output tôi vừa nhận được </s> <s> tôi có một bộ input mới và từ đó lại tính ra một output mới </s> <s> khi tôi chạy quy trình đó bạn đầu tôi cho vào hai số   </s> <s> tôi lặp lại quy trình nhiều lần bao nhiêu lần đố bạn cho đến khi tôi nhận được số fibonacci thứ n </s> <s> nói cách khác tôi đang sử dụng một vòng lặp </s> <s> </s> <s> f   </s> <s> f   </s> <s> for n   to  </s> <s> fn  fn  fn </s> <s> </s> <s> hãy nhớ lại vì sao tôi lại không dùng công thức này ngay từ đầu vì muốn tính số thứ  tôi phải tính tay ra  số trước đó </s> <s> đấy là khi tôi chưa biết lập trình </s> <s> khi tôi biết lập trình tôi ở trong một tình huống khác hẳn </s> <s> tôi chỉ cần gõ một vòng lặp và gõ một lần duy nhất </s> <s> máy tính sẽ giúp tôi thực hiện phần tính toán </s> <s> bạn có thấy điều khác biệt không lần trước công sức tôi bỏ ra là phải ngồi tính tay  giá trị nhưng bây giờ thì chỉ việc ngồi gõ ra một công thức trừu tượng và để máy tính thực hiện phần tính toán với giá trị cụ thể </s> <s> điều này đảo ngược lựa chọn của tôi như thế nào giờ tôi sẽ thích công thức truy hồi hơn vì nó ngắn hơn để gõ so với công thức tổng quát </s> <s> </s> <s> </s> <s> máy tính làm tốt những việc con người làm không tốt và ngược lại </s> <s> con người có thể làm những việc phức tạp nhưng ở tốc độ thấp còn máy tính lại có thể làm những việc đơn giản nhưng ở tốc độ cao và có thể lặp lại nhiều lần mà không biết chán </s> <s> học thuật toán tức là kết hợp sự sắp đặt khéo léo của con người với tốc độ và sự bền bỉ của máy tính </s> <s> học thuật toán không phải là học ngôn ngữ lập trình không phải là học pascal học c học java </s> <s> học thuật toán tức là nghĩ về quá trình chuyển động sự thay đổi trạng thái của các thành phần trong suốt một quá trình bản chất cũng giống y như học vật lý sinh học hóa học vậy </s> <s> ngôn ngữ lập trình chỉ là phụ trợ </s> <s> tôi viết vòng lặp ở trên không phải theo một ngôn ngữ lập trình nào cả </s> <s> bạn có thể tạo ra một ngôn ngữ lập trình mang tên bạn </s> <s> bạn cũng có thể làm nó chạy được vòng lặp tôi viết ở trên </s> <s> </s> <s> </s> <s> quay lại vấn đề tại sao tôi lại nói vòng lặp là một trong những khái niệm quan trọng nhất </s> <s> có hai lý do </s> <s> thứ nhất là tôi cảm thấy tư duy của tin học của lập trình tinh túy nhất ở những thuật toán mà ta chỉ thấy có một quá trình được lặp đi lặp lại mãi và bất ngờ cuối cùng chúng ta lại được kết quả nhưng mong muốn </s> <s> thuật toán euclid tìm ước chung lớn nhất của hai số thuật toán chia nhị phân tìm giá trị nhỏ nhất của một hàm số lồi là một số ví dụ </s> <s> thực tế thì khá khó tìm được một thuật toán mà không có vòng lặp </s> <s> bạn có thể tưởng tượng sự vận hành của thuật toán như một ván cờ bàn cờ là một thứ cố định và các quân cờ sẽ di chuyển số lượng quân cờ sẽ ít dần đi theo thời gian đến khi đạt được trạng thái kết thúc là chiếu bí </s> <s> lý do thứ hai việc lặp một quá trình như trong vòng lặp mở ra một lối tư duy mới trong việc giải quyết một vấn đề </s> <s> không nhất thiết rằng bạn phải ngay tính ra kết quả của bài toán ngay lập tức </s> <s> bạn thử tính lần thứ nhất đáp số có thể sai nhưng lặp lại dần thì kết quả sẽ đi gần hơn đến đáp án </s> <s> đầu óc bạn sẽ phải làm quen với những thứ trừu tượng có giá trị luôn luôn thay đổi biến số và bạn phải nhẩm lấy sự vận động của chúng </s> <s> cũng cùng là một dòng lệnh đó nhưng vỡi những giá trị khác nhau sẽ tạo ra những kết quả khác nhau </s> <s> </s> <s> </s> <s> lúc mới học tin tôi thấy hứng thú với lối tư duy mới này </s> <s> tôi thấy nó giúp tôi tiếp cận gần hơn với những gì đang xảy ra trong cuộc sống </s> <s> nếu như lúc trước tôi chỉ biết bấm máy tính thì bây giờ tôi đã biết quan tâm xem nó thực hiện những phép tính thế nào </s> <s> hiểu thêm về thế giới xung quanh làm tôi thấy hạnh phúc </s> <s> mọi môn học khác đều có cái hay của nó và đều có thể dẫn tôi đến cái cảm giác đó nhưng tôi đến với tin học là một cái duyên </s> <s> vì thế khi bảo tôi nói ra lý do cần phải học tin học tôi không nghĩ ra lý do nào </s> <s> một ngày nọ tôi ăn được một món ngon thế là tôi là về quyết định học cách nấu món đó </s> <s> chỉ vậy thôi </s> <s> </s> <s> </s> <s> đọc tiếp phần  </s> <s> </s> <s> </s> <s> fun with bits </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/funwithbits </s> <s> </s> <s> </s> <s> </s> <s> bài viết bởi bmerry </s> <s> </s> <s> </s> <s> nguồn topcoder </s> <s> </s> <s> table of contents giới thiệu cơ bản tách từng bit đếm số bit tất cả các tập con cài đặt chỉ cần một bit sai cũng  điểm một số mẹo hay và cute bài tập mẫu </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> hầu hết các kĩ thuật tối ưu dùng trong các kì thi topcoder đều là những kĩ thuật cao cấp có nghĩa là các kĩ thuật này tối ưu trực tiếp thuật toán hơn là tối ưu cách cài đặt </s> <s> tuy nhiên có một kĩ thuật tối ưu cơ bản nhưng sử dụng rất hiệu quả là thao tác bit bit manipulation hay sử dụng những bit thuộc biểu diễn của một số nguyên để biểu diễn một tập hợp </s> <s> nó không chỉ làm tăng tốc độ chạy giảm dung lượng bộ nhớ mà còn làm code chúng ta trở nên đơn giản hơn </s> <s> </s> <s> </s> <s> mình sẽ bắt đầu bằng việc nhắc lại một số kiến thức cơ bản về bit trước khi nghiên cứu những kĩ thuật sâu hơn </s> <s> </s> <s> </s> <s> cơ bản </s> <s> </s> <s> những thứ quan trọng nhất trong thao tác bit là những toán tử trên bit bitwise operator amp and  or ~ not và  xor </s> <s> chắc hẳn các bạn đã quá quen với ba toán tử đầu tiên trong các phép toán logic  ampamp    và   </s> <s> dưới đây là bảng chân trị truth tables </s> <s> </s> <s> </s> <s> </s> <s> a </s> <s> b </s> <s> a </s> <s> a ampamp b </s> <s> a  b </s> <s> a  b </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> toán tử bit trên số nguyên cũng thực hiên giống vậy chỉ khác một thứ là thay vì chuyển các tham số về true hoặc false thì các toán tử bit được thực hiện trên các bit của các tham số </s> <s> do đó nếu a là  và b là   thì </s> <s> a amp b   </s> <s> a  b   </s> <s> a  b   </s> <s> ~a   số chữ số  phụ thuộc vào kiểu dữ liệu của a </s> <s> </s> <s> hai toán tử mà chúng ta cần phải biết nữa đó là toán tử dịch bit a ltlt b và a gtgt b </s> <s> toán tử đầu tiên là dịch tất cả các bit của a sang trái b vị trí toán tử thứ hai cũng giống vậy nhưng dịch sang phải </s> <s> với những giá trị không âm cũng là những số duy nhất mà ta sẽ xét đến những bit mới xuất hiện do dịch trái sẽ bằng  </s> <s> dịch trái leftshifting b bit đồng nghĩa với việc nhân với b và dịch phải rightshifting đồng nghĩa với chia nguyên cho b </s> <s> dịch bit được sử dụng nhiều nhất để truy cập vào một bit bất kì ví dụ  ltlt x là một số nhị phân với bit thứ x bằng  và các bit khác bằng  bit luôn luôn được đếm từ bên phải leastsignificant đếm bắt đầu từ  </s> <s> </s> <s> </s> <s> thông thường chúng ta sẽ sử dụng một số nguyên để biểu diễn một tập hợp với miền giá trị lên đến  giá trị hoặc  nếu sử dụng số nguyên  bit với bit  cho biết phần tử đó có trong tập hợp và bit  thì không có </s> <s> sau đó thì các phép toán thì không có gì phức tạp trong đó allbits trả về số bit  tương ứng với số phần tử có trong tập hợp </s> <s> </s> <s> phép toán hợp set union </s> <s> a  b </s> <s> </s> <s> phép toán giao set intersection </s> <s> a amp b </s> <s> </s> <s> phép toán hiệu set subtraction </s> <s> a amp ~b </s> <s> </s> <s> phép toán phủ định set negation </s> <s> allbit  a </s> <s> </s> <s> gán bit bằng  set bit </s> <s> a   ltlt bit </s> <s> </s> <s> gán bit bằng  clear bit </s> <s> a amp ~ ltlt bit </s> <s> </s> <s> truy cập giá trị test bit </s> <s> a amp  ltlt bit   </s> <s> </s> <s> tách từng bit </s> <s> </s> <s> trong phần này chúng ta sẽ bàn đến việc tìm vị trí của bit  cao nhất bit  nằm xa nhất về bên trái và thấp nhất bit  nằm xa nhất về bên phải trong một số </s> <s> đây là những phép toán cơ bản để tách một tập hợp ra thành những phần tử </s> <s> </s> <s> </s> <s> tìm bit  thấp nhất khá là đơn giản chỉ cần kết hợp đúng đắn giữa toán tử bit và phép toán số học </s> <s> giả sử chúng ta muốn tìm bit  thấp nhất của số x x khác  </s> <s> nếu chúng ta trừ  từ x thì bit này được xoá nhưng tất cả các bit một khác vẫn còn </s> <s> do đó x amp ~x   chỉ chứa duy nhất bit  thấp nhất của x </s> <s> tuy nhiên cách này chỉ cho chúng ta biết giá trị của bit đó không phải là vị trí </s> <s> </s> <s> </s> <s> nếu chúng ta muốn biết vị trí của bit  cao nhất và thấp nhất cách tiếp cận đơn giản nhất đó là duyệt qua các bit từ trái qua hay từ phải qua cho tới khi tìm được bit  đầu tiên </s> <s> lúc đầu ta có thể cảm thấy cách làm này hơi chậm vì không tận dụng được lợi thế gì về bit </s> <s> tuy nhiên nếu xác suất n tập con của miền giá trị n phần tử đều bằng nhau thì trung bình vòng lặp chỉ cần  lần chạy thật ra đây là phương pháp nhanh nhất </s> <s> </s> <s> </s> <s> cpu  có hỗ trợ duyệt bit bit scanning bsf bit scan forward và bsr bit scan reverse </s> <s> gcc cung cấp những hỗ trợ này qua những hàm xây dựng sẵn builtin functions builtinctz đếm số chữ số  đứng cuối và builtinclz đếm số chữ số  đứng đầu </s> <s> đây là những cách tiện lợi nhất để tìm vị trí của bit dành cho lập trình viên c ở topcoder </s> <s> lưu ý giá trị trả về là undefined nếu tham số đầu vào bằng  </s> <s> </s> <s> </s> <s> cuối cùng còn một phương pháp khác để thay thế trong những testcase mà dùng vòng lặp tốn nhiều thời gian </s> <s> sử dụng mỗi byte của số nguyên  byte hoặc số nguyên  byte để tính trước bảng  phần tử lưu trữ vị trí của bit  cao nhất thấp nhất trong byte đó </s> <s> bit  cao nhất thấp nhất của số nguyên là giá trị lớn nhất giá trị nhỏ nhất của bảng này </s> <s> phương pháp này được đề cập đến để làm đa dạng thêm các phương pháp tốc độ cũng chưa được đánh giá rõ ràng qua các kì thi topcoder </s> <s> </s> <s> </s> <s> đếm số bit </s> <s> </s> <s> chúng ta có thể dễ dàng kiểm tra một số có phải là luỹ thừa của  bằng cách xoá bit  thấp nhất và kiểm tra xem nếu kết quả có bằng  chưa </s> <s> tuy nhiên trong một số trường hợp chúng ta cần phải biết có bao nhiêu bit đã được set bit đã được set là bit  bit chưa được set là bit bằng  chúng ta cần phải thực hiện nhiều việc phức tạp hơn tí </s> <s> </s> <s> </s> <s> gcc có một hàm gọi là builtinpopcount thực hiện đúng những thứ ta cần </s> <s> tuy nhiên không giống như hàm builtinctz  nó không được chuyển thành những chỉ thị trên phần cứng ít nhất là trên x </s> <s> thay vào đó nó sẽ sử dụng phương pháp lưu bảng giống như trên đã trình bày để tìm kiếm bit </s> <s> phương pháp này khá là hiệu quả và cũng cực kì tiện lợi </s> <s> </s> <s> </s> <s> những người dùng các ngôn ngữ khác không thể dùng cách này mặc dù họ có thể cài đặt lại nó </s> <s> nếu một số được dự đoán rằng có rất ít bit  một phương pháp thay thế là chỉ cần lặp lại quá trình tìm bit  thấp nhất và xoá nó </s> <s> </s> <s> </s> <s> tất cả các tập con </s> <s> </s> <s> một ưu điểm lớn của thao tác bit là việc duyệt qua tất cả các tập con của một tập hợp n phần tử rất đơn giản mỗi số nguyên đại diện cho một tập con </s> <s> hơn thế nữa nếu a là tập con của b thì số nguyên đại diện cho a sẽ nhỏ hơn số nguyên đại diện cho b rất tiện lợi cho việc kết hợp với quy hoạch động </s> <s> </s> <s> </s> <s> việc duyệt qua tất cả các tập con của một tập con khác cũng rất dễ dàng được biểu diễn bằng một dãy bit nếu bạn không quan tâm đến thứ tự duyệt ngược lại hoặc có thể lưu các tập hợp vào một danh sách và đi ngược lại </s> <s> mẹo được sử dụng cũng giống như việc tìm bit  thấp nhất vậy </s> <s> nếu chúng ta trừ đi  từ tập con thì phần tử đại diện bởi bit  đó sẽ được xoá và mỗi phần tử  phía bên phải nó đều trở thành  </s> <s> tuy nhiên chúng ta chỉ muốn các phần tử được chọn là những phần tử có trong tập cha </s> <s> nên bước lặp chỉ cần thay thế ngắn gọn bằng i  i   amp superset </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> // xét tất cả các tập con khác rỗng của s </s> <s> for  int i  s  i gt   i   i    amp s   </s> <s>  </s> <s> </s> <s> chỉ cần một bit sai cũng  điểm </s> <s> </s> <s> có một số lỗi mà mọi người thường mắc phải khi sử dụng các thao tác bit </s> <s> chú ý cẩn thận với code của bạn </s> <s> </s> <s> </s> <s> </s> <s> khi thực hiện phép toán dịch a ltlt b kiến trúc x chỉ sử dụng the  bit thấp nhất của b  cho số nguyên  bit </s> <s> điều này có nghĩa là dịch trái hoặc phải  bit đồng nghĩa là không làm gì cả ngoài việc xoá tất cả các bit </s> <s> việc này cũng được nhắc đến trong java và c c đề cập rằng việc dịch ít nhất bằng giá trị của số sẽ trả về kết quả là undefined </s> <s> lịch sử máy  sử dụng full shift register thường thao tác này còn được dùng để kiểm tra processor mới </s> <s> </s> <s> toán tử amp và  có độ ưu tiên thực hiện thấp hơn phép so sánh </s> <s> điều đó có nghĩa là x amp    bằng với x amp     đây là những lỗi bạn không hề muốn mắc phải </s> <s> </s> <s> nếu bạn muốn viết những dòng code c/c dùng ở nhiều nơi hãy đảm bảo rằng bạn sử dụng kiểu unsigned cụ thể trong trường hợp bạn có ý định sử dụng bit cao nhất topmost </s> <s> c nói rằng dịch bit trên giá trị âm sẽ trả về undefined </s> <s> java chỉ có kiểu dữ liệu có dấu gtgt sẽ tự động thay đổi dấu của giá trị nếu cần thiết nhưng đây là thứ bạn thường không muốn xảy ra nhưng toán tử đặc biệt này của java là gtgtgt sẽ thêm các số  vào phía trước sau khi dịch </s> <s> </s> <s> </s> <s> </s> <s> một số mẹo hay và cute </s> <s> </s> <s> có một số mẹo hay có thể sử dụng với thao tác bit </s> <s> </s> <s> những mẹo này khá hay để đem đi chém gió với bạn bè nhưng thông thường hiệu quả cũng không cải thiện lắm ở thực tế </s> <s> </s> <s> </s> <s> đảo thứ tự các bit trong một số nguyên </s> <s> x  x amp xaaaaaaaa gtgt   x amp x ltlt  </s> <s> x  x amp xcccccccc gtgt   x amp x ltlt  </s> <s> x  x amp xffff gtgt   x amp xffff ltlt  </s> <s> x  x amp xffff gtgt   x amp xffff ltlt  </s> <s> x  x amp xffff gtgt   x amp xffff ltlt  </s> <s> </s> <s> bài tập là bạn hãy dùng kĩ thuật phía trên để đếm số bit với kiểu dữ liệu word </s> <s> </s> <s> </s> <s> duyệt qua tất cả các tập con có k phần tử </s> <s> </s> <s> int s   ltlt k   </s> <s> while s amp  ltlt n </s> <s>  </s> <s> //làm gì đó với s </s> <s> int lo  s amp ~s   //bit  thấp nhất </s> <s> int lz  s  lo amp ~s //bit  thấp nhất trên lo </s> <s> s  lz //thêm lz vào tập hợp </s> <s> s amp ~lz   //reset bit phía dưới lz </s> <s> s  lz / lo /    //đặt lại đúng số bit ở cuối </s> <s>  </s> <s> </s> <s> trong c dòng cuối có thể viết là s  lz gtgt ffslo   để tránh phép chia </s> <s> </s> <s> </s> <s> xác định x  y  y  trong đó x bằng  hoặc  </s> <s> x  y  x </s> <s> </s> <s> câu lệnh trên chạy được trên kiến trúc số bù  tồn tại ở hầu hết các máy tính bạn thấy ngày nay trong đó số âm được biểu diễn bằng cách đảo tất cả các bit và cộng thêm cho  </s> <s> chú ý rằng trên i và trước đó câu lệnh này chạy khá hiệu quả không cần rẽ nhánh  nhờ vào lệnh cmove di chuyển có điều kiện </s> <s> </s> <s> </s> <s> bài tập mẫu </s> <s> </s> <s> tccc  round b medium </s> <s> </s> <s> với mỗi thành phố giữ một bitset của những thành phố kề nó </s> <s> một khi một phần của nhà máy đã được chọn đệ quy and những bitset đó lại sẽ cho ra một bitset mới mô tả những vị trí có thể của những phần của nhà máy </s> <s> nếu bitset này có k bit thì có ckm cách để chọn các phần của nhà máy </s> <s> </s> <s> </s> <s> tco  round  easy </s> <s> </s> <s> số lượng nút nhỏ cho thấy rằng bài này có thể giải quyết bằng việc xét tất cả các tập con </s> <s> với mỗi tập con ta xét  trường hợp nút nhỏ nhất không có trao đổi gì cả trong trường hợp ta xét tập con mà không có nó hoặc nó trao đổi với một số nút ta sẽ xét các tập hợp không có nó và các nút mà nó trao đổi </s> <s> code bài giải rất ngắn gọn </s> <s> </s> <s> static int dp ltlt  </s> <s> </s> <s> int separateconnectionshowmanyvector ltstringgt mat </s> <s>  </s> <s> int n  mat </s> <s> size </s> <s> int n   ltlt n </s> <s> dp   </s> <s> for int i   i lt n i </s> <s>  </s> <s> int bot  i amp ~i   </s> <s> int use  builtinctzbot </s> <s> dpi  dpi  bot </s> <s> for int j  use   j lt n j </s> <s> if i amp  ltlt j ampamp matusej  y </s> <s> dpi  maxdpi dpi  bot   ltlt j   </s> <s>  </s> <s> return dpn   </s> <s>  </s> <s> </s> <s> srm  division medium </s> <s> </s> <s> cái bảng chứa  hình vuông và những con cờ không thể phân biệt được nên những vị trí có thể được mã hoá vào số nguyên  bit </s> <s> bước đầu tiên là liệt kê tất cả các bước đi hợp lệ </s> <s> bất kì bước đi hợp lệ nào cũng đều được mã hoá sử dụng  trường  trạng thái trước  trạng thái sau và một mask dùng để định nghĩa phần nào của trạng thái trước là quan trọng </s> <s> một bước đi có thể được tạo ra từ trạng thái hiện tại nếu current amp mask  before </s> <s> nếu nó được tạo ra thì trạng thái mới là current amp ~mask  after </s> <s> </s> <s> </s> <s> srm  division  hard </s> <s> </s> <s> điều kiện cho ta biết rằng chỉ có nhiều nhất  cột nếu có nhiều hơn ta có thể đổi giữa dòng và cột nên chúng ta có thể xét từng cách để một dòng </s> <s> một khi chúng ta có thông tin này ta có thể giải quyết vấn đề còn lại của bài toán xem tutorial để biết thêm chi tiết </s> <s> do đó ta cần một danh sách tất cả số nguyên n bit mà không có  bit  kề nhau và ta cũng cần biết có bao nhiêu bit  trong mỗi dòng như vậy </s> <s> đây là code của mình </s> <s> for int i   i lt  ltlt n i </s> <s>  </s> <s> if i amp i ltlt  continue </s> <s> pg </s> <s> pushbacki </s> <s> pgb </s> <s> pushbackbuiltinpopcounti </s> <s>  </s> <s> </s> <s> </s> <s> khử nhân ma trận </s> <s> http//vnoi </s> <s> info/wiki/algo/trick/countingwithoutmatrixmultiplication </s> <s> </s> <s> </s> <s> </s> <s> tác giả  nguyễn tiến trung kiên </s> <s> </s> <s> đôi lời về tác giả  </s> <s> </s> <s> nguyễn tiến trung kiên là cựu học sinh chuyên tổng hợp với  hcđ ioi năm  và  hcb ioi năm  </s> <s> kiên còn nổi tiếng với blog chứa code nhiều thuật toán và series free contest </s> <s> </s> <s> </s> <s> table of contents giới thiệu bắt đầu bằng ví dụ đơn giản nhất tổng quát fn  fn  fn </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> nhân ma trận thật sự hữu dụng </s> <s> có nhiều bài toán khi n nhỏ ta dùng dp  dynamic programming  quy hoạch động  để giải </s> <s> nhưng khi n lớn khoảng  ta phải dùng nhân ma trận để giảm độ phức tạp </s> <s> trong quá trình code nhân ma trận việc sinh ra ma trận gốc không phải lúc nào cũng đơn giản </s> <s> tôi đã tìm ra một phương pháp tốt để giải những bài toán này mà không cần nhân ma trận </s> <s> </s> <s> </s> <s> khi dùng phương pháp này ta không cần phải sinh ma trận gốc và không cần cài phép toán nhân hai ma trận a  b và luỹ thừa ma trận ak </s> <s> tuy nhiên phương pháp này chỉ dùng được trong các bài toán đếm nghĩa là nó không thể hoàn toàn thay thế nhân ma trận </s> <s> </s> <s> </s> <s> bắt đầu bằng ví dụ đơn giản nhất </s> <s> </s> <s> để ví dụ tôi sẽ dùng bài toán sau </s> <s> </s> <s> đếm xem có bao nhiêu dãy ngoặc đúng độ dài n mà độ sâu không quá l </s> <s> n le  l le  </s> <s> </s> <s> </s> <s> ví dụ khi n   và l   thì  là dãy ngoặc đúng duy nhất thoả mãn còn     và  thì không thoả mãn </s> <s> </s> <s> </s> <s> bài toán này có thể giải bằng phương pháp quy hoạch động như sau </s> <s> </s> <s> </s> <s> nhận xét nếu ta đi qua lần lượt từng ký tự của dãy ngoặc và duy trì một biến sum  khi gặp  ta tăng sum lên  đơn vị </s> <s> khi gặp  ta giảm sum đi  đơn vị </s> <s>  dãy ngoặc là dãy ngoặc đúng nếu thỏa mãn  điều kiện sau </s> <s> </s> <s> </s> <s> không có thời điểm nào sum nhỏ hơn  </s> <s> đến cuối cùng sum bằng  </s> <s> </s> <s> </s> <s> </s> <s> đồng thời nếu làm như trên độ sâu của dãy ngoặc chính là giá trị tối đã của sum trong quá trình trên </s> <s> </s> <s> </s> <s> </s> <s> từ nhận xét trên ta tìm ra công thức fn h  fn   h    fn   h   trong đó fn h là số dãy mà phần còn lại cần xây dựng có độ dài n và tổng hiện tại sum là h </s> <s> mục tiêu của chúng ta là tính fn  </s> <s> tất nhiên độ phức tạp của hàm f là quá lớn </s> <s> </s> <s> </s> <s> bây giờ gọi fn h h là số dãy độ dài n bắt đầu từ tổng h và kết thúc tại tổng h </s> <s> </s> <s> </s> <s> xét các trường hợp </s> <s> </s> <s> </s> <s> nếu n   trả về  nếu hh trả về  nếu ngược lại </s> <s> </s> <s> nếu n    k f  k h h  sumfk h i  fk i h với mọi i trong khoảng  l </s> <s> </s> <s> nếu n    k   f  k h h  f  k h h  f  k h h </s> <s> </s> <s> </s> <s> </s> <s> ngoài ra chú ý đến trường hợp sau nếu hlt hoặc hgtl thì trả về  </s> <s> </s> <s> </s> <s> mục tiêu của ta là tính fn   </s> <s> </s> <s> </s> <s> độ phức tạp của phương pháp này là mathcalol log n nhanh bằng với nhân ma trận </s> <s> chú ý rằng ta chỉ có mathcalol log n trạng thái không phải là mathcalol n </s> <s> chẳng hạn khi n các giá trị của n sẽ nằm trong tập sau           </s> <s> thế nên n chỉ nhận khoảng log n giá trị trong tập hợp đó </s> <s> ta có thể dùng độ sâu của hàm f để đại diện cho n </s> <s> </s> <s> </s> <s> function fn h h depth </s> <s> if h lt  or h gt l </s> <s> return  </s> <s> if n   </s> <s> return hh     </s> <s> </s> <s> if savedhhdepth </s> <s> return valuehhdepth </s> <s> </s> <s> if n is even </s> <s> result   </s> <s> for i in  </s> <s> </s> <s> l </s> <s> result  fn/ h i depth  fn/ i h depth </s> <s> else </s> <s> result  fn h h depth  fn h h depth </s> <s> </s> <s> savedhhdepth  true </s> <s> valuehhdepth  result </s> <s> </s> <s> input n l </s> <s> output fn    </s> <s> </s> <s> tổng quát </s> <s> </s> <s> với trường hợp fn abc </s> <s> </s> <s> </s> <s>  được tính từ fn abc </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> có t loại hoa t ge  </s> <s>  trong t loại hoa này là g gerbera o orchid a azalea và h hydrangea </s> <s> ta dùng các loại hoa này để tạo một dãy n chậu hoa n le  </s> <s> có vài điều kiện được đặt ra như sau </s> <s> </s> <s> </s> <s> một chậu h phải được đặt giữa một a và một o </s> <s> </s> <s> giữa hai chậu g bất kì phải có ít nhất p chậu hoa loại khác p le  </s> <s> </s> <s> </s> <s> </s> <s> giả sử có  loại hoa t a  h  o  g  và b begonias </s> <s> </s> <s> </s> <s> với n có  dãy chậu đúng  trong số đó là aoaaoo  ahohag  gbbbgo  gbbbog  bbbbbb </s> <s> </s> <s> </s> <s> những dãy sau đây không hợp lệ ohoaha đoạn aha không hợp lệ vì bên cạnh h phải có một o và một a  gogbao giữa hai g phải có ít nhất  hoa khác ahoaha chậu h cuối cùng không kề với một a và một o  </s> <s> </s> <s> </s> <s> không khó lắm để tìm ra công thức quy hoạch động fn x just trả về số dãy chậu đúng </s> <s> trạng thái n x just được mô tả như sau </s> <s> </s> <s> </s> <s> n là độ dài còn lại phải xây dựng của dãy đang xây dựng </s> <s> </s> <s> x là số chậu hoa ta vừa đặt mà khác g  nói cách khác tất cả các chậu hoa trong khoảng n đến nx không phải là g </s> <s> </s> <s> just đại diện cho chậu hoa vừa đặt tức là chậu n </s> <s> just nghĩa là a hoặc o  just nghĩa là h  just nghĩa là các loại hoa còn lại bao gồm g và t loại hoa khác </s> <s> </s> <s> </s> <s> </s> <s> hàm quy hoạch động trên có thể chạy với n le  </s> <s> </s> <s> </s> <s> bây giờ tôi sẽ nói cách giải đúng </s> <s> gọi fn p just p just nghĩa là ta xuất phát từ trạng thái n p just có bao nhiêu cách đi đến trạng thái  p just </s> <s> </s> <s> </s> <s> long f  int n  int x  int just   </s> <s> if  x gt p  x  p  </s> <s> if  just     </s> <s> if  n    return   </s> <s> return f  n    x      </s> <s>  else  </s> <s> if  n    return   </s> <s> if  f  x  just  </s> <s> count  n  return f  x  just  n  </s> <s> long sum  f  n    x         </s> <s> if  just    sum  f  n    x      </s> <s> if  x gt p  sum  f  n        </s> <s> sum  f  n    x        t    </s> <s> return f  x  just  n   sum  m  </s> <s>  </s> <s>  </s> <s> </s> <s> cout ltlt f  n   p    ltlt endl  </s> <s> </s> <s> ta có các trường hợp </s> <s> </s> <s> </s> <s> nếu n hoặc n  k ta viết như hàm f cũ </s> <s> nếu n ne  nó sẽ gọi đến một trạng thái khác mà lúc này n chẵn </s> <s> </s> <s> ngược lại n  k f k p just p just  sumfk p just i j  fk i j p just với tất cả bộ i j hợp lệ tức là i nằm trong khoảng  p j nằm trong khoảng   </s> <s> </s> <s> </s> <s> </s> <s> chú ý tại trường hợp n việc n không có nghĩa đó là kết thúc của một dãy </s> <s> vì ta chia dãy thành các phần nhỏ hơn n chỉ có nghĩa là kết thúc của một phần nhỏ </s> <s> vì thế ta sẽ thêm một biến stop thuộc kiểu boolean </s> <s> khi stoptrue fnpjustpjust  fnpjust ngược lại tức là stopfalse fnpjustpjuststop  fnpjustpjust </s> <s> </s> <s> </s> <s> map lt int  int gt g            </s> <s> define c pjustpjuststop </s> <s> </s> <s> long g  int n  int p  int just  int p  int just  bool stop   </s> <s> if  p gt p  p  p  </s> <s> if  n      n     </s> <s> if  just     </s> <s> if  n    return stop    p  p ampamp just  just  </s> <s> return g  n    p      p  just  stop  </s> <s>  else  </s> <s> if  n    return stop    p  p ampamp just  just  </s> <s> if  g  c  </s> <s> count  n  return g  c  n  </s> <s> long sum  g  n    p      p  just  stop     </s> <s> if  just    sum  g  n    p      p  just  stop  </s> <s> if  p gt p  sum  g  n        p  just  stop  </s> <s> sum  g  n    p      p  just  stop    t    </s> <s> return g  c  n   sum  m  </s> <s>  </s> <s>  else  </s> <s> if  g  c  </s> <s> count  n  return g  c  n  </s> <s> long sum    </s> <s> for  int i    i lt p  i   </s> <s> for  int k    k lt   k    </s> <s> long g  g  n /   p  just  i  k  false  </s> <s> long g  g  n /   i  k  p  just  stop  </s> <s> sum  g  g  </s> <s>  </s> <s> return g  c  n   sum  m  </s> <s>  </s> <s>  </s> <s> </s> <s> cout ltlt g  n   p    rand     rand     true  ltlt endl  </s> <s> </s> <s> chú ý ở code trên p và p là khác nhau </s> <s> p là biến p toàn cục tức là p được nhập từ input </s> <s> còn p là tham số ở trong hàm g </s> <s> rand và rand là hai số mà ta có thể bỏ qua giá trị của chúng khi nào mà stoptrue thì p và just không có ý nghĩa </s> <s> </s> <s> </s> <s> độ phức tạp ở code trên là mathcalop log n </s> <s> thực tế ta có thể không dùng map  bằng cách thêm một tham số là depth đại diện cho độ sâu của hàm quy hoạch động </s> <s> khi đó độ phức tạp mất đi một thừa số log n giảm xuống còn mathcalop log n </s> <s> code trên tôi dùng map cho nó dễ hiểu </s> <s> </s> <s> </s> <s> fn  fn  fn </s> <s> </s> <s> bây giờ chúng ta sẽ tính số fibonacci thứ  trong một modulo nào đó </s> <s> chắc hẳn là bạn đã biết cách dùng nhân ma trận nó khá dễ </s> <s> tuy nhiên bây giờ chúng ta sẽ thử giải bằng cách không dùng nhân ma trận </s> <s> xem bài toán sau </s> <s> </s> <s> bạn đang đứng ở điểm n trên trục ox </s> <s> mỗi bước bạn có thể di chuyển sang trái  hoặc  bước </s> <s> có bao nhiêu cách để bạn đi tới vị trí  </s> <s> </s> <s> không khó để nhận ra fn  fn  fn trong đó f và f </s> <s> thế nên fn là số fibonacci thứ n </s> <s> </s> <s> </s> <s> có hai trường hợp </s> <s> </s> <s> </s> <s> </s> <s> n  k ta có hai lựa chọn </s> <s> </s> <s> </s> <s> lựa chọn thứ nhất là nhảy từ   k đến k rồi nhảy từ k đến  </s> <s> </s> <s> lựa chon thứ hai là nhảy từ   k đến k sau đó di chuyển sang trái  bước tức là từ k đến k rồi nhảy từ k đến  chú ý ta không hề nhảy vào ô thứ k </s> <s> </s> <s> thế nên f  k  fk  fk  fk  fk </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> n  k bây giờ ta chia dãy thành hai đoạn  </s> <s> </s> <s> k và k </s> <s> </s> <s> n đoạn thứ nhất độ dài k đoạn thứ hai dài k ta lại có hai lựa chọn </s> <s> </s> <s> </s> <s> lựa chọn thứ nhất là nhảy từ n đến k rồi nhảy từ k đến  </s> <s> </s> <s> lựa chọn thứ hai là nhảy từ n đến k di chuyển sang trái  bước rồi nhảy từ k đến  </s> <s> thế nên f  k  fk  fk  fk  fk </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> lúc này độ phức tạp là mathcalolog n </s> <s> bởi vì với mỗi độ sâu chỉ có tối đa  giá trị n </s> <s> </s> <s> </s> <s> map lt long  long gt f  </s> <s> f     f       </s> <s> </s> <s> long f  long n   </s> <s> if  f </s> <s> count  n  return f  n  </s> <s> long k  n /   </s> <s> if  n       // nk </s> <s> return f  n    f  k   f  k   f  k     f  k     m  </s> <s>  else  // nk </s> <s> return f  n    f  k   f  k     f  k     f  k   m  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> nhân ma trận </s> <s> http//vnoi </s> <s> info/wiki/algo/trick/matrixmultiplication </s> <s> </s> <s> </s> <s> </s> <s> table of contents mở đầu ví dụ  ví dụ  ví dụ  ví dụ  phép toán kết hợp và độ phức tạp tính toán nhân tổ hợp dãy ma trận giải thuật freivalds kiểm tra tích hai ma trận bài tập áp dụng </s> <s> </s> <s> tác giả  nguyễn rr thành trung nguyễn mạnh quân </s> <s> </s> <s> mở đầu </s> <s> </s> <s> thông thường để đạt được độ phức tạp thuật toán như mong muốn cách làm thường là tìm ra một thuật toán ban đầu làm cơ sở rồi từ đó dùng các kỹ năng để giảm độ phức tạp của thuật toán </s> <s> trong bài viết này tôi xin giới thiệu với bạn đọc một kỹ năng khá thông dụng nhân ma trận </s> <s> </s> <s> </s> <s> trước khi đọc bài viết này nếu bạn chưa có khái niệm gì về ma trận bạn có thể tham khảo định nghĩa về ma trận trong một tài liệu khác </s> <s> </s> <s> </s> <s> trước hết tôi xin nhắc lại tóm tắt khái niệm về phép nhân ma trận </s> <s> </s> <s> </s> <s> cho  ma trận a kích thước m  n và b kích thước n  p </s> <s> chú ý số cột của ma trận a phải bằng số hàng của ma trận b thì mới có thể thực hiện phép nhân </s> <s> </s> <s> kết quả phép nhân ma trận a và b là ma trận c kích thước m  p với mỗi phần tử của ma trận c được tính theo công thức </s> <s> cij  sumaik  bkj </s> <s> </s> <s> </s> <s> để thực hiện phép nhân ma trận trên máy tính ta có thể thực hiện thuật toán với độ phức tạp mathcalom  n  p như sau </s> <s> </s> <s> for i   to m do </s> <s> for j   to p do </s> <s> begin </s> <s> c  i  j    </s> <s> for k   to n do </s> <s> c  i  j  c  i  j  a  i  k   b  k  j  </s> <s> end  </s> <s> </s> <s> đối với phép nhân các ma trận vuông kích thước n  n có thuật toán nhân ma trận strassen với độ phức tạp mathcalonlog theo tư tưởng chia nhỏ ma trận tương tự cách nhân nhanh  số lớn </s> <s> tuy nhiên cài đặt rất phức tạp và trên thực tế với giá trị n thường gặp cách này không chạy nhanh hơn nhân ma trận thông thường mathcalon </s> <s> </s> <s> </s> <s> cần chú ý thêm là phép nhân ma trận không có tính giao hoán do có thể thực hiện nhân  ma trận a kích thước m  n và ma trận b kích thước n  p nhưng không thể thực hiện phép nhân b  a nếu p ne m </s> <s> tuy nhiên nhân ma trận lại có tính kết hợp </s> <s> </s> <s> a  b  c  a  b  c </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> chúng ta hãy cùng xem xét một ví dụ kinh điển nhất trong ứng dụng của phép nhân ma trận </s> <s> </s> <s> </s> <s> bài toán </s> <s> </s> <s> dãy fibonacci được định nghĩa như sau </s> <s> </s> <s> f   </s> <s> f   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> fi  fi  fi i gt  </s> <s> </s> <s> yêu cầu cho n n le  tính fn </s> <s> </s> <s> </s> <s> bạn có thể nộp bài thử ở vnoi  latgach </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> hiển nhiên cách làm thông thường là tính lần lượt các fj </s> <s> tuy nhiên cách làm này hoàn toàn không hiệu quả với n lên đến  và ta cần một cách tiếp cận khác </s> <s> </s> <s> </s> <s> ta xét các lớp số </s> <s> </s> <s> </s> <s> lớp  f f </s> <s> lớp  f f </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> lớp i fi fi </s> <s> </s> <s> </s> <s> ta hình dung mỗi lớp là một ma trận x </s> <s> tiếp đó ta sẽ biến đổi từ lớp i đến lớp i </s> <s> sau mỗi lần biến đổi như vậy ta tính thêm được một giá trị fi </s> <s> để thực hiện phép biến đổi này chú ý là các số ở lớp sau chỉ phụ thuộc vào lớp ngay trước nó theo các phép cộng ta tìm được cách biến đổi bằng nhân ma trận </s> <s> </s> <s> </s> <s> </s> <s> chắc hẳn đọc đến đây bạn đọc sẽ thắc mắc làm thế nào để tìm được ma trận trên để tìm được ma trận này ta làm như sau </s> <s> </s> <s> ta có </s> <s> </s> <s> </s> <s> fi    fi    fi do đó hàng đầu của ma trận là   </s> <s> fi    fi    fi do đó hàng thứ  của ma trận là   </s> <s> </s> <s> </s> <s> bây giờ ta sẽ cần tìm cách tăng tốc việc tính    t    </s> <s> việc tính nhanh    cũng hoàn toàn tương tự việc ta tính at với a là số nguyên </s> <s> sau đây là đoạn code minh hoạ </s> <s> trong đoạn code này để bạn đọc dễ hiểu tôi bỏ qua yếu tố về tính toán số lớn và thực hiện các phép tính với kiểu số bit </s> <s> </s> <s> </s> <s> type </s> <s> matrix  array   </s> <s> </s> <s>    </s> <s> </s> <s>   of longint  </s> <s> const </s> <s> a  matrix          </s> <s> </s> <s> //định nghĩa phép nhân  ma trận </s> <s> operator   a  b  matrix  c  matrix  </s> <s> var </s> <s> i  j  k  longint  </s> <s> begin </s> <s> fillchar  c  sizeof  c    </s> <s> for i   to  do </s> <s> for j   to  do </s> <s> for k   to  do </s> <s> c  i  j  c  i  j  a  i  k  b  k  j  </s> <s> end  </s> <s> </s> <s> //tính an </s> <s> function power  n  longint  matrix  </s> <s> var </s> <s> temp  matrix  </s> <s> begin </s> <s> if n   then exit  a  </s> <s> temp  power  n div   </s> <s> temp  temp  temp  </s> <s> if n mod    then temp  temp  a  </s> <s> exit  temp  </s> <s> end  </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> bây giờ chúng ta sẽ cùng xem xét một ví dụ tổng quát hơn của ví dụ  </s> <s> </s> <s> </s> <s> bài toán  spoj  seq </s> <s> </s> <s> cho số nguyên n n le  và  dãy số độ dài n a a </s> <s> </s> <s> </s> <s>  an b b </s> <s> </s> <s> </s> <s>  bn </s> <s> dãy số c được định nghĩa như sau </s> <s> </s> <s> </s> <s> ci  ai với i le n </s> <s> ci  ci  b  ci  b  </s> <s> </s> <s> </s> <s>  cin  bn </s> <s> </s> <s> </s> <s> yêu cầu tính ck với k le  </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> cũng như trong ví dụ  ta xét các lớp số </s> <s> </s> <s> </s> <s> lớp  c c </s> <s> </s> <s> </s> <s>  cn </s> <s> lớp  c c </s> <s> </s> <s> </s> <s>  cn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> lớp i ci ci </s> <s> </s> <s> </s> <s>  cin </s> <s> </s> <s> </s> <s> ta cũng sẽ áp dụng phép nhân ma trận để biến đổi từ lớp i sang lớp i như sau </s> <s> </s> <s> </s> <s> </s> <s> để xây dựng ma trận vuông như trên ta thực hiện tương tự như trong ví dụ trước phân tích ai đến ain dưới dạng ai </s> <s> </s> <s> </s> <s>  ain </s> <s> </s> <s> </s> <s> ai    ai    ai  </s> <s> </s> <s> </s> <s>    ain nên hàng  là    </s> <s> </s> <s> </s> <s> </s> <s>   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ain    ai    ai  </s> <s> </s> <s> </s> <s>    ain nên hàng n là    </s> <s> </s> <s> </s> <s>   </s> <s> ain  bn  ai  bn  ai  </s> <s> </s> <s> </s> <s>  b  ain nên hàng n là bn bn </s> <s> </s> <s> </s> <s>  b </s> <s> </s> <s> </s> <s> từ đó ta thu được cách làm như trong ví dụ  </s> <s> cài đặt cụ thể xin nhường lại cho bạn đọc </s> <s> </s> <s> </s> <s> chú ý rằng ta hoàn toàn có thể thay thế phép nhân và phép cộng trong định nghĩa phép nhân ma trận chỉ cần đảm bảo giữ nguyên tính chất kết hợp </s> <s> cụ thể hơn thay vì cij  sumaik  bkj ta có thể định nghĩa phép nhân ma trận cij  minaik  bkj </s> <s> từ đó ta có thể thu được một lớp các bài toán khác </s> <s> </s> <s> </s> <s> sau đây là một ví dụ minh hoạ cho nhóm các bài toán này </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho đồ thị có hướng n đỉnh n le  </s> <s> tính ma trận ck kích thước n  n với ck ij là độ dài đường đi ngắn nhất từ i đến j đi qua đúng k cạnh </s> <s> </s> <s> phân tích </s> <s> </s> <s> xét ma trận a là ma trận kề của đồ thị đã cho </s> <s> ta có </s> <s> </s> <s> </s> <s> a  c </s> <s> cij  minaiu  auj với u chạy từ  đến n </s> <s> ckij  minckiu  auj với u chạy từ  đến n </s> <s> </s> <s> </s> <s> như vậy nếu ta thay phép nhân và phép cộng trong việc nhân ma trận thông thường lần lượt bởi phép cộng và phép lấy min ta thu được một phép ”nhân ma trận” mới tạm dùng ký hiệu x  thì </s> <s> </s> <s> c  a </s> <s> c  c x c  a x c </s> <s> c  c x c  a x c </s> <s> c  c x c  a x c </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ck  c x ck  a x ck </s> <s> </s> <s> do đó ck  ak </s> <s> </s> <s> như vậy bài toán được đưa về bài toán tính lũy thừa của một ma trận ta hoàn toàn có thể giải tương tự các ví dụ trước </s> <s> cài đặt phép nhân ma trận mới này hoàn toàn không phức tạp hơn cài đặt phép nhân ma trận thông thường </s> <s> việc cài đặt xin nhường lại cho bạn đọc </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> voj  thbac </s> <s> </s> <s> bài toán </s> <s> </s> <s> người ta mới tìm ra một loại vi khuẩn mới </s> <s> chúng sống thành n bầy n le  đánh số từ  đến n </s> <s> ban đầu mỗi bầy này chỉ có một con vi khuẩn </s> <s> tuy nhiên mỗi giây số lượng vi khuẩn trong các bầy lại có sự thay đổi </s> <s> ví dụ </s> <s> </s> <s> </s> <s> một bầy có thể bị chết đi </s> <s> số lượng vi khuẩn trong một bầy có thể tăng lên </s> <s> một bầy có thể di chuyển vị trí </s> <s> </s> <s> </s> <s> </s> <s> các thay đổi này tuân theo một số quy luật cho trước </s> <s> tại mỗi giây chỉ xảy ra đúng một quy luật </s> <s> các quy luật này được thực hiện nối tiếp nhau và theo chu kỳ </s> <s> có nghĩa là nếu đánh số các quy luật từ  đến m tại giây thứ s thì quy luật được áp dụng sẽ là s space mod space m m le  </s> <s> </s> <s> nhiệm vụ của bạn là tìm xem với một bộ các quy luật cho trước sau t đơn vị thời gian t le  mỗi bầy có bao nhiêu vi khuẩn </s> <s> </s> <s> </s> <s> các loại quy luật có thể có </s> <s> </s> <s> </s> <s> </s> <s> a i   tất cả các vi khuẩn thuộc bầy i chết </s> <s> </s> <s> </s> <s> b i k  số vi khuẩn trong bầy i tăng lên k lần </s> <s> </s> <s> </s> <s> c i j  số vi khuẩn bầy thứ i tăng lên một số lượng bằng với số vi khuẩn bầy j </s> <s> </s> <s> </s> <s> d i j  các vi khuẩn thuộc bầy j di chuyển toàn bộ sang bầy i </s> <s> </s> <s> </s> <s> e i j  các vi khuẩn thuộc bầy i và bầy j đổi vị trí cho nhau </s> <s> </s> <s> </s> <s> f    vị trí các vi khuẩn di chuyển trên vòng tròn </s> <s> </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> cách làm đơn giản nhất là chúng ta mô phỏng lại số lượng vi khuẩn trong mỗi bầy qua từng đơn vị thời gian </s> <s> cách làm này có độ phức tạp mathcalot  n  k với mathcalok là độ phức tạp cho xử lý số lớn </s> <s> cách này không thể chạy được với t lớn </s> <s> </s> <s> </s> <s> ta hình dung số lượng vi khuẩn trong mỗi bầy trong một đơn vị thời gian là một dãy số </s> <s> như vậy mỗi quy luật cho trước thực chất là một phép biến đổi từ một dãy số thành một dãy số mới và ta hoàn toàn có thể thực hiện biến đổi này bằng một phép nhân ma trận </s> <s> </s> <s> </s> <s> cụ thể hơn ta coi số lượng vi khuẩn trong n bầy tại một thời điểm xác định là một ma trận   n và mỗi phép biến đổi là một ma trận n  n </s> <s> khi áp dụng mỗi phép biến đổi ta nhân hai ma trận nói trên với nhau </s> <s> </s> <s> </s> <s> bây giờ xét trường hợp n   tôi xin lần lượt mô tả các ma trận tương ứng với các phép biến đổi </s> <s> </s> <s> </s> <s> biến đổi a   </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> biến đổi b   </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> biến đổi c   </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> biến đổi d   </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> biến đổi e   </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> biến đổi f   </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> </s> <s> </s> <s> cũng như các bài toán trước ta sẽ cố gắng áp dụng việc tính toán lũy thừa kết hợp với phép nhân ma trận để giảm độ phức tạp từ t xuống logt </s> <s> tuy nhiên có thể thấy việc sử dụng phép lũy thừa trong bài toán này phần nào phức tạp hơn bởi các ma trận được cho không giống nhau </s> <s> để giải quyết vấn đề này ta làm như sau </s> <s> </s> <s> gọi x x </s> <s> </s> <s> </s> <s>  xm là các ma trận tương ứng với các phép biến đổi được cho </s> <s> </s> <s> </s> <s> đặt x  x  x  </s> <s> </s> <s> </s> <s>  xm </s> <s> </s> <s> </s> <s> đặt s    </s> <s> </s> <s> </s> <s>   dãy số lượng vi khuẩn tại thời điểm đầu tiên </s> <s> </s> <s> </s> <s> như vậy y  s  xt  x  x  </s> <s> </s> <s> </s> <s>  xr là ma trận thể hiện số lượng vi khuẩn tại thời điểm m  t  r </s> <s> </s> <s> </s> <s> như vậy thuật toán đến đây đã rõ </s> <s> ta phân tích t  m  t  r nhờ đó ta có thể giải quyết bài toán trong mathcalon  m cho bước tính ma trận x và mathcalon  logt/m  m cho bước tính y </s> <s> bài toán được giải quyết </s> <s> </s> <s> </s> <s> phép toán kết hợp và độ phức tạp tính toán </s> <s> </s> <s> nhân tổ hợp dãy ma trận </s> <s> </s> <s> trong phần mở đầu ta đã có thuật toán nhân hai ma trận a kích cỡ m  n và b kích cỡ n  p cần độ phức tạp om  n  p </s> <s> giả sử ta có thêm ma trận c có kích cỡ p  q và ta cần tính tích a  b  c </s> <s> xét hai cách thực hiện phép nhân này </s> <s> </s> <s> </s> <s> </s> <s> cách   a  b  c thực hiện nhân a và b rồi nhân với c cần độ phức tạp om  n  p  om  p  q  om  p  n  q </s> <s> </s> <s> cách   a  b  c thực hiện nhân b và c rồi nhân với a cần độ phức tạp on  p  q  om  n  q  on  q  m  p </s> <s> </s> <s> </s> <s> như vậy là hai cách thực hiện khác nhau cần hai độ phức tạp khác nhau </s> <s> chọn m  n   p   q   cách  sẽ cần tới            phép tính trong khi cách  chỉ cần          </s> <s>    phép tính nghĩa là cách  chậm hơn cách  tới gần  lần </s> <s> </s> <s> </s> <s> khi độ dài của dãy ma trận tăng lên sự khác biệt có thể còn lớn hơn nữa </s> <s> ví dụ trên đã cho thấy rằng trong một số trường hợp thứ tự thực hiện phép nhân ma trận có ý nghĩa rất lớn đối với việc tìm lời giải của các bài toán </s> <s> </s> <s> </s> <s> trong thực tế bài toán xác định thứ tự nhân ma trận hiệu quả nhất là một bài toán rất phổ biến bạn có thể tìm đọc chi tiết thêm ở mục  </s> <s>  phép nhân tổ hợp dãy ma trận trong ebook của thầy lê minh hoàng </s> <s> </s> <s> </s> <s> giải thuật freivalds kiểm tra tích hai ma trận </s> <s> </s> <s> giải thuật freivalds là một ví dụ điển hình về việc áp dụng thứ tự thực hiện phép nhân ma trận để giảm độ phức tạp tính toán của phép nhân một dãy ma trận </s> <s> bài toán đặt ra là cho ba ma trận vuông a b c có kích cỡ n  n với n le  </s> <s> ta cần kiểm tra xem c có phải là tích của a và b nói cách khác ta cần kiểm tra ab  c có phải là mệnh đề đúng hay không đây chính là bài vmatrix  vnoi marathon   </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> cách làm thông thường là nhân trực tiếp hai ma trận a b rồi so sánh kết quả với c </s> <s> như phân tích trong phần mở đầu độ phức tạp của cách làm này là on với n   thì cách làm này không đủ nhanh </s> <s> giải thuật freivalds thực hiện việc kiểm tra thông qua thuật toán xác suất kiểu monte carlo với k lần thử cho xác suất kết luận sai là xấp xỉ  / k mỗi lần thử có độ phức tạp on </s> <s> các bước cơ bản của một phép thử freivalds như sau </s> <s> </s> <s> </s> <s> sinh ngẫu nhiên một ma trận v kích cỡ n   với các phần tử chỉ nhận giá trị  hoặc  </s> <s> </s> <s> tính hiệu p  a  b  v  c  v </s> <s> dễ thấy rằng p là ma trận kích cỡ n   </s> <s> </s> <s> trả về true nếu p chỉ gồm phần tử  bằng với vector  và false nếu ngược lại </s> <s> </s> <s> </s> <s> </s> <s> ta thực hiện k lần thử nếu gặp phép thử trả về false thì ta kết luận là a  b neq c </s> <s> ngược lại nếu sau k phép thử mà luôn thấy true thì ta kết luận a  b  c </s> <s> vì xác suất lỗi giảm theo hàm mũ của k nên thông thường chỉ cần chọn k vừa đủ là sẽ thu được xác suất đúng rất cao k   với bài vmatrix ở trên </s> <s> một nhận xét quan trọng khác là cận trên của đánh giá xác suất kiểm tra lỗi không phụ thuộc vào kích cỡ n của ma trận được cho mà chỉ phụ thuộc vào số lần thực hiện phép thử </s> <s> </s> <s> </s> <s> xét bước thứ  ta thấy rằng phép thử freivalds chỉ có ý nghĩa nếu như ta có thể thực hiện phép nhân a  b  v trong thời gian on vì phép nhân c  v đã đạt sẵn on rồi </s> <s> thay vì thực hiện tuần tự từ trái qua phải sẽ cần on ta thực hiện theo thứ tự a  b  v </s> <s> vì kết quả của phép nhân b và v là một ma trận n   nên độ phức tạp tổng cộng sẽ là on </s> <s> trên tất cả các phép thử độ phức tạp là ok  n </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> hackerearth  pk and interesting language </s> <s> hackerearth  long walks from office to home sweet home </s> <s> hackerearth  tiles </s> <s> hackerearth  abcd strings </s> <s> hackerearth  mehta and the difficult task </s> <s> hackerearth  mehta and the evil strings </s> <s> voj  paant </s> <s> voj  connecte </s> <s> </s> <s> </s> <s> </s> <s> rời rạc hoá và ứng dụng </s> <s> http//vnoi </s> <s> info/wiki/algo/trick/roirachoavaungdung </s> <s> </s> <s> </s> <s> </s> <s> tác giả  lê hùng sơn  đại học fpt </s> <s> </s> <s> table of contents giới thiệu ví dụ  dãy số cseq đề bài hướng giải quyết ví dụ  phân đoạn voi   bảng a hướng giải quyết </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> rời rạc hóa là một lĩnh vực lớn có đối tượng nghiên cứu là các tập hợp rời rạc trong khoa học máy tính </s> <s> ứng dụng của của phương pháp rất lớn và thường được sử dụng trong rất nhiều kỳ thi lớn </s> <s> trong phạm vi chuyên đề ta chỉ xét một số ví dụ để hiểu rõ thêm phương pháp này </s> <s> </s> <s> </s> <s> khi giải thuật lập trình ta hay quen gọi phương pháp rời rạc hóa là nén số </s> <s> thật vậy đúng như tên gọi bản chất của phương pháp ta hiểu nôm na là đưa các vùng dữ liệu lớn về vùng dữ liệu nhỏ để dễ xử lý sao cho vẫn thỏa mãn yêu cầu của bài toán đặt ra </s> <s> </s> <s> </s> <s> kỹ thuật bổ trợ trong phương pháp này là đánh lại số thứ tự hay còn được gọi là nén số được thực hiện như sau </s> <s> </s> <s> </s> <s> giả sử ta nén số một mảng ai có n phần tử có giá trị thuộc khoảng   về mảng nhỏ hơn có giá trị thuộc khoảng  n mà vẫn đảm bao được quan hệ lớn bé </s> <s> </s> <s> </s> <s> </s> <s> ví dụ a       → b   </s> <s> </s> <s> </s> <s> b dùng  mảng song song vali  ai posi  i  pos để lưu vị trí đi kèm giá trị ai  </s> <s> b sắp xếp lại theo tăng dần của val  chú ý khi swapvalivalj nhớ swapposiposj </s> <s> </s> <s> b tạo một biến dem   last  max  duyệt các giá trị vali nếu last khác vali thì dem last  vali ở mỗi bước ta cập nhật bposi  dem </s> <s> </s> <s> </s> <s> </s> <s> kết thúc quá trình trên ta nhận được mảng b là nén từ mảng a với độ phức tạp thao tác nén này là onlogn </s> <s> </s> <s> </s> <s> ví dụ  dãy số cseq </s> <s> </s> <s> đề bài </s> <s> </s> <s> cho n số nguyên n le  số nguyên a a dots an với ai le  và  số l r l le r </s> <s> hãy đếm xem có bao nhiêu cặp i j thỏa l le ai  ai  </s> <s> </s> <s> </s> <s>  aj le r </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> </s> <s> dòng đầu chứa  số n l r </s> <s> </s> <s> dòng  chứa n số nguyên a a dots an </s> <s> </s> <s> </s> <s> </s> <s> output </s> <s> </s> <s> </s> <s> in ra kết quả cần tìm </s> <s> </s> <s> </s> <s> </s> <s> example </s> <s> </s> <s> cseq </s> <s> inp </s> <s> </s> <s>    </s> <s>     </s> <s> </s> <s> cseq </s> <s> out </s> <s>  </s> <s> </s> <s> hướng giải quyết </s> <s> </s> <s> </s> <s> hướng đơn giản nhất là duyệt mọi cặp đoạn ij và kiểm tra xem tổng nó có thỏa không và ta tăng biến đếm lên </s> <s> tuy nhiên cách này mất chi phí thời gian on với n le  thì không được khả thi </s> <s> </s> <s> bây giờ ta thử gọi như sau si  a  a  dots  ai </s> <s> </s> <s> đoạn con ij  i ge j thỏa mãn điều kiện nếu l le si  sj le r </s> <s> biến đổi tiếp ta được  điều kiện để thỏa là si  l ge sj và si  r le sj </s> <s> </s> <s> </s> <s> </s> <s> tiếp theo ta có </s> <s> </s> <s> </s> <s> nhận xét  si  l  si  r là  số cố định </s> <s> </s> <s> nhận xét  quan hệ lt hay gt cho ta thấy không cần quan tâm giá trị của các số mà chỉ cần đảm bảo quan hệ lt hay gt là được </s> <s> ví dụ  lt  ta có thể nén thành  lt  chả ảnh hưởng kết quả bài toán </s> <s> </s> <s> nhận xét  quá lắm chỉ có n phần tử cho tất cả các giá trị si  l si  r sj với n le  thì đây là con số nhỏ </s> <s> </s> <s> </s> <s> </s> <s> từ  nhận xét trên ta sẽ tìm cách đưa si  l si  r sj về các mảng nhỏ không quá n phần tử để dễ dàng quản lý </s> <s> </s> <s> </s> <s> ta lập một mảng mới có n phần tử n phần tử dạng si n dạng si  l n dạng si  r nhớ lưu vị trí đi kèm </s> <s> </s> <s> bây giờ tiến hành sort mảng đó lại và ta tiến hành đánh số lai mảng đó gọi các mảng pi pi pi là các giá trị sau khi đánh số lại của si si  l si  r </s> <s> </s> <s> </s> <s> ta tiến hành duyệt các vị trí i dùng  cây segment tree hoặc binary indexed tree để quản lý và đếm </s> <s> </s> <s> </s> <s> b cập nhất kết quả tăng res thêm số lượng phần tử đoạn pi pi đã xuất hiện </s> <s> </s> <s> b thêm số lượng  phần tử pi vào cây </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp o  n  log  n </s> <s> </s> <s> ngoài cách này ra ta còn  cách dùng phương pháp chia để trị  sẽ có trong các tài liệu sắp tới </s> <s> </s> <s> </s> <s> </s> <s> code tham khảo pascal </s> <s> </s> <s> // code phần nén số </s> <s> // ở đây thay vì dùng  mảng pi pi pi mình tận dụng luôn mảng a </s> <s> //  ai  pi an  i  pi an  i  pi </s> <s> procedure unzip  </s> <s> var i  j  del  longint  </s> <s> begin </s> <s> sort      n  </s> <s> a    n    </s> <s> val  high  longint  </s> <s> i    del    </s> <s> repeat </s> <s> inc  del  </s> <s> j  i  </s> <s> while a  i  </s> <s> val  a  j  </s> <s> val do </s> <s> begin </s> <s> b  a  j  </s> <s> pos  del  </s> <s> inc  j  </s> <s> end  </s> <s> i  j  </s> <s> until i    n    </s> <s> end  </s> <s> </s> <s> // phần tính toán kết quả bằng binary indexed tree </s> <s> for i  n downto  do </s> <s> begin </s> <s> update  b  i  </s> <s> res  res  get  b  i      n  get  b  i    n  </s> <s> end  </s> <s> </s> <s> ví dụ  phân đoạn voi   bảng a </s> <s> </s> <s> cho dãy n số nguyên a a dots  an và số k   le n k le   ai le  hãy tìm số m nhỏ nhất sao cho có thể chia dãy đã cho thành k phần mỗi phần là  đoạn các phân tử liên tiếp và phải đảm bảo tổng mỗi phần không quá m </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> </s> <s> dòng đầu chứa số nguyên n và k </s> <s> </s> <s> dòng thứ  chứa n số nguyên a a dots  an </s> <s> </s> <s> </s> <s> </s> <s> output </s> <s> </s> <s> </s> <s> in ra số nguyên m </s> <s> </s> <s> </s> <s> </s> <s> example </s> <s> </s> <s> qbsegpar </s> <s> inp </s> <s> </s> <s>   </s> <s>          </s> <s> </s> <s> qbsegpar </s> <s> out </s> <s> </s> <s>  </s> <s> </s> <s> hướng giải quyết </s> <s> </s> <s> nhận xét  bài toán yêu cầu tìm m nhỏ nhất theo kinh nghiệm thì khi bài toán bảo tìm giá trị nhỏ nhất hay lớn nhất nhưng không xác định được từ dữ liệu bài thì ta nên nghĩ đến chặt nhị phân </s> <s> vùng giá trị chặt có thể chọn từ   là vừa hợp cái này là tùy chọn còn tối ưu nhất chỉ cần chặt trong khoảng maxai n maxain </s> <s> </s> <s> </s> <s> </s> <s> tuy nhiên ta chỉ dự đoán là chặt nhị phân nhưng chưa khẳng định là có đúng không ta có nhận xét sau với m càng lớn thì việc chia thành k đoạn càng dễ  → dùng chặt nhị phân là chính xác </s> <s> </s> <s> </s> <s> </s> <s> nhận xét  nếu ta có  giá trị m xác định ta chia được ít nhất là a đoạn chia nhiều nhất là b đoạn nếu tồn tại k mà a le k le b thì luôn có cách chia k đoạn thỏa mãn </s> <s> để xác định được a và b ta dùng phương pháp quy hoạch động </s> <s> </s> <s> </s> <s> chặt nhị phân không khó ở đây khó là phương pháp quy hoạch động cho thỏa mãn thời gian </s> <s> công thức sơ khai như sau </s> <s> </s> <s> </s> <s> si  a  a  dots  ai </s> <s> </s> <s> fmaxi  số đoạn chia được nhiều nhất trong dãy a a dots  ai </s> <s> </s> <s> fmini  số đoạn chia được ít nhất trong dãy a a dots  ai </s> <s> </s> <s> </s> <s> </s> <s> khởi tạo fmax   fmin   fmaxi  max i   fmini  inf i   </s> <s> </s> <s> </s> <s> công thức </s> <s> </s> <s> </s> <s> fmaxi  maxfmaxi fmaxj   với j lt i và si  sj lt m </s> <s> </s> <s> fmini  minfmini fminj   với j lt i và si  sj lt m </s> <s> </s> <s> </s> <s> </s> <s> nhận thấy độ phức tạp đây là on  log   không thể đáp ứng được thời gian yêu cầu là s nhưng ở trường hợp quá bí ý tưởng đây không phải giải pháp tồi giúp lấy được một ít điểm lẻ </s> <s> </s> <s> </s> <s> để nhanh được chỉ có cách là cải tiến sao cho tính mảng quy hoạch động được nhanh ở đây ta để ý quan hệ si  sj le m chỉ cần biến đổi thành si  m le sj → giải pháp đã phần nào sáng sủa hơn và nếu tinh ý thì đây chỉ là bài toán  chiều một nửa của ví dụ  ở trên thôi → bây giờ ta chỉ cần rời rạc hóa nó đi thay vì   n ta có mảng   n lưu các giá trị si và si  m ta sẽ tính dựa vào  cây binary indexed tree cho đơn giản thay vì đếm như bài trên vấn đề ở đây chỉ là tìm max min và update max min </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp on  logn  log   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> local search </s> <s> http//vnoi </s> <s> info/wiki/algo/search/localsearch </s> <s> </s> <s> </s> <s> </s> <s> tác giả nguyễn thành trung rr </s> <s> </s> <s> table of contents bài toán mở đầu tsp tham lam local search local search dưới cách hiểu của đại số bài tập áp dụng </s> <s> </s> <s> bài toán mở đầu tsp </s> <s> </s> <s> cho n điểm trên mặt phẳng đánh số từ  đến n </s> <s> tìm một chu trình xuất phát từ điểm thứ  đi qua tất cả các điểm mỗi đỉnh đúng  lần và quay trở về đỉnh ban đầu </s> <s> </s> <s> </s> <s> bài toán này là np không có thuật toán tối ưu với độ phức tạp đa thức </s> <s> tên gọi phổ biến của bài này là traveling salesman problem tsp </s> <s> </s> <s> </s> <s> khi gặp bài np ta chỉ có thể tìm cách đưa ra một kết quả càng tối ưu càng tốt </s> <s> một số phương pháp thường dùng là tham lam hoặc local search  sẽ được nói trong bài viết này </s> <s> </s> <s> </s> <s> bạn có thể nộp thử bài này ở voj </s> <s> </s> <s> </s> <s> tham lam </s> <s> </s> <s> một thuật toán rất hồn nhiên nhất là xuất phát từ điểm thứ  tại mỗi bước ta sẽ di chuyển đến điểm gần nó nhất mà chưa được di chuyển đến trước đó </s> <s> lặp lại n lần ta thu được một chu trình </s> <s> </s> <s> </s> <s> cài đặt  số phần chính </s> <s> </s> <s> struct point  </s> <s> double x  y  </s> <s> point  double x    double y     x  x  y  y   </s> <s> </s> <s> point operator   point a   return point  x  a </s> <s> x  y  a </s> <s> y   </s> <s> double len   return sqrt  x  x  y  y   </s> <s>  a  maxn  </s> <s> </s> <s> bool used  maxn  // đánh dấu điểm đã được đi qua </s> <s> </s> <s> int id  maxn  // lưu chỉ số của các điểm trong kết quả tìm được </s> <s> </s> <s> </s> <s> void solve   </s> <s> memset  used  false  sizeof used  </s> <s> used     true  </s> <s> id       </s> <s> </s> <s> for  int i    i lt n   i   </s> <s> double bestdist  e  </s> <s> int save     </s> <s> </s> <s> for  int j    j lt n   j   </s> <s> double curdist   a  current </s> <s> id  i     a  j  </s> <s> len  </s> <s> if   used  j  ampamp curdist lt bestdist   </s> <s> bestdist  curdist  </s> <s> save  j  </s> <s>  </s> <s>  </s> <s> id  i   save  </s> <s> used  save   true  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> dưới đây là kết quả khi mình chạy với một bộ test được sinh random gồm  đỉnh </s> <s> </s> <s> </s> <s> </s> <s> khi quan sát kết quả của thuật toán trên dễ thấy có rất nhiều cặp cạnh cắt nhau </s> <s> khi tồn tại  cạnh ab và cd cắt nhau ta có thể đảo nó thành ac và bd hoặc ad và bc và giữ nguyên phần còn lại của chu trình </s> <s> như vậy ta có thể thu được một kết quả tốt hơn </s> <s> nhận xét này đưa ta đến với ý tưởng thứ  </s> <s> </s> <s> local search </s> <s> </s> <s> xét một chu trình ban đầu bất kỳ </s> <s> xét tất cả n cặp cạnh với mỗi cặp cạnh u v ta có chu trình  gt u gt u gt v gt v gt   ta thử đổi nó thành  gt u gt v gt u gt v gt  </s> <s> nếu việc đổi này cho ta một chu trình có trọng số nhỏ hơn ta giữ lại chu trình mới này </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> void optimize   </s> <s> while  true   </s> <s> bool stop  true  </s> <s> for  int u    u lt n   u   </s> <s> for  int v  n    v gt u   v   </s> <s> // t  cạnh u gt u  cạnh v gt v </s> <s> double t   a  id  u     a  id  u  </s> <s> len  </s> <s>   a  id  v   a  id  v    </s> <s> len  </s> <s> // t  cạnh u gt v  cạnh u gt v </s> <s> double t   a  id  u     a  id  v  </s> <s> len  </s> <s>   a  id  u   a  id  v    </s> <s> len  </s> <s> if  t gt t   // nếu đổi chu trình cho kết quả tốt hơn </s> <s> for  int i  u  j  v  i lt j   i   j   </s> <s> swap  id  i  id  j  </s> <s>  </s> <s> stop  false  </s> <s>  </s> <s>  </s> <s>  </s> <s> if  stop  break  </s> <s>  </s> <s>  </s> <s> </s> <s> minh họa cho test trên chú ý rằng mình cài đặt sai và không xét cạnh nối từ đỉnh cuối đến đỉnh  nên còn một cặp cạnh cắt nhau  </s> <s> </s> <s> </s> <s> </s> <s> ý tưởng này chính là nền tảng của local search xuất phát từ một cấu hình kết quả ta tìm cách thay đổi một phần của cấu hình để đạt được một cấu hình tốt hơn </s> <s> thông thường cài đặt local search gồm  bước chính </s> <s> </s> <s> </s> <s> khởi tạo một cấu hình kết quả bất kỳ </s> <s> gọi c là cấu hình hiện tại </s> <s> ta xét các cấu hình kề với c chọn ra cấu hình tốt nhất </s> <s> cập nhật cấu hình này cho c </s> <s> </s> <s> lặp lại đến khi ta không thể cập nhật được c </s> <s> </s> <s> </s> <s> </s> <s> trong các bước trên có đề cập đến khái niệm kề của  cấu hình </s> <s> khái niệm này chỉ đơn giản là tập những cấu hình mà ta xét đến khi đang ở một cấu hình nhất định </s> <s> chẳng hạn trong bài toán mở đầu với mỗi đường đi các cấu hình kề nó là các đường đi nhận được khi đổi một cặp cạnh </s> <s> </s> <s> </s> <s> local search dưới cách hiểu của đại số </s> <s> </s> <s> xét một bài toán tìm giá trị lớn nhất của một hàm  chiều jtheta theta </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> hình vẽ trên mô tả cách làm của local search xuất phát từ điểm xanh đậm ta xét các điểm ở gần nó tìm điểm mà j lớn nhất rồi di chuyển đến điểm đó </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> </s> <s> acm icpc national vietnam   bài e </s> <s> </s> <s> </s> <s> đây là một bài tập điển hình về áp dụng local search trong lập trình thi đấu competitive programming </s> <s> các bạn nên làm thử bài này trước khi làm những bài khác </s> <s> </s> <s> lời giải chi tiết </s> <s> </s> <s> </s> <s> spoj  panel </s> <s> ipsc   invisible cats </s> <s> https//www </s> <s> facebook </s> <s> com/note </s> <s> phpnoteid </s> <s> </s> <s> </s> <s> </s> <s> tìm kiếm tam phân  ternary search </s> <s> http//vnoi </s> <s> info/wiki/translate/emaxx/timkiemtamphanternarysearch </s> <s> </s> <s> </s> <s> </s> <s> table of contents tìm kiếm tam phân  ternary search mở đầu bài toán thuật toán cài đặt mở rộng bài tập tự luyện </s> <s> </s> <s> tìm kiếm tam phân  ternary search </s> <s> </s> <s> nguồn emaxx </s> <s> </s> <s> người dịch đỗ thanh lam </s> <s> </s> <s> mở đầu </s> <s> </s> <s> cho một hàm fx chỉ có một cực trị duy nhất unimodal </s> <s> có hai dạng hàm fx cơ bản </s> <s> </s> <s> </s> <s> phần đầu tăng chặt đạt đến giá trị lớn nhất sau đó giảm chặt </s> <s> concave </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> một hàm số thoả mãn tính chất này nếu tất cả các đoạn thẳng nối  điểm của đồ thị hàm số nằm bên dưới của đồ thị </s> <s> </s> <s> </s> <s> </s> <s> phần đầu giảm chặt đạt đến giá trị nhỏ nhất sau đó tăng chặt </s> <s> convex </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> một hàm số thoả mãn tính chất này nếu tất cả các đoạn thẳng nối  điểm của đồ thị hàm số đều nằm bên trên của đồ thị </s> <s> </s> <s> </s> <s> trong bài viết này chúng tôi sẽ giải quyết trường hợp  trường hợp  sẽ làm tương tự nhưng ngược lại </s> <s> </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một hàm fx trong đoạn l r thoả mãn f tăng chặt tới một cực đại điểm h rồi giảm chặt </s> <s> yêu cầu tìm điểm đạt giá trị lớn nhất điểm h </s> <s> </s> <s> </s> <s> thuật toán </s> <s> </s> <s> xét hai vị trí m và m trong đoạn l r sao cho l lt m lt m lt r </s> <s> rõ ràng cực trị có thể nằm ở  trong  phần </s> <s> </s> <s> </s> <s> l m </s> <s> khi đó ta biết chắc chắn fm gt fm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> m m </s> <s> ta không thể rút ra kết luận gì về fm và fm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> m r </s> <s> tương tự trường hợp đầu ta biết chắc chắn fm lt fm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ngược lại bằng việc so sánh fm và fm ta có thể rút ra kết luận như sau </s> <s> </s> <s> </s> <s> nếu fm lt fm ta biết chắc chắn h nằm trong m r </s> <s> </s> <s> fm gt fm ta biết chắc chắn h nằm trong l m </s> <s> </s> <s> fm  fm h nằm trong m m </s> <s> chú ý khi cài đặt chặt tam phân với hàm số thực ta thường bỏ qua trường hợp này để tránh sai số và do trên thực tế  số thực hầu như không bao giờ bằng nhau </s> <s> </s> <s> </s> <s> </s> <s> do đó dựa vào việc so sánh f ở hai điểm m m ta có thể thay đổi và giảm không gian tìm kiếm l r xuống một khoản không gian nhỏ hơn l r </s> <s> nếu ta chọn </s> <s> </s> <s> </s> <s> m  l  r  l /  </s> <s> m  r  r  l /  </s> <s> </s> <s> </s> <s> thì sau mỗi lần độ lớn của đoạn l r giảm xuống còn / lần </s> <s> </s> <s> </s> <s> nếu ta lặp đi lặp lại k lần thì độ lớn của l r sẽ chỉ còn  /   k </s> <s> ví dụ với l   r   ta lặp lại k   lần thì đoạn l r thu về chỉ còn độ dài là  /  </s> <s>      lt    đủ chính xác với hầu hết mọi bài toán </s> <s> </s> <s> </s> <s> độ phức tạp thuật toán là ologt với t là độ chính xác mà ta cần thực hiện </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> </s> <s> double maxf  double left  double right   </s> <s> </s> <s> int niter    </s> <s> </s> <s> for  int i    i lt niter  i    </s> <s> </s> <s> double x  left   right  left  /  </s> <s>   </s> <s> double x  right   right  left  /  </s> <s>   </s> <s> </s> <s> if  f  x  gt f  x  right  x  </s> <s> else left  x  </s> <s>  </s> <s> return f  left  </s> <s>  </s> <s> </s> <s> </s> <s> mở rộng </s> <s> </s> <s> tìm kiếm tam phân cũng có thể dùng để giải các bài toán trên d với hàm dạng fx y nếu hàm f là hàm lồi </s> <s> ví dụ bài e trong đề acm icpc vietnam national round   lời giải chi tiết ở đây </s> <s> </s> <s> </s> <s> bài tập tự luyện </s> <s> </s> <s> </s> <s> codechef  race time </s> <s> </s> <s> hackerearth  rescuer </s> <s> </s> <s> spoj  building construction </s> <s> </s> <s> codeforces  weakness and poorness </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> fft </s> <s> http//vnoi </s> <s> info/wiki/algo/trick/fft </s> <s> </s> <s> </s> <s> </s> <s> table of contents vài nét lịch sử phép nhân hai đa thức biểu diễn đa thức qua ma trận vandermonde nghiệm nguyên thủy một số tính chất đặc biệt của ma trận vandermonde nghiệm nguyên thủy phép biến đổi fourier nhanh thuật toán nhân hai đa thức lưu ý về kỹ thuật cài đặt khai báo chuẩn hóa bậc đa thức đệ quy và khử đệ quy bài tập luyện tập tài liệu tham khảo </s> <s> </s> <s> tác giả ngmq </s> <s> </s> <s> trong bài này chúng ta sẽ tìm hiểu về thuật toán nhân nhanh hai đa thức sử dụng phép biến đổi fourier nhanh  fast fourier transform  fft  và cách cài đặt của nó </s> <s> bài viết này sẽ chỉ nêu chứng minh sơ lược của một vài tính chất được sử dụng </s> <s> các chứng minh chi tiết có thể tìm thấy ở mục tài liệu tham khảo phía cuối của bài viết </s> <s> </s> <s> </s> <s> vài nét lịch sử </s> <s> </s> <s> phép biến đổi fourier  fourier transform  là một trong số những phát kiến toán học đặc sắc có lịch sử hào hùng gắn liền với những phát kiến khoa học và chiến tranh quân sự ở thế kỷ  và  </s> <s> joseph fourier  là một nhà khoa học làm việc trong đội quân thám hiểm ai cập của napoleon từ năm  </s> <s> sau khi cách mạng pháp kết thúc năm  fourier trở về pháp và tham gia xây dựng lại đất nước trong vai trò một giáo sư của đại học école polytechnique </s> <s> trong quá trình làm việc với các công trình xây dựng cầu đường và đóng tàu ông đặc biệt quan tâm tới bài toán mô tả quá trình truyền dẫn nhiệt trong kim loại điều dẫn tới sự ra đời của phép biến đổi fourier liên tục vào năm  trong một báo cáo của ông tại viện hoàng gia paris </s> <s> trong đó ông mô tả mọi hàm số kể cả các hàm số không liên tục đều có thể được biểu diễn dưới dạng tổng của một số vô hạn các hàm số lượng giác </s> <s> phát biểu này của fourier gây chấn động và ấn tượng tới mức nhà toán học pháp cùng thời là lagrange cho rằng việc nghĩ ra phát kiến này là gần như không thể nothing short of impossible  </s> <s> trong hơn một trăm năm sau đó phép biến đổi fourier trở thành một đối tượng nghiên cứu phổ biến và liên tục được phát triển hoàn thiện bởi vô số các tên tuổi lớn của toán lý thuyết  </s> <s> </s> <s> </s> <s> trong khi phiên bản nguyên thủy có lịch sử hoành tráng như vậy phép biến đổi fourier nhanh dù được cho là ra đời trước lại được quan tâm chậm hơn nhiều </s> <s> người ta cho rằng những ý tưởng đầu tiên về biến đổi fourier nhanh được phát triển bởi nhà toán học đức carl friedrich gauss    vào năm  khi ông cố gắng xác định quỹ đạo của các thiên thạch  nhưng khi đó ông không công bố kết quả của mình </s> <s> mối liên hệ giữa gauss và phép biến đổi fourier nhanh chỉ được phát hiện khi các công trình của ông được tập hợp và công bố vào năm  </s> <s> mặc dù vậy vào thời đó không có ai quan tâm tới công trình này vì lý thuyết độ phức tạp tính toán chưa phát triển mãi tới năm  alan turing mới phát triển mô hình tính toán đầu tiên và phải tới năm  thì lịch sử ngành nghiên cứu về độ phức tạp tính toán mới bắt đầu với công trình của hartmanis và stearns  </s> <s> cũng trong năm  hai nhà toán học trong ban cố vấn khoa học của tổng thống mỹ kennedy là james cooley và john tukey đã tự tìm ra phép biến đổi nhanh fourier trong khi thiết kế hệ thống phát hiện các vụ thử hạt nhân của chính quyền xô viết  </s> <s> kể từ thời điểm đó phép biến đổi nhanh fourier mới chính thức được quan tâm và nghiên cứu ứng dụng trong rất nhiều các lĩnh vực nghiên cứu khác nhau của vật lý sinh học điện tử y tế điều khiển học </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nghiên cứu chỉ ra rằng mắt và tai người động vật có cài đặt sẵn thuật toán biến đổi fourier để giúp chúng ta nhìn và nghe vì vậy nó được gs ronald coifman của đại học yale gọi là phương pháp phân tích dữ liệu của tự nhiên natures way of analyzing data  </s> <s> </s> <s> </s> <s> phép nhân hai đa thức </s> <s> </s> <s> cho hai đa thức px qx có bậc d e như sau </s> <s> </s> <s>  </s> <s> px  a  a x  a x  </s> <s> </s> <s> </s> <s>  ad xd </s> <s>  </s> <s>  </s> <s> qx  b  b x  b x  </s> <s> </s> <s> </s> <s>  be xe </s> <s>  </s> <s> </s> <s> ta cần tìm tích cx của hai đa thức trên có dạng </s> <s>  </s> <s> cx  pxqx  c  c x  cx x  </s> <s> </s> <s> </s> <s>  cde xde </s> <s>  </s> <s> </s> <s> trong đó </s> <s> </s> <s>  </s> <s> cj  sumij aibji qquad j    </s> <s> </s> <s> </s> <s>  de </s> <s>  </s> <s> </s> <s> cách làm theo định nghĩa là ta nhân mỗi hệ số của px với tất cả các hệ số của qx rồi cộng các hệ số của cùng tổng số mũ </s> <s> vì hai đa thức có d và e hệ số nên cách làm này có độ phức tạp là ode  ode </s> <s> khi d và e tương đối lớn cỡ  hoặc  trở lên thì độ phức tạp này là quá lớn để chạy trên máy tính đặc biệt là các máy tính nhúng đòi hỏi tốc độ tính toán nhanh </s> <s> phép biến đổi fft giúp thực hiện phép nhân nói trên trong độ phức tạp onlogn trong đó n là lũy thừa của  nhỏ nhất lớn hơn d và e </s> <s> </s> <s> </s> <s> biểu diễn đa thức qua ma trận vandermonde </s> <s> </s> <s> kể từ phần này trở về sau ta quy ước n là số hệ số của đa thức bậc n và n là một lũy thừa của  n        </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> </s> <s> xét đa thức px  a  a x  a x  </s> <s> </s> <s> </s> <s>  an xn với bậc n và các hệ số phức ai in mathbbc </s> <s> biểu thức tính n giá trị của px tại n điểm z z </s> <s> </s> <s> </s> <s> zn có thể biểu diễn qua phép nhân ma trận như sau </s> <s> </s> <s>  </s> <s> beginbmatrix </s> <s>  amp z amp z amp dots amp zn newline </s> <s>  amp z amp z amp dots amp zn newline </s> <s> ldots amp ldots amp ldots amp ldots amp ldotsnewline </s> <s>  amp zn amp zn amp dots amp znn </s> <s> endbmatrix </s> <s> beginbmatrix </s> <s> a newline a newline vdots newline an </s> <s> endbmatrix </s> <s>  </s> <s> </s> <s>  </s> <s> </s> <s>  </s> <s> beginbmatrix </s> <s> pz newline pz newline vdots newline pzn </s> <s> endbmatrix space  </s> <s>  </s> <s> </s> <s> ma trận vuông v kích cỡ nn của zn ở trên được gọi là ma trận vandermonde </s> <s> </s> <s> ta có các định lý sau </s> <s> </s> <s> định lý  định thức của ma trận vandermonde là </s> <s> detv  prod leq i lt j leq nzj  zi </s> <s> </s> <s> chứng minh sơ lược </s> <s> với mỗi hàng i    </s> <s> </s> <s> </s> <s> n của định thức ta liên tục thay hàng j  i i </s> <s> </s> <s> </s> <s> n bằng hiệu của các hệ số của hàng j trừ đi hàng i </s> <s> đây là phép biến đổi cơ bản  elementary operation  nên giá trị định thức cần tính không đổi </s> <s> lấy nhân tử chung zj  zi ở tất cả các hàng ra ngoài và xét tiếp hàng i </s> <s> sau khi xét xong i  n ta được một ma trận chéo có đường chéo chỉ gồm zii   định thức của ma trận này hiển nhiên bằng  </s> <s> vì vậy định thức cần tính là tích của tất cả các nhân tử chung bỏ ra ngoài ở các bước trước đó </s> <s> </s> <s> </s> <s> phép chứng minh bằng quy nạp có thể xem thêm tại đây </s> <s> </s> <s> định lý  đa thức px được xác định duy nhất bởi các giá trị của nó pz pz </s> <s> </s> <s> </s> <s> pzn khi n giá trị z z </s> <s> </s> <s> </s> <s> zn phân biệt </s> <s> ta gọi đây là phép biến đổi ngược </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> coi phương trình  là một hệ phương trình n ẩn với bộ nghiệm a a </s> <s> </s> <s> </s> <s> an </s> <s> để đa thức px xác định và duy nhất thì định thức của ma trận v ở trên phải khác  </s> <s> theo định lý  ta có điều phải chứng minh </s> <s> </s> <s> </s> <s> hệ quả khi v khả nghịch hệ số a a </s> <s> </s> <s> </s> <s> an được xác định thông qua tích của ma trận nghịch đảo v của v và pz pz </s> <s> </s> <s> </s> <s> pzn </s> <s> </s> <s> </s> <s> từ định lý  ta thấy rằng  đa thức bất kỳ có  cách biểu diễn </s> <s> </s> <s> </s> <s> dùng n hệ số ai </s> <s> dùng n cặp giá trị zi pzi </s> <s> </s> <s> </s> <s> </s> <s> đây chính là nền tảng của việc tính nhanh tích của  đa thức sử dụng fft </s> <s> </s> <s> </s> <s> chọn  dãy zi gồm n phần tử </s> <s> zi có thể chọn tuỳ ý miễn sao giá trị của chúng là đôi một khác nhau để các đa thức px qx và cx là xác định và duy nhất </s> <s> </s> <s> chuyển  đa thức px và qx sang cách biểu diễn  </s> <s> dùng fft </s> <s> tính tích của  đa thức trong cách biểu diễn  trong on </s> <s> điều này cực kỳ đơn giản vì khi ta đã cố định dãy zi ta có thể tính tất cả czi  pzi qzi trong on </s> <s> </s> <s> chuyển đa thức cx về cách biểu diễn  dùng fft </s> <s> </s> <s> </s> <s> </s> <s> nghiệm nguyên thủy </s> <s> </s> <s> như đã phân tích ở trên ta cần chọn dãy zi sao cho việc biến đổi đa thức giữa  cách biểu diễn có thể thực hiện một cách hiệu quả </s> <s> nếu ta chọn zi là các nghiệm nguyên thủy thoả mãn </s> <s> </s> <s>  </s> <s> zn   qquad z in mathbbc qquad  </s> <s>  </s> <s> </s> <s> với n như đã quy ước và cũng là số nghiệm của phương trình  mà ta cần </s> <s> công thức euler xác định nghiệm thứ k của phương trình  là </s> <s> </s> <s>  </s> <s> zk  wnk  e pi iover nk  e pi ikover n  cospi kover n  isinpi kover n qquad k    </s> <s> </s> <s> </s> <s> n   </s> <s>  </s> <s> </s> <s> trong đó wn là nghiệm mũ  </s> <s> </s> <s>  </s> <s> wn  e pi iover n  cospiover n  isinpiover n </s> <s>  </s> <s> </s> <s> dễ thấy là nghiệm nguyên thủy thứ k có thể được tính trong o với n đã biết </s> <s> </s> <s> </s> <s> một số tính chất đặc biệt của ma trận vandermonde nghiệm nguyên thủy </s> <s> </s> <s> tính chất  ma trận nghịch đảo v được tính theo công thức vij  vij over n với i j    </s> <s> </s> <s> </s> <s> n là chỉ số hàng và cột của ma trận </s> <s> </s> <s> </s> <s> chứng minh sơ lược gọi b là ma trận kích cỡ n  n tạo bởi </s> <s> </s> <s>  </s> <s> bi j  vij qquad forall i j    </s> <s> </s> <s> </s> <s> n </s> <s>  </s> <s> </s> <s> ta sẽ chứng minh tích p  b  v  v  b  n  i trong đó i là ma trận đơn vị </s> <s> </s> <s> </s> <s> xét phép nhân hàng i của ma trận v và cột k của ma trận b ta có </s> <s>  </s> <s> pi k  sumjnwnijwnjk  sumjnwnjik </s> <s>  </s> <s> </s> <s> </s> <s> nếu i  k pi k  pi i  sumjnwn  n qquad forall i    </s> <s> </s> <s> </s> <s> n </s> <s> </s> <s> nếu i neq k pi k  sumjnwnikj    wnikn over wnik   </s> <s> </s> <s> </s> <s> vậy p  ni hay là v  b/n  b/n  v  i vậy b  v </s> <s> </s> <s> </s> <s> hệ quả độ phức tạp tính toán cho v bằng với độ phức tạp tính v </s> <s> </s> <s> </s> <s> tính chất  chia ma trận v thành  phần bằng nhau kích cỡ n/  n/ theo  tiêu chí độ lớn của hàng so với n/ và tính chẵn lẻ của các cột </s> <s> </s> <s> </s> <s> </s> <s> phần i gồm các phần tử có chỉ số hàng   </s> <s> </s> <s> </s> <s> n/   và chỉ số cột là chẵn    </s> <s> </s> <s> </s> <s> n </s> <s> </s> <s> phần ii gồm các phần tử có chỉ số hàng   </s> <s> </s> <s> </s> <s> n/   và chỉ số cột là lẻ    </s> <s> </s> <s> </s> <s> n </s> <s> </s> <s> phần iii gồm các phần tử có chỉ số hàng n/ n/ </s> <s> </s> <s> </s> <s> n và chỉ số cột là chẵn    </s> <s> </s> <s> </s> <s> n </s> <s> </s> <s> phần iv gồm các phần tử có chỉ số hàng n/ n/ </s> <s> </s> <s> </s> <s> n và chỉ số cột là lẻ    </s> <s> </s> <s> </s> <s> n </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  image courtesy of aalto university  </s> <s> </s> <s> nói cách khác ta tạo một ma trận mới k bằng cách chuyển tất cả các cột có chỉ số chẵn của ma trận v lên trước các cột có chỉ số lẻ về sau giữ nguyên thứ tự tương đối của các cột cùng chỉ số chẵn hoặc cùng chỉ số lẻ </s> <s> ở ma trận k này cột n của v nằm ngay trước cột  của v </s> <s> bốn phần i ii iii iv được tạo bởi cắt đều ma trận k thành  phần bằng nhau </s> <s> </s> <s> </s> <s> ký hiệu ki kii kiii kiv là bốn ma trận con của k </s> <s> tất cả các phần tử trong phần ii iii iv đều có thể tính được từ phần i theo công thức sau </s> <s> </s> <s>  </s> <s> kiii j  wni kiij qquad forall i j    </s> <s> </s> <s> </s> <s> n/   </s> <s>  </s> <s>  </s> <s> kiiiij  kiij qquad forall i j    </s> <s> </s> <s> </s> <s> n/   </s> <s>  </s> <s>  </s> <s> kivi j  wni kiij qquad forall i j    </s> <s> </s> <s> </s> <s> n/   </s> <s>  </s> <s> </s> <s> chứng minh các bạn tự chứng minh hoặc xem slide số  trong tài liệu của trường dh aalto ở phần tài liệu tham khảo </s> <s> </s> <s> </s> <s> tính chất  ma trận nghịch đảo v cũng có thể chia thành  phần bằng nhau với các phần ii iii iv tính được qua phần i giống như tính chất  </s> <s> </s> <s> </s> <s> hệ quả phép biến đổi fourier ngược  inverse fourier transform  có cùng độ phức tạp với phép biển đổi fourier </s> <s> </s> <s> </s> <s> phép biến đổi fourier nhanh </s> <s> </s> <s> trong phần trên ta đã thấy vai trò của ma trận vandermonde v là biến đổi một vector cột a a </s> <s> </s> <s> </s> <s> an thành một vector cột khác cùng kích cỡ pz pz </s> <s> </s> <s> </s> <s> pzn </s> <s> phép biến đổi này được gọi là biến đổi fourier rời rạc  discrete fourier transform  </s> <s> lưu ý là mặc dù hai khái niệm biến đổi fourier rời rạc  dft  và phép biến đổi fourier nhanh  fft  là khác nhau nhưng vì khi cài đặt dft người ta luôn sử dụng fft nên hai khái niệm này được coi như đồng nhất </s> <s> </s> <s> </s> <s> định lý  tồn tại thuật toán biến đổi fourier rời rạc có độ phức tạp là onlogn </s> <s> </s> <s> </s> <s> chứng minh sử dụng lại ký hiệu trong hình vẽ ở phần trên ta gọi x là vector cần biến đổi fourier và y là vector kết quả tương ứng </s> <s> thay vì sử dụng ma trận v để nhân với x ta sử dụng ma trận k là kết quả của phép biến đổi như trong định lý  để nhân với x </s> <s> lưu ý là vì v đã đổi thứ tự cột nên x cũng phải đổi thứ tự hàng tất cả các hàng có chỉ số chẵn của x được chuyển lên trên và các hàng chỉ số lẻ chuyển xuống dưới </s> <s> hình minh họa với n   và  nghiệm để thay vào ma trận vandermonde là  i  i </s> <s> </s> <s> </s> <s>  image courtesy aalto university  </s> <s> </s> <s> tách vector kết quả y thành hai phần theo n/ ta được </s> <s> </s> <s> </s> <s>  image courtesy aalto university  </s> <s> </s> <s> ta quan sát là công thức tính nửa trên và nửa dưới của vector cột kết quả y sử dụng chung hai hạng tử và chỉ khác nhau về dấu của hạng tử thứ hai </s> <s> nói cách khác chỉ cần tính được hai hạng tử tạo thành kết quả của vector kích cỡ n/ là ta thu được kết quả của cả vector kích cỡ n trong on </s> <s> theo định lý tổng quát độ phức tạp của cả quá trình là onlogn </s> <s> </s> <s> công thức truy hồi </s> <s> từ tính chất đặc biệt của ma trận k ta có công thức truy hồi để biến đổi một vector cột x thành vector cột y như sau </s> <s> </s> <s>  </s> <s> fftxi   </s> <s> </s> <s> </s> <s> n/    fftxi   </s> <s> </s> <s> </s> <s> xn  wni fftxi   </s> <s> </s> <s> </s> <s> n </s> <s>  </s> <s>  </s> <s> fftxin/ n/ n/ </s> <s> </s> <s> </s> <s> n  fftxi   </s> <s> </s> <s> </s> <s> xn  wni fftxi   </s> <s> </s> <s> </s> <s> n </s> <s>  </s> <s> </s> <s> thuật toán nhân hai đa thức </s> <s> </s> <s> đến đây ta đã có thể hoàn thiện chương trình nhân  đa thức px qx và lưu kết quả thành hx </s> <s> function nhânđathức px qx n  </s> <s> </s> <s> // lưu ý n là số hệ số của đa thức kết quả </s> <s> // nếu px có bậc d và qx có bậc e thì n  d  e   </s> <s> </s> <s> fp  fftpx n // biến đổi fourier cho px và lưu các giá trị vào mảng fp </s> <s> fq  fftqx n // biến đổi fourier cho qx và lưu các giá trị vào mảng fq </s> <s> </s> <s> fori   i lt n i </s> <s> fhi  fpi  fqi // nhân tương ứng các giá trị của fp và fq lưu vào mảng fh </s> <s> </s> <s> hx  fftngượcfh // biến đổi fourier ngược và lưu vào kết quả </s> <s> </s> <s> end function </s> <s> </s> <s> lưu ý về kỹ thuật cài đặt </s> <s> </s> <s> vì fft đòi hỏi phải sử dụng số phức và trong nhiều trường hợp khử đệ quy nên có thể gây khó khăn cho các bạn chưa quen phần này sẽ hướng dẫn sơ lược về cách cài đặt sử dụng c </s> <s> </s> <s> </s> <s> khai báo </s> <s> </s> <s> để sử dụng số phức trong c ta cần khai báo thư viện complex  </s> <s> </s> <s> include ltcomplexgt </s> <s> vì c cài đặt complex là một lớp  class  gồm  trường thực  real  và ảo  imag  nên khi sử dụng ta cần chỉ định kiểu dữ liệu cho hai trường này </s> <s> hai kiểu dữ liệu thông dụng là double hoặc long double  </s> <s> </s> <s> typedef complex lt double gt base  </s> <s> typedef vector lt base gt vb  </s> <s> </s> <s> sau khi được định nghĩa bằng lệnh typedef thì để khai báo biến và vector kiểu phức ta chỉ cần viết base x và vb v là được </s> <s> </s> <s> </s> <s> một số phiên bản cài đặt tự định nghĩa lớp số ảo bằng một struct hoặc class </s> <s> nếu lớp tự viết này không có chức năng đặc biệt nào thì việc này là không cần thiết vì bản thân ltcomplexgt đã là một lớp rồi </s> <s> bạn có thể xem qua file thư viện trong thư mục cài đặt trình biên dịch ví dụ với codeblocks thì đường dẫn có dạng codeblocksmingwlibgccmingw </s> <s>  </s> <s> includeccomplex file ko có phần mở rộng </s> <s> </s> <s> </s> <s> chuẩn hóa bậc đa thức </s> <s> </s> <s> trong các phần trên ta đã giả sử rằng n là lũy thừa của  </s> <s> để đảm bảo tính đối xứng và thuận tiện khi cài đặt nếu đề bài không cho trước n bậc của đa thức là lũy thừa của  thì ta cần chuẩn hóa thành số lũy thừa nhỏ nhất mà lớn hơn n </s> <s> chẳng hạn với n   thì giá trị chuẩn hóa là    vì    lt  </s> <s> các hệ số của bậc cao hơn giá trị n ban đầu gán bằng  </s> <s> </s> <s> </s> <s> đệ quy và khử đệ quy </s> <s> </s> <s> đệ quy </s> <s> </s> <s> xét một đoạn mã c cài đặt hàm fft sử dụng đệ quy như sau </s> <s> </s> <s> void fftslow  int n  vb amp a  // biến đổi fft của vector a lưu kết quả vào chính nó </s> <s>  </s> <s> if  n    </s> <s>  </s> <s> return  </s> <s>  </s> <s> int i  j  k  </s> <s> </s> <s> // bước  </s> <s> khai báo kết quả fft chẵn và lẻ </s> <s> vb aeven  n /   aodd  n /   </s> <s> </s> <s> // bước  </s> <s> tách hàng chẵn và hàng lẻ </s> <s> for  i  j    i lt n  i    </s> <s>  </s> <s> aeven  j   a  i  </s> <s> aodd  j   a  i    </s> <s>  j  </s> <s>  </s> <s> </s> <s> // bước  </s> <s> biến đổi fft với các hàng chẵn lẻ </s> <s> fftslow  n /   aeven  </s> <s> fftslow  n /   aodd  </s> <s> </s> <s> // bước  ghép hoàn chỉnh kết quả </s> <s> double ang    pi / n  </s> <s> base w    wn  cos  ang  sin  ang  </s> <s> </s> <s> for  i    i lt n /    i  </s> <s>  </s> <s> a  i   aeven  i   w  aodd  i  </s> <s> a  i  n /    aeven  i   w  aodd  i  </s> <s> w  wn  </s> <s>  </s> <s>  </s> <s> </s> <s> có nhiều nguyên nhân làm cho fft đệ quy chạy chậm như trong bước  thì khai báo hai vector kích cỡ n/ lớn như vậy và lại khai báo liên tục ở các mức đệ quy </s> <s> bản thân chương trình đệ quy cũng chạy chậm vì chương trình phải lưu rất nhiều con trỏ stack và liên tục giải phóng bộ nhớ của biến cục bộ ở mỗi mức đệ quy </s> <s> nhìn chung đệ quy chỉ có ý nghĩa như trong thuật toán quy hoạch động khi ta muốn tìm kết quả của một công thức truy hồi mà chỉ duyệt qua những trạng thái liên quan trực tiếp tới kết quả </s> <s> trong fft ta luôn phải thăm hết các ma trận con nên cài đặt fft bằng đệ quy không có lợi về tốc độ thực hiện </s> <s> </s> <s> </s> <s> để cho đầy đủ thì ta cũng có hàm biến đổi fft ngược như sau </s> <s> </s> <s> void inversefftslow  int n  vb amp a  </s> <s>  </s> <s> if  n    </s> <s>  </s> <s> return  </s> <s>  </s> <s> int i  j  k  </s> <s> vb aeven  aodd  </s> <s> for  i    i lt n   i  </s> <s>  </s> <s> if  i amp   aodd </s> <s> pushback  a  i  </s> <s> else aeven </s> <s> pushback  a  i  </s> <s>  </s> <s> inversefftslow  n /   aeven  </s> <s> inversefftslow  n /   aodd  </s> <s> </s> <s> double ang     pi / n  </s> <s> base w    wn  cos  ang  sin  ang  </s> <s> </s> <s> for  i    i lt n /    i  </s> <s>  </s> <s> a  i   aeven  i   w  aodd  i  </s> <s> a  i  /   </s> <s> a  i  n /    aeven  i   w  aodd  i  </s> <s> a  i  n /   /   </s> <s> w  wn  </s> <s>  </s> <s>  </s> <s> </s> <s> khử đệ quy </s> <s> </s> <s> để khử đệ quy thì ta cần phân tích mối liên hệ giữa các lời gọi đệ quy và xem các phần tử được tính theo thứ tự nào </s> <s> hình vẽ sau đây minh họa trường hợp n   </s> <s> </s> <s> </s> <s> </s> <s> màu đỏ là các nhóm chẵn và màu xanh là các nhóm lẻ </s> <s> các bạn hãy dựa vào tính chẵn lẻ và để ý các số nhị phân   trong hình vẽ để tự viết chương trình fft khử đệ quy hoặc giải thích tính đúng đắn của đoạn mã sau đây là hàm fft đã được dùng để giải bài post </s> <s> </s> <s> define pi acos </s> <s> const int nbit    </s> <s> const int n   ltlt   // chuẩn hóa bậc của đa thức là  </s> <s> base w  n  // mảng lưu các nghiệm nguyên thủy </s> <s> </s> <s> // hàm reverse bit đảo ngược nbit đầu tiên trong mã nhị phân của số mask </s> <s> int revbit  int nbit  int mask  </s> <s>  </s> <s> int i  j  </s> <s> for  i    j  nbit    i lt j   i   j  </s> <s>  </s> <s> if   mask gtgt i amp     mask gtgt j amp    </s> <s>  </s> <s> mask   ltlt i  </s> <s> mask   ltlt j  </s> <s>  </s> <s>  </s> <s> return mask  </s> <s>  </s> <s> </s> <s> // biến đổi fft của mảng a </s> <s> void fft  int n  vb amp a  </s> <s>  </s> <s> if  n    </s> <s> return  </s> <s> </s> <s> int i  j  k  </s> <s> </s> <s> // đi từ dưới lên trên của cây đệ quy hàng cuối cùng giá trị bằng với mảng được cho ban đầu nhưng hóa đổi vị trí </s> <s> // theo số có biểu diễn nhị phân ngược với chỉ số </s> <s> for  i    i lt n   i  </s> <s>  </s> <s> j  revbit  nbit  i  </s> <s> if  i lt j  swap  a  i  a  j  </s> <s>  </s> <s> vb anext  n  // hàng tiếp theo </s> <s> </s> <s> // chiều cao cây bằng logn </s> <s> // biến step lưu số phần tử nằm trong một nhóm chẵn hoặc lẻ </s> <s> for  int step    step lt n  step ltlt   </s> <s>  </s> <s> double ang  pi / step  //pi/step   </s> <s> base w    wn  cos  ang  sin  ang  </s> <s> </s> <s> // lưu trước mảng nghiệm nguyên thủy </s> <s> for  i    i lt step   i  </s> <s>  </s> <s> w  i   w  </s> <s> w  wn  </s> <s>  </s> <s> </s> <s> // cứ một nhóm chẵn và một nhóm lẻ cạnh nhau thì tạo thành kết quả cho hàng ở trên </s> <s> // duyệt qua tất cả các nhóm chẵn và nhóm lẻ cạnh nó </s> <s> // even  chẵn odd  lẻ </s> <s> int starteven    </s> <s> int startodd  starteven  step  </s> <s> while  starteven lt n  </s> <s>  </s> <s> for  i    i lt step   i  </s> <s>  </s> <s> anext  starteven  i   a  starteven  i   w  i   a  startodd  i  </s> <s> anext  starteven  i  step   a  starteven  i   w  i   a  startodd  i  </s> <s>  </s> <s> starteven    step  </s> <s> startodd  starteven  step  </s> <s>  </s> <s> for  i    i lt n   i  </s> <s> a  i   anext  i  </s> <s>  </s> <s>  </s> <s> </s> <s> sau đây là cài đặt cho cả fft xuôi và ngược </s> <s> biến invert  true cho fft ngược </s> <s> </s> <s> </s> <s> void fft  int n  vb amp a  bool invert  </s> <s>  </s> <s> if  n    </s> <s> return  </s> <s> </s> <s> int i  j  k  </s> <s> for  i    i lt n   i  </s> <s>  </s> <s> j  revbit  nbit  i  </s> <s> if  i lt j  swap  a  i  a  j  </s> <s>  </s> <s> vb anext  n  </s> <s> </s> <s> for  int step    step lt n  step ltlt   </s> <s>  </s> <s> double ang  pi / step  </s> <s> if  invert  ang   ang  </s> <s> </s> <s> base w    wn  cos  ang  sin  ang  </s> <s> </s> <s> for  i    i lt step   i  </s> <s>  </s> <s> w  i   w  </s> <s> w  wn  </s> <s>  </s> <s> </s> <s> int starteven    </s> <s> int startodd  starteven  step  </s> <s> while  starteven lt n  </s> <s>  </s> <s> for  i    i lt step   i  </s> <s>  </s> <s> anext  starteven  i   a  starteven  i   w  i   a  startodd  i  </s> <s> anext  starteven  i  step   a  starteven  i   w  i   a  startodd  i  </s> <s>  </s> <s> starteven    step  </s> <s> startodd  starteven  step  </s> <s>  </s> <s> for  i    i lt n   i  </s> <s> a  i   anext  i  </s> <s>  </s> <s> if  invert   </s> <s> for  i    i lt n   i  </s> <s> a  i  / n  </s> <s>  </s> <s>  </s> <s> </s> <s> một số cách cài đặt khác sử dụng con trỏ cũng làm tăng tốc độ thực thi có thể xem thêm trong trang của emaxx phần tài liệu tham khảo </s> <s> cũng trong trang của emaxx có thể tìm thấy cách cài đặt gộp hai hàm fft và inversefft lại làm một sử dụng một biến bool invert làm cho code ngắn gọn hơn </s> <s> </s> <s> </s> <s> bài tập luyện tập </s> <s> </s> <s> </s> <s> voj post </s> <s> fft problems on codeforces </s> <s> fft problems by aoj </s> <s> com </s> <s> </s> <s> sumofarrays  topcoder srm  và hướng dẫn giải </s> <s> </s> <s> </s> <s> </s> <s> tài liệu tham khảo </s> <s> </s> <s> </s> <s>  rohit thummalapalli </s> <s> fourier transform nature’s way of analyzing data </s> <s> yale scientific   </s> <s> link </s> <s> </s> <s>  alejandro dominguez </s> <s> highlights in the history of the fourier transform </s> <s> ieee pulse  </s> <s> link </s> <s> </s> <s>  stefan woerner </s> <s> fast fourier transform </s> <s> numerical analysis seminar  swiss federal institute of technology zurich  </s> <s> link </s> <s> </s> <s>  fortnow and homer </s> <s> a short history of computational complexity </s> <s> bulletin of the european </s> <s> association for theoretical computer science   june  </s> <s> link </s> <s> </s> <s> bài toán nhân đa thức phép biến đổi fourier nhanh trên csstudyfun </s> <s> wordpress </s> <s> com có chứng minh các tính chất được đề cập trong bài </s> <s> bài giảng của trường dh aalto phần lan </s> <s> code cài đặt của emaxx </s> <s> tutorial on fft — the tough made simple </s> <s>  trên codeforces </s> <s> </s> <s> </s> <s> </s> <s> hàm nhân tính </s> <s> http//vnoi </s> <s> info/wiki/algo/math/multiplicativefunction </s> <s> </s> <s> </s> <s> </s> <s> tác giả  rr </s> <s> </s> <s> table of contents  </s> <s> định nghĩa  </s> <s> ứng dụng   </s> <s>  </s> <s> bước   </s> <s>  </s> <s> bước   </s> <s>  </s> <s> bước   </s> <s> ứng dụng   </s> <s> dirichlet convolution  </s> <s>  </s> <s> ví dụ   </s> <s>  </s> <s> ví dụ   </s> <s>  </s> <s> các hàm nhân tính thường gặp  </s> <s> tổng kết bài luyện tập reference </s> <s> </s> <s> trong bài viết này mình sẽ giới thiệu về hàm nhân tính cũng như ứng dụng của nó trong competitive programming lập trình thi đấu </s> <s> </s> <s> </s> <s>  </s> <s> định nghĩa </s> <s> </s> <s> một hàm fn n in n được coi là hàm nhân tính  multiplicative function  nếu </s> <s> với mọi cặp số nguyên tố cùng nhau n m in n ta có fmnfmfn </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> xét hàm fn là số ước của n </s> <s> ta có </s> <s> </s> <s> f   </s> <s> f   </s> <s> f   </s> <s> f   </s> <s> f   </s> <s> f    f  f </s> <s> f   </s> <s> f   </s> <s> f   </s> <s> f    f  f </s> <s> f    f  f </s> <s> f    f  f </s> <s> </s> <s> ta có thể chứng minh hàm f là hàm nhân tính như sau </s> <s> </s> <s> </s> <s> xét m và n nguyên tố cùng nhau </s> <s> </s> <s> để chứng minh fm  n  fm  fn ta cần chứng minh  chiều </s> <s> </s> <s> </s> <s> mỗi ước của m  n ứng với  cặp a b với a là ước của m và b là ước của n </s> <s> </s> <s> </s> <s> </s> <s> điều này đúng do mỗi ước của m  n ta luôn tách được thành tích của  số a  b với a là ước của m và b là ước của n </s> <s> </s> <s> </s> <s> </s> <s> mỗi cặp a b với a là ước của m và b là ước của n ứng với  ước của m  n </s> <s> </s> <s> </s> <s> </s> <s> điều này đúng do với mỗi cặp a b thì a  b là ước của m  n </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> như vậy fm  n  fm  fn </s> <s> </s> <s> </s> <s>  </s> <s> ứng dụng  </s> <s> </s> <s> giờ ta xét bài toán sau </s> <s> </s> <s> </s> <s> cho số n không quá  </s> <s> tính tất cả các fi với i lt n </s> <s> </s> <s> </s> <s> </s> <s> để làm những bài dạng này ta sẽ có  bước </s> <s> </s> <s> </s> <s> chứng minh f là hàm nhân tính </s> <s> </s> <s> tìm công thức cho fpk với p là số nguyên tố </s> <s> </s> <s> dùng sàng để tính f trong onlogn </s> <s> </s> <s> </s> <s> </s> <s> nếu bạn chưa biết sàng có thể đọc ở đây </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> bước  </s> <s> </s> <s> như đã chứng minh ở phần trước f là hàm nhân tính </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> bước  </s> <s> </s> <s> với một số nguyên tố p ta có fpk  k   do các ước của pk là  p p </s> <s> </s> <s> </s> <s>  pk </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> bước  </s> <s> </s> <s> đầu tiên ta dùng sàng để </s> <s> </s> <s> </s> <s> biết được số nào là số nguyên tố </s> <s> </s> <s> với mỗi số không phải nguyên tố tìm được  ước nguyên tố </s> <s> </s> <s> từ  ta nhanh chóng kiểm tra được  số có dạng pk hay không </s> <s> </s> <s> </s> <s> </s> <s> như vậy ta có thể cài đặt như sau </s> <s> </s> <s> const int mn  e    </s> <s> </s> <s> int sieve  mn  // sàng số nguyên tố </s> <s> sau khi sàng </s> <s> //  sievei   nếu i là số nguyên tố </s> <s> //  ngược lại sievei  một ước bất kỳ của i </s> <s> </s> <s> pair lt int  int gt pk  mn  // nếu i có dạng pk pki  p k </s> <s> </s> <s> // ngược lại pki    </s> <s> int ndiv  mn  // ndivi  số ước của i </s> <s> </s> <s> </s> <s> int main   </s> <s> // sàng số nguyên tố </s> <s> for  int i    i lt   i   // số không nguyên tố có  ước lt  </s> <s> </s> <s> if   sieve  i   </s> <s> for  int j  i  i  j lt   j  i  </s> <s> sieve  j   i  </s> <s>  </s> <s> </s> <s> ndiv       </s> <s> </s> <s> for  int i    i lt   i    </s> <s> if   sieve  i   </s> <s> // i là số nguyên tố </s> <s> </s> <s> pk  i   makepair  i    </s> <s> ndiv  i     </s> <s>  </s> <s> else  </s> <s> int p  sieve  i  // p là ước bất kỳ của i </s> <s> </s> <s> </s> <s> if  pk  i / p  </s> <s> first  p   // i  pk </s> <s> pk  i   makepair  p  pk  i / p  </s> <s> second    </s> <s> ndiv  i   pk  i  </s> <s> second    // ndivpk  k </s> <s> </s> <s>  </s> <s> else  </s> <s> pk  i   makepair       </s> <s> // phân tích i  uv với gcdu v   </s> <s> </s> <s> int u  i  v    </s> <s> while  u  p     </s> <s> u / p  </s> <s> v  v  p  </s> <s>  </s> <s> ndiv  i   ndiv  u   ndiv  v  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s> ứng dụng  </s> <s> </s> <s> ta xét bài toán sau </s> <s> </s> <s> </s> <s> cho số n không quá  </s> <s> tính fn </s> <s> </s> <s> </s> <s> chú ý ở bài toán trước ta cần tính nhiều giá trị của fn với n nhỏ còn trong bài này ta chỉ cần tính duy nhất  giá trị của fn với n lớn </s> <s> </s> <s> </s> <s> cũng như trên ta sẽ làm theo  bước chính </s> <s> </s> <s> </s> <s> chứng minh f là hàm nhân tính </s> <s> </s> <s> tìm công thức cho fpk với p là số nguyên tố </s> <s> </s> <s> phân tích n thành thừa số nguyê tố để tính fn trong osqrtn </s> <s> </s> <s> </s> <s> </s> <s> vì  bước đầu giống hệt phần trước nên mình sẽ không nhắc lại </s> <s> </s> <s> </s> <s> ở bước  bạn chỉ cần xét tất cả các số từ  đến sqrtn từ đó phân tích được thành thừa số nguyên tố </s> <s> code như sau </s> <s> </s> <s> int n  </s> <s> int res    // kết quả </s> <s> for  int i    i  i lt n  i    </s> <s> if  n  i     </s> <s> // i là ước nguyên tố của n </s> <s> // nếu i không nguyên tố và có ước p thì ở bước trước đó </s> <s> // ta đã chia n cho p đến khi n không chia hết cho p </s> <s> </s> <s> int u    k    </s> <s> // u  ik là luỹ thừa lớn nhất của i mà là ước của n </s> <s> </s> <s> while  n  i     </s> <s> n / i  </s> <s> u  u  i  </s> <s> k    </s> <s>  </s> <s> res  res   k    </s> <s>  </s> <s>  </s> <s> </s> <s> if  n gt    // giá trị hiện tại của n là số nguyên tố </s> <s> res  res    </s> <s>  </s> <s> </s> <s>  </s> <s> dirichlet convolution </s> <s> </s> <s> việc chứng minh trực tiếp một hàm là hàm nhân tính như ví dụ về hàm số ước ở trên không hề đơn giản </s> <s> chẳng hạn bạn hãy thử chứng minh hàm fn là hàm nhân tính với fn là tổng các ước của số n </s> <s> dĩ nhiên bạn có thể chứng minh trâu bò bằng cách viết ra một đống công thức tuy nhiên ở mục này mình sẽ hướng dẫn các bạn một phương pháp kỳ diệu hơn </s> <s> </s> <s> </s> <s> với  hàm f và g là hàm nhân tính ta có một hàm nhân tính mới f  g </s> <s> </s> <s>  </s> <s> f  gn  sumddnfdgd </s> <s>  </s> <s> </s> <s> một cách biểu diễn khác là </s> <s> </s> <s>  </s> <s> f  gn  sumd  nfdgn/d </s> <s>  </s> <s> </s> <s> các bạn chú ý kí hiệu d  n nghĩa là n chia hết cho d </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> xét a và b nguyên tố cùng nhau </s> <s> mỗi ước d của ab có thể phân tích duy nhất dưới dạng d  rs trong đó r  a và s  b do gcda b   </s> <s> </s> <s> </s> <s> do đó </s> <s> </s> <s> f  gab </s> <s> </s> <s>  sumra sbfrs gab/rs </s> <s> </s> <s>   sumra sbfr fs ga/r gb/s </s> <s> </s> <s>   sumrafr ga/r sumsbfs gb/s </s> <s> </s> <s>   f  ga f  gb </s> <s> </s> <s> như vậy f  g cũng là hàm nhân tính </s> <s> </s> <s> </s> <s> để hiểu thêm về dirichlet convolution ta xét vài ví dụ </s> <s> </s> <s>  </s> <s>  </s> <s> ví dụ  </s> <s> </s> <s> xét hàm fn   và gn   </s> <s> rõ ràng f và g đều là hàm nhân tính </s> <s> </s> <s> </s> <s>  </s> <s> f  gn  sumd  nfd  gn/d  sumd  n </s> <s>  </s> <s> </s> <s> như vậy f  gn là số ước của số n và là hàm nhân tính </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> ví dụ  </s> <s> </s> <s> xét hàm fn  n và gn   </s> <s> rõ ràng f và g đều là hàm nhân tính </s> <s> </s> <s> </s> <s>  </s> <s> f  gn  sumd  nfd  gn/d  sumd  nd </s> <s>  </s> <s> </s> <s> như vậy f  gn là tổng các ước của n và là hàm nhân tính </s> <s> </s> <s> </s> <s> tổng quát hơn với hằng số k bất kỳ hàm fn  sumd  ndk là hàm nhân tính </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> các hàm nhân tính thường gặp </s> <s> </s> <s> sau đây là các hàm nhân tính thường gặp </s> <s> bạn có thể thử chứng minh những hàm này là hàm nhân tính dựa theo định nghĩa hoặc dirichlet convolution </s> <s> việc nắm được những hàm này sẽ giúp thuận lợi hơn trong việc gỉai những bài liên quan đến hàm nhân tính </s> <s> </s> <s> </s> <s> </s> <s> in   hàm f luôn bằng  với tất cả các giá trị của n </s> <s> </s> <s> idn  n </s> <s> idkn  nk </s> <s> gcdn k với k là hằng số </s> <s> phin số số nguyên tố cùng nhau với n và nhỏ hơn hoặc bằng n phi hàm euler </s> <s> mobiusn hàm mobius thường được dùng trong các bài toán đếm sử dụng nguyên lý bù trừ </s> <s> </s> <s> </s> <s> nếu n có ước là số chính phương khác  mobiusn   </s> <s> </s> <s> nếu n có lẻ ước nguyên tố mobiusn   </s> <s> </s> <s> nếu n có chẵn ước nguyên tố mobiusn   </s> <s> chú ý mobius   </s> <s> </s> <s> </s> <s> </s> <s> fn  sumd nd là tổng các ước của n </s> <s> </s> <s> fkn  sumd  ndk với k là hằng số </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> tổng kết </s> <s> </s> <s> như vậy nếu bạn chứng minh được một hàm f là hàm nhân tính và tìm được công thức o cho fpk thì sẽ dễ dàng tính được tất cả các giá trị fi i le n trong onlogn </s> <s> </s> <s> </s> <s> bạn cũng nên nắm được những hàm nhân tính thường gặp từ đó giúp nhận dạng bài toán dễ dàng hơn </s> <s> </s> <s> </s> <s> bài luyện tập </s> <s> </s> <s> </s> <s> voj  gcdsum </s> <s> </s> <s> </s> <s> gợi ý xét fn  sum le i le ngcdn i </s> <s> </s> <s> </s> <s> </s> <s> cf   e </s> <s> </s> <s> </s> <s> gợi ý tìm cách bỏ phép cộng trong công thức của frn </s> <s> </s> <s> </s> <s> </s> <s> cf   e </s> <s> </s> <s> </s> <s> reference </s> <s> </s> <s> </s> <s> wikipedia </s> <s> </s> <s> </s> <s> </s> <s> định lý wilson </s> <s> http//vnoi </s> <s> info/wiki/translate/he/wilsonstheorem </s> <s> </s> <s> </s> <s> </s> <s> table of contents định lý ví dụ chứng minh luyện tập </s> <s> </s> <s> nguồn hackerearth </s> <s> </s> <s> định lý </s> <s> </s> <s> số tự nhiên ngt là số nguyên tố khi và chỉ khi nequiv n mod  n </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> </s> <s> với n </s> <s> </s> <s> n  </s> <s> </s> <s> n mod n  </s> <s> </s> <s> </s> <s> với n </s> <s> </s> <s> n  </s> <s> </s> <s> n mod n   n do n là số nguyên tố </s> <s> </s> <s> </s> <s> </s> <s> với n </s> <s> </s> <s> n  </s> <s> </s> <s> n mod n  </s> <s> </s> <s> </s> <s> với n </s> <s> </s> <s> n  </s> <s> </s> <s> n mod n   n do n là số nguyên tố </s> <s> </s> <s> </s> <s> </s> <s> với n </s> <s> </s> <s> n  </s> <s> </s> <s> n mod n  </s> <s> </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> mệnh đề đúng với n và n </s> <s> ta giả sử ngt </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> chiều thuận nếu n là số nguyên tố thì nequiv n  mod  n </s> <s> </s> <s> </s> <s> khi n là số nguyên tố thì gcdan với mọi a lt n </s> <s> theo định lý euler ta có </s> <s>  </s> <s> a  an  an equiv   mod n </s> <s>  </s> <s> đặt b  an bmod n </s> <s> với mỗi a thì b là duy nhất và b lt n để ab mod  n   mặt khác ab khi và chỉ khi a hoặc an nên ta có thể tạo ra n over  cặp số a b phân biệt như vậy </s> <s> nhân tất cả các cặp với nhau ta được </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> n  mod  n   </s> <s> </s> <s> rightarrow   </s> <s>  </s> <s>  </s> <s> </s> <s> n mod  n  n </s> <s> </s> <s> rightarrow nequiv n mod  n </s> <s> </s> <s> </s> <s> </s> <s> chiều ngược nếu nequiv n  mod  n thì n là số nguyên tố </s> <s> </s> <s> </s> <s> nếu n là hợp số </s> <s> </s> <s> rightarrow tồn tại ước của n trong khoảng n </s> <s> </s> <s> rightarrow  gcdnngt do n </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> n </s> <s> </s> <s> rightarrow  gcdn bmod nn gt  </s> <s> </s> <s> rightarrow  gcdnn gt  vô lý </s> <s> </s> <s> </s> <s> vậy n phải là số nguyên tố </s> <s> </s> <s> </s> <s> </s> <s> áp dụng </s> <s> </s> <s> </s> <s> định lý wilson cho ta cách tính nhanh n mod  n khi n là số nguyên tố </s> <s> </s> <s> </s> <s> luyện tập </s> <s> </s> <s> </s> <s> factorial again  hackerearth </s> <s> </s> <s> </s> <s> </s> <s> mo algorithm </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/moalgorithm </s> <s> </s> <s> </s> <s> </s> <s> tác giả  nguyễn rr thành trung </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một dãy số a gồm n phần tử </s> <s> cần thực hiện q truy vấn mỗi truy vấn i j yêu cầu tìm modeai </s> <s> </s> <s> </s> <s>  aj </s> <s> mode của một tập hợp là giá trị xuất hiện nhiều lần nhất trong tập hợp đó </s> <s> giới hạn n q ai le  </s> <s> </s> <s> </s> <s> khi đọc đề một bài toán truy vấn kiểu này có lẽ ctdl đầu tiên mà các bạn nghĩ đến là interval tree </s> <s> nhưng có điều gì đó không ổn trong bài này khi có thông tin của  nút con l mid và mid r rất khó để tìm được bất kỳ thông tin hữu ích nào của l r </s> <s> </s> <s> </s> <s> duyệt </s> <s> </s> <s> chúng ta xuất phát từ thuật toán duyệt hồn nhiên như sau </s> <s> </s> <s> </s> <s> với mỗi truy vấn ta for từ trái sang phải đếm số lần xuất hiện </s> <s> </s> <s> trong khi đếm thì ta cập nhật kết quả </s> <s> </s> <s> </s> <s> </s> <s> code đơn giản như sau </s> <s> </s> <s> function mode  l  r   </s> <s> // khởi tạo mảng count  toàn  </s> <s> res     </s> <s> for i  l </s> <s> </s> <s> r  </s> <s> count  a  i     </s> <s> if res    or count  a  i  gt count  res   </s> <s> res  a  i  </s> <s> return res  </s> <s> </s> <s> dễ thấy thuật toán duyệt này có độ phức tạp on  q </s> <s> có  lý do chính khiến thuật toán này chạy chậm </s> <s> </s> <s> </s> <s> khởi tạo mảng count mỗi lần mất on </s> <s> </s> <s> với mỗi truy vấn phải tính lại mảng count từ đầu </s> <s> </s> <s> </s> <s> </s> <s> ta có thể cải tiến được như sau </s> <s> </s> <s> sau khi trả lời truy vấn l r để trả lời truy vấn l r bạn chỉ cần thay đổi mảng đếm một cách phù hợp </s> <s> cụ thể </s> <s> </s> <s> </s> <s> nếu l gt l giảm số lần xuất hiện của al </s> <s> </s> <s> </s> <s>  al </s> <s> nếu l lt l tăng số lần xuất hiện của al </s> <s> </s> <s> </s> <s>  al </s> <s> tương tự với r và r </s> <s> </s> <s> </s> <s> </s> <s> để cập nhật số lần xuất hiện lớn nhất thì có thể dùng thêm set </s> <s> </s> <s> </s> <s> như vậy độ phức tạp của ta là tổng li  li  ri  ri nhân thêm mathcalologn để đếm và tìm phần tử lớn nhất của mảng đếm </s> <s> </s> <s> </s> <s> thuật toán mo </s> <s> </s> <s> thuật toán mo là một cách sắp xếp lại các truy vấn sao cho tổng li  li  ri  ri không quá on  sqrtn  q  sqrtn </s> <s> </s> <s> </s> <s> thứ tự các truy vấn được định nghĩa qua hàm so sánh dưới đây </s> <s> </s> <s> </s> <s> s  sqrt  n  </s> <s> bool cmp  query a  query b  // so sánh  truy vấn </s> <s>  </s> <s> if  a </s> <s> l / s  b </s> <s> l / s   </s> <s> return a </s> <s> l / s lt b </s> <s> l / s  </s> <s>  </s> <s> return a </s> <s> r lt b </s> <s> r  </s> <s>  </s> <s> </s> <s> </s> <s> giải thích  </s> <s> </s> <s> </s> <s> ta chia dãy thành các block nhóm độ dài s  sqrtn </s> <s> </s> <s> nếu đầu trái của truy vấn nằm ở  block khác nhau ta sắp xếp theo đầu trái </s> <s> </s> <s> ngược lại đầu trái của truy vấn nằm ở cùng  block ta sắp xếp theo đầu phải </s> <s> </s> <s> </s> <s> </s> <s> chứng minh  </s> <s> </s> <s> mos algorithm có độ phức tạp là on  sqrtn  q  sqrtn </s> <s> để hiểu tại sao độ phức tạp của thuật toán đạt được như vậy chúng ta hãy cùng xem việc di chuyển các đoạn lr thành lr </s> <s> </s> <s> </s> <s> di chuyển l rightarrow l </s> <s> </s> <s> </s> <s> nếu l và l cùng block với mỗi thao tác độ phức tạp không quá sqrtn </s> <s> do đó độ phức tạp trong trường hợp này của cả q thao tác là oq  sqrtn </s> <s> </s> <s> nếu l và l khác block vì ta ưu tiên sort theo block chứa l nên trường hợp này xảy ra không quá sqrtn lần </s> <s> ở trường hợp này ta mất độ phức tạp tối đa là on nên với tất cả các thao tác độ phức tạp là on  sqrtn </s> <s> </s> <s> </s> <s> </s> <s> di chuyển r rightarrow r </s> <s> </s> <s> </s> <s> nếu l và l cùng block vì trong cùng một block r được sắp xếp tăng dần nên với mỗi block của l ta chỉ mất độ phức tạp tổng là on </s> <s> do có sqrtn block khác nhau của l nên tổng độ phức tạp trong trường hợp này là on  sqrtn </s> <s> </s> <s> nếu l và l khác block như trên đã phân tích ta chỉ có sqrtn lần đổi block mỗi lần đổi block ta mất độ phức tạp on để di chuyển r </s> <s> do đó tổng độ phức tạp của trường hợp này là on  sqrtn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vậy độ phức tạp là on  sqrtn  q  sqrtn </s> <s> </s> <s> </s> <s> áp dụng </s> <s> </s> <s> sử dụng mos algorithm bạn đã có thể thu được một thuật toán hoàn chỉnh cho bài này với độ phức tạp on  sqrtn  q  sqrtn </s> <s> </s> <s> </s> <s> sort tất cả các truy vấn theo mos algorithm </s> <s> </s> <s> gọi sn là một mảng gồm n set có thể cài bằng hash table bảng băm </s> <s> si chứa tất cả các số xuất hiện đúng i lần </s> <s> </s> <s> gọi aval  số lần xuất hiện của val </s> <s> </s> <s> đặt max là chỉ số lớn nhất của mảng s mà smax khác rỗng </s> <s> </s> <s> ta sẽ thêm và xóa một số trong o như sau </s> <s> </s> <s> </s> <s> thêm  số v </s> <s> </s> <s> </s> <s> xóa v khỏi sav </s> <s> </s> <s> tăng av thêm  </s> <s> </s> <s> thêm v vào sav </s> <s> </s> <s> nếu av gt max cập nhật max </s> <s> </s> <s> </s> <s> </s> <s> xóa  số v </s> <s> </s> <s> </s> <s> xóa v khỏi sav </s> <s> </s> <s> giảm av đi  </s> <s> </s> <s> thêm v vào sav </s> <s> </s> <s> nếu smax rỗng giảm max đi  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vì tổng các thao tác thêm và xóa khi áp dụng mos algorithm không quá on  sqrtn  q  sqrtn ta thu được một thuật toán với độ phức tạp này </s> <s> </s> <s> </s> <s> mở rộng </s> <s> </s> <s> với mục đích làm bài toán khó hơn ta xét trường hợp mà ctdl của ta chỉ cho phép thực hiện đúng  thao tác </s> <s> </s> <s> </s> <s> </s> <s> insert  thêm  phần tử vào ctdl thao tác này có độ phức tạp là ologn hoặc o </s> <s> </s> <s> </s> <s> snapshot  lưu lại trạng thái hiện tại của ctdl </s> <s> thao tác này có độ phức tạp on </s> <s> </s> <s> </s> <s> rollback  hồi phục lại trạng thái của ctdl ở lần snapshot cuối </s> <s> thao tác này cũng có độ phức tạp là on </s> <s> </s> <s> </s> <s> </s> <s> một ví dụ của ctdl loại này là disjoint set và việc xử lý truy vấn xuất hiện trong bài toán codechef  gerald </s> <s> </s> <s> </s> <s> cách làm vẫn là áp dụng mos algorithm tuy nhiên vì không thể xóa phần tử nên ta không thể di chuyển từ l sang l một cách dễ dàng được </s> <s> </s> <s> </s> <s> để đơn giản chúng ta chỉ xét những truy vấn l r mà l và r rơi vào  block khác nhau </s> <s> để giải quyết việc không di chuyển ngược được sau khi trả lời truy vấn l r chúng ta cần dùng rollback để đưa l về cuối block chứa l </s> <s> sau đó khi trả lời truy vấn l r chúng ta chỉ cần thực hiện insert từ r đến r và từ l đến cuối block chứa l </s> <s> </s> <s> </s> <s> chi tiết cài đặt </s> <s> </s> <s> rt  sqrt  n  </s> <s> init  // this initializes our data structure clears it </s> <s> snapshot  </s> <s> for all queries q </s> <s> if q </s> <s> r  q </s> <s> l   lt rt   // we process light queries </s> <s> for j  q </s> <s> l to q </s> <s> r </s> <s> insert  j  </s> <s> store answer for query q  </s> <s> rollback  </s> <s> lastbucket     </s> <s> for all queries q </s> <s> if q </s> <s> r  q </s> <s> l   lt rt    continue  </s> <s> bucket  q </s> <s> l / rt  </s> <s> </s> <s> if bucket  lastbucket </s> <s> init  </s> <s> l   bucket     rt  // right border of the bucket </s> <s> r  q </s> <s> r  </s> <s> for j  l to r </s> <s> insert  j  </s> <s> lastbucket  bucket  </s> <s> </s> <s> while r lt q </s> <s> r </s> <s> insert   r  </s> <s> snapshot  </s> <s> for j  q </s> <s> l to l   </s> <s> insert  j  </s> <s> store answer for query q  </s> <s> rollback  </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> codeforces yandex  round   d </s> <s> codechef  gerald </s> <s> </s> <s> </s> <s> </s> <s> xác suất </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/hieuvexacsuat </s> <s> </s> <s> </s> <s> </s> <s> nguồn understanding probabilities  topcoder </s> <s> table of contents cơ bản ví dụ biến cố độc lập birthdayodds các kiến thức nâng cao biến ngẫu nhiên random variable giá trị kỳ vọng expected value linearity of expectation tính xác suất từng bước một nested randomness geneticcrossover khái niệm tóm tắt đề bài phân tích thuật toán ngẫu nhiên bài tập luyện tập </s> <s> </s> <s> xác suất là một nhánh của toán học có rất nhiều ứng dụng trong thực tế chẳng hạn như trong phân tích giá cả thị trường chuẩn bị chiến lược trong thi đấu thể thao dự báo thời tiết </s> <s> </s> <s> bạn có thể đọc thêm về ứng dụng của xác suất trên quora </s> <s> </s> <s> </s> <s> đa số các bài toán về xác suất đều được lấy ví dụ từ thực tế </s> <s> ví dụ </s> <s> </s> <s> </s> <s> kỳ thi sắp đến có  chủ đề cần học và bạn chỉ có đủ thời gian để học  chủ đề </s> <s> nếu trong bài kiểm tra chỉ có  câu hỏi mỗi câu hỏi về  chủ đề thì xác suất bạn có thể trả lời đc cả  câu là bao nhiêu </s> <s> </s> <s> </s> <s> không khó để nhận ra bài tập nào cần dùng kiến thức về xác suất nhưng giải được chúng là một câu chuyện hoàn toàn khác </s> <s> biết cách để tiếp cận những bài toán như vậy là một lợi thế lớn trong các cuộc thi lập trình và bài viết dưới đây sẽ trang bị những kiến thức nền tảng cho bạn </s> <s> </s> <s> </s> <s> cơ bản </s> <s> </s> <s> ta hình dung làm việc với xác suất như tiến hành một cuộc thí nghiệm </s> <s> tập hợp của tất cả những kết quả outcome có thể xảy ra của thí nghiệm được gọi là không gian mẫu  sample space  thường được kí hiệu bởi s </s> <s> mỗi kết quả có thể xảy ra được biểu diễn bởi một và chỉ một điểm trong không gian mẫu </s> <s> </s> <s> </s> <s> chúng ta cùng xem xét ví dụ dưới đây </s> <s> </s> <s> </s> <s> tung xúc sắc một lần </s> <s> </s> <s> </s> <s> không gian mẫu s    </s> <s> </s> <s> </s> <s> tung hai đồng xu </s> <s> </s> <s> </s> <s> không gian mẫu s            với  thể hiện đồng xu sấp và  thể hiện đồng xu ngửa </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ta định nghĩa một biến cố  event  là một tập hợp các kết quả của một thí nghiệm </s> <s> do đó một biến cố là một tập con của không gian mẫu s </s> <s> nếu ta đặt biến cố là e thì e subseteq s </s> <s> một biến cố có thể chỉ bao gồm một kết quả duy nhất trong không gian mẫu </s> <s> biến cố bao gồm nhiều hơn một kết quả được gọi là biến cố phức hợp  compound event  ví dụ như trong thí nghiệm tung  đồng xu ở trên </s> <s> </s> <s> </s> <s> cái chúng ta quan tâm nhất là xác suất để một biến cố nhất định xảy ra pe </s> <s> theo định nghĩa pe là một số thực trong khoảng từ  đến  trong đó  thể hiện biến cố không có khả năng xảy ra và  thể hiện biến cố chắc chắn xảy ra hay là toàn bộ không gian mẫu </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> impossible event biến cố chắc chắn ko thể xảy ra </s> <s> certain biến cố chắc chắn xảy ra </s> <s> even chance biến cố có xác suất  </s> <s> </s> <s> </s> <s> </s> <s> như đã đề cập mỗi kết quả khả thi được biểu diễn bởi đúng một điểm trong không gian mẫu </s> <s> điều này đưa ta đến công thức </s> <s> </s> <s> pe  fracleft  e right left  s right  </s> <s> </s> <s> nói cách khác ta có thể tính xác suất để một biến cố xảy ra bằng cách chia số kết quả thuộc biến cố e cho tổng số kết quả có thể xảy ra theo không gian mẫu s </s> <s> để diễn tả mối quan hệ giữa các biến cố bạn có thể dùng các quy ước từ lý thuyết về tập hợp </s> <s> xét trường hợp tung con xúc sắc một lần </s> <s> như trên ta có s   </s> <s> xem xét những biến cố dưới đây </s> <s> </s> <s> </s> <s> biến cố a điểm gt    </s> <s> biến cố b điểm là số lẻ   </s> <s> biến cố c điểm là   varnothing  </s> <s> a cup b điểm gt  hoặc điểm là số lẻ       </s> <s> a cap b điểm gt  và là số lẻ    </s> <s> a biến cố a không xảy ra     </s> <s> </s> <s> </s> <s> xác suất </s> <s> </s> <s> </s> <s> pa cup b  / </s> <s> pa cap b  / </s> <s> pa’   – pa   – /  /  </s> <s> pc   </s> <s> </s> <s> </s> <s> bước đầu tiên khi giải một bài toán về xác suất là xác định được không gian mẫu </s> <s> tiếp theo bạn sẽ phải xác định số lượng phần tử của biến cố thỏa mãn </s> <s> đây là cách tiếp cận cơ bản nhưng khi áp dụng nó có thể thay đổi tùy vào từng bài tập </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> quizshow srm  div  – easy </s> <s> </s> <s> </s> <s> tóm tắt đề bài </s> <s> </s> <s> trong một cuộc thi bạn đang đấu với  người nữa để tiến vào câu hỏi cuối cùng </s> <s> mỗi người đang sở hữu một số điểm nhất định giành được từ các câu hỏi trước </s> <s> tại câu hỏi này mỗi người sẽ đưa ra số điểm cược trong khoảng từ  đến số điểm đang có nếu trả lời đúng sẽ được số điểm cược này trả lời sai sẽ bị trừ đúng bằng số điểm đã cược </s> <s> để chiến thắng bạn phải là người sở hữu số điểm cao nhất sau khi hoàn thành câu hỏi cuối cùng </s> <s> </s> <s> </s> <s> bạn biết điểm hiện tại của cả  người số nguyên không quá  và giá trị tiền cược của  người kia </s> <s> </s> <s> </s> <s> hỏi bạn nên cược bao nhiêu để xác suất thắng là lớn nhất </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> mấu chốt để giải quyết bài toán là xét đến tất cả các khả năng có thể số lượng này không nhiều </s> <s> sau một lúc đánh giá ta sẽ xác định được không gian mẫu </s> <s> </s> <s> s   </s> <s>  người  đúng người  sai bạn sai </s> <s>  người  đúng người  sai bạn đúng </s> <s>  người  đúng người  đúng bạn sai </s> <s>  người  đúng người  đúng bạn đúng </s> <s> </s> <s>  người  sai người  sai bạn sai </s> <s>  người  sai người  sai bạn đúng </s> <s>  người  sai người  đúng bạn sai </s> <s>  người  sai người  đúng bạn đúng </s> <s>  </s> <s> </s> <s> đề bài yêu cầu bạn tìm số tiền cược để tối đa số kết quả mà trong đó bạn thắng </s> <s> để đếm được số kết quả như vậy cho từng số tiến cược ta cần xác định xem cả ba người chơi sẽ kết thúc với bao nhiêu điểm trong  trường hợp có thể xảy ra </s> <s> ý tưởng được thể hiện trong code dưới đây </s> <s> </s> <s> int wager  vector scores  int wager  int wager  </s> <s>  </s> <s> int best  bet  odds  wage  i  j  k  </s> <s> best    bet    </s> <s> </s> <s> for  wage    wage lt scores    wage   </s> <s>  </s> <s> odds    </s> <s> // odds dem so ket qua tot </s> <s> for  i     i lt   i  i    </s> <s> for  j     j lt   j  j    </s> <s> for  k     k lt   k  k    </s> <s> if  scores     i  wage gt scores     j  wager ampamp </s> <s> scores     i  wage gt scores     k  wager   odds    </s> <s> </s> <s> // mot so tien cuoc tot hon duoc tim thay cap nhat ket qua </s> <s> if  odds gt best   bet  wage  best  odds   </s> <s>  </s> <s> return bet  </s> <s>  </s> <s> </s> <s> một bài thú vị khác là pipecuts srm  div  – easy  bài này có thể giải bằng cách tương tự như trên </s> <s> </s> <s> </s> <s> biến cố độc lập </s> <s> </s> <s> xét n biến cố độc lập  independent events   e e </s> <s> </s> <s> </s> <s>  en </s> <s> hai câu hỏi thường gặp là </s> <s> </s> <s> </s> <s> xác suất để tất cả biến cố xảy ra pall </s> <s> xác suất để ít nhất một biến cố trong số chúng xảy ra pany </s> <s> </s> <s> </s> <s> để trả lời câu hỏi thứ nhất ta xét biến cố đầu tiên e </s> <s> </s> <s> </s> <s> nếu e không xảy ra giả thuyết không còn đúng nữa </s> <s> </s> <s> vì vậy phải chắc rằng e sẽ xảy ra với xác suất pe </s> <s> điều này có nghĩa là có xác suất pe để ta kiểm tra sự xảy ra của biến cố tiếp theo gọi là e </s> <s> </s> <s> biến cố e xảy ra với xác suất là pe và chúng ta có thể tiếp tục quá trình này tương tự như vậy </s> <s> </s> <s> </s> <s> </s> <s> vì xác suất được định nghĩa là một số thực nằm trong khoảng từ  đến  ta tổng hợp được xác suất để tất cả các biến cố xảy ra bằng công thức dưới đây </s> <s> </s> <s> pall  pe  pe  </s> <s> </s> <s> </s> <s>  pen  </s> <s> </s> <s> cách tốt nhất để trả lời câu hỏi thứ hai là tìm xác suất để không có biến cố nào diễn ra và lấy phần bù </s> <s> </s> <s> </s> <s> pany    pe  pe  </s> <s> </s> <s> </s> <s>  pen  </s> <s> </s> <s> những công thức trên được ứng dụng rất nhiều cần nắm chắc để đi đền phần tiếp theo </s> <s> </s> <s> </s> <s> birthdayodds </s> <s> </s> <s> một ví dụ điển hình để mô tả nội dung xác suất được bàn luận ở phần trên là nghịch lí về ngày sinh  birthday paradox  nếu có ít nhất  người trong một căn phòng xác suất để  người bất kì trong số họ có cùng ngày sinh là lớn hơn  </s> <s>  </s> <s> thoạt nhìn kết quả này có vẻ trái ngược với trực giác thông thường nhưng nó hoàn toàn có thể được chứng minh bằng toán học </s> <s> </s> <s> </s> <s> bây giờ một bài toán đặt ra là tìm số người nhỏ nhất để xác suất có ít nhất  người trong số họ cùng ngày sinh nhật là lớn hơn x  </s> <s> đôi khi trong các bài toán xác suất cách tiếp cận dễ dàng hơn là thử giải bài toán ngược tìm xác suất để n người ngẫu nhiên có ngày sinh khác nhau </s> <s> chiến thuật là bắt đầu với một cái phòng rỗng và lần lượt thêm từng người một vào và so sánh ngày sinh của người đó với tất cả những người đã có trong phòng </s> <s> </s> <s> </s> <s> int minpeople  int minodds  int days   </s> <s> int nr  </s> <s> double target  p  </s> <s> </s> <s> target     double  minodds /   </s> <s> nr    </s> <s> p    </s> <s> </s> <s> while  p gt target   </s> <s> p  p    double     double  nr / days  </s> <s> nr   </s> <s>  </s> <s> </s> <s> return nr  </s> <s>  </s> <s> </s> <s> các bài toán về xác suất có thể rất phức tạp và nhiều khi kết quả tạo cảm giác mâu thuẫn với những nhận đinh thông thường của chúng ta ví dụ như nghịch lí về ngày sinh ở trên hoặc một ví dụ khác là bài toán monty hall  </s> <s> để có thể giải nhưng bài toán như vậy một cách thành thạo ngoài việc nắm chắc các công thức toán học các bạn cũng cần luyện tập cho mình một lối tư duy trực giác toán học nhạy bén để tránh đưa ra những nhận định sai lầm về bài toán </s> <s> các bạn có thể làm bài kiểm tra để đánh giá trực giác toán học của mình </s> <s> </s> <s> </s> <s> các kiến thức nâng cao </s> <s> </s> <s> biến ngẫu nhiên random variable </s> <s> </s> <s> random variable là một biến mà giá trị của nó là kết quả của một lần thí nghiệm </s> <s> ví dụ </s> <s> </s> <s> </s> <s> x là giá trị của xúc sắc </s> <s> </s> <s> x là  lần giá trị xúc sắc có thể viết   x </s> <s> x là bình phương giá trị xúc sắc </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giá trị kỳ vọng expected value </s> <s> </s> <s> với x là  random variable ex là giá trị trung bình của x nếu ta thực hiện thí nghiệm vô số lần </s> <s> ta cũng có thể hình dung như giá trị trung bình có trọng số </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> có  lớp học </s> <s> </s> <s> </s> <s> lớp a có  học sinh và điểm trung bình là  </s> <s> lớp b có  học sinh và điểm trung bình là  </s> <s> </s> <s> </s> <s> điểm trung bình của tất cả học sinh là </s> <s> </s> <s>        /        /      /  </s> <s> </s> <s> các trọng số  /  và  /  được nhân thêm do số lượng trường hợp điểm  và  khác nhau </s> <s> </s> <s> </s> <s> công thức tổng quát </s> <s> </s> <s> ex  probx      probx      </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> linearity of expectation </s> <s> </s> <s> linearity of expectation là  kĩ năng rất quan trọng nhất khi làm các bài về expected value </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> tung  xúc sắc </s> <s> tính expected value của tổng giá trị  xúc sắc </s> <s> </s> <s> </s> <s> </s> <s> xét riêng từng xúc sắc </s> <s> </s> <s> </s> <s> đặt ex là expected value của giá trị xúc sắc  </s> <s> đặt ex là expected value của giá trị xúc sắc  </s> <s> </s> <s> </s> <s> ex  ex  /    /    </s> <s> </s> <s> </s> <s>  /     </s> <s>  </s> <s> </s> <s> </s> <s> linearity of expectation cho ta công thức sau </s> <s> </s> <s> ex  x  ex  ex   </s> <s> </s> <s> </s> <s> phát biểu chính xác </s> <s> </s> <s> nếu x x </s> <s> </s> <s> </s> <s>  xk là các random variable có cùng không gian mẫu </s> <s> </s> <s> ex  a  x  a  </s> <s> </s> <s> </s> <s>  xk  ak  a  ex  a  ex  </s> <s> </s> <s> </s> <s>  ak  exk </s> <s> </s> <s> </s> <s> chú ý rằng các biến không cần độc lập </s> <s> </s> <s> </s> <s> tính xác suất từng bước một </s> <s> </s> <s> trong phần dưới đây chúng ta sẽ tiếp tục thảo luận một vài bài tập trên topcoder mà trong đó xác suất của một biến cố bị ảnh hưởng bởi biến cố khác </s> <s> </s> <s> </s> <s> chúng ta có thể hình dung nó như một đồ thị mà trong đó </s> <s> </s> <s> </s> <s> mỗi nút là một biến cố </s> <s> mỗi cạnh thể hiện sự phụ thuộc giữa các biến cố </s> <s> </s> <s> </s> <s> </s> <s> so sánh này hơi gượng ép nhưng cách chúng ta tính toán xác suất cho các biến cố rất giống cách chúng ta duyệt qua các đỉnh của đồ thị ta bắt đầu ở gốc  là trạng thái ban đầu và có xác suất là  </s> <s> sau đó ta xem xét các cạnh kề để đến các khả năng khác nhau kèm theo các xác suất tương ứng </s> <s> </s> <s> </s> <s> nested randomness </s> <s> </s> <s> tóm tắt đề bài  </s> <s> </s> <s> hàm randomn trả về một số nguyên ngẫu nhiên trong khoảng từ  đến n mỗi số có xác suất được trả lại như nhau và bằng /n </s> <s> </s> <s> </s> <s> giờ xét randomrandomn </s> <s> để dễ hình dung ta xét n </s> <s> </s> <s> </s> <s> </s> <s> randomn trả lại các số nguyên  đến  với xác suất bằng nhau là / </s> <s> </s> <s> </s> <s> randomrandomn  ta có  trường hợp với xác suất bằng nhau phụ thuộc vào kết quả của hàm random bên trong </s> <s> </s> <s> </s> <s> </s> <s> random  được gọi với xác suất / báo lỗi </s> <s> </s> <s> random  được gọi với xác suất / luôn trả về  </s> <s> </s> <s> random  được gọi với xác suất / trả về  hoặc  với xác suất / </s> <s> </s> <s> </s> <s> random  được gọi với xác suất / trả về   hoặc  với xác suất / </s> <s> </s> <s> </s> <s> </s> <s> nếu xét tiếp randomrandomrandomn  </s> <s> </s> <s> </s> <s> </s> <s> random  được gọi với xác suất /  /  /  / </s> <s> </s> <s> random  được gọi với xác suất /  /  / </s> <s> </s> <s> random  được gọi với xác suất / </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ta hình dung bằng hình sau </s> <s> </s> <s> </s> <s> </s> <s> code để giải bài này </s> <s> </s> <s> double probability  int n  int nestings  int target   </s> <s> int i  j  k  </s> <s> double a    b    </s> <s> // ai la xac suat de so i xuat hien </s> <s> </s> <s> for  i    i lt n  i   </s> <s> a  i    double   / n  </s> <s> </s> <s> for  k    k lt nestings  k    </s> <s> for  i    i lt n  i   </s> <s> b  i     </s> <s> </s> <s> // voi moi i giua  den n ta goi ham randomi </s> <s> // theo yeu cau de bai </s> <s> for  i    i lt n  i   </s> <s> for  j    j lt i  j   </s> <s> b  j    double  a  i  / i  </s> <s> </s> <s> for  i    i lt n  i   </s> <s> a  i   b  i  </s> <s>  </s> <s> return a  target  </s> <s>  </s> <s> </s> <s> bài tập tương tự </s> <s> </s> <s> </s> <s> </s> <s> chessknight  </s> <s> </s> <s> dicethrows  </s> <s> </s> <s> rockskipping  </s> <s> </s> <s> pointsystem  </s> <s> volleyball </s> <s> </s> <s> </s> <s> geneticcrossover </s> <s> </s> <s> khái niệm </s> <s> </s> <s> ở bài này có khái niệm về xác suất có điều kiện  conditional probability  </s> <s> </s> <s> </s> <s> xác suất có điều kiện là xác suất để một biến cố a nào đó xảy ra biết rằng một biến cố b khác đã xảy ra </s> <s> </s> <s> </s> <s> </s> <s> ký hiệu pab và đọc là xác suất của a biết b </s> <s> nếu a và b là các biến cố và pb gt  thì xác suất có điều kiện của a nếu biết b là </s> <s> </s> <s> pab  fracpa cap bpb </s> <s> </s> <s> tương đương ta có </s> <s> </s> <s> pa cap b  pab pb </s> <s> </s> <s> tóm tắt đề bài </s> <s> </s> <s> theo di truyền học ở động vật mỗi cặp gen sẽ biểu thị một tính trạng </s> <s> mỗi gen có hai dạng cơ bản là trội hoặc lặn </s> <s> nếu trong cặp gen có gen trội thì tính trạng của gen trội này sẽ được thể hiện ra ngoài ngược lại trường hợp cả hai đều là gen lặn thì tính trạng của gen lặn này sẽ được thể hiện ra ngoài </s> <s> </s> <s> </s> <s> ngoài ra một số gen còn có tính phụ thuộc </s> <s> nếu một gen phụ thuộc vào một gen khác thì gen đó chỉ có thể thể hiện tính trội nếu gen nó phụ thuộc vào cũng thể hiện tính trội </s> <s> bên cạnh đó có những gen không phụ thuộc vào bất cứ gen nào khác và tính trạng của nó sẽ được thể hiện như trong đoạn đầu </s> <s> đảm bảo không có trường hợp một gen phụ thuộc vào chính nó hay chuỗi phụ thuộc tạo thành một vòng ví dụ i phụ thuộc j j phụ thuộc k k phụ thuộc i </s> <s> </s> <s> </s> <s> cho n cặp gen của cá thể bố mẹ và một số thông tin về chúng </s> <s> với mỗi cặp gen cá thể bố/mẹ sẽ cho con của chúng một trong hai gen </s> <s> ví dụ như cá thể mẹ có hai chuỗi gen là ‘abc’ và ‘abc’ thì với cặp gen đầu tiên cá thể mẹ có thể cho cá thể con gen ‘a’ hoặc ‘a’ với cặp thứ hai là ‘b’ hoặc ‘b’ và cứ thế </s> <s> tương tự cá thể bố sẽ cho cá thể con một gen trong từng cặp như vậy </s> <s> sau cùng cá thể con sẽ nhận được n cặp gen từ bố và mẹ </s> <s> </s> <s> chất lượng con giống của cá thể con được đánh giá dựa vào tính trạng thể hiện ở mỗi cặp gen </s> <s> nếu cặp gen thứ i thể hiện tính trạng trội chất lượng con giống sẽ được cộng thêm troii  còn nếu là tính trạng lặn thì sẽ cộng thêm lani </s> <s> </s> <s> </s> <s> nhiệm vụ của bạn là tính giá trị kì vọng của chất lượng con giống </s> <s> </s> <s> </s> <s> bạn sẽ được cung cấp  chuỗi gen thể hiện n n le  cặp gen của cá thể mẹ  chuỗi gen thể hiện n cặp gen của cá thể bố  mảng n số nguyên thể hiện quan hệ phụ thuộc giữa các gen  mảng n số nguyên troii va lani là giá trị công thêm cho chất lượng con giống gen thứ i thể hiện tính trạng trội / lăn </s> <s> </s> <s> </s> <s> từ những dữ liệu trên bạn cần xuất ra giá trị kì vọng cần tìm </s> <s> </s> <s> </s> <s> nd giá trị kì vọng được tính bằng cách lấy tổng của tất cả tích các giá trị có thể xảy ra với xác suất để xảy ra giá trị đó </s> <s> ví dụ </s> <s> </s> <s> </s> <s> giá trị chất lượng con giống xác suất để đạt giá trị này </s> <s> </s> <s> </s> <s>    </s> <s>  </s> <s>    </s> <s>  </s> <s>    </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vậy giá trị kì vọng của chất lượng con giống sẽ là    </s> <s>      </s> <s>      </s> <s>    </s> <s>  </s> <s> </s> <s> phân tích </s> <s> </s> <s> dựa vào mô tả đề bài có hai trường hợp có thể xảy ra một gen không phụ thuộc vào gen khác hoặc gen này có phụ thuộc </s> <s> </s> <s> </s> <s> trường hợp thứ nhất gọi p là xác suất mà gen này là gen trội </s> <s> có  trường hợp </s> <s> </s> <s> </s> <s> ít nhất bố hoặc mẹ có hai gen trội p   </s> <s> mỗi bố hoặc mẹ có đúng một gen trội p   </s> <s>  </s> <s> mỗi bố hoặc mẹ có một gen trội và người còn lại có duy nhất một gen lặn p   </s> <s>  </s> <s> cả hai bố mẹ có hai gen lặn p   </s> <s> </s> <s> </s> <s> trường hợp thứ hai gen này có phụ thuộc vào một gen khác </s> <s> điều này làm bài toán trở nên phức tạp hơn do gen bị phụ thuộc có thể lại phụ thuộc vào một gen khác nữa và cứ thế </s> <s> </s> <s> </s> <s> do đó để xác định được xác suất mà một gen phụ thộc là gen trội ta cần xét xác suất để mỗi gen trong chuỗi phụ thuộc bắt đầu từ gen đang xét đều là gen trội </s> <s> xác suất để gen đang xét là gen trội sẽ bằng tích của tất cả các xác suất đó </s> <s> thuật toán thực hiện một cách đệ quy và đây code hoàn chỉnh cho bài tập này </s> <s> </s> <s> int n  d    </s> <s> double power    </s> <s> </s> <s> // here we determine the characteristic for each gene in poweri </s> <s> // we keep the probability of gene i to be expressed dominantly </s> <s> double detchr  string pa  string pb  string pa  string pb  int nr   </s> <s> double p  p  p  </s> <s> p  p  p   </s> <s>   </s> <s> if  pa  nr  lt z  </s> <s> p  p   </s> <s>   </s> <s> </s> <s> // is a dominant gene </s> <s> if  pb  nr  lt z  </s> <s> p  p   </s> <s>   </s> <s> if  pa  nr  lt z  </s> <s> p  p   </s> <s>   </s> <s> if  pb  nr  lt z  </s> <s> p  p   </s> <s>   </s> <s> p    p  p  </s> <s> </s> <s> if  d  nr     </s> <s> power  nr   p  detchr  pa  pb  pa  pb  d  nr  </s> <s> // gene nr is dependent on gene dnr </s> <s> else power  nr   p  </s> <s> return power  nr  </s> <s>  </s> <s> </s> <s> double cross  string pa  string pb  string pa  string pb  </s> <s> vector dom  vector rec  vector dependencies   </s> <s> int i  </s> <s> double fitness   </s> <s>   </s> <s> </s> <s> </s> <s> n  rec </s> <s> size  </s> <s> for  i    i lt n  i   </s> <s> d  i   dependencies  i  </s> <s> for  i    i lt n  i   </s> <s> power  i     </s> <s>   </s> <s> for  i    i lt n  i   </s> <s> if  power  i     </s> <s>   </s> <s> detchr  pa  pb  pa  pb  i  </s> <s> </s> <s> // we check if the dominant character of gene i has </s> <s> // not already been computed </s> <s> for  i    i lt n  i   </s> <s> fitness  fitness   double  power  i   dom  i    double     power  i   rec  i  </s> <s> // we compute the expected quality of an animal based on the </s> <s> // probabilities of each gene to be expressed dominantly </s> <s> </s> <s> return fitness  </s> <s>  </s> <s> </s> <s> bài tương tự probabilitytree </s> <s> </s> <s> thuật toán ngẫu nhiên </s> <s> </s> <s> ta gọi những thuật toán ngẫu nhiên là những thuật toán sử dụng hàm ngẫu nhiên để đưa ra quyết định trong quá trình chạy </s> <s> không giống như những thuật toán đã xác định trước với mỗi dữ liệu vào xác định thì sẽ cho ra duy nhất một kết quả ra cũng như thời gian chạy thuật toán ngẫu nhiên có thể biểu hiện khác nhau trong mỗi lần chạy </s> <s> về cơ bản ta sẽ phân biệt hai loại của thuật toán ngẫu nhiên </s> <s> </s> <s> </s> <s> thuật toán monte carlo có thể đưa ra kết quả sai  tuy nhiên xác suất của sai sót là chấp nhận được </s> <s> </s> <s> thuật toán las vegas luôn cho kết quả đúng và điểm khác biệt giữa các lần chạy với cùng một dữ liệu vào là thời gian chạy  ta sẽ nghiên cứu và sự phân phối theo xác suất của thời gian chạy </s> <s> </s> <s> </s> <s> </s> <s> tham khảo tài liệu từ college of engineering at uiuc để xem cách các thuật toán này hoạt động </s> <s> </s> <s> </s> <s> mục tiêu chính của thuật toán ngẫu nhiêu là để tìm kiếm một hướng tiếp cận đơn giản hơn cho những bài toán phức tạp hoặc không có lời giải </s> <s> những thuật toán ngẫu nhiên không đảm bảo sẽ luôn tìm được kết quả tối ưu nhất nhưng chúng có thể tìm được một kết quả đủ tốt trong một giới hạn về thời gian và bộ nhớ chấp nhận được </s> <s> </s> <s> </s> <s> một câu hỏi thú vị được đưa ra là liệu những thuật toán như vậy có ích trong các kì thi lập trình hay không </s> <s> khi bạn không nghĩ ra một cách nào để giải hướng đi hợp lý là thử cài một cách random </s> <s> độ tốt của việc random phụ thuộc nhiều vào tính chất của bài toán và khi có kinh nghiệm cũng như cảm nhận toán học tốt bạn có thể đoán được là random có thể chạy đúng được với bài toán hay không </s> <s> tham khảo queeninterference </s> <s> </s> <s> trong các bài toán tối ưu hóa nếu số nghiệm tối ưu khá nhiều so với số khả năng có thể xảy ra một thuật toán random đơn giản như sau cũng có thể có hi vọng chạy đúng </s> <s> </s> <s> max    attempt    </s> <s> while  attempt lt max   </s> <s> answer  solverandom  </s> <s> </s> <s> </s> <s>  </s> <s> if  better  answer  optimum  </s> <s> // tìm được kết quả tốt hơn </s> <s>  </s> <s> optimum  answer  </s> <s> cout ltlt solution  ltlt answer ltlt  found on step  ltlt attempt ltlt  n   </s> <s>  </s> <s> attempt   </s> <s>  </s> <s> </s> <s> bài tập luyện tập </s> <s> </s> <s> nd mình không chép lại danh sách bài tập trong bài viết gốc ở topcoder do sau này tác giả có thể chỉnh sửa hay bổ sung </s> <s> các bạn xem cuối bài viết gốc trên topcoder để luyện tập thêm </s> <s> </s> <s> </s> <s> </s> <s> toán học trong tin học </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/mathematicsfortopcoders </s> <s> </s> <s> </s> <s> </s> <s> bài viết gốc mathematics for topcoders  đăng bởi dimkadimon trên topcoder </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> nhiều người thi topcoder phàn nàn khi trong đề có quá nhiều toán – điểm yếu của họ </s> <s> cá nhân tôi là một người rất yêu toán vì vậy có lẽ tôi sẽ có chút thiên vị trong vấn đề này </s> <s> nhưng tôi hoàn toàn tin tưởng rằng các bài tập nên có ít nhất một chút toán học và khoa học máy tính phải đi liền với toán học </s> <s> thật khó có thể tưởng tượng khi mà cả hai lĩnh vực này cũng tồn tại mà không hề có bất kỳ sự tương tác nào lẫn nhau </s> <s> ngày nay toán học được áp dụng rất nhiều trong tin học để giải những hệ phương trình hàng nghìn ẩn hay tìm nghiệm xấp xỉ đối với những phương trình mà không có công thức nghiệm tổng quát </s> <s> toán học còn được sử dụng rộng rãi trong việc nghiên cứu về khoa học máy tính cũng như là áp dụng cho các thuật toán về đồ thị  graph algorithms  và lĩnh vực thị giác máy tính  computer vision  </s> <s> </s> <s> </s> <s> bài viết này sẽ phân tích về lý thuyết và ứng dụng của một vài cấu trúc toán học phổ biến </s> <s> các chủ đề được đề cập tới bao gồm </s> <s> </s> <s> </s> <s> số nguyên tố </s> <s> </s> <s> ước chung lớn nhất gcd </s> <s> </s> <s> hình học cơ bản </s> <s> </s> <s> hệ cơ số </s> <s> </s> <s> phân số và số phức </s> <s> </s> <s> </s> <s> </s> <s> số nguyên tố </s> <s> </s> <s> một số tự nhiên là số nguyên tố khi và chỉ khi nó chỉ chia hết cho  và chính nó </s> <s> ví dụ như      và  đều là số nguyên tố trong khi  thì không phải bởi nó chia hết cho  và  </s> <s> để xác định xem một số tự nhiên n có phải là số nguyên tố hay không ta chỉ cần đơn giản kiểm tra xem nó có chia hết cho bất kỳ số nào nhỏ hơn nó và lớn  hay không </s> <s> chúng ta có thể sử dụng phép chia có dư toán tử  để kiểm tra khả năng chia hết của nó </s> <s> </s> <s> java </s> <s> </s> <s> for  int i    i lt n  i  </s> <s> if  n  i    return false  </s> <s> </s> <s> return true  </s> <s> </s> <s> pascal </s> <s> </s> <s> for i   to n   do </s> <s> if  n mod i    then exit  false  </s> <s> </s> <s> exit  true  </s> <s> </s> <s> chúng ta còn có thể làm cho đoạn mã này chạy nhanh hơn nữa bằng việc nhận ra rằng ta chỉ cần xét khả năng chia hết cho mọi giá trị i lớn hơn  và nhỏ hơn hoặc bằng với phần nguyên của căn bậc  của n tạm gọi là m </s> <s> tại sao lại thế nhỉ đấy là bởi vì nếu n chia hết cho bất kỳ số nào lớn hơn m thì kết quả nhận được cũng chỉ là một số nhỏ hơn hoặc bằng m </s> <s> một cải tiến nữa là ta thấy rằng không tồn tại bất kỳ một số nguyên tố chẵn nào lớn hơn  </s> <s> như vậy sau khi đã kiểm tra rằng n là số lẻ thì ta có thể an tâm tăng biến i lên  giá trị </s> <s> đây sẽ là đoạn mã áp dụng phương thức kiểm tra số nguyên tố mới nhất này </s> <s> </s> <s> java </s> <s> </s> <s> public boolean isprime  int n  </s> <s>  </s> <s> if  n lt   return false  </s> <s> if  n    return true  </s> <s> if  n      return false  </s> <s> int m  math </s> <s> sqrt  n  </s> <s> </s> <s> for  int i    i lt m  i    </s> <s> if  n  i    </s> <s> return false  </s> <s> </s> <s> return true  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> function isprime  n  integer  boolean  </s> <s> var </s> <s> i  integer  </s> <s> m  integer  </s> <s> begin </s> <s> if  n lt   exit  false  </s> <s> if  n    exit  true  </s> <s> if  n mod     exit  false  </s> <s> i    </s> <s> m  trunc  sqrt  n  </s> <s> while  i lt m  do </s> <s> begin </s> <s> if  n mod i    exit  false  </s> <s> inc  i    </s> <s> end  </s> <s> exit  true  </s> <s> end  </s> <s> </s> <s> giả sử chúng ta cần phải tìm mọi số nguyên tố trong khoảng   thì chẳng lẽ ta phải gọi hàm kiểm tra  lần sao việc lặp đi lặp lại các phép kiểm tra tương tự thật sự không hiệu quả chút nào </s> <s> trong tình huống này phương pháp tối ưu nhất chính là sử dụng sàng nguyên tố eratosthenes sieve of eratosthenes </s> <s> sàng nguyên tố eratosthenes sẽ xác định toàn bộ những số nguyên tố trong khoảng  n </s> <s> trước hết sàng nguyên tố sẽ giả định mọi số tự nhiên từ  đến n là số nguyên tố </s> <s> kế đến nó sẽ chọn ra số nguyên tố đầu tiên và xóa đi những bội nhỏ hơn bằng n của số nguyên tố đó </s> <s> và nó lại tiếp tục quá trình bằng lựa một số nguyên tố tiếp theo và xóa đi các bội của nó </s> <s> quá trình này sẽ tiếp tục diễn ra cho đến khi mà mọi số đều đã xử lý </s> <s> ví dụ ta sẽ tìm các số nguyên tố trong khoảng   </s> <s> trước hết ta hãy ghi ra dãy số đó </s> <s> </s> <s>                    </s> <s> </s> <s> bởi vì  là số nguyên tố đầu tiên nên ta sẽ loại bỏ đi tất cả những bội của  và nhỏ hơn bằng  </s> <s> </s> <s> </s> <s>           </s> <s> </s> <s> bởi vì  là số đầu tiên chưa bị bỏ nên ta sẽ lựa chọn  là số nguyên tố tiếp theo và loại bỏ đi tất cả những bội của  và nhỏ hơn bằng  </s> <s> </s> <s> </s> <s>         </s> <s> </s> <s> tiếp đến ta sẽ chọn  ta thấy không còn bội nào của  nhỏ hơn bằng  còn sót nên ta lại tiếp tục xét đến  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> và giờ thì tất cả những số còn sót lại chính là các số nguyên tố mà ta cần tìm </s> <s> dưới đây là đoạn mã cho sàng nguyên tố eratosthenes </s> <s> </s> <s> java </s> <s> </s> <s> public boolean  sieve  int n  </s> <s>  </s> <s> boolean  prime  new boolean  n    </s> <s> arrays </s> <s> fill  prime  true  </s> <s> prime     false  </s> <s> prime     false  </s> <s> int m  math </s> <s> sqrt  n  </s> <s> </s> <s> for  int i    i lt m  i  </s> <s> if  prime  i  </s> <s> for  int k  i  i  k lt n  k  i  </s> <s> prime  k   false  </s> <s> </s> <s> return prime  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> //mảng kiểm tra số nguyên tố prime </s> <s> </s> <s> n </s> <s> </s> <s> function sieve  n  integer  boolean  </s> <s> var </s> <s> i  m  integer  </s> <s> begin </s> <s> fillchar  prime  sizeof  prime    </s> <s> prime     false  </s> <s> prime     false  </s> <s> </s> <s> m  trunc  sqrt  n  </s> <s> for i   to m do </s> <s> if  prime  i  then </s> <s> for j  i to n div i do </s> <s> prime  i  j   false  </s> <s> end  </s> <s> </s> <s> ở đoạn mã trên ta sẽ tạo một mảng prime nơi sẽ chứa các giá trị nguyên trong khoảng  n </s> <s> primei là true nếu i là số nguyên tố và ngược lại </s> <s> vòng lặp bên ngoài sẽ tìm kiếm số nguyên tố tiếp theo trong khi vòng lặp bên trong sẽ loại bỏ đi tất cả những bội nhỏ hơn bằng n của số nguyên tố đó </s> <s> </s> <s> </s> <s> ước chung lớn nhất </s> <s> </s> <s> ước chung lớn nhất greatest common divisor của hai số tự nhiên a và b là số lớn nhất mà cả a và b đều chia hết </s> <s> để tìm được gcda b một cách đơn giản ta có thể lấy số nhỏ hơn trong hai số a và b rồi giảm dần cho đến khi nào có được một số mà cả a và b đều cùng chia hết cho số đó </s> <s> </s> <s> </s> <s> java </s> <s> </s> <s> for  int i  math </s> <s> min  a  b  i gt   i  </s> <s> if  a  i   ampamp b  i    </s> <s> return i  </s> <s> </s> <s> pascal </s> <s> </s> <s> for i  min  a  b  downto  do </s> <s> if  a mod i    and  b mod i    then exit  i  </s> <s> </s> <s> mặc dù phương pháp này đủ nhanh để đáp ứng phần lớn các trường hợp song ta vẫn còn một cách nhanh hơn nữa đó chính là thuật toán euclid </s> <s> thuật toán euclid sẽ lặp đi lặp lại việc xử lý hai số cho đến khi mà phần dư của chúng bằng  </s> <s> ví dụ giả sử chúng ta muốn tìm ước chung lớn nhất của hai số  và  </s> <s> đầu tiên ta sẽ phân tích số lớn hơn là  thành bội của  cộng thêm cho phần dư </s> <s> </s> <s> </s> <s>    x    </s> <s> </s> <s> ta sẽ thực hiện tương tự với  và  </s> <s> </s> <s> </s> <s>    x    </s> <s> </s> <s> ta tiếp tục quá trình cho đến khi phần dư bằng  </s> <s> </s> <s> </s> <s>    x    </s> <s>    x    </s> <s> </s> <s> và phần dư cuối cùng mà khác  chính là ước chung lớn nhất mà ta cần tìm </s> <s> vậy ước chung lớn nhất của  và  chính là  </s> <s> thuật toán trên sẽ được mô phỏng lại bằng một đoạn mã đệ quy đơn giản </s> <s> </s> <s> java </s> <s> </s> <s> // giả định rằng a và b đều khác  </s> <s> public int gcd  int a  int b  </s> <s>  </s> <s> if  b    return a  </s> <s> return gcd  b  a  b  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> // giả định a và b đều khác  </s> <s> function gcd  a  b  integer  integer  </s> <s> begin </s> <s> if  b    then exit  a  </s> <s> else exit  gcd  b  a mod b  </s> <s> end  </s> <s> </s> <s> đặc biệt thuật toán euclid còn được áp dụng trong việc tìm bội chung nhỏ nhất lcm của hai số tự nhiên </s> <s> ví dụ bội chung nhỏ nhất của  và  là  vì  là số nhỏ nhất mà chia hết cho cả a lẫn b </s> <s> dưới đây là đoạn mã cho việc tìm bội chung nhỏ nhất </s> <s> </s> <s> java </s> <s> </s> <s> public int lcm  int a  int b  </s> <s>  </s> <s> return b  a / gcd  a  b  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> function lcm  a  b  integer  integer  </s> <s> begin </s> <s> exit  a  b / gcd  a  b  </s> <s> end  </s> <s> </s> <s> một chú ý cuối cùng đó là việc thuật toán euclid còn có thể dùng để giải phương trình tìm nghiệm nguyên diophantine </s> <s> đó là những phương trình có hệ số và ẩn số nguyên a b c x y in n và được biểu diễn như sau </s> <s> </s> <s> ax  by  c </s> <s> </s> <s> xem thêm thuật toán euclid mở rộng </s> <s> </s> <s> hình học </s> <s> </s> <s> đôi khi bài toán yêu cầu ta tìm phần giao của các hình chữ nhật với các cạnh song song trục tọa độ </s> <s> có rất nhiều cách để biểu diễn một hình chữ nhật </s> <s> đối với hệ trục tọa độ cartesian thì cách biểu diễn phổ biến nhất chính là lưu giữ giá trị tọa độ của góc trái  dưới và góc phải  trên của hình chữ nhật </s> <s> </s> <s> </s> <s> giả sử chúng ta có hai hình chữ nhật r và r </s> <s> đặt x y là tọa độ góc trái  dưới x y là tọa độ góc phải  trên của hình chữ nhật r </s> <s> tương tự với r ta đặt x y x y lần lượt là tọa độ góc trái  dưới và góc phải  trên của r </s> <s> phần giao của r và r sẽ là hình chữ nhật r có tọa độ trái  dưới là maxx x maxy y và tọa độ góc phải  trên là minx x miny y </s> <s> nếu maxx x gt minx x hoặc maxy y gt miny y thì sẽ không tồn tại hình chữ nhật r hay nói các khác là r và r không giao nhau </s> <s> công thức này còn được mở rộng ra hơn không gian  chiều giống như là trong bài cuboidjoin srm  div  hard </s> <s> </s> <s> </s> <s> thường thì khi làm bài chúng ta sẽ phải đối mặt với những đa giác mà đỉnh của nó là số nguyên </s> <s> những đa giác đó được gọi là đa giác lưới lattice polygon </s> <s> trong phần hướng dẫn cơ bản về khái niệm hình học  geometry concepts  lbackstrom đã trình bày một cách ngắn gọn cách tính diện tích thông qua các cạnh của đa giác </s> <s> bây giờ giả sử ta không biết được chính xác vị trí các cạnh mà thay vào đó ta có được các giá trị sau </s> <s> </s> <s> b  số lượng điểm nằm ở trên cạnh đa giác boundary </s> <s> i  số lượng điểm nằm trong đa giác inside </s> <s> </s> <s> thật vi diệu thông qua hai giá trị trên ta có thể tính được diện tích đa giác bằng công thức sau </s> <s> </s> <s> diện tích  b/  i   </s> <s> </s> <s> công thức trên được gọi là định lý pick được chứng minh bởi georg alexander pick  –  </s> <s> để chứng minh được rằng định lý pick có tính chất bao quát cho toàn bộ mọi đa giác lưới ta chứng minh theo  bước </s> <s> </s> <s> </s> <s> bước  chứng minh định lý pick đúng với mọi hình chữ nhật lưới có cạnh song song với trục tọa độ </s> <s> </s> <s> bước  chứng minh được định lý pick vẫn đúng với mọi tam giác vuông có hai cạnh song song với trục tọa đô bởi chúng là phân nửa diện tích một hình chữ nhật lưới có tọa độ một đỉnh là góc vuông của tam giác và có cạnh là các cạnh góc vuông của tam giác </s> <s> </s> <s> bước  chứng minh định lý pick đúng với mọi tam giác bởi một tam giác bất kỳ đều có thể biểu diễn thành một hình chữ nhật bằng cách ghép cặp với một vài tam giác vuông khác </s> <s> </s> <s> bước  ta thấy rằng mọi cặp  đa giác lưới có chung cạnh sẽ tạo thành một đa giác lưới khác bằng cách xóa đi cạnh chung và mọi đa giác lưới đều có thể tạo ra bằng cách ghép các hình tam giác </s> <s> </s> <s> </s> <s> </s> <s> tổng hợp lại  bước trên và ta sẽ thu được kết quả rằng định lý pick đúng với mọi đa giác lưới </s> <s> định lý pick khá hữu ích khi ta cần tìm số điểm có tọa độ nguyên bên trong một đa giác lớn </s> <s> </s> <s> </s> <s> một công thức đáng nhớ khác đó chính là công thức euler dành cho các khối đa diện </s> <s> khối đa diện được định nghĩa là một khối một đa giác mà ta có thể chia thành nhiều đa giác nhỏ hơn </s> <s> các đa giác nhỏ hơn được gọi là mặt cách đỉnh của mặt cũng được gọi là đỉnh của khối đa diện và tương tự các cạnh của mặt cũng gọi là cạnh </s> <s> dưới đây là công thức euler </s> <s> </s> <s> </s> <s> v  e  f   với </s> <s> v  số đỉnh của khối </s> <s> e  số cạnh của khối </s> <s> f  số mặt của khối </s> <s> </s> <s> ví dụ xét một hình vuông mà cả hai đường chéo đều được vẽ </s> <s> ta sẽ có v   e   và f   phần nằm ngoài hình vuông cũng được coi như là một mặt ta sẽ có v  e  f   </s> <s> </s> <s> </s> <s> ta có thể sử dụng quy nạp để chứng minh nó như sau ta sẽ bắt đầu với v   vì mỗi đỉnh đều cần phải có ít nhất một cạnh </s> <s> và nếu v   thì chỉ có xảy ra duy nhất một dạng khối đa diện mà thôi </s> <s> đó là dạng khối đa diện mà hai cạnh sẽ nối với e đỉnh </s> <s> khối đa diện nãy cũng sẽ có e mặt e mặt bên trong hình và  mặt ngoài hình </s> <s> thế nên v  e  f    e  e   điều phải chứng minh </s> <s> giờ ta giả sử định lý euler đúng với v từ  n xét v  n </s> <s> chọn một cạnh w bất kỳ </s> <s> giờ giả định w nối với tất cả những lưới còn lại có g đỉnh </s> <s> nếu bỏ đi cạnh w này và những đỉnh mà nó nối ta sẽ có một lưới với n cạnh e  g đỉnh và fg mặt </s> <s> từ giả định trên ta có </s> <s> </s> <s> n  e  g  f  g     </s> <s> n  e  f   </s> <s> </s> <s> vậy với v  n ta cũng vẫn thu được kết quả là v  e  f   </s> <s> vậy là với phương pháp quy nạp toán học ta đã chứng minh được định lý euler </s> <s> </s> <s> </s> <s> hệ cơ số </s> <s> </s> <s> một trong những bài toán mà người thi topcoder đối mặt nhiều nhất đó chính là việc chuyển đổi số từ hệ cơ số nhị phân sang hệ cơ số thập phân và ngược lại cùng với nhiều hệ cơ số khác </s> <s> </s> <s> </s> <s> vậy hệ cơ số nghĩa là gì ta sẽ bắt đầu với hệ cơ số tiêu chuẩn hệ thập phân </s> <s> xét số  ở hệ cơ số  </s> <s> ta thấy  có thể phân tích thành        </s> <s> chú ý rằng mỗi giá trị của chữ số tiếp theo sau của số được nhân thêm tích số  khi ta xét từ phải qua trái </s> <s> hệ nhị phân cũng hoạt động theo cách tương tự như thế </s> <s> nó sử dụng hai chữ số  và  và giá trị của từng chữ số sẽ được nhân thêm  khi ta xét từ phải qua trái </s> <s> ví dụ số  ở dạng nhị phân có thể biểu diễn thành                và trở lại thành số ở hệ thập phân là  </s> <s> và đây chính là cách để ta chuyển từ số ở hệ nhị phân hoặc bất kỳ hệ số nào về hệ cơ số thập phân </s> <s> sau đây là đoạn mã để chuyển số n từ một hệ cơ số b  le b le n thành hệ cơ số thập phân </s> <s> </s> <s> </s> <s> java </s> <s> </s> <s> public int todecimal  int n  int b  </s> <s>  </s> <s> int result    </s> <s> int multiplier    </s> <s> </s> <s> while  n gt   </s> <s>  </s> <s> result  n    multiplier  </s> <s> multiplier  b  </s> <s> n /   </s> <s>  </s> <s> </s> <s> return result  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> function todectimal  n  b  integer  integer  </s> <s> var </s> <s> mul  integer    </s> <s> </s> <s> begin </s> <s> result    </s> <s> </s> <s> while  n gt   do </s> <s> begin </s> <s> result  result   n mod    mul  </s> <s> mul  mul  b  </s> <s> n  n div   </s> <s> end  </s> <s> end  </s> <s> </s> <s> người dùng java hẳn sẽ rất vui khi biết rằng vẫn có cách khác đơn giản hơn để thực hiện việc này </s> <s> </s> <s> </s> <s> return integer </s> <s> parseint    n  b  </s> <s> </s> <s> để chuyển một số từ hệ thập phần về hệ nhị phân cũng khá đơn giản </s> <s> giả sử ta muốn chuyển số  từ hệ thập phân về hệ nhị phân </s> <s> tại bước đầu của công thức ta sẽ chia đôi  và lưu lại giá trị phần dư tiếp tục xử lý với số được chia đôi đó cho đến khi nó bằng  </s> <s> và danh sách số dư sau cuối cùng cũng chính là cách biểu diễn số nhị phân cần tìm </s> <s> </s> <s> </s> <s> /    dư  </s> <s> /    dư  </s> <s> /    dư  </s> <s> /    dư  </s> <s> /    dư  </s> <s> /    dư  </s> <s> </s> <s> vậy  sẽ được biểu diễn thành  ở dạng nhị phân </s> <s> bằng việc thay số  thành số b ta có thể chuyển từ hệ thập phân về bất kỳ hệ cơ số b nào  </s> <s> </s> <s> java </s> <s> </s> <s> public int fromdecimal  int n  int b  </s> <s>  </s> <s> int result    </s> <s> int multiplier    </s> <s> </s> <s> while  n gt   </s> <s>  </s> <s> result  n  b  multiplier  </s> <s> multiplier    </s> <s> n / b  </s> <s>  </s> <s> </s> <s> return result  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> function fromdecimal  n  b  integer  integer  </s> <s> var </s> <s> mul  integer    </s> <s> begin </s> <s> result    </s> <s> </s> <s> while  n gt   do </s> <s> begin </s> <s> result  result   n mod b   mul  </s> <s> mul  mul    </s> <s> n  n div b  </s> <s> end  </s> <s> end  </s> <s> </s> <s> đối với trường hợp b lớn hơn  ta sẽ xử dụng các ký tự không phải chữ số để đại diện cho các số từ  trở lên </s> <s> ví dụ ta sẽ để a đại diện cho  b cho  </s> <s> </s> <s> </s> <s> đoạn mã sau đây sẽ cho phép ta chuyển từ số thập phân sang bất kỳ hệ cơ số nào lên đến  </s> <s> </s> <s> </s> <s> java </s> <s> </s> <s> public string fromdecimal  int n  int b  </s> <s>  </s> <s> string chars  abcdefghij  </s> <s> string result    </s> <s> </s> <s> while  n gt   </s> <s>  </s> <s> result  chars </s> <s> charat  n  b   result  </s> <s> n / b  </s> <s>  </s> <s> </s> <s> return result  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> function fromdecimal  n  b  integer  string  </s> <s> var </s> <s> chars  string  abcdefghij  </s> <s> begin </s> <s> result    </s> <s> </s> <s> while  n gt   do </s> <s> begin </s> <s> result  chars  n mod b     result  </s> <s> n  n div b  </s> <s> end  </s> <s> end  </s> <s> </s> <s> trong java ta có thể sử dụng những cách tắt sau để chuẩn từ hệ thập phân sang như hệ số thông dụng khác như là hệ nhị phân hệ bát phân hệ thập lục phân </s> <s> </s> <s> </s> <s> integer </s> <s> tobinarystring  n  </s> <s> integer </s> <s> tooctalstring  n  </s> <s> integer </s> <s> tohexstring  n  </s> <s> </s> <s> phân số và số phức </s> <s> </s> <s> phân số thường được gặp rất nhiều trong các bài tập </s> <s> thường thì vấn đề khó khăn nhất mà ta cần phải đối mặt đó chính là việc biểu diễn các phân số đó </s> <s> mặc dù nó hoàn toàn khả thi trong việc tạo ra một lớp class khác để lưu trữ một cách đầy đủ các thông tin về phần số nhưng trong nhiều trường hợp thì cách thường dùng nhất là sử dụng mảng lưu  giá trị bằng cách ghép cặp pair </s> <s> ý tưởng là ta sẽ lưu số đầu tiên là tử số số thứ hai là mẫu số </s> <s> ta sẽ bắt đầu bằng việc nhân hai phân số a và b </s> <s> </s> <s> java </s> <s> </s> <s> public int  multiplyfractions  int  a  int  b  </s> <s>  </s> <s> int  c   a     b    a     b    </s> <s> return c  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> type </s> <s> ps  record </s> <s> x  y  integer  </s> <s> end  </s> <s> </s> <s> function multiplyfractions  a  b  ps  ps  </s> <s> var </s> <s> c  ps  </s> <s> begin </s> <s> c </s> <s> x  a </s> <s> x  b </s> <s> x  </s> <s> c </s> <s> y  a </s> <s> y  b </s> <s> y  </s> <s> exit  c  </s> <s> end  </s> <s> </s> <s> cộng phân số thì có một chút phức tạp hơn bởi chỉ có nhưng phân số có cùng mẫu số mới có thể cộng trực tiếp </s> <s> trước hết ta sẽ tìm mẫu số chung của hai phân số và nhân tử số hai phân số theo tỉ số giữa mẫu số cũ với mẫu số chung </s> <s> mẫu số chung là số có thể chia hết cho cả mẫu của hai phân số hay đơn giản hơn đó chính là bội chung nhỏ nhất của hai mẫu số </s> <s> ví dụ để cộng hai phân số / và / </s> <s> bội chung nhỏ nhất của  và  là  </s> <s> để chuyển đổi hai phân số ta sẽ lấy phân số thứ nhất nhân cho / và số thứ hai cho / </s> <s> </s> <s> </s> <s> /  /  /      /    /  / </s> <s> </s> <s> một khi hai phân số đã có mẫu số bằng nhau thì ta chỉ cần đơn giản cộng hai phân số đó lại và nhận kết quả cuối cùng là phân số / </s> <s> trừ cũng rất đơn giản chỉ khác nhau ở bước cuối cùng </s> <s> </s> <s> </s> <s> /  /  /  /  / </s> <s> </s> <s> đây là đoạn mã cho chương trình công hai phân số </s> <s> </s> <s> java </s> <s> </s> <s> public int  addfractions  int  a  int  b  </s> <s>  </s> <s> int denom  lcm  a    b    </s> <s> int  c   denom / a     a     denom / b     b    denom  </s> <s> return c  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> function addfractions  a  b  ps  ps  </s> <s> var </s> <s> denom  integer  </s> <s> begin </s> <s> denom  lcm  a </s> <s> y  b </s> <s> y  </s> <s> result </s> <s> x  denom div a </s> <s> y  a </s> <s> x  denom div b </s> <s> y  b </s> <s> x  </s> <s> result </s> <s> y  denom  </s> <s> end  </s> <s> </s> <s> cuối cùng nó rất cần thiết để biết được cách tối giản phân số thành phân số tối giản </s> <s> và phân số chỉ tối giản khi và chỉ khi ước chung lớn nhất của tử số và mẫu số là  </s> <s> chúng ta sẽ làm như sau </s> <s> </s> <s> java </s> <s> </s> <s> public void reducefraction  int  a  </s> <s>  </s> <s> int b  gcd  a    a    </s> <s> a    / b  </s> <s> a    / b  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> procedure reducefraction  var a  ps  </s> <s> var </s> <s> b  integer  </s> <s> begin </s> <s> b  gcd  a </s> <s> x  a </s> <s> y  </s> <s> a </s> <s> x  a </s> <s> x div b  </s> <s> a </s> <s> y  a </s> <s> y div b  </s> <s> end  </s> <s> </s> <s> bằng phương pháp tương tự ta cũng có thể biểu diễn được số phức </s> <s> một cách tổng quát số phức được biểu diễn dưới dạng a  ib với a b là số thực và i là căn bậc hai của  </s> <s> ví dụ để cộng hai số phức ta sẽ cộng đơn giản như sau </s> <s> </s> <s> m  n </s> <s>  a  bi  c  di </s> <s>  a  c  b  d </s> <s> </s> <s> việc nhân hai số phức cũng tương tự như việc nhân số thực trừ việc ii bằng  </s> <s> </s> <s> </s> <s> m  n </s> <s>  a  ib  c  id </s> <s>  ac  iad  ibc  ibd </s> <s>  ac  bd  iad  bc </s> <s> </s> <s> bằng việc lưu trữ phần số thực ở phần tử thứ nhất và phần số phức ở phần tử thứ hai trong một mảng hai giá trị như đoạn mã dưới đây </s> <s> </s> <s> java </s> <s> </s> <s> public int  multiplycomplex  int  m  int  n  </s> <s>  </s> <s> int  prod   m    n     m    n    m    n     m    n    </s> <s> return prod  </s> <s>  </s> <s> </s> <s> pascal </s> <s> </s> <s> function multiplycomplex  m  n  ps  ps  </s> <s> begin </s> <s> result </s> <s> x  m </s> <s> x  n </s> <s> x  m </s> <s> y  n </s> <s> y  </s> <s> result </s> <s> y  m </s> <s> x  n </s> <s> y  m </s> <s> y  n </s> <s> x  </s> <s> end  </s> <s> </s> <s> tổng kết </s> <s> </s> <s> tổng kết lại tôi chỉ muốn nói rằng bạn không thể đạt rating cao ở topcoder mà không nắm rõ toán học và những thuật toán nêu trên </s> <s> thường thì một trong những chủ đề toán học thường gặp nhất trong các bài tập đó là số nguyên tố </s> <s> tiếp đó là những bài về hệ cơ số mà nguyên nhân chủ yếu là vì máy tính hoạt động dựa trên hệ nhị phân nên ta cần phải biết cách chuyển từ hệ nhị phân về hệ thập phân </s> <s> còn công thức tính ước chung lớn nhất gcd và bội chung nhỏ nhất lcm thì được dùng nhiều trong cả những bài tập thuần toán và cả hình học </s> <s> cuối cùng tôi viết chủ đề phân số và số phức là việc nó không chỉ cần thiết cho việc thi topcoder mà bởi nó còn vô cùng quan trọng khi làm việc với những con số </s> <s> </s> <s> </s> <s> </s> <s> bao lồi convex hull </s> <s> http//vnoi </s> <s> info/wiki/translate/wcipeg/convexhull </s> <s> </s> <s> </s> <s> </s> <s> nguồn wcipeg </s> <s> </s> <s> table of contents giải thích trực quan về bao lồi trên mặt phẳng thuật toán tìm bao lồi trên mặt phẳng thuật toán bọc gói thuật toán graham cài đặt thuật toán chuỗi đơn điệu cài đặt xử lí trường hợp suy biến ứng dụng bao lồi d bài tập áp dụng </s> <s> </s> <s> trong hình học tính toán  computational geometry  bao lồi  convex hull  của một tập điểm là tập lồi nhỏ nhất theo diện tích thể tích </s> <s> </s> <s> </s> <s>  mà tất cả các điểm đều nằm trong tập đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giải thích trực quan về bao lồi trên mặt phẳng </s> <s> </s> <s> </s> <s> nếu ta coi các điểm trong một tập hợp là các cái đinh đóng trên một tấm gỗ bao lồi của tập điểm đó có viền ngoài tạo bởi sợi dây chun mắc vào các cái đinh sau khi bị kéo căng về các phía </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nếu ta coi các điểm trong một tập hợp là các con cừu trên đồng cỏ bao lồi của tập điểm đó có viền ngoài là hàng rào có độ dài nhỏ nhất bao quanh tất cả các con cừu </s> <s> nếu ta coi các điểm trong một tập hợp là các đầu mút có thể của các hàng rào bao lồi của tập điểm đó có viền ngoài là các hàng rào thẳng có điểm đầu và điểm cuối thuộc tập điểm đó và bao quanh diện tích lớn nhất </s> <s> </s> <s> nếu ta coi các điểm trong một tập hợp là các cái cây chu vi của bao lồi là độ dài tối thiểu của dải ruy băng bao quanh tất cả các cây đó </s> <s> </s> <s> </s> <s> </s> <s> thuật toán tìm bao lồi trên mặt phẳng </s> <s> </s> <s> bài toán tìm bao lồi của một tập điểm trên mặt phẳng là một trong những bài toán được nghiên cứu nhiều nhất trong hình học tính toán và có rất nhiều thuật toán để giải bài toán này </s> <s> sau đây là ba thuật toán phổ biến nhất được giới thiệu theo thứ tự tăng dần về độ khó </s> <s> </s> <s> </s> <s> thuật toán bọc gói </s> <s> </s> <s> thuật toán bọc gói  gift wrapping algorithm  hay còn gọi là thuật toán jarvis march là một trong những thuật toán tìm bao lồi đơn giản và dễ hiểu nhất </s> <s> tên thuật toán xuất phát từ sự tương tự của thuật toán với việc đi bộ xung quanh các điểm và cầm theo một dải băng gói quà </s> <s> </s> <s> </s> <s> </s> <s> bước đầu tiên của thuật toán là chọn một điểm chắc chắn nằm trong bao lồi ví dụ điểm có tung độ lớn nhất nếu có nhiều điểm cùng có tung độ lớn nhất thì có thể chọn điểm tung độ lớn nhất và hoành độ lớn nhất </s> <s> </s> <s> xuất phát từ điểm này mục tiêu của ta là sẽ lần lượt đi đến các điểm khác cho đến khi quay trở lại điểm ta chọn lúc đầu </s> <s> </s> <s> ban đầu ta nhìn về phía bên phải </s> <s> khi đi đến các điểm khác ta sẽ lưu lại </s> <s> </s> <s> </s> <s> điểm p mà ta đang chọn </s> <s> vector vecv chỉ hướng ta đang nhìn </s> <s> </s> <s> </s> <s> </s> <s> tiếp theo thuật toán sẽ lặp lại liên tục các bước sau cho đến khi tìm được bao lồi </s> <s> </s> <s> </s> <s> </s> <s> ta quay mặt theo chiều kim đồng hồ cho đến khi ta nhìn thấy một điểm gọi điểm đó là q </s> <s> </s> <s> rồi ta cầm theo dải băng và đi đến điểm q </s> <s> khi ta đến điểm đấy ta thay </s> <s> </s> <s> </s> <s> vecv thành vecpq </s> <s> p thành q </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán kết thúc khi ta quay trở về điểm ban đầu </s> <s> lúc này ta đã đi đến tất cả các đỉnh của bao lồi theo chiều kim đồng hồ </s> <s> </s> <s> </s> <s> </s> <s> để xác định điểm ta nhìn thấy đầu tiên khi ta quay mặt theo chiều kim đồng hồ ta duyệt tất cả các điểm r trong tập ngoại trừ điểm p </s> <s> với mỗi điểm ta xét vector vecuvecpr vecu tạo với vecv một góc theta nhỏ nhất sẽ tương ứng với điểm q dễ dàng chứng minh được điều này </s> <s> để tìm theta nhỏ nhất ta tìm costheta lớn nhất mà ta lại dễ dàng tính được costheta bằng công thức fracvecu </s> <s> vecvvecuvecv </s> <s> </s> <s> </s> <s> với mỗi lần tìm điểm tiếp theo ta cần duyệt qua tất cả các điểm trong tập vì vậy độ phức tạp của mỗi lần tìm điểm là on với n là số lượng điểm trong tập </s> <s> số lần tìm điểm tiếp theo phụ thuộc vào số lượng điểm là đỉnh của bao lồi gọi số lượng điểm đó là h khi đó độ phức tạp của cả thuật toán là onh </s> <s> trong trường hợp xấu nhất hn hay tất cả các điểm trong dữ liệu vào tạo thành một đa giác lồi độ phức tạp của thuật toán là on không đủ nhanh khi ngt </s> <s> </s> <s> </s> <s> thuật toán graham </s> <s> </s> <s> thuật toán graham có độ phức tạp trong trường hợp xấu nhất nhỏ hơn thuật toán bọc gói song thuật toán graham lại phức tạp hơn </s> <s> </s> <s> </s> <s> </s> <s> đầu tiên ta xác định một điểm mà chắc chắn thuộc bao lồi </s> <s> thông thường khi cài đặt người ta chọn điểm có tung độ nhỏ nhất nếu có nhiều điểm như vậy thì chọn điểm trái nhất </s> <s> gọi điểm này là điểm o </s> <s> </s> <s> chọn hệ trục tọa độ có gốc là điểm vừa chọn đổi các tọa độ các điểm còn lại theo hệ trục tọa độ mới chú ý lúc cài đặt thường ta không đổi trục tọa độ nhưng khi tính góc hoặc sắp xếp ở bước tiếp theo cần chú ý tránh nhầm lẫn </s> <s> </s> <s> tiếp theo ta sắp xếp các điểm còn lại theo thứ tự tăng dần của góc tạo bởi trục hoành theo chiều dương và vecoi với i là một trong các điểm còn lại </s> <s> </s> <s> ta xét các điểm theo thứ tự ta vừa sắp xếp với mỗi điểm ta sửa lại bao lồi h </s> <s> gọi điểm đầu tiên được cho vào bao lồi h là h điểm cuối cùng là hh ban đầu h   </s> <s> khi xét mỗi điểm ta làm như sau </s> <s> </s> <s> </s> <s> thêm điểm p vào cuối bao lồi h </s> <s> tức là ta tăng h lên  và đặt hhp </s> <s> </s> <s> nếu hlt xét tiếp điểm tiếp theo ngược lại làm bước  </s> <s> </s> <s> xét  điểm hhhh− và hh− </s> <s> có thể sau khi cho thêm điểm hh ta biết được điểm hh− chắc chắn không nằm trong bao </s> <s> gọi vecu overrightarrowhh−hh− và vecv overrightarrowhh−hh </s> <s> nếu khi đi theo hướng vecv rồi đi theo hướng vecu là ta đã bẻ góc ngược chiều kim đồng hồ hay vecu times vecv gt  thì cả ba điểm đều tạm thuộc bao và ta xét tiếp điểm tiếp theo </s> <s> nhưng nếu vecu times vecv lt  thì góc widehathh−hh−hh sẽ tạo ra đa giác lõm và điểm hh− phải bị loại bỏ có nghĩa là hh− được đặt là hh và h giảm đi  </s> <s> sau đó quay lại bước  cho đến khi xét hết các điểm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> hình minh họa </s> <s> </s> <s> </s> <s> ta đang xây dựng bao lồi đến vị trí h   </s> <s> góc widehathh−hh−hh lõm nên ta cần bỏ điểm h khỏi bao lồi </s> <s> </s> <s> </s> <s> sau quá trình trên ta đã có một bao lồi hh </s> <s> </s> <s> </s> <s> hh sắp xếp ngược chiều kim đồng hồ </s> <s> </s> <s> </s> <s> để đảm bảo ta loại bỏ điểm và thêm điểm với độ phức tạp o ta có thể dùng cấu trúc dữ liệu stack </s> <s> </s> <s> </s> <s> về độ phức tạp của thuật toán ta thấy bước sắp xếp các điểm có độ phức tạp on logn </s> <s> mỗi điểm được cho vào bao nhiều nhất một lần nên tổng độ phức tạp của các bước thêm điểm là on và mỗi điểm bị loại ra khỏi bao nhiều nhất một lần nên tổng độ phức tạp của các bước xóa điểm là on do đó độ phức tạp của bước xét các điểm là on </s> <s> vậy độ phức tạp của thuật toán graham là on logn phù hợp cho hầu hết các bài toán </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> type </s> <s> point  record // kiểu dữ liệu điểm </s> <s> x  y  real  </s> <s> ind  integer  // chỉ số trong mảng ban đầu </s> <s> end  </s> <s> </s> <s> var </s> <s> n  integer  // số điểm </s> <s> a  b  array   </s> <s> </s> <s> maxn  of point  // a mảng input b bao lồi </s> <s> </s> <s> procedure swap  var p  p  point  // hàm đổi chỗ  điểm </s> <s> var </s> <s> temp  point  </s> <s> begin </s> <s> temp  p  p  p  p  temp  </s> <s> end  </s> <s> </s> <s> function ccw  p  p  p  point  integer  // xem từ p gt p gt p là rẽ trái  đi thẳng  hay rẽ phải  </s> <s> var </s> <s> t  a  a  b  b  real  </s> <s> begin </s> <s> a  p </s> <s> x  p </s> <s> x  </s> <s> b  p </s> <s> y  p </s> <s> y  </s> <s> a  p </s> <s> x  p </s> <s> x  </s> <s> b  p </s> <s> y  p </s> <s> y  </s> <s> t  a  b  a  b  </s> <s> if abs  t  lt esp then ccw   </s> <s> else if t lt  then ccw   </s> <s> else ccw    </s> <s> end  </s> <s> </s> <s> function lower  p  p  point  boolean  // so sánh để sắp xếp các điểm theo góc </s> <s> var </s> <s> c  integer  </s> <s> begin </s> <s> c  ccw  a    p  p  </s> <s> lower  false  </s> <s> if  c gt   then lower  true </s> <s> else if  c    and  p </s> <s> x lt p </s> <s> x  or  p </s> <s> x  p </s> <s> x  and  p </s> <s> y lt p </s> <s> y  </s> <s> then lower  true  </s> <s> end  </s> <s> </s> <s> procedure quicksort  // sắp xếp các điểm của mảng a theo góc </s> <s> procedure sort  l  r  integer  </s> <s> var </s> <s> i  j  integer  </s> <s> x  point  </s> <s> begin </s> <s> i  l  j  r  x  a  l  r  div   </s> <s> repeat </s> <s> while lower  a  i  x  do inc  i  </s> <s> while lower  x  a  j  do dec  j  </s> <s> if i lt j then </s> <s> begin </s> <s> swap  a  i  a  j  </s> <s> inc  i  dec  j  </s> <s> end  </s> <s> until i gt j  </s> <s> if i lt r then sort  i  r  </s> <s> if l lt j then sort  l  j  </s> <s> end  </s> <s> begin </s> <s> if n gt  then sort    n  </s> <s> end  </s> <s> </s> <s> procedure graham  </s> <s> var </s> <s> i  c  integer  </s> <s> begin </s> <s> // tìm điểm có tung độ nhỏ nhất </s> <s> c    </s> <s> for i   to n do </s> <s> if  a  i  </s> <s> y lt a  c  </s> <s> y  or  a  i  </s> <s> y  a  c  </s> <s> y  and  a  i  </s> <s> x lt a  c  </s> <s> x  then </s> <s> c  i  </s> <s> // đổi chỗ điểm tung độ nhỏ nhất về a </s> <s> swap  a  c  a    </s> <s> </s> <s> m    b     a    b     a    </s> <s> b    </s> <s> ind    b    </s> <s> ind    </s> <s> for i   to n do </s> <s> begin </s> <s> // loại bỏ bm nếu ta xác định được nó không thuộc bao lồi </s> <s> while  m gt   and  ccw  b  m    b  m  a  i      do dec  m  </s> <s> </s> <s> // thêm điểm ai vào bao lồi </s> <s> inc  m  </s> <s> b  m   a  i  </s> <s> b  m  </s> <s> ind  i  </s> <s> end  </s> <s> end  </s> <s> </s> <s> bạn cũng có thể tham khảo thêm cài đặt c ở đây </s> <s> </s> <s> thuật toán chuỗi đơn điệu </s> <s> </s> <s> thuật toán chuỗi đơn điệu  monotone chain  vừa dễ cài đặt vừa là thuật toán nhanh nhất trong số  thuật toán được giới thiệu trong bài viết này </s> <s> thuật toán dựa trên việc tìm hai chuỗi đơn điệu của bao lồi chuỗi trên và chuỗi dưới </s> <s> ta thấy điểm ở xa về phía bên phải nhất từ đây gọi là điểm phải nhất và điểm ở xa về phía bên trái nhất từ đây gọi là điểm trái nhất trong dữ liệu vào luôn là hai đỉnh của bao lồi </s> <s> phần bao lồi theo chiều kim đồng hồ tính từ điểm trái nhất và ngược chiều kim đồng hồ tính từ điểm phải nhất gọi là chuỗi trên phần còn lại của bao lồi gọi là chuỗi dưới </s> <s> ta sẽ tìm chuỗi trên và chuỗi dưới độc lập với nhau </s> <s> </s> <s> </s> <s> </s> <s> bước đầu tiên là sắp xếp các điểm được cho theo thứ tự tăng dần theo hoành độ </s> <s> nếu hai điểm có cùng hoành độ điểm có tung độ nhỏ hơn sẽ đứng trước </s> <s> </s> <s> ta xét việc xây dựng chuỗi trên </s> <s> gọi h là chuỗi trên hiện tại và độ lớn của bao là h </s> <s> điểm đầu của chuỗi là h và điểm cuối là hh </s> <s> với mỗi điểm được xét </s> <s> </s> <s> </s> <s> thêm điểm này vào h </s> <s> </s> <s> nếu hlt xét tiếp điểm tiếp theo </s> <s> </s> <s> gọi vecuoverrightarrowhhhh và vecvoverrightarrowhhhh </s> <s> lần này do ta đang di chuyển theo chiều kim đồng hồ để tìm chuỗi trên ta kiểm tra xem vecu times vecv có nhỏ hơn  hay không </s> <s> nếu có ta xét tiếp điểm tiếp theo </s> <s> nếu không ta loại bỏ hh và quay lại bước  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sau khi xét hết các điểm h sẽ chứa toàn bộ các điểm ở chuỗi trên </s> <s> sau đó ta tìm chuỗi dưới bằng cách tương tự chỉ khác là ta xét các điểm theo thứ tự ngược lại tức là ta xét điểm trái nhất trước </s> <s> lưu ý không thêm điểm phải nhất hai lần </s> <s> khi thuật toán kết thúc h sẽ chứa tất cả các đỉnh của bao lồi với điểm đầu được lặp lại ở cuối </s> <s> </s> <s> </s> <s> thuật toán này cũng có độ phức tạp on logn </s> <s> thuật toán chuỗi đơn điệu được khuyên dùng ở mọi bài toán tìm bao lồi do nó đơn giản hơn thuật toán graham và nhanh hơn một chút do ta không phải tính góc </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> struct pt  // kiểu điểm </s> <s> double x  y  </s> <s>  </s> <s> </s> <s> bool cmp  pt a  pt b   // so sánh theo tọa độ x trong trường hợp bằng nhau so sánh theo y </s> <s> return a </s> <s> x lt b </s> <s> x  a </s> <s> x  b </s> <s> x ampamp a </s> <s> y lt b </s> <s> y  </s> <s>  </s> <s> </s> <s> bool cw  pt a  pt b  pt c   // a gt b gt c đi theo thứ tự xuôi chiều kim đồng hồ </s> <s> return a </s> <s> x   b </s> <s> y  c </s> <s> y   b </s> <s> x   c </s> <s> y  a </s> <s> y   c </s> <s> x   a </s> <s> y  b </s> <s> y  lt   </s> <s>  </s> <s> </s> <s> bool ccw  pt a  pt b  pt c   // a gt b gt c đi theo thứ tự ngược chiều kim đồng hồ </s> <s> return a </s> <s> x   b </s> <s> y  c </s> <s> y   b </s> <s> x   c </s> <s> y  a </s> <s> y   c </s> <s> x   a </s> <s> y  b </s> <s> y  gt   </s> <s>  </s> <s> </s> <s> void convexhull  vector lt pt gt amp a   </s> <s> if  a </s> <s> size      // chỉ có  điểm </s> <s> return  </s> <s>  </s> <s> </s> <s> // sắp xếp các điểm theo tọa độ x nếu bằng nhau sắp xếp theo y </s> <s> sort  a </s> <s> begin  a </s> <s> end  amp cmp  </s> <s> </s> <s> pt p  a    p  a </s> <s> back  </s> <s> </s> <s> vector lt pt gt up  down  // chuỗi trên và chuỗi dưới </s> <s> up </s> <s> pushback  p  </s> <s> down </s> <s> pushback  p  </s> <s> </s> <s> for  sizet i    i lt a </s> <s> size   i   // xét lần lượt các điểm </s> <s> // thêm vào chuỗi trên </s> <s> if  i  a </s> <s> size     cw  p  a  i  p   </s> <s> while  up </s> <s> size  gt  ampamp  cw  up  up </s> <s> size     up  up </s> <s> size     a  i  </s> <s> up </s> <s> popback  </s> <s> up </s> <s> pushback  a  i  </s> <s>  </s> <s> </s> <s> // thêm vào chuỗi dưới </s> <s> if  i  a </s> <s> size     ccw  p  a  i  p   </s> <s> while  down </s> <s> size  gt  ampamp  ccw  down  down </s> <s> size     down  down </s> <s> size     a  i  </s> <s> down </s> <s> popback  </s> <s> down </s> <s> pushback  a  i  </s> <s>  </s> <s>  </s> <s> </s> <s> // gộp  chuỗi trên và dưới để lấy bao lồi </s> <s> a </s> <s> clear  </s> <s> for  sizet i    i lt up </s> <s> size   i  </s> <s> a </s> <s> pushback  up  i  </s> <s> for  sizet i  down </s> <s> size     i gt    i  </s> <s> a </s> <s> pushback  down  i  </s> <s>  </s> <s> </s> <s> bạn cũng có thể tham khảo thêm cài đặt c ở đây </s> <s> </s> <s> xử lí trường hợp suy biến </s> <s> </s> <s> các thuật toán trên hoạt động tốt trong trường hợp lí tưởng tức là không có hai điểm nào trùng nhau và không có ba điểm nào thẳng hàng </s> <s> tuy nhiên trong hầu hết các bài toán ta sẽ phải xử lí các điểm trùng nhau và các bộ ba điểm thẳng hàng </s> <s> biện luận tất cả các trường hợp sẽ là một công việc khó nhằn và nhàm chán </s> <s> vì vậy hãy ghi nhớ những điều sau </s> <s> </s> <s> </s> <s> đọc kĩ đề bài để biết được dữ liệu vào có bị suy biến hay không nếu có thì rơi vào trường hợp nào </s> <s> lưu ý rằng không phải đề bài nào cũng nói rõ rằng dữ liệu bị suy biến </s> <s> </s> <s> </s> <s> nếu tồn tại các điểm trùng nhau </s> <s> </s> <s> </s> <s> thuật toán bọc gói sẽ thực hiện phép chia cho số không </s> <s> ta cần tránh điều này để thuật toán chạy đúng </s> <s> </s> <s> nếu ta chỉ cần tính chu vi hoặc diện tích của bao lồi thuật toán graham và thuật toán chuỗi đơn điệu sẽ không gặp vấn đề gì </s> <s> </s> <s> nếu ta phải in ra các đỉnh của bao lồi có ba thứ tự in các đỉnh mà đề bài có thể hỏi cùng chiều kim đồng hồ ngược chiều kim đồng hồ hoặc theo thứ tự xuất hiện trong dữ liệu vào </s> <s> rõ ràng hai thứ tự in các đỉnh đầu tiên không có ý nghĩa gì khi có các điểm trùng nhau </s> <s> nếu đề bài yêu cầu in các đỉnh theo thứ tự xuất hiện trong dữ liệu vào đề bài có thể yêu cầu in ra đỉnh đầu tiên xuất hiện trong dữ liệu vào nếu các đỉnh trùng nhau hoặc in ra tất cả các đỉnh </s> <s> hãy đọc đề bài thật kĩ </s> <s> trong mọi trường hợp ta đều có thể dễ dàng xử lí kết quả sau khi chạy thuật toán tìm bao lồi để phù hợp với yêu cầu bài toán và ta nên làm như vậy vì kết hợp xử lí kết quả với thuật toán tìm bao lồi không những khó hơn mà có thể tạo ra sai sót không đáng có </s> <s> </s> <s> </s> <s> </s> <s> nếu có các bộ ba điểm thẳng hàng </s> <s> </s> <s> </s> <s> ta cần biết đề bài yêu cầu bao lồi có số lượng đỉnh tối đa hay tối thiểu từ đó ta suy ra ta có nên cho thêm các điểm thuộc cạnh của bao lồi hay không </s> <s> nếu chỉ có các bộ ba điểm thẳng hàng mà không có các điểm trùng nhau ta có thể sửa dấu lt thành dấu leq trong thuật toán graham và thuật toán chuỗi đơn điệu nếu bài toán yêu cầu bao lồi có số lượng đỉnh tối đa </s> <s> còn trong thuật toán bọc gói ta sẽ chọn điểm ở xa nhất hoặc điểm ở gần nhất nếu có hai điểm cùng có số đo góc nhỏ nhất tùy vào yêu cầu bài toán </s> <s> </s> <s> thứ tự các đỉnh không phải là vấn đề trừ khi đề bài yêu cầu in ra thứ tự các đỉnh của bao lồi có số đỉnh lớn nhất trong đó các đỉnh thuộc cùng một cạnh được sắp xếp theo thứ tự xuất hiện trong dữ liệu vào </s> <s> khi đó xử lí kết quả sau khi tìm bao lồi là lựa chọn tốt nhất </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trường hợp xấu nhất trên lí thuyết là khi diện tích bao lồi bằng  </s> <s> có hai trường hợp như vậy và ta có thể dễ dàng xử lí hai trường hợp đó tất cả các điểm đều trùng nhau hoặc tất cả điểm đều thẳng hàng </s> <s> </s> <s> </s> <s> </s> <s> thuật toán chuỗi đơn điệu vẫn hoạt động bình thường nếu ta chỉ cần biết diện tích hoặc chu vi bao lồi </s> <s> </s> <s> nếu ta cần in ra các đỉnh của bao lồi ta không nên chỉnh sửa thuật toán mà nên xét riêng hai trường hợp trên </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ứng dụng </s> <s> </s> <s> ngoại trừ các ứng dụng hiển nhiên tìm bao lồi còn giúp ta giải các bài toán sau </s> <s> </s> <s> </s> <s> cặp điểm xa nhất </s> <s> bài toán trộn màu bạn có một số hộp sơn mỗi hộp sơn có tỉ lệ thành phần ba màu cơ bản xanhđỏvàng là xdv với xdv dương </s> <s> giả sử màu của hộp sơn chỉ phụ thuộc vào tỉ lệ ba màu cơ bản </s> <s> bằng cách pha trộn các loại sơn liệu ta có thể thu được màu mục tiêu hay không màu mục tiêu cũng được cho bằng tỉ lệ ba màu cơ bản biết rằng lượng sơn trong hộp là vô tận </s> <s> bài toán này hóa ra lại có thể giải bằng cách tìm bao lồi trên mặt phẳng </s> <s> bước đầu tiên ta chuẩn hóa dữ liệu bằng cách chia tỉ lệ ba màu cơ bản với lượng màu xanh tức là nếu tỉ lệ bằng xdv thì ta chuẩn hóa còn fracdxfracvx </s> <s> ta làm tương tự với màu mục tiêu </s> <s> sau đó ta bỏ qua lượng màu xanh do lượng màu xanh ở tất cả các hộp lẫn màu mục tiêu đều bằng  và tập trung xử lí hai màu kia </s> <s> mỗi màu của hộp sơn đều có thể biểu diễn bằng một điểm trên mặt phẳng </s> <s> khi đó các màu mà các hộp sơn đó có thể pha trộn được sẽ nằm trong bao lồi </s> <s> đó là do khi trộn hai màu có điểm biểu diễn trên mặt phẳng lần lượt là a và b màu ta thu được sẽ có điểm biểu diễn nằm trên đoạn ab nên ta dễ dàng tìm được một dãy các bước trộn màu để có được màu mục tiêu nếu điểm biểu diễn màu mục tiêu nằm trong bao lồi </s> <s> </s> <s> </s> <s> </s> <s> bao lồi d </s> <s> </s> <s> </s> <s> </s> <s> tim bao lồi trong d thực sự là một bài toán khó </s> <s> bài toán này chắc chắn sẽ không bao giờ được ra trong ioi và học sinh trung học không cần phải đi sâu vào vấn đề này </s> <s> tuy nhiên có một thuật toán on khá là đơn giản đầu tiên ta tìm hình chiếu của các điểm trên mặt phẳng xy và tìm một các chắc chắn thuộc bao bằng cách lấy một điểm có tung độ lớn nhất rồi tìm điểm kia bằng cách chạy vòng lặp của thuật toán bọc gói một lần </s> <s> đây là phần đầu tiên của bao lồi </s> <s> sau đó xét cạnh vừa tìm được tìm một điểm thứ ba để tạo thành một mặt tam giác của bao lồi </s> <s> ta chọn điểm thứ ba bằng cách tìm điểm để tất cả các điểm khác nằm ở phía bên phải của mặt tam giác đó giống như thuật toán bọc gói ta tìm cạnh để tất cả các điểm khác đều nằm về phía bên phải cạnh đó </s> <s> bây giờ ta đã có ba cạnh trong bao lồi ta chọn ngẫu nhiên một trong ba cạnh đó rồi tìm tiếp một tam giác với cạnh này rồi tiếp tục cho đến khi không còn cạnh nào nữa khi ta tìm thêm một mặt tam giác ta phải thêm hai cạnh vào bao tuy vậy hai cạnh này phải chưa có trong bao nếu không ta phải đi tìm hai cạnh khác </s> <s> có tổng cộng on mặt và mỗi lần duyệt các điểm ta mất thời gian on vì ta phải duyệt tất cả các điểm còn lại do đó độ phức tạp của thuật toán là on </s> <s> nếu bạn nghĩ bạn có thể cài đặt được thuật toán này hãy nộp bài tại spoj  chd  </s> <s> ta có thể tăng tốc độ thuật toán này bằng các loại bỏ các điểm chắc chắn không phải đỉnh của bao bằng cách tìm các điểm cực theo các trục tọa độ rồi loại bỏ các điểm nằm trong bát diện mà các đỉnh đấy tạo ra </s> <s> </s> <s> </s> <s> ta có thể tìm bao lồi trong không gian với độ phức tạp on logn bằng phương pháp chia để trị tuy nhiên việc cài đặt thuật toán này là vô cùng khó </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> kattis  convexhull </s> <s> acm icpc vietnam national   k </s> <s> voj  military </s> <s> voj  headqrt </s> <s> voj  kmix </s> <s> usaco  cow curling </s> <s> </s> <s> </s> <s> </s> <s> số học   bao hàm  loại trừ inclusionexclusion </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents bao hàm  loại trừ inclusionexclusion phát biểu công thức công thức dành cho tập hợp lập công thức bằng biểu đồ venn venn diagrams công thức dành cho xác suất chứng minh công thức bao hàm  loại trừ ứng dụng đếm số số nguyên tố cùng nhau với một số cho trước trong một đoạn </s> <s> </s> <s> bao hàm  loại trừ inclusionexclusion </s> <s> </s> <s> phát biểu công thức </s> <s> </s> <s> công thức bao hàm  loại trừ được phát biểu như sau </s> <s> </s> <s> để tính lực lượng của hợp của nhiều tập hợp ta tính tổng lực lượng các tập hợp đó rồi trừ đi lực lượng của giao của các cặp hai tập hợp khác nhau rồi cộng lực lượng của giao các bộ ba tập hợp khác nhau rồi trừ đi lực lượng của các bộ bốn tập hợp và cứ thế cho đến khi ta xét đến giao của tất cả các tập hợp </s> <s> </s> <s> </s> <s> công thức dành cho tập hợp </s> <s> </s> <s> công thức bao hàm  loại trừ có dạng như sau </s> <s> </s> <s> bigcupin ai  sumin ai  sumi ne j ai cap aj  a cap a cap a  a cap a cap a  </s> <s> </s> <s> </s> <s>  an cap an cap an  </s> <s> </s> <s> </s> <s>  </s> <s>  na cap a cap </s> <s> </s> <s> </s> <s> cap an </s> <s> </s> <s> ta có thể viết công thức này một cách gọn hơn bằng cách tính tổng của các tập con </s> <s> gọi b là tập hợp các tập hợp ai </s> <s> khi đó công thức bao hàm  loại trừ có dạng </s> <s> </s> <s> bigcupin ai  sumc subset b c  bigcape in c e  </s> <s> </s> <s> lập công thức bằng biểu đồ venn venn diagrams </s> <s> </s> <s> ta có biểu đồ sau biểu diễn ba tập hợp a b và c </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> khi đó ta thấy lực lượng của a cup b cup c bằng lực lượng của a b c trừ đi lực lượng của a cap b b cap c c cap a rồi cộng thêm lực lượng của a cap b cap c </s> <s> </s> <s> </s> <s>  a cup b cup c   a  b  c  a cap b  b cap c  c cap a  a cap b cap c </s> <s> </s> <s> tương tự ta có thể lập công thức với n tập hợp </s> <s> </s> <s> </s> <s> công thức dành cho xác suất </s> <s> </s> <s> nếu ta có n biến cố a a </s> <s> </s> <s> </s> <s> an pai là xác suất của biến cố ai xác suất của biến cố hợp của chúng nghĩa là biến cố có ít nhất một trong số n biến cố a a </s> <s> </s> <s> </s> <s>  an xảy ra là </s> <s> </s> <s> pbigcupin ai   sumin  pai  sumi ne j pai aj  pa a a  pa a a  </s> <s> </s> <s> </s> <s>  pan an an  </s> <s> </s> <s> </s> <s>  n </s> <s> pa a </s> <s> </s> <s> </s> <s> an </s> <s> </s> <s> nếu gọi b là tập hợp các tập hợp ai công thức này cũng có thể viết gọn như sau </s> <s> </s> <s> pbigcupin ai  sumc subset b c </s> <s> pbigcape in c e </s> <s> </s> <s> chứng minh công thức bao hàm  loại trừ </s> <s> </s> <s> để thuật tiện trong chứng minh ta sử dụng công thức viết gọn sau </s> <s> </s> <s> bigcupin ai  sumc subset b c  bigcape in c e  </s> <s> </s> <s> với b là tập hợp các tập hợp ai </s> <s> </s> <s> </s> <s> ta cần chứng minh một phần tử bất kì thuộc ít nhất một tập ai sẽ chỉ được đếm một lần trong công thức </s> <s> </s> <s> </s> <s> xét một phần tử x bất kì thuộc k geq  tập hợp ai </s> <s> ta thấy </s> <s> </s> <s> </s> <s> trong công thức khi c   x được đếm thêm k lần </s> <s> </s> <s> trong công thức khi c   x được đếm bớt đi binomk lần bởi x bị đếm bớt đi khi ta xét một cặp  tập hợp khác nhau trong số k tập hợp chứa phần tử x </s> <s> </s> <s> trong công thức khi c   x được đếm thêm binomk lần </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong công thức khi c  k x được đếm binomkk lần </s> <s> nếu k lẻ thì x được đếm thêm nếu k chẵn thì x được đếm bớt </s> <s> </s> <s> trong công thức khi c gt k x không được đếm </s> <s> </s> <s> </s> <s> </s> <s> vì vậy số lần x được đếm là t  binomk  binomk  binomk  </s> <s> </s> <s> </s> <s>  i </s> <s> binomki  </s> <s> </s> <s> </s> <s>  k </s> <s> binomkk </s> <s> </s> <s> </s> <s> để tính t ta khai triển xk bằng nhị thức niutơn newton binomial  </s> <s> </s> <s> xk  binomk  binomk </s> <s> x  binomk </s> <s> x  binomk </s> <s> x  </s> <s> </s> <s> </s> <s>  k </s> <s> binomkk </s> <s> xk </s> <s> </s> <s> </s> <s> ta thấy với x xk  t do đó t  k   hay điều phải chứng minh </s> <s> </s> <s> </s> <s> ứng dụng đếm số số nguyên tố cùng nhau với một số cho trước trong một đoạn </s> <s> </s> <s> đây là một bài toán dễ dựa trên công thức bao hàm  loại trừ </s> <s> </s> <s> </s> <s> cho hai số nguyên n và r đếm số số nguyên tố cùng nhau với n trong đoạn r </s> <s> </s> <s> </s> <s> thuật toán tìm phần bù the inverse  đếm số số không nguyên tố cùng nhau với n </s> <s> </s> <s> </s> <s> xét các ước nguyên tố của n đánh số chúng từ  đến k </s> <s> </s> <s> </s> <s> ta có thể tính số số trong đoạn r chia hết cho pi bằng công thức fracrpi </s> <s> </s> <s> </s> <s> tuy vậy nếu ta chỉ tính tổng tất cả các số này ta sẽ ra kết qủa sai </s> <s> đó là do một số số có thể chia hết cho nhiều pi </s> <s> vì vậy ta cần sử dụng đến công thức bao hàm  loại trừ </s> <s> </s> <s> </s> <s> int solve  int n  int r   </s> <s> vector lt int gt p  </s> <s> for  int i    i  i lt n   i   </s> <s> if  n  i     </s> <s> p </s> <s> pushback  i  </s> <s> while  n  i    n / i  </s> <s>  </s> <s> if  n gt   p </s> <s> pushback  n  </s> <s> </s> <s> int sum    </s> <s> for  int msk    msk lt   ltlt p </s> <s> size   msk   </s> <s> int mult    bits    </s> <s> for  int i    i lt  int  p </s> <s> size   i  </s> <s> if  msk amp   ltlt i   </s> <s>  bits  </s> <s> mult  p  i  </s> <s>  </s> <s> </s> <s> int cur  r / mult  </s> <s> if  bits      sum  cur  </s> <s> else sum  cur  </s> <s>  </s> <s>  </s> <s> return r  sum  </s> <s>  </s> <s> </s> <s> </s> <s> số học   phi hàm euler </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth và  số bài viết trên wikipedia </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents phi hàm euler eulers totient function công thức hàm nhân tính bài tập áp dụng </s> <s> </s> <s> phi hàm euler eulers totient function </s> <s> </s> <s> định nghĩa phin là số số nguyên tố cùng nhau với n trong đoạn từ  đến n </s> <s> </s> <s> </s> <s> cách tính </s> <s> </s> <s> ta đã biết phân tích một số ra thừa số nguyên tố factorization là biểu diễn số đó dưới dạng tích của các số nguyên tố </s> <s> dễ dàng chứng minh rằng cách biểu diễn là duy nhất </s> <s> ví dụ </s> <s> </s> <s> </s> <s>    </s> <s> </s> <s>    </s> <s> </s> <s>    </s> <s>  </s> <s> </s> <s>    </s> <s>  </s> <s>  </s> <s> </s> <s>    </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> từ cách phân tích một số ra thừa số nguyên tố ta tính được phi hàm euler của số đó </s> <s> </s> <s> </s> <s> int phi  int n   </s> <s> int res  n  </s> <s> for  int i    i  i lt n   i   </s> <s> if  n  i     </s> <s> while  n  i     </s> <s> n / i  </s> <s>  </s> <s> res  res / i  </s> <s>  </s> <s>  </s> <s> if  n     </s> <s> res  res / n  </s> <s>  </s> <s> return res  </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán osqrtn </s> <s> </s> <s> </s> <s> công thức </s> <s> </s> <s> một công thức thường gặp để tính phi </s> <s> </s> <s> phin  n  prodpn  /p  </s> <s> </s> <s> p là các ước nguyên tố của n </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> phi      /    /   </s> <s> </s> <s> cài đặt </s> <s> </s> <s> int eulerphi  int n   //  n /p </s> <s> </s> <s> </s> <s> /pn </s> <s> if  n    return   </s> <s> int ans  n  </s> <s> for  int x    x  x lt n   x   </s> <s> if  n  x     </s> <s> ans  ans / x  </s> <s> while  n  x    n / x  </s> <s>  </s> <s>  </s> <s> if  n gt   ans  ans / n  </s> <s> return ans  </s> <s>  </s> <s> </s> <s> trong trường hợp đặc biệt n  pk phin  pk  p </s> <s> </s> <s> </s> <s> hàm nhân tính </s> <s> </s> <s> để tính phi hàm euler nhanh hơn các bạn cần biết về hàm nhân tính </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> voj  vospow </s> <s> voj  gcdsum </s> <s> </s> <s> </s> <s> </s> <s> số học  </s> <s>   nghịch đảo modulo </s> <s> http//vnoi </s> <s> info/wiki/algo/math/modularinverse </s> <s> </s> <s> </s> <s> </s> <s> nguồn emaxx </s> <s> </s> <s> người dịch nguyễn thành trung rr </s> <s> </s> <s> table of contents định nghĩa extended euclid tính nghịch đảo modulo bằng ab  c tính tất cả nghịch đảo modulo m các bài luyện tập </s> <s> </s> <s> định nghĩa </s> <s> </s> <s> xét số nguyên dương m </s> <s> xét các số nguyên trên modulo m từ  đến m </s> <s> </s> <s> </s> <s> với một số nguyên a ta gọi nghịch đảo modulo m modular multiplicative inverse của a là a là số nguyên thoả mãn </s> <s> </s> <s> a  a equiv   pmodm </s> <s> </s> <s> ta cần chú ý rằng không phải lúc nào a cũng tồn tại </s> <s> ví dụ với m   a   ta không thể tìm được a thoả mãn đẳng thức trên </s> <s> </s> <s> </s> <s> có thể chứng minh rằng a luôn luôn tồn tại nếu gcda m   </s> <s> </s> <s> </s> <s> trong bài viết này mình sẽ trình bày  cách khác nhau để tìm nghịch đảo modulo dựa trên các kiến thức đã được trình bày ở các bài viết trên vnoi </s> <s> </s> <s> </s> <s> extended euclid </s> <s> tính ab  c bằng chia để trị </s> <s> phi hàm euler </s> <s> </s> <s> </s> <s> extended euclid </s> <s> </s> <s> như đã trình bày trong bài viết số học   nếu gcda m   ta luôn luôn tìm được  số nguyên x và y thoả mãn </s> <s> </s> <s> a x  m  y   </s> <s> </s> <s> </s> <s> vì ta đang làm việc trên modulo m ta có thể bỏ m  y và viết lại đẳng thức trên như sau </s> <s> </s> <s> a  x equiv  pmodm </s> <s> </s> <s> </s> <s> do đó x chính là a </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> int x  y  </s> <s> int g  extendedeuclidean  a  m  x  y  </s> <s> if  g    cout ltlt no solution  </s> <s> else  </s> <s> x   x  m  m   m  </s> <s> cout ltlt x ltlt endl  </s> <s>  </s> <s> </s> <s> tính nghịch đảo modulo bằng ab  c </s> <s> </s> <s> khi gcda m   theo định lý euler ta có </s> <s> </s> <s> aphim equiv  pmodm </s> <s> </s> <s> </s> <s> với phi hàm euler đã được giải thích ở bài viết số học  </s> <s> </s> <s> </s> <s> trong trường hợp m là số nguyên tố phim  m   nên ta có </s> <s> </s> <s> am equiv  pmodm </s> <s> </s> <s> </s> <s> nhân cả  vế với a ta được </s> <s> </s> <s> </s> <s> với m bất kỳ aphim   equiv a pmodm </s> <s> với m nguyên tố am equiv a pmodm </s> <s> </s> <s> </s> <s> </s> <s> như vậy ta có thể dùng thuật toán tính ab  c bằng chia để trị để tính nghịch đảo modulo với độ phức tạp ologm </s> <s> </s> <s> </s> <s> tính tất cả nghịch đảo modulo m </s> <s> </s> <s> trong trường hợp m là số nguyên tố ta cũng có thể tính tất cả nghịch đảo modulo của toàn bộ  m với độ phức tạp om như sau </s> <s> </s> <s> r       </s> <s> for  int i    i lt m   i  </s> <s> r  i    m   m / i   r  m  i   m   m  </s> <s> </s> <s> chứng minh </s> <s> </s> <s> m  i  m  floorm/i  i </s> <s> </s> <s> m  i equiv floorm/i  i pmodm </s> <s> </s> <s> nhân cả  vế với nghịch đảo modulo của i và nghịch đảo modulo của m  i </s> <s> </s> <s> ri equiv floorm/i  rm  i pmodm </s> <s> </s> <s> các bài luyện tập </s> <s> </s> <s> </s> <s> uva   one unit machine </s> <s> </s> <s> hackerrank  longest increasing subsequence arrays </s> <s> </s> <s> codeforces c  beautiful numbers </s> <s> </s> <s> codeforces f  the sum of the kth powers </s> <s> </s> <s> codeforces a  festival organization </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số học   xác suất probabilities </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents các kiến thức cơ bản về xác suất probabilities biến cố độc lập independent events xác suất có điều kiện conditional probability các quy tắc tính xác suất rules of probability quy tắc nhân xác suất multiplication rule ab quy tắc cộng xác suất additive rule a cup b biến cố xung khắc mutually exclusive events quy tắc tính xác suất của các biến cố xung khắc quy tắc nhân xác suất quy tắc cộng xác suất quy tắc trừ xác suất subtraction rule xác suất có điều kiện của hai biến cố xung khắc định lí bayes bayes’ theorem dạng mở rộng extended form thuật toán ngẫu nhiên randomized algorithms bài tập </s> <s> </s> <s> các kiến thức cơ bản về xác suất probabilities </s> <s> </s> <s> làm việc với xác suất giống như làm một thí nghiệm </s> <s> một kết quả outcome là một kết quả của một phép thử hay sự xảy ra hay không xảy ra của một hiện tượng nào đó </s> <s> tập hợp tất cả các kết qủa có thể xảy ra của một phép thử được gọi là không gian mẫu sample space  thường được kí hiệu là omega </s> <s> mỗi kết quả có thể của một phép thử được biểu diễn bởi một và chỉ một điểm trong không gian mẫu </s> <s> </s> <s> </s> <s> một số phép thử ví dụ </s> <s> </s> <s> </s> <s> gieo một con súc sắc một lần không gian mẫu là omega        </s> <s> </s> <s> gieo hai đồng xu phân biệt không gian mẫu là omega  ngửa ngửa ngửa sấp sấp ngửa sấp sấp </s> <s> </s> <s> </s> <s> </s> <s> ta định nghĩa biến cố event là một tập hợp các kết quả của một phép thử </s> <s> do đó một biến cố là một tập con của không gian mẫu </s> <s> nếu ta kí hiệu một biến cố là omegaa thì omegaa subset omega </s> <s> nếu một biến cố chỉ gồm một kết quả trong không gian mẫu thì nó được gọi là biến cố đơn </s> <s> nếu một biến cố gồm nhiều kết quả trong không gian mẫu thì nó được gọi là biến cố phức </s> <s> </s> <s> </s> <s> thứ mà ta quan tâm nhất là xác suất xảy ra của một biến cố kí hiệu là pa </s> <s> theo định nghĩa pa là một số thực nằm trong đoạn từ  đến  với  nghĩa là biến cố không thể xảy ra và  nghĩa là biến cố chắc chắn xảy ra nghĩa là biến cố bằng không gian mẫu </s> <s> </s> <s> </s> <s> như đã nói ở trước mỗi kết qủa được biểu diễn bằng đúng một điểm trong không gian mẫu </s> <s> vì thế ta có công thức pa  fracomegaaomega </s> <s> </s> <s> </s> <s> biến cố độc lập independent events </s> <s> </s> <s> hai biến cố được gọi là độc lập với nhau nếu việc xảy ra hay không xảy ra của biến cố này không làm ảnh hưởng tới xác suất xảy ra của biến cố kia </s> <s> </s> <s> </s> <s> ví dụ bạn gieo một con súc sắc và một đồng xu </s> <s> xác suất nhận được một số nào đó từ con súc sắc không làm ảnh hưởng đến xác suất đồng xu lật sấp hay lật ngửa </s> <s> do đó biến cố gieo con súc sắc được  điểm và biến cố đồng xu lật ngửa là hai biến cố độc lập với nhau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nếu hai biến cố a và b độc lập với nhau không biến cố nào ảnh hưởng đến biến cố nào khi đó ta có thể viết pab  pa </s> <s> pb </s> <s> </s> <s> </s> <s> xác suất có điều kiện conditional probability </s> <s> </s> <s> xác suất có điều kiện là xác suất của một biến cố b nào đó biết rằng một biến cố a khác xảy ra </s> <s> kí hiệu là pba đọc là xác suất của b biết a </s> <s> </s> <s> </s> <s> sử dụng toán học ta định nghĩa pba  fracpabpa </s> <s> </s> <s> </s> <s> các quy tắc tính xác suất rules of probability </s> <s> </s> <s> khi ta phải làm việc với nhiều biến cố có một vài quy tắc ta phải tuân theo khi tính xác suất của các biến cố này </s> <s> các quy tắc này đều phụ thuộc rất lớn vào việc các biến cố này có độc lập với nhau hay không </s> <s> đầu tiên cho ba biến cố a b c biến cố s  a hoặc b hoặc c xảy ra được kí hiệu là a cup b cup c có xác suất ps  pa cup b cup c </s> <s> </s> <s> </s> <s> quy tắc nhân xác suất multiplication rule ab </s> <s> </s> <s> ab có nghĩa là giao của hai biến cố a và b và trong xác suất ab là biến cố cả a và b cùng xảy ra </s> <s> khi ta sử dụng từ và ta nghĩ đến phép nhân vì vậy a và b có thể được viết dưới dạng a times b và a </s> <s> b </s> <s> </s> <s> </s> <s> nếu a và b là hai biến cố phụ thuộc xác suất của biến cố ab được tính bằng công thức pab  pa cup b  ptextchỉ  a  ptextchỉ  b </s> <s> </s> <s> nếu a và b là hai biến cố độc lập xác suất của biến cố ab được tính bằng công thức pab  pa </s> <s> pb </s> <s> </s> <s> </s> <s> do đó xác suất có điều kiện của hai biến cố độc lập có thể được tính bằng công thức pba  fracpabpa leftrightarrow pba  fracpa </s> <s> pbpa leftrightarrow pba  pb </s> <s> </s> <s> </s> <s> công thức trên phù hợp với định nghĩa xác suất có điều kiện biến cố a có xảy ra hay không không làm ảnh hưởng đến xác suất xảy ra biến cố b do đó xác suất biến cố b xảy ra biết biến cố a xảy ra bằng xác suất xảy ra biến cố b </s> <s> </s> <s> </s> <s> quy tắc cộng xác suất additive rule a cup b </s> <s> </s> <s> trong xác suất ta liên tưởng phép cộng như từ hoặc </s> <s> gọi biến cố a cup b là biến cố a hoặc b xảy ra xác suất của biến cố a cup b được tính bằng công thức pa cup b  pa  pb  pab do a cup b  a  b  a cap b </s> <s> </s> <s> </s> <s> nhưng hãy nhớ lại phần lí thuyết tập hợp và cách chúng ta định nghĩa không gian mẫu ở trên gọi c  a cap b khi đó ta có pa cup b    pc </s> <s> </s> <s> </s> <s> biến cố xung khắc mutually exclusive events </s> <s> </s> <s> hai biến cố được gọi là xung khắc hoặc rời nhau nếu không có một kết quả nào của phép thử làm chúng cùng lúc xảy ra </s> <s> nếu a và b là hai biến cố xung khắc thì a cap b  varnothing  </s> <s> </s> <s> nếu ba biến cố a b c xung khắc với nhau ta cũng có a cap b cap c  varnothing </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> quy tắc tính xác suất của các biến cố xung khắc </s> <s> </s> <s> quy tắc nhân xác suất </s> <s> </s> <s> từ định nghĩa các biến cố xung khắc dễ dàng có được pab   </s> <s> </s> <s> </s> <s> quy tắc cộng xác suất </s> <s> </s> <s> như chúng ta đã định nghĩa ở trên công thức cộng xác suất hai biến cố xung khắc có dạng pa cup b  pa  pb </s> <s> </s> <s> </s> <s> quy tắc trừ xác suất subtraction rule </s> <s> </s> <s> từ quy tắc cộng ta suy ra được quy tắc trừ hai biến cố xung khắc pa cup b    pa  pb </s> <s> </s> <s> </s> <s> xác suất có điều kiện của hai biến cố xung khắc </s> <s> </s> <s> ta đã định nghĩa xác suất có điều kiện bằng công thức sau pba  fracpabpa </s> <s> </s> <s> mà với hai biến cố xung khắc a và b ta lại có pab   </s> <s> </s> <s> do đó pba  fracpa   </s> <s> </s> <s> </s> <s> định lí bayes bayes’ theorem </s> <s> </s> <s> trong xác suất và thống kê định lí bayes mô tả xác suất của một biến cố dựa trên các biến cố có liên quan đến biến cố đó </s> <s> </s> <s> </s> <s> công thức của định lí bayes như sau pab  fracpa </s> <s> pbapb với a b là hai biến cố pa pb là xác suất của hai biến cố pab là xác suất có điều kiện xác suất của a biết b xảy ra pba là xác suất của b biết a xảy ra </s> <s> </s> <s> </s> <s> dạng mở rộng extended form </s> <s> </s> <s> cho n biến cố a a </s> <s> </s> <s> </s> <s>  an khi đó nếu pb  sumin pbaipai thì paib  fracpbaipaisumjn pbajpaj </s> <s> </s> <s> </s> <s> thuật toán ngẫu nhiên randomized algorithms </s> <s> </s> <s> ta gọi thuật toán ngẫu nhiên là thuật toán sử dụng các số ngẫu nhiên để quyết định trong lúc chạy </s> <s> không giống thuật toán tất định deterministic algorithms mà với một bộ dữ liệu nhất định thuật toán luôn ra một kết quả và chạy trong cùng một lượng thời gian thuật toán ngẫu nhiên chạy ra kết quả khác nhau ở những lần chạy khác nhau </s> <s> ta thường chia thuật toán ngẫu nhiên ra làm hai loại </s> <s> </s> <s> </s> <s> thuật toán monte carlo monte carlo algorithms  có thể ra kết quả sai  chúng ta sẽ tính xác suất ra kết quả sai để quyết định có dùng nó hay không </s> <s> </s> <s> thuật toán las vegas las vegas algorithms  luôn chạy ra kết quả đúng nhưng thời gian chạy sẽ khác nhau với cùng một bộ dữ liệu </s> <s> </s> <s> </s> <s> </s> <s> mục tiêu của việc xây dựng các thuật toán ngẫu nhiên là giảm thời gian cài đặt thuật toán và đôi khi tạo ra những lời giải ngắn gọn hơn trong bài toán </s> <s> thuât toán ngẫu nhiên còn có khả năng giải các bài toán cực khó </s> <s> vì vậy các thuật toán ngẫu nhiên đã trở thành một vấn đề được nhiều nhà khoa học nghiên cứu và đã được ứng dụng để giải nhiều bài toán khác nhau </s> <s> </s> <s> </s> <s> một bài toán có thể có nhiều lời giải một số lời giải trong số đó là tối ưu </s> <s> phương pháp làm cổ điển là xét từng phần tử một theo thứ tự trong dữ liệu vào </s> <s> tuy nhiên ta không thể chắc chắn các phần tử thuận lợi được phân bố đều trong dữ liệu vào </s> <s> vì vậy thuật toán định tất có thể không tìm ra lời giải trong thời gian đủ nhanh </s> <s> lợi thế của thuật toán ngẫu nhiên là không có thứ tự duyệt các phần tử cố định và trong mọi trường hợp thuật toán ngẫu nhiên có thể hoạt động tốt hơn </s> <s> </s> <s> </s> <s> bài tập </s> <s> </s> <s> </s> <s> hackerearth  utkarsh and jumps </s> <s> hackerearth  so random </s> <s> </s> <s> </s> <s> </s> <s> số học   các kiến thức cơ bản về tổ hợp combinatorics </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents tập hợp set tập hợp set là gì tập con subset các phép toán với tập hợp phép hợp union phép giao intersection phép lấy hiệu relative complement các quy tắc cơ bản các kiến thức cơ bản về chỉnh hợp và hoán vị permutation chỉnh hợp không lặp permutation of distinct objects hoán vị không lặp hoán vị lặp permutation with repetition các đối tượng tổ hợp combinatorial objects tổ hợp không lặp combinations without repetition tổ hợp có lặp combinations with repetition vector nhị phân binary vectors hệ thức truy hồi recurrence relations hệ số nhị thức binomial coefficients đếm số đường đi trên lưới paths across a grid một vài dãy số cơ bản counting sequences dãy số catalan số euler bài toán phân tích một số nguyên integer partitions bài tập </s> <s> </s> <s> tập hợp set </s> <s> </s> <s> tập hợp set là gì </s> <s> </s> <s> trong toán học tập hợp là một nhóm các phần tử mỗi phần tử phân biệt với nhau </s> <s> </s> <s> </s> <s> ví dụ    được coi là các phần tử phân biệt khi ta xét từng số một nhưng khi chúng ta nhóm ba số ấy thì ta được một tập hợp gồm ba phần tử được kí hiệu là  </s> <s> </s> <s> </s> <s> tập hợp là một trong những khái niệm cơ bản trong toán học </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tập hợp các hình đa giác được biểu diễn trong biểu đồ venn </s> <s> </s> <s> </s> <s> tập con subset </s> <s> </s> <s> nếu mọi phần tử thuộc tập a cũng thuộc tập hợp b thì tập a là tập con của tập b kí hiệu là a subset b </s> <s> </s> <s> </s> <s> tương tự ta có thể viết b supset a đọc là b là tập cha superset của tập a </s> <s> </s> <s> </s> <s> quan hệ chacon giữa các tập hợp còn được gọi là quan hệ chứa nhau containment hay quan hệ bao hàm inclusion </s> <s> </s> <s> </s> <s> nếu a là tập con của tập b nhưng không bằng tập b thì a được gọi là tập con không tầm thường proper subset của tập b kí hiệu là a subsetneq b hay b supsetneq a đọc là b là tập cha không tầm thường proper superset của tập a </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s>  subset  </s> <s>  subset  </s> <s> </s> <s> </s> <s> tập rỗng empty set kí hiệu varnothing là tập con của tất că các tập và tất cả các tập là tập con của chính nó </s> <s> </s> <s> </s> <s> varnothing subset a </s> <s> </s> <s> a subset a </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> a là tập con của tập b </s> <s> </s> <s> </s> <s> các phép toán với tập hợp </s> <s> </s> <s> có nhiều phép toán có khả năng xây dựng một tập hợp mới dựa trên các tập hợp đã cho </s> <s> </s> <s> </s> <s> phép hợp union </s> <s> </s> <s> hai tập hợp có thể được ghép vào nhau </s> <s> hợp của hai tập hợp a và b kí hiệu là a cup b là một tập hợp gồm các phần tử thuộc tập a hoặc thuộc tập b </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s>  cup    </s> <s>  cup    </s> <s>  cup    </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> hợp của hai tập hợp a và b kí hiệu là a cup b </s> <s> </s> <s> </s> <s> một vài tính chất cơ bản của phép hợp </s> <s> </s> <s> </s> <s> a cup b  b cup a </s> <s> </s> <s> a cup b cup c  a cup b cup c </s> <s> </s> <s> a subset a cup b </s> <s> </s> <s> a cup a  a </s> <s> </s> <s> a subset b khi và chỉ khi a cup b  b </s> <s> </s> <s> </s> <s> </s> <s> phép giao intersection </s> <s> </s> <s> một tập hợp mới có thể được xây dựng từ các phẩn tử mà cả hai tập đều có </s> <s> giao cuả hai tập hợp a và b kí hiệu a cap b là tập hợp các phần tử cùng thuộc tập a và tập b </s> <s> nếu a cap b  varnothing tập a và tập b là hai tập rời nhau disjoint </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s>  cap    </s> <s> </s> <s>  cap    </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giao của hai tập hợp a và b kí hiệu là a cap b </s> <s> </s> <s> </s> <s> một vài tính chất cơ bản của phép hợp </s> <s> </s> <s> </s> <s> a cap b  b cap a </s> <s> </s> <s> a cap b cap c  a cap b cap c </s> <s> </s> <s> a cap b subset a </s> <s> </s> <s> a cap a  a </s> <s> </s> <s> a cap varnothing  varnothing </s> <s> </s> <s> a subset b khi và chỉ khi a cap b  a </s> <s> </s> <s> </s> <s> </s> <s> phép lấy hiệu relative complement </s> <s> </s> <s> ta có thể thực hiên phép trừ với hai tập hợp </s> <s> hiệu của hai tập hợp a và b kí hiệu là a backslash b là tập hợp bao gồm tất cả các phần tử thuộc a nhưng không thuộc b </s> <s> lưu ý rằng ta có thể trừ phần tử mà không thuộc tập hợp ví dụ như bỏ phần tử xanh khỏi tập hợp  khi đó tập hợp  không bị thay đổi </s> <s> </s> <s> </s> <s> trong một số trường hợp tập a được coi là tập con của một tập u lớn hơn </s> <s> trong trường hợp đó u backslash a được gọi là phần bù hoàn toàn absolute complement của tập a và được kí hiệu là a </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s>  backslash   varnothing </s> <s> </s> <s>  backslash    </s> <s> </s> <s> nếu u là tập hợp các số nguyên e là tập hợp các số nguyên chẵn o là tập hợp các số nguyên lẻ khi đó u backslash e  e  o </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> hiệu của hai tập hợp a và b </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> phần bù của a trong u </s> <s> </s> <s> </s> <s> một vài tính chất cơ bản của phép lấy hiệu </s> <s> </s> <s> </s> <s> a backslash b ne b backslash a với a ne b </s> <s> </s> <s> a cup a  u </s> <s> </s> <s> a cap a  varnothing </s> <s> </s> <s> a  a </s> <s> </s> <s> a backslash a  varnothing </s> <s> </s> <s> a backslash b  a cap b </s> <s> </s> <s> u  varnothing và varnothing  u </s> <s> </s> <s> </s> <s> </s> <s> các quy tắc cơ bản </s> <s> </s> <s> kí hiệu a là số phần tử của tập a hay còn được gọi là lực lượng của tập a </s> <s> </s> <s> </s> <s> một vài quy tắc về tổ hợp cần nhớ </s> <s> </s> <s> </s> <s> quy tắc nhân the rule of product </s> <s> giả sử có hai tập hợp a và b </s> <s> khi đó số cách chọn cặp gồm một phần tử thuộc tập a và một phần tử thuộc tập b là a </s> <s> b </s> <s> quy tắc cộng the rule of sum giả sử có hai tập hợp a và b </s> <s> khi đó số cách chọn một phần tử thuộc tập a hoặc thuộc tập b là ab nếu hai tập a và b rời nhau </s> <s> </s> <s> quy tắc cộng mở rộng sieve principle còn gọi là công thức bao hàm  loại trừ inclusionexclusion formula  a cup b  a  b  a cap b </s> <s> </s> <s> </s> <s> </s> <s> trong trường hợp tổng quát ta có </s> <s> </s> <s> bigcupin ai  sumin ai  sumi ne j ai cap aj  a cap a cap a  a cap a cap a  </s> <s> </s> <s> </s> <s>  an cap an cap an  </s> <s> </s> <s> </s> <s>  </s> <s>  na cap a cap </s> <s> </s> <s> </s> <s> cap an </s> <s> </s> <s> lí do ta phải cộng trừ giao của một số tập hợp vì nếu ta không làm như vậy ta có thể đếm nhiều lần các phần tử xuất hiện tại nhiều tập hợp khác nhau </s> <s> </s> <s> </s> <s> các quy tắc trên cũng đúng khi ta có ba hay nhiều tập hợp </s> <s> </s> <s> </s> <s> các kiến thức cơ bản về chỉnh hợp và hoán vị permutation </s> <s> </s> <s> chỉnh hợp không lặp permutation of distinct objects </s> <s> </s> <s> cho tập hợp a gồm n phần tử </s> <s> mỗi bộ gồm k  leq k leq n phần tử được sắp thứ tự của tập hợp a được gọi là một chỉnh hợp chập k của n phần tử thuộc a </s> <s> </s> <s> </s> <s> ví dụ trong trận chung kết bóng đá phải phân định thắng thua bằng đá luân lưu  mét </s> <s> huấn luyện viên của mỗi đội cần trình với trọng tài một danh sách sắp thứ tự  cầu thủ trong số  cầu thủ để đá luân lưu  quả  mét </s> <s> </s> <s> </s> <s> mỗi danh sách có xếp thứ tự  cầu thủ được gọi là một chỉnh hợp chập  của  cầu thủ </s> <s> </s> <s> </s> <s> kí hiệu số chỉnh hợp chập k của n phần tử là ank </s> <s> </s> <s> </s> <s> số chỉnh hợp chập k của n phần tử được tính bởi công thức </s> <s> </s> <s> ank  nn </s> <s> </s> <s> </s> <s> nk  fracnnk </s> <s> </s> <s> </s> <s> với n </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> n và    </s> <s> </s> <s> </s> <s> hoán vị không lặp </s> <s> </s> <s> mỗi một chỉnh hợp chập n của n phần tử là một hoán vị của n phần tử đó </s> <s> </s> <s> </s> <s> kí hiệu số hoán vị của n phần tử là pn </s> <s> </s> <s> </s> <s> số hoán vị của n được tính bởi công thức </s> <s> </s> <s> pn  n </s> <s> </s> <s> </s> <s> hoán vị lặp permutation with repetition </s> <s> </s> <s> hoán vị trong đó mỗi phần tử xuất hiện ít nhất một lần được gọi là hoán vị lặp </s> <s> </s> <s> </s> <s> số hoán vị lặp của n phần tử thuộc k loại mà các phần tử loại i  leq i leq k xuất hiện ni lần được kí hiệu là pnn </s> <s> </s> <s> </s> <s> nk và được tính bằng công thức </s> <s> </s> <s> pnn </s> <s> </s> <s> </s> <s> nk  fracnnn </s> <s> </s> <s> </s> <s> nk </s> <s> </s> <s> các đối tượng tổ hợp combinatorial objects </s> <s> </s> <s> một song ánh bijection là tương ứng mộtmột giữa hai tập hợp ví dụ tập hợp những người chồng và tập hợp những người vợ một chồng chỉ có một vợ và một vợ chỉ có đúng một chồng </s> <s> do đó nếu bạn biết được lực lượng của một tập hợp bạn có thể biết được lực lượng của tập kia </s> <s> ta có thể sử dụng tính chất này trong nhiều bài toán tổ hợp đặc biệt là các bài toán đếm nhưng trước tiên ta phải biết tính lực lượng của một tập các đối tượng tổ hợp </s> <s> </s> <s> </s> <s> tổ hợp không lặp combinations without repetition </s> <s> </s> <s> trong tổ hợp ta thường phải chọn một tập các phần tử nào đó và không quan tâm đến thứ tự của chúng </s> <s> số lượng tập con k phần tử của một tập n phần tử còn gọi là số tổ hợp chập k của n phần tử là </s> <s> </s> <s> binomnk  ckn  fracnknk </s> <s> </s> <s> tổ hợp có lặp combinations with repetition </s> <s> </s> <s> giả sử ta cần chọn k phần tử từ một tập n phần tử không quan trọng thứ tự và một phần tử có thể được chọn nhiều lần </s> <s> khi đó số cách chọn là số tổ hợp lặp chập k của n phần tử và có giá trị là </s> <s> </s> <s> overlineckn  binomnkk  fracnkkn </s> <s> </s> <s> một tính chất thú vị về số tổ hợp có lặp overlineckn là số nghiệm nguyên không âm của phương trình xx </s> <s> </s> <s> </s> <s> xn  k với k là hằng số nguyên dương </s> <s> </s> <s> </s> <s> vector nhị phân binary vectors </s> <s> </s> <s> vector nhị phân là kiểu dữ liệu ltbitsetgt trong c stl </s> <s> </s> <s> </s> <s> ngoài ra các tính chất về tổ hợp của vector nhị phân cũng rất quan trọng </s> <s> sau đây là một số tính chất hay được sử dụng của vector nhị phân </s> <s> </s> <s> </s> <s> </s> <s> số lượng vector nhị phân độ dài n là n </s> <s> </s> <s> số lượng vector nhị phân độ dài n có k số  là binomnk vì ta chọn k vị trí có số  trong n vị trí </s> <s> </s> <s> số lượng cặp vector nhị phân ab có quan tâm đến thứ tự thỏa mãn điều kiện khoảng cách giữa a và b là k là binomnk </s> <s> n </s> <s> </s> <s> </s> <s> </s> <s> khoảng cách giữa hai vector nhị phân a và b là số lượng giá trị i nguyên không âm thỏa mãn ai ne bi </s> <s> </s> <s> hệ thức truy hồi recurrence relations </s> <s> </s> <s> hệ thức truy hồi là công cụ hỗ trợ đắc lực trong các bài toán đếm </s> <s> truy hồi còn giúp ta định nghĩa được nhiều cấu trúc như cây danh sách công thức quy hoạch động hay các thuật toán chia để trị nên truy hồi được sử dụng rất nhiều trong tin học </s> <s> </s> <s> </s> <s> hệ thức truy hồi là một phương trình dùng để xác định dãy số hoặc hàm số bằng cách dùng các số hạng trước để định nghĩa số hạng sau </s> <s> nó rất hữu dụng vì nhiều dãy số có thể dễ dàng được định nghĩa bằng hệ thức truy hồi </s> <s> </s> <s> </s> <s> hàm đa thức polynomials  anan a rightarrow ann </s> <s> </s> <s> hàm mũ exponentials  anan a rightarrow ann </s> <s> </s> <s> giai thừa ann </s> <s> an a   rightarrow ann </s> <s> </s> <s> </s> <s> </s> <s> ta thường dễ dàng tìm được hệ thức truy hồi để giải các bài toán đếm </s> <s> giải hệ thức truy hồi để có được dạng công thức cần tìm là cả một nghệ thuật tuy vậy ta có thể sử dụng trực tiếp hệ thức truy hồi để giải một số bài toán đơn giản </s> <s> </s> <s> </s> <s> hệ số nhị thức binomial coefficients </s> <s> </s> <s> hệ số nhị thức binomnk được sử dụng để đếm số cách chọn k vật trong số n vật </s> <s> </s> <s> </s> <s> đếm số đường đi trên lưới paths across a grid </s> <s> </s> <s> có bao nhiêu cách để đi từ góc trái trên của một bảng n  m ô đến góc phải dưới của ô đó nếu ta chỉ được phép đi về bên phải hoặc đi xuống dưới </s> <s> ta thấy mọi đường đi hợp lệ có nm bước và hai đường đi khác nhau nếu và chỉ nếu chúng có một bước đi xuống dưới khác nhau vậy ta có binomnmn cách đi </s> <s> </s> <s> </s> <s> tính hệ số nhị thức có thể gây tràn số ở các bước trung gian vì vậy ta nên tính hệ số nhị thức bằng công thức binomnkbinomnkbinomnk </s> <s> </s> <s> //computing binomial coefficients i </s> <s> e </s> <s> n choose r using dynamic programming </s> <s> / </s> <s> using the recurrent formula ncrncrncr </s> <s> we can use dynamic programming type approach to precompute all the binomial coefficients in on and answer queries in o </s> <s> use this method when nlt only </s> <s> </s> <s> also use this method when ncrnonprime is required </s> <s> </s> <s> / </s> <s> //by tanmay chaudhari </s> <s> include ltbits/stdc </s> <s> hgt </s> <s> using namespace std  </s> <s> </s> <s> const int mod  e    </s> <s> long long ncr      </s> <s> </s> <s> void precompute  </s> <s>  </s> <s> int k  </s> <s> for  int i    i lt   i   </s> <s>  </s> <s> ncr  i     ncr  i  i     </s> <s> k  i gtgt   </s> <s> for  int j    j lt k    j   </s> <s> ncr  i  j   ncr  i  i  j    ncr  i    j   ncr  i    j     mod  </s> <s>  </s> <s>  </s> <s> </s> <s> int main  </s> <s>  </s> <s> precompute  </s> <s> cout ltlt ncr      ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> chương trình trên chỉ tính được binomnk với n nhỏ </s> <s> bạn có thể tham khảo chương trình sau để tính binomnk  p với p là một số nguyên tố và n lớn </s> <s> </s> <s> </s> <s> / </s> <s> computing binomial coefficients i </s> <s> e </s> <s> n choose r using on precomputation </s> <s> </s> <s> use this for large value of n and whem nchooserprime is used </s> <s> / </s> <s> //by tanmay chaudhari </s> <s> include ltbits/stdc </s> <s> hgt </s> <s> using namespace std  </s> <s> </s> <s> const int mod  e    </s> <s> define n  </s> <s> define ll long long </s> <s> </s> <s> ll fac  n  ifac  n  </s> <s> </s> <s> ll powermod  ll a  ll n  </s> <s> ll ret    </s> <s> while  n  </s> <s> if  n amp   </s> <s> ret  a  </s> <s> ret  mod  </s> <s>  </s> <s> a  a  </s> <s> a  mod  </s> <s> n /   </s> <s>  </s> <s> return ret  </s> <s>  </s> <s> </s> <s> inline void precompute  </s> <s> int i  </s> <s> fac       </s> <s> for  i    i lt n  i   </s> <s> fac  i    i  fac  i     mod  </s> <s>  </s> <s> ifac  n     powermod  fac  n    mod    </s> <s> for  i  n    i gt   i   </s> <s> ifac  i    i     ifac  i     mod  </s> <s>  </s> <s>  </s> <s> </s> <s> ll com  int n  int r  </s> <s> ll ret  fac  n  </s> <s> ret  ifac  r  </s> <s> ret  mod  </s> <s> ret  ifac  n  r  </s> <s> ret  mod  </s> <s> return ret  </s> <s>  </s> <s> </s> <s> int main  </s> <s>  </s> <s> precompute  </s> <s> cout ltlt com      ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> một vài dãy số cơ bản counting sequences </s> <s> </s> <s> dãy số catalan </s> <s> </s> <s> định nghĩa cnsumkn ckcnkfracnbinomnn </s> <s> </s> <s> các ứng dụng của dãy số catalan </s> <s> </s> <s> </s> <s> cho một đa giác lồi n đỉnh ta chia đa giác thành các tam giác bằng cách vẽ các đường chéo không cắt nhau trong đa giác </s> <s> cn là số cách chia như vậy </s> <s> </s> <s> cn là số các từ dyck có độ dài n </s> <s> từ dyck là từ gồm n chữ x và n chữ y sao cho với mọi tiền tố của từ đó số lượng chữ x không ít hơn số lượng chữ y </s> <s> ví dụ c   từ sau đây là từ dyck độ dài  xxxyyy xyxxyy xyxyxy xxyyxy xxyxyy </s> <s> </s> <s> thay mỗi chữ x trong từ dyck thành dấu mở ngoặc đơn mỗi chữ y thành dấu đóng ngoặc đơn khi đó mỗi từ dyck trở thành một dãy ngoặc hợp lệ </s> <s> vậy cn còn đếm số dãy ngoặc hợp lệ gồm n cặp ngoặc      </s> <s> </s> <s> cn còn là số cách đặt ngoặc cho một biểu thức gồm n thừa số </s> <s> ví dụ với n ta có  cách đặt ngoặc cho  thừa số abcd abcd abcd abcd abcd </s> <s> </s> <s> cn còn là số cây nhị phân đầy đủ có n là một cây nhị phân được gọi là đầy đủ nếu mọi nút của nó có hai nút con hoặc không có nút con nào </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> và còn nhiều ứng dụng khác </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số euler </s> <s> </s> <s> số euler big langlenk big rangle là số lượng hoán vị các số từ  đến n mà có đúng k phần tử lớn hơn phần tử đứng trước nó </s> <s> hệ thức truy hồi tính số euler được lập bằng cách xét mỗi hoán vị p của  </s> <s> </s> <s> </s> <s> n </s> <s> có n vị trí để thêm số n vào hoán vị và một cách thêm số n có thể làm tăng số phần tử lớn hơn phần tử đứng trước nó của p hoặc bảo toàn số phần tử lớn hơn phần tử đứng trước nó </s> <s> vì vậy </s> <s> </s> <s> </s> <s> </s> <s> bài toán phân tích một số nguyên integer partitions </s> <s> </s> <s> ta xét bài toán sau </s> <s> </s> <s> cho một số nguyên n </s> <s> hãy cho biết có bao nhiêu cách phân tích số n thành tổng của dãy các số nguyên dương các cách phân tích là hoán vị của nhau chỉ tính là một cách </s> <s> </s> <s> </s> <s> ví dụ n có  cách phân tích </s> <s> </s> <s> </s> <s>    </s> <s>    </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> cách dễ nhất để đếm số cách phân tích số n là định nghĩa hàm fnk là số cách phân tích số n thành tổng của các số nguyên dương nhỏ hơn hoặc bằng k </s> <s> các cách phân tích số n thành tổng cách số nguyên dương nhỏ hơn hoặc bằng k có thể chia làm hai loại chứa số k trong phép phân tích và không chứa số k trong phép phân tích vì thế ta có fnkfnkkfnk </s> <s> ngoài ra ta còn dễ dàng có được f và fnk với kgtn </s> <s> </s> <s> </s> <s> bài tập </s> <s> </s> <s> </s> <s> hackerearth  ankit and race team </s> <s> hackerearth  tic tac toe </s> <s> hackerearth  roy and little mario </s> <s> voj  treeline </s> <s> </s> <s> </s> <s> </s> <s> số học   tính ab  c </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth và  số bài viết trên wikipedia </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents thuật toán ngây thơ thuật toán chia để trị </s> <s> </s> <s> xét bài toán tính abc với  là dấu đồng dư thức và b có thể rất lớn ví dụ b leq  </s> <s> </s> <s> </s> <s> thuật toán ngây thơ </s> <s> </s> <s> ab có thể viết là a </s> <s> a </s> <s> a </s> <s> a </s> <s> </s> <s> </s> <s>  với b chữ a </s> <s> do đó ta có thể nhân b lần a để có được kết quả </s> <s> </s> <s> </s> <s> long long power  long long a  long long b  long long c   </s> <s> long long ans    </s> <s> for  int i    i lt b  i    </s> <s> ans  a  </s> <s> ans  c  </s> <s>  </s> <s> return ans  </s> <s>  </s> <s> trong mỗi lần lặp biến ans chứa kết quả được nhân với a </s> <s> ngoài ra ta cần đảm bảo a sẽ không vượt quá c trong các lần lặp vì thế ta lấy phần dư khi chia ans cho c  ans  ans  c  </s> <s> ta làm được vậy là nhờ tính chất x </s> <s> y  n  x  n </s> <s> y  n  n </s> <s> </s> <s> </s> <s> vì vậy trong code trên ta tính ans </s> <s> ac bằng cách tính ansc </s> <s> acc </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán ob </s> <s> </s> <s> </s> <s> thuật toán chia để trị </s> <s> </s> <s> dễ dàng nhận thấy thuật toán trên không hiệu quả vì thế ta cần tìm thuật toán hiệu quả hơn </s> <s> ta có thể giải bài toán này với độ phức tạp ologb bằng kĩ thuật lũy thừa bằng cách bình phương exponentiation by squaring </s> <s> kĩ thuật này chỉ cần ologb lần bình phương và ologb phép nhân để ra kết quả </s> <s> rõ ràng cách giải này hiệu quả hơn nhiều lần so với thuật toán ngây thơ </s> <s> </s> <s> </s> <s> ta biết rằng ab có thể được viết dưới dạng </s> <s> </s> <s> abafracb nếu b chia hết cho  </s> <s> </s> <s> </s> <s> aba </s> <s> afracb nếu b không chia hết cho  </s> <s> </s> <s> </s> <s> ab nếu b </s> <s> </s> <s> </s> <s> int sqr  int x   </s> <s> return x  x  </s> <s>  </s> <s> </s> <s> int pow  int a  int b  int mod   </s> <s> if  b    return   mod  </s> <s> else </s> <s> if  b      </s> <s> return sqr  pow  a  b /    mod  </s> <s> else </s> <s> return a   sqr  pow  a  b /    mod   mod  </s> <s>  </s> <s> </s> <s> giả sử ta có abc khi đó kết quả là pow </s> <s> </s> <s> </s> <s> do b lẻ nên hàm pow gọi hàm pow để tính  </s> <s> pow </s> <s> trong hàm pow do b chẵn nên powpow </s> <s> trong hàm pow do b lẻ nên powpow </s> <s> </s> <s> trong hàm pow do b nên ta trả về  </s> <s> </s> <s> quay lại hàm pow hàm này trả về giá trị  </s> <s> </s> <s> quay lại hàm pow hàm này trả về giá trị  </s> <s> </s> <s> quay lại hàm pow hàm này trả về giá trị  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> vậy ta có  </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán ologb </s> <s> </s> <s> </s> <s> số học   modulo  gcd </s> <s> http//vnoi </s> <s> info/wiki/translate/he/sohocphanmodulogcd </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth và  số bài viết trên wikipedia </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents giới thiệu đồng dư thức modulo ước chung lớn nhất thuật toán ngây thơ naive approach thuật toán euclid thuật toán euclid mở rộng extended euclid algorithm </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> các bài toán trong lập trình thi đấu competitive programming mà liên quan đến toán học thường sẽ rơi vào hai mảng là số học number theory và hình học </s> <s> nếu bạn biết nhiều về số học bạn sẽ có khả năng giải quyết nhiều bài toán khó và một nền tảng tốt để giải quyết nhiều bài toán khác </s> <s> </s> <s> </s> <s> các bài toán trong lập trình thi đấu thường đòi hỏi bạn một cái nhìn sâu sắc vì vậy chỉ biết một số vấn đề về số học là không đủ </s> <s> mọi bài toán đều đều yêu cầu bạn phải biết một lượng kiến thức toán nhất định </s> <s> ví dụ một số bài toán yêu cầu bạn phải giải một hệ nhiều phương trình hay tính xấp xỉ nghiệm của nhiều phương trình khác nhau </s> <s> </s> <s> </s> <s> đồng dư thức modulo </s> <s> </s> <s> phép đồng dư thức cho bạn số dư của phép chia số này cho số khác </s> <s> dấu của phép đồng dư là  </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> ta có hai số  và  khi đó  bằng  do khi chia  cho  ta được số dư là  </s> <s> </s> <s> </s> <s> tính chất </s> <s> đồng dư thức có một số tính chất sau </s> <s> </s> <s> abc  ac  bc </s> <s> </s> <s> a </s> <s> bc  ac </s> <s> bcc </s> <s> </s> <s> ví dụ </s> <s> </s> <s> giả sử abc </s> <s> </s> <s> khi đó </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> </s> <s> và cũng bằng  </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> và cũng bằng  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> ước chung lớn nhất </s> <s> </s> <s> ước chung lớn nhất gcd viết tắt của từ greatest common divisor của hai hay nhiều số là số nguyên dương lớn nhất mà là ước chung common divisor của tất cả các số đó </s> <s> </s> <s> </s> <s> ví dụ gcd của  và  là  vì  là số nguyên dương lớn nhất mà là ước chung của  và  </s> <s> </s> <s> </s> <s> thuật toán ngây thơ naive approach </s> <s> </s> <s> ta có thể duyệt tất cả các số từ minab đến  và kiểm tra xem số đang xét có phải là ước của của a và b hay không </s> <s> nếu đúng như vậy thì số đang xét sẽ là gcd của a và b </s> <s> </s> <s> </s> <s> int gcd  int a  int b   </s> <s> for  int i  min  a  b  i gt    i  </s> <s> if  a  i   ampamp b  i     </s> <s> return i  </s> <s>  </s> <s> // không bao giờ chạy đến đây vì khi i   thì cả a và b luôn chia hết cho i </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán ominab </s> <s> </s> <s> </s> <s> thuật toán euclid </s> <s> </s> <s> thuật toán euclid dựa trên tính chất sau của ước chung lớn nhất gcdabgcdbab </s> <s> thuật toán sẽ quy nạp cho đến khi ab </s> <s> </s> <s> </s> <s> int gcd  int a  int b   </s> <s> if  b    return a  </s> <s> else return gcd  b  a  b  </s> <s>  </s> <s> </s> <s> ví dụ </s> <s> </s> <s> giả sử a b </s> <s> </s> <s> </s> <s> gcdgcdgcd </s> <s> </s> <s> gcdgcdgcd </s> <s> </s> <s> gcd   gcd     gcd  </s> <s> </s> <s> gcd   gcd     gcd  </s> <s> </s> <s> vì b nên gcd sẽ trả về giá trị  </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán ologmaxab </s> <s> </s> <s> </s> <s> thuật toán euclid mở rộng extended euclid algorithm </s> <s> </s> <s> đây là một thuật toán mở rộng của thuật toán euclid ở trên </s> <s> gcdab có một tính chất rất đặc biệt nó luôn có thể được biểu diễn dưới dạng phương trình axbygcdab </s> <s> </s> <s> </s> <s> thuật toán sẽ cho ta biết một cặp giá trị xy thỏa mãn phương trình này và nhờ đó giúp ta tính modular multiplicative inverse </s> <s> x và y có thể có giá trị bằng không hoặc âm </s> <s> chương trình sau đọc hai số a và b và in ra gcdab cũng như một cặp số xy thỏa mãn phương trình </s> <s> </s> <s> </s> <s> int d  x  y  </s> <s> void extendedeuclid  int a  int b   </s> <s> if  b     </s> <s> d  a  </s> <s> x    </s> <s> y    </s> <s>  </s> <s> else  </s> <s> extendedeuclid  b  a  b  </s> <s> int temp  x  </s> <s> x  y  </s> <s> y  temp   a / b   y  </s> <s>  </s> <s>  </s> <s> </s> <s> int main   </s> <s> extendedeuclid      </s> <s> cout ltlt gcd    ltlt d ltlt endl  </s> <s> cout ltlt x y  ltlt x ltlt   ltlt y ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> kết quả </s> <s> </s> <s> gcd    </s> <s> x y   </s> <s> </s> <s> ban đầu thuật toán euclid mở rộng sẽ chạy như thuật toán euclid cho đến khi ta có gcdab hoặc cho đến khi b bằng  và khi đó thuật toán sẽ đặt x và y </s> <s> vì b và gcdab là a trong thời điểm hiện tại nên phương trình axby trở thành a </s> <s>  </s> <s> a </s> <s> </s> <s> </s> <s> giá trị của các biến dxy trong hàm extendedeuclid sẽ lần lượt trở thành </s> <s> </s> <s> </s> <s> d x   y   </s> <s> </s> <s> d x    y    / </s> <s>    </s> <s> </s> <s> d x    y    / </s> <s>    </s> <s> </s> <s> d x    y    / </s> <s>    </s> <s> </s> <s> d  x  y    / </s> <s>    </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán độ phức tạp của thuật toán euclid mở rộng là ologmaxab </s> <s> </s> <s> </s> <s> </s> <s> tất tần tật về cây phân đoạn segment tree </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/segmenttreeextend </s> <s> </s> <s> </s> <s> </s> <s> table of contents  </s> <s> giới thiệu ví dụ cài đặt áp dụng phân tích thời gian chạy thao tác loại  thao tác loại  phân tích bộ nhớ  </s> <s> segment tree cổ điển ví dụ  tóm tắt đề lời giải định lý ví dụ   </s> <s> lazy propagation tư tưởng bài toán tóm tắt đề phân tích cài đặt  </s> <s> ứng dụng với cấu trúc mảng động ví dụ tóm tắt đề phân tích  </s> <s> ứng dụng với cấu trúc set  </s> <s> ứng dụng với các cấu trúc dữ liệu khác  </s> <s> ứng dụng trong cây có gốc  </s> <s> persistent segment trees  </s> <s> it đoạn thẳng bài tập áp dụng đọc thêm các nguồn tham khảo </s> <s> </s> <s> lưu ý  </s> <s> </s> <s> </s> <s> segment tree trong  số tài liệu tiếng việt còn được dịch là interval tree </s> <s> ở bài viết này mình sẽ dùng tên segment tree st  tên gọi phổ biến hơn của ctdl này </s> <s> </s> <s> tất cả hàm trong bài đều đánh số từ  </s> <s> các nút của cây phân đoạn sẽ quản lý đoạn lr </s> <s> segment tree còn có một cách cài đặt khác sử dụng ít bộ nhớ hơn tối đa n phần tử cài đặt ngắn hơn và chạy nhanh hơn </s> <s> tuy nhiên theo cá nhân mình không dễ hiểu bằng cách cài đặt trong bài viết này </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> giới thiệu </s> <s> </s> <s> segment tree là một cấu trúc dữ liệu được sử dụng rất nhiều trong các kỳ thi đặc biệt là trong những bài toán xử lý trên dãy số </s> <s> </s> <s> </s> <s> segment tree là một cây </s> <s> cụ thể hơn nó là một cây nhị phân đầy đủ mỗi nút là lá hoặc có đúng  nút con với mỗi nút quản lý một đoạn trên dãy số </s> <s> với một dãy số gồm n phần tử nút gốc sẽ lưu thông tin về đoạn  n nút con trái của nó sẽ lưu thông tin về đoạn  ⌊n/⌋ và nút con phải sẽ lưu thông tin về đoạn ⌊n/⌋ n </s> <s> tổng quát hơn nếu nút a lưu thông tin đoạn i j thì  con của nó a và a sẽ lưu thông tin của các đoạn i ⌊ij/⌋ và đoạn ⌊ij/⌋   j </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> xét một dãy gồm  phần tử segment tree sẽ quản lý các đoạn như sau </s> <s> </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> để cài đặt ta có thể dùng một mảng  chiều phần tử thứ nhất của mảng thể hiện nút gốc </s> <s> phần tử thứ id sẽ có  con là   id con trái và   id con phải </s> <s> với cách cài đặt này người ta đã chứng minh được bộ nhớ cần dùng cho st không quá   n phần tử </s> <s> </s> <s> </s> <s> áp dụng </s> <s> </s> <s> để dễ hình dung ta lấy  ví dụ cụ thể </s> <s> </s> <s> </s> <s> cho dãy n phần tử n le  </s> <s> ban đầu mỗi phần tử có giả trị  </s> <s> </s> <s> có q truy vấn q le  </s> <s> mỗi truy vấn có  trong  loại </s> <s> </s> <s> </s> <s> gán giá trị v cho phần tử ở vị trí i </s> <s> </s> <s> tìm giá trị lớn nhất cho đoạn i j </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> cách đơn giản nhất là dùng  mảng a duy trì giá trị các phần tử </s> <s> với thao tác  thì ta gán ai  v </s> <s> với thao tác  thì ta dùng  vòng lặp từ i đến j để tìm giá trị lớn nhất </s> <s> rõ ràng cách này có độ phức tạp là onq và không thể chạy trong thời gian cho phép </s> <s> </s> <s> </s> <s> cách dùng segment tree như sau </s> <s> </s> <s> </s> <s> với truy vấn loại  ta sẽ cập nhật thông tin của các nút trên cây st mà đoạn nó quản lý chứa phần tử i </s> <s> </s> <s> với truy vấn loại  ta sẽ tìm tất cả các nút trên cây st mà đoạn nó quản lý nằm trong i j rồi lấy max của các nút này </s> <s> </s> <s> </s> <s> </s> <s> cài đặt như sau </s> <s> </s> <s> // truy vấn ai  v </s> <s> // hàm cập nhật trên cây st cập nhật cây con gốc id quản lý đọan l r </s> <s> void update  int id  int l  int r  int i  int v   </s> <s> if  i lt l  r lt i   </s> <s> // i nằm ngoài đoạn l r ta bỏ qua nút i </s> <s> return  </s> <s>  </s> <s> // i nằm trong đoạn l r ta cần cập nhật nút id </s> <s> st  id   max  st  id  v  </s> <s> if  l  r   </s> <s> // đoạn chỉ gồm  phần tử không có nút con </s> <s> return  </s> <s>  </s> <s> </s> <s> // gọi đệ quy để xử lý các nút con của nút id </s> <s> int mid   l  r  /   </s> <s> update  id    l  mid  i  v  </s> <s> update  id      mid    r  i  v  </s> <s>  </s> <s> </s> <s> // truy vấn tìm max đoạn u v </s> <s> // hàm tìm max các phần tử trên cây st nằm trong cây con gốc id  quản lý đoạn l r </s> <s> int get  int id  int l  int r  int u  int v   </s> <s> if  v lt l  r lt u   </s> <s> // đoạn u v không giao với đoạn l r ta bỏ qua đoạn này </s> <s> return  infinity  </s> <s>  </s> <s> if  u lt l ampamp r lt v   </s> <s> // đoạn l r nằm hoàn toàn trong đoạn u v mà ta đang truy vấn ta trả lại </s> <s> // thông tin lưu ở nút id </s> <s> return st  id  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> // gọi đệ quy với các con của nút id </s> <s> return max  get  id    l  mid  u  v  get  id      mid    r  u  v  </s> <s>  </s> <s> </s> <s> phân tích thời gian chạy </s> <s> </s> <s> mỗi thao tác truy vấn trên cây st có độ phức tạp ologn </s> <s> để chứng minh điều này ta xét  loại thao tác trên cây st </s> <s> </s> <s> </s> <s> truy vấn  phần tử trên st giống thao tác update ở trên </s> <s> truy vấn nhiều phần tử trên st giống thao tác get ở trên </s> <s> </s> <s> </s> <s> đầu tiên ta có thể chứng minh được </s> <s> </s> <s> </s> <s> độ cao của cây st không quá ologn </s> <s> </s> <s> tại mỗi độ sâu của cây không có phần tử nào nằm trong  nút khác nhau của cây </s> <s> </s> <s> </s> <s> </s> <s> thao tác loại  </s> <s> </s> <s> với thao tác này ở mỗi độ sâu của cây ta chỉ gọi đệ quy các con của không quá  nút </s> <s> phân tích đoạn code trên ta xét các trường hợp </s> <s> </s> <s> </s> <s> phần tử cần xét không nằm trong đoạn l r do nút id quản lý </s> <s> trường hợp này ta dừng lại không xét tiếp </s> <s> </s> <s> phần tử cần xét nằm trong đoạn l r do nút id quản lý </s> <s> ta xét các con của nút id </s> <s> tuy nhiên chỉ có  con của nút id chứa phần tử cần xét và ta sẽ phải xét tiếp các con của nút này </s> <s> với con còn lại ta sẽ dừng ngay mà không xét các con của nó nữa </s> <s> </s> <s> </s> <s> </s> <s> do đó độ phức tạp của thao tác này không quá ologn </s> <s> </s> <s> </s> <s> thao tác loại  </s> <s> </s> <s> với thao này ta cũng chứng minh tương tự nhưng ở mỗi độ sâu của cây ta chỉ gọi hàm đệ quy với các con của không quá  nút </s> <s> </s> <s> </s> <s> ta chứng minh bằng phản chứng giả sử ta gọi đệ quy với  nút khác nhau của cây st đánh dấu màu đỏ </s> <s> </s> <s> </s> <s> </s> <s> trong trường hợp này rõ ràng toàn bộ đoạn của nút ở giữa quản lý nằm trong đoạn đang truy vấn </s> <s> do đó ta không cần phải gọi đệ quy các con của nút ở giữa </s> <s> từ đó suy ra vô lý nghĩa là ở mỗi độ sâu ta chỉ gọi đệ quy với không quá  nút </s> <s> </s> <s> </s> <s> phân tích bộ nhớ </s> <s> </s> <s> ta xét  trường hợp </s> <s> </s> <s> </s> <s> n  k cây st đầy đủ ở độ sâu cuối cùng có đúng k lá và các độ sâu thấp hơn không có nút lá nào và các nút này đều có đúng  con </s> <s> như vậy </s> <s> </s> <s> </s> <s> tầng k có k nút </s> <s> tầng k có k nút </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng số nút không quá k </s> <s> </s> <s> </s> <s> </s> <s> với n gt k và n lt k </s> <s> số nút của cây st không quá số nút của cây st với n  k </s> <s> </s> <s> </s> <s> </s> <s> do đó số nút của cây cho dãy n phần tử với n le k là không quá k giá trị này xấp xỉ   n </s> <s> bằng thực nghiệm ta thấy dùng   n là đủ </s> <s> </s> <s> </s> <s>  </s> <s> segment tree cổ điển </s> <s> </s> <s> tại sao lại gọi là cổ điển đây là dạng st đơn giản nhất chúng ta chỉ giải quyết truy vấn update một phần tử và truy vấn đoạn mỗi nút lưu một loại dữ liệu cơ bản như số nguyên boolean </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> bài toán  ccodeforces </s> <s> </s> <s> tóm tắt đề </s> <s> </s> <s> cho một dãy ngoặc độ dài n nle cho m truy vấn có dạng li ri le lile ri le n </s> <s> yêu cầu của bài toán là với mỗi truy vấn tìm một chuỗi con không cần liên tiếp của chuỗi từ li đến ri dài nhất mà tạo thành dãy ngoặc đúng </s> <s> </s> <s> </s> <s> lời giải </s> <s> </s> <s> với mỗi nútví dụ như nút id quản lý đoạn l r chúng ta lưu ba biến nguyên </s> <s> </s> <s> </s> <s> </s> <s> optimal  là kết quả tối ưu trong đoạn l r </s> <s> </s> <s> </s> <s> open  số lượng dấu  sau khi đã xóa hết các phần tử thuộc dãy ngoặc đúng độ dài optimal trong đoạn </s> <s> </s> <s> </s> <s> close  số lượng dấu  sau khi đã xóa hết các phần tử thuộc dãy ngoặc đúng độ dài optimal trong đoạn </s> <s> </s> <s> </s> <s> </s> <s> ta tạo  kiểu dữ liệu cho  nút của cây st như sau </s> <s> </s> <s> struct node  </s> <s> int optimal  </s> <s> int open  </s> <s> int close  </s> <s> </s> <s> node  int opt  int o  int c   // khởi tạo struct node </s> <s> optimal  opt  </s> <s> open  o  </s> <s> close  c  </s> <s>  </s> <s>  </s> <s> </s> <s> và ta khai báo cây st như sau </s> <s> </s> <s> node st  maxn    </s> <s> </s> <s> định lý </s> <s> </s> <s> để tính thông tin ở nút id quản lý đoạn l r dựa trên  nút con id và id ta định nghĩa  thao tác kết hợp  nút của cây st </s> <s> </s> <s> node operator   const node amp left  const node amp right   </s> <s> node res  </s> <s> // minsố dấu  thừa ra ở cây con trái và số dấu  thừa ra ở cây con phải </s> <s> int tmp  min  left </s> <s> open  right </s> <s> close  </s> <s> </s> <s> // để xây dựng kết quả tối ưu ở nút id ta nối dãy ngoặc tối ưu ở  con rồi thêm </s> <s> // minsố  thừa ra ở con trái số  thừa ra ở con phải </s> <s> </s> <s> res </s> <s> optimal  left </s> <s> optimal  right </s> <s> optimal  tmp  </s> <s> </s> <s> res </s> <s> open  left </s> <s> open  right </s> <s> open  tmp  </s> <s> res </s> <s> close  left </s> <s> close  right </s> <s> close  tmp  </s> <s> </s> <s> return res  </s> <s>  </s> <s> </s> <s> ban đầu ta có thể khởi tạo cây như sau </s> <s> </s> <s> void build  int id  int l  int r   </s> <s> if  l  r   </s> <s> // đoạn l r chỉ có  phần tử </s> <s> </s> <s> if  s  l     st  id   node        </s> <s> else st  id   node        </s> <s> return  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> build  id    l  mid  </s> <s> build  id      mid    r  </s> <s> </s> <s> st  id   st  id     st  id      </s> <s>  </s> <s> </s> <s> để trả lời truy vấn ta cũng làm tương tự như trong bài toán cơ bản </s> <s> </s> <s> node query  int id  int l  int r  int u  int v   </s> <s> if  v lt l  r lt u   </s> <s> // trường hợp không giao nhau </s> <s> return node        </s> <s>  </s> <s> if  u lt l ampamp r lt v   </s> <s> // trường hợp l r nằm hoàn toàn trong u v </s> <s> return st  id  </s> <s>  </s> <s> </s> <s> int mid   l  r  /   </s> <s> return query  id    l  mid  u  v   query  id      mid    r  u  v  </s> <s>  </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> bài toán  spojkquery </s> <s> </s> <s> tóm đề  </s> <s> </s> <s> </s> <s> cho một dãy số aile ai le  có nle n le  phần tử </s> <s> cho qle q le  truy vấn có dạng  số nguyên là li ri ki le lile rile n le k le  </s> <s> yêu cầu của bài toán là đếm số lượng số aj lile j le ri mà ajge k </s> <s> </s> <s> </s> <s> </s> <s> giả sử chúng ta có một mảng b với bi nếu aigtk và bằng  nếu ngược lại </s> <s> thì chúng ta có thể dễ dàng trả lời truy vấn i j k bằng cách lấy tổng từ i đến j </s> <s> </s> <s> </s> <s> cách làm của bài này là xử lý các truy vấn theo một thứ tự khác để ta có thể dễ dàng tính được mảng b </s> <s> kĩ năng này được gọi là xử lý offline tương tự nếu ta trả lời các truy vấn theo đúng thứ tự trong input thì được gọi là xử lý online  </s> <s> </s> <s> </s> <s> sắp xếp các truy vấn theo thứ tự tăng dần của k </s> <s> </s> <s> lúc đầu mảng b gồm toàn bộ các số  </s> <s> </s> <s> với mỗi truy vấn ta xem trong mảng a có những phần tử nào lớn hơn giá trị k của truy vấn trước và nhỏ hơn giá trị k của truy vấn hiện tại rồi đánh dấu các vị trí đó trên mảng b thành  </s> <s> để làm được việc này một cách hiệu quả ta cũng cần sắp xếp lại mảng a theo thứ tự tăng dần </s> <s> </s> <s> </s> <s> </s> <s> ta tạo kiểu dữ liệu cho truy vấn </s> <s> </s> <s> struct query  </s> <s> int k  </s> <s> int l  r  </s> <s>  </s> <s> </s> <s> // so sánh  truy vấn để dùng vào việc sort </s> <s> </s> <s> bool operator lt  const query amp a  const query amp b   </s> <s> return a </s> <s> k lt b </s> <s> k  </s> <s>  </s> <s> </s> <s> phần xử lý chính sẽ như sau </s> <s> </s> <s> vector lt query gt queries  // các truy vấn </s> <s> // đọc vào các truy vấn </s> <s> readinput  </s> <s> </s> <s> // sắp xếp các truy vấn </s> <s> sort  queries </s> <s> begin  queries </s> <s> end  </s> <s> </s> <s> // khởi tạo mảng id sao cho </s> <s> // aid aid aid là mảng a đã sắp xếp tăng dần </s> <s> </s> <s> </s> <s> // khởi tạo segment tree </s> <s> </s> <s> for  query q  queries   </s> <s> while  a  id  i  lt q </s> <s> k   </s> <s> b  id  i     </s> <s> // cập nhật cây segment tree </s> <s> </s> <s>  i  </s> <s>  </s> <s>  </s> <s> </s> <s> vậy ta có thể viết hàm xây dựng cây như sau </s> <s> </s> <s> void build  int id  int l  int r   </s> <s> if  l  r   </s> <s> // nút id chỉ gồm  phần tử </s> <s> st  id     </s> <s> return  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> build  id    l  mid  </s> <s> build  id    mid    r  </s> <s> </s> <s> st  id   st  id     st  id      </s> <s>  </s> <s> </s> <s> một hàm cập nhật khi ta muốn gán lại một vị trí bằng  </s> <s> </s> <s> void update  int id  int l  int r  int u   </s> <s> if  u lt l  r lt u   </s> <s> // u nằm ngoài đoạn l r </s> <s> return  </s> <s>  </s> <s> if  l  r   </s> <s> st  id     </s> <s> return  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> update  id    l  mid  u  </s> <s> update  id      mid    r  u  </s> <s> </s> <s> st  id   st  id     st  id      </s> <s>  </s> <s> </s> <s> và cuối cùng là thực hiện truy vấn lấy tổng một đoạn </s> <s> </s> <s> int get  int id  int l  int r  int u  int v   </s> <s> if  v lt l  r lt u   </s> <s> // đoạn l r nằm ngoài đoạn u v </s> <s> return   </s> <s>  </s> <s> if  u lt l ampamp r lt v   </s> <s> // đoạn l r nằm hoàn toàn trong đoạn u v </s> <s> return st  id  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> return get  id    l  mid  u  v  </s> <s>  get  id      mid    r  u  v  </s> <s>  </s> <s> </s> <s>  </s> <s> lazy propagation </s> <s> </s> <s> đây là kĩ thuật được sử dụng trong st để giảm độ phức tạp của st với các truy vấn cập nhật đoạn </s> <s> </s> <s> </s> <s> tư tưởng </s> <s> </s> <s> giả sử ta cần cập nhật đoạn u v </s> <s> dễ thấy ta không thể nào cập nhật tất cả các nút trên segment tree do tổng số nút nằm trong đoạn u v có thể lên đến on </s> <s> do đó trong quá trình cập nhật ta chỉ thay đổi giá trị ở các nút quản lý các đoạn to nhất nằm trong u v </s> <s> ví dụ với n   cây segment tree như hình minh hoạ ở đầu bài </s> <s> giả sử bạn cần cập nhật   </s> <s> </s> <s> </s> <s> bạn chỉ cập nhật giá trị ở các nút quản lý các đoạn   và   </s> <s> </s> <s> giá trị của các nút quản lý các đoạn           </s> <s> </s> <s> </s> <s> sẽ không đúng </s> <s> ta sẽ chỉ cập nhật lại giá trị của các nút này khi thật sự cần thiết do đó kĩ thuật này được gọi là lazy  lười biếng </s> <s> </s> <s> </s> <s> </s> <s> cụ thể chúng ta cùng xem bài toán sau </s> <s> </s> <s> bài toán </s> <s> </s> <s> voj  qmax </s> <s> </s> <s> tóm tắt đề </s> <s> </s> <s> cho dãy số a với n phần tử n le  </s> <s> bạn cần thực hiện  loại truy vấn </s> <s> </s> <s> </s> <s> cộng tất cả các số trong đoạn l r lên giá trị val </s> <s> </s> <s> in ra giá trị lớn nhất của các số trong đoạn l r </s> <s> </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> thao tác  là thao tác cơ bản trên segment tree đã được ta phân tích ở bài toán đầu tiên </s> <s> </s> <s> </s> <s> với thao tác  truy vấn đoạn u v </s> <s> giả sử ta gọi fid là giá trị lớn nhất trong đoạn mà nút id quản lý </s> <s> trong lúc cập nhật muốn hàm này thực hiện với độ phức tạp không quá ologn thì khi đến  nút id quản lý đoạn l r với đoạn l r nằm hoàn toàn trong đoạn u v thì ta không được đi vào các nút con của nó nữa nếu không độ phức tạp sẽ là on do ta đi vào tất cả các nút nằm trong đoạn u v </s> <s> để giải quyết ta dùng kĩ thuật lazy propagation như sau </s> <s> </s> <s> </s> <s> lưu tid với ý nghĩa tất cả các phần tử trong đoạn l r mà nút id quản lý đều được cộng thêm tid </s> <s> </s> <s> trước khi ta cập nhật hoặc lấy  giá trị của  nút id nào đó ta phải đảm bảo ta đã đẩy giá trị của mảng t ở tất cả các nút tổ tiên của id xuống id </s> <s> để làm được điều này ở các hàm get và update  trước khi gọi đệ quy xuống các con   id và   id ta phải gán </s> <s> </s> <s> </s> <s> tid  tid </s> <s> tid  tid </s> <s> </s> <s> tid   chú ý ta cần phải thực hiện thao tác này nếu không mỗi phần tử của dãy sẽ bị cộng nhiều lần do ta đẩy xuống nhiều lần </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> chú ý  bài qmax này có cách cài đặt khác không sử dụng lazy propagation tuy nhiên sẽ không được trình bày ở đây </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> ta có kiểu dữ liệu cho  nút của st như sau </s> <s> </s> <s> struct node  </s> <s> int lazy  // giá trị t trong phân tích trên </s> <s> int val  // giá trị lớn nhất </s> <s> </s> <s>  nodes  maxn    </s> <s> </s> <s> hàm đẩy giá trị t xuống các con </s> <s> </s> <s> void down  int id   </s> <s> int t  nodes  id  </s> <s> lazy  </s> <s> nodes  id    </s> <s> lazy  t  </s> <s> nodes  id    </s> <s> val  t  </s> <s> </s> <s> nodes  id      </s> <s> lazy  t  </s> <s> nodes  id      </s> <s> val  t  </s> <s> </s> <s> nodes  id  </s> <s> lazy    </s> <s>  </s> <s> </s> <s> </s> <s> hàm cập nhật </s> <s> </s> <s> void update  int id  int l  int r  int u  int v  int val   </s> <s> if  v lt l  r lt u   </s> <s> return  </s> <s>  </s> <s> if  u lt l ampamp r lt v   </s> <s> // khi cài đặt ta luôn đảm bảo giá trị của nút được cập nhật đồng thời với </s> <s> // giá trị lazy propagation </s> <s> như vậy sẽ tránh sai sót </s> <s> </s> <s> nodes  id  </s> <s> val  val  </s> <s> nodes  id  </s> <s> lazy  val  </s> <s> return  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> </s> <s> down  id  // đẩy giá trị lazy propagation xuống các con </s> <s> </s> <s> update  id    l  mid  u  v  val  </s> <s> update  id      mid    r  u  v  val  </s> <s> </s> <s> nodes  id  </s> <s> val  max  nodes  id    </s> <s> val  nodes  id      </s> <s> val  </s> <s>  </s> <s> </s> <s> hàm lấy giá trị lớn nhất </s> <s> </s> <s> int get  int id  int l  int r  int u  int v   </s> <s> if  v lt l  r lt u   </s> <s> return  infinity  </s> <s>  </s> <s> if  u lt l ampamp r lt v   </s> <s> return nodes  id  </s> <s> val  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> down  id  // đẩy giá trị lazy propagation xuống các con </s> <s> </s> <s> return max  get  id    l  mid  u  v  </s> <s> get  id      mid    r  u  v  </s> <s> // trong các bài toán tổng quát giá trị ở nút id có thể bị thay đổi do ta đẩy lazy propagation </s> <s> // xuống các con </s> <s> khi đó ta cần cập nhật lại thông tin của nút id dựa trên thông tin của các con </s> <s> </s> <s>  </s> <s> </s> <s> đến đây các bạn đã nắm được kiến thức cơ bản về segment tree </s> <s> những phần tiếp theo nói về các kiến thức nâng cao  các mở rộng của st </s> <s> bạn nên làm nhiều bài luyện tập tham khảo ở cuối bài trước khi nghiên cứu tiếp </s> <s> </s> <s> </s> <s>  </s> <s> ứng dụng với cấu trúc mảng động </s> <s> </s> <s> trong loại bài toán này với mỗi nút của cây ta lưu lại một vector và một số biến khác </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> kquery </s> <s> </s> <s> </s> <s> tóm tắt đề </s> <s> </s> <s> </s> <s> cho dãy a với n phần tử </s> <s> cần trả lời q truy vấn </s> <s> </s> <s> có  loại truy vấn </s> <s> </s> <s> </s> <s> cập nhật gán ai  v </s> <s> truy vấn đếm số phần tử lớn hơn k trong đoạn l r </s> <s> </s> <s> </s> <s> </s> <s> giới hạn </s> <s> </s> <s> </s> <s> n le  </s> <s> ai v le  </s> <s> q le  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bài này tương đối giống với bài kquery đã phân tích ở trên tuy nhiên vì có thao tác cập nhật nên ta buộc phải xử lý online </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> </s> <s> có logn nút mà ta cần xét khi trả lời truy vấn của đoạn u v </s> <s> </s> <s> nếu trên mỗi nút chúng ta có thể lưu lại danh sách các phần tử đó theo thứ tự tăng dần ta có thể tìm ra kết quả ở mỗi nút bằng tìm kiếm nhị phân </s> <s> </s> <s> </s> <s> </s> <s> vì thế với mỗi nút ta lưu lại một vector chứa các phần tử từ l đến r theo thứ tự tăng dần </s> <s> điều này có thể được thực hiện với bộ phức tạp bộ nhớ là mathcalonlogn do mỗi phần tử có thể ở tối đa mathcalologn nút độ sâu của cây không quá mathcalologn </s> <s> ở mỗi nút cha có ta có thể gộp hai nút con vào nút cha bằng phương pháp giống như merge sort lưu lại hai biến chạy và so sánh lần lượt từng phần tử ở hai mảng để có thể xây dựng cây trong mathcalonlogn </s> <s> </s> <s> </s> <s> hàm xây cây có thể được như sau </s> <s> </s> <s> void build  int id  int l  int r   </s> <s> if  l  r   </s> <s> // đoạn gồm  phần tử </s> <s> ta dễ dàng khởi tạo nút trên st </s> <s> </s> <s> st  id  </s> <s> pushback  a  l  </s> <s> return  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> build  id    l  mid  </s> <s> build  id      mid    r  </s> <s> </s> <s> merge  st  id    </s> <s> begin  st  id    </s> <s> end  st  id      </s> <s> begin  st  id      </s> <s> end  st  id  </s> <s> begin  </s> <s>  </s> <s> </s> <s> và hàm truy vấn có thể cài đặt như sau </s> <s> </s> <s> int get  int id  int l  int r  int u  int v  int k   // trả lời truy vấn x y k </s> <s> if  v lt l  r lt u   </s> <s> return   </s> <s>  </s> <s> if  u lt l ampamp r lt v   </s> <s> // đếm số phần tử gt k bằng chặt nhị phân </s> <s> return st  id  </s> <s> size    upperbound  st  id  </s> <s> begin  st  id  </s> <s> end  k   st  id  </s> <s> begin  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> return get  id    l  mid  u  v  k   get  id      mid    r  u  v  k  </s> <s>  </s> <s> </s> <s> một ví dụ khác là bài component tree </s> <s> </s> <s>  </s> <s> ứng dụng với cấu trúc set </s> <s> </s> <s> ở cấu trúc này mỗi nút chúng ta lưu một set  multiset  hashmap  hoặc unodered map và một số biến khác </s> <s> </s> <s> </s> <s> đây là một bài toán ví dụ </s> <s> cho n vector a a a </s> <s> </s> <s> </s> <s> an rỗng ban đầu </s> <s> chúng ta có thể thực hiện m truy vấn trên những vector này </s> <s> </s> <s> </s> <s> truy vấn a p k là thêm số k vào cuối vector ap </s> <s> </s> <s> truy vấn c l r k là xuất ra sumilrcountaik với countaik là số lần xuất hiện của số k trong vector ai </s> <s> </s> <s> </s> <s> </s> <s> bài toán này chúng ta lưu lại mỗi nút của cây là một multiset s với mỗi nút lưu số k đúng sumilrcountaik lần với độ phức tạp bộ nhớ chỉ mathcaloqlogn </s> <s> </s> <s> </s> <s> với mỗi truy vấn c x y k chúng ta sẽ in ra tổng của tất cả dùng cây phân đoạn và truy vấn trên set trong mỗi đoạn thuộc đoạn x đến y như truy trên truy vấn cây phân đoạn bình thường </s> <s> </s> <s> </s> <s> chúng ta sẽ không có hàm xây cây do các vector ban đầu đang là rỗng nhưng chúng ta sẽ có thêm hàm cộng phần tử vào như sau </s> <s> </s> <s> void add  int id  int l  int r  int p  int k   // thực hiện truy vấn a p k </s> <s> s  id  </s> <s> insert  k  </s> <s> if  l  r  return  </s> <s> </s> <s> int mid   l  r  /   </s> <s> if  p lt mid  add  id    l  mid  p  k  </s> <s> else add  id      mid    r  p  k  </s> <s>  </s> <s> </s> <s> và một hàm cho truy vấn  </s> <s> </s> <s> int ask  int id  int l  int r  int x  int y  int k   // trả lời c x y k </s> <s> if  y lt l  r lt x  return   </s> <s> if  x lt l ampamp r lt y   </s> <s> return s  id  </s> <s> count  k  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> return ask  id    l  mid  x  y  k   ask  id      mid    r  x  y  k  </s> <s>  </s> <s> </s> <s>  </s> <s> ứng dụng với các cấu trúc dữ liệu khác </s> <s> </s> <s> cây phân đoạn còn có thể có thể sử dụng một cách linh hoạt với các cấu trúc dữ liệu khác như ở trên </s> <s> sử dụng một cây phân đoạn khác trên từng nút có thể giúp chúng ta truy vấn dễ dàng hơn trên mảng hai chiều </s> <s> trên đây cũng có thể là các loại cây như cây tiền tốtrie hoặc cũng có thể là cấu trúc disjoint set </s> <s> sau đây mình xin giới thiệu một loại cây khác cũng sử dụng nhiều trong cây phân đoạn đó chính là cây fenwick binary indexed tree  </s> <s> </s> <s> như trên mỗi nút của cây sẽ là một cây fenwick và có thể một số biến khác </s> <s> dưới đây là một bài toán ví dụ </s> <s> </s> <s> cho n vectors aaa </s> <s> </s> <s> </s> <s> an rỗng ban đầu </s> <s> chúng ta cần thực hiện hai loại truy vấn </s> <s> </s> <s> </s> <s> truy vấn a p k là thêm số k vào đằng sau vector ap </s> <s> </s> <s> truy vấn c l r k là xuất ra sumilrcountaij với jle k với countaij là số lần xuất hiện k trong ai </s> <s> </s> <s> </s> <s> </s> <s> với bài toán này ta cũng lưu lại ở một nút là một vector v chứa số k khi và chỉ khi sumilrcountaijne  độ phức tạp bộ nhớ sẽ là mathcaloqlogn  các số theo theo thứ tự tăng dần </s> <s> </s> <s> đầu tiên đọc và lưu các truy vấn lại với mỗi truy vấn loại  ta sẽ thêm v vào tất cả vector có chứa phần tử p </s> <s> sau đó ta tiến hành sắp xếp các truy vấn theo phương pháp merge sort đã nói ở trên và dùng hàm unique để loại các phần tử trùng </s> <s> </s> <s> </s> <s> sau đó chúng ta sẽ xây dụng ở mỗi nút một cây fenwick có độ lớn bằng độ dài vector </s> <s> sau đây là hàm thêm giá trị </s> <s> </s> <s> void insert  int id  int l  int r  int p  int k   // thực hiện a p k </s> <s> if  l  r   </s> <s> v  id  </s> <s> pushback  k  </s> <s> return  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> if  p lt mid  </s> <s> insert  id    l  mid  p  k  </s> <s> else </s> <s> insert  id      mid    r  p  k  </s> <s>  </s> <s> </s> <s> hàm sắp xếp sau khi đã đọc hết các truy vấn </s> <s> </s> <s> void sort  int id  int l  int r   </s> <s> if  l  r  return  </s> <s> int mid   l  r  /   </s> <s> sort  id    l  mid  </s> <s> sort  id      mid    r  </s> <s> </s> <s> merge  v    id  </s> <s> begin  v    id  </s> <s> end  v    id    </s> <s> begin  v    id    </s> <s> end  v  id  </s> <s> begin  </s> <s>  </s> <s> </s> <s> với mỗi truy vấn loại  ta làm như sau với mỗi nút x </s> <s> </s> <s> for  int i  a    i lt fen  x  </s> <s> size  i  i amp  i  </s> <s> fen  x  i    </s> <s> </s> <s> với tất cả vxak </s> <s> </s> <s> void update  int id  int l  int r  int p  int k   </s> <s> int a  lowerbound  v  id  </s> <s> begin  v  id  </s> <s> end  k   v  id  </s> <s> begin  </s> <s> for  int i  a    i lt fen  id  </s> <s> size  i  i amp  i  </s> <s> fen  id  i    </s> <s> </s> <s> if  l  r  return  </s> <s> </s> <s> int mid   l  r  /   </s> <s> if  p lt mid  </s> <s> update  id    l  mid  p  k  </s> <s> else </s> <s> update  id      mid    r  p  k  </s> <s>  </s> <s> </s> <s> còn lại việc tính toán truy vấn loại  trở nên dễ dàng hơn </s> <s> </s> <s> int ask  int id  int l  int r  int x  int y  int k   // trả lời c x y k </s> <s> if  y lt l  r lt x  return   </s> <s> if  x lt l ampamp r lt y   </s> <s> int a  lowerbound  v  id  </s> <s> begin  v  id  </s> <s> end  k   v  id  </s> <s> begin  </s> <s> int ans    </s> <s> for  int i  a    i gt   i  i amp  i  </s> <s> ans  fen  id  i  </s> <s> return ans  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> return ask  id    l  mid  x  y  k  </s> <s>  ask  id      mid    r  x  y  k  </s> <s>  </s> <s> </s> <s>  </s> <s> ứng dụng trong cây có gốc </s> <s> </s> <s> ta có thể thấy cây phân đoạn là một ứng dụng trong mảng vì lí do đó nếu chúng ta có thể đổi cây thành các mảng ta có thể dễ dàng xử lý các truy vấn trên cây </s> <s> đây là tư tưởng của heavy light decomposition </s> <s> </s> <s> </s> <s> bài tập ví dụ  c  on changing tree </s> <s> </s> <s> gọi hv là độ cao tương ứng của nút v </s> <s> </s> <s> </s> <s> ta có với mỗi nút u trong cây con gốc v sau truy vấn một giá trị của nó sẽ tăng một lượng là xhuhvkxk hvk h </s> <s> kết quả của truy vấn  sẽ là sumiin skihvixihusumiin ski </s> <s> vì vậy ta chỉ cần tính hai giá trị là sumiin ski hvixi và sumiin ski </s> <s> vậy với mỗi nút ta có thể lưu lại hai giá trị là hkxsum x hk và sksum k không cần lazy propagation do chúng ta chỉ update nút đầu tiên thỏa việc nằm trong đoạn </s> <s> </s> <s> </s> <s> với truy vấn cập nhật </s> <s> </s> <s> void update  int id  int l  int r  int x  int k  int v   </s> <s> if  s  v  gt r  l gt f  v  return  </s> <s> if  s  v  lt l ampamp r lt f  v   </s> <s> hkx  id    hkx  id   x   mod  </s> <s> int a   ll  h  v   k   mod  </s> <s> hkx  id    hkx  id   a   mod  </s> <s> sk  id    sk  id   k   mod  </s> <s> return  </s> <s>  </s> <s> int mid   l  r  /   </s> <s> update  id    l  mid  x  k  v  </s> <s> update  id      mid    r  x  k  v  </s> <s>  </s> <s> </s> <s> và truy vấn </s> <s> </s> <s> int ask  int id  int l  int r  int v   </s> <s> int a   ll  h  v   sk  id   mod  </s> <s> int ans   hkx  id   mod  a   mod  </s> <s> if  l  r  return ans  </s> <s> int mid   l  r  /   </s> <s> if  s  v  lt mid  </s> <s> return  ans  ask    id  l  mid  v   mod  </s> <s> return  ans  ask    id    mid  r  v   mod  </s> <s>  </s> <s> </s> <s>  </s> <s> persistent segment trees </s> <s> </s> <s> persistent data structures là những cấu trúc dữ liệu được dùng khi chúng ta cần có toàn bộ lịch sử của các thay đổi trên  cấu trúc dữ liệu ctdl </s> <s> </s> <s> </s> <s> các bạn có thể đọc thêm ở persistent data structures </s> <s> </s> <s>  </s> <s> it đoạn thẳng </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một tập hợp chứa các đường thẳng có dạng ax  b mỗi đường thẳng được biểu diễn bằng một cặp số a b </s> <s> cần thực hiện hai truy vấn </s> <s> </s> <s> </s> <s> thêm một đường thẳng vào tập hợp </s> <s> </s> <s> trả lời xem tại hoành độ q điểm nào thuộc ít nhất một đường thẳng trong tập có tung độ lớn nhất </s> <s> nói cách khác đường thẳng a b nào có aq  b lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> để giải bài toán này hai cách phổ biến là ứng dụng bao lồi và sử dụng cây interval tree lưu đoạn thẳng </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> voj  qmax </s> <s> voj  nklineup </s> <s> voj  gss </s> <s> voj  lites </s> <s> voj  dquery </s> <s> voj  kquery </s> <s> frequent </s> <s> voj  kquery </s> <s> gss </s> <s> gss </s> <s> multq </s> <s> posters </s> <s> patuljci </s> <s> new year domino </s> <s> copying data </s> <s> dzy loves fibonacci numbers </s> <s> frbsum </s> <s> </s> <s> </s> <s> đọc thêm </s> <s> </s> <s> </s> <s> cấu trúc dữ liệu đặc biệt  đoàn mạnh hùng </s> <s> cấu trúc dữ liệu đặc biệt  nguyễn minh hiếu </s> <s> </s> <s> </s> <s> các nguồn tham khảo </s> <s> </s> <s> </s> <s> codeforces </s> <s> một số vấn đề đáng chú ý trong môn tin học </s> <s> </s> <s> </s> <s> </s> <s> các chủ đề cơ bản về đồ thị </s> <s> http//vnoi </s> <s> info/wiki/algo/graphtheory/everything </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sách thầy lê minh hoàng đã trình bày rất chi tiết về phần lý thuyết đồ thị do đó vnoi wiki sẽ không viết lại nữa </s> <s> </s> <s> </s> <s> trong bài viết này mình chỉ liệt kê lại các thuật toán trong đồ thị và dẫn link đến các tài liệu bổ sung </s> <s> </s> <s> </s> <s> </s> <s> biểu diễn đồ thị </s> <s> </s> <s> </s> <s> cowboycoder </s> <s> bài tập </s> <s> </s> <s> </s> <s> voj  graph </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bfs dfs topo sort </s> <s> </s> <s> </s> <s> cowboycoder  bfs </s> <s> cowboycoder  dfs </s> <s> cowboycoder  topo sort </s> <s> vietcodes  thành phần song liên thông </s> <s> </s> <s> code tìm khớp cầu c  rr  cách sử dụng </s> <s> </s> <s> </s> <s> code tìm thành phần liên thông mạnh c  rr  cách sử dụng </s> <s> </s> <s> </s> <s> code tìm thành phần song liên thông c  rr  cách sử dụng  </s> <s> bài tập trên voj </s> <s> bài h  acm icpc vietnam regional  </s> <s> </s> <s> </s> <s> </s> <s> tìm đường đi ngắn nhất dijkstra floyd fordbellman </s> <s> </s> <s> </s> <s> cowboycoder  dijkstra </s> <s> vietcodes  dijkstra cải tiến </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> cây khung nhỏ nhất </s> <s> </s> <s> </s> <s> vnoi  disjoint set </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> chu trình euler </s> <s> </s> <s> </s> <s> code c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> luồng cực đại </s> <s> </s> <s> </s> <s> code luồng dinic c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> cặp ghép </s> <s> </s> <s> </s> <s> code cặp ghép không trọng số c  rr </s> <s> code cặp ghép có trọng số c  rr </s> <s> bài tập </s> <s> bài e  acm icpc vietnam regional  </s> <s> </s> <s> </s> <s> </s> <s> sat </s> <s> </s> <s> </s> <s> sat  phạm lê quang </s> <s> code c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> lca </s> <s> </s> <s> </s> <s> code c  rr </s> <s> bài tập </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số học   số nguyên tố sàng eratosthenes </s> <s> http//vnoi </s> <s> info/wiki/translate/he/numbertheory </s> <s> </s> <s> </s> <s> </s> <s> nguồn hackerearth và  số bài viết trên wikipedia </s> <s> </s> <s> người dịch bùi việt dũng </s> <s> </s> <s> table of contents số nguyên tố prime numbers thuật toán ngây thơ một thuật toán tốt hơn sàng eratosthenes sieve of eratosthenes phân tích thừa số nguyên tố với sàng eratosthenes sàng eratosthenes trên đoạn bài tập áp dụng </s> <s> </s> <s> bạn có thể đọc phần  về modulo amp gcd ở đây </s> <s> </s> <s> </s> <s> số nguyên tố prime numbers </s> <s> </s> <s> số nguyên tố là số nguyên lớn hơn  và có đúng  ước là  và chính nó </s> <s> </s> <s> </s> <s> hợp số composite numbers là số nguyên lớn hơn  và có nhiều hơn  ước </s> <s> </s> <s> </s> <s> ví dụ  là số nguyên tố vì  chỉ chia hết cho  và  </s> <s> tuy nhiên  là hợp số vì  chia hết cho    và  </s> <s> </s> <s> </s> <s> có rất nhiều phương pháp để kiểm tra một số nguyên có phải là số nguyên tố hay không </s> <s> </s> <s> </s> <s> thuật toán ngây thơ </s> <s> </s> <s> ta sẽ duyệt hết tất cả các số từ  đến n và đếm số ước của n </s> <s> nếu số ước của n là  thì n là số nguyên tố nếu không thì n không là số nguyên tố </s> <s> </s> <s> </s> <s> bool isprime  int n   </s> <s> for  int i    i lt n  i   </s> <s> if  n  i     </s> <s> // n chia hết cho số khác  và chính nó </s> <s> </s> <s> return false  </s> <s>  </s> <s> return n gt   </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán độ phức tạp của thuật toán là on do ta phải duyệt hết các số từ  đến n </s> <s> </s> <s> </s> <s> một thuật toán tốt hơn </s> <s> </s> <s> xét hai số nguyên dương n và d thỏa mãn n chia hết cho d và d nhỏ hơn sqrtn </s> <s> khi đó fracnd phải lớn hơn sqrtn </s> <s> n cũng chia hết cho fracnd </s> <s> vì thế nếu n có ước nhỏ hơn sqrtn thì n cũng có ước lớn hơn sqrtn </s> <s> do đó ta chỉ cần duyệt đến sqrtn </s> <s> </s> <s> </s> <s> bool isprime  int n   </s> <s> for  int i    i  i lt n  i   </s> <s> if  n  i    return false  </s> <s> return n gt   </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán độ phức tạp của thuật toán là osqrtn do ta phải duyệt từ  đến sqrtn </s> <s> </s> <s> </s> <s> sàng eratosthenes sieve of eratosthenes </s> <s> </s> <s> sàng eratosthenes dùng để tìm các số nguyên tố nhỏ hơn hoặc bằng số nguyên n nào đó </s> <s> nó còn có thể được sử dụng để kiểm tra một số nguyên nhỏ hơn hoặc bằng n hay không </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nguyên lí hoạt động của sàng là vào mỗi lần duyệt ta chọn một số nguyên tố và loại ra khỏi sàng tất cả các bội của số nguyên tố đó mà lớn hơn số đó </s> <s> sau khi duyệt xong các số còn lại trong sàng đều là số nguyên tố </s> <s> </s> <s> </s> <s> mã giả pseudo code  </s> <s> </s> <s> </s> <s> đánh dấu tất cả các số đều là số nguyên tố </s> <s> </s> <s> </s> <s> với mỗi số nguyên tố nhỏ hơn sqrtn </s> <s> </s> <s> </s> <s> đánh dấu các bội lớn hơn nó là số nguyên tố </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> void sieve  int n   </s> <s> bool isprime  n    </s> <s> for  int i    i lt n   i   </s> <s> isprime  i   true  </s> <s>  </s> <s> isprime     false  </s> <s> isprime     false  </s> <s> for  int i    i  i lt n   i   </s> <s> if  isprime  i   true   </s> <s> // mark all the multiples of i as composite numbers </s> <s> for  int j  i  i  j lt n  j  i  </s> <s> isprime  j   false  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> code trên được dùng để tìm các số nguyên tố nhỏ hơn hoặc bằng n </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán </s> <s> </s> <s> số lần lặp của vòng lặp trong là </s> <s> </s> <s> </s> <s> khi i vòng lặp trong lặp fracn lần </s> <s> </s> <s> khi i vòng lặp trong lặp fracn lần </s> <s> </s> <s> khi i vòng lặp trong lặp fracn lần </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp tổng n </s> <s> fracfracfrac </s> <s> </s> <s> </s> <s> onlogn </s> <s> </s> <s> </s> <s> phân tích thừa số nguyên tố với sàng eratosthenes </s> <s> </s> <s> cách cài đặt </s> <s> </s> <s> đầu tiên hãy xem xét thuật toán phân tích ra thừa số nguyên tố trong osqrtn </s> <s> </s> <s> </s> <s> vector lt int gt factorize  int n   </s> <s> vector lt int gt res  </s> <s> for  int i    i  i lt n   i   </s> <s> while  n  i     </s> <s> res </s> <s> pushback  i  </s> <s> n / i  </s> <s>  </s> <s>  </s> <s> if  n     </s> <s> res </s> <s> pushback  n  </s> <s>  </s> <s> return res  </s> <s>  </s> <s> </s> <s> tại mỗi bước ta phải tìm số nguyên tố nhỏ nhất mà n chia hết cho số đó </s> <s> do đó ta phải biến đổi sàng eratosthenes để tìm được số mình mong muốn trong o </s> <s> </s> <s> </s> <s> int minprime  n    </s> <s> for  int i    i  i lt n   i   </s> <s> if  minprime  i      //if i is prime </s> <s> for  int j  i  i  j lt n  j  i   </s> <s> if  minprime  j      </s> <s> minprime  j   i  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> for  int i    i lt n   i   </s> <s> if  minprime  i      </s> <s> minprime  i   i  </s> <s>  </s> <s>  </s> <s> </s> <s> bây giờ ta có thể phân tích một số ra thừa số nguyên tố trong ologn </s> <s> </s> <s> </s> <s> vector lt int gt factorize  int n   </s> <s> vector lt int gt res  </s> <s> while  n     </s> <s> res </s> <s> pushback  minprime  n  </s> <s> n / minprime  n  </s> <s>  </s> <s> return res  </s> <s>  </s> <s> </s> <s> điều kiện sử dụng phương pháp này là ta phải tạo được mảng có độ dài n phần tử </s> <s> </s> <s> </s> <s> phương pháp này rất hữu ích khi ta phải phân tich nhiều số nhỏ ra thừa số nguyên tố </s> <s> ta không cần thiết phải sử dụng phương pháp này trong mọi bài toán liên quan đến phân tích một số ra thừa số nguyên tố </s> <s> ngoài ra ta không thể sử dụng phương pháp này nếu n bằng  hay  </s> <s> khi đó ta chỉ có thể sử dụng thuật toán osqrtn </s> <s> </s> <s> </s> <s> tính chất thú vị nếu npq </s> <s> pq </s> <s> </s> <s> </s> <s> pkqk với pp </s> <s> </s> <s> </s> <s> pk là các số nguyên tố thì n có q </s> <s> q </s> <s> </s> <s> </s> <s> qk ước phân biệt </s> <s> </s> <s> </s> <s> sàng eratosthenes trên đoạn </s> <s> </s> <s> đôi khi bạn phải tìm tất cả các số không phải trên đoạn n mà là trên đoạn lr với r lớn </s> <s> </s> <s> </s> <s> điều kiện sử dụng phương pháp này là bạn có thể tạo mảng độ dài rl phần tử </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> bool isprime  r  l    //filled by true </s> <s> for  long long i    i  i lt r   i   </s> <s> for  long long j  max  i  i   l   i    / i  i  j lt r  j  i   </s> <s> isprime  j  l   false  </s> <s>  </s> <s>  </s> <s> for  long long i  max  l    i lt r   i   </s> <s> if  isprime  i  l   </s> <s> //then i is prime </s> <s>  </s> <s>  </s> <s> </s> <s> độ phức tạp của thuật toán là osqrtrk với k là hằng số </s> <s> </s> <s> </s> <s> lưu ý nếu bạn chỉ cần kiểm tra tính nguyên tố của một hay một vài số thì ta không nhất thiết phải xây dựng sàng </s> <s> ta có thể sử dụng hàm sau để kiểm tra tính nguyên tố của một số </s> <s> </s> <s> </s> <s> bool isprime  int n   </s> <s> for  int i    i  i lt n   i   </s> <s> if  n  i     </s> <s> return false  </s> <s>  </s> <s>  </s> <s> return true  </s> <s>  </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> spoj  prime </s> <s> voj  nkabd </s> <s> </s> <s> </s> <s> </s> <s> kĩ thuật bao lồi convex hull trick </s> <s> http//vnoi </s> <s> info/wiki/translate/wcipeg/convexhulltrick </s> <s> </s> <s> </s> <s> </s> <s> nguồn  pg </s> <s> </s> <s> người dịch  phan minh hoàng </s> <s> </s> <s> table of contents lịch sử bài toán cơ bản thuật toán duyệt kĩ thuật ý nghĩa của tên kĩ thuật thêm một đường vào tập phân tích thuật toán ví dụ  usaco tháng  năm  acquire bài toán nhận xét  tồn tại các hình chữ nhật không quan trọng nhận xét  đoạn liên tiếp lời giải quy hoạch động nhận xét  sử dụng bao lồi ví dụ  apio  commando bài toán biến thể động fully dynamic variant code bài tập </s> <s> </s> <s> kĩ thuật bao lồi là kĩ thuật hoặc là cấu trúc dữ liệu dùng để xác định hiệu quả có tiền xử lý cực trị của một tập các hàm tuyến tính tại một giá trị của biến độc lập </s> <s> mặc dù tên gọi giống nhưng kĩ thuật này lại khá khác biệt so với thuật toán bao lồi của hình học tính toán </s> <s> </s> <s> </s> <s> ngoài ra có một kĩ thuật liên quan đến kĩ thuật bao lồi là it đoạn thẳng </s> <s> </s> <s> lịch sử </s> <s> </s> <s> kĩ thuật bao lồi được biết đến nhiều nhất có lẽ vì nó cần để ăn trọn toàn bộ số điểm trong nhiều bài toán usaco như là bài acquire trong bảng gold của usaco tháng  năm  </s> <s> thuật toán được đưa vào các cuộc thi lập trình một cách rộng rãi sau bài batch scheduling trong kì thi ioi  </s> <s> đây là một kĩ thuật khá lạ và ít có nguồn trên mạng về vấn đề này </s> <s> </s> <s> </s> <s> bài toán cơ bản </s> <s> </s> <s> cho một tập lớn các hàm tuyến tính có dạng y  mi x  bi và một số lượng lớn truy vấn </s> <s> mỗi truy vấn là một số x và hỏi giá trị cực tiểu y có thể đạt được nếu chúng ta thế x vào một trong những phương trình đã cho </s> <s> ví dụ cho các phương trình y yfracfracx yx và yfracx và truy vấn x </s> <s> chúng ta phải tìm phương trình mà trả về giá trị cực tiểu hoặc giá trị cực tiểu đó trong trường hợp này là phương trình yfracfracx và giá trị cực tiểu đó là  </s> <s> </s> <s> </s> <s> biến thể của bài toán có thể là tìm giá trị cực đại có thể giải quyết với một thay đổi nhỏ vì vậy trong bài viết này chỉ tập trung vào bài toán tìm giá trị cực tiểu </s> <s> </s> <s> </s> <s> sau khi ta vẽ các đường thẳng lên hệ trục tọa độ dễ thấy rằng chúng ta muốn xác định tại xđường màu đỏ đường nào có tọa độ y nhỏ nhất </s> <s> ở trong trường hợp này là đường nét đứt đậm yfracfracx </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán duyệt </s> <s> </s> <s> với mỗi truy vấn trong q truy vấn ta duyệt qua từng hàm số và thử từng từng hàm và xem thử hàm nào trả giá trị cực tiểu cho giá trị x </s> <s> nếu có m đường thẳng và q truy vấn độ phức tạp của thuật toán sẽ mathcalomq </s> <s> kĩ thuật bao lồi sẽ giúp giảm độ phức tạp xuống còn mathcaloqmlog m một độ phức tạp hiệu quá hơn nhiều </s> <s> </s> <s> </s> <s> kĩ thuật </s> <s> </s> <s> xét hình vẽ ở trên </s> <s> đường thẳng y sẽ không bao giờ là giá trị nhỏ nhất với tất cả giá trị của x </s> <s> mỗi đường trong mỗi đường thẳng còn lại sẽ lại trả lại giá trị cực tiểu trong một và chỉ một đoạn liên tiếp có thể có một biên là infty hoặc infty </s> <s> đường chấm đậm sẽ cho giá trị cực tiểu với tất cả giá trị nằm bên trái điểm giao với đường đen đậm </s> <s> đường đen đậm sẽ cho giá trị cực tiểu với tất cả giá trị giữa giao điểm của nó với đường nhạt và đường chấm đậm </s> <s> và đường nhạt sẽ nhận cực tiểu cho tất cả giá trị bên phải giao điểm với đường đậm </s> <s> một nhận xét nữa là với giá trị của x càng tăng thì hệ số góc của các hàm số sẽ giảm frac frac  </s> <s> với một chút chứng minh dễ thấy rằng điều này luôn đúng </s> <s> </s> <s> </s> <s> điều này giúp chúng ta hiểu phần nào thuật toán </s> <s> </s> <s> </s> <s> bỏ đi các đường thẳng không quan trọng như y trong ví dụ những đường thẳng mà không nhận giá trị cực tiểu trong bất kì đoạn nào </s> <s> sắp xếp các đoạn thẳng còn lại theo hệ số góc và được một tập n đoạn thẳng của n đường thẳng còn lại mà mỗi đoạn có một đường thẳng nhận giá trị cực tiểu </s> <s> </s> <s> dùng thuật toán tìm kiếm nhị phân cơ bản để có thể tìm kiếm đáp án cho từng truy vấn </s> <s> </s> <s> </s> <s> </s> <s> ý nghĩa của tên kĩ thuật </s> <s> </s> <s> cụm từ bao lồi được sử dụng để chỉ hình bao trên/dưới upper / lower envelope </s> <s> trong ví dụ nếu chúng ta coi mỗi phần đoạn thẳng tối ưu của đường thẳng bỏ qua đường y chúng ta sẽ thấy những đoạn đó tạo thành một hình bao dưới lower envelope một tập các đoạn thẳng chứa tất cả điểm cực tiểu cho mọi giá trị của x hình bao dưới được tô bằng màu xanh trong hình </s> <s> cái tên kĩ thuật bao lồi xuất phát từ việc đường bao trên tạo thành một đường lồi từ đó thành bao lồi của một tập điểm </s> <s> </s> <s> </s> <s> thêm một đường vào tập </s> <s> </s> <s> ta có thể thấy nếu ta có một tập đường thẳng đã được xác định sắp xếp ta có thể dễ dàng trả lời bất kì truy vấn nào với độ phức tạp là mathcalolog m với tìm kiếm nhị phân </s> <s> vậy nếu chúng ta tìm ra cách thêm một đường thẳng vào tính toán lại một cách hiệu quả là chúng ta đã có một thuật toán hoạt động ngon lành </s> <s> </s> <s> </s> <s> giả sử chúng ta được xử lý tất cả đường thẳng trước khi làm các truy vấn thì chúng ta chỉ cần đơn giản sắp xếp các đường thẳng theo hệ số góc và thêm từng đường một vào </s> <s> sẽ có thể một số đường không quan trọng và sẽ bị bỏ đi </s> <s> chúng ta sẽ sử dụng cấu trúc dữ liệu stack để cài đặt bỏ từng đường thẳng vào stack và nếu đường nào không quan trọng sẽ bị bỏ ra ngoài đến khi chỉ còn một đường thẳng đường thẳng cuối không thể bỏ </s> <s> </s> <s> vậy làm sao để có thể xác định đường thẳng nào sẽ bị bỏ khỏi stack giả sử l l và l là đường thẳng áp chót gần cuối  trên stack đường thẳng cuối cùng trong stack và đường thẳng được thêm vào stack </s> <s> đoạn l không quan trọngkhông có giá trị cực tiểu ở điểm nào khi và chỉ khi giao điểm của l và l nằm bên trái giao điểm của l và l đoạn mà l nhận giá trị cực tiểu đã nằm đè lên đoạn của l </s> <s> giả sử rằng không có ba đường nào trùng hay song song với nhau có thể giải quyết một cách đơn giản </s> <s> </s> <s> </s> <s> phân tích thuật toán </s> <s> </s> <s> độ phức tạp bộ nhớ sẽ là mathcalom chúng ta cần một danh sách lưu lại các đoạn thẳng biểu diễn bởi hai số thực </s> <s> </s> <s> </s> <s> độ phức tạp thời gian cho phần tiền xây dựng </s> <s> </s> <s> </s> <s> để sắp xếp các đoạn thẳng theo tăng dần hệ số góc sẽ tốn mathcalomlogm </s> <s> </s> <s> duyệt qua các đường thẳng mỗi đường được cho vào stack và bỏ khỏi stack tối đa một lần vậy nên sẽ tốn mathcalom cho bước này </s> <s> </s> <s> </s> <s> </s> <s> vậy thời gian cho việc xây dựng sẽ là mathcalomlogm </s> <s> với mỗi truy vấn dùng chặt nhị phân sẽ cho độ phúc tạp tốt nhất mathcalolog m </s> <s> </s> <s> </s> <s> ví dụ  usaco tháng  năm  acquire </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho nn le  hình chữ nhật khác nhau về hình dạng mục tiêu của bài toán là phải lấy được tất cả hình chữ nhật </s> <s> một tập hình chữ nhật có thể thu được với chi phí bằng tích của chiều dài dài nhất và chiều rộng dài nhất </s> <s> chúng ta cần phân hoạch tập các hình chữ nhật này một cách khôn khéo sao cho tổng chi phí có thể được tối thiểu hóa và tính chi phí này </s> <s> hình chữ nhật không thể được xoay đổi chiều dài và chiều rộng </s> <s> </s> <s> </s> <s> nhận xét  tồn tại các hình chữ nhật không quan trọng </s> <s> </s> <s> giả sử tồn tại hai hình chữ nhật a và b mà mà cả chiều dài và chiều rộng của hình b đều bé hơn hình a thì ta có thể nói hình b là không quan trọng vì ta có thể để hình b chung với hình a từ đó chi phí của hình b không còn quan trọng </s> <s> sau khi đã loại hết tất cả hình không quan trọng đi và sắp xếp lại các hình theo chiều dài giảm dần thì chiều rộng các hình đã sắp xếp sẽ theo chiều tăng </s> <s> </s> <s> </s> <s> nhận xét  đoạn liên tiếp </s> <s> </s> <s> sau khi sắp xếp ta có thể hình dung được rằng nếu chúng ta chọn hai hình chữ nhật ở vị trí i và ở vị trí j thì ta có thể chọn tất cả hình chữ nhật từ i đến j mà không tốn chi phí nào cả </s> <s> vậy ta có thể thấy rằng cách phân hoạch tối ưu là một cách phân dãy thành các đoạn liên tiếp và chi phí của một đoạn là bằng tích của chiều dài của hình chữ nhật đầu tiên và chiều rộng của hình chữ nhật cuối cùng </s> <s> </s> <s> </s> <s> lời giải quy hoạch động </s> <s> </s> <s> vậy bài toán trờ về bài toán phân dãy sao cho tổng chi phí của các dãy là tối ưu </s> <s> đây là một dạng bài quy hoạch động hay gặp và chúng ta có thể dễ dàng nghĩ ra thuật toán mathcalon như mã giả phía dưới </s> <s> giả sử các hình đã được sắp xếp và bỏ đi những hình chữ nhật không quan trọng </s> <s> </s> <s> input n </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> input recti </s> <s> h </s> <s> input recti </s> <s> w </s> <s> let cost   </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> let costi  ∞ </s> <s> for j ∈  </s> <s> </s> <s> i </s> <s> costi  mincosticostjrecti </s> <s> hrectj </s> <s> w </s> <s> print costn </s> <s> </s> <s> ở trên costk lưu lại chi phí cực tiểu để lấy được k hình chữ nhật đầu tiên </s> <s> hiển nhiên cost </s> <s> để tính toán được costi với i khác  ta có tính tổng chi phí để lấy được các tập trước và cộng nó với chi phí của tập cuối cùngcó chứa i  </s> <s> chi phí của một tập có thể dễ dàng tính bằng cách lấy tích của chiều dài hình chữ nhật đầu tiên và chiều rộng của hình chữ nhật cuối cùng </s> <s> vậy ta có mincosticostjrecti </s> <s> hrectj </s> <s> w với j là hình chữ nhật đầu tiên của tập cuối cùng </s> <s> với n thì thuật toán mathcalon này là quá chậm </s> <s> </s> <s> </s> <s> nhận xét  sử dụng bao lồi </s> <s> </s> <s> với mjrectj </s> <s> w bjcostj xrecti </s> <s> h với rectx </s> <s> h là chiều rộng của hình chữ nhật x và rectx </s> <s> w là chiều dài của hình chữ nhật x </s> <s> vậy thì bài toán trờ về tìm hàm cực tiểu của ymjxbj bằng cách tìm j tối ưu </s> <s> nó giống hoàn toàn bài toán chúng ta đã đề cập ở trên </s> <s> giả sử ta đã hoàn thành việc cài đặt cấu trúc đã đề cập ở trên chúng ta có thể có mã giả ở dưới đây </s> <s> </s> <s> input n </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> input recti </s> <s> h </s> <s> input recti </s> <s> w </s> <s> let e  empty lower envelope structure </s> <s> let cost   </s> <s> add the line ymxb to e where mrect </s> <s> w and bcost //b is zero </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> costi  e </s> <s> queryrecti </s> <s> h </s> <s> if iltn </s> <s> e </s> <s> addmrecti </s> <s> wbcosti </s> <s> print costn </s> <s> </s> <s> rõ ràng các đường thẳng đã được sắp xếp giảm dần về độ lớn của hệ số góc do chúng ta đã sắp xếp các chiều dài giảm dần </s> <s> do mỗi truy vấn có thể thực hiện trong thời gian mathcalologn ta có thể dễ dàng thấy thời gian thực hiện của cả bài toán là mathcalonlogn </s> <s> do các truy vấn của chúng ta cũng tăng dần do chiều rộng đã được sắp xếp tăng tần ta có thể thay thế việc chặt nhị phân bằng một con trỏ chạy song song với việc quy hoạch động đưa bước quy hoạch động còn mathcalon nhưng tổng độ phức tạp vẫn là mathcalonlogn do chi phí sắp xếp </s> <s> vậy là ta đã giải quyết thành công bài toán sử dụng kĩ thuật bao lồi đầu tiên của chúng ta d </s> <s> </s> <s> </s> <s> ví dụ  apio  commando </s> <s> </s> <s> bài toán </s> <s> </s> <s> bạn được cho </s> <s> </s> <s> </s> <s> một dãy có n số nguyên dương le n le  </s> <s> một hàm số bậc  với hệ số nguyên duong fx ax  bx c alt </s> <s> </s> <s> mục tiêu cũng của bài toán là phân dãy này ra thành các đoạn liên tiếp sao tổng các hàm f trên các dãy là lớn nhất  giá trị của hàm f lên dãy là fx với x là tổng dãy đó </s> <s> </s> <s> tương tự như bài trên công thức quy hoạch động có thể dễ thấy công thức mathcalon </s> <s> </s> <s> </s> <s> </s> <s> định nghĩa rằng </s> <s> </s> <s> </s> <s> </s> <s> sumij  xi  xi  </s> <s> </s> <s> </s> <s>  xj </s> <s> </s> <s> adjustij  asumij  bsumij  c </s> <s> </s> <s> </s> <s> ta có </s> <s> </s> <s> dpn  maxkndpkadjustkn </s> <s> </s> <s> mã giả </s> <s> </s> <s> dp ←  </s> <s> for n ∈  </s> <s> </s> <s> n </s> <s> for k ∈  </s> <s> </s> <s> n </s> <s> dpn ← maxdpn dpk  adjustk    n </s> <s> </s> <s> hãy thử biến đổi hàm adjust một tí nào </s> <s> </s> <s> định nghĩa sumx là deltax </s> <s> vậy với một số k bất kì ta có thể viết là </s> <s> </s> <s> dpndpkadeltandeltakbdeltandeltakc </s> <s> dpndpkadeltandeltakdeltandeltakbdeltandeltakc </s> <s> dpnadeltan bdeltan cdpkadeltandeltakadeltakbdeltak </s> <s> </s> <s> nếu </s> <s> </s> <s> </s> <s> zdeltan </s> <s> madeltak </s> <s> pdpkadeltakbdeltak </s> <s> </s> <s> </s> <s> ta có thể thấy mzp là đại lượng mà chúng ta muốn tối ưu hóa bằng cách chọn k </s> <s> dpn sẽ bằng đại lượng đó cộng thêm với adeltanbdeltancđộc lập so với k </s> <s> trong đó z cũng độc lập với k và m và p phụ thuộc vào k </s> <s> </s> <s> </s> <s> ngược với bài acquire khi chúng ta phải tối thiểu hóa hàm quy hoạch động thì bài này chúng ta phải cực đại hóa nó </s> <s> chúng ta phải xây dựng một hình bao trên với các đường thẳng tăng dần về hệ số góc </s> <s> do đề bài đã cho alt hệ số góc của chúng ta tăng dần và luôn dương thỏa với điều kiện của cấu trúc chúng ta </s> <s> </s> <s> </s> <s> do dễ thấy deltangtdeltan giống như bài acquire các truy vấn chúng ta cũng tăng dần theo thứ tự do vậy chúng ta có thể khơi tạo một biến chạy để chạy song song khi làm quy hoạch động bỏ được phần chặt nhị phân </s> <s> </s> <s> </s> <s> biến thể động fully dynamic variant </s> <s> </s> <s> kĩ thuật này có thể dễ dàng được thực hiện khi các đường thẳng được thêm trước tất cả các truy vấn hay các đường thẳng được thêm vào theo thứ tự giảm dần của hệ số góc </s> <s> hoặc với cấu trúc deque chúng ta cũng có thể thêm những đường thẳng có hệ số góc lớn hơn hết các đường thẳng đã có </s> <s> nhưng có những lúc sẽ có các bài toán khi chúng ta phải giải quyết các truy vấn và thêm đường thẳng lồng vào nhau với các hệ số góc ngẫu nhiên </s> <s> chúng ta không thể sắp xếp lại trước do bị lồng vào truy vấn và không thể sắp xếp lại với mỗi lần thêm đường thẳng vậy sẽ cho ta một độ phức tạp tuyến tính với mỗi truy vấn </s> <s> </s> <s> </s> <s> có tồn tại một cách để thêm các đường thẳng ngẫu nhiên vào trong độ phức tạp log </s> <s> chúng ta lưu các đoạn thẳng trong một cấu trúc có thứ tự động như stdset của c </s> <s> mỗi đường thẳng chứa hệ số góc và giao điểm y sắp xếp theo hệ số góc trước rồi theo y cùng với một biến left thêm x nhỏ nhất sao cho đường thẳng này đạt cực tiểu trong tập các đường thẳng </s> <s> </s> <s> sắp đường thẳng này vào vị trí đúng của nó và những đường bị loại sẽ là các đường liên tiếp kế bên nó </s> <s> chúng ta dùng các điều kiện tương tự trên để bỏ các đường thẳng bên trái và bên phải nó </s> <s> </s> <s> </s> <s> để trả lời truy vấn chúng ta dùng một set nữa dùng chính các biến ấy nhưng lại sắp xếp theo left </s> <s> vậy mỗi lần truy vấn ta có thể dễ dàng chặt nhị phân để tìm ra kết quả như đã nói ở trên </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> code c cho acquire </s> <s> </s> <s> code c cho commando </s> <s> </s> <s> bài tập </s> <s> </s> <s> </s> <s> bài j  acm icpc vietnam regional  </s> <s> </s> <s> </s> <s> </s> <s> một số kĩ thuật tối ưu hoá thuật toán quy hoạch động </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/motsokythuattoiuuhoathuattoanquyhoachdong </s> <s> </s> <s> </s> <s> </s> <s> tác giả lê anh đức  akpbc </s> <s> </s> <s> quy hoạch động qhđ là một lớp thuật toán rất quan trọng và có nhiều ứng dụng trong ngành khoa học máy tính </s> <s> trong các cuộc thi olympic tin học hiện đại qhđ luôn là một trong những chủ đề chính </s> <s> tuy vậy theo tôi thấy tài liệu nâng cao về qhđ bằng tiếng việt hiện còn cực kỳ khan hiếm dẫn đến học sinh/sinh viên việt nam bị hạn chế khả năng tiếp cận với những kỹ thuật hiện đại </s> <s> trong bài viết này tôi sẽ trình bày một vài kỹ thuật để tối ưu hóa độ phức tạp của một số thuật toán qhđ </s> <s> </s> <s> </s> <s> table of contents  </s> <s> đổi biến bài tập ví dụ longest common subsequence lcs đề bài lời giải bài tập ví dụ computer vnoi marathon  đề bài lời giải đổi biến bài luyện tập  </s> <s> chia để trị hai nhà máy ceoi  </s> <s> đề bài lời giải bài ví dụ seqpart lời giải điều kiện để chia để trị đúng điều kiện theo best điều kiện theo cost bài luyện tập </s> <s> </s> <s>  </s> <s> đổi biến </s> <s> </s> <s> nhiều khi trong trạng thái qhđ có một thành phần nào đấy với khoảng giá trị quá lớn trong khi kết quả của hàm lại có khoảng giá trị nhỏ </s> <s> trong một vài trường hợp ta có thể đảo nhãn để giảm số trạng thái </s> <s> </s> <s> </s> <s> bài tập ví dụ longest common subsequence lcs </s> <s> </s> <s> đề bài </s> <s> </s> <s> cho xâu a độ dài m xâu b độ dài n </s> <s> hãy tìm độ dài xâu con chung dài nhất của hai xâu chú ý là xâu con chung có thể không liên tiếp </s> <s> </s> <s> </s> <s> giới hạn </s> <s> </s> <s> </s> <s> m le  </s> <s> n le  </s> <s> các kí tự trong cả hai xâu là các chữ cái tiếng anh in hoa a </s> <s> </s> <s> z </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> a  adbcc </s> <s> b  abcd </s> <s> </s> <s> lcs  abc </s> <s> kết quả   </s> <s> </s> <s> lời giải </s> <s> </s> <s> thuật toán đơn giản </s> <s> </s> <s> gọi fi j là lcs của hai tiền tố a </s> <s> </s> <s> i và b </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> khi đó ta có thể maximize fi j theo fi j và fi j </s> <s> </s> <s> </s> <s> nếu ai  bj thì ta có thể cập nhật fi j theo fi j   </s> <s> </s> <s> </s> <s> kết quả bài toán là fm n </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán này là omn không khả thi với giới hạn của đề bài </s> <s> </s> <s> </s> <s> đổi biến </s> <s> </s> <s> đặt l  minm n </s> <s> </s> <s> để ý rằng trong hàm qhđ trên các giá trị của fi j sẽ không vượt quá l trong khi đó chiều thứ hai của trạng thái có thể khá lớn lên tới maxm   </s> <s> </s> <s> </s> <s> để tối ưu hóa ta sẽ đổi biến </s> <s> gọi dpi j là vị trí k nhỏ nhất sao cho lcsa </s> <s> </s> <s> i b </s> <s> </s> <s> k  j </s> <s> </s> <s> </s> <s> để tính các giá trị của dp ta sẽ qhđ theo kiểu cập nhật đi thay vì đi tìm công thức trực tiếp cho các dpi j </s> <s> </s> <s> </s> <s> gọi nextposi c  j gt i nhỏ nhất mà aj  c với c là một ký tự từ a đến z </s> <s> </s> <s> </s> <s> mảng nextpos có thể tính trong tm </s> <s> </s> <s> </s> <s> như vậy ta có thể tính các giá trị qhđ như sau </s> <s> </s> <s> </s> <s> ban đầu khởi tạo các giá trị dpi j  infty dp    </s> <s> </s> <s> for i và j tăng dần với mỗi giá trị dpi j khác vô cùng </s> <s> </s> <s> </s> <s> cập nhật dpi j theo dpi j </s> <s> </s> <s> gọi k là vị trí xuất hiện tiếp theo của bi trong xâu a bắt đầu từ vị trí dpi j tức là k  nextposdpi j bi </s> <s> </s> <s> nếu tồn tại k cập nhật dpi j theo k </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> để tính kết quả ta sẽ chỉ cần tìm j lớn nhất mà tồn tại dpi j khác vô cùng </s> <s> </s> <s> </s> <s> include ltbits/stdc </s> <s> hgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> const int m  e    </s> <s> const int n    </s> <s> </s> <s> int dp  n  n  </s> <s> </s> <s> char a  m  b  n  </s> <s> int nextpos  m    </s> <s> int m  n  </s> <s> </s> <s> void minimize  int amp a  int b   </s> <s> if  a     a gt b  a  b  </s> <s>  </s> <s> </s> <s> int main   </s> <s> cin gtgt a   gtgt b    </s> <s> m  strlen  a    n  strlen  b    </s> <s> for  int c    c lt    c  </s> <s> for  int i  m    i gt    i  </s> <s> nextpos  i  c    a  i     a  c   i    nextpos  i    c  </s> <s> int maxlength  min  m  n  </s> <s> memset  dp     sizeof dp  </s> <s> dp         </s> <s> for  int i    i lt n   i   </s> <s> for  int j    j lt i   j  if  dp  i  j  gt    </s> <s> minimize  dp  i    j  dp  i  j  </s> <s> int newvalue  nextpos  dp  i  j  b  i     a  </s> <s> if  newvalue gt   </s> <s> minimize  dp  i    j    newvalue  </s> <s>  </s> <s>  </s> <s> int ans    </s> <s> for  int j  maxlength  j gt    j   </s> <s> for  int i  j  i lt n   i  </s> <s> if  dp  i  j  gt   ans  j  </s> <s> if  ans    break  </s> <s>  </s> <s> cout ltlt ans ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> bài tập ví dụ computer vnoi marathon  </s> <s> </s> <s> problem link computer  voj </s> <s> </s> <s> </s> <s> đề bài </s> <s> </s> <s> công ty phần mềm xyz mới mua x máy tính để bàn và y máy tính xách tay </s> <s> giá một máy tính để bàn là a đồng còn giá một máy tính xách tay là b đồng </s> <s> để tránh sự thắc mắc giữa các phòng bàn tổng giám đốc đã đưa ra cách phân bố các máy tính này về n phòng ban như sau </s> <s> </s> <s> </s> <s> sắp xếp n phòng ban theo thứ tự về mức độ quan trọng của các phòng ban </s> <s> </s> <s> tiến hành phân bố các máy tính cho các phòng ban bảo đảm nếu phòng ban i có mức độ quan trọng nhỏ hơn mức độ quan trọng của phòng ban j thì tổng giá trị máy tính được phân bố cho phòng ban i không được vượt quá tổng giá trị máy tính được phân bố cho phòng ban j </s> <s> </s> <s> phòng ban nhận được tổng giá trị máy tính nhỏ nhất là lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> là một lập trình viên giỏi nhưng lại thuộc phòng ban có mức độ quan trọng nhỏ nhất thắng muốn chứng tỏ tay nghề của mình với đồng nghiệp nên đã lập trình tính ra ngay được tổng giá trị máy trình mà phòng ban mình nhận được rồi mời bạn tính lại thử xem </s> <s> </s> <s> yêu cầu </s> <s> </s> <s> cho x a y b n </s> <s> hãy tính tổng giá trị máy tính mà phòng thắng nhận được </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> x a y b n không quá  </s> <s> </s> <s> ví dụ </s> <s> </s> <s> input </s> <s>      </s> <s> </s> <s> output </s> <s>  </s> <s> </s> <s> input </s> <s>      </s> <s> </s> <s> output </s> <s>  </s> <s> </s> <s> lời giải </s> <s> </s> <s> trước hết ta sẽ chặt nhị phân kết quả bài toán </s> <s> với mỗi giá trị chặt nhị phân ta cần kiểm tra xem có tồn tại phương án thỏa mãn hay không </s> <s> </s> <s> </s> <s> thuật toán sơ khai </s> <s> </s> <s> đặt giá trị cần kiểm tra là v </s> <s> </s> <s> </s> <s> xét các phòng ban theo thứ tự tăng dần về mức độ quan trọng đánh số từ  </s> <s> </s> <s> </s> <s> sử dụng một mảng đa chiều để đánh dấu các trạng thái có thể đạt tới </s> <s> các giá trị cần quản lí là chỉ số của phòng ban đã dùng số máy tính để bàn x đã dùng số máy tính xách tay y tổng giá trị máy tính của phòng ban trước đó </s> <s> </s> <s> </s> <s> bắt đầu từ trạng thái     ta sử dụng thuật toán loang bfs </s> <s> cuối cùng nếu trạng thái n   </s> <s> </s> <s> </s> <s>  có thể đến được thì ta sẽ có cách phân hoạch các máy tính vào các phòng ban ứng với giá trị cận dưới v </s> <s> </s> <s> </s> <s> không cần tính toán cụ thể cũng có thể thấy thuật toán này không thể đáp ứng về mặt thời gian và bộ nhớ với giới hạn của đề bài </s> <s> </s> <s> </s> <s> nâng cấp bằng nhận xét </s> <s> </s> <s> nhận xét rằng ta không cần quan tâm tới thứ tự về mức độ quan trọng của các phòng ban </s> <s> với một cách phân hoạch các máy tính sao cho mỗi phòng nhận được tổng giá trị không nhỏ hơn v ta luôn có thể sắp xếp các bộ theo giá trị không giảm ứng với các phòng ban </s> <s> </s> <s> </s> <s> ta có trạng thái qhđ là fi x y value  true nếu có thể phân bổ máy tính cho i phòng ban đã dùng x máy tính để bàn và y máy tính xách tay đã gom được tổng giá trị v cho phòng thứ i </s> <s> cách làm này số trạng thái vẫn như trước nhưng ta đã có thể chuyển trạng thái trong o </s> <s> cụ thể từ fi x y value ta chuyển đến fi x y valuea hoặc fi x y valueb chú ý là chỉ có thể dùng thêm máy xách tay nếu xltx và dùng thêm máy để bàn nếu ylty đồng thời nếu giá trị value đủ lớn hơn hoặc bằng v thì ta chuyển sang trạng thái fi x y  luôn </s> <s> </s> <s> </s> <s> đổi biến </s> <s> </s> <s> ở bài này ta có thể dễ dàng đổi biến value ra làm hàm mục tiêu </s> <s> nhưng không chỉ có vậy ta có thể đẩy cả i ra ngoài cụ thể fx y  một cặp số i value lần lượt là số phòng phân bố được và số tiền gom được </s> <s> hàm mục tiêu của fx y là một cặp số hoàn toàn có thể so sánh được trong đó giá trị đầu i được ưu tiên so sánh trước </s> <s> </s> <s> </s> <s> cách cập nhật các fx y giống như phần trước độ phức tạp vẫn là o cho bước chuyển trạng thái trong khi số trạng thái lúc này là đủ nhỏ đối với giới hạn của đề bài </s> <s> </s> <s> </s> <s> include ltbits/stdc </s> <s> hgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> const int n    </s> <s> </s> <s> int x  y  a  b  n  </s> <s> </s> <s> pair lt int  int gt f  n  n  </s> <s> </s> <s> pair lt int  int gt newstate  pair lt int  int gt s  int a  int v   </s> <s> s </s> <s> second  a  </s> <s> if  s </s> <s> second gt v   </s> <s>  s </s> <s> first  </s> <s> s </s> <s> second    </s> <s>  </s> <s> return s  </s> <s>  </s> <s> </s> <s> bool dp  int value   </s> <s> for  int i    i lt x   i  for  int j    j lt y   j  </s> <s> f  i  j   makepair      </s> <s> for  int i    i lt x   i  for  int j    j lt y   j   </s> <s> if  f  i  j  </s> <s> first  n  return   </s> <s> if  i lt x  </s> <s> f  i    j   max  f  i    j  newstate  f  i  j  a  value  </s> <s> if  j lt y  </s> <s> f  i  j     max  f  i  j    newstate  f  i  j  b  value  </s> <s>  </s> <s> return   </s> <s>  </s> <s> </s> <s> int solve   </s> <s> int l    r   a  x  b  y  / n  </s> <s> int ans    </s> <s> while  l lt r   </s> <s> int mid  l  r gtgt   </s> <s> if  dp  mid   </s> <s> ans  mid  </s> <s> l  mid    </s> <s>  else  </s> <s> r  mid    </s> <s>  </s> <s>  </s> <s> return ans  </s> <s>  </s> <s> </s> <s> int main   </s> <s> cin gtgt x gtgt a gtgt y gtgt b gtgt n  </s> <s> cout ltlt solve  ltlt endl  </s> <s> cin gtgt x gtgt a gtgt y gtgt b gtgt n  </s> <s> cout ltlt solve  ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> bài luyện tập </s> <s> </s> <s> </s> <s> voj  binpack </s> <s> </s> <s> </s> <s>  </s> <s> chia để trị </s> <s> </s> <s> đây là kỹ thuật khá hiếm gặp tuy nhiên lại cực kỳ mạnh </s> <s> </s> <s> </s> <s> hai nhà máy ceoi  </s> <s> </s> <s> </s> <s> đề bài </s> <s> </s> <s> có n cây cổ thụ được trồng trên một con đường từ đỉnh đổi đến chân đồi </s> <s> chính phủ địa phương quyết định cắt bỏ chúng </s> <s> để tránh hoang phí mỗi cái cây cần được chuyển đến một nhà máy cưa </s> <s> </s> <s> </s> <s> cây chỉ có thể được vận chuyển theo một chiều duy nhất hướng về chân đồi </s> <s> có một nhà máy cưa ở cuối con đường </s> <s> hai nhà máy cưa có thể được xây dựng dọc theo con đường </s> <s> hãy xác định vị trí tối ưu để xây dựng chúng để cực tiểu hóa chi phí vận chuyển </s> <s> chi phí vận chuyển kg gỗ đi  mét là  cent </s> <s> </s> <s> </s> <s> yêu cầu </s> <s> </s> <s> viết chương trình </s> <s> </s> <s> </s> <s> đọc dữ liệu từ đầu vào chuẩn số lượng cây khối lượng và vị trí của chúng </s> <s> tính toán chi phí vận chuyển tối ưu nhất </s> <s> xuất kết quả ra đầu ra chuẩn </s> <s> </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> dòng đầu tiên chứa số n  số lượng cây  le n le  </s> <s> các cây được đánh số   </s> <s> </s> <s> </s> <s>  n theo chiều từ đỉnh đồi đến chân đồi </s> <s> </s> <s> </s> <s> n dòng tiếp theo mỗi dòng chứa hai số nguyên dương cách nhau bởi dấu cách </s> <s> dòng thứ i   chứa wi  khối lượng tính theo kg của cái cây thử i và di  khoảng cách tính theo mét giữa cây thứ i và cây i    le wi le   le di le  </s> <s> số cuối cùng dn là khoảng cách từ cây thứ n đến chân đồi </s> <s> </s> <s> dữ liệu vào đảm bảo kết quả của bài toán không vượt quá    cent </s> <s> </s> <s> </s> <s> output </s> <s> </s> <s> một dòng duy nhất chứa một số là kết quả bài toán chi phí vận chuyển nhỏ nhất </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> input </s> <s> </s> <s>  </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s>   </s> <s> </s> <s> output </s> <s> </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> hình vẽ trên minh họa cho test ví dụ </s> <s> các hình tròn được tô đen là các vị trí có nhà máy </s> <s> kết quả sẽ là </s> <s> </s> <s>                                      </s> <s> </s> <s> </s> <s> lời giải </s> <s> </s> <s> trước hết ta sẽ giải quyết vấn đề tính chi phí vận chuyển nếu biết vị trí của hai nhà máy đặt thêm </s> <s> </s> <s> </s> <s> nếu ta có thể tính được chi phí này trong o bài toán sẽ có thể giải được trong on  ta có thể for hết các cặp vị trí có thể đặt nhà máy </s> <s> </s> <s> </s> <s> gọi </s> <s> </s> <s> </s> <s> sumwi là tổng của các wj với i le j </s> <s> </s> <s> sumdi là tổng của các dj với i le j </s> <s> </s> <s> sumwsi là tổng của các wj  sumdj với i le j </s> <s> </s> <s> </s> <s> </s> <s> khi đó costl r là chi phí vận chuyển các cây có chỉ số trong đoạn lr đến nhà máy đặt ở r là sumwsl  sumwsr  sumdr  sumwl  sumwr </s> <s> </s> <s> </s> <s> như vậy ta có thể xây dựng hàm evali j  chi phí nếu đặt thêm hai nhà máy ở i và j  cost i  costi   j  costj   n   </s> <s> </s> <s> </s> <s> tuy nhiên lời giải on là chưa đủ tốt để có thể giải quyết trọn vẹn bài toán này </s> <s> </s> <s> </s> <s> gọi besti là vị trí j gt i tốt nhất nếu ta đã đặt một nhà máy ở i </s> <s> </s> <s> </s> <s> như vậy kết quả của bài toán sẽ là minevali besti với  le i lt n </s> <s> </s> <s> </s> <s> nhận xét </s> <s> </s> <s> </s> <s> besti le besti   </s> <s> có thể viết tường minh công thức để chứng minh </s> <s> </s> <s> ta có thể tính các besti theo thứ tự bất kỳ </s> <s> vì các giá trị best không liên quan đến nhau nên vd ta có thể tính best rồi best và best </s> <s> </s> <s> </s> <s> </s> <s> như vậy ta có thuật toán sử dụng tư tưởng chia để trị như sau </s> <s> </s> <s> hàm solvel r from to sẽ đi tính các bestl </s> <s> </s> <s> r biết rằng chúng nằm trong đoạn from </s> <s> </s> <s> to </s> <s> </s> <s> </s> <s> void solve  int l  int r  int from  int to   </s> <s> if  l gt r  return  </s> <s> int mid  l  r gtgt   </s> <s> best  mid   from  </s> <s> for  int i  from    i lt to   i  </s> <s> if  eval  mid    best  mid  gt eval  mid    i  </s> <s> best  mid   i  </s> <s> solve  l  mid    from  best  mid  </s> <s> solve  mid    r  best  mid  to  </s> <s>  </s> <s> </s> <s> đánh giá độ phức tạp thuật toán vì mỗi lần gọi để quy khoảng lr được chia đôi nên sẽ có ologn tầng mỗi tầng vòng for chỉ chạy qua on phần tử vì vậy độ phức tạp của thuật toán là onlogn </s> <s> </s> <s> </s> <s> bài ví dụ seqpart </s> <s> </s> <s> link hackerrank </s> <s> </s> <s> cho dãy l số c </s> <s> </s> <s> l cần chia dãy này thành g đoạn liên tiếp </s> <s> với phần tử thứ i ta định nghĩa chi phí của nó là tích của ci và số lượng số nằm cùng đoạn liên tiếp với nó </s> <s> chi phí của dãy số ứng với một cách phân hoạch là tổng các chi phí của các phần tử </s> <s> </s> <s> </s> <s> hãy xác định cách phân hoạch dãy số để chi phí là nhỏ nhất </s> <s> </s> <s> </s> <s> input </s> <s> </s> <s> </s> <s> dòng đầu tiên chứa  số l và g </s> <s> </s> <s> l dòng tiếp theo chứa giá trị của dãy c </s> <s> </s> <s> </s> <s> </s> <s> output </s> <s> </s> <s> </s> <s> một dòng duy nhất chứa chi phí nhỏ nhất </s> <s> </s> <s> </s> <s> </s> <s> giới hạn </s> <s> </s> <s> </s> <s>  le l le  </s> <s> </s> <s>  le g le  </s> <s> </s> <s>  le ci le  </s> <s> </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> input </s> <s>   </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> output </s> <s>  </s> <s> </s> <s> giải thích  cách tối ưu là c        </s> <s> </s> <s> </s> <s> chi phí là                          </s> <s> </s> <s> </s> <s> lời giải </s> <s> </s> <s> đây là dạng bài toán phân hoạch dãy số có thể dễ dàng giải bài qhđ </s> <s> gọi fg i là chi phí nhỏ nhất nếu ta phân hoạch i phần tử đầu tiên thành g nhóm khi đó kết quả bài toán sẽ là fg l </s> <s> </s> <s> </s> <s> để tìm công thức truy hồi cho hàm fg i ta sẽ quan tâm đến nhóm cuối cùng </s> <s> coi phần tử  là phần tử cầm canh ở trước phần tử thứ nhất thì người cuối cùng không thuộc nhóm cuối có chỉ số trong đoạn  i </s> <s> giả sử đó là người với chỉ số k thì chi phí của cách phân hoạch sẽ là fg k  costk i với costi j là chi phí nếu phân ji người có chỉ số i j vào một nhóm </s> <s> như vậy </s> <s> </s> <s> fg i  minfg k  costk l với  lt k lt i </s> <s> </s> <s> </s> <s> chú ý là công thức này chỉ được áp dụng với ggt nếu g f i  cost i đây là trường hợp cơ sở </s> <s> </s> <s> </s> <s> việc cài đặt chỉ đơn giản là dựng mảng  chiều f code như sau </s> <s> </s> <s> include ltiostreamgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> const int maxl    </s> <s> const int maxg    </s> <s> const long long inf   long long  e  </s> <s> </s> <s> long long c  maxl  </s> <s> long long sum  maxl  </s> <s> long long f  maxg  maxl  </s> <s> </s> <s> long long cost  int i  int j   </s> <s> return  sum  j   sum  i      j  i    </s> <s>  </s> <s> </s> <s> int main   </s> <s> int g  l  </s> <s> cin gtgt l gtgt g  </s> <s> for  int i    i lt l   i   </s> <s> cin gtgt c  i  </s> <s> sum  i   sum  i     c  i  </s> <s>  </s> <s> </s> <s> for  int g    g lt g   g   </s> <s> for  int i    i lt l   i   </s> <s> if  g     </s> <s> f  g  i   cost    i  </s> <s>  else  </s> <s> f  g  i   inf  </s> <s> for  int k    k lt i   k   </s> <s> long long newcost  f  g    k   cost  k    i  </s> <s> if  f  g  i  gt newcost  f  g  i   newcost  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> cout ltlt f  g  l  ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> chú ý là ta sử dụng mảng sum tiền xử lí ol để có thể truy vấn tổng một đoạn dùng ở hàm cost trong o </s> <s> như vậy độ phức tạp của thuật toán này là og l  l </s> <s> </s> <s> </s> <s> thuật toán tối ưu hơn </s> <s> </s> <s> gọi pg i là k nhỏ nhất để cực tiểu hóa fg i nói cách khác pg i là k nhỏ nhất mà fg i  fg k  costk i </s> <s> </s> <s> </s> <s> tính chất quan trọng để có thể tối ưu thuật toán trên là dựa vào tính đơn điệu của pg i cụ thể </s> <s> </s> <s> pg  le pg  le pg  le cdots le pg l le pg l </s> <s> </s> <s> ta sẽ không chứng minh điều này ở đây độc giả có thể tự thuyết phục rằng điều này là đúng </s> <s> </s> <s> </s> <s> chia để trị </s> <s> </s> <s> để ý rằng để tính fg i ta chỉ cần quan tâm tới hàng trước fg của ma trận </s> <s> </s> <s> fg  fg  </s> <s> </s> <s> </s> <s>  fg l </s> <s> </s> <s> </s> <s> như vậy ta có thể tính hàng fg theo thứ tự bất kỳ </s> <s> </s> <s> </s> <s> ý tưởng là với hàng g trước hết ta tính fg mid và pg mid với midl/ sau đó sử dụng tính chất nêu trên pg i le pg mid với i lt mid và pg i ge pg mid với i gt mid để đi gọi đệ quy đi tính hai nửa còn lại </s> <s> </s> <s> </s> <s> include ltiostreamgt </s> <s> </s> <s> const int maxl    </s> <s> const int maxg    </s> <s> const long long inf   long long  e  </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> long long f  maxg  maxl  sum  maxl  c  maxl  </s> <s> int p  maxg  maxl  </s> <s> </s> <s> long long cost  int i  int j   </s> <s> if  i gt j  return   </s> <s> return  sum  j   sum  i      j  i    </s> <s>  </s> <s> </s> <s> void solve  int g  int l  int r  int optl  int optr   </s> <s> if  l gt r  return  </s> <s> int mid   l  r  /   </s> <s> f  g  mid   inf  </s> <s> for  int i  optl  i lt optr   i   </s> <s> long long newcost  f  g    i   cost  i    mid  </s> <s> if  f  g  mid  gt newcost   </s> <s> f  g  mid   newcost  </s> <s> p  g  mid   i  </s> <s>  </s> <s>  </s> <s> solve  g  l  mid    optl  p  g  mid  </s> <s> solve  g  mid    r  p  g  mid  optr  </s> <s>  </s> <s> </s> <s> int main   </s> <s> int g  l  </s> <s> cin gtgt l gtgt g  </s> <s> for  int i    i lt l   i   </s> <s> cin gtgt c  i  </s> <s> sum  i   sum  i     c  i  </s> <s>  </s> <s> for  int i    i lt l   i  f    i   cost    i  </s> <s> for  int g    g lt g   g  solve  g    l    l  </s> <s> cout ltlt f  g  l  ltlt endl  </s> <s> return   </s> <s>  </s> <s> </s> <s> </s> <s> chú ý rằng ta không thể đảm bảo rằng pgmid chia đôi đoạn optl optr thực tế một vài hàm solve sẽ chạy chậm hơn nhiều hàm solve khác </s> <s> </s> <s> </s> <s> tuy nhiên ta có thể chứng minh được xét về tổng thế thuật toán này chạy đủ nhanh </s> <s> mỗi lần ta chia đôi đoạn l r nên ta sẽ đảm bảo có tối đa ologl tầng đệ quy như vậy với mỗi hàng g ta chỉ mất ol  logl để tính </s> <s> toàn bộ thuật toán có độ phức tạp là og  l  logl </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> điều kiện để chia để trị đúng </s> <s> </s> <s> điều kiện theo best </s> <s> </s> <s> như ở bài hai nhà máy ceoi  </s> <s> </s> <s> nếu besti le besti ta có thể sử dụng chia để trị </s> <s> </s> <s> </s> <s> điều kiện theo cost </s> <s> </s> <s> nếu hàm cost thoả mãn quadrangle inequalities </s> <s> </s> <s> costa d  costb c ge costa c  costb d với mọi a lt b lt c lt d </s> <s> </s> <s> ta cũng có thể sử dụng qhđ chia để trị </s> <s> </s> <s> </s> <s> bài luyện tập </s> <s> </s> <s> </s> <s> f  acm icpc vietnam regional  </s> <s> hackerrank  mining </s> <s> </s> <s> </s> <s> </s> <s> thuật toán tham lam </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/greedyisgood </s> <s> </s> <s> </s> <s> </s> <s> nguồn bài  topcoder </s> <s> </s> <s> ví dụ minh họa </s> <s> </s> <s> john smith đang gặp rắc rối anh ấy là một thành viên của topcoder và sau khi học cách để trở thành bậc thầy trong việc đối phối với các bài toán quy hoạch động anh ấy bắt đầu giải quyết hàng loạt các bài tập </s> <s> nhưng chiếc máy tính dễ bảo của anh bắt đầu trở chứng vào hôm nay </s> <s> vào mỗi buổi sáng như thường lệ john thức dậy vào lúc  giờ sáng uống một cốc cà phê và bắt đầu giải các bài tập trước khi thưởng thức bữa sáng </s> <s> mặc dù có thứ gì đó sai sai so với mọi hôm nhưng dựa vào kho tàng kiến thức mà anh ấy vừa mới gặt hái được john đã viết chương trình với một tốc độ thần thánh </s> <s> mệt mỏi với việc cấp phát ma trận vào mỗi buổi sáng chiếc máy tính thông báo rằng segmentation fault </s> <s> dù cho dạ dày còn đang rỗng song với ý tưởng thông minh của mình john đã vượt qua rắc rối bằng cách chèn thêm một vòng lặp </s> <s> nhưng chiếc máy tính lại gào lên time limit exceeded </s> <s> </s> <s> </s> <s> thay vì tiếp tục vướng vào mớ rắc rối john đã có một quyết định thông minh hơn </s> <s> quá đủ cho việc lập trình  john nói </s> <s> anh ấy quyết định sẽ có một kỳ nghỉ như là phần thưởng cho những nỗ lực của mình </s> <s> </s> <s> </s> <s> là một con người tràn trề sinh lực john muốn dành thời gian nhiều cho cuộc đời của mình </s> <s> có quá nhiều thứ mà anh ta muốn làm nhưng không may là anh ta không thể nào làm hết tất cả chúng được </s> <s> thế nên trong lúc ăn sáng john đã vạch ra một fun plan được thể hiện bằng một thời gian biểu cho từng hoạt động như sau </s> <s> </s> <s> </s> <s> </s> <s> id hoạt động thời gian </s> <s> </s> <s> </s> <s>  sửa phòng thứ   đến thứ   </s> <s> </s> <s> </s> <s>  du lịch hawaii thứ   đến thứ   </s> <s> </s> <s> </s> <s>  vô địch cuộc thi cờ vua thứ   đến thứ   </s> <s> </s> <s> </s> <s>  thạm dự nhạc hội rock thứ   đến thứ   </s> <s> </s> <s> </s> <s>  chiến thắng cuộc thi starcraft thứ   đến thứ   </s> <s> </s> <s> </s> <s>  chơi trò bắn súng nước sơn thứ   đến thứ   </s> <s> </s> <s> </s> <s>  tham gia kỳ thi srm trên topcoder </s> <s> thứ   đến thứ   </s> <s> </s> <s> </s> <s>  tắm rửa thứ   đến thứ   </s> <s> </s> <s> </s> <s>  tổ chức tiệc ngủ thứ   đến chủ nhật  </s> <s> </s> <s> </s> <s>  tham gia thử thách all you can eat và all you can drink </s> <s> thứ   đến thứ   </s> <s> </s> <s> </s> <s> </s> <s> giờ anh ấy muốn thực hiện được tối đa các hoạt động trong thời gian biểu trên </s> <s> mặc dù để lên kế hoạch hiệu quả thì cần phải có chút lý trí nhưng giờ thì hồn anh ấy đã đắm chìm vào kỳ nghỉ rồi </s> <s> </s> <s> </s> <s> phát biểu bài toán </s> <s> </s> <s> liệu ta có thể giúp anh ấy có một kỳ nghỉ tuyệt vời ta hoàn toàn có thể đầu tiên ta cần phải trình bày lại bài toán </s> <s> </s> <s> </s> <s> john có n hoạt động </s> <s> hoạt động i bắt đầu vào thời gian li và kết thúc vào thời gian ri </s> <s> </s> <s> john có thể thực hiện cả hoạt động i và hoạt động j nếu  khoảng thời gian li ri và lj rj không giao nhau </s> <s> </s> <s> là một lập trình viên tỉ mỉ một khi đã đặt ra kế hoạch anh ấy buộc phải thực hiện nó </s> <s> </s> <s> </s> <s> </s> <s> mỗi hoạt động chỉ có hai chọn lựa là có hoặc không </s> <s> với mỗi trường hợp chọn lựa cho hoạt động thứ nhất ta lại có thêm  lựa chọn cho hoạt động thứ  </s> <s> phân tích nhanh ta sẽ thấy được rằng có n trường hợp và trong tình huống này thì sẽ có    trường hợp </s> <s> với mỗi trường hợp ta sẽ kiểm tra xem có thể thực hiện được các hoạt động đó không có  cặp hoạt động nào bị trùng thời gian hay không </s> <s> sau khi xét hết các phương án ta dễ dàng tìm ra  phương án có nhiều hoạt động nhất </s> <s> với khá nhiều sự chọn lựa như thế này john buộc phải nhờ đến sự giúp đỡ của chiếc máy tính đang mệt mỏi </s> <s> nhưng điều gì sẽ xảy ra nếu john có tới  hoạt động trong danh sách thậm chí dùng đến cả siêu máy tính nhanh nhất thế giới thì cũng cần đến vài năm để tìm ra câu trả lời </s> <s> thế nên phương án này khá phi thực tế </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> chúng ta cần tìm một cách tiếp cận mới </s> <s> một phương án tốt có lẽ là thực hiện công việc ngay khi thời cơ đến nếu ta có hai hoạt động và chúng bị trùng về thời gian ta sẽ ưu tiên lựa chọn hoạt động bắt đầu trước nhằm tiết kiệm thời gian nghĩa là hoạt động có li nhỏ hơn </s> <s> nếu áp dụng cách này vào  hoạt động trên thì </s> <s> </s> <s> </s> <s> john bắt đầu buổi tối t bằng việc sửa phòng </s> <s> </s> <s> buổi sáng t anh ấy sẽ lên máy bay đi du lịch hawaii </s> <s> </s> <s> </s> <s> </s> <s> và chưa đầy một ngày nhưng anh ấy đã thực hiện được  hoạt động </s> <s> thật tuyệt vời nhưng thật ra đó chỉ là lựa chọn tốt nhất lúc này thôi </s> <s> và bây giờ thì ta có gì  ngày ăn chơi ở hawaii và cho đến tận tối thứ  thì anh ấy vẫn chỉ thực hiện được  hoạt động </s> <s> hãy nghĩ xem trong  ngày đó anh ta đã có thể thực hiện được những gì </s> <s> mặc dù đơn giản và thực thi rất nhanh song rất không may là thuật toán này lại không chính xác </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> hãy thử một mánh khóe khác </s> <s> giờ ta sẽ bỏ những hoạt động tiêu tốn nhiều thời gian như đi du lịch hawaii bằng cách lựa chọn những hoạt động tốn ít thời gian nhất nghĩa là có ri  li nhỏ nhất và kiểm tra xem nó có hợp lí với những hoạt động đã chọn trước đó chưa rồi tiếp tục quá trình </s> <s> theo như thời gian biểu ở trên thì hoạt động đầu tiện được chọn lựa sẽ là tắm </s> <s> với thời gian chỉ  phút đây chính là lựa chọn tối ưu cục bộ  local best  </s> <s> và giờ điều mà ta cần biết đó là có thể giữ được tối ưu cục bộ khi mà những hoạt động thích hợp khác được chọn lựa </s> <s> thời gian biểu của john sẽ như sau </s> <s> </s> <s> </s> <s> </s> <s> tắm rửa  phút tối t    </s> <s> </s> <s> </s> <s> tham gia kỳ thi srm trên topcoder  tiếng t    </s> <s> </s> <s> </s> <s> tham gia thử thách all you can eat và all you can drink  tiếng  phút t    </s> <s> </s> <s> </s> <s> sửa phòng  tiếng t   t  </s> <s> </s> <s> </s> <s> thạm dự nhạc hội rock  tiếng t    </s> <s> </s> <s> </s> <s> chơi trò bắn súng nước sơn  tiếng t    </s> <s> </s> <s> </s> <s> </s> <s> trong  hành động ta đã lựa ra được  hành động không tệ chút nào giờ thì thuật toán của ta vẫn chạy rất nhanh và đáng tin cậy hơn chút </s> <s> và quả thực đáp án chính xác trong trường hợp này là  </s> <s> john rất hài lòng về sự hỗ trợ của chúng ta nhưng sau khi trở về từ kỳ nghỉ với kế hoạch thông minh này john đã phải đối mặt với những rắc rối nghiêm trọng khác </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> áp dụng thuật toán của ta john đã tham gia một cuộc hẹn hò chóng vánh màu đỏ để rồi anh ấy đã bỏ lỡ cả bài thi trong trường màu xanh da trời lẫn trận đấu bóng rổ của đội anh ấy yêu thích màu xanh lá </s> <s> là một topcoder  chúng ta cần phải viết ra một chương trình hoàn toàn chính xác chứ không phải chỉ đúng trong  số trường hợp </s> <s> chỉ cần một trường hợp duy nhất chúng ta không giải quyết được sẽ dẫn tới một thất bại toàn diện </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> những gì mà chúng ta thường làm trong tình huống này là phân tích điều gì đã gây ra lỗi ở cách làm trước để tránh lặp lại nó trong tương lai </s> <s> hãy xem xét lại trường hợp sai </s> <s> cuộc hẹn hò trùng thời gian với cả việc làm bài thi lẫn trận đấu bóng rổ trong khi cả trận đấu bóng rổ lẫn làm bài thi chỉ trùng lặp với một mình cuộc hẹn hò </s> <s> vậy thì ý tưởng cũng tự sinh ra từ vấn đề này </s> <s> tại sao ta không chọn hoạt động ít bị trùng lặp nhất so với những hoạt động còn lại nghe có vẻ hợp lí </s> <s> </s> <s> để đảm bảo rằng phương pháp này hoàn toàn đúng đắn lần này ta hãy thử chứng minh </s> <s> giờ giả sử ta đã lựa chọn hoạt động x ta sẽ thử kiểm tra xem ta có thể lựa chọn hoạt động a và b những hoạt động bị trùng lặp với x thay vì x được hay không </s> <s> và a b cũng không được trùng lặp nhau nếu không ta cũng không thể tối ưu hóa kết quả </s> <s> bây giờ ta sẽ quay về trường hợp trước đó x trùng với  hoạt động a và b trùng với  hoạt động </s> <s> trong trường hợp này ta sẽ chọn a và b ngay từ đầu tiên </s> <s> một trong những cách để phản bác lại giả thiết này chính là cho hoạt động a và b trùng lặp với nhiều hoạt động hơn nữa chứ không chỉ hoạt động x </s> <s> nghe nó có vẻ không trực quan cho lắm nhưng thật không may ta vẫn có thể xây dựng trường hợp đó như sau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nhưng hoạt động được biểu diễn bằng gạch màu xanh chính là những lựa chọn tối ưu trong thời gian biểu trên </s> <s> nhưng hoạt động tô màu đỏ trùng lặp với  hoạt động nên nó sẽ được chọn trước </s> <s> vẫn còn  hoạt động thích hợp khác trước hoạt động đỏ nhưng chúng đều bị trùng lặp lẫn nhau thế nên ta chỉ có thể lựa chọn thêm  hoạt động </s> <s> điều tương tự cũng xảy ra đối với  hoạt động sau hoạt động màu đỏ nhưng ta vẫn chỉ có thể chọn  </s> <s> vậy tổng cộng theo phương pháp này ta vẫn chỉ có thể chọn  hoạt động trong khi kết quả tối ưu là  </s> <s> </s> <s> </s> <s> tiếp cận  </s> <s> </s> <s> tổng quát lại ta đã thử  cách khác nhau và mỗi cách đều có thiếu sót </s> <s> </s> <s> </s> <s> cách  chọn hoạt động có li nhỏ nhất </s> <s> cách  chọn hoạt động có ri  li nhỏ nhất </s> <s> cách  chọn hoạt động giao với ít hoạt động khác nhất </s> <s> </s> <s> </s> <s> </s> <s> có vẻ như chúng ta đang đối mặt với một vấn đề hóc búa </s> <s> nhưng thật ra vấn đề này vẫn có một cách giải quyết đẹp đẽ và không hề phức tạp </s> <s> nếu ta xem xét hình trên một cách kỹ lưỡng hơn nữa ta sẽ thấy được rằng hoạt động màu xanh nằm ở góc trái dưới là là hoạt động duy nhất hoàn thành trước đường vẽ dọc màu đỏ </s> <s> vậy nếu lựa chọn  hoạt động đơn lẻ ta sẽ chọn hoạt động kết thúc sớm nhất có ri nhỏ nhất </s> <s> gọi thời điểm hoàn thành hoạt động đó là t thì khoảng thời gian sau t sẽ trống để ta có thể chọn các hoạt động khác </s> <s> nếu chúng ta chọn bất kỳ hoạt động nào khác thì khoảng thời gian còn lại sẽ ngắn đi </s> <s> điều này là hiển nhiên bởi vì khi ta kết thúc với bất kỳ một hoạt động nào khác thì luôn luôn t gt t </s> <s> trong trường hợp đầu tiên ta sẽ có toàn bộ thời gian từ t đến khi kết thúc và bao gồm luôn khoảng từ t đến kết thúc </s> <s> bởi vậy mà nó cũng không có khuyết điểm trong việc lựa chọn hoạt động kết thúc sớm </s> <s> và nó còn có một ưu điểm đó là ta hoàn toàn có thể chèn thêm một hoạt đồng bất kỳ vào giữa t và t và kết thúc trước khi hoạt động của t bắt đầu </s> <s> </s> <s> </s> <s> trên đây là ý tưởng để chứng minh thuật toán này đúng </s> <s> ta có thể từ đó để chứng minh chặt chẽ là cách làm này đúng </s> <s> </s> <s> </s> <s> được biết tới với tên gọi lựa chọn hoạt động  activity selection  đây là bài toán cơ sở sử dụng phương pháp tham lam </s> <s> giống như là một gã tham lam luôn muốn chiếm lấy nhiều nhất thường xuyên nhất mà hắn ta có thể trong trường hợp này ở mỗi bước ta sẽ chọn lựa một hoạt động kết thúc đầu tiên và mỗi lần đều không có hoạt động đang trong tiến trình </s> <s> và có một sự thật đó là ta luôn luôn áp dụng phương pháp tham lam cho mỗi bước trong cuộc đời của mình </s> <s> khi ta đi mua sắm hoặc đi xe hơi ta đều luôn lựa chọn phương án tốt nhất tại thời điểm hiện tại </s> <s> thật ra phương pháp tham lam có  công thức chung </s> <s> </s> <s> </s> <s> tính lựa chọn tối ưu từ những kết quả tối ưu cục bộ ta có thể đi đến kết quả tối ưu toàn cục mà không cần phải xem xét lại các kết quả </s> <s> </s> <s> tính tối ưu từ bài toán nhỏ kết quả tối ưu có được xác định bằng các kết quả tối ưu từ bài toán nhỏ hơn </s> <s> </s> <s> </s> <s> </s> <s> đoạn mã giả dưới đây diễn ta cách lựa chọn tối ưu các hoạt động bằng thuật toán tham lam mà ta vừa chứng minh phía trên </s> <s> </s> <s> đặt n là số hoạt động và </s> <s> i là hoạt động thứ i  lt i lt n </s> <s> </s> <s> với mỗi i xét si và fi lần lượt là thời gian bắt đầu và kết thúc của hoạt động đó </s> <s> </s> <s> sắp xếp lại các hoạt động theo thứ tự tăng dần của thời gian kết thúc </s> <s> </s> <s>  có nghĩa là với i lt j ta phải có f i lt f j </s> <s> </s> <s> // a là tập hợp các hoạt động được chọn </s> <s> a   </s> <s> // j là hoạt động cuối cùng được chọn </s> <s> j   </s> <s> for i   to n </s> <s> // ta có thể chọn i nếu nó là hoạt động cuối cùng </s> <s> // việc chọn lựa đã hoàn thành </s> <s> if s i gt f j </s> <s> // lựa chọn hoạt động i </s> <s> a  a  i </s> <s> </s> <s> // hoạt động i giờ trở thành hoạt động cuối cùng được lựa chọn </s> <s> j  i </s> <s> endif </s> <s> endfor </s> <s> </s> <s> return a </s> <s> </s> <s> sau khi áp dụng thuật toán trên fun plan của johnny sẽ như thế này </s> <s> </s> <s> </s> <s> sửa phòng </s> <s> vô địch cuộc thi cờ vua </s> <s> chiến thắng cuộc thi starcraft </s> <s> tham gia kỳ thi srm trên topcoder </s> <s> tắm rửa </s> <s> tham gia thử thách all you can eat và all you can drink </s> <s> </s> <s> </s> <s> vấn đề của john smith đã được giải quyết tuy nhiên đây chỉ là một ví dụ mà tham lam có thể hoạt động </s> <s> </s> <s> </s> <s> bài tập tương tự boxing </s> <s> </s> <s> bioscore </s> <s> </s> <s> bài toán </s> <s> </s> <s> </s> <s> cho n dãy ký tự dài bằng nhau </s> <s> mỗi dãy gồm  loại ký tự a  c  t  g </s> <s> </s> <s> độ tương đồng của  dãy là tổng điểm của các cặp ký tự của cùng vị trí </s> <s> ví dụ độ tương đồng của acta và gatc là scoreag  scoreca  scorett  scoreac </s> <s> </s> <s> </s> <s> </s> <s> tìm cách xây dựng bảng s  score  sao cho độ tương đồng của tất cả các cặp  xâu trong n xâu là lớn nhất biết rằng bảng s phải thỏa mãn các tính chất </s> <s> </s> <s> </s> <s> các giá trị từ  đến  </s> <s> đối xứng sx y  sy x </s> <s> </s> <s> đường chéo dương sx x gt  </s> <s> </s> <s> tổng các số trong s phải bằng  </s> <s> </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> việc đầu tiên mà ta cần làm là xây dựng một ma trận cho biết số lần lặp  ma trận tần số  của từng cặp  ký tự </s> <s> đây là một công việc khá nhẹ nhàng khi mà ta chỉ cần ghép từng cặp ký tự ở hai chuỗi tạo rồi đếm số lần xuất hiện của chúng  aa  ac  ag  at  ca  cc  cg  ct  ga  gc  gg  gt  ta  tc  tg  tt  </s> <s> từng cặp ký tự sẽ được xem như một phần tử trong ma trận và giá trị của nó chính là số lần xuất hiện của nó </s> <s> </s> <s> </s> <s> ví dụ hãy xét bộ actagagac aaaaaaaaa tagtcatac gcagcattc được sử dụng ở ví dụ thứ  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ở góc phải  dưới của hình minh họa trên ta có thể thấy kết quả của ma trận tần số đối với bộ đã cho </s> <s> tạm gọi nó là f </s> <s> giờ việc mà ta cần làm là tìm ra một ma trận s sao cho tổng của các tích fi j  si j với  le i j le  là lớn nhất </s> <s> </s> <s> </s> <s> giờ ta xét từng điều kiện cho ma trận cần tìm </s> <s> </s> <s>  tổng của  phần tử bằng  </s> <s> </s> <s> rõ ràng nếu ta không giới hạn tổng của các phần tử thì ta có thể đạt được tổng bằng vô cùng nếu gán tất cả các phần tử của s là vô cùng </s> <s> nhưng bởi vì tống của chúng phải bằng  thế nên khi ta tăng giá trị  phần tử lên thì ta sẽ phải giảm đi giá trị của  phần tử khác </s> <s> thử thách ở điều kiện này chính là phải tìm ra một sự phân bố tối ưu </s> <s> </s> <s> </s> <s>  giá trị mỗi phần tử chỉ nằm trong khoảng từ  đến  si j in   </s> <s> </s> <s> tương tự nếu không có điều kiện này kết quả có thể lên đến vô cùng nếu ta có  cặp không xuất hiện gán s tương ứng là âm vô cùng còn các phần tử còn lại trong mảng là dương vô cùng </s> <s> </s> <s> </s> <s>  mỗi phần tử đối xứng phải có giá trị bằng nhau sx y  sy x </s> <s> </s> <s> bởi vì tính đối xứng ta phải quy định cho các điểm cho các cặp như ac và ca bằng nhau </s> <s> do tính đối xứng này ta cập nhật lại mảng tần số xuất hiện để tính cả các cặp đối xứng </s> <s> đối với ví dụ trên ta có bảng tần số mới như sau </s> <s> </s> <s> </s> <s> </s> <s> aa  acca  agga  atta  </s> <s> </s> <s> </s> <s> cc  cggc  tcct  </s> <s> </s> <s> gg  gttg  </s> <s> </s> <s> </s> <s> tt  </s> <s> </s> <s> </s> <s> </s> <s> từ trực giác ta có thể thấy ngay đến phương án như sau đã sẽ gán điểm số càng cao đối với cặp xuất hiện càng nhiều lần </s> <s> </s> <s> </s> <s>  các phần tử trên đường chéo phải dương sx x gt  </s> <s> </s> <s> do tính chất này ta phải xét riêng hai loại phần tử </s> <s> </s> <s> </s> <s>  phần tử trên đường chéo các phần tử đại diện cho aa  cc  gg  tt  </s> <s>  phần tử không nằm trên đường chéo các phần tử đại diện cho ac  ca  ag  ga  at  ta  cg  gc  ct  tc  gt tg  </s> <s> </s> <s> </s> <s> </s> <s> ta xét tất cả các trường hợp chọn các phần tử của nhóm thứ nhất </s> <s> có    trường hợp khác nhau </s> <s> với mỗi trường hợp của nhóm thứ nhất ta sẽ tìm đáp án tối ưu cho nhóm thứ  </s> <s> </s> <s> </s> <s> </s> <s> với mỗi trường hợp ta có tổng các phần tử của nhóm thứ nhất nằm trong khoảng   nên tổng các phần tử của nhóm thứ  nằm trong khoảng   chú ý rằng nhóm thứ  đối xứng mỗi phần tử xuất hiện  lần trong ma trận s nên ta phải nhân đôi </s> <s> </s> <s> vì các phần tử của nhóm  có chung tính chất ta sử dụng tham lam để tìm kết quả tối ưu cho nhóm thứ  </s> <s> </s> <s> </s> <s> </s> <s> nhắc lại tư tưởng của tham lam tại mỗi bước ta chọn một lựa chọn tối ưu cục bộ </s> <s> trong trường hợp này nghĩa là ta xét lần lượt từng phần tử với mỗi phần tử gán cho nó giá trị tối ưu </s> <s> </s> <s> </s> <s> nhận xét </s> <s> </s> <s> </s> <s> nếu ta xét lần lượt các phần tử theo thứ tự giảm dần ở mỗi bước ta gán giá trị lớn nhất có thể cho phần tử đó thì kết quả thu được sẽ tối ưu </s> <s> </s> <s> </s> <s> </s> <s> do đó cách làm là </s> <s> </s> <s> </s> <s> sắp xếp  phần tử của nhóm  theo thứ tự giảm dần theo ma trận f </s> <s> </s> <s> hai giá trị đầu tiên sẽ được gán bằng  vì trường hợp xấu nhất ta cần tổng bằng  thì ta vẫn có thể gán  giá trị còn lại là  </s> <s> </s> <s> ta biết rằng số điểm cuối cùng sẽ nhỏ hơn  </s> <s> bởi vì ta muốn tối đa hóa số điểm của phần tử thứ  nên ba phần tử còn lại sẽ luôn là  </s> <s> </s> <s> </s> <s> trong trường hợp tốt nhất tổng bằng  ta thu được       </s> <s> </s> <s> trong trường hợp xấu nhất tổng bằng  ta thu được       </s> <s> </s> <s> ta có thể thu được tất cả các tổng từ  đến  bằng việc thay đổi giá trị của phần tử thứ  từ  đến  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> giờ ta cần chứng minh rằng phương pháp của mình là đúng </s> <s> </s> <s> </s> <s> </s> <s> vì ta xét hết tất cả các trường hợp của nhóm  nên ta chỉ cần chứng minh cách chọn các phần tử của nhóm  là tối ưu </s> <s> </s> <s> vì tổng các phần tử của nhóm  cố định nên nếu ta tăng  phần tử thì phải giảm  phần tử khác </s> <s> </s> <s> gọi f và f là số lần xuất hiện của  số bất kỳ của nhóm  </s> <s> ta có </s> <s> </s> <s> </s> <s> f  s  f  s  x </s> <s> </s> <s> </s> <s> </s> <s> không làm mất tính tổng quát giả sử f ge f </s> <s> do cách tham ta có s ge s </s> <s> ta cũng có s là lớn nhất có thể nên ta không thể tăng s </s> <s> </s> <s> giả sử cách làm của ta không tối ưu nghĩa là ta có một cách chọn  số a sao cho </s> <s> </s> <s> </s> <s> f  s  a  f  s  a  y với a là số dương </s> <s> </s> <s> ta có yx  a  ff </s> <s> bởi vì f ge f nên yx luôn âm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> do vậy cách làm của ta là tối ưu </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> ý tưởng chính của thuật toán trên sẽ được minh họa trong đoạn mã giả dưới đây </s> <s> </s> <s> best  infinity </s> <s> for s   to  </s> <s> for s   to  </s> <s> for s   to  </s> <s> for s   to  </s> <s> if s  s  s  s mod    </s> <s> s  s   </s> <s> s    s  s  s  s /  </s> <s> s  s  s   </s> <s> </s> <s> // biến best sẽ lưu lại giá trị trung bình lớn nhất tìm được </s> <s> best  max best score f s </s> <s> endif </s> <s> endfor </s> <s> endfor </s> <s> endfor </s> <s> endfor </s> <s> return best </s> <s> </s> <s> đối với mảng lưu điểm đã cho trong trường hợp của chúng ta là mảng s ta sẽ tính kết quả cuối cùng bằng việc chỉ tính tổng của tích fi  s i  </s> <s> </s> <s> </s> <s> goldmine </s> <s> </s> <s> bài toán </s> <s> </s> <s> có n mỏ vàng mỗi mỏ vàng chứa được tối đa  công nhân </s> <s> bằng cách phân bổ các công nhân công ty sẽ thu được hoặc mất đi số tiền như sau </s> <s> </s> <s> </s> <s> nếu mỏ vàng có ít nhân công hơn trữ lượng của nó công ty sẽ thu được  với mỗi công nhân </s> <s> </s> <s> nếu mỏ vàng có số công nhân bằng với trữ lượng của nó công ty sẽ thu được  cho với mỗi công nhân </s> <s> </s> <s> nếu mỏ vàng có số công nhân nhiều hơn trữ lượng của nó công ty sẽ được số tiền là  nhân cho trữ lượng mỏ </s> <s> với mỗi công nhân bị thừa ra so với sản lượng mỏ công ty sẽ bị mất đi  </s> <s> </s> <s> </s> <s> </s> <s> dù cho có bị mất tiền đi chăng nữa thì công ty cũng buộc phải phân công đủ các công nhân vào các mỏ </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> bằng việc sử dụng phương pháp tham lam ta sẽ phân tích xem cách một mỏ vàng bị khai thác triệt </s> <s> kinh nghiệm cho thấy đối với dạng bài như tìm kiếm giá trị tối đa thường ta có thể giải quyết bằng tham lam </s> <s> trong trường hợp này mục tiêu của ta là chỉ định những công nhân đến các mỏ vàng sao cho tổng lợi nhuận thu được là tối đa </s> <s> phân tích nhanh ta thấy rằng cần phải biết lợi nhuận thu được từ các mỏ vàng trong tất cả các trường hợp chỉ có  trường hợp  từ  đến  công nhân </s> <s> bảng dưới đây sẽ cho ta thấy lợi nhuận khả thi đối với hai mỏ ở ví dụ  trong bài </s> <s> </s> <s> </s> <s>  người  người  người  người  người  người  người </s> <s> mỏ         </s> <s> mỏ         </s> <s> </s> <s> </s> <s> nếu ta chỉ có duy nhất một công nhân lựa chọn tối ưu chính là cho anh ta vào mỏ nơi mà anh ta mang lại nhiều lợi nhuận nhất </s> <s> nhưng nếu ta có nhiều công nhân ta cần phải kiểm tra xem nếu phân công anh ở mỏ tương tự có mang lại lợi nhuận cục bộ tối ưu không </s> <s> </s> <s> </s> <s> trong ví dụ ta có  công nhân cần được phân công </s> <s> bảng dưới đây sẽ cho biết lợi nhuận thu được của mỗi mỏ với từng công nhân được thêm vào </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ           </s> <s> </s> <s> </s> <s> ta để ý rằng mỏ  sẽ tăng thêm  nếu ta thêm vào một công nhân trong khi mỏ  chỉ tăng thêm  </s> <s> thế nên ta sẽ phân bố người đầu tiên vào mỏ  </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ           </s> <s> </s> <s> </s> <s> giờ nếu ta thêm công nhân vào mỏ  ta chỉ tăng lợi nhuận được thêm  </s> <s> bởi vậy nên ta sẽ thêm công nhân vào mỏ  lúc này lợi nhuận ta thu được sẽ tăng thêm  </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ          </s> <s> </s> <s> </s> <s> công nhân thứ  sẽ có ích hơn khi làm ở mỏ  với lợi nhuận thu được là  </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ         </s> <s> </s> <s> </s> <s> với công nhân thứ  ta có thể cho anh ta vào mỏ  với lợi nhuận là  hoặc mỏ  với lợi nhuận là  </s> <s> dĩ nhiên ta sẽ phân công anh ấy vào mỏ hai </s> <s> </s> <s> </s> <s> </s> <s> ban đầu người  người  người  người  người  người  </s> <s> mỏ         </s> <s> mỏ         </s> <s> </s> <s> </s> <s> cuối cùng hai công nhân còn lại sẽ được phân công bằng cách cho cả hai vào làm ở mỏ  hoặc mỗi người làm ở một mỏ riêng </s> <s> ví dụ cho ta thấy kết quả mà ta vừa tìm được chính là kết quả tối ưu </s> <s> nhưng câu hỏi đặt ra là liệu phương pháp này có luôn đúng hay không </s> <s> </s> <s> khẳng định ta luôn luôn thu được tổng lợi nhuận lớn nhất khi lần lượt cho từng công nhân vào mỏ có lợi nhuận cao nhất ở thời điểm hiện tại </s> <s> </s> <s> </s> <s> chứng minh  gọi a b lần lượt là mỏ  và mỏ  a b a b được định nghĩa như sau </s> <s> </s> <s> </s> <s> a  lợi nhuận thu được khi phân công thêm một công nhân vào a </s> <s> </s> <s> aa  lợi nhuận thu được khi phân công thêm hai công nhân vào a </s> <s> </s> <s> b  lợi nhuận thu được khi phân công thêm một công nhân vào b </s> <s> </s> <s> bb  lợi nhuận thu được khi phân công thêm hai công nhân vào b </s> <s> </s> <s> </s> <s> </s> <s> thuật toán tham lam của ta sẽ gia tăng lợi nhuận bằng a cho công nhân đầu tiên và ab cho công nhân thứ  </s> <s> tổng lợi nhuận lúc này sẽ là amaxa b </s> <s> nếu ban đầu ta chọn b thì lợi nhuận của công nhân thứ  thu được sẽ là a hoặc b </s> <s> </s> <s> </s> <s> trong trường hợp đầu tiên ta sẽ có ab le amaxa b </s> <s> </s> <s> </s> <s> trong trường hợp thứ hai tổng lợi nhuận sẽ là bb </s> <s> ta cần phải chứng minh bb le amaxa b </s> <s> mà ta luôn có b le b vì lợi nhuận thu được từ việc thêm một công nhân vào một mỏ luôn luôn lớn hơn hoặc bằng lợi nhuận thu được từ việc thêm một công nhân nữa vào mỏ đó </s> <s> </s> <s> </s> <s> </s> <s> trạng thái của mỏ vàng lợi nhuận từ việc thêm  người lợi nhuận từ việc thêm  người </s> <s> số lượng mỏ gtsố lượng người đào   </s> <s> số lượng mỏ  số lượng người đào   </s> <s> số lượng mỏ  số lượng người đào   </s> <s> số lượng mỏ  </s> <s>   </s> <s> </s> <s> </s> <s> vì bb le aa le ab le amaxa b lựa chọn tham lam cũng chính là phương án tối ưu </s> <s> </s> <s> </s> <s> cài đặt thuật toán này hoàn toàn không khó tuy nhiên ta cần phải xử lý thêm một vài trường hợp nữa tất cả các công nhân đều phải được phân công chỉ có tối đa sáu người trong một mỏ và nếu một công nhân có thể được đặt tối ưu ở nhiều mỏ ưu tiên mỏ có chỉ số nhỏ hơn </s> <s> </s> <s> </s> <s> worldpeace </s> <s> </s> <s> bài toán </s> <s> cho n đất nước mỗi nước có dân số của họ </s> <s> hãy chia thành thành các nhóm có k người không có cùng quốc tịch </s> <s> hãy cho biết số lượng nhóm tối đa có thể đạt được </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> những thuật toán tham lam đều hoạt động tốt ở mọi tình huống bởi ta đã chứng minh được tính đúng đắn của nó </s> <s> nhưng còn một lớp bài toán tối ưu hóa nữa mà thuật toán tham lam có thể được áp dụng </s> <s> đây là những bài tập thuộc lớp np  đầy đủ như bài toán người đưa thư tsp traveling salesman problem  đối với dạng bài toán này ta thường sẽ sử dụng phượng pháp nhánh cận để giải quyết vấn đề hơn là chờ đợi chương trình thực thi </s> <s> </s> <s> </s> <s> lời giải không phải lúc nào cũng là tối ưu song trong phần lớn trường hợp nó đã đủ tốt rồi </s> <s> với một bài toán không thuộc lớp np như thế này đây chính là ví dụ tuyệt vời cho việc một thuật toán tham lam không chỉ có thể đánh lừa và vượt qua các test mẫu mà nó còn có thể vượt qua cả những bộ test hệ thống được thiết kế kỹ càng </s> <s> thuật toán này không quá khó để nghĩ ra mà chỉ cần một vài phân tích nhanh ta có thể nhận ra để tối đa hóa tổng số lượng nhóm luôn luôn tối ưu để tạo thiết lập một nhóm từ k quốc gia có dân số đông nhất </s> <s> chúng ta áp dụng phương pháp này ở từng bước và sau đó sắp xếp lại đoạn để thấy được k quốc gia tiếp theo có dân số đông nhất </s> <s> ý tưởng này sẽ được minh họa trong đoạn mã giả dưới đây </s> <s> </s> <s> groups   </s> <s> repeat </s> <s> // sắp xếp lại mảng theo thứ tự giảm dần </s> <s> sort a </s> <s> min  ak </s> <s> if min gt  </s> <s> groups  groups   </s> <s> for i   to k </s> <s> ai  ai   </s> <s> endfor </s> <s> until min   </s> <s> return groups </s> <s> </s> <s> không may thay mỗi quốc gia lại có tới hàng tỷ người dân thế nên ta không thể nào thiết lập từng nhóm một được </s> <s> về mặt lý thuyết đối với một tập hợp của k quốc gia chúng ta sẽ tạo nhóm cho đến khi mà toàn bộ người dân của nước đó đã được phân nhóm </s> <s> và điều này sẽ được thực hiện chỉ trong  bước </s> <s> </s> <s> groups   </s> <s> repeat </s> <s> // sắp xếp lại mảng theo thứ tự giảm dần </s> <s> sort a </s> <s> min ak </s> <s> groups  groups  min </s> <s> for i   to k </s> <s> ai  ai  min </s> <s> endfor </s> <s> until min   </s> <s> return groups </s> <s> </s> <s> thời gian thực thi giờ không còn là vấn đề nữa mà vấn đề giờ đây chính là tính đúng đắn của thuật toán khi ta thử ví dụ  trong bài thuật toán của chúng ta trả về kết quả là  chứ không phải là  </s> <s> nhưng kết quả trả về trong ví dụ   và  thì đúng </s> <s> trong với ví dụ cuối cùng thay vì tạo ra  nhóm ta chỉ tạo được  nhóm mà thôi </s> <s> bằng việc chỉ kết quả có sai lệch không đáng kể ta có thể thấy rằng giải thuật của mình khá tốt </s> <s> thế nên giờ ta chỉ cần cải tiến nó theo hướng này </s> <s> </s> <s> </s> <s> cho đến hiện tại ta đã có trong tay hai thuật toán </s> <s> </s> <s> </s> <s> thuật toán tham lam đầu tiên chính xác nhưng không đủ nhanh </s> <s> </s> <s> thuật toán tham lam thứ hai nhanh nhưng lại không chính xác </s> <s> </s> <s> </s> <s> </s> <s> giờ điều mà ta cần làm đó chính là tăng độ chính xác của thuật toán này lên nhiều nhất có thể mà thời gian thực thi vẫn không bị quá giới hạn </s> <s> một cách cơ bản ta đang tìm kiếm sự cân bằng giữa thời gian thực thi và độ chính xác </s> <s> điểm khác biệt duy nhất giữa hai thuật toán kể trên chính là số lượng nhóm mà chúng ta lựa chọn được </s> <s> chúng ta sẽ có một phương án như sau ta sẽ lựa ra một số lượng lớn nhóm ngẫu nhiên lúc đầu sau đó sẽ giải quyết đoạn còn lại theo cách tiếp cận an toàn hơn </s> <s> khi mà chúng ta chỉ còn lại một số lượng nhỏ người dân chưa được phân nhóm ở các quốc gia thì lúc này nó hoàn toàn hợp lí khi ta sử dụng phương pháp vét cạn </s> <s> với biến allowed được khỏi tạo trong thuật toán dưới đây ta điều khiển số lượng nhóm mà ta mong muốn tạo tại thời điểm được cho </s> <s> </s> <s> </s> <s> groups   </s> <s> repeat </s> <s> // sắp xếp lại mảng theo thứ tự giảm dần </s> <s> sort a </s> <s> min  ak </s> <s> allowance  min /  </s> <s> groups  groups  allowance </s> <s> for i   to k </s> <s> ai  ai  allowance </s> <s> endfor </s> <s> until min   </s> <s> return groups </s> <s> </s> <s> nếu cách tiếp cận này thật sự đúng ta hoàn toàn có thể nhận ra được </s> <s> mặc dù nó có thể thoát khỏi ánh mắt sắc nhọn của tomek cũng như là test hệ thống nhưng có vẻ là nó sẽ không thể nào đưa ra kết quả quả đúng với mọi bộ test khả thi </s> <s> đây chính một ví dụ cho thấy nếu được tinh chỉnh từ một thuật toán tham lam đơn giản nhưng vẫn còn khiếm khuyết cũng cũng có thể trở thành một giải thuật đúng </s> <s> để biết thêm về thuật toán chính xác cho bài này xem lời giải ở match editorial </s> <s> </s> <s> </s> <s> tổng kết </s> <s> </s> <s> tham lam thường dễ nghĩ ra dễ cài đặt và chạy nhanh nhưng không phải lúc nào cũng đúng </s> <s> khi bạn sử dụng duyệt hoặc quy hoạch động nó giống như bạn đang di chuyển trên mặt đất an toàn </s> <s> còn đối với tham lam thì giống như bạn đang đi trên một bãi mìn </s> <s> như bạn đã thấy qua ví dụ  có rất nhiều cách tham khác nhau nhưng chỉ có một cách cho kết quả đúng </s> <s> vì vậy khi làm bài bạn luôn luôn nên tìm cách chứng minh tính đúng đắn của thuật tham </s> <s> </s> <s> </s> <s> không tồn tại một công thức chung nào cho việc áp dụng tham lam tuy nhiên ta có thể nhìn ra thuật tham bằng việc phân tích các tính chất của bài toán kinh nghiệm cũng như trực giác </s> <s> </s> <s> </s> <s> một vài lưu ý nhỏ </s> <s> </s> <s> </s> <s> nhưng bài tập mà có vẻ cực kỳ phức tạp như tcsocks  có thể xem như là dấu hiệu để tiếp cận bằng phương pháp tham lam </s> <s> </s> <s> nhưng bài toán mà dữ liệu đầu vào rất lớn mà kể cả thuật toán có độ phức tạp on vẫn không kịp thường được giải bằng tham lam hơn là quay lui hoặc quy hoạch động </s> <s> </s> <s> mặc dù nó có vẻ rùng rợn nhưng bạn nên nhìn thuật toán tham lam dưới đôi mắt của một thám tử chứ không phải là dưới cặp kính của một nhà toán học </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> một thám tử giỏi tham lam </s> <s> </s> <s> </s> <s> </s> <s> một người tham lam may mắn </s> <s> </s> <s> </s> <s> </s> <s> một người tham lam không may mắn </s> <s> </s> <s> </s> <s> </s> <s> ngoài ra việc học tập một số thuật toán có sử dụng tham lam sẽ giúp nắm vững phương pháp này hơn  thuật toán prim  thuật toán kruskal  thuật toán dijkstra  </s> <s> </s> <s> </s> <s> bài tập mở rộng </s> <s> </s> <s> cấp độ  </s> <s> </s> <s> </s> <s> </s> <s> grocerybagger – srm  </s> <s> </s> <s> fanfailure – srm  </s> <s> </s> <s> playgame – srm  </s> <s> </s> <s> schoolassembly – tco round  </s> <s> </s> <s> rockstar – srm  </s> <s> </s> <s> apothecary – srm  </s> <s> </s> <s> boxing – tco round  </s> <s> </s> <s> unblur – tco semifinal room  </s> <s> </s> <s> </s> <s> cấp độ  </s> <s> </s> <s> </s> <s> </s> <s> crossroads – srm  </s> <s> </s> <s> tcsocks – srm  </s> <s> </s> <s> heatdeath – tco round  </s> <s> </s> <s> bioscore – tco semifinal room  </s> <s> </s> <s> rationalization – srm  </s> <s> </s> <s> </s> <s> cấp độ  </s> <s> </s> <s> </s> <s> </s> <s> goldmine – srm  </s> <s> </s> <s> mlbrecord – tco round  </s> <s> </s> <s> rearrangefurniture – srm  </s> <s> </s> <s> worldpeace – srm  </s> <s> </s> <s> </s> <s> </s> <s> phân tích về qhđ  thầy lê minh hoàng </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/thacmacveqhd </s> <s> </s> <s> </s> <s> </s> <s> nguồn facebook vnoi </s> <s> </s> <s> khi có  bạn hỏi quy hoạch động trạng thái là gì trong bài qbselect  thầy lê minh hoàng có trả lời như sau </s> <s> </s> <s> bạn cứ hiểu quy hoạch động là quy hoạch động </s> <s> đừng quan tâm đến cách thức lưu trữ một chiều hai chiều rời rạc </s> <s> </s> <s> </s> <s>  cũng đừng quan tâm tới thứ tự tính toán quét ngang băm chéo trên cây trên dag trên đường dưới ao </s> <s> </s> <s> </s> <s>  thì sẽ thấy vấn đề là do dân competitive programmers tự thêm thuật ngữ mới vào chứ bản chất rất đơn giản </s> <s> </s> <s> dynamic programming  solving recurrence  memoization </s> <s> </s> <s> ví dụ như cái bài qbselect chắc bạn tiếp cận và dựng công thức truy hồi như thế này cách chọn trong cái bảng gồm n cột nó bao hàm cách chọn trong n   cột </s> <s> suy nghĩ tự nhiên là ta thử mọi cách chọn trong cột cuối với mỗi cách đó thử khớp với cách chọn tối ưu nhất trong n   cột đầu mà không xung đột với cột cuối gt với mỗi cách chọn trong n   cột đầu ta phải phân loại theo cách chọn cột n   để khớp với cách chọn trong cột n sau này </s> <s> bài toán trở thành dựng một hàm mục tiêu fx trong đó biến x xác định bài toán </s> <s> </s> <s> </s> <s> vậy để xác định bài toán biến x cần chứa đủ thông tin ta đang tính tới cột nào và ở cột cuối cùng ta chọn các ô như thế nào </s> <s> cái biến x này người ta gọi là tham số xác định bài toán hay dân việt gọi là trạng thái </s> <s> tức là biến x  một bộ i a b c d cho biết tính đến cột i a  có chọn  i không b  có chọn ô  i không c  có chọn ô  i không và d  có chọn ô  i không </s> <s> </s> <s> </s> <s> bây giờ mới nghĩ về cách thức lưu trữ và tính toán </s> <s> ta biết rằng hàm mục tiêu fx xác định bởi giá trị x  i a b c d </s> <s> trong đó a b c d chỉ là  hoặc  gt có thể nén  tham số này vào  bit của một biến nguyên </s> <s> bạn cũng có thể để rời và lưu trữ hàm mục tiêu dưới dạng mảng  chiều fx  fiabcd </s> <s> </s> <s> </s> <s> </s> <s> nhưng tùy vào cách thức triển khai tính toán mà bạn tìm cách mã hóa x theo cách nào hợp lý nhất </s> <s> nhằm thuận lợi cho các thao tác </s> <s> </s> <s> </s> <s> xác định xem một bài toán đã giải chưa nếu giải rồi thì giá trị hàm mục tiêu  mấy </s> <s> giải công thức truy hồi và lưu trữ lời giải </s> <s> </s> <s> </s> <s> chẳng hạn nếu bạn giải kiểu quét ngang bảng phương án for i   </s> <s> </s> <s> </s> <s> </s> <s> n thì không nên mã hóa cái i vào cùng với a b c d </s> <s> nếu bạn giải bằng topdown  memoization mà ta thường gọi là đệ quy có nhớ thì chẳng cần mã hóa </s> <s> cứ giải xong fi a b c d nào lưu nó vào một tập hợp s muốn xem một bài giải chưa thì tìm nó trong s </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tập s có thể cài bằng hashmap pascal hoặc unorderedmapc có tốc độ lưu trữ và truy vấn o </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nói như vậy mọi bài qhđ đều phải tìm cách xác định bài toán tức là không gian các x  các trạng thái của nó </s> <s> hay nói cách khác qhđ là qhđ trạng thái và ngược lại </s> <s> </s> <s> </s> <s> những chuyện xử lý bit nén </s> <s> </s> <s> </s> <s> là encoding nó là kỹ thuật cơ bản không liên quan gì tới qhđ hết mà chỉ dùng để mã hóa bài toán </s> <s> những chuyện dfs topological sorting cũng là để xác định thứ tự tính chứ không phải đặc trưng của qhđ </s> <s> bạn nên coi các cái này là kỹ thuật bổ trợ nhằm tăng tính hiệu quả của phép cài đặt mà thôi </s> <s> </s> <s> còn về căn bản như bài toán ở trên mọi ct truy hồi ta có thể giải kiểu dùng hashmap lúc đó ta chẳng cần quan tâm tới encoding và thứ tự tính nữa </s> <s> </s> <s> </s> <s> </s> <s> một vài bài tập về palindrome </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/palindromeproblems </s> <s> </s> <s> </s> <s> </s> <s> tác giả  nguyễn hoành tiến </s> <s> </s> <s> table of contents bài  kiểm tra palindrome bài  xâu con palindrome dài nhất cách  qhđ cách  duyệt có cận bài  chia một xâu thành ít nhất các palindrome bài  pal  ioicamp  marathon  bài  palindrome  ioi  bài tập luyện tập </s> <s> </s> <s> palindrome hay còn gọi là xâu đối xứng xâu đối gương là tên gọi của những xâu kí tự mà khi viết từ phải qua trái hay từ trái qua phải thì xâu đó không thay đổi </s> <s> vd madam ioi </s> <s> </s> <s> </s> <s> nhờ tính chất đặc biệt đó mà có khá nhiều bài tập có liên quan đến palindrome phần lớn trong chúng thường đi kèm với qhđ </s> <s> tôi xin giới thiệu với các bạn một vài bài tập như vậy </s> <s> </s> <s> </s> <s> bài  kiểm tra palindrome </s> <s> </s> <s> bài toán  cho  xâu </s> <s> kiểm tra nó có phải là palindrome hay không </s> <s> </s> <s> đây là một bài cơ bản nhưng quan trọng vì nó được đề cập đến trong nhiều bài tập khác </s> <s> cách làm tốt nhất là duyệt đơn thuần mất on </s> <s> </s> <s> </s> <s> function ispalindrome  s  string  boolean  </s> <s> </s> <s> var i  n  integer  </s> <s> </s> <s> begin </s> <s> n  length  s  </s> <s> for i   to  n div   do </s> <s> if s  i  ltgt s  n    i  then exit  false  </s> <s> exit  true  </s> <s> end  </s> <s> </s> <s> </s> <s> một đoạn chương trình khác </s> <s> </s> <s> function ispalindrome  s  string   boolean  </s> <s> </s> <s> var i  j  integer  </s> <s> </s> <s> begin </s> <s> i    </s> <s> j  length  n  </s> <s> while  i lt j  </s> <s> begin </s> <s> if s  i  ltgt s  j  then exit  false  </s> <s> inc  i  </s> <s> dec  j  </s> <s> end  </s> <s> exit  true  </s> <s> end  </s> <s> </s> <s> </s> <s> bài  xâu con palindrome dài nhất </s> <s> </s> <s> bài toán  cho một xâu s độ dài không quá  kí tự </s> <s> tìm palindrome dài nhất là xâu con của s xâu con là một dãy các kí tự liên tiếp </s> <s> </s> <s> </s> <s> đây cũng là một bài cơ bản với nhiều cách làm </s> <s> </s> <s> </s> <s> cách  qhđ </s> <s> </s> <s> dùng mảng fi j có ý nghĩa fi j  true/false nếu đoạn gồm các kí tự từ i đến j của s có/không là palindrome </s> <s> </s> <s> </s> <s> ta có công thức là </s> <s> </s> <s> </s> <s> </s> <s> fi i  true  xâu  ký tự luôn đối xứng </s> <s> </s> <s> </s> <s> fi j  fi j nếu si  sj </s> <s> </s> <s> </s> <s> fi j  false nếu si ne sj </s> <s> </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> fillchar  f  sizeof  f  false  </s> <s> </s> <s> for i   to n do </s> <s> f  i  i   true  </s> <s> </s> <s> for k   to  n    do </s> <s> for i   to  n  k  do </s> <s> begin </s> <s> j  i  k  </s> <s> f  i  j    f  i    j     and  s  i   s  j   </s> <s> end  </s> <s> </s> <s> kết quả là maxji le j thỏa fij  true </s> <s> </s> <s> </s> <s> độ phức tạp thuật toán là on </s> <s> </s> <s> </s> <s> chú ý với n lớn ta phải thay mảng  chiều f bằng  mảng  chiều và dùng thêm biến max lưu giá trị tối ưu </s> <s> </s> <s> </s> <s> cách  duyệt có cận </s> <s> </s> <s> ta xét từng vị trí i </s> <s> </s> <s> </s> <s> xem si có phải là tâm của palindrome có lẻ kí tự không ví dụ palindrome madam có tâm là kí tự d </s> <s> xem si và si có phải là tâm của palindrome có chẵn kí tự không ví dụ palindrome abba có tâm là  kí tự bb </s> <s> với mỗi kí tự ta tìm palindrome dài nhất nhận nó là tâm cập nhập lại kết quả khi duyệt </s> <s> ta duyệt từ giữa ra để dùng kết quả hiện tại làm cận </s> <s> </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> procedure lam  </s> <s> var i  j  longint  </s> <s> </s> <s> procedure try  first  last  longint  </s> <s> var dd  longint  </s> <s> begin </s> <s> if first  last then </s> <s> begin </s> <s> dd    </s> <s> dec  first  </s> <s> inc  last  </s> <s> end </s> <s> else dd    </s> <s> </s> <s> repeat </s> <s> if  first lt   or  last gt n  then break  </s> <s> if s  i   s  j  then </s> <s> begin </s> <s> dd  dd    </s> <s> first  first    </s> <s> last  last    </s> <s> end </s> <s> else break  </s> <s> until false  </s> <s> if max lt dd then max  dd  </s> <s> end  </s> <s> </s> <s> begin </s> <s> i  n div   </s> <s> j  n div     </s> <s> max    </s> <s> while  i gt max div   and  j lt n  max div   do </s> <s> begin </s> <s> if i gt max div  then </s> <s> begin </s> <s> try  i  i  </s> <s> try  i  i    </s> <s> end  </s> <s> if j lt n  max div  then </s> <s> begin </s> <s> try  j  j  </s> <s> try  j  j    </s> <s> end  </s> <s> i  i    </s> <s> j  j    </s> <s> end  </s> <s> end  </s> <s> </s> <s> cách làm này có độ phức tạp max  nmax </s> <s> vì vậy nó chạy nhanh hơn cách qhđ trên thời gian chậm nhất khi tất cả các ký tự giống nhau khi đó max  n/ cũng chỉ mất n/ và nhanh gấp  lần cách dùng qhđ </s> <s> nhờ vậy chúng ta biết là không phải lúc nào qhđ cũng chấp nhận được về mặt thời gian và không phải lúc nào duyệt lúc nào cũng chậm </s> <s> </s> <s> </s> <s> bài này còn có một cách nlogn nữa là dùng suffix aray  thậm chí có cách on là sử dụng suffix tree và thuật toán tìm lca </s> <s> đương nhiên cách cài đặt không hề dễ dàng tôi sẽ thảo luận với các bạn vào một dịp khác </s> <s> </s> <s> </s> <s> bài  chia một xâu thành ít nhất các palindrome </s> <s> </s> <s> bài toán  cho  xâu độ dài không quá  </s> <s> chia nó thành ít nhất các palindrome </s> <s> </s> <s> </s> <s> bài này phức tạp hơn bài trên cách làm thì vẫn là qhđ </s> <s> </s> <s> </s> <s> </s> <s> gọi fi là số palindrome ít nhất mà đoạn  </s> <s> </s> <s> i chia thành được </s> <s> </s> <s> ta có công thức fi  minfi fj   với j lt i thỏa mãn đoạn j </s> <s> </s> <s> i là palindrome </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> f     infinity  </s> <s> </s> <s> for i   to n do </s> <s> for j  i   downto  do </s> <s> if  ispalindrome  j    i  then f  i   min  f  i  f  j    </s> <s> </s> <s> </s> <s> hai vòng for lồng nhau mất on phần kiểm tra đoạn j </s> <s> </s> <s> i là palindrome hay không mất on vậy độ phức tạp thuật toán là on </s> <s> sẽ không được khả thi nếu n   </s> <s> để giảm độ phức tạp thuật toán ta sử dụng mảng li j có ý nghĩa tương tự như mảng fi j ở bài  </s> <s> qhđ lập mảng li j mất on </s> <s> tổng cộng là on vì mỗi lần kiểm tra chỉ mất o </s> <s> </s> <s> </s> <s> một cách khác sử dụng ít bộ nhớ hơn là dùng hai mảng một chiều li và ci có ý nghĩa </s> <s> </s> <s> </s> <s> li là độ dài lớn nhất của palindrome độ dài lẻ nhận si làm tâm </s> <s> ci là độ dài lớn nhất của palindrome độ dài chẵn nhận si và si làm tâm </s> <s> li và ci có thể tính được bằng cách  bài  trong on </s> <s> phần kiểm tra ta viết lại như sau </s> <s> </s> <s> </s> <s> function ispalindrome  i  j  integer   boolean  </s> <s> </s> <s> var dd  integer  </s> <s> </s> <s> begin </s> <s> dd  j  i    </s> <s> if odd  dd  then ispalindrome   l  i  j  div   gt n  </s> <s> else ispalindrome   c  i  j  div   gt n  </s> <s> end  </s> <s> </s> <s> vậy thuật toán của chúng ta có độ phức tạp tính toán là on chi phí bộ nhớ là on </s> <s> </s> <s> </s> <s> bài  pal  ioicamp  marathon  </s> <s> </s> <s> bài toán  cho một xâu hỏi nó có bao nhiêu xâu con là palindrome xâu con ở đây gồm các kí tự không cần liên tiếp độ dài không quá  </s> <s> </s> <s> </s> <s> ví dụ xâu ioicamp có  xâu con là palindrome </s> <s> </s> <s> i </s> <s> o </s> <s> i </s> <s> c </s> <s> a </s> <s> m </s> <s> p </s> <s> ii </s> <s> ioi </s> <s> </s> <s> đây là một bài tập rất thú vị </s> <s> phương pháp là dùng qhđ </s> <s> </s> <s> </s> <s> </s> <s> gọi fi j là số palindrome là xâu con của đoạn i j </s> <s> </s> <s> ta có công thức  </s> <s> </s> <s> </s> <s> fi i   </s> <s> fi j  fi j  fi j  fi j  t </s> <s> nếu si  sj thì t  fi j   </s> <s> </s> <s> nếu si ne sj thì t   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> đoạn chương trình như sau </s> <s> </s> <s> procedure lam  </s> <s> </s> <s> var k  i  j  integer  </s> <s> </s> <s> begin </s> <s> n  length  s  </s> <s> for i   to n do </s> <s> f  i  i     </s> <s> </s> <s> for k   to n   do </s> <s> for i   to n  k do </s> <s> begin </s> <s> j  i  k  </s> <s> f  i  j   f  i  j     f  i    j   f  i    j    </s> <s> if s  i   s  j  then f  i  j   f  i  j   f  i    j       </s> <s> end  </s> <s> end  </s> <s> </s> <s> để chương trình chạy nhanh hơn chúng ta sửa lại đoạn mã một chút như sau </s> <s> </s> <s> procedure lam  </s> <s> </s> <s> var k  i  j  integer  </s> <s> </s> <s> begin </s> <s> n  length  s  </s> <s> for i   to n do </s> <s> f  i  i     </s> <s> </s> <s> for k   to n do </s> <s> for i   to n  k do </s> <s> begin </s> <s> j  i  k  </s> <s> f  i  j   f  i  j     f  i    j  </s> <s> </s> <s> if s  i   s  j  then f  i  j   f  i  j    </s> <s> else f  i  j   f  i  j   f  i    j    </s> <s> end  </s> <s> end  </s> <s> </s> <s> đoạn chương trình trên chỉ có tính mô phỏng muốn hoàn thiện bạn phải cài đặt các phép tính cộng trừ số lớn vì kết quả có thể lên tới n </s> <s> độ phức tạp của thuật toán là on </s> <s> vì vậy chúng ta hoàn toàn có thể làm với n   khí đó cần rút gọn mảng f thành ba mảng một chiều </s> <s> </s> <s> </s> <s> bài  palindrome  ioi  </s> <s> </s> <s> bài toán  cho một xâu độ dài không quá  hỏi phải thêm vào nó ít nhất bao nhiêu xâu kí tự để nó trở thành một palindrome </s> <s> </s> <s> </s> <s> bài này cũng sử dụng qhđ gọi fi j là số phép biến đổi ít nhất cần thêm vào đoạn i j để đoạn i j trở thành palindrome </s> <s> </s> <s> </s> <s> ta có công thức </s> <s> </s> <s> </s> <s> fi i   </s> <s> nếu si  sj thì fi j  fi j </s> <s> </s> <s> nếu si ne sj thì fi j  min fi j fi j    </s> <s> </s> <s> </s> <s> </s> <s> bài này được ra từ thời năm  khi đó bộ nhớ cho phép rất nhỏ </s> <s> muốn chương trình chạy với n   thì cần rút gọn f thành ba mảng một chiều </s> <s> muốn truy vết bạn phải dùng mảng bit hoặc dùng dữ liệu động </s> <s> </s> <s> </s> <s> bài tập luyện tập </s> <s> </s> <s> </s> <s> spoj  palin </s> <s> </s> <s> </s> <s> </s> <s> xử lý xâu </s> <s> http//vnoi </s> <s> info/wiki/algo/string/basic </s> <s> </s> <s> </s> <s> </s> <s> xâu  string  xuất hiện rất nhiều trong các bài toán </s> <s> bài viết này giới thiệu sơ qua một số thuật ngữ cũng như thuật toán về xâu </s> <s> </s> <s> </s> <s> thuật ngữ </s> <s> </s> <s> </s> <s> một xâu x là xâu con  substring  của một xâu y nếu x là một chuỗi các ký tự liên tiếp của y </s> <s> ví dụ ab và bc là  xâu con của abcd </s> <s> nhưng ac thì không phải là xâu con của abcd </s> <s> </s> <s> một xâu x là tiền tố  prefix  của một xâu y nếu x là xâu con của y và x xuất hiện ở đầu của xâu y </s> <s> ví dụ ab là tiền tố của abcd  nhưng bc không phải là tiền tố của abcd </s> <s> </s> <s> một xâu x là một tiền tố không tầm thường  proper prefix  của xâu y nếu nó là tiền tố của xâu y và khác xâu y </s> <s> </s> <s> một xâu x là hậu tố  hậu tố  của một xâu y nếu x là xâu con của y và x xuất hiện ở cuối của xâu y </s> <s> ví dụ cd là hậu tố của abcd  nhưng bc không phải là hậu tố của abcd </s> <s> </s> <s> một xâu x là một hậu tố không tầm thường  proper suffix  của xâu y nếu nó là hậu tố của xâu y và khác xâu y </s> <s> </s> <s> </s> <s> </s> <s> các dạng bài </s> <s> </s> <s> so khớp chuỗi string matching </s> <s> </s> <s> cho một xâu t và xâu s </s> <s> tìm tất cả các lần xuất hiện của xâu s trong xâu t </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> s  abc </s> <s> t  abcabcabc </s> <s> </s> <s> các lần xuất hiện    </s> <s> </s> <s> </s> <s> bài toán này còn được gọi là tìm kiếm cây kim  needle  trong đống rơm  haystack  vì nó xuất hiện trong thực tế khi ta cần tìm một xâu rất nhỏ trong một lượng dữ liệu rất lớn ví dụ google cần tìm từ khóa trong hàng tỉ tỉ trang web </s> <s> </s> <s> </s> <s> có  thuật toán chính để giải quyết bài này đó là </s> <s> </s> <s> </s> <s> thuật toán kmp </s> <s> hash </s> <s> z algorithm </s> <s> </s> <s> </s> <s> xâu đối xứng palindrome </s> <s> </s> <s> palindrome hay còn gọi là xâu đối xứng xâu đối gương là tên gọi của những xâu kí tự mà khi viết từ phải qua trái hay từ trái qua phải thì xâu đó không thay đổi </s> <s> vd madam ioi </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> có rất nhiều bài tập liên quan đến xâu đối xứng </s> <s> các bạn có thể tìm đọc ở trong các bài viết </s> <s> </s> <s> </s> <s> một vài bài tập qhd về palindrome </s> <s> hash </s> <s> palindrome tree </s> <s> </s> <s> </s> <s> cấu trúc dữ liệu </s> <s> </s> <s> </s> <s> </s> <s> trie là ctdl cơ bản nhất trong xử lý xâu </s> <s> nó giúp giải quyết các bài toán về tìm kiếm xâu </s> <s> </s> <s> </s> <s> lớp ctdl được gọi chung là suffix structures gồm </s> <s> </s> <s> </s> <s> suffix array </s> <s> suffix automaton </s> <s> suffix tree </s> <s> aho corasick </s> <s> </s> <s> </s> <s> gọi chung như vậy vì các ctdl này có thể dùng thay thế nhau để giải quyết cùng một lớp bài toán liên quan đến các suffix của cây </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> các bài adhoc </s> <s> </s> <s> trong xử lý xâu còn một vài thuật toán chỉ áp dụng được cho  bài toán adhoc </s> <s> </s> <s> </s> <s> thuật toán manacher </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho xâu s </s> <s> </s> <s> </s> <s> </s> <s> với mỗi vị trí i của xâu s tìm xâu đối xứng dài nhất nhận i là tâm </s> <s> </s> <s> với mỗi cặp i i của xâu s tìm xâu đối xứng dài nhất nhận i và i là tâm </s> <s> </s> <s> </s> <s> </s> <s> mô tả thuật toán </s> <s> </s> <s> tham khảo thêm ở link </s> <s> </s> <s> code </s> <s> </s> <s> const char dummy   </s> <s>   </s> <s> </s> <s> int manacher  string s   </s> <s> // để tránh phải xét riêng trường hợp độ dài xâu đối xứng chẵn / lẻ </s> <s> // ta thêm  ký tự dummy vào giữa các ký tự của s </s> <s> </s> <s> // chú ý phải đảm bảo dummy không có trong xâu s </s> <s> </s> <s> int n  s </s> <s> size       </s> <s> vector lt int gt f  vector lt int gt  n    </s> <s> </s> <s> // tạo xâu a bằng cách chèn ký tự dummy vào giữa các ký tự của s </s> <s> </s> <s> // ví dụ </s> <s> // s  aabcb </s> <s> // a  a </s> <s> a </s> <s> b </s> <s> c </s> <s> b </s> <s> string a  string  n  dummy  </s> <s> for  int i    i lt n  i    a  i   s  i /   </s> <s> </s> <s> int l    r     center  res    </s> <s> for  int i    j    i lt n  i    </s> <s> j   i gt r    min  f  l  r  i  r  i     </s> <s> while  i  j gt  ampamp i  j lt n ampamp a  i  j   a  i  j  j   </s> <s> f  i    j  </s> <s> if  i  j gt r   </s> <s> r  i  j  </s> <s> l  i  j  </s> <s>  </s> <s> </s> <s> int len   f  i   i    /       i    </s> <s> if  len gt res   </s> <s> res  len  </s> <s> center  i  </s> <s>  </s> <s>  </s> <s> // với mỗi vị trí i xâu đối xứng dài nhất nhận i là tâm là i  fi i  fi </s> <s> </s> <s> // ví dụ </s> <s> // s  aabcb </s> <s> // a  a </s> <s> a </s> <s> b </s> <s> c </s> <s> b </s> <s> // f   </s> <s> return res  </s> <s>  </s> <s> </s> <s> minimal string rotation </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một xâu s </s> <s> xét các xâu thu được từ xâu s bằng phép xoay </s> <s> ví dụ s  abcd  thì các xâu thu được từ s bằng phép xoay là </s> <s> </s> <s> </s> <s> abcd </s> <s> bcda </s> <s> cdab </s> <s> dabc </s> <s> </s> <s> </s> <s> tìm xâu có thứ tự từ điển nhỏ nhất </s> <s> </s> <s> </s> <s> mô tả thuật toán </s> <s> </s> <s> bạn có thể xem ở đây </s> <s> </s> <s> code </s> <s> </s> <s> // tính vị trí của xâu xoay vòng có thứ tự từ điển nhỏ nhất của xâu s </s> <s> int minmove  string s   </s> <s> int n  s </s> <s> length  </s> <s> int x  y  i  j  u  v  // x is the smallest string before string y </s> <s> for  x    y    y lt n   y   </s> <s> i  u  x  </s> <s> j  v  y  </s> <s> while  s  i   s  j   </s> <s>  u   v  </s> <s> if   i  n  i    </s> <s> if   j  n  j    </s> <s> if  i  x  break  // all strings are equal </s> <s>  </s> <s> if  s  i  lt s  j  y  v  </s> <s> else  </s> <s> x  y  </s> <s> if  u gt y  y  u  </s> <s>  </s> <s>  </s> <s> return x  </s> <s>  </s> <s> </s> <s> lyndon decomposition </s> <s> </s> <s> bài toán </s> <s> </s> <s> lyndon word là các xâu khác rỗng mà có thứ tự từ điển nhỏ hơn tất cả các xâu thu được bằng phép xoay của nó </s> <s> </s> <s> </s> <s> cho một xâu s </s> <s> tìm cách tách s thành ít nhất các xâu sao cho mỗi xâu đều là lyndon word </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> void lyndon  string s   </s> <s> int n   int  s </s> <s> length  </s> <s> int i    </s> <s> while  i lt n   </s> <s> int j  i    k  i  </s> <s> while  j lt n ampamp s  k  lt s  j   </s> <s> if  s  k  lt s  j  k  i  </s> <s> else  k  </s> <s>  j  </s> <s>  </s> <s> while  i lt k   </s> <s> cout ltlt s </s> <s> substr  i  j  k  ltlt    </s> <s> i  j  k  </s> <s>  </s> <s>  </s> <s> cout ltlt endl  </s> <s>  </s> <s> </s> <s> </s> <s> mảng hậu tố suffix array </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/suffixarray </s> <s> </s> <s> </s> <s> </s> <s> mảng hậu tố là một ctdl giúp sort các hậu tố theo thứ tự từ điển </s> <s> </s> <s> </s> <s> mảng này chứa các số nguyên khởi đầu của các hậu tố </s> <s> </s> <s> </s> <s> có  cách để xây dựng một mảng hậu tố </s> <s> </s> <s> </s> <s> </s> <s> thuật toán không xác định sử dụng thuật toán rabinkarp và kiểm tra nếu một hậu tố có thứ tự từ điển nhỏ hơn một hậu tố kháctìm mảng tiền tố chung lớn nhất  lcp  sau đó sử dụng tìm kiếm nhị phân và hàm băm  hash  và kiểm tra ký tự tiếp theo sau lcp của chúng </s> <s> </s> <s> </s> <s> </s> <s> code c </s> <s> </s> <s> </s> <s> namespace hashsuffixarray  </s> <s> </s> <s> const int maxn   ltlt   </s> <s> </s> <s> typedef unsigned long long hash  </s> <s> const hash base    </s> <s> </s> <s> int n  </s> <s> char  s  </s> <s> int sa  maxn  </s> <s> hash h  maxn  hpow  maxn  </s> <s> </s> <s> define gethashlo size hlo  hlo  size  hpowsize </s> <s> </s> <s> inline bool sufcmp  int i  int j  </s> <s>  </s> <s> int lo    hi  min  n  i  n  j  </s> <s> while  lo lt hi  </s> <s>  </s> <s> int mid   lo  hi  gtgt   </s> <s> if  gethash  i  mid   gethash  j  mid  </s> <s> lo  mid    </s> <s> else </s> <s> hi  mid    </s> <s>  </s> <s> return s  i  hi  lt s  j  hi  </s> <s>  </s> <s> </s> <s> void buildsa  </s> <s>  </s> <s> n  strlen  s  </s> <s> hpow       </s> <s> for  int i    i lt n   i  </s> <s> hpow  i   hpow  i     base  </s> <s> h  n     </s> <s> for  int i  n    i gt    i  </s> <s> h  i   h  i     base  s  i  sa  i   i  </s> <s> </s> <s> stablesort  sa  sa  n  sufcmp  </s> <s>  </s> <s> </s> <s>  // end namespace hashsuffixarray </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán xác định sort logđộ dài lớn nhất bước với bước thứ i tính từ  sort chúng theo i ký tự đầu tiên và đưa hậu tố có cùng tiền tố với i ký tự vào cùng một bucket </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> </s> <s> / </s> <s> suffix array on lg n </s> <s> lcp table on </s> <s> / </s> <s> include ltcstdiogt </s> <s> include ltalgorithmgt </s> <s> include ltcstringgt </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> define repi n for int i   i lt intn i </s> <s> </s> <s> namespace suffixarray </s> <s>  </s> <s> const int maxn   ltlt   </s> <s> char  s  </s> <s> int n  gap  </s> <s> int sa  maxn  pos  maxn  tmp  maxn  lcp  maxn  </s> <s> </s> <s> bool sufcmp  int i  int j  </s> <s>  </s> <s> if  pos  i   pos  j  </s> <s> return pos  i  lt pos  j  </s> <s> i  gap  </s> <s> j  gap  </s> <s> return  i lt n ampamp j lt n   pos  i  lt pos  j   i gt j  </s> <s>  </s> <s> </s> <s> void buildsa  </s> <s>  </s> <s> n  strlen  s  </s> <s> rep  i  n  sa  i   i  pos  i   s  i  </s> <s> for  gap    gap    </s> <s>  </s> <s> sort  sa  sa  n  sufcmp  </s> <s> rep  i  n    tmp  i     tmp  i   sufcmp  sa  i  sa  i    </s> <s> rep  i  n  pos  sa  i   tmp  i  </s> <s> if  tmp  n     n    break  </s> <s>  </s> <s>  </s> <s> </s> <s> void buildlcp  </s> <s>  </s> <s> for  int i    k    i lt n   i  if  pos  i   n    </s> <s>  </s> <s> for  int j  sa  pos  i     s  i  k   s  j  k  </s> <s>  k  </s> <s> lcp  pos  i   k  </s> <s> if  k   k  </s> <s>  </s> <s>  </s> <s>  // end namespace suffixarray </s> <s> </s> <s> </s> <s> source mukel </s> <s> </s> <s> tài liệu tham khảo </s> <s> </s> <s> </s> <s> codeforces </s> <s> </s> <s> </s> <s> </s> <s> thuật toán knuthmorrispratt kmp </s> <s> http//vnoi </s> <s> info/wiki/translate/wcipeg/kmp </s> <s> </s> <s> </s> <s> </s> <s> nguồn  wcipeg </s> <s> </s> <s> người dịch  trần kim thạch </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> trước khi đọc bài này bạn có thể đọc về các thuật ngữ trong xử lý xâu cũng như về bài toán so khớp chuỗi ở đây </s> <s> </s> <s> thuật toán knuthmorrispratt kmp là một thuật toán với thời gian chạy tuyến tính nhằm giải quyết bài toán so khớp chuỗi </s> <s> </s> <s> </s> <s> thuật toán được xây dựng dựa vào quan sát rằng một xâu con chung của s và t sẽ đưa ra được thông tin s có khớp với các vị trí sau của t hay không </s> <s> bởi vì xâu con chung này đồng nghĩa với một phần của t đã khớp với một phần của s nên bằng việc khởi tạo trước một số thông tin với xâu s ta sẽ thu được những kết luận về t nhờ xâu con chung mà không cần quay ngược và so sánh lại những ký tự đã khớp </s> <s> </s> <s> </s> <s> cụ thể hơn ta muốn tính toán trước cách xâu s tự khớp với chính nó </s> <s> nhờ vậy thuật toán sẽ không quay nhìn lại và chỉ duyệt qua t một lần duy nhất </s> <s> </s> <s> </s> <s> cùng với quá trình tiền xử lí tuyến tính ot với t là độ dài xâu t thuật toán có thời gian chạy tuyến tính </s> <s> </s> <s> </s> <s> cảm hứng </s> <s> </s> <s> cảm hứng của kmp có thể được minh họa rõ nhất qua  ví dụ dưới đây </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> s  aaa </s> <s> t  aaaaaaaaa </s> <s> </s> <s> ở ví dụ này ta cần các lần xuất hiện của xâu s trong xâu t s xuất hiện  lần </s> <s> </s> <s> </s> <s> ta có thể duyệt bình thường với độ phức tạp os  t như sau </s> <s> </s> <s> </s> <s> so s với t s với t s với t do đó vị trí số  là vị trí khớp của s trong t </s> <s> </s> <s> so s với t s với t s với t tìm được vị trí số  là vị trí khớp của s trong t </s> <s> </s> <s> so s với t s với t s với t tìm được vị trí số  là vị trí khớp của s trong t </s> <s> </s> <s> </s> <s> </s> <s> và cứ mãi như vậy cho đến khi đủ hết trường hợp </s> <s> </s> <s> </s> <s> tuy nhiên ta có thể làm tốt hơn nếu ta tiền xử lý s và để ý </s> <s> </s> <s> </s> <s> s giống s </s> <s> s giống s </s> <s> </s> <s> </s> <s> </s> <s> vậy tiền tố độ dài  của s s s khớp với xâu con độ dài  ở vị trí thứ  của s s s  nói cách khác s tự khớp một phần </s> <s> </s> <s> </s> <s> sau khi kiểm tra khớp ở vị trí số  so sánh s với t t t ta đã biết </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> khi ta kiểm tra khớp ở vị trí số  so sánh s với t t t ta có </s> <s> </s> <s> </s> <s> s  t s  t </s> <s> s  s s  s </s> <s> </s> <s> </s> <s> suy ra </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> </s> <s> do vậy việc so sánh với t t là không cần thiết nữa </s> <s> ta chỉ cần kiểm tra nốt s  t là đã kết luận được s được tìm thấy ở vị trí  trong t </s> <s> như vậy sau đáp án ở vị trí  ta chỉ cần thêm  thao tác để kết luận s cũng có ở vị trí  trong t thay vì  như thuật duyệt bình thường </s> <s> đến đây ta biết </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> và tương tự lại kết luận được </s> <s> </s> <s> </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> </s> <s> ta sau đó chỉ cần so s với t tìm được một đáp án nữa cứ thế tiếp tục </s> <s> trong khi thuật toán duyệt cần đến  phép tính cho mỗi lần so sánh s với một xâu con của t kĩ thuật của chúng ta chỉ cần  phép tính ở lần lặp đầu và  cho mỗi kết quả sau và không xét lại các kí tự của t </s> <s> đây cũng là cách con người giải quyết bài toán </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> s  aaa </s> <s> t  aabaabaaa </s> <s> </s> <s> như ở trên ta bắt đầu như thuật toán duyệt so sánh </s> <s> </s> <s> </s> <s> s với t </s> <s> s với t </s> <s> s với t </s> <s> </s> <s> </s> <s> ở đây ta thấy s khác t vậy s không khớp với t ở vị trí  </s> <s> đến bước này thuật duyệt sẽ tiếp tục bằng cách so s với t và s với t không khớp rồi lại so s với t không khớp cứ như vậy </s> <s> </s> <s> </s> <s> thế nhưng chúng ta sẽ thấy ngay rằng sau kết quả không khớp ở vị trí đầu khả năng tìm thấy s ở các vị trí  và  của t đã không còn </s> <s> lí do là vì như đã trình bày ở ví dụ  </s> <s> </s> <s> </s> <s> s  s </s> <s> s neq t </s> <s> </s> <s> </s> <s> do đó s neq t </s> <s> </s> <s> </s> <s> tương tự như vậy do </s> <s> </s> <s> </s> <s> s  s </s> <s> s neq t </s> <s> </s> <s> </s> <s> nên s neq t ta không cần tìm s ở vị trí thứ  của t làm gì </s> <s> sẽ hợp lí hơn khi bắt đầu tiếp ở vị trí số  do ta không thể chắc chắn có thể tìm được hay không s s s    ttt </s> <s> </s> <s> </s> <s> sau khi so sánh ở vị trí  và thấy tiếp tục không khớp ta dùng lập luận tương tự loại bỏ vị trí số  và  và bắt đầu lại ở vị trí số  ở đây  xâu khớp nhau </s> <s> lần nữa hãy chú ý các kí tự của t được duyệt qua theo trình tự </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> đây là một ví dụ phức tạp hơn </s> <s> </s> <s> s  tartan </s> <s> t  tartaricacid </s> <s> </s> <s> ta quan sát thấy tiền tố độ dài  của s khớp với chính xâu con độ dài  bắt đầu ở vị trí số  của nó </s> <s> bây giờ lần lượt so sánh các vị trí từ s đến s với t đến t </s> <s> ta thấy s không khớp với t vậy không có kết quả ở vị trí số  </s> <s> </s> <s> </s> <s> ở đây hãy chú ý </s> <s> </s> <s> </s> <s> s neq s </s> <s> s neq s </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> nên ta có s neq t và s neq t </s> <s> vậy không thể có trùng khớp ở vị trí số  và  </s> <s> </s> <s> </s> <s> tới đây hãy nhớ lại rằng </s> <s> </s> <s> </s> <s> s  s </s> <s> s  s </s> <s> s  t </s> <s> s  t </s> <s> </s> <s> </s> <s> ta suy ra s  t s  t </s> <s> vậy ta sẽ tiếp tục kiểm tra vị trí số  bằng việc so sánh s với t </s> <s> làm theo cách này ta loại bỏ được hai trường hợp và bắt đầu duyệt lại không phải ở đầu mà ở giữa xâu s tránh được việc xét lại t và t </s> <s> </s> <s> </s> <s> ý tưởng chính </s> <s> </s> <s> gọi si là tiền tố độ dài i của xâu s </s> <s> </s> <s> </s> <s> các ví dụ trên chính là tư tưởng hoạt động của kmp dựa trên quan sát rằng một số xâu con của xâu cần tìm có khớp với xâu con nào khác của xâu cần tìm hay không </s> <s> tuy nhiên định hướng chung mang tính hệ thống của thuật toán thì chưa rõ ràng </s> <s> định hướng này được phát biểu như sau </s> <s> </s> <s> ở mỗi vị trí i của s tìm hậu tố chuẩn dài nhất của si mà cũng là tiền tố của s </s> <s>  hậu tố chuẩn của một xâu là hậu tố có độ dài bé hơn xâu đó </s> <s>  </s> <s> </s> <s> ta sẽ gọi độ dài của xâu con này là pii </s> <s> ta cũng có thể định nghĩa pii là số j lớn nhất để sj sqsupset si </s> <s> ký hiệu x sqsupset y nghĩa là x là hậu tố của y </s> <s> </s> <s> </s> <s> bảng pi gọi là hàm tiền tố  chiếm bộ nhớ tuyến tính và như sẽ trình bày dưới đây có thể tính được trong thời gian tuyến tính </s> <s> bảng sẽ chứa toàn bộ các thông tin cần thiết để máy thực hiện những phương án thông minh nhất cho quá trình tìm kiếm </s> <s> cụ thể hơn </s> <s> </s> <s> </s> <s> trong ví dụ  và  </s> <s> </s> <s> </s> <s> pi   không có tiền tố chuẩn thỏa mãn </s> <s> </s> <s> pi   tiền tố a khớp hậu tố a </s> <s> </s> <s> pi   tiền tố aa khớp hậu tố aa </s> <s> </s> <s> </s> <s> </s> <s> trong ví dụ  </s> <s> </s> <s> </s> <s> pi   </s> <s> pi   </s> <s> pi   </s> <s> pi   tiền tố t khớp với xâu con t kết thúc ở vị trí thứ  </s> <s> </s> <s> pi   tiền tố ta khớp với xâu con ta kết thúc ở vị trí thứ  </s> <s> </s> <s> pi   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng quát bảng pi cho ta biết sau một lần khớp hoặc không khớp giữa cây kim và đống rơm vị trí tiếp theo trong đống rơm ta cần kiểm tra là gì </s> <s> các phép so sẽ tiếp tục ở các vị trí tiếp theo không bao giờ quay ngược về các kí tự ta đã kiểm tra rồi </s> <s> </s> <s> </s> <s> tính toán độ phức tạp </s> <s> </s> <s> để tính độ phức tạp cho hàm tiền xử lí trước tiên ta có quan sát </s> <s> </s> <s> </s> <s> dãy pii  i pii pipii pipipii </s> <s> </s> <s> </s> <s>  chứa toàn bộ những giá trị j thỏa mãn sj sqsupset si </s> <s> </s> <s> </s> <s> </s> <s> vậy ta có thể đếm toàn bộ những hậu tố của si đồng thời là tiền tố của s bằng cách bắt đầu với i dò nó trong bảng pi dùng kết quả đó dò tiếp tục và tiếp tục đến khi kết thúc bằng  </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> </s> <s> </s> <s> đầu tiên ta chứng minh chiều xuôi nếu j xuất hiện trong pii thì sj sqsupset si </s> <s> </s> <s> </s> <s> </s> <s> nếu j là phần tử đầu trong pii </s> <s> vậy j  i và hẳn nhiên sj sqsupset si </s> <s> </s> <s> nếu j không là phần tử đầu gọi phần tử trước nó là k </s> <s> vậy pik  j </s> <s> theo định nghĩa sj sqsupset sk </s> <s> nhưng sk sqsupset si </s> <s> do quan hệ này có tính chất bắc cầu sj sqsupset si </s> <s> </s> <s> </s> <s> </s> <s> giờ ta chứng minh chiều ngược nếu sj sqsupset si j thuộc pii </s> <s> giả sử j không xuất hiện trong dãy </s> <s> rõ ràng  lt j lt i do i và  đều có trong dãy </s> <s> do pii luôn giảm ta có thể tìm được một và chỉ một k thuộc pii sao cho kgtj và pikltj </s> <s> nói cách khác ta có thể tìm được một và chỉ một k mà sau nó j có lẽ sẽ xuất hiện để giữ cho dãy luôn giảm </s> <s> ở phần đầu chứng minh ta đã biết sk sqsupset si </s> <s> do hậu tố độ dài j của si là một hậu tố của hậu tố độ dài k của si hậu tố độ dài j của si phải khớp với hậu tố độ dài j của sk </s> <s> nhưng hậu tố độ dài j của si cũng khớp với sj nên sj khớp với hậu tố độ dài j của sk </s> <s> vậy ta kết luận pik ge j </s> <s> thế nhưng j ge pik mâu thuẫn </s> <s> </s> <s> </s> <s> </s> <s> cũng chính nhờ việc chứng minh này ta có thể xây dựng một thuật toán để tính bảng pi </s> <s> với mỗi i </s> <s> </s> <s> </s> <s> đầu tiên ta tìm số j gt  sao cho sj sqsupset si </s> <s> </s> <s> nếu không tìm được ta kết luận pii   như trường hợp i </s> <s> </s> <s> nếu có j gt  thỏa mãn vậy khi xóa bỏ kí tự cuối của hậu tố này ta thu được một hậu tố của si đồng thời là tiền tố của s tức là sj sqsupset si </s> <s> vậy bước đầu ta đếm mọi hậu tố chuẩn và khôngrỗng của si đồng thời là tiền tố của s </s> <s> nếu ta tìm được một hậu tố độ dài k đồng thời thỏa sk  si vậy sk sqsupset si và k là một giá trị khả dĩ của j </s> <s> vậy ta sẽ gán k  pii và tiếp tục lặp lại trong dãy pipii pipipii </s> <s> </s> <s> </s> <s>  quá trình sẽ dừng lại nếu gặp phải một phần tử j trong dãy sao cho sj  si và gán pii  j cách này sẽ luôn cho kết quả tối ưu vì dãy pii luôn giảm và nó chứa toàn bộ giá trị k khả dĩ </s> <s> nếu đi đến hết dãy vậy pii   </s> <s> </s> <s> </s> <s> </s> <s> dưới đây là mã giả để tính pi </s> <s> </s> <s> π ←  </s> <s> for i ∈  </s> <s> </s> <s> m </s> <s> k ← πi </s> <s> while k gt  and sk ≠ si </s> <s> k ← πk </s> <s> if sk  si </s> <s> πi ←  </s> <s> else </s> <s> πi ← k </s> <s> </s> <s> hoặc có thể viết gọn lại như sau </s> <s> </s> <s> π ←  </s> <s> k ←  </s> <s> for i ∈  </s> <s> </s> <s> m </s> <s> while k gt  and sk ≠ si </s> <s> k ← πk </s> <s> if sk  si </s> <s> k ← k </s> <s> πi ← k </s> <s> </s> <s> thuật toán có độ phức tạp om </s> <s> để hiểu tại sao thì hãy để ý k không bao giờ âm nó không thể giảm nhiều hơn mức nó tăng </s> <s> k chỉ tăng ở dòng k ← k  vốn chỉ bị gọi nhiều nhất là m lần </s> <s> vậy k giảm nhiều nhất là k lần </s> <s> nhưng k giảm ở mỗi lần lặp của vòng while  vậy tổng tất cả các bước trong vòng while không quá om </s> <s> tất cả những câu lệnh trong vòng for đều có độ phức tạp là hằng số nên cả thuật toán có độ phức tạp om </s> <s> </s> <s> </s> <s> so khớp </s> <s> </s> <s> coi như ta đã xây dựng xong bảng pi </s> <s> đây là lúc ta sử dụng những thông tin cực khổ lấy được này </s> <s> giả sử rằng ta đã kiểm tra đang vị trí thứ j và k kí tự đầu của s đã khớp </s> <s> nói cách khác </s> <s> </s> <s> </s> <s> s  tj </s> <s> s  tj </s> <s> s  tj </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sk  tjk </s> <s> </s> <s> </s> <s> </s> <s> có  khả năng </s> <s> </s> <s> </s> <s> ta muốn tiếp tục chạy trên s và t để kiểm tra các cặp kí tự </s> <s> ta kiểm tra ở một ví trị khác trên t </s> <s> </s> <s> </s> <s> </s> <s> lí do cho trường hợp  là </s> <s> </s> <s> </s> <s> hoặc k  m tức đã tìm thấy một vị trí trùng khớp của s trên t và ta cần tiếp tục ở vị trí khác </s> <s> hoặc sk neq tjk loại bỏ vị trí hiện tại </s> <s> </s> <s> </s> <s> </s> <s> nếu ta đã biết từ s đến sk khớp với từ tj đến tjk vị trí nào ta có thể bỏ qua đây là cốt lõi của thuật toán kmp </s> <s> </s> <s> </s> <s> </s> <s> định lý  nếu k gt  thì p  k  pik sẽ là giá trị p nhỏ nhất sao cho s </s> <s> </s> <s> </s> <s> skp khớp với tjp </s> <s> </s> <s> </s> <s> tjk </s> <s> nếu k p </s> <s>  </s> <s> </s> <s> </s> <s> nói một cách dễ hình dung hơn ta có thể bỏ qua tất cả các vị trí từ  đến p </s> <s> </s> <s> </s> <s> suy nghĩ thật kĩ lí thuyết này </s> <s> </s> <s> </s> <s> </s> <s> nếu p gt  không thỏa mãn s </s> <s> </s> <s> </s> <s> skp khớp với tjp </s> <s> </s> <s> </s> <s> tjk vậy s không khớp với t ở vị trí jp tức ta có thể loại bỏ vị trí này </s> <s> </s> <s> mặt khác nếu p gt  thỏa mãn yêu cầu trên xâu s có khả năng khớp với t ở vị trí jp và thực tế là các kí tự từ vị trí jp đến jk đều đã khớp với các vị trí tương ứng ở s </s> <s> ta chỉ cần tiếp tục bằng cách so skp với tjk không quay đầu lại như đã hứa </s> <s> </s> <s> </s> <s> </s> <s> chứng minh </s> <s> </s> <s> </s> <s> có  le q lt k </s> <s> </s> <s> nếu sq sqsupset sk vậy theo định nghĩa ta có s </s> <s> </s> <s> </s> <s> sq  skq </s> <s> </s> <s> </s> <s>  sk </s> <s> nhưng vì s </s> <s> </s> <s> </s> <s>  sk  tj </s> <s> </s> <s> </s> <s> tjk nên skq </s> <s> </s> <s> </s> <s> sk  tjkq </s> <s> </s> <s> </s> <s> tjk </s> <s> vậy s </s> <s> </s> <s> </s> <s> sq  tjkq </s> <s> </s> <s> </s> <s> tjk </s> <s> </s> <s> ngược lại nếu không có sq sqsupset sk vậy s </s> <s> </s> <s> </s> <s> sq neq skq </s> <s> </s> <s> </s> <s>  sk dẫn đến skq </s> <s> </s> <s> </s> <s> sk  tjkq </s> <s> </s> <s> </s> <s> tjk là sai và dẫn đến s </s> <s> </s> <s> </s> <s> sq  tjkq </s> <s> </s> <s> </s> <s> tjk là sai </s> <s> </s> <s> </s> <s> </s> <s> ta kết luận rằng kq là một giá trị khả dĩ của p khi và chỉ khi sq sqsupset sk </s> <s> do maximum của q là pik minumum của p được xác định bởi kpik </s> <s> </s> <s> </s> <s> dưới đây là mã giả </s> <s> </s> <s> j ←  </s> <s> k ←  </s> <s> while jm ≤ n </s> <s> while k ≤ m and sk  tjk </s> <s> k ← k </s> <s> if k  m </s> <s> print match at position  j </s> <s> if k   </s> <s> j ← j </s> <s> else </s> <s> j ← jkπk </s> <s> k ← πk </s> <s> </s> <s> ta dò trong xâu cần search một lần một kí tự kí tự đang được xét là nằm ở vị trí jk </s> <s> nếu xảy ra không trùng khớp ta dùng bảng pi để tìm đến vị trí khả dĩ tiếp theo </s> <s> </s> <s> </s> <s> đoạn code tương đương dưới đây thể hiện rõ hơn việc thuật toán xét một kí tự một lần và không quay ngược lại </s> <s> </s> <s> k ←  </s> <s> for i ∈  </s> <s> </s> <s> n </s> <s> while k gt  and sk ≠ ti </s> <s> k ← πk </s> <s> if sk  ti </s> <s> k ← k </s> <s> if k  m </s> <s> print match at position  im </s> <s> k ← πk </s> <s> </s> <s> ở đây i tương ứng với jk ở đoạn code trên </s> <s> mỗi lần lặp của vòng lặp trong của một trong  đoạn code tương ứng với một lần lặp của vòng lặp ngoài ở đoạn còn lại </s> <s> ở đoạn thứ hai ta cũng có thể chứng minh thuật có độ phức tạp on mỗi lần vòng while ở trong được thực hiện giá trị của k giảm nhưng nó không thể giảm nhiều hơn n lần bởi k khởi đầu là không và không bao giờ âm </s> <s> k chỉ tăng nhiều nhất một lần ở vòng lặp ngoài tức nhiều nhất tổng cộng n lần </s> <s> vậy vòng lặp trong chỉ lặp nhiều nhất n lần và tất cả các câu lệnh khác có độ phức tạp hằng số </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> </s> <s> voj  substr </s> <s> </s> <s> </s> <s> </s> <s> code c </s> <s> </s> <s> </s> <s> voj  twoopers </s> <s> </s> <s> </s> <s> </s> <s> disjoints sets </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/disjointset </s> <s> </s> <s> </s> <s> </s> <s> disjoint sets là  ctdl rất hữu dụng sử dụng rất nhanh gọn và dễ dàng </s> <s> nó được dùng làm nền tảng cho một số thuật toán như kruskal’s và prim’s   thuật toán tìm cây khung nhỏ nhất trên đồ thị </s> <s> </s> <s> </s> <s> disjoint sets  hoặc dsu  disjoint sets union  như tên gọi của nó là một tập hợp các tập hợp </s> <s> </s> <s> </s> <s> hãy tưởng tượng chúng ta có n cái hộp và n viên sỏi </s> <s> các viên sỏi phân biệt </s> <s> ban đầu mỗi viên sỏi nằm trong một cái hộp </s> <s> ta cần thực hiện  loại truy vấn </s> <s> </s> <s> </s> <s> cho hết sỏi ở  hộp u và v vào cùng một hộp </s> <s> </s> <s> kiểm tra  viên sỏi i và j có thuộc cùng một hộp hay không </s> <s> </s> <s> </s> <s> giả sử chỉ có duy nhất  bộ dụng cụ trong  hộp </s> <s> ta có n bộ dụng cụ n hộp và ban đầu bộ thứ i sẽ nằm trong hộp thứ i </s> <s> </s> <s> </s> <s> với những yêu cầu trên ta có thể sử dụng nhiều cấu trúc như </s> <s> </s> <s> cài đặt disjoint set với cây </s> <s> </s> <s> cây là cấu trúc hữu hiệu nhất dùng cho dsu </s> <s> với mỗi đỉnh ta lưu lại đỉnh cha của nó đỉnh cha của đỉnh gốc là  </s> <s> ban đầu mọi đỉnh cha được set là  </s> <s> có các truy vấn tìm đỉnh gốc của mỗi hộp có được gốc ta có thể truy ra vị trí của hộp và các truy vấn yêu cầu hợp  cây lại </s> <s> để thuật toán nhanh hơn mỗi lần tìm gốc của mỗi đỉnh ta đặt đỉnh cha của nó là gốc cho truy vấn tiếp theo </s> <s> luôn muốn độ cao của cây là nhỏ nhất có thể vì vậy mỗi khi nhập các hộp lại với nhau ta bỏ các bộ dụng cụ trong hộp có ít bộ hơn vào hộp còn lại </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> code c  bmerry  </s> <s> </s> <s> </s> <s> // pari  x nếu viên sỏi i và viên sỏi x nằm trong cùng một hộp </s> <s> // nếu pari lt  thì viên sỏi i nằm trong hộp i và pari chính là số sỏi trong hộp đó </s> <s> </s> <s> // ban đầu khởi tạo pari   với mọi i </s> <s> </s> <s> </s> <s> int root  int v   </s> <s> // cho  số v tìm hộp chứa viên sỏi v </s> <s> return par  v  lt  </s> <s>  v </s> <s>   par  v   root  par  v  // viên sỏi v nằm trong cùng hộp với viên sỏi chứa parv </s> <s> // chú ý ở đây ta gán lại parv  rootparv kĩ thuật này </s> <s> // được gọi là path compression giúp giảm độ phức tạp mỗi </s> <s> // thao tác xuống logn </s> <s>  </s> <s> </s> <s> void merge  int x  int y   </s> <s> // gộp  hộp chứa viên sỏi x và y vào cùng  hộp </s> <s> if  x  root  x    y  root  y   </s> <s> //  viên sỏi x và y đã thuộc cùng  hộp ta không cần làm gì cả </s> <s> return  </s> <s>  </s> <s> if  par  y  lt par  x   </s> <s> // ta gộp vào hộp chứa nhiều sỏi hơn </s> <s> kĩ thuật này gọi là unionbyrank và cũng giúp giảm </s> <s> // độ phức tạp mỗi thao tác xuống logn </s> <s> </s> <s> // nếu kết hợp cả unionbyrank và pathcompression thì độ phức tạp mỗi thao tác là ackermann </s> <s> // rất rất nhỏ với n </s> <s> </s> <s> swap  x  y  </s> <s>  </s> <s> par  x   par  y  </s> <s> par  y   x  </s> <s>  </s> <s> </s> <s> cài đặt disjoint set với mảng amp vector </s> <s> </s> <s> ta lưu vị trí các viên sỏi trong một vector hoặc mảng  và mỗi khi có truy vấn yêu cầu nhập hai hộp ta bỏ các viên sỏi ở hộp có ít viên sỏi hơn vào hộp còn lại </s> <s> </s> <s> </s> <s> độ phức tạp không cao vì với mỗi viên sỏi tổng số lần lấy và bỏ nó vào hộp chỉ tối đa là logn </s> <s> </s> <s> </s> <s> độ phức tạp cho n thao tác sẽ là onlogn </s> <s> </s> <s> </s> <s> khi cài đặt dsu cách này không được sử dụng do phức tạp hơn cách trên tuy nhiên ý tưởng này có thể được áp dụng cho nhiều bài khác </s> <s> </s> <s> </s> <s> cài đặt disjoint set với sets cây đỏ đen redblack trees </s> <s> </s> <s> một cách khác là lưu chúng trong một cây đỏ đen trong c là set thư viện stl  </s> <s> ta làm y như đã làm với vectors độ phức tạp sẽ là onlogn </s> <s>  log cho việc nhập vào </s> <s> </s> <s> </s> <s> bài tập phải tham gia nhóm acmoi  </s> <s> </s> <s> </s> <s> hamro amp tools </s> <s> troy query </s> <s> </s> <s> </s> <s> tài liệu tham khảo </s> <s> </s> <s> </s> <s> codeforces </s> <s> </s> <s> </s> <s> </s> <s> một số bài toán quy hoạch động điển hình </s> <s> http//vnoi </s> <s> info/wiki/algo/dp/basicproblems </s> <s> </s> <s> </s> <s> </s> <s> bài viết sưu tầm trên mạng </s> <s> </s> <s> </s> <s> table of contents  </s> <s> dãy con đơn điệu dài nhất  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức qhđ  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác bố trí phòng họp mất tính thứ tự so với dãy ban đầu cho thuê máy dãy tam giác bao nhau dãy đổi dấu dãy số wavio xếp các khối đá  </s> <s> vali b  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác dãy con có tổng bằng s chia kẹo market olympic balkan  điền dấu expression farmer ioi   </s> <s> biến đổi xâu  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> hướng dẫn  </s> <s>  </s> <s> một số bài toán khác xâu con chung dài nhất bắc cầu palindrome ioi   </s> <s> vali a  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác đổi tiền  </s> <s> nhân ma trận  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác chia đa giác biểu thức số học ioi   </s> <s> ghép cặp  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác câu lạc bộ mua giày đề qg bảng b năm   </s> <s> di chuyển  </s> <s>  </s> <s> mô hình  </s> <s>  </s> <s> công thức  </s> <s>  </s> <s> cài đặt  </s> <s>  </s> <s> một số bài toán khác tam giác ioi  </s> <s> </s> <s>  </s> <s> dãy con đơn điệu dài nhất </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho dãy aa </s> <s> </s> <s> </s> <s>  an </s> <s> hãy tìm một dãy con tăng có nhiều phần tử nhất của dãy </s> <s> </s> <s> </s> <s> đặc trưng  </s> <s> </s> <s> </s> <s> các phần tử trong dãy kết quả chỉ xuất hiện  lần </s> <s> vì vậy phương pháp làm là ta sẽ dùng vòng for duyệt qua các phần tử a trong dãy khác với các bài toán của mô hình  đặc trưng là bài toán đổi tiền các phần tử trong dãy có thể được chọn nhiều lần nên ta thực hiện bằng phương pháp cho giá trị cần quy đổi tăng dần từng đơn vị </s> <s> </s> <s> thứ tự của các phần tử được chọn phải được giữ nguyên so với dãy ban đầu </s> <s> </s> <s> </s> <s> </s> <s> đặc trưng này có thể mất đi trong một số bài toán khác tùy vào yêu cầu cụ thể </s> <s> chẳng hạn bài tam giác bao nhau </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức qhđ </s> <s> </s> <s> hàm mục tiêu f độ dài dãy con </s> <s> </s> <s> </s> <s> vì độ dài dãy con chỉ phụ thuộc vào một yếu tố là dãy ban đầu nên bảng phương án là bảng một chiều </s> <s> gọi li là độ dài dãy con tăng dài nhất các phần tử lấy trong miền từ a đến ai và phần tử cuối cùng là ai </s> <s> </s> <s> </s> <s> nhận xét với cách làm này ta đã chia  bài toán lớn dãy con của n số thành các bài toán con cùng kiểu có kích thước nhỏ hơn dãy con của dãy i số </s> <s> vấn đề là công thức truy hồi để phối hợp kết quả của các bài toán con </s> <s> </s> <s> </s> <s> ta có công thức qhđ để tính li như sau </s> <s> </s> <s> </s> <s> l   </s> <s> hiển nhiên </s> <s> li  max lj   với mọi phần tử j thỏa mãn ltjlti và aj le ai </s> <s> </s> <s> </s> <s> tính li phần tử đang được xét là ai </s> <s> ta tìm đến phần tử aj lt ai có lj lớn nhất </s> <s> khi đó nếu bổ sung ai vào sau dãy con  </s> <s> </s> <s> </s> <s> aj ta sẽ được dãy con tăng dần dài nhất xét từ a </s> <s> </s> <s> </s> <s> ai </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> bảng phương án là một mảng một chiều l để lưu trữ các giá trị của hàm qhđ li </s> <s> đoạn chương trình tính các giá trị của mảng l như sau </s> <s> </s> <s> for i   to n do </s> <s> begin </s> <s> l  i    </s> <s> for j   to i   do </s> <s> if  a  j lt a  i  and  l  i lt l  j    then l  i  l  j    </s> <s> end  </s> <s> </s> <s> như vậy độ phức tạp bộ nhớ của bài toán là on độ phức tạp thời gian là on </s> <s> </s> <s> </s> <s> có một số phương pháp cài đặt tốt hơn so với phương pháp trên cho chi phí thời gian là onlogn một trong những cách đó là dùng segment tree </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> bài toán dãy con đơn điệu tăng dài nhất có biến thể đơn giản nhất là bài toán dãy con đơn điệu giảm dài nhất tuy nhiên chúng ta có thể coi chúng như là một </s> <s> sau đây là một số bài toán khác </s> <s> </s> <s> </s> <s> bố trí phòng họp mất tính thứ tự so với dãy ban đầu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> có n cuộc họp cuộc họp thứ i bắt đầu vào thời điểm ai và kết thúc ở thời điểm bi </s> <s> do chỉ có một phòng hội thảo nên  cuộc họp bất kì sẽ được cùng bố trí phục vụ nếu khoảng thời gian làm việc của chúng chỉ giao nhau tại đầu mút </s> <s> hãy bố trí phòng họp để phục vụ được nhiều cuộc họp nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> sắp xếp các cuộc họp tăng dần theo thời điểm kết thúc bi </s> <s> thế thì cuộc họp i sẽ bố trí được sau cuộc họp j khi và chỉ khi jlti và bj le ai </s> <s> yêu cầu bố trí được nhiều cuộc họp nhất có thể đưa về việc tìm dãy các cuộc họp dài nhất thoả mãn điều kiện trên </s> <s> </s> <s> </s> <s> cho thuê máy </s> <s> </s> <s> bài toán  </s> <s> </s> <s> trung tâm tính toán hiệu năng cao nhận được đơn đặt hàng của n khách hàng </s> <s> khách hàng i muốn sử dụng máy trong khoảng thời gian từ ai đến bi và trả tiền thuê là ci </s> <s> hãy bố trí lịch thuê máy để tổng số tiền thu được là lớn nhất mà thời gian sử dụng máy của  khách hàng bất kì được phục vụ đều không giao nhau cả trung tâm chỉ có một máy cho thuê </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> tương tự như bài toán bố trí phòng họp nếu sắp xếp các đơn đặt hàng theo thời điểm kết thúc ta sẽ đưa được về bài toán tìm dãy con có tổng lớn nhất </s> <s> bài toán này là biến thể của bài toán tìm dãy con tăng dài nhất ta có thể cài đặt bằng đoạn chương trình như sau </s> <s> </s> <s> for i   to n do </s> <s> begin </s> <s> l  i  c  i  </s> <s> for j   to i   do </s> <s> if  b  j lt a  i  and  l  i lt l  j  c  i  then l  i  l  j  c  i  </s> <s> end  </s> <s> </s> <s> dãy tam giác bao nhau </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n tam giác trên mặt phẳng </s> <s> tam giác i bao tam giác j nếu  đỉnh của tam giác j đều nằm trong tam giác i có thể nằm trên cạnh </s> <s> hãy tìm dãy tam giác bao nhau có nhiều tam giác nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> sắp xếp các tam giác tăng dần về diện tích </s> <s> khi đó tam giác i sẽ bao tam giác j nếu jlti và  đỉnh của j nằm trong i </s> <s> từ đó có thể đưa về bài toán tìm dãy “tăng” dài nhất </s> <s> </s> <s> </s> <s> bài toán có một số biến thể khác như tìm dãy hình tam giác hình chữ nhật… bao nhau có tổng diện tích lớn nhất </s> <s> </s> <s> </s> <s> việc kiểm tra điểm m có nằm trong tam giác abc không có thể dựa trên phương pháp tính diện tích điểm m nằm trong nếu sabc  sabm  sacm  sbcm </s> <s> </s> <s> </s> <s> dãy đổi dấu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho dãy a a </s> <s> </s> <s> </s> <s>  an </s> <s> hãy tìm dãy con đổi dấu dài nhất của dãy đó </s> <s> dãy con đổi dấu aiai </s> <s> </s> <s> </s> <s>  aik phải thoả mãn các điều kiện sau </s> <s> </s> <s> </s> <s> ai lt ai gt ai lt </s> <s> </s> <s> </s> <s>  hoặc ai gt ai lt ai gt </s> <s> </s> <s> </s> <s>  </s> <s> các chỉ số phải cách nhau ít nhất l i  i ge l i  i ge l </s> <s> </s> <s> </s> <s> </s> <s> chênh lệch giữa  phần tử liên tiếp nhỏ hơn u ai  ai le u ai  ai le u </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi li là số phần tử của dãy con đổi dấu có phần tử cuối cùng là ai và phần tử cuối cùng lớn hơn phần tử đứng trước </s> <s> tương tự pi là số phần tử của dãy con đổi dấu có phần tử cuối cùng là ai và phần tử cuối cùng nhỏ hơn phần tử đứng trước </s> <s> </s> <s> </s> <s> ta dễ dàng suy ra </s> <s> </s> <s> </s> <s> li  max pj   với mọi j thỏa mãn j le il và ai  u le aj lt ai </s> <s> </s> <s> pi  max lj   với mọi j thỏa mãn j le il và ai lt aj le ai  u </s> <s> </s> <s> </s> <s> </s> <s> dãy số wavio </s> <s> </s> <s> bài toán  </s> <s> </s> <s> dãy số wavio là dãy số nguyên thỏa mãn các tính chất các phần tử đầu sắp xếp thành  dãy tăng dần đến  phần tử đỉnh sau đó giảm dần </s> <s> ví dụ dãy số        là  dãy wavio độ dài  </s> <s> cho  dãy gồm n số nguyên hãy chỉ ra một dãy con wavio có đọ dài lớn nhất trích ra từ dãy đó </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> li là mảng ghi độ dài lớn nhất của  dãy con tăng dần trích ra từ dãy n phần tử kể từ phần tử  đến phần tử ai </s> <s> </s> <s> </s> <s> li mảng ghi độ dài lớn nhất của dãy con giảm dần trích ra từ dãy n phần tử kể từ phần tử an đến ai </s> <s> ta tìm phần tử j trong  mảng l l thỏa mãn lj  lj lớn nhất </s> <s> </s> <s> </s> <s> xếp các khối đá </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n khối đá n le  </s> <s> </s> <s> </s> <s> các khối đá đều có dạng hình hộp chữ nhật và được đặc trưng bới  kích thước dài rộng cao </s> <s> một cách xây dựng tháp là một cách đặt một số các khối đá trong các khối đá đã cho chồng lên nhau theo quy tắc </s> <s> </s> <s> </s> <s> chiều cao mỗi khối đá là kích thước nhỏ nhất trong  kích thước </s> <s> </s> <s> các mép của khối đá được đặt song song với nhau sao cho không có phần nào của khối trên nằm chìa ra ngoài khối dưới </s> <s> </s> <s> </s> <s> </s> <s> hãy chỉ ra cách để xây dựng được một cái tháp sao cho số khối đá được dùng là nhiều nhất </s> <s> </s> <s> </s> <s>  </s> <s> vali b </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> có n đồ vật vật thứ i có trọng lượng ai và giá trị bi </s> <s> hãy chọn ra một số các đồ vật mỗi vật một cái để xếp vào  vali có trọng lượng tối đa w sao cho tổng giá trị của vali là lớn nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> hàm mục tiêu f tổng giá trị của vali </s> <s> </s> <s> </s> <s> nhận xét giá trị của vali phụ thuộc vào  yếu tố có bao nhiêu vật đang được xét và trọng lượng của các vật </s> <s> do đó bảng phương án sẽ là bảng  chiều </s> <s>  lij tổng giá trị lớn nhất của vali khi xét từ vật  </s> <s> </s> <s> vật i và trọng lượng của vali chưa vượt quá j </s> <s> chú ý rằng khi xét đến lij thì các giá trị trên bảng phương án đều đã được tối ưu </s> <s> </s> <s> </s> <s> tính lij vật đang xét là ai với trọng lượng của vali không được quá j </s> <s> có  khả năng xảy ra </s> <s> </s> <s> </s> <s> nếu chọn ai đưa vào vali trọng lượng vali trước đó phải không quá j  ai </s> <s> vì mỗi vật chỉ được chọn  lần nên giá trị lớn nhất của vali lúc đó là li j  ai  bi </s> <s> </s> <s> nếu không chọn ai trọng lượng của vali là như cũ như lúc trước khi chọn ai lij </s> <s> </s> <s> </s> <s> </s> <s> tóm lại ta có lij  maxli j  ai  bi li j </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> for i   to n do </s> <s> for j   to w do </s> <s> if b  i lt j then l  i  j  max  l  i    j  a  i    b  i  l  i    j  </s> <s> else l  i  j  l  i    j  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> dãy con có tổng bằng s </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho dãy aa </s> <s> </s> <s> </s> <s>  an </s> <s> tìm một dãy con của dãy đó có tổng bằng s </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> đặt lit nếu có thể tạo ra tổng t từ một dãy con của dãy gồm các phần tử aa </s> <s> </s> <s> </s> <s> ai </s> <s> ngược lại thì lit </s> <s> nếu lns thì đáp án của bài toán trên là “có” </s> <s> </s> <s> </s> <s> ta có thể tính lit theo công thức lit nếu lit hoặc litai </s> <s> </s> <s> </s> <s> cài đặt  </s> <s> </s> <s> nếu áp dụng luôn công thức trên thì ta cần dùng bảng phương án hai chiều </s> <s> ta có thể nhận xét rằng để tính dòng thứ i ta chỉ cần dòng i </s> <s> bảng phương án khi đó chỉ cần  mảng  chiều l </s> <s> </s> <s> s và được tính như sau </s> <s> </s> <s> l  t    l      </s> <s> </s> <s> for i   to n do </s> <s> for t  s downto a  i  do </s> <s> if  l  t    and  l  t  a  i    then l  t    </s> <s> </s> <s> dễ thấy độ phức tạp bộ nhớ của cách cài đặt trên là om độ phức tạp thời gian là on  m với m là tổng của n số </s> <s> hãy tự kiểm tra xem tại sao vòng for thứ  lại là for downto chứ không phải là for to </s> <s> </s> <s> </s> <s> chia kẹo </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n gói kẹo gói thứ i có ai viên </s> <s> hãy chia các gói thành  phần sao cho chênh lệch giữa  phần là ít nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi t là tổng số kẹo của n gói </s> <s> chúng ta cần tìm số s lớn nhất thoả mãn </s> <s> </s> <s> </s> <s> s le t/ </s> <s> </s> <s> có một dãy con của dãy a có tổng bằng s </s> <s> </s> <s> </s> <s> </s> <s> khi đó sẽ có cách chia với chênh lệch  phần là ts là nhỏ nhất và dãy con có tổng bằng s ở trên gồm các phần tử là các gói kẹo thuộc phần thứ nhất </s> <s> phần thứ hai là các gói kẹo còn lại </s> <s> </s> <s> </s> <s> market olympic balkan  </s> <s> </s> <s> bài toán  </s> <s> </s> <s> người đánh cá clement bắt được n con cá khối lượng mỗi con là ai đem bán ngoài chợ </s> <s> ở chợ cá người ta không mua cá theo từng con mà mua theo một lượng nào đó </s> <s> chẳng hạn  kg kg </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ví dụ có  con cá khối lượng lần lượt là    </s> <s> mua lượng kg sẽ phải lấy con cá thứ  và và thứ  </s> <s> mua lượng  kg thì lấy con thứ nhất </s> <s> không thể mua lượng  kg </s> <s> nếu bạn là người đầu tiên mua cá có bao nhiêu lượng bạn có thể chọn </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> thực chất bài toán là tìm các số s mà có một dãy con của dãy a có tổng bằng s </s> <s> ta có thể dùng phương pháp đánh dấu của bài chia kẹo ở trên rồi đếm các giá trị t mà lt </s> <s> </s> <s> </s> <s> điền dấu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n số tự nhiên aa </s> <s> </s> <s> </s> <s> an </s> <s> ban đầu các số được đặt liên tiếp theo đúng thứ tự cách nhau bởi dấu  a  a  </s> <s> </s> <s> </s> <s>  an </s> <s> cho trước số nguyên s có cách nào thay các dấu  bằng dấu  hay dấu − để được một biểu thức số học cho giá trị là s không </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> đặt lit nếu có thể điền dấu vào i số đầu tiên và cho kết quả bằng t </s> <s> ta có công thức sau để tính l </s> <s> </s> <s> </s> <s> l a   </s> <s> </s> <s> li t   nếu li   t  ai   hoặc li   t  ai   </s> <s> </s> <s> </s> <s> </s> <s> nếu ln s   thì câu trả lời của bài toán là có </s> <s> </s> <s> </s> <s> khi cài đặt có thể dùng một mảng  chiều lưu toàn bộ bảng phương án hoặc  mảng một chiều để lưu dòng i và dòng i </s> <s> chú ý là chỉ số theo t của các mảng phải có cả phần âm tức là từ t đến t với t là tổng của n số vì trong bài này chúng ta dùng cả dấu  nên có thể tạo ra các tổng âm </s> <s> </s> <s> </s> <s> bài này có một biến thể là đặt dấu sao cho kết quả là một số chia hết cho k </s> <s> ta có thuật giải tương tự bài toán trên bằng cách thay các phép cộng trừ bằng các phép cộng và trừ theo modulo k và dùng mảng đánh dấu với các giá trị từ  đến k là các số dư có thể có khi chia cho k </s> <s> đáp số của bài toán là ln </s> <s> </s> <s> </s> <s> expression </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho n số nguyên </s> <s> hãy chia chúng thành  nhóm sao cho tích của tổng  nhóm là lớn nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi t là tổng n số nguyên đó </s> <s> giả sử ta chia dãy thành  nhóm gọi s là tổng của một nhóm tổng nhóm còn lại là ts và tích của tổng  nhóm là sts </s> <s> bằng phương pháp đánh dấu ta xác định được mọi số s là tổng của một nhóm như bài market và tìm số s sao cho sts đạt max </s> <s> </s> <s> </s> <s> farmer ioi  </s> <s> </s> <s> bài toán </s> <s> </s> <s> một người có n mảnh đất và m dải đất </s> <s> các mảnh đất có thể coi là một tứ giác và các dải đất thì coi như một đường thẳng </s> <s> dọc theo các dải đất ông ta trồng các cây bách dải đất thứ i có ai cây bách </s> <s> ông ta cũng trồng các cây bách trên viền của các mảnh đất mảnh đất thứ j có bj cây bách </s> <s> cả ở trên các mảnh đất và dải đất xen giữa  cây bách ông ta trồng một cây ôliu </s> <s> ông ta cho con trai được chọn các mảnh đất và dải đất tuỳ ý với điều kiện tổng số cây bách không vượt quá q </s> <s> người con trai phải chọn thế nào để có nhiều cây ôliu loài cây mà anh ta thích nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> dễ thấy mảnh đất thứ i có ai cây ôliu và dải đất thứ j có bj cây ôliu </s> <s> coi các mảnh đất và dải đất là các “đồ vật” đồ vật thứ k có khối lượng wk và giá trị vk nếu k là mảnh đất i thì wkvkai nếu k là dải đất j thì wkbj vkbj </s> <s> ta cần chọn các “đồ vật” sao cho tổng “khối lượng” của chúng không vượt q và tổng “giá trị” là lớn nhất </s> <s> đây chính là bài toán xếp balô đã trình bày ở trên </s> <s> </s> <s> </s> <s>  </s> <s> biến đổi xâu </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho  xâu x f </s> <s> xâu gốc có n kí tự x x </s> <s> </s> <s> </s> <s> xn xâu đích có m kí tự f f </s> <s> </s> <s> </s> <s> fm </s> <s> có  phép biến đổi </s> <s> </s> <s> </s> <s> chèn  kí tự vào sau kí tự thứ i i i c </s> <s> </s> <s> thay thế kí tự ở vị trí thứ i bằng kí tự c r i c </s> <s> </s> <s> xoá kí tự ở vị trí thứ i d i </s> <s> </s> <s> </s> <s> </s> <s> hãy tìm số ít nhất các phép biến đổi để biến xâu x thành xâu f </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> hướng dẫn </s> <s> </s> <s> hàm mục tiêu f số phép biến đổi </s> <s> </s> <s> </s> <s> dễ thấy số phép biến đổi phụ thuộc vào vị trí i đang xét của xâu x và vị trí j đang xét của xâu f </s> <s> do vậy để cài đặt cho bảng phương án ta sẽ dùng mảng  chiều </s> <s> </s> <s> </s> <s> gọi lij là số phép biến đổi ít nhất để biến xâu xi gồm i kí tự phần đầu của x xi  x </s> <s> </s> <s> i thành xâu fj gồm j kí tự phần đầu của f fj  f </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> dễ thấy ljj và lii </s> <s> </s> <s> </s> <s> có  trường hợp xảy ra </s> <s> </s> <s> </s> <s> nếu xi  fj </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi xi </s> <s> f f </s> <s> </s> <s> </s> <s> fj xi </s> <s> thì ta chỉ phải biến đổi xâu xi thành xâu fj </s> <s> do đó lijlij </s> <s> </s> <s> </s> <s> </s> <s> ngược lại ta có  cách biến đổi </s> <s> </s> <s> </s> <s> xoá kí tự xi </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi </s> <s> f f </s> <s> </s> <s> </s> <s> fj fj </s> <s> xâu xi thành fj </s> <s> khi đó lijlij </s> <s> cộng  là do ta đã dùng  phép xóa </s> <s> </s> <s> </s> <s> thay thế xi bởi fj </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi fj </s> <s> f f </s> <s> </s> <s> </s> <s> fj fj </s> <s> xâu xi thành fj </s> <s> khi đó lijlij </s> <s> </s> <s> </s> <s> </s> <s> chèn fj vào sau xi </s> <s> </s> <s> </s> <s> x x </s> <s> </s> <s> </s> <s> xi fj </s> <s> f f </s> <s> </s> <s> </s> <s> fj fj </s> <s> xâu xi thành fj </s> <s> khi đó lijlij </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng kết lại ta có công thức qhđ </s> <s> </s> <s> </s> <s> ljj </s> <s> lii </s> <s> </s> <s> lij li−j− nếu xi  yj </s> <s> </s> <s> </s> <s> lij  minli−j lij− li−j−   nếu xi ne fj </s> <s> </s> <s> </s> <s> </s> <s> bài này ta có thể tiết kiệm biến hơn bằng cách dùng  mảng  chiều tính lẫn nhau và một mảng đánh dấu  chiều để truy vết </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> xâu con chung dài nhất </s> <s> </s> <s> bài toán  </s> <s> </s> <s> cho  xâu x y </s> <s> hãy tìm xâu con của x và của y có độ dài lớn nhất </s> <s> biết xâu con của một xâu thu được khi xóa một số kí tự thuộc xâu đó hoặc không xóa kí tự nào </s> <s> </s> <s> </s> <s> công thức qhđ  </s> <s> </s> <s> gọi lij là độ dài xâu con chung dài nhất của xâu xi gồm i kí tự phần đầu của x xi  x </s> <s> </s> <s> i và xâu yj gồm j kí tự phần đầu của y yj  y </s> <s> </s> <s> j </s> <s> ta có công thức quy hoạch động như sau </s> <s> </s> <s> </s> <s> lj  li   </s> <s> </s> <s> lij  li−j−   nếu xi  yj </s> <s> </s> <s> lij  maxli−j lij− nếu xi ne yj </s> <s> </s> <s> </s> <s> </s> <s> cài đặt  </s> <s> </s> <s> bảng phương án là một mảng  chiều l </s> <s> </s> <s> m </s> <s> </s> <s> n để lưu các giá trị của hàm qhđ lij </s> <s> </s> <s> </s> <s> đoạn chương trình cài đặt công thức qhđ trên như sau </s> <s> </s> <s> for i   to m do l  i      </s> <s> for j   to n do l    j    </s> <s> </s> <s> </s> <s> for i   to m do </s> <s> for j   to n do </s> <s> if x  i  y  j  then l  i  j  l  i    j     </s> <s> else l  i  j  max  l  i    j  l  i  j    </s> <s> </s> <s> như vậy độ phức tạp bộ nhớ của bài toán là on độ phức tạp thời gian là on </s> <s> </s> <s> </s> <s> có một phương pháp cài đặt tốt hơn chỉ với độ phức tạp bộ nhớ on dựa trên nhận xét sau để tính ô lij của bảng phương án ta chỉ cần  ô lij lij và lij </s> <s> tức là để tính dòng li thì chỉ cần dòng li </s> <s> do đó ta chỉ cần  mảng  chiều để lưu dòng vừa tính p và dòng đang tính l mà thôi </s> <s> cách cài đặt mới như sau </s> <s> </s> <s> for j   to n do p  j    </s> <s> </s> <s> for i   to m do </s> <s> begin </s> <s> l       </s> <s> for j   to n do </s> <s> if x  i  y  j  then l  i  j  p  j     </s> <s> else l  i  j  max  p  j  l  j    </s> <s> p  l  </s> <s> end  </s> <s> </s> <s> bắc cầu </s> <s> </s> <s> bài toán  </s> <s> </s> <s> hai nước alpha và beta nằm ở hai bên bờ sông omega alpha nằm ở bờ bắc và có m thành phố được đánh số từ  đến m beta nằm ở bờ nam và có n thành phố được đánh số từ  đến n theo vị trí từ đông sang tây </s> <s> mỗi thành phố của nước này thường có quan hệ kết nghĩa với một số thành phố của nước kia </s> <s> để tăng cường tình hữu nghị hai nước muốn xây các cây cầu bắc qua sông mỗi cây cầu sẽ là nhịp cầu nối  thành phố kết nghĩa </s> <s> với yêu cầu là các cây cầu không được cắt nhau và mỗi thành phố chỉ là đầu cầu cho nhiều nhất là một cây cầu hãy chỉ ra cách bắc cầu được nhiều cầu nhất </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> gọi các thành phố của alpha lần lượt là aa </s> <s> </s> <s> </s> <s>  am các thành phố của beta là bb </s> <s> </s> <s> </s> <s> bn </s> <s> nếu thành phố ai và bj kết nghĩa với nhau thì coi ai bằng” bj </s> <s> để các cây cầu không cắt nhau nếu ta đã chọn cặp thành phố aibj để xây cầu thì cặp tiếp theo phải là cặp aubv sao cho ugti và vgtj </s> <s> như vậy các cặp thành phố được chọn xây cầu có thể coi là một dãy con chung của hai dãy a và b </s> <s> </s> <s> </s> <s> bài toán của chúng ta trở thành bài toán tìm dãy con chung dài nhất ở đây hai phần tử “bằng” nhau nếu chúng có quan hệ kết nghĩa </s> <s> </s> <s> </s> <s> palindrome ioi  </s> <s> </s> <s> bài toán  </s> <s> </s> <s> một xâu gọi là xâu đối xứng palindrome nếu xâu đó đọc từ trái sang phải hay từ phải sang trái đều như nhau </s> <s> cho một xâu s hãy tìm số kí tự ít nhất cần thêm vào s để s trở thành xâu đối xứng </s> <s> </s> <s> </s> <s> hướng dẫn  </s> <s> </s> <s> bài toán này có một công thức qhđ như sau </s> <s> </s> <s> </s> <s> gọi lij là số kí tự ít nhất cần thêm vào xâu con si </s> <s> </s> <s> j của s để xâu đó trở thành đối xứng </s> <s> </s> <s> đáp số của bài toán sẽ là ln với n là số kí tự của s </s> <s> ta có công thức sau để tính lij </s> <s> </s> <s> </s> <s> lii </s> <s> </s> <s> lijlij nếu sisj </s> <s> lijmaxlij lij nếu si ne sj </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bạn đọc dễ dàng có thể kiểm chứng công thức đó </s> <s> ta có thể cài đặt trực tiếp công thức đó bằng phương pháp đệ quy có nhớ </s> <s> tuy nhiên khi đó độ phức tạp bộ nhớ là on </s> <s> có một phương pháp cài đặt tiết kiệm hơn có thể tham khảo ở bài viết của nguyễn hoành tiến </s> <s> </s> <s> ta có thuật toán đơn giản hơn như sau </s> <s> </s> <s> </s> <s> gọi p là xâu đảo của s và t là xâu con chung dài nhất của s và p </s> <s> khi đó các kí tự của s không thuộc t cũng là các kí tự cần thêm vào để s trở thành đối xứng </s> <s> đáp số của bài toán sẽ là nk với k là độ dài của t </s> <s> </s> <s> ví dụ sedbabcd  xâu đảo của s là pdcbabde </s> <s> xâu con chung dài nhất của s và p là tdbabd </s> <s> như vậy cần thêm  kí tự là e và c vào để s trở thành xâu đối xứng </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> vali a </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho n vật vật i nặng ai và có giá trị bi </s> <s> hãy chọn ra một số vật để cho vào balô sao cho tổng khối lượng không vượt quá w và tổng giá trị là lớn nhất </s> <s> chú ý rằng mỗi vật có thể được chọn nhiều lần </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> gọi lij là tổng giá trị lớn nhất khi được chọn i vật từ  đến i cho vào balô với tổng khối lượng không vượt quá j </s> <s> lnw sẽ là đáp số của bài toán là giá trị lớn nhất có được nếu chọn n vật và tổng khối lượng không vượt quá w </s> <s> </s> <s> </s> <s> công thức tính lit như sau </s> <s> </s> <s> </s> <s> li    </s> <s> l t   </s> <s> lit  lit nếu tltai </s> <s> lit  maxlit litai  bi nếu t ge ai </s> <s> </s> <s> </s> <s> trong đó lit là giá trị có được nếu không đưa vật i vào balô litai  bi là giá trị có được nếu chọn vật i </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> ta có thể dùng một mảng  chiều để lưu bảng phương án tuy nhiên dựa trên nhận xét rằng để tính dòng i của bảng phương án chỉ cần dòng i ta chỉ cần dùng  mảng một chiều p và l có chỉ số từ  đến m để lưu  dòng đó </s> <s> đoạn chương trình con tính bảng phương án như sau </s> <s> </s> <s> </s> <s> l  t     với mọi t </s> <s> for i   to n do </s> <s> begin </s> <s> p  l  </s> <s> for t   to m do </s> <s> if t lt a  i  then l  t  p  t  </s> <s> else l  t   max  p  t  l  t  a  i  b  i  </s> <s> end  </s> <s> </s> <s> nếu để ý kĩ bạn sẽ thấy rằng đoạn trình trên chỉ viết giống công thức qhđ chứ chưa tối ưu </s> <s> chẳng hạn đã có lệnh gán pl  sau đó lại có gán ltpt với các giá trị tltai là không cần thiết </s> <s> bạn đọc có thể tự cải tiến để chương trình tối ưu hơn </s> <s> </s> <s> độ phức tạp bộ nhớ là om và độ phức tạp thời gian là om  n </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> đổi tiền </s> <s> </s> <s> bài toán </s> <s> </s> <s> ở đất nước omega người ta chỉ tiêu tiền xu </s> <s> có n loại tiền xu loại thứ i có mệnh giá là ai đồng </s> <s> một người khách du lịch đến omega du lịch với số tiền m đồng </s> <s> ông ta muốn đổi số tiền đó ra tiền xu omega để tiện tiêu dùng </s> <s> ông ta cũng muốn số đồng tiền đổi được là ít nhất cho túi tiền đỡ nặng khi đi đây đi đó </s> <s> bạn hãy giúp ông ta tìm cách đổi tiền </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> bài toán này khá giống bài toán xếp balô “khối lượng” là mệnh giá “giá trị” là  chỉ có một thay đổi nhỏ tổng giá trị yêu cầu là nhỏ nhất </s> <s> </s> <s> </s> <s> do đó ta cũng xây dựng hàm qhđ một cách tương tự gọi lit là số đồng xu ít nhất nếu đổi t đồng ra i loại tiền xu từ  đến i </s> <s> công thức tính lit như sau </s> <s> </s> <s> </s> <s> li </s> <s> lt inf với tgt </s> <s> </s> <s> litlit nếu tltai </s> <s> </s> <s> litminlit litai nếu t ge ai </s> <s> </s> <s> </s> <s> </s> <s> công thức này khác công thức của bài xếp balô ở chỗ dùng hàm min chứ không phải hàm max vì cần tìm cách chọn ít hơn </s> <s> </s> <s> </s> <s>  </s> <s> nhân ma trận </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> nhân một ma trận kích thước m  n với một ma trận n  p số phép nhân phải thực hiện là m  n  p </s> <s> mặt khác phép nhân các ma trận có tính kết hợp tức là a  b  c  a  b  c </s> <s> </s> <s> do đó khi tính tích nhiều ma trận ta có thể thực hiện theo các trình tự khác nhau mỗi trình tự tính sẽ quyết định số phép nhân cần thực hiện </s> <s> </s> <s> </s> <s> cho n ma trận a a </s> <s> </s> <s> </s> <s>  an ma trận a có kích thước là di  di </s> <s> hãy xác định trình tự nhân ma trận a  a  </s> <s> </s> <s> </s> <s>  an sao cho số phép nhân cần thực hiện là ít nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> gọi fij là số phép nhân để tính tích các ma trận từ ai đến aj ai  ai  </s> <s> </s> <s> </s> <s>  aj </s> <s> </s> <s> </s> <s> </s> <s> fii </s> <s> </s> <s> fiidi  di  di </s> <s> fij  minfikfkj  di  di  di với kii </s> <s> </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> công thức hơi phức tạp nên tôi xin giải thích như sau </s> <s> </s> <s> </s> <s> fii là hiển nhiên </s> <s> </s> <s> fii là số phép nhân khi nhân ai và ai </s> <s> ai có kích thước di  di ai có kích thước di  di do đó fiidi  di  di </s> <s> với jgti thì ta thấy có thể tính ai  ai  </s> <s> </s> <s> </s> <s>  aj bằng cách chọn một vị trí k nào đó để đặt ngoặc theo trình tự ai  ai  </s> <s> </s> <s> </s> <s>  aj  ai </s> <s> </s> <s> ak  ak </s> <s> </s> <s> aj </s> <s> </s> <s> </s> <s> ma trận kết quả của phép nhân ai </s> <s> </s> <s> ak có kích thước di  di ma trận kết quả của phép nhân ak </s> <s> </s> <s> aj có kích thước dk  dj </s> <s> với cách đặt đó ta sẽ mất fik phép nhân để có kết quả trong dấu ngoặc thứ nhất mất thêm fkj phép nhân để có kết quả trong dấu ngoặc thứ hai và cuối cùng mất di  dk  dj để nhân  ma trận kết quả đó </s> <s> từ đó tổng số phép nhân của cách đặt đó là fik  fkj  di  dk  dj </s> <s> </s> <s> </s> <s> ta chọn vị trí k cho số phép nhân ít nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> bảng phương án là một mảng  chiều f để lưu fij </s> <s> chú ý khi cài đặt là để tính được fij ta phải tính fik và fkj trước </s> <s> phương pháp đơn giản để làm điều đó là phương pháp đệ quy có nhớ </s> <s> </s> <s> </s> <s> tuy nhiên dựa vào nhận xét là trong công thức qhđ ji lớn hơn ki và jk ta có thể tính theo trình tự khác tính các phần tử fij với ji từ nhỏ đến lớn không phải là tính các giá trị fij với i j từ nhỏ đến lớn như vẫn làm </s> <s> với cách đó khi tính đến fij thì ta đã có fik và fkj </s> <s> </s> <s> </s> <s> đoạn chương trình tính bảng phương án như sau </s> <s> </s> <s> for i   to n do </s> <s> f  i  i    </s> <s> </s> <s> for i   to n   do </s> <s> f  i  i     d  i    d  i  d  i    </s> <s> </s> <s> for m   to n   do </s> <s> begin </s> <s> for i   to n  m do </s> <s> begin </s> <s> j  i  m  </s> <s> f  i  j  oo  </s> <s> for k  i   to j   do </s> <s> f  i  j  min  f  i  j  f  i  k  f  k    j  d  i    d  k  d  j  </s> <s> end  </s> <s> end  </s> <s> </s> <s> với cách cài đặt trên độ phức tạp bộ nhớ là on độ phức tạp thời gian là on </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> chia đa giác </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một đa giác lồi n đỉnh </s> <s> bằng các đường chéo không cắt nhau ta có thể chia đa giác thành n tam giác </s> <s> hãy xác định cách chia có tổng các đường chéo ngắn nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> để đơn giản ta coi mọi đoạn thẳng nối  đỉnh đều là “đường chéo” nếu nối  đỉnh trùng nhau hoặc  đỉnh liên tiếp thì có độ dài bằng  </s> <s> </s> <s> </s> <s> gọi fij là tổng độ dài các đường chéo khi chia đa giác gồm các đỉnh từ i đến j thành các tam giác </s> <s> nếu jlti thì đa giác đó có ít hơn  đỉnh không cần phải chia nên fij </s> <s> ngược lại ta xét cách chia đa giác đó bằng cách chọn một đỉnh k nằm giữa i j và nối i j với k </s> <s> khi đó fijfikfkjdikdkj với dik là độ dài đường chéo ik </s> <s> </s> <s> </s> <s> tóm lại công thức qhđ như sau </s> <s> </s> <s> </s> <s> fij với jlti </s> <s> </s> <s> fijminfikfkjdikdkj với ki </s> <s> </s> <s> </s> <s> j </s> <s> fn là tổng đường chéo của cách chia tối ưu </s> <s> </s> <s> </s> <s> </s> <s> biểu thức số học ioi  </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho biểu thức a cdot a cdot </s> <s> </s> <s> </s> <s> cdot an trong đó ai là các số thực không âm và cdot là một phép toán  hoặc  cho trước </s> <s> hãy đặt các dấu ngoặc để biểu thức thu được có kết quả lớn nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> gọi fij là giá trị lớn nhất có thể có của biểu thức ai cdot ai cdot </s> <s> </s> <s> </s> <s> cdot aj </s> <s> dễ thấy nếu ij thì fijai nếu ji thì fijai cdot aj </s> <s> nếu jgti thì có thể tính biểu thức ai cdot ai cdot </s> <s> </s> <s> </s> <s> cdot aj bằng cách chia thành  nhóm ai cdot ai cdot </s> <s> </s> <s> </s> <s> cdot ak cdot ak cdot </s> <s> </s> <s> </s> <s> cdot aj khi đó fijfik cdot fkj </s> <s> </s> <s> </s> <s> tóm lại công thức qhđ là </s> <s> </s> <s> </s> <s> fiiai </s> <s> fiiai cdot ai </s> <s> fijmaxfik cdot fkj với kii </s> <s> </s> <s> j </s> <s> </s> <s> </s> <s> </s> <s> chú là là các hạng tử của dãy đều không âm và các phép toán là  hoặc  nên fik và fkj đạt max thì fik cdot fkj cũng đạt max </s> <s> </s> <s> </s> <s>  </s> <s> ghép cặp </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> có n lọ hoa sắp thẳng hàng và k bó hoa được đánh số thứ tự từ nhỏ đến lớn </s> <s> cần cắm k bó hoa trên vào n lọ sao cho hoa có số thứ tự nhỏ phải đứng trước hoa có số thứ tự lớn </s> <s> giá trị thẩm mỹ tương ứng khi cắm hoa i vào lọ thứ j là vij </s> <s> hãy tìm  cách cắm sao cho tổng giá trị thẫm mỹ là lớn nhất </s> <s> chú ý rằng mỗi bó hoa chỉ được cắm vào  lọ và mỗi lọ cũng chỉ cắm được  bó hoa </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> nhận xét rằng bài toán nêu trên là một bài toán ghép cặp có yêu cầu về thứ tự nên ta có thể giải quyết bằng phương pháp qhđ </s> <s> </s> <s> </s> <s> hàm mục tiêu f tổng giá trị thẩm mỹ của cách cắm </s> <s> </s> <s> </s> <s> giá trị thẩm mỹ phụ thuộc vào các hoa và các lọ đang được xét nên ta sẽ dùng mảng  chiều để lưu bảng phương án </s> <s> </s> <s> </s> <s> lij tổng giá trị thẩm mỹ lớn nhất khi xét đến hoa i và lọ j </s> <s> khi tính lij hoa đang xét sẽ là hoa i và lọ j </s> <s> </s> <s> </s> <s> </s> <s> nếu i  j </s> <s> chỉ có một cách cắm lii vv </s> <s> </s> <s> </s> <s> vii </s> <s> nếu igtj </s> <s> không có cách cắm hợp lý </s> <s> nếu iltj </s> <s> có  trường hợp xảy ra </s> <s> </s> <s> </s> <s> cắm hoa i vào lọ j </s> <s> tổng giá trị thẩm mỹ là lijvij </s> <s> bằng tổng giá trị trước khi cắm cộng với giá trị thẩm mỹ khi cắm hoa i vào lọ j </s> <s> không cắm hoa i vào lọ j có thể cắm vào lọ trước j giá trị thẫm mỹ của cách cắm là như cũ lij </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> l  i  j   maxint  </s> <s> </s> <s> for i   to k do </s> <s> for j  i to n do </s> <s> if i  j then l  i  j  sum  i  </s> <s> else if i lt j then l  i  j  max  l  i    j    v  i  j  l  i  j    </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> câu lạc bộ </s> <s> </s> <s> bài toán </s> <s> </s> <s> có n phòng học chuyên đề và k nhóm học được đánh số thứ tự từ nhỏ đến lớn </s> <s> cần xếp k nhóm trên vào n phòng học sao cho nhóm có số hiệu nhỏ được xếp vào phòng có số hiệu nhỏ nhóm có số hiệu lớn phải được xếp vào phòng có số hiệu lớn </s> <s> với mỗi phòng có chứ học sinh các ghế thừa phải được chuyển ra hết nếu thiếu ghế thì lấy vào cho đủ ghế </s> <s> biết phòng i có ai ghế nhóm j có bj học sinh </s> <s> hãy chọn  phương án bố trí sao cho tổng số lần chuyển ghế ra và vào là ít nhất </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> khi xếp nhóm i vào phòng j thì số lần chuyển ghế chính là độ chênh lệch giữa số ghế trong phòng i và số học sinh trong nhóm </s> <s> đặt vijai  bj </s> <s> </s> <s> mua giày đề qg bảng b năm  </s> <s> </s> <s> bài toán </s> <s> </s> <s> trong hiệu có n đôi giày đôi giày i có kích thước hi </s> <s> có k người cần mua giày người i cần mua đôi giày kích thước si </s> <s> khi người i chọn mua đôi giày j thì độ lệch sẽ là hisj </s> <s> hãy tìm cách chọn mua giày cho k người trên sao cho tổng độ lệch là ít nhất </s> <s> biết rằng mỗi người chỉ mua  đôi giày và  đôi giày cũng chỉ có một người mua </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> lập công thức giải như bài câu lạc bộ </s> <s> chú ý chứng minh tính đúng đắn của bổ đề heuristic sau cho  dãy tăng dần các số dương a a </s> <s> </s> <s> </s> <s>  an b b </s> <s> </s> <s> </s> <s>  bn </s> <s> gọi c c </s> <s> </s> <s> </s> <s>  cn là một hoán vị bất kỳ của dãy b </s> <s> khi đó ab  ab  </s> <s> </s> <s> </s> <s>  anbn le ac  a  c  </s> <s> </s> <s> </s> <s>  ancn </s> <s> </s> <s>  </s> <s> di chuyển </s> <s> </s> <s>  </s> <s>  </s> <s> mô hình </s> <s> </s> <s> cho bảng a gồm m  n ô </s> <s> từ ô ij có thể di chuyển sang  ô ij ij và ij </s> <s> hãy xác định một lộ trình đi từ hàng  đến hàng m sao cho tổng các ô đi qua là lớn nhất </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> công thức </s> <s> </s> <s> gọi fij là giá trị lớn nhất có được khi di chuyển đến ô ij </s> <s> có  ô có thể đi đến ô ij là ij ij và ij </s> <s> do đó ta có công thức qhđ như sau </s> <s> </s> <s> </s> <s> fjaj </s> <s> fijmaxfijfijfijaij với igt </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> bảng phương án là bảng  chiều f </s> <s> </s> <s> m </s> <s> </s> <s> n </s> <s> tất cả các ô trên biên đều cho giá trị bằng  </s> <s> </s> <s> </s> <s> quá trình tính như sau </s> <s> </s> <s> for i   to m do </s> <s> for j   to n do </s> <s> f  i  j  max  f  i    j  f  i    j    f  i    j    a  i  j  </s> <s> </s> <s> </s> <s> cách cài đặt này cho độ phức tạp bộ nhớ và thời gian đều là on </s> <s> ta có thể tiết kiệm không gian nhớ bằng cách tính trực tiếp trên mảng a </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> một số bài toán khác </s> <s> </s> <s> tam giác ioi  </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một tam giác gồm các số nguyên không âm </s> <s> hãy tính tổng lớn nhất các số trên đường đi từ đỉnh tam giác xuống một điểm nào đó ở đáy tam giác nào đó </s> <s> tại mỗi ô ta chỉ có đi thẳng xuống sang ô bên trái hoặc bên phải </s> <s> </s> <s> </s> <s> hướng dẫn </s> <s> </s> <s> mô tả các phần tử của tam giác số như một ma trận aij là phần tử thứ j trên dòng i với  le i le n và  le j le i </s> <s> có  ô có thể di chưyển đến ô ij là ô ij và ô ij </s> <s> gọi fij là tổng lớn nhất có thể có khi đi đến ô ij ta có </s> <s> </s> <s> </s> <s> fa </s> <s> fifiai </s> <s> fijmax fijfij   aij </s> <s> </s> <s> </s> <s> </s> <s> skip lists </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/skiplists </s> <s> </s> <s> </s> <s> </s> <s> tác giả  vũ chipchip phúc hoàng </s> <s> </s> <s> a mày ac bài z kiểu gì thế tao dùng set không được </s> <s>  </s> <s> b dễ mà mày tao code splay thôi </s> <s>  dòng  phút ez gg </s> <s>  </s> <s> a  </s> <s> </s> <s> câu chuyện thật tưởng như đùa trên cũng không phải là hiếm gặp </s> <s> splay tree hay nói rộng hơn balanced binary search tree là một cấu trúc dữ liệu toàn năng có thể giải quyết rất nhiều bài toán tuy nhiên nó cũng là một thứ đáng khiếp sợ đối với dân competitive programmers vì độ khó code của nó </s> <s> trong một contest với áp lực thời gian căng thẳng chẳng mấy ai dám code balanced binary search tree và còn đảm bảo code không bị bug nữa </s> <s> tuy nhiên bạn không thể hoàn toàn tránh được nó vẫn có những bài mà những thư viện có sẵn như stdset hay những cấu trúc đơn giản như segment tree fenwick tree không thể giải được và bạn vẫn phải nhờ cậy đến splay tree trong nỗi tuyệt vọng </s> <s> </s> <s> </s> <s> may mắn thay dân competitive programmers đã tìm ra cách sử dụng skip lists như một sự thay thế cho balanced binary search tree </s> <s> skip lists với ý tưởng hết sức đơn giản dễ nhớ cộng thêm với khả năng tùy biến tuyệt vời đã phần nào làm xua tan đi nỗi sợ code khó bug nhiều trừ khi bạn có trình độ da xua thượng thừa như nhân vật b trong đoạn hội thoại trên trong trường hợp đó bạn có thể bỏ qua bài viết này </s> <s> bài viết này sẽ giới thiệu cho các bạn những ý tưởng và cách sử dụng skip lists cơ bản nhất </s> <s> </s> <s> </s> <s> table of contents bài toán cơ bản các hướng tiếp cận ý tưởng skip lists so sánh các cấu trúc dữ liệu hướng dẫn chi tiết mở rộng lời kết </s> <s> </s> <s> bài toán cơ bản </s> <s> </s> <s> hãy lập trình một cấu trúc dữ liệu s có thể thực hiện các thao tác sau </s> <s> </s> <s> </s> <s> chèn một phần tử x vào s </s> <s> </s> <s> xóa một phần tử x khỏi s </s> <s> </s> <s> cho một phần tử x tìm một phần tử gần x nhất trong s </s> <s> </s> <s> </s> <s> </s> <s> các hướng tiếp cận </s> <s> </s> <s> ta sẽ xét một số cấu trúc dữ liệu chưa đề cập đến skip lists sử dụng để giải bài toán cơ bản trên </s> <s> </s> <s> </s> <s> sorted array biểu diễn s là một mảng các phần tử </s> <s> các phần tử trong mảng được sắp xếp theo thứ tự tăng dần </s> <s> </s> <s> </s> <s> </s> <s> chèn dịch tất cả các phần tử bên phải vị trí cần chèn sang phải một chỉ số rồi chèn phần tử cần chèn vào vị trí đó </s> <s> </s> <s> xóa dịch tất cả các phần tử bên phải phần tử bị xóa sang trái một chỉ số </s> <s> </s> <s> tìm tìm kiếm nhị phân phần tử </s> <s> </s> <s> độ phức tạp onlogn với thao tác khởi tạo on với thao tác chèn/xóa ologn với thao tác tìm kiếm </s> <s> </s> <s> </s> <s> </s> <s> sorted linked list biểu diễn s là một danh sách liên kết chứa các phần tử </s> <s> các phần tử trong danh sách liên kết được sắp xếp theo thứ tự tăng dần </s> <s> </s> <s> </s> <s> </s> <s> chèn thay đổi liên kết giữa phần tử cần chèn phần tử đứng trước và phần tử đứng sau </s> <s> </s> <s> xóa thay đổi liên kết giữa phần tử cần chèn phần tử đứng trước và phần tử đứng sau </s> <s> </s> <s> tìm duyệt s từ đầu đến cuối </s> <s> </s> <s> độ phức tạp on với các thao tác chèn/xóa/tìm </s> <s> onlogn với thao tác khởi tạo </s> <s> </s> <s> </s> <s> </s> <s> binary search tree biểu diễn s là một cây nhị phân tìm kiếm chứa các phần tử </s> <s> cây này có tính chất tất cả các nút thuộc cây con bên trái đều nhỏ hơn nút cha và tất cả các nút thuộc cây con bên phải đều lớn hơn nút cha </s> <s> </s> <s> </s> <s> </s> <s> chèn nhiều cách làm đi từ trên gốc xuống so sánh phần tử được chèn với hai nút con nếu có thì đi vào nút con còn không thì thêm một nút vào cây chứa phần tử cần chèn </s> <s> </s> <s> xóa nhiều cách làm thay nút bị xóa bằng nút lớn nhất của cây con bên trái và xóa nút đó đi nếu không có cây con bên trái thì thay bằng nút nhỏ nhất của cây con bên phải nếu không có con thì đơn giản là xóa đi </s> <s> </s> <s> tìm đi từ trên gốc xuống so sánh phần tử cần tìm với hai nút con đi vào cây con chứa nút cần tìm cứ thế đến khi tìm được </s> <s> </s> <s> độ phức tạp với trường hợp trung bình các thao tác này có độ phức tạp ologn </s> <s> còn với trường hợp xấu nhất là on </s> <s> </s> <s> </s> <s> </s> <s> balanced binary search tree giống binary search tree nhưng cây có thêm cơ chế tự cần bằng để tránh việc cây bị suy biến luôn giữ chiều cao cây ở mức ổn định thường là ologn </s> <s> </s> <s> </s> <s> </s> <s> lưu ý thao tác chèn và xóa đều phải đi qua thao tác tìm </s> <s> </s> <s> </s> <s> ta nhận thấy mỗi cấu trúc dữ liệu kể trên đều có nhược điểm của nó </s> <s> sorted array có thao tác chèn xóa chậm sorted linked list có thao tác tìm chậm binary search tree có thể bị suy biến về chiều cao làm cho cả  thao tác đều chậm balanced binary search tree hoàn hảo nhưng lại quá phức tạp để cài đặt trong giới hạn thời gian của competitive programming </s> <s> </s> <s> </s> <s> từ đó skip lists một phiên bản nâng cấp của sorted linked list được sử dụng trong competitive programming như một sự thay thế cho balanced binary search tree </s> <s> về tộc độ và bộ nhớ skip lists không thua gì balanced binary search tree tuy nhiên lại dễ cài đặt hơn rất nhiều </s> <s> </s> <s> </s> <s> ý tưởng skip lists </s> <s> </s> <s> skip lists là một phiên bản nâng cấp của sorted linked lists </s> <s> ta hãy bắt đầu với một ví dụ về sorted linked list chứa  số và nghĩ cách cải thiện vấn đề của nó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> sorted linked list có ưu điểm lớn khi thao tác chèn xóa chỉ mất o ta chỉ việc chỉnh sửa liên kết giữa phần tử được chèn/xóa và các phần tử đằng trước/sau </s> <s> tuy nhiên thao tác tìm kiếm lại mất on do phải duyệt từ đầu đến cuối </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> một ý tưởng để cân bằng điều này là ta thêm nhiều tầng liên kết cứ lên một tầng số liên kết lại giảm còn một nửa </s> <s> khi tìm phần tử ta sẽ duyệt từ trái sang phải nhưng sẽ nhảy xa hơn nhờ những liên kết trên các tầng cao khi nào không nhảy được mới xuống tầng thấp hơn </s> <s> ý tưởng này khá giống với phương pháp nhảy lên tổ tiên thứ k khi tìm lowest common ancestor lca </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong hình trên để tìm số  ta sẽ nhảy thẳng từ  đến  bằng liên kết trên tầng thứ ba sau đó nhảy từ  đến  bằng liên kết trên tầng thứ nhất </s> <s> ta tìm được  là số gần nhất với  </s> <s> </s> <s> </s> <s> với cấu trúc này ta có thể thực hiện thao tác tìm trong ologn </s> <s> tuy nhiên việc chèn và xóa một phần tử vào sẽ làm thay đổi cấu trúc này </s> <s> chẳng hạn nếu ta chèn số  </s> <s> </s> <s> </s> <s> </s> <s> như hình trên cấu trúc của ta không còn chuẩn có nghĩa là chính xác tầng thứ nhất liên kết cách  tầng thứ hai liên kết cách  tầng thứ ba liên kết cách  </s> <s> </s> <s> </s> <s> tuy nhiên với cấu trúc như hình trên vẫn chạy tốt  chỉ có điều ở mỗi tầng ta có thể phải nhảy nhiều hơn một lần chẳng hạn muốn tìm số  ở tầng thứ nhất ta phải nhảy đến hai lần  ~gt  ~gt  </s> <s> </s> <s> </s> <s> từ đó ta có nhận xét sau các liên kết trên mỗi tầng không nhất thiết phải chuẩn tuy nhiên nếu các độ dài giữa các liên kết xấp xỉ nhau và số liên kết ở tầng trên xấp xỉ bằng nửa số liên kết ở tầng dưới thuật toán tìm kiếm vẫn chạy tốt và không mất quá nhiều lần nhảy ở mỗi tầng </s> <s> ta sẽ duy trì cấu trúc này bằng kĩ thuật tung đồng xu ngẫu nhiên </s> <s> </s> <s> mỗi lần chèn một nút vào đầu tiên ta xây dựng liên kết ở tầng thứ nhất cho nó </s> <s> sau đó ta tung đồng xu nếu ngửa thì ta xây dựng liên kết ở tầng trên và tiếp tục tung đồng xu còn nếu sấp ta dừng việc xây dựng liên kết lại </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> đây chính là skip lists  một cấu trúc dữ liệu được xây dựng bằng nhiều tầng sorted linked list được xây dựng một cách ngẫu nhiên trong đó tầng cao chứa những bước nhảy dài hơn và tầng thấp chứa những bước nhảy ngắn hơn </s> <s> skip lists cho phép ta thực hiện thao tác tìm kiếm với độ phức tạp xấp xỉ ologn </s> <s> </s> <s> </s> <s> so sánh các cấu trúc dữ liệu </s> <s> </s> <s> </s> <s> </s> <s> hướng dẫn chi tiết </s> <s> </s> <s> học phải đi đôi với hành </s> <s> cách hiểu lý thuyết nhanh nhất là đập ngay vào bài tập </s> <s> ta sẽ đi chi tiết vào cách sử dụng skip lists để giải bài cppset </s> <s> bạn hãy đọc đề và ngẫm nghĩ một lúc trước khi đọc tiếp bài viết này </s> <s> bài giải ở dưới được code bằng ngôn ngữ c </s> <s> </s> <s> </s> <s> cppset đúng như tên gọi của nó bạn có thể ac trong một nốt nhạc nếu sử dụng stdset của c một container đã được code sẵn bằng rebblack tree một loại balanced binary search tree để thực hiện bài toán cơ bản nêu ở đầu </s> <s> để luyện tập ta sẽ tự code một cái set dỏm bằng skip lists </s> <s> </s> <s> </s> <s> trước tiên ta cần xây dựng các struct biểu diễn skip lists </s> <s> ta sẽ có  struct skiplists  column  cell </s> <s> skiplists là một danh sách các column liên kết với nhau </s> <s> column là một cột gồm các cell  biểu diễn cho cột liên kết của một phần tử trong set của ta với các phần tử đằng trước và đằng sau </s> <s> cell là một liên kết cơ bản nhất trên một tầng của column  chứa hai liên kết đến column đằng trước và đằng sau </s> <s> để cho dễ hiểu bạn hãy xem hình dưới </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> struct skiplists  </s> <s> static const int maxlevel    // giới hạn số tầng nên chọn một số khoảng logn </s> <s> column  head   tail  // thêm  cột không có giá trị vào đầu và cuối để dễ xử lí </s> <s>  </s> <s> </s> <s> struct column  </s> <s> int value  </s> <s> vector lt cell gt cells  </s> <s>  </s> <s> </s> <s> struct cell  </s> <s> column  previouscolumn   nextcolumn  // mỗi cell có hai liên kết đến column đằng trước và đằng sau không giống trong hình chỉ vẽ một liên kết về đằng sau cho đơn giản </s> <s>  </s> <s> </s> <s> sau khi đã biết cách biểu diễn dữ liệu ta sẽ code các hàm cho skiplists </s> <s> set dỏm của chúng ta sẽ gồm  hàm sau </s> <s> </s> <s> struct skiplists  </s> <s> static const int maxlevel    </s> <s> column  head   tail  </s> <s> </s> <s> skiplists  // khởi tạo </s> <s> bool empty  // kiểm tra skiplists có rỗng không </s> <s> column  lowerbound  int  // tìm vị trí column chứa giá trị nhỏ nhất không nhỏ hơn giá trị cần tìm </s> <s> column  upperbound  int  // tìm vị trí column chứa giá trị nhỏ nhất lớn hơn giá trị cần tìm </s> <s> void insert  int  // chèn một phần tử mang giá trị cho trước vào skiplists </s> <s> void erase  int  // xóa một phần tử mang giá trị cho trước khỏi skiplists </s> <s>  </s> <s> </s> <s> ta sẽ bắt đầu với constructor skiplists </s> <s> để khởi tạo skiplists  ta sẽ tạo ra hai cột head và tail có chiều cao là số tầng tối đa và tại liên kết giữa head và tail trên tất cả các cell </s> <s> </s> <s> </s> <s> skiplists  skiplists   </s> <s> head  new column  </s> <s> tail  new column  </s> <s> head gt value    </s> <s> tail gt value    </s> <s> for  int i    i lt maxlevel  i    </s> <s> head gt cells </s> <s> pushback  cell  null  tail  </s> <s> tail gt cells </s> <s> pushback  cell  head  null  </s> <s>  </s> <s>  </s> <s> </s> <s> với hàm empty  ta chỉ đơn giản kiểm tra liên kết cấp  liên kết trực tiếp của head có nối với tail không </s> <s> </s> <s> </s> <s> bool skiplists  empty   </s> <s> return head gt cells    </s> <s> nextcolumn  tail  </s> <s>  </s> <s> </s> <s> với hàm lowerbound  ta sẽ đi từ tầng cao nhất đến tầng thấp nhất chừng nào nhảy về phía trước vẫn vào một phần tử có giá trị nhỏ hơn giá trị cần tìm thì ta cứ nhảy </s> <s> sau khi duyệt ta sẽ đứng ở phần tử lớn nhất có giá trị nhỏ hơn giá trị cần tìm </s> <s> ta nhảy trên liên kết cấp  một lần nữa để lấy được lowerbound </s> <s> </s> <s> </s> <s> column  skiplists  lowerbound  int value   </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s>  </s> <s> return iter gt cells    </s> <s> nextcolumn  </s> <s>  </s> <s> </s> <s> hàm upperbound không khác gì lowerbound  ngoại trừ việc thay dấu lt thành lt lúc so sánh với value </s> <s> </s> <s> </s> <s> column  skiplists  upperbound  int value   </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s>  </s> <s> return iter gt cells    </s> <s> nextcolumn  </s> <s>  </s> <s> </s> <s> với hàm insert  ta sẽ chia thành  bước sau </s> <s> </s> <s> </s> <s> sử dụng lowerbound để kiểm tra giá trị đã tồn tại trong skiplists chưa </s> <s> nếu đã tồn tại thoát khỏi hàm </s> <s> </s> <s> tạo ra một column mới để chèn vào skiplists </s> <s> ta sẽ sử dụng hàm rand để tung đồng xu xây dựng chiều cao cho column này </s> <s> </s> <s> chèn column vào skiplists </s> <s> ta duyệt y như trong lowerbound và upperbound  ở mỗi tầng chèn liên kết với column vào hai cột đằng sau và đằng trước column </s> <s> </s> <s> </s> <s> </s> <s> void skiplists  insert  int value   </s> <s> // kiểm tra value đã tồn tại chưa </s> <s> column  temp  lowerbound  value  </s> <s> if  temp  tail ampamp temp gt value  value   </s> <s> return  </s> <s>  </s> <s> // tạo insertedcolumn là cột chứa value để chèn vào skiplists </s> <s> column  insertedcolumn  new column  </s> <s> insertedcolumn gt value  value  </s> <s> insertedcolumn gt cells </s> <s> pushback  cell  null  null  </s> <s> // tung đồng xu tăng chiều cao </s> <s> while  insertedcolumn gt cells </s> <s> size  lt maxlevel ampamp rand        </s> <s> insertedcolumn gt cells </s> <s> pushback  cell  null  null  </s> <s>  </s> <s> // duyệt để chèn </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s> if  level lt insertedcolumn gt cells </s> <s> size   </s> <s> // nối iter với insertedcolumn nối insertedcolumn với nextiter </s> <s> column  nextiter  iter gt cells  level  </s> <s> nextcolumn  </s> <s> iter gt cells  level  </s> <s> nextcolumn  insertedcolumn  </s> <s> nextiter gt cells  level  </s> <s> previouscolumn  insertedcolumn  </s> <s> insertedcolumn gt cells  level  </s> <s> previouscolumn  iter  </s> <s> insertedcolumn gt cells  level  </s> <s> nextcolumn  nextiter  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> với hàm erase  ta sẽ chia thành  bước sau </s> <s> </s> <s> </s> <s> sử dụng lowerbound để kiểm tra giá trị đã tồn tại trong skiplists chưa </s> <s> nếu không tồn tại thoát khỏi hàm </s> <s> </s> <s> xóa cột chứa giá trị cần xóa khỏi skiplists bằng cách nối từng liên kết giữa các cell liền trước và liền sau nó trên từng tầng </s> <s> </s> <s> xóa cột chứa giá trị cần xóa để giải phóng bộ nhớ </s> <s> </s> <s> </s> <s> </s> <s> void skiplists  erase  int value   </s> <s> // kiểm tra value đã tồn tại chưa </s> <s> column  erasedcolumn  lowerbound  value  </s> <s> if  erasedcolumn  tail  erasedcolumn gt value  value   </s> <s> return  </s> <s>  </s> <s> // duyệt để xóa </s> <s> column  iter  head  </s> <s> for  int level  maxlevel    level gt   level    </s> <s> while  iter gt cells  level  </s> <s> nextcolumn  tail ampamp iter gt cells  level  </s> <s> nextcolumn gt value lt value   </s> <s> iter  iter gt cells  level  </s> <s> nextcolumn  </s> <s>  </s> <s> if  iter  erasedcolumn   </s> <s> // nối previousiter với nextiter </s> <s> column  previousiter  iter gt cells  level  </s> <s> previouscolumn   nextiter  iter gt cells  level  </s> <s> nextcolumn  </s> <s> previousiter gt cells  level  </s> <s> nextcolumn  nextiter  </s> <s> nextiter gt cells  level  </s> <s> previouscolumn  previousiter  </s> <s>  </s> <s>  </s> <s> delete erasedcolumn  </s> <s>  </s> <s> </s> <s> với  hàm trên bạn đã có thể mô phỏng một cách đơn giản một cái set dỏm để giải bài này </s> <s> bạn hãy thử tự làm tiếp và nộp trên spoj nhé </s> <s> toàn bộ code cho bài cppset có thể xem ở đây </s> <s> </s> <s> </s> <s> mở rộng </s> <s> </s> <s> </s> <s> ở trên mới là một code skip lists đơn giản nhất mô phỏng stdset để giải bài cppset </s> <s> liệu bạn có thể code lại một stdset hoàn hảo bằng skip lists không hãy thử xem </s> <s> code trên sử dụng cả liên kết xuôi  nextcolumn  và liên kết ngược  previouscolumn  để dễ xử lí </s> <s> bạn có thể code lại cppset mà không cần sử dụng liên kết ngược không </s> <s> khi xây dựng cột để chèn vào skip lists ta sử dụng kĩ thuật tung đồng xu với xác suất / mỗi mặt để xây dựng chiều cao cột </s> <s> tại sao phải là / liệu có thể là một con số khác không bạn hãy thử các con số khác nhau sử dụng cả phân tích lý thuyết và thực nghiệm cho thấy độ hiệu quả của các con số khác </s> <s> </s> <s> hẳn bạn sẽ thắc mắc dùng skip lists làm gì khi nó cũng chỉ để thay stdset mà stdset thì có sẵn rồi </s> <s> skip lists có rất nhiều ứng dụng và khả năng tùy biến nâng cao mà sẽ được giới thiệu trong phần  của bài viết này giúp nó làm được những điều stdset không thể làm được đơn giản nhất là tìm phần thử lớn thứ k trong tập hợp </s> <s> bạn thử tự nghĩ cách tìm phần tử lớn thứ k trong skip lists xem </s> <s> </s> <s> </s> <s> </s> <s> lời kết </s> <s> </s> <s> trên đây là những gì cơ bản nhất các bạn có thể biết về skip lists hi vọng các bạn có thể ứng dụng cấu trúc dữ liệu tuyệt vời này một cách hiệu quả trong các contests </s> <s> cá nhân mình thấy skip lists là một cấu trúc dữ liệu rất hay nhưng ít được sử dụng competitive programmers việt nam chúng ta thường thích dùng splay tree hơn mặc dù chẳng mấy ai dám code lúc đi thi </s> <s> </s> <s> </s> <s> mình rất mong sau bài viết này mọi người sẽ dùng skip lists nhiều hơn </s> <s> </s> <s> </s> <s> những cách sử dụng skip lists nâng cao sẽ được giới thiệu trong phần  mọi người cùng đón đọc nhé </s> <s> </s> <s> </s> <s> </s> <s> tổng quan về cấu trúc dữ liệu </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/datastructuresoverview </s> <s> </s> <s> </s> <s> </s> <s> table of contents  </s> <s> ctdl lưu trữ  </s> <s>  </s> <s> mảng array danh sách liên kết linked list  </s> <s>  </s> <s> stack queue deque  </s> <s>  </s> <s>  </s> <s> stack  </s> <s>  </s> <s>  </s> <s> queue  </s> <s>  </s> <s>  </s> <s> deque  </s> <s>  </s> <s> priority queue  heap  </s> <s>  </s> <s> cây tìm kiếm nhị phân  </s> <s>  </s> <s> bảng băm hash tables  </s> <s> ctdl truy vấn  </s> <s>  </s> <s> mảng cộng dồn prefix sum  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tìm tổng một đoạn liên tiếp  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tăng giá trị các đoạn  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn trên bảng  chiều  </s> <s>  </s> <s> disjoint sets  </s> <s>  </s> <s> sparse table  </s> <s>  </s> <s> segment tree  </s> <s>  </s> <s> fenwick  </s> <s>  </s> <s> heavylight decomposition  </s> <s>  </s> <s> persistent data structures  </s> <s> ctdl xâu  </s> <s>  </s> <s> cây tiền tố trie  </s> <s>  </s> <s> aho corasick  </s> <s>  </s> <s> mảng hậu tố suffix array  </s> <s>  </s> <s> suffix automaton  </s> <s>  </s> <s> palindrome tree các tài liệu tham khảo </s> <s> </s> <s> mặc dù máy tính đã có thể xử lý hàng triệu phép tính mỗi giây nhưng khi một bài toán trở phức tạp cách tổ chức dữ liệu vẫn vô cùng quan trọng </s> <s> </s> <s> </s> <s> để minh họa điểm này hãy tham khảo ví dụ sau bạn đi đến thư viện thử tìm kiếm một quyển sách với chủ đề nào đó </s> <s> các cuốn sách được xếp theo lĩnh vực </s> <s> trong mỗi chủ đề sách lại được xếp theo tên tác giả nhờ vậy mà việc lấy và cất sách từ giá trở nên khá dễ dàng và đơn giản </s> <s> </s> <s> </s> <s> bây giờ hãy thử tưởng tượng thay vì tổ chức thành từng giá sách cụ thể sách được chất thành từng đống ở khắp thư viện </s> <s> để tìm được quyển sách của mình bạn sẽ phải mất hàng giờ thậm chí rất nhiều ngày </s> <s> </s> <s> </s> <s> tương tự một phần mềm không thể vận hành hiệu quả khi dữ liệu không được lưu trữ một cách phù hợp với ứng dụng </s> <s> </s> <s> </s> <s> trong bài viết này chúng ta sẽ cùng nhau điểm qua các loại cấu trúc dữ liệu từ cơ bản đến nâng cao </s> <s> để tìm hiểu chi tiết về một cấu trúc dữ liệu các bạn có thể đọc ở link tương ứng </s> <s> trong bài viết này mình tạm chia các ctdl được chia thành các loại sau </s> <s> </s> <s> </s> <s> </s> <s> ctdl lưu trữ  thường có các thao tác như thêm  phần tử xóa  phần tử </s> <s> có thể có thêm các thao tác như tìm kiếm  phần tử </s> <s> </s> <s> </s> <s> ctdl truy vấn  thường dùng cho các bài toán mà bạn phải duy trì một tập hợp các số và thực hiện  số truy vấn trên đó </s> <s> </s> <s> </s> <s> ctdl xâu  dùng cho các bài tập xử lý xâu </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> ctdl lưu trữ </s> <s> </s> <s>  </s> <s>  </s> <s> mảng array danh sách liên kết linked list </s> <s> </s> <s> mảng và danh sách liên kết là  cấu trúc dữ liệu nền tảng cho tất cả các loại cấu trúc dữ liệu khác </s> <s> mảng và danh sách liên kết đều được dùng khi bạn muốn lưu nhiều dữ liệu thường có cùng kiểu dữ liệu </s> <s> bảng dưới đây so sánh các thao tác về mảng và danh sách liên kết </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> mảng </s> <s> danh sách liên kết </s> <s> </s> <s> </s> <s> bộ nhớ </s> <s> cố định cần biết trước số phần tử </s> <s> có thể tăng giảm tùy ý </s> <s> </s> <s> </s> <s> thêm/xóa  phần tử </s> <s> mathcalon </s> <s> mathcalo giả sử biết con trỏ tới phần tử đó </s> <s> </s> <s> </s> <s> tìm kiếm  phần tử </s> <s> mathcalon </s> <s> mathcalon </s> <s> </s> <s> </s> <s> truy cập phần tử </s> <s> mathcalo </s> <s> mathcalon </s> <s> </s> <s> </s> <s> khác </s> <s>  ít bộ nhớ hơn  cache locality các phần tử ở vị trí gần nhau trên bộ nhớ máy tính nên khi truy cập các phần tử liên tiếp sẽ nhanh hơn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về mảng và danh sách liên kết ở đây </s> <s> </s> <s>  </s> <s>  </s> <s> stack queue deque </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> stack </s> <s> </s> <s> stack là ctdl cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm  phần tử vào cuối ctdl </s> <s> xóa  phần tử khỏi cuối ctdl </s> <s> </s> <s> </s> <s> cả  thao tác trên đều có độ phức tạp mathcalo </s> <s> chú ý ta chỉ có thể xóa phần tử ở cuối ctdl nói cách khác là phần tử mà mới được thêm vào gần nhất </s> <s> vì vậy stack còn được gọi là fifo first in first out </s> <s> </s> <s> </s> <s> stack có cài đặt đơn giản và được sử dụng trong nhiều thuật toán như dfs tìm chu trình euler tìm khớp của đồ thị </s> <s> </s> <s> </s> <s> trong c stl có sẵn kiểu dữ liệu stack </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> queue </s> <s> </s> <s> queue là ctdl cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm  phần tử vào cuối ctdl </s> <s> xóa  phần tử khỏi đầu ctdl </s> <s> </s> <s> </s> <s> </s> <s> cả  thao tác đều có độ phức tạp mathcalo </s> <s> chú ý ta chỉ có thể xóa phần tử ở đầu ctdl nói cách khác là phần tử mà đã được thêm vào lâu nhất </s> <s> vì vậy stack còn được gọi là lifo last in first out </s> <s> </s> <s> </s> <s> queue có cài đặt đơn giản và được sử dụng trong bfs </s> <s> </s> <s> </s> <s> trong c stl có sẵn kiểu dữ liệu queue </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> deque </s> <s> </s> <s> deque double ended queue là ctdl tổng quát hơn của stack và queue </s> <s> nó cho phép </s> <s> </s> <s> </s> <s> thêm  phần tử vào đầu hoặc cuối ctdl </s> <s> </s> <s> xóa  phần tử khỏi đầu hoặc cuối ctdl </s> <s> </s> <s> </s> <s> </s> <s> cả  thao tác đều có độ phức tạp mathcalo </s> <s> </s> <s> </s> <s> deque được sử dụng trong một số thuật toán như </s> <s> </s> <s> </s> <s> bfs  </s> <s> </s> <s> tìm min/max trên đoạn tịnh tiến </s> <s> </s> <s> </s> <s> </s> <s> trong c stl có sẵn kiểu dữ liệu deque </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> priority queue  heap </s> <s> </s> <s> heap là một cấu trúc dữ liệu cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm một phần tử với độ phức tạp mathcalologn </s> <s> </s> <s> xóa một phần tử với độ phức tạp mathcalologn </s> <s> </s> <s> tìm max của các phần tử với độ phức tạp mathcalo </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về heap ở đây </s> <s> </s> <s> fibonacci heap là một dạng heap có độ phức tạp bé hơn </s> <s> trong c  ctdl priorityqueue được cài đặt bằng fibonacci heap </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cây tìm kiếm nhị phân </s> <s> </s> <s> cây tìm kiếm nhị phân  bst binary search tree  là một cây nhị phân có tính chất với mỗi giá trị trên đỉnh đang xét giá trị của mọi đỉnh trên cây con trái luôn nhỏ hơn đỉnh đang xét và giá trị của mọi đỉnh trên cây con phải luôn lớn hơn đỉnh đang xét </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> cây tìm kiếm nhị phân cho phép thực hiện các thao tác </s> <s> </s> <s> </s> <s> thêm  phần tử </s> <s> </s> <s> xóa  phần tử </s> <s> </s> <s> kiểm tra  phần tử có tồn tại hay không </s> <s> </s> <s> tìm phần tử đầu tiên lớn hơn hoặc bằng  giá trị x cho trước </s> <s> </s> <s> </s> <s> </s> <s> trong trường hợp dữ liệu ngẫu nhiên các thao tác trên có độ phức tạp trung bình là mathcalologn </s> <s> tuy nhiên trong trường hợp xấu nhất cây tìm kiếm nhị phân bị suy biến thành  đường thẳng  thì độ phức tạp mỗi thao tác là mathcalon </s> <s> </s> <s> </s> <s> để khắc phục điều này có rất nhiều ctdl cải tiến từ cây tìm kiếm nhị phân thường được gọi là các cây nhị phân cân bằng </s> <s> khi đó các thao tác trên có thể được thực hiện với độ phức tạp mathcalologn </s> <s> ví dụ </s> <s> </s> <s> </s> <s> </s> <s> cây đỏ đen redblack tree là một dạng cây tìm kiếm nhị phân  bst  mà sau mỗi truy vấn được thực hiện cây tự cân bằng theo đúng tính chất của nó với độ phức tạp ologn </s> <s> ctdl set trong c được cài đặt bằng cây đỏ đen </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> splay tree  skip list  treap thường được dùng trong các kỳ thi bởi cài đặt đơn giản </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> bảng băm hash tables </s> <s> </s> <s> bảng băm là một ctdl thường được sử dụng như một từ điển mỗi phần tử trong bảng băm là một cặp khóa giá trị </s> <s> nếu so sánh với mảng khóa được xem như chỉ số của mảng còn giá trị giống như giá trị mà ta lưu tại chỉ số tương ứng </s> <s> bảng băm không như các loại từ điển thông thường  ta có thể tìm được giá trị thông qua khóa của nó </s> <s> </s> <s> </s> <s> bảng băm hoạt động dựa trên hàm hash hash là quá trình khởi tạo một giá trị khóa thường là  bit hoặc  bit từ một phần dữ liệu </s> <s> nó có thể là n bit đầu tiên của dữ liệu n bit cuối cùng giá trị mod cho một số nguyên tố nào đó </s> <s> dựa theo giá trị hash dữ liệu được chia vào các bucket  </s> <s> </s> <s> </s> <s> </s> <s> trong trường hợp hàm hash hoạt động tốt mỗi bucket có rất ít phần tử độ phức tạp của các thao tác trên hash table như sau </s> <s> </s> <s> </s> <s> tìm  khóa mathcalo </s> <s> </s> <s> thêm / xóa  khóa mathcalo </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về hash table ở đây </s> <s> </s> <s>  </s> <s> ctdl truy vấn </s> <s> </s> <s>  </s> <s>  </s> <s> mảng cộng dồn prefix sum </s> <s> </s> <s> mảng cộng dồn là một cách áp dụng khéo léo mảng </s> <s> có  dạng bài cơ bản có thể giải được bằng cách áp dụng prefix sum </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tìm tổng một đoạn liên tiếp </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> cho một mảng aaa </s> <s> </s> <s> </s> <s> an </s> <s> </s> <s> cần trả lời nhiều truy vấn mỗi truy vấn cho  số l và r yêu cầu in ra tổng al  al  </s> <s> </s> <s> </s> <s>  ar </s> <s> </s> <s> </s> <s> </s> <s> cách làm </s> <s> </s> <s> </s> <s> tạo một mảng s với si  a  a  </s> <s> </s> <s> </s> <s>  ai </s> <s> mảng s được gọi là mảng cộng dồn </s> <s> với mỗi truy vấn in ra sr – sl </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn  tăng giá trị các đoạn </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> cho mảng aa </s> <s> </s> <s> </s> <s> an </s> <s> </s> <s> cần thực hiện nhiều truy vấn mỗi truy vấn cho  số l r v </s> <s> yêu cầu với mỗi i l le i le r cộng v vào ai </s> <s> </s> <s> tính mảng a sau khi thực hiện tất cả các truy vấn </s> <s> </s> <s> </s> <s> </s> <s> cách làm </s> <s> </s> <s> </s> <s> tạo một mảng p pp </s> <s> </s> <s> </s> <s> pn </s> <s> khởi tạo pi   </s> <s> </s> <s> với mỗi truy vấn tăng pl lên v và trừ pr đi v </s> <s> </s> <s> cuối cùng với mỗi i từ  pi  pi– </s> <s> ta có ai  ai  pi </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> mảng cộng dồn trên bảng  chiều </s> <s> </s> <s> trên bảng  chiều ai j ta đặt fi j là tổng các ô trong hình chữ nhật có  đỉnh đối diện là   và i j </s> <s> </s> <s> </s> <s> khi đó ta có fi j  fi j  fi j  fi j  ai j </s> <s> </s> <s> </s> <s> giải thích công thức trên </s> <s> </s> <s> </s> <s> </s> <s> đỏ  xanh da trời  vàng  tím  xanh lá </s> <s> </s> <s> fi j  fi j  fi j  fi j  ai j </s> <s> </s> <s>  </s> <s>  </s> <s> disjoint sets </s> <s> </s> <s> disjoint sets là cấu trúc dữ liệu được sử dụng trong thuật toán kruskal và thuật toán prim   thuật toán tìm cây khung nhỏ nhất của đồ thị </s> <s> như tên gọi của nó disjoint set được dùng để quản lý các tập hợp không giao nhau </s> <s> </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho đồ thị có n đỉnh </s> <s> ta cần thực hiện  loại truy vấn </s> <s> </s> <s> </s> <s> nối  đỉnh i và j </s> <s> kiểm tra  đỉnh i và j có thuộc cùng thành phần liên thông hay không </s> <s> </s> <s> </s> <s> </s> <s> disjoint set cho phép ta thực hiện  thao tác trên với độ phức tạp mathcalologn </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về disjoint set ở bài viết này </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> sparse table </s> <s> </s> <s> sparse table là cấu trúc dữ liệu được sử dụng trong bài toán lca amp rmq </s> <s> </s> <s> </s> <s> với cả  bài toán sparse table cho phép </s> <s> </s> <s> </s> <s> khởi tạo với độ phức tạp mathcalon logn </s> <s> </s> <s> trả lời truy vấn với độ phức tạp mathcalo </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> segment tree </s> <s> </s> <s> segment tree còn được gọi là interval tree trong nhiều tài liệu tiếng việt là cấu trúc dữ liệu cho phép thực hiện các truy vấn trên một dãy số </s> <s> segment tree rất linh động và có thể áp dụng với nhiều loại truy vấn khác nhau nên nó xuất hiện rất nhiều trong các kỳ thi </s> <s> </s> <s> </s> <s> với dãy số độ dài n segment tree cho phép thực hiện các thao tác với độ phức tạp mathcalologn </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về segment tree ở đây </s> <s> </s> <s> </s> <s> segment tree cũng có một mở rộng với nhiều ứng dụng quan trọng là segment tree trên tập đoạn thẳng </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> fenwick </s> <s> </s> <s> cũng giống như segment tree fenwick tree còn được gọi là binary indexed tree là cấu trúc dữ liệu cho phép thực hiện các truy vấn trên một dãy số </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> độ phức tạp mỗi thao tác cũng là mathcalologn </s> <s> </s> <s> hằng số tự nhiên thấp hơn segment tree nên chạy nhanh hơn </s> <s> </s> <s> dùng ít bộ nhớ hơn </s> <s> </s> <s> dễ cài đặt hơn segment tree </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> không tổng quát bằng segment tree </s> <s> tất cả những bài giải được bằng fenwick tree đều có thể giải được bằng segment tree </s> <s> nhưng chiều ngược lại không đúng </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về fenwick tree ở đây </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> heavylight decomposition </s> <s> </s> <s> heavy light decomposition là một thuật toán được áp dụng nhiều trong những bài cần xử lý các truy vấn trên cây </s> <s> heavylight decomposition là kĩ thuật phân tách một cây thành nhiều chuỗi đỉnh chain rời nhau </s> <s> sau đó chúng ta có thể áp dụng các cấu trúc dữ liệu như interval tree hay binaryindexed tree lên những chuỗi này để có thể cập nhật dữ liệu hoặc trả lời các truy vấn trên một đường đi giữa  đỉnh trong cây </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm ở thuật toán phân tách cây </s> <s> </s> <s>  </s> <s>  </s> <s> persistent data structures </s> <s> </s> <s> persistent data structures là những cấu trúc dữ liệu được dùng khi chúng ta cần có toàn bộ lịch sử của các thay đổi trên  cấu trúc dữ liệu </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm ở persistent data structures </s> <s> </s> <s>  </s> <s> ctdl xâu </s> <s> </s> <s>  </s> <s>  </s> <s> cây tiền tố trie </s> <s> </s> <s> trie là một cấu trúc dữ liệu dùng để quản lý một tập hợp các xâu </s> <s> trie cho phép </s> <s> </s> <s> </s> <s> thêm một xâu vào tập hợp với độ phức tạp mathcalol với l là độ dài xâu cần thêm </s> <s> </s> <s> xóa một xâu khỏi tập hợp với độ phức tạp mathcalol </s> <s> </s> <s> kiểm tra một xâu có tồn tại trong tập hợp hay không với độ phức tạp mathcalol </s> <s> </s> <s> </s> <s> </s> <s> ngoài ra trên thực tế trie cũng rất tiết kiệm bộ nhớ khi áp dụng để lưu các từ có nghĩa vì vậy nó là một ctdl có ứng dụng rất lớn </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm bài viết về trie </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> aho corasick </s> <s> </s> <s> bài viết sẽ được cập nhật sau </s> <s> </s> <s>  </s> <s>  </s> <s> mảng hậu tố suffix array </s> <s> </s> <s> suffix array là một ctdl giúp sắp xếp các hậu tố của một xâu theo thứ tự từ điển </s> <s> ctdl này thường được sử dụng trong các bài toán xử lý xâu </s> <s> </s> <s> </s> <s> bạn có thể đọc thêm về suffix array ở đây </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> suffix automaton </s> <s> </s> <s> bài viết sẽ được cập nhật sau </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> palindrome tree </s> <s> </s> <s> palindrome tree còn được gọi là eertree là một ctdl mới được phổ biến vào năm  nhờ bài thuyết trình của mikhail rubinchik </s> <s> </s> <s> </s> <s> như tên gọi của nó palindrome tree là một ctdl giúp giải quyết các bài toán về palindrome </s> <s> bạn có thể đọc thêm ở đây </s> <s> </s> <s> các tài liệu tham khảo </s> <s> </s> <s> </s> <s> codeforces </s> <s> topcoder </s> <s> </s> <s> </s> <s> </s> <s> thuật toán sắp xếp </s> <s> http//vnoi </s> <s> info/wiki/algo/basic/sorting </s> <s> </s> <s> </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> ứng dụng về sắp xếp có ở khắp mọi nơi </s> <s> </s> <s> </s> <s> một danh sách lớp với các học sinh được sắp xếp theo thứ tự bảng chữ cái </s> <s> </s> <s> một danh bạ điện thoại </s> <s> </s> <s> danh sách các truy vấn được tìm kiếm nhiều nhất trên google </s> <s> </s> <s> </s> <s> </s> <s> thuật toán sắp xếp cũng được dùng kết hợp với những thuật toán khác như tìm kiếm nhị phân thuật toán kruskal để tìm cây khung nhỏ nhất của đồ thị </s> <s> </s> <s> </s> <s> vì sao chúng ta phải học nhiều thuật toán sắp xếp khi code bạn chỉ cần biết cài một thuật toán sắp xếp là đủ </s> <s> hoặc nếu bạn code c hay java bạn chỉ cần biết cách gọi thư viện </s> <s> tuy nhiên các thuật toán sắp xếp khác nhau cho ta nhiều ý tưởng hay và độc đáo  điều này vô cùng hữu ích khi các bạn học các thuật toán khác </s> <s> </s> <s> </s> <s> những điểm cần chú ý </s> <s> </s> <s> hãy thử tưởng tượng bạn có một bộ bài đã được xáo và bạn muốn sắp xếp lại các lá bài theo thứ tự tăng dần </s> <s> bạn sẽ làm như nào có rất nhiều cách tiếp cận khác nhau </s> <s> </s> <s> </s> <s> chia bộ bài theo giá trị    </s> <s> </s> <s> </s> <s> rồi gộp lại </s> <s> </s> <s> trải tất cả các lá bài ra rồi lần lượt lấy lá bài nhỏ nhất </s> <s> </s> <s> chia bộ bài ra thành nhiều nhóm nhỏ </s> <s> với mỗi nhóm sắp xếp lại sau đó gộp các nhóm lại với nhau theo thứ tự tăng dần </s> <s> </s> <s> </s> <s> </s> <s> bạn sẽ thấy những cách tiếp cận khác nhau sẽ có thời gian nhanh chậm khác nhau </s> <s> các thuật toán sắp xếp cũng vậy </s> <s> có rất nhiều cách tiếp cận với ưu nhược điểm khác nhau </s> <s> </s> <s> </s> <s> khi so sánh giữa các thuật toán này với nhau có nhiều vấn đề phải quan tâm </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thời gian chạy </s> <s> đối với các dữ liệu rất lớn các thuật toán không hiệu quả sẽ chạy rất chậm và không thể ứng dụng trong thực tế </s> <s> </s> <s> </s> <s> bộ nhớ </s> <s> các thuật toán nhanh đòi hỏi đệ quy sẽ có thể phải tạo ra các bản copy của dữ liệu đang xử lí </s> <s> với những hệ thống mà bộ nhớ có giới hạn ví dụ embedded system một vài thuật toán sẽ không thể chạy được </s> <s> </s> <s> </s> <s> độ ổn định  stability  </s> <s> độ ổn định được định nghĩa dựa trên điều gì sẽ xảy ra với các phần tử có giá trị giống nhau </s> <s> </s> <s> </s> <s> </s> <s> đối với thuật toán sắp xếp ổn định các phần tử bằng với giá trị bằng nhau sẽ giữ nguyên thứ tự trong mảng trước khi sắp xếp </s> <s> </s> <s> đối với thuật toán sắp xếp không ổn định các phần tử có giá trị bằng nhau sẽ có thể có thứ tự bất kỳ </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong bài viết này ta giả sử cần sắp xếp tăng dần các phần tử </s> <s> để sắp xếp giảm dần ta có nhiều cách </s> <s> </s> <s> </s> <s> sửa đổi thuật toán một cách phù hợp </s> <s> </s> <s> sắp xếp sau đó đảo ngược thứ tự các phần tử </s> <s> </s> <s> định nghĩa lại việc so sánh nhỏ hơn </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp nổi bọt bubble sort </s> <s> </s> <s> đây là thuật toán cơ bản nhất cho việc sắp xếp </s> <s> </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> </s> <s> xét lần lượt các cặp  phần tử liên tiếp </s> <s> nếu phần tử đứng sau nhỏ hơn phần tử đứng trước ta đổi chỗ  phần tử </s> <s> nói cách khác phần tử nhỏ nhất sẽ nổi lên trên </s> <s> </s> <s> lặp lại đến khi không còn  phần tử nào thỏa mãn </s> <s> có thể chứng minh được số lần lặp không quá n   do một phần tử chỉ có thể nổi lên trên không quá n lần </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> code đơn giản dễ hiểu </s> <s> không tốn thêm bộ nhớ </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> độ phức tạp mathcalon không đủ nhanh với dữ liệu lớn </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> for  int i    i lt n  i   </s> <s> for  int j    j lt n    j   </s> <s> if  a  j  gt a  j     </s> <s> swap  a  j  a  j    </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn bubble ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp chèn insertion sort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> ý tưởng chính của thuật toán là ta sẽ sắp xếp lần lượt từng đoạn gồm  phần tử đầu tiên  phần tử đầu tiên </s> <s> </s> <s> </s> <s>  n phần tử </s> <s> </s> <s> </s> <s> giả sử ta đã sắp xếp xong i phần tử của mảng </s> <s> để sắp xếp i phần tử đầu tiên ta tìm vị trí phù hợp của phần tử thứ i và chèn nó vào đó </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> nếu danh sách đã gần đúng thứ tự insertion sort sẽ chạy rất nhanh </s> <s> ví dụ bạn cần sắp xếp highscore trong game </s> <s> </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> độ phức tạp mathcalon không đủ nhanh với dữ liệu lớn </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> for  int i    i lt n  i    </s> <s> // tìm vị trí phù hợp cho i </s> <s> int j  i  </s> <s> while  j gt  ampamp data  i  lt data  j     j  </s> <s> </s> <s> // đưa i về đúng vị trí </s> <s> int tmp  data  i  </s> <s> for  int k  i  k gt j  k   </s> <s> data  k   data  k    </s> <s> data  j   tmp  </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn insert ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp trộn merge sort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> sắp xếp trộn hoạt động kiểu đệ quy </s> <s> </s> <s> </s> <s> đầu tiên chia dữ liệu thành  phần và sắp xếp từng phần </s> <s> </s> <s> sau đó gộp  phần lại với nhau </s> <s> để gộp  phần ta làm như sau </s> <s> </s> <s> </s> <s> tạo một dãy a mới để chứa các phần tử đã sắp xếp </s> <s> </s> <s> so sánh  phần tử đầu tiên của  phần </s> <s> phần tử nhỏ hơn ta cho vào a và xóa khỏi phần tương ứng </s> <s> </s> <s> tiếp tục như vậy đến khi ta cho hết các phần tử vào dãy a </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> chạy nhanh độ phức tạp mathcalonlogn </s> <s> </s> <s> ổn định </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> cần dùng thêm bộ nhớ để lưu mảng a </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> int a  maxn  // mảng trung gian cho việc sắp xếp </s> <s> </s> <s> // sắp xếp các phần tử có chỉ số từ left đến right của mảng data </s> <s> </s> <s> void mergesort  int data  maxn  int left  int right   </s> <s> if  data </s> <s> length     </s> <s> // dãy chỉ gồm  phần tử ta không cần sắp xếp </s> <s> </s> <s> return  </s> <s>  </s> <s> int mid   left  right  /   </s> <s> // sắp xếp  phần </s> <s> mergesort  data  left  mid  </s> <s> mergesort  data  mid    right  </s> <s> </s> <s> // trộn  phần đã sắp xếp lại </s> <s> int i  left  j  mid    // phần tử đang xét của mỗi nửa </s> <s> int cur    // chỉ số trên mảng a </s> <s> </s> <s> while  i lt mid  j lt right   // chừng nào còn  phần chưa hết phần tử </s> <s> </s> <s> if  i gt mid   </s> <s> // bên trái không còn phần tử nào </s> <s> a  cur    data  j   </s> <s>  else if  j gt right   </s> <s> // bên phải không còn phần tử nào </s> <s> a  cur    data  i   </s> <s>  else if  data  i  lt data  j   </s> <s> // phần tử bên trái nhỏ hơn </s> <s> a  cur    data  i   </s> <s>  else  </s> <s> a  cur    data  j   </s> <s>  </s> <s>  </s> <s> </s> <s> // copy mảng a về mảng data </s> <s> for  int i    i lt cur  i   </s> <s> data  left  i   a  i  </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn merge ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp vun đống heapsort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> ta lưu mảng vào ctdl heap </s> <s> </s> <s> </s> <s> ở mỗi bước ta lấy ra phần tử nhỏ nhất trong heap cho vào mảng đã sắp xếp </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> cài đặt đơn giản nếu đã có sẵn thư viện heap </s> <s> </s> <s> chạy nhanh độ phức tạp mathcalonlogn </s> <s> </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> không ổn định </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> heap h  heap  </s> <s> for  int i    i lt n  i    </s> <s> // thêm phần tử vào heap </s> <s> h </s> <s> push  data  i  </s> <s>  </s> <s> int a  maxn  </s> <s> for  int i    i lt n  i    </s> <s> // lấy phần tử nhỏ nhất và cho vào mảng đã sắp xếp </s> <s> a  i   h </s> <s> pop  </s> <s>  </s> <s> </s> <s> sắp xếp nhanh quicksort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> </s> <s> chia dãy thành  phần một phần lớn và một phần nhỏ </s> <s> </s> <s> </s> <s> </s> <s> chọn một khóa pivot </s> <s> </s> <s> những phần tử lớn hơn pivot chia vào phần lớn </s> <s> những phần tử nhỏ hơn hoặc bằng pivot chia vào phần nhỏ </s> <s> </s> <s> </s> <s> </s> <s> gọi đệ quy để sắp xếp  phần </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> chạy nhanh nhanh nhất trong các thuật toán sắp xếp dựa trên việc só sánh các phần tử </s> <s> do đó quicksort được sử dụng trong nhiều thư viện của các ngôn ngữ như java c hàm sort của c dùng intro sort là kết hợp của quicksort và insertion sort </s> <s> </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> tùy thuộc vào cách chia thành  phần nếu chia không tốt độ phức tạp trong trường hợp xấu nhất có thể là mathcalon </s> <s> nếu ta chọn pivot ngẫu nhiên thuật toán chạy với độ phức tạp trung bình là mathcalonlogn trong trường hợp xấu nhất vẫn là mathcalon nhưng ta sẽ không bao giờ gặp phải trường hợp đó </s> <s> </s> <s> không ổn định </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> void quicksort  int a  int left  int right   </s> <s> int i  left  j  right  </s> <s> int pivot  a  left  rand    right  left  </s> <s> // chia dãy thành  phần </s> <s> while  i lt j   </s> <s> while  a  i  lt pivot   i  </s> <s> while  a  j  gt pivot   j  </s> <s> </s> <s> if  i lt j   </s> <s> swap  a  i  a  j  </s> <s>  i  </s> <s>  j  </s> <s>  </s> <s>  </s> <s> // gọi đệ quy để sắp xếp các nửa </s> <s> if  left lt j  quicksort  a  left  j  </s> <s> if  i lt right  quicksort  a  i  right  </s> <s>  </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn quick ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> sắp xếp cơ số radixsort </s> <s> </s> <s> ý tưởng </s> <s> </s> <s> khác với tất cả các thuật toán nêu trên radixsort không sử dụng việc so sánh  phần tử </s> <s> </s> <s> </s> <s> </s> <s> đầu tiên thuật toán sẽ chia các phần tử thành các nhóm dựa trên chữ số cuối cùng hoặc dựa theo bit cuối cùng hoặc vài bit cuối cùng </s> <s> </s> <s> sau đó ta đưa các nhóm lại với nhau và được danh sách sắp xếp theo chữ số cuối của các phần tử </s> <s> quá trình này lặp đi lặp lại với chữ số át cuối cho tới khi tất cả vị trí chữ số đã sắp xếp </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> </s> <s> có thể chạy nhanh hơn các thuật toán sắp xếp sử dụng so sánh </s> <s> ví dụ nếu ta sắp xếp các số nguyên  bit và chia nhóm theo  bit thì độ phức tạp là mathcalon </s> <s> trong trường hợp tổng quát độ phức tạp là mathcalonlogmaxai </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> </s> <s> không thể sắp xếp số thực </s> <s> </s> <s> </s> <s> </s> <s> minh họa </s> <s> </s> <s> bạn có thể vào visualgo </s> <s> </s> <s> </s> <s> </s> <s> chọn radix ở thanh menu bên trên </s> <s> </s> <s> ấn vào nút create ở phía dưới trang để tạo một dãy mới </s> <s> ấn vào sort  rồi go để chạy thuật toán </s> <s> </s> <s> </s> <s> </s> <s> nguồn tham khảo </s> <s> </s> <s> </s> <s> topcoder </s> <s> visualgo </s> <s> wikipedia </s> <s> </s> <s> </s> <s> </s> <s> palindrome tree </s> <s> http//vnoi </s> <s> info/wiki/translate/codeforces/palindrometree </s> <s> </s> <s> </s> <s> </s> <s> nguồn http//adilet </s> <s> org/blog// </s> <s> </s> <s> cây palindrome hay còn được gọi là eertree được phát minh bởi mikhail rubinchik  là một loại cấu trúc dữ liệu được sử dụng để giải một số bài toán liên quan đến palindrome </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> cấu trúc của cây palindrome </s> <s> </s> <s> như mọi loại cây khác cây palindrome cũng có nút </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ngoài nút ra cây còn có các cung để nối các nút </s> <s> cung nối giữa hai nút u và v được gán một chữ cái  ví dụ chữ x  nghĩa là ta có được palindrome chứa ở nút v bằng cách thêm chữ x vào hai bên của palindrome chứa ở nút u </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong ví dụ trên ta có được xâu palindrome aba bằng cách thêm chữ a vào hai bên chữ b </s> <s> </s> <s> cuối cùng ta có thêm các liên kết hậu tố </s> <s> nút u có liên kết hậu tố đến nút w nếu palindrome chứa ở nút w là hậu tố không tầm thường lớn nhất của palindrome chứa ở nút u </s> <s> hậu tố là một xâu con chứa các chữ cái cuối cùng của xâu hậu tố không tầm thường proper suffix là hậu tố của một xâu và ngắn hơn xâu đó </s> <s> từ bây giờ ta sẽ gọi palindrome lớn nhất mà là hậu tố không tầm thường của một xâu là palindrome hậu tố lớn nhất của một xâu </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong ví dụ trên vì a là palindrome hậu tố lớn nhất của aba nên có một liên kết hậu tố từ nút chứa xâu aba đến nút chứa xâu a </s> <s> </s> <s> </s> <s> đặt tên cấu trúc dữ liệu này là cây palindrome có vẻ không hợp lí lắm vì nó có tận  gốc </s> <s> một sẽ chứa xâu palindrome giả độ dài  </s> <s> gốc này giúp ta cài đặt cây dễ dàng hơn vì khi ta thêm hai chữ cái bất kì vào hai bên xâu độ dài  thì ta sẽ được xâu độ dài  và nó luôn là palindrome </s> <s> gốc thứ hai chứa một xâu rỗng xâu có độ dài  và xâu này cũng là palindrome </s> <s> ta cho thêm một liên kết hậu tố từ hai gốc nối đến gốc chứa palindrome độ dài  </s> <s> </s> <s> </s> <s> lưu ý rằng ta không chứa xâu palindrome vào nút khi cài đặt thực tế nếu làm vậy ta sẽ tiêu tốn quá nhiều bộ nhớ </s> <s> nút thực tế sẽ chứa độ dài xâu palindrome chữ cái được gán vào các cung và các liên kết hậu tố </s> <s> </s> <s> </s> <s> xây dựng cây palindrome </s> <s> </s> <s> ở đây mình sẽ hướng dẫn tạo cây palindrome chứa tất cả các palindrome con của một xâu s </s> <s> ta thấy một xâu độ dài n sẽ không có quá n xâu palindrome con vì vậy cây palindrome sẽ không có quá n   nút do phải thêm  gốc nữa </s> <s> </s> <s> </s> <s> ta sẽ xử lí từng chữ cái một trong xâu </s> <s> giả sử ta đã xử lí được tiền tố p của xâu và giờ ta phải xét đến chữ cái x tiếp theo </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ta lưu lại t là palindrome hậu tố lớn nhất của tiền tố p </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vì t đã được xử lí nên nó được chứa trong một nút nào đó của cây palindrome </s> <s> nút này sẽ có liên kết hậu tố đến một nút nào đó nút nào đó lại có một liên kết hậu tố đến một nút khác và cứ tiếp tục như vậy </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bây giờ ta hãy tìm hậu tố palindrome của tiền tố mới px </s> <s> hậu tố đó sẽ có dạng xax với a là một xâu nào đó có thể rỗng hoặc có độ dài  </s> <s> vì xax là palindrome nên a cũng là palindrome và nó là một hậu tố của p vì vậy ta có thể tìm a từ t bằng các liên kết hậu tố </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> xâu xax sẽ là xâu palindrome con duy nhất của xâu p  x mà không xuất hiện ở xâu p </s> <s> thật vậy ta thấy tất cả xâu palindrome con mới mà ta chưa thấy trong xâu p phải kết thúc bằng chữ x và do đó trở thành hâu tố của xâu p  x </s> <s> vì xax là hậu tố palindrome lớn nhất của p  x tất cả các hậu tố palindrome nhỏ hơn nó có thể được tìm thấy trong một số tiền tố của xax vì đối với bất kì hậu tố của palindrome có một tiền tố tương tự tương ứng và vì thế ta đã thấy chúng trong p </s> <s> </s> <s> </s> <s> vì vậy để xử lí chữ cái x thêm vào ta phải đi theo các liên kết hậu tố của t cho đến khi ta tìm thấy a thích hợp xâu a thích hợp có thể có độ dài  nếu ta phải đi đến gốc </s> <s> sau đó ta kiểm tra xem có cung nào được gán chữ x mà tương ứng với nút chứa xâu a nếu không thêm một cung được gán chữ x nối từ nút chứa xâu a đến nút mới chứa xâu xax </s> <s> </s> <s> </s> <s> bây giờ ta xét đến các liên kết hậu tố nối từ nút xax </s> <s> nếu nút này đã có từ trước nút này đã có các liên kết hậu tố và ta không phải làm gì cả </s> <s> nếu không ta cần phải tìm palindrome hậu tố lớn nhất của xax có dạng xbx mà b là một xâu có thể rỗng </s> <s> bằng lập luận tương tự như trên b là palindrome hậu tố của p và có thể đến được từ t bằng các liên kết hậu tố </s> <s> </s> <s> </s> <s> vậy ta đã có được thuật toán xây dựng cây palindrome </s> <s> xử lí từng chữ cái một lưu trữ palindrome hậu tố lớn nhất t của tiền tố đã xử lí khởi tạo t là xâu rỗng </s> <s> khi xử lí thêm chữ x ta phải đi qua các liên kết hậu tố xuất phát từ t cho đến khi ta tìm được palindrome a thích hợp </s> <s> xâu xax sẽ trở thành sẽ trở thành hậu tố palindrome lớn nhất và trở thành nút duy nhất có thể chèn vào cây </s> <s> để tạo thêm các liên kết hậu tố ta phải đi theo các liên kết hậu tố cho đến khi tìm thấy xâu palindrome b có thể thêm được hai chữ x ở hai bên rồi ta thêm liên kết hậu tố từ nút chứa xâu xax đến xâu xbx </s> <s> </s> <s> </s> <s> để biết thêm thông tin chi tiết bạn có thể tham khảo code </s> <s> bạn không cần chú ý đến biến num vì nó được cho thêm vào để giải bài toán cụ thể </s> <s> bạn có thể thấy code không quá dài cũng như việc cài đặt rất đơn giản </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> xét quá trình xây dựng cây palindrome cho một xâu độ dài n </s> <s> ta thấy rằng khi ta xử lí từng chữ cái một đầu của liên kết hậu tố palindrome lớn nhất của tiền tố được xử lí luôn di chuyển sang bên phải </s> <s> do đó độ phức tạp của việc xây dựng cây palindrome là on </s> <s> </s> <s> </s> <s> ứng dụng </s> <s> </s> <s> đếm số lượng palindrome xuất hiện thêm </s> <s> </s> <s> bài toán cho thêm chữ cái x vào cuối xâu s đếm số lượng palindrome xuất hiện thêm trong xâu s </s> <s> ví dụ khi ta cho thêm chữ cái a vào cuối xâu aba ta có thêm một palindrome nữa là aa </s> <s> </s> <s> </s> <s> lời giải khá là rõ ràng ta xây dựng cây palindrome cho xâu s ban đầu và với mỗi chữ cái mới thêm vào ta biết được số palindrome mới xuất hiện thêm bằng cách đếm số nút vừa được tạo ra trên cây palindrome </s> <s> lưu ý số palindrome xuất hiện thêm sau khi thêm một chữ cái vào một xâu bằng  hoặc bằng  </s> <s> </s> <s> </s> <s> đếm số lượng xâu con liên tiếp là palindrome </s> <s> </s> <s> code giải bài này bằng cây palindrome đã có ở trên </s> <s> bài toán này còn có thể giải bằng thuật toán manachar tuy vậy ta nên giải bằng cây palindrome vì cây palindrome còn có thể ứng dụng cho nhiều bài toán khác </s> <s> </s> <s> </s> <s> số lần xuất hiện của palindrome trong xâu </s> <s> </s> <s> ngoài sử dụng cây palindrome bạn có thể sử dụng hash để giải bài này </s> <s> </s> <s> </s> <s> bài tập </s> <s> </s> <s> các bài trên timus </s> <s> </s> <s> timus  palindromes and super abilities </s> <s> </s> <s> timus   palindromes </s> <s> </s> <s> timus  richness of words </s> <s> </s> <s> timus  richness of binary words </s> <s> </s> <s> các bài trên codeforces </s> <s> </s> <s> cerc   bài g  virus synthesis </s> <s> </s> <s> codeforces beta round   bài e  palisection </s> <s> </s> <s> các bài trên spoj </s> <s> </s> <s> spoj  number of palindromes </s> <s> </s> <s> các bài trên các trang khác </s> <s> </s> <s> đếm số lượng xâu con liên tiếp là palindrome </s> <s> </s> <s> eolimp  palindromic factory </s> <s> </s> <s> codechef  palindromeness </s> <s> </s> <s> </s> <s> độ phức tạp tính toán </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/computationalcomplexitysection </s> <s> </s> <s> </s> <s> </s> <s> table of contents giới thiệu tầm quan trọng của những lý luận ví dụ  mẹo gộp hai thuật toán thế nào là độ hiệu quả của thuật toán ví dụ  lưu ý về kích cỡ tập đầu vào tính toán độ hiệu quả của thuật toán như thế nào các khái niệm cơ bản xác định thời gian chạy dựa vào đánh giá cận trên lưu ý khi phân tích độ phức tạp thuật toán ví dụ  kết luận </s> <s> </s> <s> nguồn bài topcoder </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> trong bài viết này tôi sẽ giới thiệu tới các bạn về chủ đề độ phức tạp tính toán </s> <s> trước khi đi vào định nghĩa chính xác của các khái niệm bài viết sẽ giải thích các lý luận đằng sau những khái niệm đó </s> <s> tôi cho rằng việc hiểu các lý luận này có thể còn quan trọng hơn bản thân định nghĩa của các khái niệm </s> <s> </s> <s> </s> <s> tầm quan trọng của những lý luận </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> giả sử bạn được phân công viết một chương trình để xử lý một tập dữ liệu gồm nhiều bản ghi mà công ty của bạn đã thu thập </s> <s> bạn cài đặt hai thuật toán và kiểm tra chúng bằng một vài tập dữ liệu khác nhau </s> <s> thời gian chạy được thống kê trong bảng  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số lượng bản ghi </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> thuật toán  </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s> min </s> <s> </s> <s> </s> <s> thuật toán  </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bảng  thời gian chạy của hai thuật toán   </s> <s> </s> <s> từ bảng  ta có thể đánh giá một cách không chính thức rằng thuật toán nào tốt hơn vì thường là ta có thể ước lượng số lượng bản ghi cần xử lý </s> <s> với một công ty thì kết luận dựa trên việc chạy thử như vậy có thể chấp nhận được </s> <s> nhưng với người lập trình nó sẽ tốt hơn nếu có thể đánh giá thời gian chạy của hai thuật toán trước khi viết code và chạy thử  sau đó chỉ cần cài đặt thuật toán tốt hơn </s> <s> </s> <s> </s> <s> các kỳ thi lập trình cũng đòi hỏi việc đánh giá tương tự kích cỡ của tập dữ liệu được cho trước trong đề bài </s> <s> giả sử ta đã nghĩ ra được một thuật toán </s> <s> câu hỏi cần đặt ra trước khi bắt tay vào cài đặt là thuật toán này có đáng để cài đặt không liệu nó có thể chạy trên bộ test lớn nhất trong thời gian cho phép không nếu ta có thể nghĩ ra một vài thuật toán khác nên chọn thuật nào để cài đặt </s> <s> </s> <s> các câu hỏi trên dẫn tới câu hỏi cốt lõi hơn làm sao để so sánh hai thuật toán với nhau quay trở lại ví dụ  ta có thể ước lượng rằng khi số bản ghi vượt quá  thuật toán  sẽ chạy nhanh hơn nhiều lần thuật toán  </s> <s> nói cách khác xét trên tất cả các tập dữ liệu có thể thuật toán  sẽ chạy tốt hơn trong hầu hết các trường hợp </s> <s> </s> <s> </s> <s> có thể kết luận được rằng trong hầu hết các trường hợp  cho trước  thuật toán hoặc là một thuật toán gần như luôn luôn tốt hơn hoặc là cả hai xấp xỉ tốt như nhau </s> <s> như vậy chúng ta sẽ định nghĩa độ tốt của thuật toán dựa vào đánh giá độ hiệu quả chạy trên toàn bộ tập dữ liệu như trên </s> <s> đánh giá này sẽ là ý tưởng chính đằng sau các định nghĩa cụ thể mà chúng ta sẽ đề cập về sau </s> <s> </s> <s> </s> <s> mẹo gộp hai thuật toán </s> <s> </s> <s> nếu đối chiếu với hai thuật toán ví dụ  không khó để thấy rằng có một thuật toán với thời gian chạy tương tự với chúng trong bảng  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> số lượng bản ghi </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> thuật toán  </s> <s> n  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s>  </s> <s> s </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bảng  thời gian chạy của thuật toán  </s> <s> </s> <s> ý tưởng của thuât toán  nếu số lượng bản ghi nhỏ thì ta áp dụng thuật toán  ngược lại áp dụng thuật toán  </s> <s> </s> <s> </s> <s> ý tưởng tương tự thường được áp dụng vào thực tế </s> <s> một ví dụ là trong các hàm sắp xếp sort được cung cấp bởi thư viện của các ngôn ngữ lập trình thường được cài đặt theo thuật toán quicksort với nhiều cải tiến ví dụ </s> <s> </s> <s> </s> <s> nếu số lượng phần tử quá nhỏ chạy thuật toán sắp xếp chèn insertsort vì insertsort chạy nhanh hơn với tập dữ liệu kích thước nhỏ </s> <s> </s> <s> nếu vị trí phần tử chốt không tốt chuyển sang chạy thuật toán sắp xếp trộn mergesort </s> <s> </s> <s> </s> <s> </s> <s> thế nào là độ hiệu quả của thuật toán </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> giả sử bạn có đoạn mã sau </s> <s> </s> <s> for  int i    i lt n  i   </s> <s> for  int j  i    j lt n  j   </s> <s> if  a  i  gt a  j  </s> <s> swap  a  i  a  j  </s> <s> </s> <s> đây thực ra là một cách cài đặt của thuật toán minsort  giả sử chúng ta được cho một mảng dữ liệu đầu vào mảng a và số phần tử n ta có thể tính chính xác số bước chạy của thuật toán trên đầu vào đã cho </s> <s> ta thậm chí có thể tính chính xác số lệnh thực thi trong bộ vi xử lý nếu ta muốn nd chuyển đoạn mã c trên thành mã assembly </s> <s> tuy nhiên có rất nhiều giá trị mà bộ dữ liệu đầu vào có thể nhận nên việc tính toán số bước như trên với mọi khả năng đầu vào là không thể </s> <s> </s> <s> </s> <s> thực tế trên dẫn ta tới câu hỏi quan trọng hơn đánh giá quan trọng nhất về độ hiệu quả mà chúng ta cần tới là gì thông thường thì đó là tốc độ chạy thuật toán trong trường hợp xấu nhất  ta cần tìm ra một đánh giá cận trên của tốc độ chạy thuật toán </s> <s> </s> <s> </s> <s> tuy nhiên thế nào là là trường hợp xấu nhất một cách đơn giản để làm cho thuật toán chạy chậm hơn là tăng kích cỡ đầu vào </s> <s> vì cận trên của số phần tử đã bị chặn bởi đề bài các câu hỏi quan trọng hơn là tập đầu vào xấu nhất trong các tập có cùng số phần tử là tập nào khi tăng kích cỡ tập đầu vào thì độ phức tạp trong trường hợp xấu nhất tăng như thế nào  </s> <s> </s> <s> lưu ý về kích cỡ tập đầu vào </s> <s> </s> <s> hiểu chính xác thì kích cỡ tập đầu vào là đại lượng gì theo định nghĩa chính thống kích cỡ tập đầu vào được viết thành một tập hữu hạn các ký tự với ít nhất  ký tự </s> <s> trong bài này ta có thể coi tập ký tự đó là các số tự nhiên từ  tới  </s> <s> như vậy kích cỡ tập đầu vào được tính đúng bằng số bytes của tệp chứa dữ liệu đầu vào input file </s> <s> </s> <s> </s> <s> thường thì một phần của bộ dữ liệu sẽ là một số hoặc một vài số mà kích cỡ của tập đầu vào sẽ tỉ lệ thuận với số này </s> <s> </s> <s> </s> <s> chẳng hạn như trong ví dụ  ta có một số tự nhiên n và một mảng với n số integer </s> <s> kích cỡ theo đơn vị bytes của file đầu vào sẽ xấp xỉ n phụ thuộc vào hệ điều hành và cấu trúc máy tính nhưng sẽ luôn tuyến tính với n </s> <s> </s> <s> </s> <s> trong các trường hợp này ta có thể chọn số hoặc các số đó để biểu diễn kích cỡ tập đầu vào </s> <s> vì vậy khi nói về các bài toán có mảng / chuỗi kích cỡ tập đầu vào là độ dài của mảng / chuỗi đó khi nói về các bài toán đồ thị ta biểu thị bằng cả hai đại lượng số lượng đỉnh và số lượng cạnh </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> với cách tiếp cận đó kể từ đây cho tới cuối bài viết ta ký hiệu n là kích cỡ tập đầu vào </s> <s> </s> <s> </s> <s> một trường hợp cần lưu ý là khi viết một số n ta chỉ cần logn khoảng trống ví dụ để viết  trong hệ cơ số  ta chỉ cần log chữ số </s> <s> cần phân biệt hai đại lượng này  với thuật toán kiểm tra số nguyên tố đơn giản có độ phức tạp đa thức trên độ lớn của số được kiểm tra chứ không phải là trên số lượng chữ số của số đó nếu bạn chưa từng gặp khái niệm độ phức tạp đa thức thì cũng không cần lo lắng vì khái niệm này sẽ được giải thích trong phần sau </s> <s> </s> <s> </s> <s> tính toán độ hiệu quả của thuật toán như thế nào </s> <s> </s> <s> nhắc lại rằng cho trước một bộ dữ liệu đầu vào ta có thể đếm số bước thực hiện các phép toán của một thuật toán bằng cách mô phỏng các bước chạy thuật toán đó trên bộ dữ liệu được cho </s> <s> giả sử ta tiến hành đếm như vậy với tất cả các bộ dữ liệu có kích thước tối đa n </s> <s> ký hiệu fn là số bước cần thực hiện nhiều nhất trường hợp xấu nhất </s> <s> hàm f được gọi là độ phức tạp thời gian  hoặc ngắn gọn thời gian chạy của thuật toán </s> <s> </s> <s> </s> <s> nói cách khác nếu ta có dữ liệu vào với kích cỡ n việc thực hiện thuật toán mất tối đa fn bước </s> <s> </s> <s> </s> <s> quay trở lai thuật toán trong ví dụ  </s> <s> tập đầu vào xấu nhất có n phần tử là tập nào nói cách khác trong số các mảng có n phần tử mảng nào khiến cho thuật toán phải thực hiện nhiều bước nhất từ đoạn mã của thuật toán ta thấy </s> <s> </s> <s> </s> <s> bước thứ nhất được thực hiện đúng n lần </s> <s> bước thứ hai và thứ ba được thực hiện đúng fracnn lần </s> <s> bước thứ tư được thực hiện nhiều nhất fracnn lần </s> <s> </s> <s> </s> <s> dễ thấy nếu các phần tử trong mảng a được sắp xếp theo chiều giảm dần ngay từ đầu bước thứ  sẽ luôn luôn được thực hiện </s> <s> vì vậy thuật toán sẽ chạy trong fracnn  n   </s> <s> n   </s> <s> n bước </s> <s> vì vậy thuật toán trên có số bước tối đa là fn   </s> <s> n   </s> <s> n </s> <s> </s> <s> </s> <s> có thể thấy rằng việc xác định chính xác hàm f cho các chương trình phức tạp hơn là khá khó khăn </s> <s> thêm vào đó trong nhiều trường hợp dạng chính xác của hàm f là không cần thiết </s> <s> trong tính toán trên giá trị  </s> <s> n có thể bỏ qua vì khi n lớn thì  </s> <s> n nhỏ hơn rất nhiều so với  </s> <s> n và không ảnh hưởng lớn tới thời gian chạy </s> <s> mệnh đề fn xấp xỉ bằng  </s> <s> n cho ta tất cả thông tin mà ta cần </s> <s> tiếp theo chúng ta sẽ thấy rằng khi so sánh thuật toán này với một thuật toán nào đó khác để giải cùng một bài toán hằng số  </s> <s>  cũng không thật quan trọng </s> <s> </s> <s> </s> <s> xét hai thuật toán một có thời gian chạy n và một có thời gian chạy  </s> <s> n </s> <s> dễ nhận thấy rằng với n gt  thì thuật toán đầu tiên chạy nhanh hơn  khi n tăng khoảng cách về độ hiệu quả giữa hai thuật toán càng trở nên rõ ràng </s> <s> trong khi thuật toán đầu tiên có thể giải quyết bài toán với n    chỉ trong thời gian tính bằng giây thuật toán thứ hai phải mất tới vài phút trên các máy tính hiện đại </s> <s> </s> <s> </s> <s> sự khác biệt như trên sẽ luôn xảy ra nếu một trong hai thuật toán có thời gian chạy tăng tiệm cận nhanh hơn so với thời gian chạy của thuật toán còn lại nói cách khác khi n đủ lớn để kết quả phép tính giới hạn lim của tỷ lệ giữa hai đại lượng này bằng  hoặc infty </s> <s> nd trong bài này tác giả không nói rõ việc so sánh độ phức tạp theo phép tính giới hạn chỉ cần hiểu khái niệm tiệm cận có nghĩa là kích cỡ đầu vào đủ lớn </s> <s> như vậy tiệm cận nhanh hơn có nghĩa là nhanh hơn khi đầu vào đủ lớn  </s> <s> bất kể các hằng số nhận giá trị nào một thuật toán có thời gian chạy tỷ lệ thuận với n sẽ luôn luôn hiệu quả hơn một thuật toán khác có thời gian chạy tỷ lệ với n trong hầu hết các trường hợp của tập đầu vào </s> <s> nhận định này chính là ý tưởng chủ đạo để xây dựng định nghĩa chính thức của các khái niệm </s> <s> </s> <s> </s> <s> các khái niệm cơ bản </s> <s> </s> <s> gọi f g là các hàm số dương không giảm trên tập số nguyên dương lưu ý rằng hàm thời gian chạy thỏa mãn điều kiện này </s> <s> ta nói rằng fn thuộc ogn cách đọc f thuộc olớn của g nếu tồn tại các giá trị c và n thỏa mãn điều kiện sau </s> <s> </s> <s>  </s> <s> forall n gt n fn lt c </s> <s> gn </s> <s>  </s> <s> </s> <s> mệnh đề trên có thể diễn dịch như sau fn thuộc ogn nếu với c nào đó toàn bộ đồ thị của hàm f nằm dưới đồ thị của hàm c </s> <s> g </s> <s> chú ý rằng điều này có nghĩa là tốc độ tăng của hàm f không vượt quá độ tăng của hàm g </s> <s> nd ký hiệu olớn là ký hiệu chỉ tập hợp của các hàm số  vì vậy ở đây quan hệ giữa f và ogn là phần tử thuộc tập hợp </s> <s>  </s> <s> </s> <s> thay vì viết fn thuộc ogn ta thường viết là fn  ogn </s> <s> chú ý là dấu  không có tính đối xứng  viết ogn  f n là sai và không có ý nghĩa gì đồng thời mệnh đề gn  of n cũng không phải luôn đúng sẽ được chỉ ra ở phần sau của bài viết </s> <s> </s> <s> </s> <s> định nghĩa trên được biết tới là ký pháp olớn và được sử dụng để chỉ ra cận trên của tốc độ tăng của một hàm số </s> <s> </s> <s> </s> <s> xét hàm số f n   </s> <s> n –  </s> <s> n trong ví dụ  </s> <s> ta có thể phát biểu rằng f n  on một trường hợp khả dĩ cho các hằng số là c   và n   </s> <s> điều này có nghĩa là hàm f không tăng tiệm cận nhanh hơn n </s> <s> </s> <s> </s> <s> lưu ý rằng thời gian chạy chính xác của hàm f không cho ta câu trả lời cho câu hỏi chương trình trên chạy mất bao lâu trên máy tính </s> <s> nhận định quan trọng rút ra từ ví dụ trên là thời gian chạy của hàm f đó là hàm bậc hai </s> <s> nếu ta tăng gấp đôi kích cỡ đầu vào thời gian chạy sẽ tăng xấp xỉ  lần thời gian chạy ban đầu không quan trọng máy tính của ta nhanh như thế nào </s> <s> </s> <s> </s> <s> việc xác định được cận trên on của fn cũng đưa ta tới cùng nhận định như trên  đảm bảo rằng độ tăng của hàm thời gian chạy tối đa là hàm bậc hai </s> <s> </s> <s> </s> <s> vì vậy chúng ta sẽ sử dụng ký pháp olớn để mô tả độ phức tạp thời gian và đôi khi là cả bộ nhớ  của các thuật toán </s> <s> với thuật toán trong ví dụ  ta sẽ nói độ phức tạp thời gian của thuật toán này là on hoặc ngắn gọn hơn thuật toán này là on </s> <s> </s> <s> </s> <s> theo cách tương tự ta sẽ định nghĩa  omega omegalớn and  theta thetalớn </s> <s> </s> <s> </s> <s> ta nói rằng f n omegagn nếu gn  of n nói cách khác nếu f tăng nhanh hơn hoặc bằng g </s> <s> </s> <s> </s> <s> ta nói rằng f n  thetagn nếu f n  ogn và gn  of n nói cách khác nếu cả hai hàm số có độ hiệu quả xấp xỉ bằng nhau </s> <s> </s> <s> </s> <s> dễ dàng nhận thấy là hàm omegalớn dùng để chỉ cận dưới và hàm thetalớn dùng để chỉ đánh giá chặt cả hai cận của một hàm số </s> <s> có những đánh giá cận khác tương tự nhưng ít phổ biến hơn </s> <s> </s> <s> </s> <s> một vài mệnh đề sử dụng các ký pháp trên </s> <s> </s> <s> </s> <s>  </s> <s> n  </s> <s> n  on </s> <s> </s> <s> n log n  on </s> <s> </s> <s> n log n    n  thetan log n </s> <s> </s> <s> tất cả các đa thức bậc k là onk </s> <s> </s> <s> độ phức tạp thời gian của thuật toán trong ví dụ  là  thetan </s> <s> </s> <s> nếu một thuật toán thuộc on nó cũng thuộc on </s> <s> </s> <s> các thuật toán sắp xếp dựa trên phép so sánh đều là  omegan log n </s> <s> </s> <s> thuật toán sắp xếp trộn mergesort chạy trên mảng gồm n phần tử thực hiện xấp xỉ n log n phép so sánh </s> <s> vì vậy độ phức tạp thời gian của mergesort là  thetan log n </s> <s> nếu mệnh đề trước đó là đúng thì mergesort tiệm cận thuật toán tối ưu nhất trong các thuật toán sắp xếp dựa trên phép so sánh </s> <s> </s> <s> thuật toán trong ví dụ  sử dụng  thetan bytes bộ nhớ </s> <s> </s> <s> hàm số cho biết số răng của một người ở một thời điểm xác định là o </s> <s> </s> <s> một thuật toán quay lui đơn giản giải các bài toán trên bàn cờ vua là o vì cây vị trí mà thuật toán duyệt qua có kích cỡ giới hạn </s> <s> tuy nhiên giá trị hằng số trong o này lại rất lớn </s> <s> mệnh đề độ phức tạp thời gian của thuật toán này tối thiểu là on là vô nghĩa </s> <s> diễn dịch giá trị tối thiểu của độ phức tạp thời gian của thuật toán này tối đa là xấp xỉ hàm bậc hai </s> <s> phát biểu đúng là độ phức tạp thời gian của thuật toán này là  omegan </s> <s>  </s> <s> </s> <s> </s> <s> khi nói về độ phức tạp thời gian/bộ nhớ của một thuật toán thay vì sử dụng ký pháp thetalớn  thetaf n ta có thể đơn giản chỉ ra tên của lớp hàm chứa hàm f </s> <s> ví dụ với f n  thetan ta gọi thuật toán đó là tuyến tính </s> <s> một vài ví dụ khác </s> <s> </s> <s> </s> <s> f n  thetalog n hàm log </s> <s> f n  thetan hàm bậc  </s> <s> f n  thetan hàm bậc  </s> <s> f n  onk  hàm đa thức </s> <s> f n  omegan hàm mũ </s> <s> </s> <s> </s> <s> với các bài toán trên đồ thị độ phức tạp  thetan  m được gọi là tuyến tính theo độ lớn của đồ thị </s> <s> </s> <s> </s> <s> xác định thời gian chạy dựa vào đánh giá cận trên </s> <s> </s> <s> với hầu hết các thuật toán thường gặp trong thực tế giá trị hằng số của o hoặc  theta thường là khá nhỏ </s> <s> nếu một thuật toán là  thetan độ phức tạp chính xác là vào khoảng n chứ không phải n </s> <s> </s> <s> </s> <s> nói cách khác nếu hằng số là lớn thì thường là các hằng số đó có liên quan tới các đại lượng có sẵn trong đề bài </s> <s> trong trường hợp này cách làm thông thường là gán một tên gọi cho hằng số đó và thêm nó vào đánh giá độ phức tạp theo ký pháp thay vì bỏ qua như ta đã làm với số  </s> <s>  ở ví dụ  </s> <s> </s> <s> </s> <s> ví dụ bài toán yêu cầu đếm số lần xuất hiện của mỗi loại ký tự trong một chuỗi độ dài n ký tự </s> <s> thuật toán đơn giản nhất là duyệt cả chuỗi một lần cho mỗi loại ký tự </s> <s> kích cỡ bảng chữ cái không thay đổi ví dụ nhiều nhất là  ký tự trong ngôn ngữ c vì vậy thuật toán là tuyến tính với n </s> <s> mặc dù vậy ta nên viết độ phức tạp thời gian là  thetas </s> <s> n trong đó s là bảng chữ cái được sử dụng lưu ý là có một thuật toán tốt hơn giải bài toán này trong  theta s  n </s> <s> </s> <s> </s> <s> trong một kỳ thi trên topcoder một thuật toán thực thi     phép nhân hiếm khi chạy trong giới hạn thời gian cho phép </s> <s> thực tế này cộng với quan sát ở trên và một vài kinh nghiệm với các bài toán trên topcoder giúp ta tổng kết bảng sau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> complexity </s> <s> maximum n </s> <s> </s> <s> </s> <s>  thetan </s> <s>    </s> <s> </s> <s> </s> <s>  thetan log n </s> <s>    </s> <s> </s> <s> </s> <s>  thetan </s> <s>   </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s>  thetan </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bảng  giá trị n lớn nhất để các thuật toán có độ phức tạp khác nhau chạy trong tối đa  giây </s> <s> </s> <s> lưu ý khi phân tích độ phức tạp thuật toán </s> <s> </s> <s> thông thường khi trình bày một thuật toán cách tốt nhất để đánh giá độ phức tạp của nó là ký pháp theta theta </s> <s> tuy nhiên trong thực tế thường ta chỉ trình bày cận olớn vì ký pháp này dễ viết hơn và phổ biến hơn </s> <s> nhắc lại rằng olớn chỉ mang ý nghĩa cận trên </s> <s> thông thường ta tìm cận trên olớn nhỏ nhất có thể </s> <s> </s> <s> </s> <s> ví dụ  </s> <s> </s> <s> cho một mảng a đã được sắp xếp </s> <s> xác định xem liệu có tồn tại  phần tử trong mảng mà cách nhau d đơn vị hay không </s> <s> xét lời giải sau </s> <s> </s> <s> int j    </s> <s> for  int i    i lt n  i    </s> <s> while   j lt n    ampamp  a  i   a  j  gt d   </s> <s> j   </s> <s> if  a  i   a  j   d  return   </s> <s>  </s> <s> </s> <s> thoạt nhìn ta có thể sẽ đánh giá thuật toán trên có cận on  vòng lặp trong cùng chạy n lần mỗi lần tăng biến j tối đa n lần </s> <s> phân tích kỹ hơn ta thấy rằng cận trên có đánh giá tốt hơn là on  thật ra tổng thể số lần chạy câu lệnh j trong toàn bộ thuật toán không vượt quá n lần </s> <s> </s> <s> </s> <s> mệnh đề thuật toán trên là on vẫn là một mệnh đề đúng </s> <s> tuy nhiên bằng việc nói rằng thuật toán trên là on ta cung cấp nhiều thông tin hơn về thuật toán đó </s> <s> </s> <s> </s> <s> kết luận </s> <s> </s> <s> chúng ta đã chỉ ra cách viết các cận trên dưới theo độ phức tạp tính toán của thuật toán </s> <s> ta cũng đã chứng minh rằng các cận đó là các thuộc tính cơ bản và thường là hiệu quả để đánh giá các thuật toán </s> <s> </s> <s> trong phần sau chúng ta sẽ phân tích làm thế nào để ước lượng độ phức tạp tính toán của các thuật toán </s> <s> như ta đã thấy trong ví dụ  việc phân tích này có thể trở nên khá khó khăn </s> <s> một nguyên nhân khác làm cho việc phân tích khó khăn là các thuật toán đệ quy </s> <s> các vấn đề này sẽ được xử lý trong phần  của bài viết </s> <s> </s> <s> </s> <s> </s> <s> những cách tiếp cận bài toán phần  </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/planninganapproachtoatopcoderproblempart </s> <s> </s> <s> </s> <s> </s> <s> bài viết bởi leadhyenainran </s> <s> </s> <s> </s> <s> nguồn topcoder </s> <s> </s> <s> table of contents tư duy theo lối mòn pattern mining and wrong mindset coding kata chiến thuật định hướng giải bài approach tactics chia nhỏ vấn đề kế hoạch debug atomic code </s> <s> </s> <s> giải bài là một nghệ thuật nó có thể gây khó khăn cho cả những coder kì cựu nhất cũng như những người mới học </s> <s> để tìm cách giải phù hợp chúng ta phải biết kết hợp nhiều phương pháp khác nhau như cảm nhận bằng trực giác sáng tạo và thậm chí là may mắn </s> <s> cảm giác bất lực trước những bài khó thường làm chúng ta nản chí và có thể bỏ cuộc giữa chừng </s> <s> tuy nhiên không gì là không thể nếu bạn có đủ quyết tâm cũng như kĩ năng cần thiết </s> <s> bởi lí do đó bài hướng dẫn này sẽ đưa ra những kĩ năng để giúp các bạn chọn những hướng tiếp cận rõ ràng cho những bài toán như vậy </s> <s> </s> <s> </s> <s> tư duy theo lối mòn pattern mining and wrong mindset </s> <s> </s> <s> chúng ta rất dễ hướng các suy nghĩ vào việc tìm giải thuật dựa trên từng dạng của đề bài </s> <s> với những người đã làm khá nhiều bài tập họ sẽ nhận ra được dạng của những bài toán khác nhau và khi đọc thấy một bài toán nào đó quen thuộc thì suy nghĩ hiện ra ngay tức khắc trong đầu là “ồ đây là dạng bài x nên sử dụng thuật toán này áp dụng kĩ thuật này” </s> <s> cách này khá hữu ích đối với những người mới học nếu chưa thể giải được thì họ sẽ tập trung vào luyện tập với những dạng đề bài này để khiến nó trở thành một dạng bài quen thuộc </s> <s> </s> <s> </s> <s> tuy nhiên cách tiếp cận này cũng có nhược điểm khá lớn </s> <s> có những lúc ta tưởng rằng mình đang code đúng hướng nhờ vào lối tư duy như vậy nhưng khi test thử thì không khớp một ví dụ nào cả </s> <s> lúc đó đọc kĩ lại đề bài mới nhận ra mình chưa gặp dạng này bao giờ và bế tắc hoàn toàn </s> <s> bạn sẽ trải nghiệm điều này nhiều lần khi giải các bài toán gốc và độc đáo và kể cả những coder lão làng cũng có lúc bị chính kinh nghiệm của mình đánh lừa </s> <s> </s> <s> </s> <s> tư duy lối mòn thường khiến ta ảo tưởng rằng mọi bài toán đều đã được phân loại và ta chỉ cần áp dụng đúng thuật trong khi thực tế điều này bất khả thi </s> <s> khi ta tạm quên hết những lối mòn đó và sử dụng hết khả năng suy nghĩ phân tích trình độ của ta sẽ được cải thiện rất nhiều </s> <s> </s> <s> </s> <s> coding kata </s> <s> </s> <s> đây là thử thách đầu tiên hãy chọn bất cứ bài tập nào trong practice rooms mà bạn chưa làm </s> <s> hốt nó cho dù phải mất bao nhiêu thời gian và hoàn thành nó có thể sử dụng editorial nếu quá bí </s> <s> sau khi làm xong accepted hãy xem bạn mất bao nhiêu thời gian để giải </s> <s> tiếp theo xóa hết code và gõ lại lần nữa check thời gian sau khi làm xong </s> <s> tiếp tục lần thứ  như thế </s> <s> </s> <s> </s> <s> thời gian hoàn thành lần đầu tiên là thời gian để giải bài toán khi bạn không có bất cứ hướng suy nghĩ hay cách tiếp cận nào về bài toán </s> <s> thời gian hoàn thành lần thứ  là thời gian lần đầu tiên trừ đi thời gian bạn dùng để đọc và hiểu đề đừng quá ngạc nhiên với số lỗi bạn lặp lại ở lần này </s> <s> còn thời gian hoàn thành lần cuối là thời gian bạn có thể giải được trong lúc thi thật nếu tìm thấy được cách tiếp cận đúng ngay sau khi đọc đề bài </s> <s> việc giải bài với thời gian của lần cuối cùng hoàn toàn có thể làm được thậm chí không cần khả năng gõ phím nhanh </s> <s> nhưng điều mà bạn cũng nhận ra ở lần giải thứ  là cảm giác bạn đã biết trước chiến thuật nên code thế nào dễ bị bug nhất ở những đoạn nào </s> <s> </s> <s> </s> <s> đó là cảm giác để có được một cách tiếp cận đúng </s> <s> </s> <s> </s> <s> ở nhiều môn võ có một thuật ngữ luyện tập gọi là kata </s> <s> người tập sẽ thi triển những đòn thế được kịch bản sẵn và cố phòng thủ trước các đòn tấn công  cũng đã được kịch bản </s> <s> thoạt nghe thì phương pháp này chả có tác dụng gì vì sẽ chẳng lúc nào đánh nhau được tiện như vậy </s> <s> hơn nữa có vẻ như nó khuyến khích lối tư duy luyện tập theo lối mòn được đề cập ở trên </s> <s> thế nhưng kata sẽ cho người tập cảm giác của việc có một kế hoạch rõ ràng và khuyến khích ý chí </s> <s> tin học cũng như vậy chỉ sau khi code  lần một dạng bài trong một thời gian đủ nhiều ta mới nhuần nhuyễn hết mọi mặt của bài toán  định hướng trình bày code và debug </s> <s> </s> <s> </s> <s> chiến thuật định hướng giải bài approach tactics </s> <s> </s> <s> bây giờ bạn đã biết việc định hướng giải bài nó như thế nào và nó bao gồm những gì bạn sẽ nhận ra rằng trước đây bạn đã biết khá nhiều cách để tiếp cận một bài toán </s> <s> dạng như “tôi dùng quy hoạch động dynamic programming cho bài đó”  “tôi có thể dùng tham lam greedy để giải bài này không”  “đừng nói với tôi rằng duyệt bruteforce có thể ăn bài này” </s> <s> thật ra bạn đang dùng sai những từ ngữ ở đây vì bạn không thể phân loại mỗi bài tập chỉ với tham hay duyệt </s> <s> có rất rất nhiều dạng bài tập và cũng rất nhiều cách tiếp cận và thậm chí với mỗi hướng tiếp cận có thể tồn tại rất nhiều cách thể hiện khác nhau </s> <s> cách dùng từ như vậy chỉ tổng quát được những bước đi lớn để đến được đáp án </s> <s> </s> <s> </s> <s> trong topcoder có nhiều bài có lời giải hoàn chỉnh và chú thích cặn kẽ </s> <s> lần tham gia contest tiếp theo bạn hãy thử tìm một bài viết tốt và nghiên cứu các bước tiếp cận cụ thể của bài toán mà tác giả đã chỉ ra </s> <s> bạn sẽ bắt đầu chú ý rằng có một tính chất nào đó của bài toán sẽ gợi ra cho bạn một cách tiếp cận hay những cách biến đổi chuyển hướng phân tích </s> <s> </s> <s> </s> <s> làm bạn đến gần hơn với đáp án hay ít nhất giúp bạn không nghĩ theo hướng sai </s> <s> khi tìm một cách tiếp cận hãy thử tất cả những hướng đi bạn có như kiểu bạn đã gõ sẵn code hết trong đầu  bạn thuyết phục bản thân rằng hướng đi của bạn là đúng </s> <s> </s> <s> </s> <s> những coder có kiến thức toán cơ bản tốt sẽ có thể biết được hướng suy nghĩ này bởi vì những hướng tiếp cận đó rất giống với kĩ năng chứng minh toán học </s> <s> với những kì thủ họ sẽ thấy nó giống như việc nghĩ trước các nước cờ hay những người thiết kế ứng dụng có thể đã quen với nó trong khi làm việc với các design patterns thuật ngữ trong lập trình ứng dụng chỉ những phương pháp thiết kế hiệu quả đã được nghiên cứu kĩ </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> để luyện tập cách tư duy và tìm ra phương pháp phù hợp với mình ghi chú lại hướng giải của các bài toán là rất quan trọng </s> <s> sau đó hãy viết một bài phân tích dựa trên những gì bạn đã làm càng chi tiết càng tốt để những người khác có thể biết được cách bạn suy nghĩ như thế nào </s> <s> việc viết lại như thế không chỉ giúp bạn hiểu rõ hơn cách tiếp cận của mình mà còn tìm ra được những sai lầm của bản thân và cải thiện nó </s> <s> hãy nhớ rằng rất khó để cải thiện được những điều mà bạn còn chưa hiểu </s> <s> </s> <s> </s> <s> chia nhỏ vấn đề </s> <s> </s> <s> hãy bàn về một trong những cách tiếp cận phổ biến nhất chia nhỏ vấn đề ra còn được gọi là tiếp cận từ trên xuống topdown programming </s> <s> ý tưởng cơ bản ở đây là code của bạn phải được thực hiện theo thứ tự nên hãy bắt đầu bằng việc suy nghĩ xem phần chương trình chính sẽ cần những gì trước khi xây dựng những hàm con </s> <s> điều này cho phép bạn thấy được tổng thể chương trình cũng như chia nhỏ vấn đề từ những thứ phức tạp cho đến đơn giản </s> <s> </s> <s> </s> <s> một ví dụ áp dụng cách tiếp cận này </s> <s> round  matarith topcoder invitational   bài toán yêu cầu bạn phải tính giá trị biểu thức có sử dụng ma trận </s> <s> để có được những con số chúng ta phải xử lý xâu vì input là string tính toán dựa trên đó và trả ngược về string </s> <s> nên bạn cần một hàm print để in kết quả một hàm parse để xử lý xâu và một hàm calc để xử lí toán học </s> <s> không cần suy nghĩ quá phức tạp nếu chúng ta có đủ  hàm đó thì vấn đề sẽ được giải quyết chỉ trong  dòng code </s> <s> </s> <s> public string  calculate  string  a  string  b  string  c  string eval  </s> <s> return print  calc  parse  a  parse  b  parse  c  eval  </s> <s>  </s> <s> </s> <s> cái hay của các tiếp cận này là tạo ra một hệ thống cấp bậc các hàm hàm trên sẽ dựa vào kết quả của hàm dưới để chạy </s> <s> bây giờ công việc đã được chia làm  phần tạo hàm parse  hàm print  và hàm calc </s> <s> nếu bạn chia bài toán thành những bài toán con đủ nhỏ bạn sẽ không phải tốn nhiều thời gian vào việc suy nghĩ cho những bước không đơn giản bởi vì nó sẽ trở nên atomic sẽ được đề cập phía dưới </s> <s> thay vào đó chúng ta có thể tập trung vào hàm cộng và hàm nhân ma trận hay hàm đọc dữ liệu vào sao cho chính xác </s> <s> </s> <s> </s> <s> cách tiếp cận này có thể ứng dụng khá hiệu quả vào những bài toán đệ quy </s> <s> toàn bộ ý tưởng của đệ quy đó là chia vấn đề lớn thành những vấn đề nhỏ hơn nhưng giống chính xác với vấn đề gốc vậy chúng ta chỉ cần giải được một  vấn đề gốc là xong </s> <s> cách tiếp cận này cũng được sử dụng rất phổ biến trong functional programming một lớp các ngôn ngữ lập trình mà chương trình được xây dựng chỉ từ các hàm </s> <s> có khá nhiều bài viết đã bàn sâu về vấn đề này nhưng ý tưởng cơ bản chính là nếu ta chia nhỏ bài toán một cách đúng đắn chương trình sẽ tự động gửi tham số qua mỗi lời gọi hàm không cần thiết lưu trữ dữ liệu giữa các bước </s> <s> nhưng có một nhược điểm là sẽ khó debug hơn </s> <s> </s> <s> </s> <s> kế hoạch debug </s> <s> </s> <s> bất cứ khi nào có một cách tiếp cận chúng ta phải luôn có một kế hoạch debug cho cách tiếp cận đó </s> <s> có rất nhiều khả năng xảy ra làm cho chương trình chúng ta chạy sai bằng cách suy nghĩ trước các hướng chương trình sẽ chạy sai chúng ta có thể ngăn chặn bug trước khi code </s> <s> hơn thế nữa nếu không vượt qua được các test mẫu chúng ta sẽ biết ngay vị trí thích hợp để bắt đầu tìm lỗi </s> <s> cuối cùng bằng cách chú ý đến điểm trọng yếu nhất sẽ dễ dàng hơn để chứng minh cách tiếp cận của bạn là đúng </s> <s> </s> <s> </s> <s> với trường hợp tiếp cận topdown việc chia nhỏ những phần code thành những hàm con giúp chúng ta cô lập những phần code lỗi và chỉ phải sửa lại code ở một nơi </s> <s> cũng như việc test được một tổ hợp các hàm dễ bị bug nhất </s> <s> copy và paste nhiều lúc cũng làm việc sửa lỗi tốn nhiều công sức hơn thay vì viết riêng một hàm con </s> <s> một kinh nghiệm nữa cho cách tiếp cận từ trên xuống là chúng ta nên tìm bugs bên trong hàm trước khi tìm giữa những lời gọi hàm </s> <s> những cách này tạo nên một chiến thuật debug biết được vị trí nào cần test trước tiên chỗ nào bạn nghĩ là sai và cần kiểm tra hay chứng minh những đoạn code chuẩn và bỏ qua chúng </s> <s> nếu luyện tập thường xuyên bạn sẽ thấy rằng những kĩ năng này vô cùng hữu ích </s> <s> </s> <s> </s> <s> atomic code </s> <s> </s> <s> nếu chúng ta đi đến một phần code mà chúng ta không thể chia nhỏ được nữa thì phần đó gọi là atomic code </s> <s> hi vọng các bạn đều biết cách code những phần như vậy vì đó sẽ là những phần bạn sẽ code thường xuyên nhất </s> <s> nhưng đừng lo nếu bạn chưa thuần thục nó những atomic code khó như vậy thường làm cho bài toán trở nên thú vị hơn và thình thoảng thấy trước được điều đó sẽ giúp bạn có một bước tiến lớn trong việc tìm cách tiếp cận đúng đắn hạn chế được việc phung phí thời gian cho những cách tiếp cận sai </s> <s> </s> <s> </s> <s> dạng atomic code bạn viết thường xuyên nhất đó là dạng tối giản nhất nên phần lớn sẽ có lệnh sẵn trong thư viện để hỗ trợ nó </s> <s> việc sử dụng thành thạo thư viện là một lợi thế lớn nó giúp chúng ta viết được atomic code trong sáng và rõ ràng hơn </s> <s> còn cách nào để tiết kiệm thời gian hơn khi bạn biết rằng một phần atomic code khá khó xơi lại là một hàm hay một lớp nào đó trong thư viện sẵn có </s> <s> </s> <s> mình sẽ gọi dạng atomic code thứ hai mà bạn sẽ viết là language techniques một dạng kĩ năng về ngôn ngữ </s> <s> đó là những phần code nhỏ mà bạn thuộc lòng để giải quyết một phép xử lí nào đó như tìm chỉ số của phần tử nhỏ nhất đầu tiên trong mảng hay tách một xâu ra thành những chuỗi con mà không có khoảng trắng </s> <s> những kĩ thuật trên rất cần thiết cho việc tìm cách tiếp cận bài toán bởi vì nếu bạn biết rõ cách hoạt động của những thao tác cơ bản đó sẽ làm cho việc quá trình chia nhỏ nhanh đến atomic hơn nó cũng sẽ hạn chế việc tạo ra bug không đáng có </s> <s> thêm nữa nếu bạn cần phải cài một hàm hơi tương tự như một language technique mà bạn đã biết thì việc đó sẽ trở nên vô cùng dễ dàng dựa trên việc chỉ cần sửa đổi nó chút ít </s> <s> luyện tập với những language technique đó nên là việc làm hàng ngày và bất kì atomic code nào cũng sẽ có thể bay ra khỏi bàn tay và bay vào màn hình ngay khi bạn vừa nghĩ đến nó </s> <s> </s> <s> </s> <s> về việc sử dụng thư viện cá nhân tôi thấy có nhiều người sử dụng thư viện bằng cách chèn những đoạn code thường dùng vào phần đầu của file </s> <s> điều này hoàn toàn hợp lí và hợp pháp </s> <s> những ưu điểm của cách làm này là có thể tạo ra được nhiều phần trước cho những atomic code thường gặp có nhiều lợi ích cho việc tiếp cận topdown cũng như bottomup sẽ đề cập sau </s> <s> tuy nhiên theo ý kiến cá nhân nhược điểm của cách làm này không tương xứng với hiệu quả </s> <s> nó có thể làm chậm code của bạn đi bởi vì bạn phải tìm cách làm cho input của đề bài khớp với đầu vào của thư viện của bạn hoặc thư viện của bạn không được định nghĩa đủ tốt để làm điều đó </s> <s> điều hiển nhiên là những thư viện bạn tự viết có thể bị bugged và việc debug thư viện của bạn lúc đang thi đấu sẽ rất nguy hiểm bởi vì bạn phải sửa lại những bài bạn đã submit trước khi xem thêm bất kì bài nào khác </s> <s> thêm nữa thư viện cá nhân không được sử dụng ở các kì thi onsite ví dụ như thi hsg qg </s> <s> cuối cùng việc sử dụng thư viện cá nhân sẽ làm bạn phải học kỹ năng sử dụng nó chứ không phải kỹ năng của ngôn ngữ khiến việc đọc hiểu được bài giải của người khác khó hơn </s> <s> nếu sử dụng đúng lúc thì nó sẽ là một vũ khí hiệu quả nhưng nó không phải là vũ khí vạn năng trong mọi trường hợp </s> <s> </s> <s> </s> <s> có những lúc bạn sẽ gặp những atomic code mà bạn không thể chia nhỏ vấn đề được nữa </s> <s> đây là lúc bạn phải bắt đầu phân tích cách tiếp cận hiện tại của bạn </s> <s> tôi có nên chia nhỏ vấn đề theo cách khác không có nên lưu trữ dữ liệu bằng cấu trúc khác đây có phải là nhân tố để làm cho bài toán trở nên khó hơn bạn phải xét đến những thứ đó trước khi tìm ra đáp án </s> <s> thậm chí ở thời điểm bạn nhận ra bạn không tìm ra được hướng suy nghĩ tiếp theo thì vẫn luôn có cách để thoát ra khỏi tình huống đó mình sẽ giới thiệu nó ở phần tiếp theo </s> <s> </s> <s> </s> <s> </s> <s> nghệ thuật giải bài </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/howtofindasolution </s> <s> </s> <s> </s> <s> </s> <s> bài viết gốc how to find a solution  đăng bởi dumitru trên topcoder </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> với nhiều bài toán trên topcoder tc lời giải có thể được tìm ra ngay sau một nốt nhạc </s> <s> điều này có được là do những nét tương đồng giữa những bài toán có lời giải giống nhau </s> <s> những nét tương đồng này chính là những gợi ý tuyệt vời cho những coder kinh nghiệm để có thể nhận định được lời giải bài toán </s> <s> mục tiêu chính của bài viết này là hướng dẫn để các bạn cũng có thể nhận định được chúng </s> <s> </s> <s> </s> <s> những bài toán không yêu cầu kĩ năng đặc biệt mô phỏng tìm kiếm sắp xếp </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> hầu hết các trường hợp những bài toán này thường chỉ yêu cầu bạn thực hiện từng bước một với những công việc rất đơn giản </s> <s> giới hạn thì không quá lớn cũng không quá nhỏ </s> <s> và những bài này thường là bài đầu tiên bài dễ nhất trong tc srm </s> <s> chúng thường để kiểm tra xem bạn code nhanh và chính xác như nào và không yêu cầu kiến thức về thuật toán </s> <s> </s> <s> </s> <s> hầu hết các bài toàn sẽ yêu cầu bạn mô phỏng tất cả các bước được nêu ra trong đề </s> <s> </s> <s> </s> <s> </s> <s> businesstasks  srm  div  </s> <s> có n nhiệm vụ được liệt kê dưới dạng  vòng tròn nhiệm vụ đầu tiên kề với nhiệm vụ cuối cùng </s> <s> cho một số n </s> <s> bắt đầu từ nhiệm vụ đầu tiên di chuyển theo chiều kim đồng hồ từ thứ  đến thứ  rồi tiếp tục như vậy và đồng thời đếm từ  đến n </s> <s> vừa di chuyển vừa đếm khi đếm đến n bỏ nhiệm vụ hiện tại ra khỏi danh sách và đếm từ nhiệm vụ tiếp theo </s> <s> lặp lại thủ tục này cho đến khi chỉ còn  nhiệm vụ </s> <s> tìm nhiệm vụ đó </s> <s> </s> <s> </s> <s> </s> <s> với n le  bài này chỉ là vấn đề của code không có thuật toán gì đặc biệt  thực hiện từng bước một cho đến khi chỉ còn lại một nhiệm vụ </s> <s> những loại bài toán này thường có n nhỏ vậy nên không cần phải quan tâm đến trường hợp n lớn </s> <s> cần nhớ rằng trong topcoder thì  triệu phép tính vẫn có thể chạy được </s> <s> </s> <s> </s> <s> có một số bài yêu cầu bạn phải tìm kiếm </s> <s> </s> <s> </s> <s> tallpeople  srm  div  </s> <s> có một nhóm người được xếp thành một ma trận r  c r hàng c cột </s> <s> nhiệm vụ của bạn là trả về  số  số thứ nhất là chiều cao của người cao nhất trong những người thấp nhất ở mỗi hàng số thứ hai là chiều cao của người thấp nhất trong những người cao nhất ở mỗi cột </s> <s> </s> <s> </s> <s> </s> <s> như bạn có thể thấy đây là một bài toán tìm kiếm rất đơn giản </s> <s> bạn chỉ cần theo các bước được mô tả trong đề và tìm ra  giá trị yêu cầu </s> <s> những bài tc khác có thể yêu cầu sắp xếp các bộ theo quy luật nào đó </s> <s> bạn có thể làm với thuật toán sort on hoặc sử dụng các thư viên có sẵn </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> medaltable  srm  div  </s> <s> </s> <s> tìm kiếm theo chiều rộng breadth first search  bfs </s> <s> </s> <s> những bài sử dụng bfs thường yêu cầu tìm số bước ít nhất hoặc đường đi ngắn nhất từ điểm đầu đến điểm cuối </s> <s> bên cạnh đó đường đi giữa  điểm bất kì thường có chung trọng số và thường là  </s> <s> phổ biến nhất là dạng bài cho bảng n  m có những ô đi qua được và những ô không đi qua được </s> <s> bảng này có thể là mê cung sơ đồ các thành phố hoặc các thứ các thứ tương đương </s> <s> có thể nói đây là những bài toàn bfs kinh điển classic </s> <s> bởi vì độ phức tạp của bfs là tuyến tính trong hầu hết các trường hợp n hoặc nlogn giới hạn của n hoặc m có thể lớn lên tới  triệu </s> <s> </s> <s> </s> <s> </s> <s> smartwordtoy  srm  div  </s> <s> cho một từ gồm  chữ cái latin in thường </s> <s> với một lần click bạn có thể đổi bất kì chữ nào thành chữ cái trước hoặc sau nó trong bảng chữ cái ví dụ c có thể thành b hoặc d </s> <s> bảng chữ cái sẽ theo chu kì vòng lặp tức là a có thể thành z và z có thể thành a </s> <s> </s> <s> </s> <s> cho một tập các rằng buộc mỗi rằng buộc sẽ là tập các từ bị cấm </s> <s> một rằng buộc bao gồm  xâu kí tự </s> <s> một từ gọi là bị cấm nếu mỗi chữ cái của nó đều xuất hiện trong chính ràng buộc ở vị trí đó i </s> <s> e </s> <s> chữ đầu tiên ở trong xâu đầu tiên chữ thứ  trong xâu thứ  </s> <s> </s> <s> </s> <s> ví dụ có rằng buộc sau lf a tc e thì các từ sau bị cấm late fate lace và face </s> <s> </s> <s> </s> <s> bạn cần phải tìm số lần bấm nút ít nhất để từ ban đầu biến thành từ đích mà không đi qua từ cấm hoặc trả về  nếu không thể biến được </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> coi các từ là các trạng thái </s> <s> có nhiều nhất  từ khác nhau gồm  chữ cái </s> <s> </s> <s> có nhiều cách để biến một trạng thái về một trạng thái khác </s> <s> </s> <s> chi phí để biến đổi  trạng thái luôn là  với  lần click </s> <s> bạn cần phải tìm số bước nhỏ nhất để đến được trạng thái đích từ trạng thái ban đầu </s> <s> </s> <s> </s> <s> </s> <s> mọi thứ đều chỉ ra rằng bài này cần giải bằng bfs </s> <s> những điều tương tự như trên sẽ thường thấy trong các bài bfs </s> <s> bây giờ chúng ta cùng xem một bfs bài khá thú vị </s> <s> </s> <s> </s> <s> </s> <s> capturethemall  srm  div  rd problem </s> <s> harry đang chơi cờ vua </s> <s> anh có một quân mã còn đối thủ là joe có  quân hậu và  quân xe </s> <s> hãy tìm số bước nhỏ nhất quân mã phải đi để ăn được cả hậu và xe </s> <s> </s> <s> </s> <s> </s> <s> hints mới đầu có vẻ như bài này là  bài quy hoạch động hoặc backtrack </s> <s> nhưng nếu để ý kĩ đề bài ta sẽ có những nhận xét sau </s> <s> </s> <s> </s> <s> đề cho  bảng </s> <s> </s> <s> quân mã có thể đi từ  ô tới các ô mà nó có thể đi được </s> <s> </s> <s> chi phí ở mỗi bước đi là  </s> <s> </s> <s> bạn cần tìm số bước đi nhỏ nhất </s> <s> </s> <s> </s> <s> </s> <s> với những thông tin trên ta có thể dễ dàng giải được bằng bfs </s> <s> đừng bối rối nếu những điểm liên thông là những ô không kề nhau </s> <s> hãy nghĩ mỗi ô là một điểm trên đồ thị hay một trạng thái hay bất cứ cái gì bạn muốn </s> <s> </s> <s> </s> <s> chú ý rằng phần lớn những gợi ý về thuật giải bfs là chi phí bằng  cho mỗi bước </s> <s> </s> <s> </s> <s> bạn có thể luyện tập thêm về bfs bằng những ví dụ sau </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> revolvingdoors  srm  div  </s> <s> </s> <s> walkinghome  srm  div  </s> <s> </s> <s> turntableservice  srm  div  </s> <s> </s> <s> loang flood fill </s> <s> </s> <s> thỉnh thoảng bạn sẽ gặp phải bài toán cần tới loang một kĩ thuật sử dụng bfs để tìm tất cả các điểm có thể đi tới </s> <s> điểm khác biệt giữa loang so với những bài bfs ở trên là bạn không phải tìm chi phí nhỏ nhất </s> <s> </s> <s> </s> <s> ví dụ có một mê cung ô  là không đi được và  là đi được </s> <s> ban cần phải tìm tất cả các ô mà có thể đi đến từ ô góc trái trên </s> <s> bài này chỉ cần lấy ra một đỉnh đã thăm nhét tất cả các đỉnh chưa thăm mà kề với đỉnh hiện tại vào queue rồi tiếp tục làm như vậy cho đến khi queue rỗng </s> <s> lưu ý rằng nếu số đỉnh lớn cài đặt bằng dfs depth first search sẽ có thể bị tràn stack do đệ quy quá sâu và compile code không tăng kích thước stack xem thêm giải thích ở đây  </s> <s> tốt hơn hết là nên dùng bfs </s> <s> đây là một bài ví dụ </s> <s> </s> <s> </s> <s> grafixmask  srm  div  </s> <s> cho một bitmap    </s> <s> có một tập hình chữ nhật bao phủ bitmap này các góc của chúng có tọa độ nguyên </s> <s> bạn cần phải tìm ra tất cả các vùng liên tiếp không bị phủ và kích thước của chúng </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> có một map bảng </s> <s> </s> <s> một số điểm không đi qua được </s> <s> </s> <s> cần tìm ra những vùng liên thông </s> <s> </s> <s> </s> <s> </s> <s> những dấu hiệu trên cho thấy bài này cần phải sử dụng loang </s> <s> </s> <s> duyệt trâu và quay lui brute force and backtracking </s> <s> </s> <s> hai kĩ thuật này được gộp chung vào một loại vì chúng khá giống nhau </s> <s> quay lui là kĩ thuật nâng cao và tối ưu hơn so với duyệt trâu </s> <s> nó thường sử dụng đệ quy và áp dụng cho những bài có giới hạn nhỏ n le  </s> <s> </s> <s> duyệt trâu brute force </s> <s> </s> <s> đối với những bài duyệt trâu thì giới hạn thường bé </s> <s> duyệt trâu bản chất đúng như cái tên của nó là duyệt hết tất cả các trường hợp và chọn ra cái tốt nhất </s> <s> nó rất dễ xây dựng và cài đặt </s> <s> </s> <s> </s> <s> </s> <s> generalchess  srm  div  </s> <s> cho một số quân mã nhiều nhất là  cùng với vị trí của chúng  le x y le  </s> <s> bạn cần phải tìm các vị trí để đặt thêm một quân mã mà nó có thể ăn được tất cả các quân đã cho </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> đề yêu cầu tìm các trường hợp thỏa mã  quy luật nhất định ở đây là ăn tất cả các quân đã cho </s> <s> </s> <s> giới hạn bé  chỉ có  quân mã </s> <s> </s> <s> </s> <s> </s> <s> giới hạn x y trong bài trên không quan trọng bạn chỉ cần thử các vị trí có thể ăn một quân mã và đối với từng vị trí thì xét xem nó có ăn được các quân còn lại không </s> <s> </s> <s> </s> <s> một ví dụ khác </s> <s> </s> <s> </s> <s> largestcircle  srm  div  rd problem </s> <s> cho một lưới vuông với một số ô đã bị đánh dấu </s> <s> tìm đường tròn lớn nhất không đi qua các ô đã bị đánh dấu và có tâm nằm trên điểm giao của lưới ô vuông bán kính là số nguyên </s> <s> trả lại bán kính của đường tròn </s> <s> </s> <s> </s> <s> kích thước lớn nhất của lưới là  </s> <s> </s> <s> </s> <s> hints tại mỗi điểm giao bạn thử từng bán kính một sao cho thỏa mãn đề bài </s> <s> rồi chọn ra bán kính lớn nhất trong số chúng </s> <s> </s> <s> phân tích độ phức tạp có nhiều nhất là    ô bán kính là một số nguyên với max là  và bạn cần kiểm tra các điểm trên thuộc đường tròn trong một thời gian tuyến tính </s> <s> tổng độ phức tạp sẽ rất bé và bạn có thể yên tâm duyệt trâu </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> cafeteria – srm  div  </s> <s> </s> <s> wordfind – srm  div  </s> <s> </s> <s> quay lui backtracking </s> <s> </s> <s> kĩ thuật này thường được sử dụng với những bài có giới hạn nhỏ </s> <s> các dạng quay lui mà bạn có thể gặp phải là tìm </s> <s> </s> <s> </s> <s> tất cả các cấu hình hoặc một tập các cấu hình thỏa mãn một yêu cầu </s> <s> </s> <s> cấu hình tốt nhất theo một một tiêu chí nào đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bridgecrossing – srm  div  rd problem </s> <s> có một nhóm người cần sang cầu </s> <s> tuy nhiên do cầu quá cũ nên một lần chỉ được tối đa  người qua cầu </s> <s> trời thì tối chỉ có một cái đèn pin </s> <s> hai người cùng đi qua cầu thì thời gian của hai người sẽ là thời gian của người chậm hơn </s> <s> do không thể ném đèn pin từ bên này sang bên kia nên một người sẽ phải quay lại rồi đi với một người khác </s> <s> hỏi thời gian ít nhất để tất cả cùng qua cầu </s> <s> </s> <s> </s> <s> có nhiều nhất là  người </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> giới hạn chỉ có nhiều nhất  người </s> <s> quá đủ để có thể sinh ra tất cả các hoán vị </s> <s> </s> <s> bạn cần tìm ra cách tốt nhất trong số các cách đưa mọi người sang cầu </s> <s> </s> <s> </s> <s> </s> <s> ta sẽ bắt đầu bằng việc đưa  người bất kì qua cầu rồi tiếp tục đưa những người còn lại sang </s> <s> người quay lại sẽ là người nhanh nhất </s> <s> so sánh và tìm ra phương án tốn ít thời gian nhất </s> <s> mặc dù còn có một thuật giải khác cho bài này nhưng với giới hạn bé như vậy thì chúng ta không cần thiết phải quan tâm </s> <s> </s> <s> </s> <s> </s> <s> mns – srm  div  </s> <s> cho  số nguyên trong khoảng từ  đến  </s> <s> một ô vuông thần kì là ô vuông mà các số được sắp xếp sao cho tổng mỗi hàng và mỗi cột đều bằng nhau </s> <s> tính số cách khác nhau để sắp xêp dãy số đã cho thành một ô vuông thần kì </s> <s> hai cách sắp xếp khác nhau nếu chúng khác nhau ở ít nhất  vị trí </s> <s> </s> <s> </s> <s> </s> <s> hints do chỉ có  số nên hoàn toàn có thể sinh ra hết các cách sắp xếp của chúng </s> <s> liệt kê các hoán vị của  số đồng thời lưu lại một danh sách các cách sắp xếp khác nhau đã có để kiểm tra </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> weirdrooks – srm  div  </s> <s> </s> <s> quy hoạch động dynamic programming </s> <s> </s> <s> để giải quyết cũng như nhìn ra dạng bài này thì chủ yếu dựa vào kinh nghiệm </s> <s> thường thì giới hạn trong các bài qhđ không lớn cũng không nhỏ độ phức tạp thường là n  n  </s> <s> </s> <s> </s> <s> nếu như giới hạn quá nhỏ với tc thì thường n le  thì thường không phải là dp </s> <s> trong qhđ thì các bài toán lớn sẽ được chia thành các bài toán nhỏ hơn và tính dựa vào chúng </s> <s> để hiểu hơn về qhđ bạn có thể tham khảo bài này </s> <s> </s> <s> </s> <s> </s> <s> thử phân tích một ví dụ đơn giản </s> <s> cho n đồng xu với giá trị của chúngv v </s> <s> </s> <s> </s> <s>  vn và một số s </s> <s> tìm số đồng xu nhỏ nhất mà tổng giá trị của chúng bằng s bạn có thể dùng một đồng nhiều lần hoặc thông báo không có cách nào như vậy </s> <s> </s> <s> n le  và s le  </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> giới hạn của n và s đều ở mức vừa phải </s> <s> </s> <s> một trạng thái định nghĩa là số đồng xu nhỏ nhất để tổng bằng  giá trị </s> <s> </s> <s> tổng i phụ thuộc vào các tổng bé hơn j j lt i </s> <s> </s> <s> bằng cách thêm một đồng xu ta di chuyển từ trạng thái này sang trạng thái khác </s> <s> </s> <s> </s> <s> </s> <s> tất cả những tính chất trên cho thấy đây là một bài qhđ </s> <s> </s> <s> </s> <s> </s> <s> zigzag –  tccc semifinals  </s> <s> một dãy số được gọi là zigzag nếu các hiệu giữa những liền nhau là một dãy đan dấu luân phiên âm dương âm dương </s> <s> </s> <s> </s> <s>  </s> <s> dãy có ít hơn  số là  dãy zigzag </s> <s> cho một dãy số tìm dãy con zigzag dài nhất </s> <s> một dãy con thu được bằng cách xóa bỏ một số số trong dãy ban đầu hoặc không xóa </s> <s> giới hạn n le  </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> giới hạn của n không lớn không nhỏ </s> <s> </s> <s> fi d là độ dài dãy con zigzag dài nhất kết thúc tại i còn d   nếu số trước i bé hơn nó và d   nếu ngược lại </s> <s> </s> <s> fi d được tính bởi fj e j lt i </s> <s> </s> <s> nếu thêm một số vào trong dãy hiện tại thì ta được một dãy dài hơn </s> <s> </s> <s> </s> <s> </s> <s> như vậy bài này cũng có những dâu hiệu giống với bài trên và những bài qhđ khác </s> <s> phần khó nhất là xác định được bài đưa ra là qhđ bằng những dấu hiệu trên </s> <s> sau đó bước tiếp theo chỉ là xây dựng thuật toán và cài đặt </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> chessmetric –  tccc round  </s> <s> </s> <s> avoidroads –  tco semifinals  </s> <s> </s> <s> flowergarden –  tccc round  </s> <s> </s> <s> badneighbors –  tccc round  </s> <s> </s> <s> nâng cao hard drills </s> <s> </s> <s> luồng cực đại maximum flow </s> <s> </s> <s> cũng không dễ để có thể xác định được một bài toán sử dụng luồng </s> <s> tuy nhiên một số dấu hiệu sau có thể giúp bạn </s> <s> </s> <s> </s> <s> để ý vào giới hạn những bài này thường có giới hạn phù hợp với on hoặc on </s> <s> đồ thị với các cạnh có trọng số cho trực tiếp hoặc gián tiếp </s> <s> </s> <s> cần tìm giá trị lớn nhất của cái gì đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ví dụ </s> <s> cho một danh sách các ống nước mỗi ống chỉ cho một lượng nước nhất định được đi qua </s> <s> các ông được nối với nhau </s> <s> </s> <s> </s> <s> tìm lượng nước lớn nhất có thể chảy được từ điểm đầu đến điểm cuối trong một đơn vị thời gian </s> <s> </s> <s> </s> <s> n le  </s> <s> </s> <s> </s> <s> dễ dàng thấy được lượng nước ở mỗi ống là trọng số các cạnh khớp nối các ống là các đỉnh trong đồ thị </s> <s> bạn phải tìm lượng nước lớn nhất chảy từ đỉnh bắt đầu đến đỉnh kết thúc </s> <s> </s> <s> </s> <s> cặp ghép optimal pair matching </s> <s> </s> <s> dạng bài này thường cho  tập và các quy tắc bạn phải sử dụng các quy tắc này để ghép càng nhiều càng tốt các phần tử ở tập a với các phần tử ở tập b </s> <s> </s> <s> </s> <s> </s> <s> parking – srm  div  </s> <s> cho n cái xe và m chỗ đỗ xe trên một cái bảng hình chữ nhật trong đó có một số ô không đi qua được </s> <s> bạn cần tìm một cách để đưa tất cả các xe vào điểm đỗ xe sao cho số lớn nhất trong các khoảng cách từ một xe đến chỗ đỗ của nó là nhỏ nhất có thể </s> <s> một điểm đỗ xe chỉ cho phép một xe đỗ </s> <s> </s> <s> </s> <s> </s> <s> hints nhận xét bài này ta thấy có  tập xe và điểm đỗ xe chúng ta cần thực hiện ghép mỗi xe với một điểm đỗ tương ứng </s> <s> tồn tại một cạnh giữa  xe và  điểm đỗ nếu có đường đi giữa chúng và trọng số của cạnh này là đường đi ngắn nhất giữa  điểm này </s> <s> bước tiếp theo là chia nhị phân khoảng cách dài nhất ở mỗi bước xóa đi các cạnh có độ dài lớn hơn c nếu vẫn có thể ghép tất cả các xe vào điểm đỗ thì chọn một giá trị c nhỏ hơn ngược lại thì chọn một giá trị c lớn hơn </s> <s> khi đã chia nhị phân xong giá trị c nhỏ nhất sẽ là kết quả cần tìm </s> <s> </s> <s> </s> <s> quy hoạch tuyến tính linear programming amp thuật toán simplex </s> <s> </s> <s> dấu hiệu nhận biết </s> <s> </s> <s> </s> <s> cho một tập các vật với khối lượng hoặc số lượng cần đạt được của mỗi vật </s> <s> </s> <s> cho một danh sách các tập hợp </s> <s> mỗi tập bao gồm một số vật với một số lượng nhất định </s> <s> mỗi tập có một chi phí </s> <s> </s> <s> mục đích của bài toán là tìm một tập tối ưu từ các tập trên sao cho tổng số lượng của mỗi vật bằng số lượng cần đạt được </s> <s> </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> mixture – srm  div  </s> <s> bạn đang muốn làm ra một hỗn hợp từ các hợp chất khác nhau mỗi hợp chất cần phải đúng liều lượng </s> <s> bởi vì các hợp chất đôi khi không được bán riêng mà bạn phải mua các hỗn hợp có sẵn mà chứa chúng </s> <s> mỗi hỗn hợp lại có một lượng nhất định của mỗi hợp chất cấu thành </s> <s> bạn không cần phải mua toàn bộ hỗn hợp mà có thể mua những hợp chất bạn cần với liều lượng tùy chọn </s> <s> nhiệm vụ của bạn là tìm ra cách tiêu ít tiền nhất đề có thể tạo ra được hỗn hợp mong muốn </s> <s> </s> <s> </s> <s> </s> <s> hints </s> <s> </s> <s> </s> <s> một tập các vật hợp chất </s> <s> </s> <s> một danh sách các tập các hỗn hợp có sẵn </s> <s> </s> <s> tìm chi phí nhỏ nhất để tạo ra tập mong muốn từ các tập có sẵn </s> <s> </s> <s> </s> <s> </s> <s> những tính chất trên giống hệt với dấu hiệu nhận biết của dạng linear programming </s> <s> </s> <s> </s> <s> đây là  kĩ thuật nâng cao bạn có thể tham khảo thêm ở </s> <s> </s> <s> </s> <s> wikipedia  linear programming </s> <s> simplex algorithm </s> <s> </s> <s> </s> <s> kết luận </s> <s> </s> <s> để có thể tìm ra được lời giải cho một bài toán bạn cần phải làm nhiều bài tập để luyện khả năng nhận định bài toán cũng như tăng thêm kinh nghiệm </s> <s> ngoài ra còn rất nhiều dạng bài khác mà trong phạm vi bài viết này không thể bao phủ hết được </s> <s> </s> <s> </s> <s> </s> <s> hash a string matching algorithm </s> <s> http//vnoi </s> <s> info/wiki/algo/string/hash </s> <s> </s> <s> </s> <s> </s> <s> tác giả  lê khắc minh tuệ </s> <s> </s> <s> chỉnh sửa  nguyễn rr thành trung phạm văn hạnh </s> <s> </s> <s> table of contents giới thiệu hoàn cảnh phát biểu bài toán thuật toán mục đích bài viết thuật toán hash ký hiệu mô tả thuật toán mã chương trình đánh giá chi tiết cài đặt  </s> <s> chọn số nguyên tố cho hệ cơ số và modulo  </s> <s> chọn hệ cơ số  </s> <s> chọn modulo  </s> <s> hash tràn số và hash có mod  </s> <s> một số lời khuyên nho nhỏ ứng dụng longest palindrome substring kth alphabetical cyclic longest substring and appear at least k times đánh giá độ chính xác trường hợp  trường hợp  tổng kết thuật toán cài đặt ưu điểm nhược điểm bài tập áp dụng các nguồn tham khảo </s> <s> </s> <s> giới thiệu </s> <s> </s> <s> hoàn cảnh </s> <s> </s> <s> một lớp những bài toán rất được quan tâm trong khoa học máy tính nói chung và lập trình thi cử nói riêng đó là xử lý xâu chuỗi </s> <s> trong lớp bài toán này người ta thường rất hay phải đối mặt với một bài toán tìm kiếm xâu chuỗi </s> <s> </s> <s> </s> <s> phát biểu bài toán </s> <s> </s> <s> </s> <s> cho một đoạn văn bản gồm m ký tự </s> <s> </s> <s> cho một đoạn mẫu gồm n ký tự </s> <s> </s> <s> máy tính cần trả lời câu hỏi đoạn mẫu xuất hiện bao nhiêu lần trong đoạn văn bản và chỉ ra các vị trí xuất hiện đó </s> <s> </s> <s> </s> <s> </s> <s> thuật toán </s> <s> </s> <s> có rất nhiều thuật toán có thể giải quyết bài toán này </s> <s> người viết xin tóm tắt  thuật toán phổ biến được dùng trong các kì thi lập trình </s> <s> </s> <s> </s> <s> </s> <s> bruteforce  với một cách tiếp cận trực tiếp chúng ta có thể thu được thuật toán để giải </s> <s> tuy nhiên độ phực tạp của nó là rất lớn trong trường hợp xấu nhất </s> <s> thuật toán bruteforce so khớp tất cả các vị trí xuất hiện của đoạn mẫu trong đoạn văn bản </s> <s> cụ thể độ phức tạp cho thuật toán này là omn </s> <s> </s> <s> knuthmorrispratt  hay còn được viết tắt là kmp được phát minh vào năm  bởi donald knuth vaughan pratt và james h </s> <s> morris </s> <s> thuật toán này sử dụng một correctionarray là một thuật toán rất hiệu quả có độ phức tạp là om  n </s> <s> </s> <s> </s> <s> </s> <s> mục đích bài viết </s> <s> </s> <s> trong bài viết này người viết chỉ tập trung vào thuật toán hash tên chuẩn của thuật toán này là rabin–karp hoặc rolling hash  tuy nhiên ở việt nam thường được gọi là hash </s> <s> theo như bản thân người viết đánh giá đây là thuật toán rất hiệu quả đặc biệt là trong thi cử </s> <s> nó hiệu quả bởi  yếu tố tốc độ thực thi linh động trong việc sử dụng ứng dụng hiệu quả và sự đơn giản trong cài đặt </s> <s> </s> <s> </s> <s> đầu tiên người viết xin được trình bày về thuật toán này </s> <s> sau đó người viết sẽ trình bày một vài ứng dụng cách sử dụng và phát triển thuật toán hash trong các bài toán tin học </s> <s> </s> <s> </s> <s> thuật toán hash </s> <s> </s> <s> ký hiệu </s> <s> </s> <s> </s> <s> tập hợp các chữ cái được sử dụng sigma </s> <s> đoạn con từ i đến j của một xâu s si </s> <s> </s> <s> j </s> <s> đoạn văn bản t </s> <s> </s> <s> m </s> <s> đoạn mẫu p </s> <s> </s> <s> n </s> <s> </s> <s> </s> <s> chúng ta cần tìm ra tất cả các vị trí i  le i le m − n   thỏa mãn ti </s> <s> </s> <s> in−  p </s> <s> </s> <s> </s> <s> mô tả thuật toán </s> <s> </s> <s> để đơn giản giả sử rằng sigma  a b </s> <s> </s> <s> </s> <s>  z nói cách khác sigma chỉ gồm các chữ cái in thường </s> <s> để biểu diễn một xâu thay vì dùng chữ cái chúng ta sẽ chuyển sang biểu diễn dạng số </s> <s> ví dụ xâu aczd được viết dưới dạng số là một dãy gồm  số  </s> <s> như vậy một xâu được biểu diễn dưới dạng một số ở hệ cơ số base với base gt  </s> <s> từ đây suy ra  xâu bằng nhau khi và chỉ khi biểu diễn của  xâu ở hệ cơ số  giống nhau </s> <s> </s> <s> </s> <s> lưu ý  </s> <s> </s> <s> </s> <s> ở đây mình đổi chữ a thành số  chứ không phải số  </s> <s> đây là chi tiết vô cùng quan trọng để tránh  xâu abc và bc bằng nhau khi đổi ra số </s> <s> bạn có thể đọc thêm chi tiết ở phần chi tiết cài đặt </s> <s> </s> <s> thông thường ta chọn base là một số nguyên tố </s> <s> mình sẽ giải thích thêm trong phần chi tiết cài đặt </s> <s> </s> <s> </s> <s> </s> <s> đây chính là tư tưởng của thuật toán đổi  xâu từ hệ cơ số base ra hệ cơ số  rồi đem so sánh ở hệ cơ số  </s> <s> tuy nhiên chúng ta nhận thấy rằng khi đổi  xâu ra biểu diễn ở hệ cơ số  biểu diễn này có thể rất lớn và nằm ngoài phạm vi lưu trữ số nguyên của máy tính </s> <s> </s> <s> </s> <s> để khắc phục điều này chúng ta chuyển sang so sánh  biểu diễn của  xâu ở hệ cơ số  sau khi lấy phần dư cho một số nguyên đủ lớn </s> <s> cụ thể hơn nếu biểu diễn trong hệ thập phân của xâu a là x và biểu diễn trong hệ thập phân của xâu b là y chúng ta sẽ coi a bằng b ‘khi và chỉ khi’ x bmod mod  y bmod mod trong đó mod là một số nguyên đủ lớn </s> <s> </s> <s> </s> <s> lưu ý  lý do chọn mod là số nguyên tố được giải thích thêm trong phần chi tiết cài đặt </s> <s> </s> <s> </s> <s> dễ dàng nhận thấy việc so sánh x bmod mod với y bmod mod rồi kết luận a có bằng với b hay không là sai </s> <s> x bmod mod  y bmod mod chỉ là điều kiện cần để a bằng b chứ chưa phải điều kiện đủ </s> <s> tuy nhiên chúng ta sẽ chấp nhận lập luận sai này trong thuật toán hash </s> <s> và coi điều kiện cần như điều kiện đủ </s> <s> trên thực tế lập luận sai này có thể dẫn đến kết quả sai nếu bạn không hiểu rõ mình đang làm gì </s> <s> để hiểu rõ về tỉ lệ sai của thuật toán hash các bạn đọc thêm phần đánh giá độ chính xác </s> <s> phần chi tiết cài đặt cũng nói thêm về cách tránh bị sai số khi cài đặt hash </s> <s> </s> <s> </s> <s> để đơn giản trong việc trình bày tiếp thuật toán chúng ta sẽ gọi biểu diễn của một xâu trong hệ thập phân sau khi lấy phần dư cho mod là mã hash của xâu đó </s> <s> nhắc lại  xâu bằng nhau ‘khi và chỉ khi’ mã hash của  xâu bằng nhau </s> <s> </s> <s> </s> <s> trở lại bài toán ban đầu chúng ta cần chỉ ra p xuất hiện ở những vị trí nào trong t </s> <s> để làm được việc này chúng ta chỉ cần duyệt qua mọi vị trí xuất phát có thể của p trong t </s> <s> giả sử vị trí đó là i chúng ta sẽ kiểm tra ti </s> <s> </s> <s> in− có bằng với p hay không </s> <s> để kiểm tra điều này chúng ta cần tính được mã hash của đoạn ti </s> <s> </s> <s> in− và mã hash của xâu p </s> <s> </s> <s> </s> <s> để tính mã hash của xâu p chúng ta chỉ cần làm đơn giản như sau </s> <s> </s> <s> const base   </s> <s> hashp   </s> <s> for i   </s> <s> </s> <s> n </s> <s> hashp  hashp  base  pi  a   mod mod </s> <s> </s> <s> phần khó hơn của thuật toán hash là tính mã hash của một đoạn con ti </s> <s> </s> <s> j của xâu t  le i le j le n </s> <s> </s> <s> </s> <s> </s> <s> để hình dung cho đơn giản xét ví dụ sau xét xâu s và biểu diễn của nó dưới cơ số base  </s> <s> chúng ta cần lấy mã hash của đoạn con từ phần tử thứ  đến phần tử thứ  nghĩa là cần lấy mã hash của xâu  </s> <s> nhận thấy để lấy được xâu s </s> <s> </s> <s>  chỉ cần lấy số s </s> <s> </s> <s>  là  trừ cho số s </s> <s> </s> <s>  nhân với base là  ta sẽ thu được  </s> <s> </s> <s> để cài đặt ý tưởng này chúng ta cần khởi tạo basex bmod mod với  le x le m và mã hash của tất cả những tiền tố của s cụ thể là mã hash của những xâu s </s> <s> </s> <s> i với  le i le m </s> <s> </s> <s> </s> <s> </s> <s> pow   </s> <s> for i   </s> <s> </s> <s> m </s> <s> powi  powi  base mod mod </s> <s> </s> <s> </s> <s> hasht   </s> <s> for i   </s> <s> </s> <s> m </s> <s> hashti  hashti  base  ti  a mod mod </s> <s> </s> <s> </s> <s> trong đoạn code trên chúng ta thu được mảng powi lưu lại basei bmod mod và mảng hashti lưu lại mã hash của t </s> <s> </s> <s> i </s> <s> </s> <s> </s> <s> </s> <s> để lấy mã hash của ti </s> <s> </s> <s> j ta viết hàm sau </s> <s> </s> <s> </s> <s> function gethashti j </s> <s> return hashtj  hashti    powj  i    mod  mod mod mod </s> <s> </s> <s> </s> <s> bài toán chính đã được giải quyết và đây là chương trình chính </s> <s> </s> <s> for i   </s> <s> </s> <s> m  n  </s> <s> if hashp  gethashti i  n   </s> <s> printmatch position  i </s> <s> </s> <s> mã chương trình </s> <s> </s> <s> chương trình sau tôi viết bằng ngôn ngữ c là lời giải cho bài substr  </s> <s> </s> <s> typedef long long ll  </s> <s> </s> <s> const int base    </s> <s> const ll mod    </s> <s> const ll maxn    </s> <s> </s> <s> using namespace std  </s> <s> </s> <s> ll pow  maxn  hasht  maxn  </s> <s> </s> <s> </s> <s> ll gethasht  int i  int j   </s> <s> return  hasht  j   hasht  i     pow  j  i     mod  mod   mod  </s> <s>  </s> <s> </s> <s> </s> <s> int main   </s> <s> // input </s> <s> string t  p  </s> <s> cin gtgt t gtgt p  </s> <s> </s> <s> // initialize </s> <s> int lent  t </s> <s> size  lenp  p </s> <s> size  </s> <s> t     t  </s> <s> p     p  </s> <s> pow       </s> <s> </s> <s> // precalculate basei </s> <s> for  int i    i lt lent  i   </s> <s> pow  i    pow  i     base   mod  </s> <s> </s> <s> // calculate hash value of t </s> <s> </s> <s> i </s> <s> for  int i    i lt lent  i   </s> <s> hasht  i    hasht  i     base  t  i   a     mod  </s> <s> </s> <s> // calculate hash value of p </s> <s> ll hashp    </s> <s> for  int i    i lt lenp  i   </s> <s> hashp   hashp  base  p  i   a     mod  </s> <s> </s> <s> // finding substrings of t equal to string p </s> <s> for  int i    i lt lent  lenp    i   </s> <s> if  hashp  gethasht  i  i  lenp    </s> <s> printf  d   i  </s> <s>  </s> <s> </s> <s> đánh giá </s> <s> </s> <s> độ phức tạp của thuật toán là om  n </s> <s> nhưng điều quan trọng là chúng ta có thể kiểm tra  xâu có giống nhau hay không trong o </s> <s> đây là điều tạo nên sự linh động cho thuật toán hash </s> <s> ngoài sự linh động và tốc độ thực thi chúng ta có thể thấy cài đặt thuật toán này thực sự rất đơn giản nếu so với các thuật toán xử lý xâu khác </s> <s> </s> <s> </s> <s> chi tiết cài đặt </s> <s> </s> <s> trong thuật toán hash có hai yếu tố cần quan tâm là hệ cơ số base và modulo mod </s> <s> </s> <s> </s> <s>  </s> <s> chọn số nguyên tố cho hệ cơ số và modulo </s> <s> </s> <s> ý tưởng của thuật toán hash là dựa trên một ngộ nhận sai lầm nhưng xảy ra sai sót với xác suất vô cùng nhỏ a bmod m  b bmod m ltgt a  b </s> <s> để xác suất xảy ra sai là /m cho một truy vấn các bạn cần chọn hệ cơ số và modulo thỏa mãn đồng thời </s> <s> </s> <s> </s> <s> base là số nguyên tố lớn hơn các chữ cái của xâu s </s> <s> </s> <s> mod là số nguyên tố </s> <s> </s> <s> </s> <s> </s> <s> phần chứng minh sai số bạn có thể đọc thêm trong blog rng  tuy nhiên phần chứng minh rất phức tạp nên mình sẽ không trình bày ở đây </s> <s> </s> <s> </s> <s>  </s> <s> chọn hệ cơ số </s> <s> </s> <s> mình khuyến khích các bạn chọn hệ cơ số gt  mình thường chọn là số nguyên tố  </s> <s> nếu bạn chọn hệ cơ số là  bạn chỉ làm việc với xâu gồm toàn các kí tự in thường và phải mã hóa các kí tự từ a đến z thành các số từ  đến  </s> <s> điều này khiến code của bạn bị dài </s> <s> nếu bài toán cho xâu có các kí tự a </s> <s> </s> <s> </s> <s> z a </s> <s> </s> <s> z và  </s> <s> </s> <s> </s> <s>  việc bạn mã hóa chúng thành các số từ  đến  là phức tạp và không cần thiết </s> <s> </s> <s> </s> <s> chưa kể nếu bạn quên mất không  và mã hoá a thành  là hành động tự treo cổ vì rất dễ bị hack </s> <s> </s> <s> </s> <s> nếu bạn chọn hệ cơ số gt  bạn chỉ cần dùng mã ascii của các kí tự là xong và lại tránh bị hack </s> <s> </s> <s> </s> <s>  </s> <s> chọn modulo </s> <s> </s> <s> nếu bạn không hiểu rõ về cách đánh giá độ chính xác của thuật hash trình bày ở mục đánh giá độ chính xác  bạn chỉ cần chọn  số nguyên tố khác nhau làm mod </s> <s> bạn có thể tham khảo code của phạm văn hạnh </s> <s> tuy nhiên các bạn cũng nên lưu ý là dùng nhiều mod quá cũng làm chương trình chạy chậm đi </s> <s> </s> <s> </s> <s>  </s> <s> hash tràn số và hash có mod </s> <s> </s> <s> trên thực tế khi cài đặt hash sử dụng nhiều phép mod sẽ làm chương trình chạy chậm </s> <s> vì vậy để tăng tốc độ người ta thường cài đặt với mod   </s> <s> do đó nếu sử dụng kiểu dữ liệu số bit ta không cần dùng phép mod mà cứ để các phép tính tràn số </s> <s> kĩ thuật này được gọi là hash tràn số </s> <s> tuy nhiên khi cài đặt như vậy có một vài chú ý </s> <s> </s> <s> </s> <s> việc sử dụng mod không phải là số nguyên tố và hơn nữa lại là  số cố định khiến cho hàm hash không đủ tốt </s> <s> nếu test được sinh ngẫu nhiên thì nó không có vấn đề gì cả </s> <s> nhưng ở trên codeforces vì những người thi cùng có thể hack code của bạn bằng test tự sinh nên bạn hầu như không thể ac các bài hash với hash tràn số </s> <s> bạn có thể đọc thêm về cách sinh test giết hash tràn số ở đây </s> <s> cách giải quyết là dùng hash tràn số kết hợp với một mod khác </s> <s> </s> <s> nếu dùng pascal cần tắt báo tràn số  q  nếu không chương trình sẽ chạy bị lỗi </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> một số lời khuyên nho nhỏ </s> <s> </s> <s> chỉ so sánh mã hash của hai xâu có cùng độ dài </s> <s> hiển nhiên hai xâu kí tự không cùng độ dài thì không bằng nhau </s> <s> điều này có thể giảm xác suất rủi ro khi hash một modulo đáng kể </s> <s> </s> <s> </s> <s> ứng dụng </s> <s> </s> <s> như đã đề cập ở trên thuật toán này sẽ có trường hợp chạy sai </s> <s> tất nhiên bên cạnh việc sử dụng hash còn có nhiều thuật toán xử lý xâu chuỗi khác mang lại sự chính xác tuyệt đối </s> <s> tôi tạm gọi những thuật toán đó là ‘thuật toán chuẩn’ </s> <s> việc cài đặt ‘thuật toán chuẩn’ có thể mang lại một tốc độ chạy chương trình cao hơn độ chính xác của chương trình lớn hơn </s> <s> tuy nhiên người làm bài sẽ phải trả giá là sự phức tạp khi cài đặt các ‘thuật toán chuẩn’ đó </s> <s> </s> <s> </s> <s> sử dụng hash không chỉ giúp người làm bài dễ dàng cài đặt hơn mà quan trọng ở chỗ hash có thể làm được những việc mà ‘thuật toán chuẩn’ không làm được </s> <s> sau đây tôi sẽ xét một vài ví dụ để chứng minh điều này </s> <s> </s> <s> </s> <s> longest palindrome substring </s> <s> </s> <s> bài toán đặt ra như sau bạn được cho một xâu s độ dài n n le  </s> <s> bạn cần tìm độ dài của xâu đối xứng dài nhất gồm các kí tự liên tiếp trong s </s> <s> xâu đối xứng là xâu đọc từ  chiều giống nhau </s> <s> </s> <s> </s> <s> </s> <s> một ‘thuật toán chuẩn’ không thể áp dụng vào bài toán này đó là thuật toán kmp </s> <s> ngoài kmp ra có  ‘thuật toán chuẩn’ có thể áp dụng được </s> <s> thuật toán thứ nhất đó là sử dụng thuật toán manacher để tính bán kính đối xứng tại tất cả vị trí trong xâu </s> <s> thuật toán thứ  đó là sử dụng suffix array và lcp longest common prefix cho xâu được nối bởi s và xâu s viết theo thứ tự ngược lại </s> <s>  thuật toán này đều không dễ và nằm ngoài phạm vi bài viết nên tôi chỉ nêu sơ qua mà không đi vào chi tiết </s> <s> </s> <s> bây giờ chúng ta sẽ xét thuật toán ‘không chuẩn’ là thuật toán hash </s> <s> để đơn giản chúng ta xét trường hợp độ dài của xâu đối xứng là lẻ trường hợp chẵn xử lý hoàn toàn tương tự </s> <s> </s> <s> giả sử xâu đối xứng độ dài lẻ dài nhất có độ dài là l </s> <s> dễ thấy trong xâu s tồn tại xâu đối xứng độ dài l− l− </s> <s> </s> <s> </s> <s> tuy nhiên xâu s không tồn tài xâu đối xứng độ dài l l </s> <s> </s> <s> </s> <s> như vậy s thỏa mãn tính chất chia nhị phân </s> <s> chúng ta sẽ chia nhị phân để tìm độ dài lớn nhất có thể </s> <s> với mỗi độ dài l chúng ta cần kiểm tra xem trong xâu có tồn tại một xâu con là xâu đối xứng độ dài l hay không </s> <s> để làm việc này ta duyệt qua tất cả tất cả các xâu con độ dài l trong s </s> <s> </s> <s> bài toán còn lại là kiểm tra xem si </s> <s> </s> <s> j với  le i le j le m j−i bmod    có phải là xâu đối xứng hay không </s> <s> </s> <s> cách làm như sau </s> <s> gọi t là xâu s viết theo thứ tự ngược lại </s> <s> bằng thuật toán hash chúng ta có thể kiểm tra được một xâu con nào đó của t có bằng một xâu con nào đó của s hay không </s> <s> như vậy chúng ta cần kiểm tra si </s> <s> </s> <s> k có bằng tn−j </s> <s> </s> <s> n−k hay không với k là tâm đối xứng nói cách khác k  ij/ </s> <s> như vậy bài toán đã được giải </s> <s> độ phức tạp cho cách làm này là on logn </s> <s> </s> <s> </s> <s> </s> <s> kth alphabetical cyclic </s> <s> </s> <s> bài toán đặt ra như sau bạn được cho một dãy a a </s> <s> </s> <s> </s> <s>  an n le  </s> <s> sắp xếp n hoán vị vòng tròn của dãy này theo thứ tự từ điển </s> <s> cụ thể các hoán vị vòng quanh của dãy này là a a </s> <s> </s> <s> </s> <s>  an a a </s> <s> </s> <s> </s> <s>  an a a a </s> <s> </s> <s> </s> <s>  an a a </s> <s> </s> <s> </s> <s> dãy này có thứ tự từ điển nhỏ hơn dãy kia nếu số đầu tiên khác nhau của dãy này nhỏ hơn dãy kia </s> <s> yêu cầu bài toán là in ra dãy có thứ tự từ điển lớn thứ k </s> <s> </s> <s> </s> <s> </s> <s> bài toán này có thể được giải bằng suffix array tuy nhiên cách cài đặt phức tạp và không phải trọng tâm của bài viết nên tôi sẽ không nêu ra ở đây </s> <s> </s> <s> nếu tiếp cận một cách trực tiếp chúng ta sẽ sinh ra tất cả các dãy hoán vị vòng quanh rồi sau đó dùng một thuật toán sắp xếp để sắp xếp lại chúng theo thứ tự từ điển cuối cùng chỉ việc in ra dãy thứ k sau khi sắp xếp </s> <s> tuy nhiên độ phức tạp của thuật toán này là rất lớn và không thể đáp ứng được yêu cầu về thời gian </s> <s> cụ thể cách này có độ phức tạp là on  logn đây là tích của độ phức tạp của sắp xếp và độ phức tạp của mỗi phép so sánh dãy </s> <s> </s> <s> vẫn giữ tư tưởng là sắp xếp lại tất cả các dãy hoán vị vòng quanh rồi in ra dãy đứng ở vị trí thứ k chúng ta cố gắng cải tiến độ phức tạp của việc so sánh thứ tự từ điển của  dãy </s> <s> </s> <s> nhắc lại định nghĩa về thứ tự từ điển của  dãy xét  dãy a và b có cùng số phần tử </s> <s> gọi ví trí thứ i là vị trí đầu tiên từ trái sang mà ai ne bi </s> <s> a lt b leftrightarrow ai lt bi </s> <s> như vậy ta phải tìm đoạn tiền tố giống nhau dài nhất của a và b rồi so sánh kí tự tiếp theo </s> <s> để tìm được đoạn tiền tố giống nhau dài nhất ta có thể sử dụng hash kết hợp với chia nhị phân </s> <s> </s> <s> để giải được bài này cần sử dụng thêm một kỹ thuật nhỏ nữa thay vì sinh ra tất cả các hoán vị vòng quanh chúng ta chỉ cần nhân đôi dãy a lên dãy mới sẽ có n phần tử a a </s> <s> </s> <s> </s> <s>  an a a </s> <s> </s> <s> </s> <s>  an </s> <s> một hoán vị vòng quanh sẽ là một dãy con liên tiếp độ dài n của dãy nhân đôi này </s> <s> </s> <s> </s> <s> </s> <s> từ đó ta thu được thuật toán với độ phức tạp onlogn </s> <s> </s> <s> longest substring and appear at least k times </s> <s> </s> <s> bài toán đặt ra như sau bạn được cho xâu s độ dài n n le  bạn cần tìm ra xâu con của s có độ dài lớn nhất và xâu con này xuất hiện ít nhất k lần </s> <s> </s> <s> </s> <s> </s> <s> bài toán này có thể được giải bằng suffix array tuy nhiên cách cài đặt phức tạp và không phải trọng tâm của bài viết nên tôi sẽ không nêu ra ở đây </s> <s> </s> <s> tiếp tục bàn đến thuật toán hash để thay thế thuật toán chuẩn </s> <s> nhận xét rằng giả sử độ dài lớn nhất tìm được là l thì với mọi l′ le l luôn tồn tại xâu có độ dài l′ xuất hiện ít nhất k lần </s> <s> tuy nhiên với mọi l′ gt l không tồn tại xâu có độ dài l′ xuất hiện ít nhất k lần do l đã là lớn nhất </s> <s> như vậy l thỏa mãn tính chất chia nhị phân </s> <s> chúng ta có thể áp dụng thuật toán tìm kiếm nhị phân để tìm ra l lớn nhất </s> <s> </s> <s> bây giờ với mỗi l khi đang chia nhị phân chúng ta sẽ phải kiểm tra liệu có tồn tại xâu con nào xuất hiện ít nhất k lần hay không </s> <s> điều này được làm rất đơn giản bằng cách sinh mọi mã hash của các xâu con độ dài k trong s </s> <s> sau đó sắp xếp lại các mã hash này theo chiều tăng dần rồi kiếm tra xem có một đoạn liên tiếp các mã hash nào giống nhau độ dài l hay không </s> <s> </s> <s> như vậy độ phức tạp để chia nhị phân là ologn độ phức tạp của sắp xếp là on logn vậy độ phức tạp của cả bài toán là on logn  </s> <s> </s> <s> </s> <s> </s> <s> đánh giá độ chính xác </s> <s> </s> <s> thông thường khi sử dụng hash ta thường gặp phải  trường hợp như sau </s> <s> </s> <s> </s> <s> trả lời q truy vấn mỗi truy vấn có dạng kiểm tra  đoạn con của  xâu có bằng nhau hay không </s> <s> cho n xâu kiểm tra tất cả các xâu có phân biệt hay không </s> <s> </s> <s> </s> <s> </s> <s> giả sử ta chọn mod là một số nguyên tố khoảng  và giả sử dữ liệu được sinh ngẫu nhiên và hàm hash của chúng ta đủ tốt để hash của các xâu được phân bố đều và ngẫu nhiên </s> <s> </s> <s> </s> <s> trường hợp  </s> <s> </s> <s> giả sử q khoảng  và bộ test có t   test </s> <s> </s> <s> </s> <s> </s> <s> với  xâu khác nhau xác suất để nó có cùng hash là xấp xỉ  /  </s> <s> như vậy xác suất để trả lời đúng  truy vấn là    /  </s> <s> </s> <s> ở trường hợp xấu nhất ta có q truy vấn mà mỗi truy vấn là một cặp xâu khác nhau </s> <s> xác suất để ta trả lời đúng tất cả các truy vấn là    / q </s> <s> </s> <s> xác suất để ta trả lời đúng tất cả các truy vấn của tất cả các test là    / q  t </s> <s> </s> <s> </s> <s> </s> <s> thay số vào xác suất để trả lời đúng tất cả các truy vấn là  </s> <s>  đủ lớn để ta yên tâm qua tất cả các test với điều kiện test không được sinh dựa trên p </s> <s> chú ý nếu bạn đang thi những contest như topcoder/codeforces người khác có thể đọc được p của bạn và sinh test để challenge code của bạn </s> <s> </s> <s> </s> <s> trường hợp  </s> <s> </s> <s> theo birthday paradox  ta dễ dàng thấy rằng nếu có sqrtp   xâu xác suất để  xâu bằng nhau là rất lớn </s> <s> thật vậy xác suất để tất cả các xâu khác nhau là </s> <s> </s> <s>    /      /      /   </s> <s> </s> <s> </s> <s>   n /  </s> <s> </s> <s> </s> <s> với n   tích trên là  </s> <s>  nghĩa là bạn có gần  </s> <s>  xác suất trả lời sai </s> <s> do vậy bạn bắt buộc phải dùng nhiều mod khác nhau </s> <s> </s> <s> </s> <s> tổng kết </s> <s> </s> <s> thuật toán </s> <s> </s> <s> ý tưởng thuật toán hash dựa trên việc đổi từ hệ cơ số lớn sang hệ thập phân so sánh hai số thập phân lớn bằng cách so sánh phần dư của chúng với một số đủ lớn </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> khi cài đặt hash ta cần chọn </s> <s> </s> <s> </s> <s> hệ cơ số </s> <s> mod </s> <s> </s> <s> </s> <s> với những trang web mà người khác có thể đọc code bạn rồi tìm test sai như codeforces topcoder nếu hash tràn số hoặc mod là  số nguyên biết trước có thể sinh test để làm code bạn sai </s> <s> với những kỳ thi như hsg qg ioi acm và các online judge thông thường sẽ không có những test như vậy </s> <s> tóm lại khi chọn mod và hệ cơ số ta làm như sau </s> <s> </s> <s> </s> <s> chọn hệ cơ số là số nguyên tố lớn hơn số lượng ký tự ví dụ   </s> <s> </s> <s> chọn mod đủ lớn theo nguyên tắc đã phân tích ở phần đánh giá độ chính xác </s> <s> </s> <s> nếu là topcoder hoặc codeforces dùng kết hợp hash tràn số và  mod đủ lớn </s> <s> </s> <s> nếu không phải topcoder hay codeforces có thể dùng hash tràn số </s> <s> nếu mod   chưa đủ lớn thì dùng thêm  mod nữa </s> <s> </s> <s> </s> <s> </s> <s> ưu điểm </s> <s> </s> <s> ưu điểm của thuật toán hash là cài đặt rất dễ dàng </s> <s> linh động trong ứng dụng và có thể thay thế các thuật toán chuẩn ‘hầm hố’ khác </s> <s> </s> <s> </s> <s> nhược điểm </s> <s> </s> <s> nhược điểm của thuật toán hash là tính chính xác </s> <s> mặc dù rất khó sinh test để có thể làm cho thuật toán chạy sai nhưng không phải là không thể </s> <s> vì vậy để nâng cao tính chính xác của thuật toán người ta thường dùng nhiều modulo khác nhau để so sánh mã hash ví dụ như dùng  modulo một lúc </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> voj  substr </s> <s> voj  paliny </s> <s> voj  dtksub </s> <s> voj  dtcstr </s> <s> voj  twoopers </s> <s> voj  vostr </s> <s> sgu  </s> <s> </s> <s> </s> <s> các nguồn tham khảo </s> <s> </s> <s> </s> <s> wikipedia  string searching algorithm </s> <s> wikipedia  kmp </s> <s> wikipedia  rabin karp </s> <s> wikipedia  alphabetical order </s> <s> </s> <s> </s> <s> </s> <s> nhập môn quy hoạch động </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/dynamicprogramming </s> <s> </s> <s> </s> <s> </s> <s> nguồn topcoder </s> <s> </s> <s> </s> <s> có rất nhiều bài toán được áp dụng quy hoạch động qhđ  dynamic programming  </s> <s> qhđ là một trong những kĩ thuật quan trọng </s> <s> bài viết này sẽ giúp bạn hiểu được qhđ thông qua các ví dụ cụ thể </s> <s> </s> <s> </s> <s> note trong bài này có thể có nhiều phần bạn đã biết bạn hoàn toàn có thể chuyển qua đọc phần khác </s> <s> </s> <s> </s> <s> beginner </s> <s> </s> <s> qhđ là gì  </s> <s> </s> <s> qhđ là kĩ thuật được được dùng khi có một công thức và một hoặc một vài trạng thái bắt đầu </s> <s> một bài toán được tính bởi các bài toán nhỏ hơn đã tìm ra trước đó </s> <s> qhđ có độ phức tạp đa thức nên sẽ chạy nhanh hơn quay lui và duyệt trâu </s> <s> </s> <s> </s> <s> để hiểu rõ hơn hãy xem ví dụ sau </s> <s> </s> <s> </s> <s> cho n đồng xu và giá tiền của mỗi đồng vv </s> <s> </s> <s> </s> <s> vn~ và số s </s> <s> tìm số đồng xu nhỏ nhất để tổng giá trị của chúng bằng s số lượng đồng xu không giới hạn </s> <s> </s> <s> </s> <s> </s> <s> bây giờ chúng ta sẽ xây dựng thuật giải </s> <s> </s> <s> đầu tiên cần tìm một trạng thái của bài toán </s> <s> </s> <s> </s> <s> trạng thái là gì  </s> <s> </s> <s> trạng thái là một trường hợp một bài toán con của bài toán lớn </s> <s> </s> <s> </s> <s> ví dụ trạng thái trong bài này là số lượng xu nhỏ nhất để tổng bằng i với i le s </s> <s> để tìm ra trạng thái i cần phải tìm tất cả các trạng thái j mà j lt i </s> <s> một khi đã tìm ra trạng thái i ta có thể dễ dàng tìm ra trạng thái của i </s> <s> </s> <s> </s> <s> làm thế nào để tìm được  </s> <s> </s> <s> với mỗi j vj le i tìm số đồng xu nhỏ nhất để tổng bằng ivj </s> <s> giả sử nó bằng m </s> <s> nếu m nhỏ hơn số lượng đồng xu hiện tại cho tổng i thì ta cập nhập nó bằng m </s> <s> </s> <s> </s> <s> sau đây là ví dụ </s> <s> cho các đồng xu với giá tiền   và  </s> <s> </s> <s> và s   </s> <s> </s> <s> </s> <s> đầu tiên ta bắt đầu từ trạng thái  chúng ta có f   </s> <s> </s> <s> xét đến tổng  </s> <s> có duy nhất đồng xu  nhỏ hơn hoặc bằng tổng  nên ta có f  fv    f     </s> <s> </s> <s> xét đến tổng  </s> <s> cũng giống như tổng trước chỉ có  đổng xu le  có f  fv    f   </s> <s> đến tổng  </s> <s> lần này có  đồng xu le  là  và  </s> <s> </s> <s>  nếu ta chọn đồng  ta có f  fv    f     </s> <s>  nếu ta chọn đồng  ta có f  fv    f     </s> <s> rõ ràng là  le  nên ta chọn đồng  và f   </s> <s> xét tiếp đến tổng  rồi đến  bằng cách như trên </s> <s> </s> <s> </s> <s> mã giả </s> <s> </s> <s> gán mini bằng dương vô cùng với mọi i </s> <s> min </s> <s> </s> <s> for i   to s </s> <s> for j   to n   </s> <s> if vjlti and minivjltmini </s> <s> then miniminivj </s> <s> output mins </s> <s> </s> <s> </s> <s> đây là lời giải cho tất cả các tổng </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> tổng </s> <s> lượng xu nhỏ nhất </s> <s> xu được chọn </s> <s> tổng còn lại </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>   </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vậy là chúng ta đã tìm được lời giải cho  đồng xu tổng bằng  </s> <s> </s> <s> dựa vào bảng trên ta có thể truy vết lại được những đồng xu nào được chọn để tối ưu bài toán </s> <s> </s> <s> bài qhđ trên còn có một cách tiếp cận khác nữa </s> <s> lần này ta sẽ không tính liên tiếp các tổng </s> <s> bắt đầu từ trạng thái  </s> <s> thử nhét đồng xu thứ  vào các tổng đã tính </s> <s> nếu như tổng t có số đồng xu ít hơn số đồng xu hiện tại thì tiến hành cập nhật </s> <s> rồi tiếp tục thử với đồng thứ   cho đến khi thử hết các đồng </s> <s> ví dụ nhét đồng  giá trị  vào tổng  ta có tổng  </s> <s> vì ta chưa tính tổng  nên s   </s> <s> nhét đồng  vào tổng  ta có s   </s> <s> tiếp tục làm như vậy với các tổng còn lại </s> <s> sau đồng  ta nhét đồng giá trị  vào tổng  ta được  mà s   gt  ta cập nhật s   </s> <s> tiếp tục nhét đồng  vào các tổng còn lại cũng nhứ thử nhét các đồng xu khác </s> <s> </s> <s> </s> <s> elementary </s> <s> </s> <s> bây giờ chúng ta cùng đến một khái niệm mới công thức truy hồi recurrent relation  mối liên hệ giữa những trạng thái </s> <s> </s> <s> </s> <s> ví dụ </s> <s> cho một dãy n số  a a </s> <s> </s> <s> </s> <s>  an </s> <s> tìm dãy con không giảm dài nhất </s> <s> </s> <s> </s> <s> ta quy định trạng thái si là dãy con không giảm dài nhất kết thúc tại ai </s> <s> với igt và jlti tính được i khi tồn tại aj le ai vì đây là dãy không giảm </s> <s> khi đó si  maxsi sj   </s> <s> tiếp tục tính như vậy cho đến khi đến được trạng thái sn </s> <s> </s> <s> </s> <s> hãy xem bảng sau với dãy       </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> i </s> <s> độ dài dãy con </s> <s> không giảm dài nhất </s> <s> của i số đầu tiên </s> <s> vị trí của kí tự cuối </s> <s> trong dãy </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bài luyện tập </s> <s> cho đồ thị vô hướng g có n đỉnh n le  và các cạnh có trọng số dương </s> <s> tìm đường đi ngắn nhất từ đỉnh  đến đỉnh n hoặc thông báo không tồn tại đường đi </s> <s> </s> <s> gợi ý tại mỗi bước chọn ra trong số các đỉnh chưa thăm mà có đường đi từ  chọn ra đỉnh có đường đi ngắn nhất </s> <s> </s> <s> </s> <s> các bài ví dụ khác </s> <s> </s> <s> </s> <s> </s> <s> zigzag –  tccc semifinals  </s> <s> </s> <s> </s> <s> badneighbors –  tccc round  </s> <s> </s> <s> </s> <s> flowergarden –  tccc round  </s> <s> </s> <s> </s> <s> </s> <s> intermediate </s> <s> </s> <s> tới đây bạn sẽ được làm quen với qhđ  chiều </s> <s> </s> <s> </s> <s> bài toán </s> <s> cho một bảng m  n mỗi ô có một lượng táo </s> <s> bắt đầu từ ô trái trên mỗi bước có thể đi sang phải hoặc xuống dưới </s> <s> bạn có thể ăn được nhiều nhất bao nhiêu quả táo  </s> <s> </s> <s> cách giải bài này cũng tương tự như những bài trước </s> <s> </s> <s> </s> <s> đầu tiên là phải xác định trạng thái là gì </s> <s> ở mỗi ô có nhiều nhất  cách có thể tới được ô đó từ ô bên trái và ô phía trên </s> <s> do vậy để tìm trạng thái hiện tại ta phải tính trước các ô có thể đến được nó </s> <s> </s> <s> </s> <s> ta có công thức truy hồi sau </s> <s> sijaij  maxsij if  igt  sij if jgt </s> <s> trong đó i là hàng j là cột aij là số táo ở ô ij </s> <s> sij có thể được tính từ trái sang phải từ trên xuống dưới hoặc từ trên xuống từ trái sang </s> <s> </s> <s> </s> <s> mã giả </s> <s> </s> <s> for i   to n   </s> <s> for j   to m   </s> <s> sij  aij  </s> <s> maxsij if jgt  sij if igt   </s> <s> </s> <s> output snm </s> <s> </s> <s> </s> <s> ví dụ khác </s> <s> </s> <s> </s> <s> </s> <s> avoidroads –  tco semifinals  </s> <s> </s> <s> chessmetric –  tccc round  </s> <s> </s> <s> </s> <s> upperintermediate </s> <s> </s> <s> phần này sẽ giới thiệu với bạn những bài toán cùng với một số điều kiện </s> <s> </s> <s> </s> <s> đây là một ví dụ cụ thể </s> <s> </s> <s> cho đồ thị vô hướng g có trọng số dương và n đỉnh </s> <s> </s> <s> </s> <s> ban đầu bạn có số tiền là m </s> <s> để đi qua đỉnh i bạn phải trả số tiền là si </s> <s> và đương nhiên nếu không đủ tiền thì bạn không đi được </s> <s> tìm đường đi ngắn nhất từ  tới n thỏa mãn tiêu chí trên </s> <s> nếu có nhiều đường ngắn nhất in ra đường với chi phí nhỏ nhất </s> <s> giới hạn ltn le    le m le   le si le  </s> <s> </s> <s> </s> <s> có thể dễ dàng thấy đây là một bài dijkstra cơ bản tuy nhiên chỉ khác ở chỗ nó có thêm một điều kiện </s> <s> trong bài toán dijkstra cơ bản ta có mini  là độ dài đường đi ngắn nhất từ  tới i </s> <s> còn ở đây chúng ta cần phải quan tâm đến số tiền còn lại </s> <s> do đó chúng ta có thể mở rộng mảng này thành minij  là độ dài đường đi ngắn nhất tới i và còn lại số tiền là j </s> <s> bằng cách này bài toán đã được đưa về bài toán dijkstra quen thuộc </s> <s> tại mỗi bước ta tìm trạng thái ij có quãng đường ngắn nhất đánh dấu là đã thăm rồi update cho các trạng thái cạnh nó </s> <s> đáp án sẽ là minnj có giá trị nhỏ nhất và j lớn nhất trong số các minnj có cùng giá trị </s> <s> </s> <s> </s> <s> mã giả </s> <s> </s> <s> gán mọiij là chưa thăm </s> <s> gán minij bằng dương vô cùng với mọi ij </s> <s> </s> <s> minm </s> <s> </s> <s> whiletrue </s> <s> </s> <s> trong số những trạng thái chưa thăm ij tìm cái có minij </s> <s> nhỏ nhất </s> <s> giải sử nó là kl </s> <s> </s> <s> </s> <s> nếu không tìm được kl nào mà minkl nhỏ hơn dương vô cùng  thoát vòng lặp </s> <s> </s> <s> </s> <s> đánh dấu kl đã thăm </s> <s> </s> <s> for all neighbors p of vertex k </s> <s> </s> <s> if lspgt and </s> <s> minplspgtminkldistkp </s> <s> then minplspminkldistkp </s> <s> i </s> <s> e </s> <s> </s> <s> nếu tại ij có đủ tiền để đi qua p lsp là số tiền còn lại sau khi đi qua p và đường đi ngắn nhất của plsp lớn hơn đường đi ngắn nhất tới kl  khoảng cách từ k tới p </s> <s> thì gán ij bằn tổng này </s> <s> </s> <s> end for </s> <s> </s> <s> end while </s> <s> </s> <s> tìm số nhỏ nhất trong các minnj for all j ltjltm </s> <s> nếu có nhiều hơn một trạng thái lấy trạng thái nào có j lớn nhất </s> <s> nếu không có nj nào nhỏ hơn dương vô cùng  không tồn tại đường đi </s> <s> </s> <s> </s> <s> </s> <s> các bài luyện tập </s> <s> </s> <s> </s> <s> </s> <s> jewelry –  tco online round  </s> <s> </s> <s> stripepainter – srm  div  </s> <s> </s> <s> quicksums – srm  div  </s> <s> </s> <s> shortpalindromes – srm  div  </s> <s> </s> <s> </s> <s> advanced </s> <s> </s> <s> những bài sau đây sẽ cần một chút kĩ năng phân tích để có thể tối ưu chúng thành bài qhđ </s> <s> </s> <s> </s> <s> problem staradventure – srm  div  </s> <s> </s> <s> cho ma trận m hàng n cột n  m </s> <s> mỗi ô có một lượng táo </s> <s> </s> <s> bạn đang ở ô góc trái trên </s> <s> bạn chỉ có thể đi xuống hoặc sang phải </s> <s> bạn cần tới ô góc phải dưới </s> <s> rồi quay lại ô trái trên bằng cách lên hoặc sang trái </s> <s> cuối cùng bạn quay lại ô phải dưới </s> <s> </s> <s> tìm số táo nhiều nhất mà bạn có thể ăn được </s> <s> </s> <s> khi đi qua một ô toàn bộ táo của ô đấy sẽ bị ăn hết </s> <s> </s> <s> </s> <s> giới hạn  lt n m le  mỗi ô có từ  đến  quả táo </s> <s> </s> <s> </s> <s> đọc đến đây hẳn bạn sẽ thấy cái đề này quen quen nó chính là bài mở rộng của bài toán phần intermediate </s> <s> ta có thể thử đưa bài toán này về thành bài toán trên </s> <s> để ý thấy đường đi từ ô góc phải dưới lên trái trên cũng có thể coi là một đường đi từ góc trái trên xuống </s> <s> như vậy chúng ta phải xử lý bài toán với  đường đi từ trái trên xuống </s> <s> gọi  đường này là trái giữa và phải </s> <s> khi  đường giao nhau như hình dưới </s> <s> </s> <s> </s> <s> </s> <s> thì nó cũng tương đương với hình sau </s> <s> </s> <s> </s> <s> </s> <s> bằng cách này chúng ta đã có một cái nhìn khác về bài toán </s> <s> các đường này sẽ không giao nhau trừ ô góc trái trên và phải dưới </s> <s> với mỗi hàng y không phải hàng đầu và cuối tọa độ x ở mỗi đường sẽ là xy  xy và xy   xy lt xy lt xy </s> <s> ta xét hàng thứ y </s> <s> giả sử ta xét xy  xy and xy và số táo hiện giờ thu được là nhiều nhất </s> <s> từ đó ta có thể tối ưu cho hàng y </s> <s> chúng ta cần tìm cách chuyển trạng thái </s> <s> gọi maxijk là lượng táo nhiều nhất thu được đến hàng y với  đường đang dừng ở cột i j và k </s> <s> với hàng y thêm vào maxijk số lượng táo ở các ô yi  yj and yk </s> <s> vì chúng ta đang đi xuống </s> <s> sau đó chúng ta xét đến những đường có thể sang phải </s> <s> để tránh việc giao nhau ta xét lần lượt các bước ở trái phải rồi giữa </s> <s> </s> <s> </s> <s> bài luyện tập thêm </s> <s> </s> <s> </s> <s> </s> <s> minipaint – srm  div  </s> <s> </s> <s> </s> <s> note </s> <s> khi gặp một bài toán hãy để ý xem nó có được giải trong thời gian đa thức không </s> <s> nếu có thử xác định trạng thái của nó cách chuyển trạng thái và nếu không chuyển được trạng thái hãy thử tối ưu nó về một bài qhđ như ví dụ ở trên </s> <s> </s> <s> </s> <s> những bài đã đề cập ở trên </s> <s> </s> <s> </s> <s> tccc ’ semifinals  div i easy – </s> <s> zigzag </s> <s> </s> <s> tccc ’ round  div i easy – </s> <s> badneighbors </s> <s> </s> <s> tccc ’ round  div i med – </s> <s> flowergarden </s> <s> </s> <s> tco ’ semifinals  div i easy – </s> <s> avoidroads </s> <s> </s> <s> tccc ’ round  div i easy – </s> <s> chessmetric </s> <s> </s> <s> tco ’ round  div i med – </s> <s> jewelry </s> <s> </s> <s> srm  div i med – </s> <s> stripepainter </s> <s> </s> <s> srm  div ii hard – </s> <s> quicksums </s> <s> </s> <s> srm  div ii hard – </s> <s> shortpalindromes </s> <s> </s> <s> srm  div i hard – </s> <s> staradventure </s> <s> </s> <s> srm  div i hard – </s> <s> minipaint </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bảng băm hash table </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/hashtable </s> <s> </s> <s> </s> <s> </s> <s> tư tưởng </s> <s> </s> <s> bảng băm là một ctdl thường được sử dụng như một từ điển mỗi phần tử trong bảng băm là một cặp khóa giá trị </s> <s> nếu so sánh với mảng khóa được xem như chỉ số của mảng còn giá trị giống như giá trị mà ta lưu tại chỉ số tương ứng </s> <s> bảng băm không như các loại từ điển thông thường  ta có thể tìm được giá trị thông qua khóa của nó </s> <s> </s> <s> </s> <s> không may không phải tất cả các kiểu dữ liệu đều có thể sắp xếp vào một từ điển đơn giản </s> <s> đây chính là lúc mà quá trình băm hash ra đời </s> <s> hash là quá trình khởi tạo một giá trị khóa thường là  bit hoặc  bit từ một phần dữ liệu </s> <s> nó có thể là n bit đầu tiên của dữ liệu n bit cuối cùng giá trị mod cho một số nguyên tố nào đó </s> <s> dựa theo giá trị hash dữ liệu được chia vào các bucket  </s> <s> </s> <s> </s> <s> </s> <s> giải thích hình minh họa </s> <s> </s> <s> </s> <s> ta cần lưu số điện thoại của  người </s> <s> </s> <s> </s> <s> john smith  </s> <s> lisa smith  </s> <s> sandra dee  </s> <s> </s> <s> </s> <s> giá trị hash của  người này lần lượt là   và  </s> <s> </s> <s> sau khi tính được giá trị hash của  người ta lưu vào các bucket tương ứng là   và  </s> <s> </s> <s> </s> <s> </s> <s> nếu các kết quả của hàm hash được phân bố đều các bucket sẽ có kích thước xấp xỉ nhau </s> <s> giả sử số bucket đủ lớn mỗi buckets sẽ chỉ có một vài phần tử trong chúng </s> <s> điều này làm cho việc tìm kiếm rất hiệu quả </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> gọi </s> <s> </s> <s> </s> <s> n là số phần tử ta cần lưu trong hash table </s> <s> k là số bucket </s> <s> </s> <s> </s> <s> giá trị n/k được gọi là load factor </s> <s> khi load factor nhỏ xấp xỉ  và giá trị của hàm hash phân bố đều độ phức tạp của các thao tác trên hash table là mathcalo </s> <s> </s> <s> </s> <s> hash collision </s> <s> </s> <s> separate chaining </s> <s> </s> <s> trường hợp một hash bucket chứa nhiều hơn một giá trị ta gọi đó là hash collision va chạm </s> <s> việc xử lý hash collision rất quan trọng đối với độ hiệu quả của bảng băm </s> <s> một trong những phương pháp đơn giản nhất là cài đặt các danh sách liên kết ở các bucket </s> <s> kĩ thuật này được gọi là separate chaining  </s> <s> </s> <s> </s> <s> </s> <s> giải thích hình minh họa </s> <s> </s> <s> </s> <s> mỗi bucket là  danh sách liên kết </s> <s> john smith và sandra dee cùng có giá trị hàm hash là  nên ở bucket  ta có  danh sách liên kết chứa  phần tử </s> <s> </s> <s> </s> <s> </s> <s> open addressing </s> <s> </s> <s> tư tưởng của open addressing là khi xảy ra hash collision ta lưu vào một vị trí tiếp theo trong bảng băm </s> <s> ví dụ </s> <s> </s> <s> </s> <s> </s> <s> trong hình minh họa </s> <s> </s> <s> </s> <s> john smith và sandra dee đều có giá trị hash là  </s> <s> vì ta đã lưu john smith vào bucket  nên ta buộc phải lưu sandra dee vào bucket  </s> <s> </s> <s> ted baker có giá trị hash là  nhưng lúc này bucket  đã lưu thông tin của sandra dee nên ta phải lưu giá trị của ted baker vào bucket  </s> <s> </s> <s> </s> <s> </s> <s> chú ý  </s> <s> </s> <s> </s> <s> để cài đặt được cách này load factor phải nhỏ hơn  </s> <s> </s> <s> khi tìm kiếm  phần tử ta phải kiểm tra tất cả các bucket bắt đầu từ bucket của giá trị hash đến khi bucket trống ví dụ ta tìm sandra dee thì phải tìm bucket   tìm ted baker thì phải tìm bucket    </s> <s> nếu ta tìm  người khác có giá trị hash là  thì phải tìm cả bucket    và  chỉ khi bucket  trống ta mới chắc chắn người đó không có trong hash table </s> <s> </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> dưới đây là cài đặt hash table đơn giản hỗ trợ thao tác thêm và tìm kiếm </s> <s> hash table này sử dụng separate chaining và dùng vector thay cho linked list để đơn giản </s> <s> </s> <s> </s> <s> const int p  e    </s> <s> </s> <s> struct hashtable  </s> <s> vector lt pair lt int  int gt gt h  p  </s> <s> </s> <s> public  </s> <s> void insert  int key  int value   </s> <s> int hkey  gethash  key  </s> <s> for  auto p  h  hkey   </s> <s> if  p </s> <s> first  key   </s> <s> // key da ton tai trong hash table ta bo qua </s> <s> return  </s> <s>  </s> <s>  </s> <s> // them key value vao hash table </s> <s> h  hkey  </s> <s> emplaceback  key  value  </s> <s>  </s> <s> </s> <s> int find  int key   </s> <s> int hkey  gethash  key  </s> <s> for  auto p  h  hkey   </s> <s> if  p </s> <s> first  key   </s> <s> // ton tai key trong hash table return value </s> <s> return p </s> <s> value  </s> <s>  </s> <s>  </s> <s> // khong tim thay </s> <s> return   </s> <s>  </s> <s> </s> <s> private  </s> <s> int gethash  int key   </s> <s> // cho  key tra lai hash value la key  p </s> <s> return key  p  </s> <s>  </s> <s>  </s> <s> </s> <s> kết luận </s> <s> </s> <s> trong phát triển ứng dụng bảng hash thuận tiện để lưu trữ dữ liệu tham khảo chẳng hạn như chữ viết tắt tên đầy đủ của các tổ chức </s> <s> trong giải quyết bài toán bảng hash thật sự hữu ích để tiếp cận hướng giải quyết chia để trị cho bài toán cái túi knapsacktype </s> <s> </s> <s> </s> <s> giả sử chúng ta được yêu cầu tìm một số lượng ống nhỏ nhất để xây dựng một đường ống với chiều dài cố định và chúng ta có  ống </s> <s> bằng cách chia thành hai tập –  và tính toán tất cả trường hợp ghép ống có thể ở mỗi tập chúng ta tạo ra một bảng hash kết nối giữa độ dài mà các tổ hợp ống tạo thành với số lượng ống ít nhất cần dùng </s> <s> sau đó với mỗi tổ hợp ống được xây dựng trong một tập chúng ta có thể tra cứu liệu có tồn tại đường ống với độ dài phù hợp ở tập bên kia để cả hai ống tạo nên một đường ống với độ dài yêu cầu với số ống là ít nhất </s> <s> </s> <s> </s> <s> các tài liệu tham khảo </s> <s> </s> <s> </s> <s> topcoder </s> <s> wikipedia </s> <s> </s> <s> </s> <s> </s> <s> tầm quan trọng của thuật toán </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/theimportanceofalgorithm </s> <s> </s> <s> </s> <s> </s> <s> bài viết gốc the importance of algorithms  đăng bởi lbackstrom trên topcoder </s> <s> </s> <s> mở đầu </s> <s> </s> <s> để hiểu được tầm quan trọng của việc học và hiểu về thuật toán đầu tiên ta cần định nghĩa chính xác thuật toán là gì </s> <s> theo như cuốn sách nổi tiếng introduction to algorithms mở đầu về thuật toán thì thuật toán là một quá trình tính toán cụ thể trong đó lấy một hay nhiều giá trị làm đầu vào  input  và cho ra một hay nhiều giá trị kết quả  output  </s> <s> nói cách khác thuật toán giống như bản đồ chỉ đường giúp ta giải quyết một vấn đề rõ ràng cụ thể </s> <s> ví dụ nhiều dòng code để tính dãy fibonacci là một cách cài đặt của một thuật toán nào đó </s> <s> một hàm để cộng hai số cũng được gọi là một thuật toán mặc dù nó rất đơn giản </s> <s> </s> <s> </s> <s> một số thuật toán như thuật để tính dãy fibonacci khá trực quan và ta có thể suy ra nhờ vào suy luận logic cũng như kĩ năng giải bài </s> <s> tuy nhiên đối với những thuật toán phức tạp hơn chúng ta cần học và hiểu để làm nền tảng cho việc giải quyết những bài toán khó hơn </s> <s> trong cuộc sống hàng ngày những việc tưởng chừng như đơn giản như kiểm tra email hay nghe nhạc đều đòi hỏi những thuật toán rất phức tạp </s> <s> trong bài viết này chúng ta sẽ cùng xem một vài ví dụ về cách áp dụng thuật toán </s> <s> </s> <s> </s> <s> phân tích thời gian thực hiện thuật toán </s> <s> </s> <s> một trong những yếu tố quan trọng nhất của một thuật toán là việc nó chạy nhanh hay chậm </s> <s> nghĩ ra một thuật để giải một bài toán là việc dễ nhưng để nó có ý nghĩa trong thực tế thì thuật toán phải chạy đủ nhanh </s> <s> tốc độ của một thuật tùy thuộc vào tốc độ máy cũng như chi tiết cài đặt các nhà khoa học máy tính thường đề cập đến runtime thời gian chạy tương ứng với kích thước input </s> <s> ví dụ nếu input gồm n số một thuật toán có thời gian chạy tỉ lệ thuận với n được kí hiệu là on </s> <s> ký hiệu này nghĩa là khi máy tính chạy một chương trình cài đặt thuật toán trên với độ lớn input là n chương trình sẽ tốn cn giây với c là một hằng số không phụ thuộc vào kích thước input </s> <s> </s> <s> </s> <s> tuy nhiên thời gian chạy thực tế của nhiều thuật toán phức tạp còn phụ thuộc nhiều yếu tố khác ngoài độ lớn input </s> <s> ví dụ một thuật toán sắp xếp sẽ chạy nhanh hơn nhiều khi được xử lí một dãy số đã sắp xếp sẵn so với khi phải giải quyết một dãy số lộn xộn </s> <s> từ đó sinh ra hai khái niệm thời gian chạy tối đa và thời gian chạy trung bình </s> <s> thời gian chạy tối đa là thời gian thuật toán cần để xử lí input trong trường hợp tồi nhất </s> <s> thời gian chạy trung bình là thời gian trung bình cho mọi input có thể xuất hiện </s> <s> trong  thuật ngữ thời gian tối đa thường dễ phân tích hơn nên nó thường được sử dụng để đánh giá các thuật toán </s> <s> việc tính toán độ phức tạp nhiều lúc không đơn giản vì ta không thể kiểm tra được hết mọi trường hợp </s> <s> bạn có thể tìm đọc thêm về một số kĩ năng tính toán độ phức tạp ở các nguồn khác </s> <s> </s> <s> </s> <s> ước tính thời gian chạy của các thuật n   </s> <s> </s> <s> </s> <s> ologn  giây </s> <s> on  giây </s> <s> onlogn  giây </s> <s> on  giây </s> <s> on  phút </s> <s> on  năm </s> <s> on  năm </s> <s> </s> <s> </s> <s> sắp xếp </s> <s> </s> <s> thuật toán sắp xếp là một thuật toán rất hay được sử dụng trong khoa học máy tính </s> <s> cách đơn giản nhất để sắp xếp một nhóm đồ vật là lấy ra món đồ nhỏ nhất và đặt lên đầu </s> <s> ta lại lấy ra món đồ nhỏ thứ hai và đặt cạnh món đầu tiên cứ thế tiếp tục </s> <s> đáng tiếc độ phức tạp của thuật toán này là on tức thời gian chạy của thuật sẽ tương ứng với bình phương độ lớn input </s> <s> nếu cần sắp xếp  tỉ số thuật sẽ cần  câu lệnh máy tính instructions </s> <s> để dễ hình dung thì một chiếc máy tính hiện đại mỗi giây chỉ giải quyết được gần  câu lệnh và sẽ cần nhiều năm mới sắp xếp xong  tỉ con số nói trên </s> <s> </s> <s> </s> <s> may thay có nhiều thuật toán sắp xếp khác hiệu quả hơn như quick sort  heap sort  merge sort  </s> <s> </s> <s> </s> <s> nhiều thuật có độ phức tạp chỉ onlogn </s> <s> độ phức tạp nhỏ hơn rút ngắn rất nhiều thời gian để sắp xếp  tỉ con số đến mức một chiếc máy tính bình thường nhất cũng thực hiện được trong chưa đến một phút </s> <s> thay vì  câu lệnh máy chỉ phải thực hiện  </s> <s> </s> <s> </s> <s> đường đi ngắn nhất </s> <s> </s> <s> thuật toán tìm đường đi ngắn nhất giữa hai điểm đã được nghiên cứu từ rất lâu </s> <s> ứng dụng của thuật toán này rất nhiều nhưng tạm thời hãy xét bài toán cơ bản nhất tìm đường đi ngắn nhất từ a đến b trong một thành phố với một số con đường và giao lộ </s> <s> có rất nhiều thuật toán được phát triển để giải quyết các bài kiểu này với mỗi phương pháp có ưu nhược điểm riêng </s> <s> trước khi tìm hiểu về chúng hãy xem thử thuật trâu  xét hết các khả năng  sẽ mất bao lâu để giải </s> <s> đáng tiếc ta sẽ không sống đủ lâu để biết kết quả từ phương pháp này  cho dù a và b đều ở trong một thị trấn nhỏ bởi độ phức tạp của thuật là oc  n với c là hằng số </s> <s> dù c có nhỏ c  n sẽ trở nên lớn khủng khiếp ngay cả với các giá trị vừa phải của n </s> <s> </s> <s> </s> <s> một trong những thuật toán nhanh nhất để giải quyết bài toán này có độ phức tạp oe  logv với e là số đường đi v là số giao lộ </s> <s> để dễ hình dung thuật toán sẽ mất  giây để tìm đường đi ngắn nhất trong thành phố có  giao lộ và  con đường </s> <s> thuật toán này  djikstra  khá phức tạp và đòi hỏi sử dụng cấu trúc dữ liệu hàng đợi ưu tiên priority queue </s> <s> tuy nhiên có những trường hợp mà ngay cả djisktra cũng trở nên quá chậm ví dụ đường đi ngắn nhất từ hà nội đến sillicon valley  có đến hàng tỉ giao lộ các lập trình viên sẽ sử dụng heuristics </s> <s> heuristics là một hàm xấp xỉ của một tính chất của bài toán </s> <s> ví dụ trong bài toán này  heuristic có thể là khoảng cách đường chim bay giữa  điểm </s> <s> sử dụng heuristic chúng ta có thể tìm được lời giải nhanh hơn ví dụ thuật toán a có thể chạy nhanh hơn dijkstra trong nhiều trường hợp </s> <s> phương pháp này không phải lúc nào cũng rút ngắn thời gian chạy của thuật trong trường hợp tệ nhất nhưng nó hiệu quả với phần lớn trường hợp trong thực tế </s> <s> </s> <s> </s> <s> thuật toán xấp xỉ </s> <s> </s> <s> thế nhưng đôi khi ngay cả với thuật mạnh nhất dùng heuristics tốt nhất chạy trên máy tính nhanh nhất cũng trở nên quá chậm </s> <s> đối với các trường hợp này ta buộc phải hi sinh phần nào sự chính xác của kết quả </s> <s> thay vì cố đi tìm đường đi ngắn nhất ta đã có thể thỏa mãn với một con đường không dài hơn  so với kết quả tối ưu </s> <s> </s> <s> </s> <s> thực tế có nhiều bài toán quan trọng mà thuật tối ưu của chúng quá chậm và không sử dụng được </s> <s> nhóm bài nổi tiếng nhất cho tính cách này được gọi là np  nondeterministic polynomial </s> <s> khi một bài toán nào đó được cho là nphard hay npcomplete đồng nghĩa không ai biết thuật toán tối ưu của nó </s> <s> hơn nữa nếu ai đó nghĩ ra được thuật tối ưu cho một bài toán npcomplete thuật đó cũng áp dụng được cho mọi bài toán npcomplete khác </s> <s> </s> <s> </s> <s> một ví dụ nổi tiếng của nphard là bài toán người bán hàng traveling salesman problem  tsp </s> <s> một người bán hàng cần đi đến n thành phố và anh ta biết cần bao lâu để đi từ một thành phố đến một thành phố khác </s> <s> câu hỏi đặt ra là nhanh nhất thì mất bao lâu để anh ta đi hết n thành phố bởi thuật toán nhanh nhất cho tsp vẫn quá chậm  nhiều người tin là điều này sẽ luôn đúng  ta tìm đến những phương pháp đủ nhanh mà đưa ra được kết quả gần đúng thay vì thuật toán tối ưu </s> <s> </s> <s> </s> <s> thuật toán ngẫu nhiên </s> <s> </s> <s> một cách tiếp cận vấn đề khác đó là thử random theo một cách nào đó </s> <s> tuy không cải thiện tốc độ trong trường hợp xấu nhất biện pháp này sẽ có hiệu quả với những trường hợp bình thường </s> <s> quicksort là một ví dụ điển hình cho việc random như vậy </s> <s> khi suy biến quicksort sẽ sắp xếp một dãy trong on với n là số phần tử của dãy </s> <s> nhưng nếu áp dụng random vào thuật toán xác suất xảy ra suy biến là cực kì thấp và độ phức tạp trung bình của quicksort trở thành on logn </s> <s> có những thuật có độ phức tạp on logn kể cả ở trường hợp xấu nhưng chúng sẽ chậm hơn ở trường hợp bình thường </s> <s> dù độ phức tạp cùng là onlogn quicksort có hằng số c nhỏ hơn nhiều tức số phép tính cần thực hiện nhỏ hơn </s> <s> </s> <s> </s> <s> một thuật toán khác dùng random để tìm trung vị của một dãy với độ phức tạp trung bình on </s> <s> đây là cải tiến rất lớn so với việc sắp xếp lại dãy và chọn ra phần tử giữa vốn có độ phức tạp onlogn </s> <s> thêm nữa cho dù vẫn có các thuật toán tìm trung vị khôngrandom với độ phức tạp on thuật toán này vẫn được áp dụng nhiều hơn nhờ cài đặt giản và tốc độ chạy nhanh hơn </s> <s> </s> <s> </s> <s> ý tưởng chính của thuật toán trung vị này là chọn ngẫu nhiên một số x bất kì trong dãy và đếm xem có bao nhiêu số nhỏ hơn nó </s> <s> giả sử dãy có n số và có k số nhỏ hơn hoặc bằng x </s> <s> nếu kltn/ vậy ta biết trung vị sẽ là số thứ n/  k lớn hơn x </s> <s> ta bỏ đi k số nhỏ hơn hoặc bằng x </s> <s> bây giờ ta phải tìm số nhỏ thứ n/k thay vì số trung vị </s> <s> ta tiếp tục random một số x khác và lặp lại </s> <s> </s> <s> </s> <s> compression  nén </s> <s> </s> <s> một lớp khác của thuật toán sẽ xử lí những vấn đề như data compression nén dữ liệu </s> <s> loại thuật toán này không có output xác định mà thay vào đó cố gắng tối ưu ở những tiêu chí khác </s> <s> với data compression thuật như lzw  sẽ cố gắng để cho output nhỏ nhất có thể và vẫn có khả năng phục hồi lại trạng thái ban đầu </s> <s> những thuật toán kiểu này cho ra kết quả có thể chấp nhận được nhưng không phải tối ưu nhất </s> <s> ví dụ thuật toán của jpg và mp dù khiến dữ liệu bị giảm chất lượng đi đôi chút sẽ tạo ra những files nhỏ hơn files gốc rất nhiều </s> <s> files mp không cố gắng giữ lại mọi âm thanh của bài hát mà ghi vừa đủ thông tin để chất lượng vừa tốt dung lượng files lại nhỏ </s> <s> files jpg cũng dựa trên ý tưởng tương tự </s> <s> </s> <s> </s> <s> tầm quan trọng của thuật toán </s> <s> </s> <s> với một lập trình viên hay một nhà khoa học máy tính hiểu rõ về các thuật toán vừa nêu là rất quan trọng để có thể áp dụng thực tiễn </s> <s> nếu ta viết một phần mềm ta sẽ phải đánh giá được phần mềm đó sẽ hoạt động nhanh chậm ra sao </s> <s> những đánh giá như vậy sẽ kém chính xác hơn nhiều nếu ta không có hiểu biết về thời gian chạy hay độ phức tạp </s> <s> thêm nữa hiểu biết về thuật toán của những gì ta đang làm sẽ giúp ta dự đoán những trường hợp đặc biệt khiến phần mềm chạy chậm đi hay xảy ra lỗi </s> <s> </s> <s> </s> <s> tất nhiên ta sẽ thường xuyên gặp những bài toán chưa được nghiên cứu trước đó </s> <s> lúc này ta phải tự nghĩ ra thuật mới hoặc áp dụng thuật cũ một cách sáng tạo hơn </s> <s> càng có kiến thức về thuật toán ta càng có khả năng giải quyết thành công vấn đề </s> <s> trong nhiều trường hợp một vấn đề mới có thể được đưa về một vấn đề cũ hơn mà không cần quá nhiều sức lực với điều kiện ta phải có kiến thức đủ sâu về vấn đề cũ này </s> <s> </s> <s> </s> <s> để minh họa hãy tưởng tượng về công việc của một switch internet </s> <s> một switch có n sợi dây cáp và sẽ nhận các gói data từ các sợi cáp này </s> <s> switch sẽ phải phân tích các gói data này rồi trả chúng về đúng dây cáp cũ </s> <s> cái switch này cũng giống như một chiếc máy tính làm việc dựa trên các xung nhịp với các bước rành mạch các gói dữ liệu được gửi ra ở các quãng nghỉ  intervals  thay vì liên tục </s> <s> ở một switch nhanh chúng ta cần gửi các gói dữ liệu này càng nhanh càng tốt ở mỗi quãng nghỉ để chúng không ứ đọng và bị bỏ qua </s> <s> vậy mục tiêu của thuật toán là gửi càng nhiều gói data càng tốt ở mỗi quãng nghỉ và gói nào đến trước thì được chuyển đi trước </s> <s> hóa ra một thuật toán có tên  stable matching  có liên hệ trực tiếp tới vấn đề này và hoàn toàn có thể áp dụng dù nhìn sơ mối tương quan giữa vấn đề và thuật toán có vẻ không rõ ràng </s> <s> chỉ có nền tảng thuật toán vững vàng mới giúp ta đi đến lời giải cho những trường hợp như vậy </s> <s> </s> <s> </s> <s> một vài ví dụ thực tế </s> <s> </s> <s> có rất nhiều ví dụ cho thấy các vấn đề thực tế đòi hỏi hiểu biết về thuật toán </s> <s> gần như mọi thứ bạn đang làm với máy tính được dựa trên một thuật toán nào đó mà có người phải rất vất vả mới tìm ra </s> <s> cho dù là ứng dụng đơn giản nhất của máy tính hiện đại cũng cần đến thuật toán để quản lí dữ bộ nhớ và truy xuất thông tin từ hard drive ổ cứng </s> <s> </s> <s> </s> <s> có rất nhiều ví dụ trong đời sống ở đây tôi sẽ giới thiệu  bài toán thực tế có cùng độ khó với các bài ở topcoder </s> <s> bài đầu là maximum flow problem luồng cực đại  và bài sau có liên quan đến dynamic programming quy hoạch động  một kĩ thuật giải quyết được những vấn đề tưởng như không thể với tốc độ cao </s> <s> </s> <s> </s> <s> maximum flow  luồng cực đại </s> <s> </s> <s> bài toán luồng cực đại liên quan đến bài toán tìm đường đi ngắn nhất đã được nói ở trên </s> <s> vào những năm  bài toán lần đầu được nghiên cứu để áp dụng với mạng lưới đường sắt của liên xô </s> <s> mỹ muốn biết liên xô có thể tiếp tế cho các nước vệ tinh ở đông âu thông qua mạng lưới đường sắt nhanh như thế nào </s> <s> </s> <s> </s> <s> thêm vào đó mỹ còn muốn biết tuyến đường nào có thể bị phá hoại dễ dàng nhất nhằm chia cắt các nước này khỏi liên bang </s> <s> hóa ra  vấn đề này liên quan mật thiết và giải quyết được bài toán về tiếp tế sẽ giải quyết luôn vấn đề thứ hai </s> <s> </s> <s> </s> <s> thuật toán hiệu quả đầu tiên cho bài toán tìm luồng cực đại được phát triển bởi ford và fulkerson thuật toán được đặt tên  nhà khoa học máy tính này và đã trở thành một trong những thuật toán nổi tiếng nhất ngành </s> <s> trong  năm qua một số cải tiến đã được áp dụng để thuật nhanh hơn nhiều trong số đó vô cùng tinh tế </s> <s> </s> <s> </s> <s> từ lúc bài toán được nghiên cứu có nhiều ứng dụng đã được đưa ra </s> <s> ví dụ trong mạng máy tính ta cần truyền thật nhiều dữ liệu từ một điểm đến một điểm khác </s> <s> trong kinh doanh thuật toán này được áp dụng trong nghiên cứu vận hành operations research </s> <s> ví dụ nếu bạn có n nhân viên và n công việc cần làm nhưng không phải ai cũng làm được tất cả mọi công việc thuật toán tìm luồng cực đại sẽ chỉ ra cách giao việc để các công việc đều hoàn thành miễn là có phương án khả thi </s> <s> </s> <s> </s> <s> sequence comparison  so sánh chuỗi </s> <s> </s> <s> nhiều coder đi làm cả đời mà không từng phải cài một thuật toán quy hoạch động nào </s> <s> thế nhưng quy hoạch động là cần thiết cho nhiều thuật toán quan trọng </s> <s> một thuật toán có lẽ nhiều người đã từng sử dụng qua mà không biết là tìm khoảng cách của  chuỗi </s> <s> cụ thể hơn tính toán xem sau bao nhiêu lần thêm xóa hay sửa thì xâu a sẽ trở thành xâu b </s> <s> </s> <s> </s> <s> ví dụ có  xâu aabaa và aaab </s> <s> để chuyển xâu đầu thành xâu sau đơn giản nhất là xóa kí tự b ở giữa rồi chuyển a cuối xâu thành b </s> <s> thuật toán này có rất nhiều ứng dụng ví dụ như trong các vấn đề liên quan đến dna hay chống đạo văn </s> <s> với các lập trình viên thuật toán này thường được dùng trong việc so sánh  phiên bản source code mã nguồn của cùng  file </s> <s> nếu các phần tử của chuỗi là các dòng của file thuật sẽ cho ta biết dòng code nào bị xóa dòng nào bị thêm vào hay sửa đi trong các phiên bản đó </s> <s> </s> <s> </s> <s> không có quy hoạch động ta sẽ phải xét các trường hợp theo cấp số mũ để biến một xâu thành xâu khác </s> <s> với quy hoạch động bài toán này được giải quyết với độ phức tạp chỉ onm trong đó n và m là số phần tử của mỗi xâu </s> <s> </s> <s> </s> <s> kết luận </s> <s> </s> <s> số thuật toán khác nhau mà con người học cũng nhiều như số bài toán khác nhau mà ta cần giải </s> <s> thế nhưng khả năng cao là bài toán bạn đang cố gắng giải có liên quan đến một bài toán khác theo một cách nào đó </s> <s> có một vốn hiểu biết sâu và rộng về các thuật toán sẽ giúp bạn chọn lựa được hướng đi đúng và áp dụng thành công </s> <s> khi nghiên cứu thuật toán nhiều bài toán nhìn có vẻ không thực tế nhưng kĩ năng giải quyết đó lại được áp dụng trong những bài toán mà chúng ta gặp hàng ngày </s> <s> </s> <s> </s> <s> </s> <s> z algorithm </s> <s> http//vnoi </s> <s> info/wiki/translate/codeforces/zalgo </s> <s> </s> <s> </s> <s> </s> <s> nguồn bài  codeforces </s> <s> </s> <s> table of contents bài toán thuật toán độ phức tạp cài đặt áp dụng </s> <s> </s> <s> trước khi đọc bài này các bạn có thể đọc bài xử lý xâu để nắm được các thuật ngữ cơ bản </s> <s> </s> <s> </s> <s> z algorithm hay còn gọi là z function là thuật toán áp dụng cho các bài so khớp chuỗi </s> <s> </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho một chuỗi s có độ dài n thuật toán z function tạo ra một mảng z mà tại mỗi vị trí i ta có zi là độ dài chuỗi con dài nhất là tiền tố của s bắt đầu tại vị trí si hay nói một cách khác zi là một số nguyên k lớn nhất mà sjsi  j với mọi  le j lt k </s> <s> trường hợp si ne s thì zi   </s> <s> </s> <s> </s> <s> thuật toán </s> <s> </s> <s> ta duyệt qua tất cả các ký tự của s chỉ số i từ  đến n   </s> <s> trong quá trình duyệt ta duy trì một đoạn l r với r là một số lớn nhất thỏa  le l le i le r và l r là một tiền tố của s nếu không xuất hiện các đoạn như vậy thì đặt l  r   </s> <s> </s> <s> </s> <s> với i   ta có thể dễ dàng tính l và r bằng phép so sánh s </s> <s> </s> <s>  với s </s> <s> </s> <s>  </s> <s> đồng thời ta có thể tính giá trị z </s> <s> </s> <s> </s> <s> giả sử ta đã xây dựng được đoạn l r và các giá trị z </s> <s> </s> <s> i   ta sẽ tính zi và cập nhật đoạn lr mới như sau </s> <s> </s> <s> </s> <s> nếu i gt r khi đấy không tồn tại một chuỗi con là tiền tố của s bắt đầu tại một vị trí trước i và kết thúc tại ví trí i hoặc sau i </s> <s> bởi nếu như có một tiền tố như vậy thì đoạn l i sẽ là chuỗi tiền tố tối ưu chứ không phải l r </s> <s> do đó ta sẽ cập nhật lại đoạn l r bằng cách so sánh s </s> <s> </s> <s>  với si </s> <s> </s> <s>  và lấy giá trị zi hiện tại zi  r  l   </s> <s> </s> <s> </s> <s> ngược lại i le r thì đoạn l r hiện tại kéo dài ít nhất đến i </s> <s> đặt k  i  l </s> <s> ta biết rằng zi ge minzk r  i   bởi vì si </s> <s> </s> <s>  bằng với sk </s> <s> </s> <s>  ít nhất là r  i   ký tự </s> <s> xét các trường hợp sau </s> <s> </s> <s> </s> <s> nếu zk lt r  i   thì sẽ không có chuỗi con nào là tiền tố của s dài hơn zk bắt đầu tại si </s> <s> nghĩa là zi  zk và đoạn l r vẫn giữ nguyên do đoạn l r chỉ thay đổi nếu chuỗi tiền tố bắt đầu tại si vượt ra khỏi đoạn l r </s> <s> </s> <s> nếu zk ge r  i   thì chuỗi si </s> <s> </s> <s>  là tiền tố của s và có nhiều hơn r  i   ký tự tức là kết thúc sau vị trí r </s> <s> như vậy ta cần cập nhật đoạn l r bằng cách đặt lại l  i và so sánh từ vị trí sr   trở đi để được một vị trí r mới </s> <s> đồng thời ta tính được giá trị của zi </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> tại mỗi bước trong vòng lặp chúng ta không cần so sánh ký tự tại các vị trí nhỏ hơn r và mỗi lần ký tự r phù hợp thì ta tăng r lên một vì thế ta sẽ tốn nhiều nhất n phép so sánh </s> <s> ngoài ra với mỗi giá trị i ta chỉ tìm thấy một ký tự không phù hợp điều kiện tăng r </s> <s> vì thế không thể có nhiều hơn n phép so sánh cho kết quả sai </s> <s> đưa đến độ phức tạp thuật toán là on </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> có thể dễ dàng cài đặt </s> <s> chú ý việc tối ưu hóa l  r  i được sử dụng khi s ne si điều đó không làm ảnh hưởng đến thuật toán kể từ giá trị kế tiếp i gt r không phân biệt </s> <s> </s> <s> </s> <s> int l    r    </s> <s> z     n  </s> <s> for  int i    i lt n  i   </s> <s> if  i gt r  </s> <s>  </s> <s> l  r  i  </s> <s> while  r lt n ampamp s  r   s  r  l  r   </s> <s> z  i   r  l  r   </s> <s>  </s> <s> else </s> <s>  </s> <s> int k  i  l  </s> <s> if  z  k  lt r  i    z  i   z  k  </s> <s> else </s> <s>  </s> <s> l  i  </s> <s> while  r lt n ampamp s  r   s  r  l  r   </s> <s> z  i   r  l  r   </s> <s>  </s> <s>  </s> <s> </s> <s> áp dụng </s> <s> </s> <s> voj  substr </s> <s> </s> <s> có thể dùng zfuntion để giải bài này </s> <s> ta tạo ra một chuỗi sba sao đó xây dựng mảng z </s> <s> những vị trí có zi ge lengthb với lengthb le i lt lengthalengthb là vị trí tương ứng của b trong a </s> <s> </s> <s> </s> <s> </s> <s> một số tài liệu hay về thuật toán </s> <s> http//vnoi </s> <s> info/wiki/algo/basic/tailieuthuattoan </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> giải thuật và lập trình  thầy lê minh hoàng </s> <s> </s> <s> chắc hẳn những bạn học chuyên tin đều biết đến cuốn sách này bởi nó như là một cuốn sách giáo khoa cho chuyên tin với các kiến thức cơ bản từ quay lui sắp xếp đến quy hoạch động đồ thị </s> <s> </s> <s> </s> <s> link download </s> <s> </s> <s>  </s> <s> tài liệu giáo khoa chuyên tin </s> <s> </s> <s> về cơ bản phần một và phần hai giống với giải thuật và lập trình tuy nhiên được bổ sung thêm một số kiến thức như số catalan xử lý số lớn bằng xâu </s> <s> </s> <s> </s> <s> kèm theo đó là những bài tập vô cùng hấp dẫn để các bạn luyện tập </s> <s> </s> <s> </s> <s> phần ba chứa các kiến thức nâng cao hơn đó là hình học và lý thuyết trò chơi </s> <s> </s> <s> </s> <s> link download </s> <s> </s> <s> </s> <s> tập  </s> <s> tập  </s> <s> tập   phần  </s> <s> tập   phần  </s> <s> </s> <s> </s> <s>  </s> <s> một số vấn đề đáng chú ý trong môn tin học </s> <s> </s> <s> cuốn sách này được viết bởi các cựu học sinh trường chuyên phan bội châu  nghệ an </s> <s> nó chứa các kiến thức tuyệt hay mà tài liệu giáo khoa chuyên tin hay giải thuật và lập trình đều không có như duyệt ưu tiên thuật toán tìm kiếm chuỗi kmp quy hoạch động trạng thái quy hoạch động vị trí cấu hình quy hoạch động trên cây tô màu đồ thị thuật toán dijkstra với đỉnh ảo interval tree binary index tree </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> link download </s> <s> </s> <s>  </s> <s> bản dịch introduction to algorithm </s> <s> </s> <s> link download </s> <s> </s> <s> cảm ơn bạn nguyễn văn khởi đã chia sẻ link </s> <s> </s> <s> </s> <s>  </s> <s> kc book </s> <s> </s> <s> </s> <s> quyển  </s> <s> quyển  </s> <s> </s> <s> </s> <s> </s> <s> lời giới thiệu </s> <s> http//vnoi </s> <s> info/wiki/about </s> <s> </s> <s> </s> <s> </s> <s> bạn có biết </s> <s> </s> <s> </s> <s> sau tấm huy chương vàng năm  việt nam mất  năm để có tấm huy chương vàng tiếp theo  rồi lại phải chờ thêm  năm nữa để lặp lại kì tích này  </s> <s> </s> <s> chưa từng có một team việt nam nào đạt huy chương ở kì thi acmicpc world final </s> <s> </s> <s> sinh viên việt nam dù có nền tảng thuật toán rất tốt từ cấp  vẫn bối rối khi xin việc ở những công ty lớn như google facebook </s> <s> </s> <s> </s> <s> </s> <s> chúng mình nhận thấy học sinh sinh viên việt nam dù tiềm năng có thừa nhưng chưa biết cách khơi dậy tiềm năng đó một cách triệt để </s> <s> hơn nữa các bạn còn ngại va chạm với tiếng anh ngại tìm tòi đọc sách vở bài bản mà chủ yếu chỉ luyện giải đề và tham gia các cuộc thi trên mạng </s> <s> cách học như vậy giúp cách bạn tăng tốc rất nhanh để chạy theo các kì thi quốc gia quốc tế nhưng về sau về dài nó thậm chí không thể giúp các bạn trả lời một câu hỏi đơn giản học tin để làm gì nhiều bạn học sinh viên sống bằng những cuộc thi nhưng khi ra ngoài cuộc sống không còn những cuộc thi nữa </s> <s> các bạn bị mất định hướng và đam mê dẫn đến việc bị bỏ lại đằng sau </s> <s> thật tiếc cho những tài năng trẻ như vậy đây là thời kì bùng nổ của các startup it các bạn thực sự có thể làm được rất nhiều thứ thậm chí thay đổi thế giới  </s> <s> </s> <s> chúng mình cũng nhận thấy ở việt nam hiện tại chưa có một giáo trình mạch lạc và bài bản để hướng dẫn các bạn từ cấp độ chưa biết gì đến cấp độ có thể chinh phục ioi </s> <s> tài liệu giới thiệu về tin học vượt ra ngoài khuôn khổ của ioi thì lại càng không có </s> <s> đáng buồn hơn là có một sự mất kết nối giữa các thế hệ với nhau </s> <s> các tên tuổi lừng lẫy trên các cuộc thi ngày nào sau khi giải nghệ lần lượt biến mất khiến cho kiến thức kinh nghiệm quý báu của họ đều không đến được với thế hệ đi sau </s> <s> </s> <s> </s> <s> team admins vnoi đã quyết tâm xây dựng một thư viện vnoi mới để lấp đầy những khoảng trống trên </s> <s> thư viện mới của vnoi bao gồm các nội dung như </s> <s> </s> <s> </s> <s> tổng hợp và dịch các bài viết đã có trên mạng </s> <s> bổ sung thêm những bài viết về những chủ đề tin học ít gặp hoặc chưa có hướng dẫn </s> <s> giới thiệu về các vấn đề trong bộ môn khoa học máy tính thực tiễn giúp các bạn định hướng học cấp  và đại học xong thì mình có thể làm gì </s> <s> phỏng vấn những người đi trước về kinh nghiệm học tin cũng như những kinh nghiệm khi đi phỏng vấn ở các công ty lớn như google facebook microsoft </s> <s> và còn rất nhiều điều mới mẻ nữa </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trie </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/trie </s> <s> </s> <s> </s> <s> </s> <s> tác giả nguyễn rr thành trung </s> <s> </s> <s> trie là một cấu trúc dữ liệu dùng để quản lý một tập hợp các xâu </s> <s> trie cho phép </s> <s> </s> <s> </s> <s> thêm một xâu vào tập hợp </s> <s> xóa một xâu khỏi tập hợp </s> <s> kiểm tra một xâu có tồn tại trong tập hợp hay không </s> <s> </s> <s> </s> <s> </s> <s> cấu trúc </s> <s> </s> <s> trie gồm một gốc không chứa thông tin trên mỗi cạnh lưu một ký tự mỗi nút và đường đi từ gốc đến nút đó thể hiện  xâu gồm các ký tự là các ký tự thuộc cạnh trên đường đi đó </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> trong hình vẽ trên nút  là nút gốc nút  thể hiện có  xâu là ‘bg’ nút  thể hiện có  xâu là ‘db’ nút  thể hiện có  xâu là ‘dc’ nút  thể hiện có  xâu là ‘acd’ nút  thể hiện là có  xâu là ‘ab’ </s> <s> </s> <s> </s> <s> tuy nhiên như các bạn có thể thấy đối với một số nút chẳng hạn nút  ta không biết nó là thể hiện kết thúc  xâu hay chỉ là  phần của đường đi từ nút  đến nút  </s> <s> vì vậy khi cài đặt thông thường tại nút u ta cần lưu thêm thông tin nút u có là kết thúc của  xâu hay không hoặc nút u là kết thúc của bao nhiêu xâu tuỳ theo yêu cầu bài toán </s> <s> </s> <s> </s> <s> một số ưu điểm của trie </s> <s> </s> <s> </s> <s> cài đặt đơn giản dễ nhớ </s> <s> tiết kiệm bộ nhớ khi số lượng khóa lớn và các khóa có độ dài nhỏ thông thường trie tiết kiệm bộ nhớ hơn do các phần đầu giống nhau của các khoá chỉ được lưu  lần </s> <s> ưu điểm này có ứng dụng rất lớn chẳng hạn trong từ điển </s> <s> </s> <s> thao tác tìm kiếm om với m là độ dài khóa </s> <s> với binary search tree cân bằng là ologn </s> <s> khi số lượng khóa cần tìm lớn và độ dài mỗi khóa tương đối nhỏ logn xấp xỉ m và như các bạn đã biết để cài được binary search tree cân bằng không phải là một việc đơn giản </s> <s> hơn nữa các thao tác trên trie rất đơn giản và thường chạy nhanh hơn trên thực tế </s> <s> </s> <s> dựa vào tính chất của cây trie có thể thực hiện một số liên quan đến thứ tự từ điển như sắp xếp tìm một khóa có thứ tự từ điển nhỏ nhất và lớn hơn một khóa cho trước </s> <s> </s> <s> </s> <s>  và một số thao tác liên quan đến tiền tố hậu tố </s> <s> </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> //định nghĩa kiểu trie </s> <s> type </s> <s> trie   node  </s> <s> node  record </s> <s> count  longint  //số lượng xâu kết thúc tại một nút </s> <s> c  array  a </s> <s> </s> <s> z  of trie  //link đến các nút con của một nút </s> <s> end  </s> <s> var </s> <s> root  trie  //gốc trie </s> <s> </s> <s> //thêm một nút rỗng vào trie </s> <s> procedure add  var a  trie  </s> <s> var </s> <s> c  char  </s> <s> begin </s> <s> new  a  </s> <s> a  </s> <s> count    </s> <s> for c  a to z do </s> <s> a  </s> <s> c  c  nil  </s> <s> end  </s> <s> //thêm xâu s vào trie </s> <s> procedure insert  s  string  </s> <s> var </s> <s> i  longint  </s> <s> begin </s> <s> for i   to length  s  do </s> <s> begin </s> <s> //duyệt mỗi kí tự i của s </s> <s> với mỗi kí tự ta đi theo nhánh tương ứng với ký tự i nếu nhánh này chưa có ta thêm vào cây </s> <s> if p  </s> <s> c  s  i  nil then add  p  </s> <s> c  s  i  </s> <s> p  p  </s> <s> c  s  i  </s> <s> end  </s> <s> inc  p  </s> <s> count  </s> <s> end  </s> <s> </s> <s> //tìm xem xâu s có trong trie không </s> <s> function find  s  string  boolean  </s> <s> var </s> <s> i  longint  </s> <s> p  trie  </s> <s> begin </s> <s> p  root  </s> <s> for i   to length  s  do </s> <s> begin </s> <s> if p  </s> <s> c  s  i  nil then exit  false  </s> <s> p  p  </s> <s> c  s  i  </s> <s> end  </s> <s> exit  true  </s> <s> end  </s> <s> </s> <s> có thể cài đặt thêm thao tác xóa một từ khỏi trie nhưng đối với các bài toán thường gặp thì thao tác này không cần thiết </s> <s> việc cài đặt cụ thể xin nhường lại cho bạn đọc </s> <s> </s> <s> một vài ứng dụng trong các bài toán </s> <s> </s> <s> sau đây là một vài ví dụ cơ bản thể hiện tác dụng của trie </s> <s> </s> <s> chuỗi từ </s> <s> </s> <s> nguồn  цикл интернетолимпиад для школьников сезон  </s> <s> </s> <s> chuỗi từ có độ dài n là một dãy các từ w w </s> <s> </s> <s> </s> <s>  wn sao cho với mọi  le i lt n từ wi là tiền tố của từ wi </s> <s> từ u có độ dài k là tiền tố của từ v có độ dài l nếu l gt k và các ký tự đầu tiên của v trùng với từ u </s> <s> cho tập hợp các từ s  s s </s> <s> </s> <s> </s> <s>  sm </s> <s> tìm chuỗi từ dài nhất có thể xây dựng được bằng cách dùng các từ trong tập hợp s có thể không sử dụng hết các từ </s> <s> </s> <s> </s> <s> thuật toán </s> <s> </s> <s> một trong những cách giải khá đơn giản đối với bài này là sử dụng trie </s> <s> </s> <s> lưu tất cả các từ lại vào trie </s> <s> đối với mỗi nút trên cây ta tính f là độ dài chuỗi từ dài nhất bắt đầu ở nút đó </s> <s> </s> <s> </s> <s> cài đặt một số phần quan trọng </s> <s> </s> <s> type </s> <s> trie   node  </s> <s> node  record </s> <s> f  u  longint  //số lượng xâu kết thúc tại một nút </s> <s> c  array  a </s> <s> </s> <s> z  of trie  //link đến các nút con của một nút </s> <s> end  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> procedure dfs  a  trie  </s> <s> var </s> <s> c  char  </s> <s> begin </s> <s> a  </s> <s> f   </s> <s> for c  a to z do </s> <s> begin </s> <s> dfs  a  </s> <s> c  c  </s> <s> a  </s> <s> f  max  a  </s> <s> f  a  </s> <s> c  c  </s> <s> f  </s> <s> end  </s> <s> inc  a  </s> <s> f  a  </s> <s> u  </s> <s> end  </s> <s> </s> <s> function solve  longint  </s> <s> begin </s> <s> add  root  </s> <s> for i   to m do insert  s  i  </s> <s> dfs  root  </s> <s> exit  root  </s> <s> f  </s> <s> end  </s> <s> </s> <s> </s> <s> tách từ </s> <s> </s> <s> nguồn  croatian oi  </s> <s> </s> <s> một xâu s độ dài không quá  cần được tách thành các đoạn con sao cho mỗi đoạn con thuộc một tập gồm không quá  từ cho trước mỗi từ có độ dài không quá  không có  từ nào giống nhau </s> <s> </s> <s> </s> <s> viết chương trình xác định số cách tách một từ cho trước </s> <s> </s> <s> </s> <s> thuật toán </s> <s> </s> <s> quy hoạch động </s> <s> </s> <s> </s> <s> đặt fi là số cách tách đoạn từ  đến i của s </s> <s> </s> <s> </s> <s> như vậy fi  sumfj với mỗi j thoả mãn đoạn từ j </s> <s> </s> <s> i là một từ thuộc tập từ đã cho </s> <s> ta lần lượt tính fi với i chạy từ  đến n </s> <s> với mỗi i để kiểm tra mọi đoạn j </s> <s> </s> <s> i có là một từ cho trước không chú ý là khi giảm j các từ này có độ dài tăng lên và từ trước là hậu tố của từ sau các từ có độ dài hơn kém nhau một đơn vị </s> <s> do đó trên cây trie ta có thể đi từ gốc xuống các nút thể hiện các xâu này nếu không đi được nữa tức là không có từ nào thoả mãn </s> <s> chú ý là khi thêm các xâu của tập đã cho ta cần thêm các xâu này theo chiều ngược hoặc một cách xử lý khác là ta tính hàm f từ n đến  </s> <s> </s> <s> </s> <s> cài đặt một số phần quan trọng </s> <s> </s> <s> f      </s> <s> for i   to n do </s> <s> begin </s> <s> j  i  p  root  </s> <s> while  j gt   and  p  </s> <s> c  s  j ltgt nil  do </s> <s> begin </s> <s> p  p  </s> <s> c  s  j  </s> <s> dec  j  </s> <s> if  x  </s> <s> c    then inc  f  i  f  j  </s> <s> end  </s> <s> end  </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> voj  nksev </s> <s> voj  sec </s> <s> voj  chain </s> <s> a lot of games </s> <s> </s> <s> </s> <s> </s> <s> các phương pháp giải bài toán lca </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/lca </s> <s> </s> <s> </s> <s> </s> <s> tác giả  khúc anh tuấn </s> <s> </s> <s> đôi lời về tác giả khúc anh tuấn được coi là huyền thoại của competitive programming việt nam với nhiều thành tích khủng </s> <s> </s> <s> </s> <s> hcb ioi  </s> <s> người việt nam duy nhất từng đạt được đỏ target trên topcoder max rating là hơn  chỉ có khoảng chưa đến  người trên thế giới đạt được </s> <s> </s> <s> rank  facebook hackercup </s> <s> người việt nam duy nhất từng lọt vào chung kết google code jam </s> <s> </s> <s> giữ kỷ lục thi acm icpc world final của việt nam tính đến thời điểm  rank  toàn cầu </s> <s> </s> <s> </s> <s> </s> <s> bài viết này được đưa lên thư viện vnoi cũ và được mình khôi phục lại sau nhiều năm thất truyền </s> <s> </s> <s> </s> <s> trước khi đọc bài viết này bạn cần đọc bài viết bài toán rmq và bài toán lca để nắm được những khái niệm cơ bản </s> <s> </s> <s> </s> <s> để giải bài toán lca ta có thể chuyển sang bài toán rmq tương ứng và có thể giải bằng một số cách khác nhau </s> <s> trong bài viết này chúng ta sẽ đề cập tới một số phương pháp giải bài toán lca một cách trực tiếp </s> <s> </s> <s> </s> <s> bài toán lca least common ancestor </s> <s> </s> <s> input  cây với n đỉnh </s> <s> </s> <s> </s> <s> truy vấn với  nút u v bất kỳ của cây t truy vấn lcauv cho biết cha chung gần nhất của  đỉnh u v trong cây t tức là cho biết đỉnh xa gốc nhất là cha của cả u và v </s> <s> </s> <s> </s> <s> cách   sparse table </s> <s> </s> <s> từ cây đầu vào ta có thể xây dựng được mảng f </s> <s> </s> <s> n với fi cho ta biết nút cha của nút i </s> <s> sau đó ta có thể xây dựng mảng a </s> <s> </s> <s> n </s> <s> </s> <s> logn với aij cho ta biết nút tổ tiên thứ j của nút i </s> <s> xây dựng mảng a mất onlogn sử dụng phương pháp qhđ </s> <s> gọi di là khoảng cách tới gốc của nút i </s> <s> để xác định lcauv ta thực hiện các bước sau </s> <s> </s> <s> </s> <s> giả sử du gt dv ta thay u bằng một nút tổ tiên của u đến khi dudv </s> <s> </s> <s> khi dudv ta thay u và v bằng  nút tổ tiên tương ứng sao cho vẫn thỏa mãn dudv đến khi uv </s> <s> khi đó ta có được kết quả cần tìm </s> <s> </s> <s> </s> <s> </s> <s> tất nhiên trong quá trình thay một nút bằng nút tổ tiên của nó ta sẽ sử dụng mảng a để có thể nhảy một lần được nhiều bước </s> <s> khi đó độ phức tạp của thuật toán sẽ là lt onlogn ologn gt </s> <s> </s> <s> </s> <s> cách   euler tour  interval tree </s> <s> </s> <s> từ cây đầu vào ta sử dụng thủ tục dfs để xây dựng  mảng </s> <s> </s> <s> </s> <s> prevnum </s> <s> </s> <s> n với prevnumi cho ta biết thứ tự gọi thủ tục dfs cho đỉnh i </s> <s> </s> <s> postnum </s> <s> </s> <s> n với postnumi cho ta biết thứ tự thoát khỏi thủ tục dfs cho đỉnh i </s> <s> </s> <s> </s> <s> </s> <s> từ  mảng prevnum và postnum ta có thể thấy điều kiện cần và đủ để u là cha của v là prevnumu le prevnumv và postnumu ge postnumv </s> <s> do đó thao tác chất vấn lcauv thực chất là tìm một đỉnh i sao cho  </s> <s> </s> <s> </s> <s> prevnumi le minprevnumuprevnumv </s> <s> postnumi ge maxpostnumupostnumv </s> <s> prevnumi lớn nhất có thể hoặc postnumi nhỏ nhất có thể  </s> <s> </s> <s> </s> <s> </s> <s>  điều kiện đầu đảm bảo i sẽ là cha chung của u và v điều kiện thứ  đảm bảo i sẽ là đỉnh xa gốc nhất tức i  lcauv </s> <s> </s> <s> </s> <s> xây dựng mảng a </s> <s> </s> <s> n với ai cho ta biết postnumk với k là đỉnh sao cho prevnumki </s> <s> ta hoàn toàn có thể xây dựng mảng a trong thời gian on </s> <s> như vậy ta cần tìm trong mảng con a </s> <s> </s> <s> minprevnumuprevnumv phần tử cuối cùng sao cho giá trị của nó không nhỏ hơn maxpostnumupostnumv </s> <s> ta có thể sử dụng cấu trúc dữ liệu interval tree để làm việc này mỗi nút của cây interval sẽ lưu giá trị lớn nhất của một đoạn và khi thực hiện thủ tục dfs trên cây interval ta ưu tiên đi sang cây con bên phải </s> <s> khi biết được giá trị postnum và cả prevnum của đỉnh cần tìm rồi ta sẽ dễ dàng biết được đỉnh đó </s> <s> </s> <s> </s> <s> độ phức tạp của thuật toán này cũng giống như thuật toán  với thời gian là  như chỉ mất on bộ nhớ </s> <s> </s> <s> </s> <s> cách  </s> <s> </s> <s> cũng tương tự cách  ta khởi tạo các mảng prevnum </s> <s> </s> <s> n và postnum </s> <s> </s> <s> n </s> <s> mảng a </s> <s> </s> <s> n với ai cho ta biết đỉnh k sao cho prevnumk  i </s> <s> như vậy ta cần tìm lcauv trong mảng con a </s> <s> </s> <s> minprevnumuprevnumv </s> <s> ta có thể sử dụng phương pháp chặt nhị phân kết hợp đệ quy để làm cận khá tốt như sau </s> <s> </s> <s> </s> <s> </s> <s> xét thủ tục findlcaleft right u v  integer tìm cha chung gần nhất của u v trong mảng con aleft </s> <s> </s> <s> right </s> <s> không mất tính tổng quát giả sử prevnumultprevnumv </s> <s> </s> <s> </s> <s> </s> <s> nếu postnumugtpostnumv thì lcauvu và đây là trường hợp dễ dàng tìm ra đáp án </s> <s> </s> <s> </s> <s> nếu postnumultpostnumv gọi mid  leftright/ </s> <s> xét phần tử chính giữa đoạn i  amid sẽ có các khả năng sau </s> <s> </s> <s> </s> <s> postnumigtpostnumv i sẽ là cha chung của u và v nhưng chưa chắc đã là lcauv </s> <s> hiển nhiên prevnumi le prevnumlcauv nên ta gọi đệ quy findlca mid right u v </s> <s> </s> <s> postnumvgtpostnumigtpostnumu i là cha của u nhưng không phải là cha của v </s> <s> vì vậy lcauv  lcaiv ta gọi đệ quy findlca left mid i v </s> <s> </s> <s> postnumiltpostnumu đỉnh i là đỉnh được rẽ nhánh ra từ một nút cha nào đó của u nhưng ta hoàn toàn chưa biết nút cha này nằm dưới hay trên lcauv </s> <s> ta có thể xử lý theo  cách gọi đệ quy findlcaleftrightchauchav hoặc lấy j  findlcaleftmidiu và j sẽ rơi vào  trường hợp đầu </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> thuật toán trên nếu chỉ thực hiện  trường hợp đầu thì độ phức tạp cho mỗi lần chất vấn là logn còn nếu chỉ thực hiện trường hợp  thì độ phức tạp sẽ là n </s> <s> qua khảo sát bằng việc chạy chương trình cho thấy thời gian thực hiện trung bình của thuật toán này ngang với các thuật toán với độ phức tạp  </s> <s> thuật toán này tuy có độ phức tạp lớn nhưng lại là phương pháp tiết kiệm bộ nhớ và cài đặt dễ dàng nên đây là thuật toán có ứng dụng cao trong làm bài </s> <s> </s> <s> </s> <s> cách   heavy light decomposition </s> <s> </s> <s> sử dụng heavy light decomposition </s> <s> </s> <s> </s> <s> xuất phát từ trường hợp suy biến của cây mỗi nút của cây chỉ có đúng  con trừ  nút lá không có con </s> <s> với một cây suy biến ta hoàn toàn có thể tìm lcauv trong thời gian o đỉnh nào gần gốc hơn trong  đỉnh u v sẽ là lcauv </s> <s> tư tưởng của heavy light decomposition sẽ là chia cây ban đầu ra thành nhiều cây suy biến </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> những đoạn cùng màu là một cây suy biến </s> <s> nếu coi mỗi cây suy biến là một đỉnh thì ta sẽ được một cây mới gọi là cây rút gọn </s> <s> sau đây là một cách chia cây để cây rút gọn thu được có độ cao ologn với n là số nút của cây ban đầu </s> <s> </s> <s> </s> <s> xuất phát từ đỉnh gốc </s> <s> với mỗi đỉnh nếu là lá thì nó sẽ là kết thúc của một cây suy biến </s> <s> nếu không ta sẽ phát triển tiếp cây suy biến này xuống đỉnh con có trọng lượng lớn nhất các đỉnh con khác sẽ là nút gốc của những cây suy biến mới </s> <s> trọng lượng của một nút được định nghĩa là số nút nhận nút đó là tổ tiên hiểu một cách trực quan thì nếu coi mỗi nút có một “sức nặng” thì trọng lượng của một nút chính là “sức nặng” mà nút đó phải gánh </s> <s> </s> <s> </s> <s> </s> <s> chứng minh  </s> <s> </s> <s> </s> <s> gọi fn là hàm cho ta chiều cao tối đa của một cây rút gọn có n đỉnh </s> <s> ta sẽ chứng minh fn le logn </s> <s> </s> <s> với n thì f  log </s> <s> </s> <s> giả sử điều cần chứng minh đã đúng đến n </s> <s> </s> <s> với một cây có n đỉnh và nút gốc sẽ có các cây con với số đỉnh là x </s> <s> </s> <s> </s> <s>  xk </s> <s> giả sử x  maxx </s> <s> </s> <s> xk </s> <s> ta có maxx </s> <s> </s> <s> xk le maxx </s> <s> </s> <s> xk  x le n </s> <s> rightarrow maxx…xk le n/ </s> <s> </s> <s> </s> <s> theo cách xây dựng cây thì  </s> <s> </s> <s> fn  max fx fx fx </s> <s> </s> <s>  fxk  </s> <s> </s> <s> mà </s> <s> </s> <s>  fx le fn le logn </s> <s>  fx  le fn/ le logn </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s>  fxk  le fn/ le logn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vậy fn le logn điều phải chứng minh </s> <s> </s> <s> </s> <s> để thực hiện chất vấn lcauv ta lần lượt nhảy từ u và v trở về gốc của cây </s> <s> từ một đỉnh ta thực hiện lần lượt một bước nhảy dài tới gốc của cây suy biến chứa nó và một bước nhảy ngắn tới nút cha qua đó chuyển sang cây suy biến mới </s> <s> sau khi xác định được cây suy biến chứa lcauv ta có thể xác định được đỉnh u v tương ứng là nút đầu tiên ta gặp khi nhảy từ u v tới cây suy biến chứa lcauv </s> <s> sau đó chỉ cần sử dụng một phép so sánh xem u hay v gần gốc hơn là có thể xác định được lcauv </s> <s> </s> <s> </s> <s> tuy về ý tưởng ta quan tâm nhiều đến việc chia cây ban đầu ra thành nhiều cây suy biến nhưng về mặt cài đặt ta chỉ cần quan tâm với mỗi nút của cây đầu vào nút gốc của cây suy biến chứa nó là nút nào </s> <s> dễ thấy khi thực hiện thủ tục dfs có ưu tiên gọi đệ quy tới nút con có trọng lượng lớn nhất trước các nút sẽ được liệt kê lần lượt theo từng cây suy biến </s> <s> vì vậy ta có thể khởi tạo mảng head </s> <s> </s> <s> n với headi cho ta biết nút gốc của cây suy biến chứa nút i chỉ với on </s> <s> </s> <s> </s> <s> thuật toán này sẽ chạy trong thời gian  </s> <s> </s> <s> </s> <s> thuật toán này khá linh hoạt và có thể mở rộng ra để ứng dụng vào nhiều bài toán khác trên cây </s> <s> để ý rằng nếu cây ban đầu có trọng số ở mỗi cạnh sau khi chia thành các cây suy biến thì cạnh của mỗi cây suy biến sẽ giống như các phần tử liên tiếp của một mảng </s> <s> do đó ta hoàn toàn có thể sử dụng các cấu trúc dữ liệu như interval tree để quản lý việc thay đổi hay chất vấn thông tin về các cạnh này </s> <s> đây chính là ý tưởng để làm bài qtree </s> <s> </s> <s> </s> <s> cách   xử lý offline </s> <s> </s> <s> đây là một phương pháp để giải bài toán lca khi đã biết trước mọi câu hỏi chất vấn </s> <s> cách làm này tuy không linh hoạt nhưng thời gian chạy khá nhanh và tiết kiệm bộ nhớ </s> <s> tư tưởng của phương pháp này là trả lời các câu chất vấn theo một thứ tự khác dễ dàng hơn </s> <s> với mỗi nút của cây ta sẽ lưu nó trong một tập hợp có nhãn </s> <s> ban đầu mỗi nút thuộc một tập hợp khác nhau và nhãn của tập hợp chính là chỉ số của nút đó </s> <s> sau đó ta thực hiện thủ tục dfs trước khi thoát ra khỏi thủ tục dfs ta thực hiện  thao tác sau  </s> <s> </s> <s> </s> <s> tìm cha chung của u với các đỉnh v mà thủ tục dfsv đã được thực thi </s> <s> đỉnh cha chung chính là nhãn của tập hợp chứa v </s> <s> </s> <s> hợp nhất tập hợp chứa u với tập hợp chứa chau và lấy nhãn là chau </s> <s> </s> <s> </s> <s> </s> <s> ta sẽ chứng minh “đỉnh cha chung chính là nhãn của tập hợp chứa v” </s> <s> giả sử ilcauv </s> <s> sau khi thực thi thủ tục dfsv xong từ v thủ tục dfs phải đi về i và rẽ xuống u để có thể thực hiện dfsu </s> <s> trong quá trình đi về i nó sẽ hợp nhất v với cha v ông v </s> <s> </s> <s> rồi với i </s> <s> do đó nhãn của tập chứa v chính là i </s> <s> </s> <s> </s> <s> để thực hiện thao tác hợp nhất  tập hợp với thời gian ngắn ta có thể sử dụng cấu trúc disjoint set giống như trong thuật toán kruskal </s> <s> độ phức tạp của phương pháp này là mnlogn với m là số thao tác </s> <s> </s> <s> </s> <s> các bài tập áp dụng </s> <s> </s> <s> </s> <s> voj  lubenica </s> <s> spoj  lca </s> <s> spoj  qtree </s> <s> voj  qtree </s> <s> voj  votree </s> <s> </s> <s> </s> <s> </s> <s> bài toán rmq và bài toán lca </s> <s> http//vnoi </s> <s> info/wiki/translate/topcoder/rangeminimumqueryandlowestcommonancestor </s> <s> </s> <s> </s> <s> </s> <s> nguồn  topcoder </s> <s> </s> <s> table of contents các định nghĩa bài toán range minimum query rmq bài toán lowest common ancestor lca bài toán rmq thuật toán lt o on gt thuật toán lt ono gt thuật toán lt onosqrt n gt sparse table st cây phân đoạn segment tree interval tree range tree bài toán lca thuật toán lt on on gt thuật toán lt onosqrt n gt thuật toán lt onlognologn gt từ lca đến rmq từ rmq đến lca thuật toán lt ono gt cho bài toán rmq thu hẹp một số bài để luyện tập </s> <s> </s> <s> trong bài viết này tác giả sẽ giới thiệu với bạn  bài toán cơ bản bài toán rmq và bài toán lca cũng như mối liên hệ giữa  bài toán này </s> <s> </s> <s> </s> <s> các định nghĩa </s> <s> </s> <s> gỉa sử thuật toán có thời gian tiền xử lý là fn và thời gian trả lời  truy vấn là gn </s> <s> ta ký hiệu độ phức tạp tổng quát của thuật toán là lt fngn gt </s> <s> </s> <s> </s> <s> trong bài này khi viết logn chúng ta hiểu là log cơ số  của n </s> <s> </s> <s> </s> <s> bài toán range minimum query rmq </s> <s> </s> <s> cho mảng an </s> <s> bạn cần trả lời q truy vấn </s> <s> mỗi truy vấn gồm  số i j và bạn cần đưa ra vị trí của phần tử có giá trị nhỏ nhất trong đoạn từ i đến j của mảng a ký hiệu là rmqaij </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bài toán lowest common ancestor lca </s> <s> </s> <s> cho cây có gốc t </s> <s> bạn cần trả lời q truy vấn </s> <s> mỗi truy vấn gồm  số u v và bạn cần tìm nút xa gốc nhất mà là tổ tiên của cả  nút u và v ký hiệu là lcatuv </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bài toán rmq </s> <s> </s> <s> thuật toán lt o on gt </s> <s> </s> <s> thuật toán hiển nhiên nhất cho bài rmq là ta không cần tiền xử lý gì cả </s> <s> với mỗi truy vấn ta xét lần lượt từng phần tử từ i đến j để tìm phần tử nhỏ nhất </s> <s> hiển nhiên độ phức tạp thuật toán này là lt o on gt </s> <s> </s> <s> </s> <s> thuật toán lt ono gt </s> <s> </s> <s> lưu giá trị của rmqaij trong một bảng mnn </s> <s> </s> <s> </s> <s> thuật toán sẽ có độ phức tạp lt ono gt </s> <s> tuy nhiên ta có thể sử dụng quy hoạch động để giảm độ phức tạp xuống lt ono gt như sau </s> <s> </s> <s> for i   </s> <s> </s> <s> n </s> <s> mii  i </s> <s> </s> <s> for i   </s> <s> </s> <s> n </s> <s> for j  i </s> <s> </s> <s> n </s> <s> if amij   lt aj </s> <s> mij  mij   </s> <s> else </s> <s> mij  j </s> <s> </s> <s> có thể thấy thuật toán này khá chậm và tốn bộ nhớ on nên sẽ không hữu ích với những dữ liệu lớn hơn </s> <s> </s> <s> </s> <s> thuật toán lt onosqrt n gt </s> <s> </s> <s> ta có thể chia mảng thành sqrt n phần </s> <s> ta sử dụng một mảng m sqrt n để lưu giá trị mỗi phần </s> <s> m có thể dễ dàng tính được trong on </s> <s> </s> <s> </s> <s> </s> <s> để tính rmqaij chúng ta xét giá trị m của sqrt n phần nằm trong đoạn ij và những phần tử ở đầu và cuối đoạn ij là giao giữa các phần </s> <s> ví dụ để tính rmqa ta chỉ cần so sánh a am a và a </s> <s> </s> <s> </s> <s> dễ thấy thuật toán không sử dụng quá sqrt n phép toán cho mỗi truy vấn </s> <s> </s> <s> </s> <s> sparse table st </s> <s> </s> <s> đây là một hướng tiếp cận tốt hơn để tiền xử lý rmq cho các đoạn con có độ dài k sử dụng quy hoạch động </s> <s> </s> <s> </s> <s> ta sử dụng mảng mnlogn với mij là chỉ số của phần tử có giá trị nhỏ nhất trong đoạn có độ dài j và bắt đầu ở i </s> <s> ví dụ </s> <s> </s> <s> </s> <s> </s> <s> để tính mij ta xét m của  nửa đầu và nửa cuối của đoạn mỗi phần sẽ có độ dài j </s> <s> </s> <s> </s> <s> </s> <s> void process  int m  maxn  logmaxn  int a  maxn  int n  </s> <s>  </s> <s> int i  j  </s> <s> </s> <s> // khởi tạo m với các khoảng độ dài  </s> <s> for  i    i lt n  i   </s> <s> m  i     i  </s> <s> </s> <s> // tính m với các khoảng dài j </s> <s> for  j     ltlt j lt n  j   </s> <s> for  i    i    ltlt j    lt n  i   </s> <s> if  a  m  i  j    lt a  m  i    ltlt  j    j    </s> <s> m  i  j   m  i  j    </s> <s> else </s> <s> m  i  j   m  i    ltlt  j    j    </s> <s>  </s> <s> </s> <s> để tính rmqaij ta dựa vào  đoạn con độ dài k phủ hết ij với k lfloor logji rfloor </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp tổng quát của thuật toán này là lt onlogno gt </s> <s> </s> <s> cây phân đoạn segment tree interval tree range tree </s> <s> </s> <s> ta biểu diễn cây bằng một mảng mlogn với mi là vị trí có giá trị nhỏ nhất trong đoạn mà nút i quản lý </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> khởi tạo </s> <s> </s> <s> void initialize  intnode  int b  int e  int m  maxind  int a  maxn  int n  </s> <s>  </s> <s> if  b  e  </s> <s> m  node   b  </s> <s> else </s> <s>  </s> <s> // khởi tạo nút con trái và nút con phải </s> <s> initialize    node  b   b  e  /   m  a  n  </s> <s> initialize    node     b  e  /     e  m  a  n  </s> <s> </s> <s> // tính giá trị nhỏ nhất dựa trên  nút con </s> <s> if  a  m    node  lt a  m    node    </s> <s> m  node   m    node  </s> <s> else </s> <s> m  node   m    node    </s> <s>  </s> <s>  </s> <s> </s> <s> truy vấn </s> <s> </s> <s> int query  int node  int b  int e  int m  maxind  int a  maxn  int i  int j  </s> <s>  </s> <s> int p  p  </s> <s> </s> <s> // đoạn cần tính không giao với đoạn của nút hiện tại </s> <s> // gt return  </s> <s> if  i gt e  j lt b  </s> <s> return    </s> <s> </s> <s> // đoạn cần tính nằm trong hoàn toàn trong đoạn của nút hiện tại </s> <s> // gt return mnode </s> <s> if  b gt i ampamp e lt j  </s> <s> return m  node  </s> <s> </s> <s> // tìm giá trị nhỏ nhất trong  cây con trái và cây con phải </s> <s> p  query    node  b   b  e  /   m  a  i  j  </s> <s> p  query    node     b  e  /     e  m  a  i  j  </s> <s> </s> <s> // tìm giá trị nhỏ nhất trong các cây con </s> <s> if  p     </s> <s> return m  node   p  </s> <s> if  p     </s> <s> return m  node   p  </s> <s> if  a  p  lt a  p  </s> <s> return m  node   p  </s> <s> return m  node   p  </s> <s>  </s> <s> </s> <s> mỗi truy vấn sẽ được thực hiện trong ologn và thuật toán có độ phức tạp tổng quát là lt onologn gt </s> <s> </s> <s> bài toán lca </s> <s> </s> <s> thuật toán lt on on gt </s> <s> </s> <s> thuật toán đơn giản nhất như sau </s> <s> </s> <s> </s> <s> đặt hu là độ cao của đỉnh u </s> <s> </s> <s> để trả lời truy vấn u v </s> <s> không làm mất tính tổng quát giả sử hu gt hv </s> <s> </s> <s> </s> <s> </s> <s> ta đi từ u đến u với u là tổ tiên của u và hu  hv </s> <s> </s> <s> ta đồng thời đi từ u và v lên cha của nó đến khi  đỉnh này trùng nhau lúc đó cả  đỉnh đều ở lca </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> </s> <s> ta cần tìm lca của u và v </s> <s> ban đầu hu gt hv </s> <s> </s> <s> ta đi từ u đến tổ tiên của u mà có hu  hv đi từ u lên u lên u </s> <s> </s> <s> sau đó đồng thời đi từ u và v lên cha của nó đến khi  đỉnh bằng nhau </s> <s> </s> <s> </s> <s> u  u v  v </s> <s> u  u v  v </s> <s> u  v  lca </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> function lcau v </s> <s> if hu lt hv </s> <s> swapu v </s> <s> </s> <s> while hu gt hv </s> <s> u  parentu </s> <s> </s> <s> while u  v </s> <s> u  parentu </s> <s> v  parentv </s> <s> </s> <s> return u </s> <s> </s> <s> thuật toán lt onosqrt n gt </s> <s> </s> <s> ý tưởng chia input thành các phần bằng nhau như trong bài toán rmq cũng có thể được sử dụng với lca </s> <s> chúng ta sẽ chia cây thành sqrt h phần với h là chiều cao cây </s> <s> phần đầu bao gồm các tầng từ  đến sqrt h phần  sẽ gồm các tầng từ sqrt h đến sqrt h </s> <s> </s> <s> </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> giờ với mỗi nút chúng ta có thể biết được nút tổ tiên ở phần ngay trên nó </s> <s> ta sẽ tính giá trị này sử dụng mảng pmaxn </s> <s> </s> <s> </s> <s> </s> <s> ta có thể tính p bằng dfs ti là cha của i nrsqrt h và li là tầng của nút i </s> <s> </s> <s> void dfs  int node  int t  maxn  int n  int p  maxn  int l  maxn  int nr   </s> <s> int k  </s> <s> </s> <s> // nếu nút ở phần đầu tiên thì pnode   </s> <s> // nếu nút ở đầu của  phần thì pnode  tnode </s> <s> // trường hợp còn lại pnode  ptnode </s> <s> if  l  node  lt nr  </s> <s> p  node     </s> <s> else </s> <s> if    l  node   nr  </s> <s> p  node   t  node  </s> <s> else </s> <s> p  node   p  t  node  </s> <s> </s> <s> // dfs xuống các con </s> <s> for each son k of node </s> <s> dfs  k  t  n  p  l  nr  </s> <s>  </s> <s> </s> <s> truy vấn </s> <s> </s> <s> int lca  int t  maxn  int p  maxn  int l  maxn  int x  int y  </s> <s>  </s> <s> // nếu còn nút ở phần tiếp theo không phải là tổ tiên của cả x và y </s> <s> // ta nhảy lên phần tiếp theo </s> <s> đoạn này cũng tương tự như thuật toán </s> <s> // lto ongt nhưng thay vì nhảy từng nút ta nhảy từng đoạn </s> <s> </s> <s> while  p  x   p  y  </s> <s> if  l  x  gt l  y  </s> <s> x  p  x  </s> <s> else </s> <s> y  p  y  </s> <s> </s> <s> // giờ x và y ở cùng phần </s> <s> ta tìm lca giống như thuật lto ongt </s> <s> while  x  y  </s> <s> if  l  x  gt l  y  </s> <s> x  t  x  </s> <s> else </s> <s> y  t  y  </s> <s> return x  </s> <s>  </s> <s> </s> <s> hàm này sử dụng tối đa sqrt h phép toán </s> <s> với cách tiếp cận này chúng ta có thuật toán lt onosqrt h gt trong trường hợp tệ nhất thì nh nên độ phức tạp tổng quát của thuật toán là lt onosqrt n gt </s> <s> </s> <s> </s> <s> thuật toán lt onlognologn gt </s> <s> </s> <s> ứng dụng sparse table chúng ta có một thuật toán nhanh hơn </s> <s> đầu tiên chúng ta tính một bảng pnlogn với pij là tổ tiên thứ j của i </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> void process  int n  int t  maxn  int p  maxn  logmaxn  </s> <s>  </s> <s> int i  j  </s> <s> </s> <s> // khởi tạo </s> <s> for  i    i lt n  i   </s> <s> for  j     ltlt j lt n  j   </s> <s> p  i  j      </s> <s> </s> <s> // khởi tạo cha thứ    của mỗi nút </s> <s> for  i    i lt n  i   </s> <s> p  i     t  i  </s> <s> </s> <s> // quy hoạch động </s> <s> for  j     ltlt j lt n  j   </s> <s> for  i    i lt n  i   </s> <s> if  p  i  j        </s> <s> p  i  j   p  p  i  j    j    </s> <s>  </s> <s> </s> <s> bước khởi tạo này tốn onlogn bộ nhớ lẫn thời gian </s> <s> </s> <s> </s> <s> cách tìm lca giống hệt như thuật toán  nhưng để tăng tốc thay vì nhảy lên cha ở mỗi bước thì ta dùng mảng p để nhảy từ đó thu được độ phức tạp ologn cho mỗi bước </s> <s> cụ thể </s> <s> </s> <s> </s> <s> gọi hu là độ cao của nút u </s> <s> để tính lcau v giả sử hu gt hv đầu tiên ta tìm u là tổ tiên của u và có hu  hv </s> <s> </s> <s> </s> <s> rõ ràng ta cần nhảy từ u lên cha thứ hu  hv </s> <s> ta chuyển hu  hv sang hệ  </s> <s> duyệt j từ loghu xuống  nếu tổ tiên thứ j của u không cao hơn v thì ta cho p nhảy lên tổ tiên thứ j của nó </s> <s> </s> <s> </s> <s> </s> <s> sau khi u và v đã ở cùng tầng ta sẽ tính lcau v cũng như trên ta sẽ duyệt j từ loghu xuống  nếu tổ tiên thứ j của u và v khác nhau thì chắc chắn lcau v sẽ ở cao hơn khi đó ta sẽ cho cả u và v nhảy lên tổ tiên thứ j của nó </s> <s> cuối cùng thì u và v sẽ có cùng cha vậy nên khi đó lcau v  tu  tv </s> <s> </s> <s> </s> <s> </s> <s> code </s> <s> </s> <s> </s> <s> function lcan pmaxnmaxlogn tmaxn hmaxn u v </s> <s> if hu lt hv </s> <s> // đổi u và v </s> <s> swapu v </s> <s> </s> <s> log  log hu  </s> <s> </s> <s> // tìm tổ tiên u của u sao cho hu  hv </s> <s> </s> <s> for i  log </s> <s> </s> <s>  </s> <s> if hu  i gt hv </s> <s> u  pui </s> <s> </s> <s> if u  v </s> <s> return u </s> <s> </s> <s> // tính lcau v </s> <s> for i  log </s> <s> </s> <s>  </s> <s> if pui   and pui  pvi </s> <s> u  pui </s> <s> v  pvi </s> <s> </s> <s> return tu </s> <s> </s> <s> mỗi lần gọi hàm này chỉ tốn tối đa logh phép toán </s> <s> trong trường hợp tệ nhất thì hn nên độ phức tạp tổng quát của thuật toán này là lt onlognologn gt </s> <s> </s> <s> </s> <s> bài toán lca còn có nhiều cách giải thú vị khác </s> <s> các bạn có thể tham khảo thêm trong bài viết này </s> <s> </s> <s> </s> <s> từ lca đến rmq </s> <s> </s> <s> ta có thể biến đổi bài toán lca thành bài toán rmq trong thời gian tuyến tính do đó mà mọi thuật toán để giải bài toán rmq đều có thể sử dụng để giải bài toán lca </s> <s> hãy cùng xét ví dụ sau </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> để ý rằng lcatuv là nút gần gốc nhất xuất hiện giữa lúc thăm u và v trong phép duyệt dfs </s> <s> vì thế ta có thể xét tất cả các phần tử giữa các cặp chỉ số bất kì của u và v trong dãy euler tour và tìm nút cao nhất </s> <s> ta xây dựng  mảng </s> <s> </s> <s> </s> <s> en dãy thứ tự thăm của các nút trên đường đi euler ei là nút được thăm thứ i trên đường đi </s> <s> </s> <s> ln tầng của các nút li là tầng của nút ei </s> <s> hn hi là vị trí xuất hiện đầu tiên của nút i trên euler tour </s> <s> </s> <s> </s> <s> gỉa sử hulthv </s> <s> dễ thấy việc cần làm lúc này là tìm nút có l nhỏ nhất trên ehu </s> <s> </s> <s> hv </s> <s> do đó lcatuvermqlhuhv </s> <s> ví dụ </s> <s> </s> <s> </s> <s> </s> <s> cũng dễ thấy là mỗi  phần tử liên tiếp trong l đều hơn kém nhau đúng  đơn vị </s> <s> </s> <s> </s> <s> từ rmq đến lca </s> <s> </s> <s> một cây cartesian của một dãy an là một cây nhị phân ca có gốc là phần tử nhỏ nhất trong a và có vị trí i </s> <s> cây con trái của ca là cây cartesian của ai nếu igt ngược lại thì không có </s> <s> cây con phải của ca là cây cartesian của ain </s> <s> </s> <s> </s> <s> dễ thấy rằng rmqaijlcacij </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bây giờ việc cần làm chỉ còn là tính ca trong thời gian tuyến tính </s> <s> chúng ta sẽ sử dụng một cái stack </s> <s> </s> <s> </s> <s> </s> <s> ban đầu stack rỗng </s> <s> ta lần lượt đẩy các phần tử của a vào stack </s> <s> </s> <s> tại bước thứ i ai sẽ được đẩy vào ngay cạnh phần tử cuối cùng không lớn hơn ai trong stack các phần tử lớn hơn ai bị loại khỏi stack </s> <s> phần tử trong stack ở vị trí của ai trước khi chèn ai vào sẽ là con trái của i còn i sẽ là con phải của phần tử trước nó trong stack </s> <s> ở mỗi bước thì phần tử đầu tiên trong stack sẽ là gốc của cây cartesian </s> <s> </s> <s> </s> <s> </s> <s> ví dụ đối với cây ở trên </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> bước </s> <s> stack </s> <s> sự hình thành cây </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s>  là nút duy nhất trong cây </s> <s> </s> <s> </s> <s>  </s> <s>   </s> <s>  được đẩy vào cuối stack </s> <s> giờ  là con phải của  </s> <s> </s> <s> </s> <s>  </s> <s>   </s> <s> a lt a </s> <s> lúc này  là con phải của  và con trái của  là  </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> a hiện đang là phần tử nhỏ nhất cho nên mọi phần tử của stack bị lấy ra ra và  trở thành gốc cây </s> <s> con trái của  là  </s> <s> </s> <s> </s> <s>  </s> <s>   </s> <s>  được thêm vào cạnh  và con phải của  là  </s> <s> </s> <s> </s> <s>  </s> <s>    </s> <s>  được thêm vào cạnh  con phải của  là  </s> <s> </s> <s> </s> <s>  </s> <s>     </s> <s>  được thêm vào cạnh  con phải của  là  </s> <s> </s> <s> </s> <s>  </s> <s>      </s> <s>  được thêm vào cạnh  con phải của  là  </s> <s> </s> <s> </s> <s>  </s> <s>   </s> <s>  được thêm vào cạnh  các phần tử lớn hơn bị loại bỏ </s> <s>  giờ là con phải của  và con trái của  là  </s> <s> </s> <s> </s> <s>  </s> <s>    </s> <s>  được thêm vào cạnh  con phải của  là  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vì mỗi phần tử của a đều chỉ đẩy vào và lấy ra  lần nên độ phức tạp thuật toán là on </s> <s> </s> <s> </s> <s> void computetree  int a  maxn  int n  int t  maxn   </s> <s> int st  maxn  i  k  top     </s> <s> </s> <s> // bắt đầu với stack rỗng </s> <s> // ở bước thứ i ta đẩy i và stack </s> <s> for  i    i lt n  i   </s> <s>  </s> <s> //tìm vị trí của phần tử đầu tiên nhỏ hơn hoặc bằng ai trong stack </s> <s> k  top  </s> <s> while  k gt  ampamp a  st  k  gt a  i  </s> <s> k   </s> <s> </s> <s> // chỉnh sửa cây theo mô tả ở trên </s> <s> if  k     </s> <s> t  i   st  k  </s> <s> if  k lt top  </s> <s> t  st  k     i  </s> <s> </s> <s> // đẩy i vào stack rồi xóa các phần tử lớn hơn ai </s> <s> st   k   i  </s> <s> top  k  </s> <s>  </s> <s> // phần tử đầu tiên trong stack là gốc cây nên nó không có cha </s> <s> t  st        </s> <s>  </s> <s> </s> <s> thuật toán lt ono gt cho bài toán rmq thu hẹp </s> <s> </s> <s> bài toán rmq phát sinh khi giải bài toán lca chỉ là trường hợp đặc biệt của bài toán rmq tổng quát do ta có điều kiện aiai với mọi iinn lý do là  phần tử liên tiếp có quan hệ cha con với nhau </s> <s> ta gọi bài toán rmq này là bài toán rmq thu hẹp </s> <s> trong  số tài liệu còn được gọi là bài toán pm  rmq </s> <s> trong mục này ta sẽ nghiên cứu một thuật toán có độ phức tạp tốt hơn cho bài toán rmq thu hẹp </s> <s> </s> <s> </s> <s> hãy biến đổi a thành một dãy nhị phân có n phần tử với biaiai </s> <s> như vậy aiab </s> <s> </s> <s> bi và bi chỉ nhận giá trị  hoặc  </s> <s> </s> <s> </s> <s> chúng ta chia a thành các block kích thước llogn/ </s> <s> gọi mi là giá trị nhỏ nhất trong block thứ i và di là vị trí của giá trị nhỏ nhất này trong a </s> <s> cả m và d đều có n/l phần tử </s> <s> tính sparse table cho m tốn on/llogn/lon về bộ nhớ và thời gian </s> <s> </s> <s> </s> <s> dùng sparse table cho mảng m ta tính được giá trị nhỏ nhất của  vài block trong o </s> <s> nhưng ta vẫn cần tính rmq giữa  vị trí bất kì trong cùng một block </s> <s> để làm được điều này nhận thấy b là một dãy nhị phân mà mỗi block có l phần tử </s> <s> vì số lượng dãy nhị phân độ dài l là lsqrt n là một số khá nhỏ nên chúng ta có thể tính được mảng psqrtnll với pb i j là giá trị nhỏ nhất trong các bit từ i đến j của dãy nhị phân b </s> <s> dễ dàng khởi tạo p bằng quy hoạch động trong cả thời gian và bộ nhớ osqrt nl </s> <s> chú ý rằng ta cũng cần biết giá trị b trong o với mỗi block của mảng a </s> <s> do đó ta cần khởi tạo mảng t với n/l phần tử mỗi phần tử cho biết giá trị b của block tương ứng </s> <s> </s> <s> </s> <s> kết hợp mảng t p với sparse table cho mảng m ta có thể trả lời truy vấn rmqai j trong o </s> <s> ta có  trường hợp </s> <s> </s> <s> </s> <s> i và j thuộc cùng block </s> <s> </s> <s> </s> <s> </s> <s> ta dùng mảng t để biết dãy nhị phân b ở block chứa i và j </s> <s> </s> <s> tính u và v là vị trí của i và j trong block </s> <s> </s> <s> kết quả chính là pb u v </s> <s> </s> <s> </s> <s> </s> <s> i và j thuộc  block khác nhau kết quả sẽ là giá trị nhỏ nhất của  giá trị </s> <s> </s> <s> </s> <s> giá trị nhỏ nhất của các phần tử trong block chứa i và nằm bên phải i </s> <s> </s> <s> </s> <s> dùng mảng t để biết được giá trị của dãy nhị phân của block chứa i là b </s> <s> </s> <s> tính chỉ số của i trong block chứa i là u </s> <s> </s> <s> kết quả chính là pb i l </s> <s> </s> <s> </s> <s> </s> <s> giá trị nhỏ nhất của các phần tử trong block chứa j và nằm bên trái j làm tương tự trường hợp trên </s> <s> giá trị nhỏ nhất của các phần tử thuộc các block nằm giữa block chứa i và block chứa j </s> <s> dùng sparse table cho m ta dễ dàng tính </s> <s> được giá trị này trong o </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> một số bài để luyện tập </s> <s> </s> <s> </s> <s> cf  div   b </s> <s> bayan  contest warm up  d </s> <s> hello  div </s> <s>   a </s> <s> lca </s> <s> qtree </s> <s> hbtlca </s> <s> upgranet </s> <s> votree </s> <s> srm   floating median </s> <s> lorenzo von matterhorn </s> <s> http//acm </s> <s> pku </s> <s> edu </s> <s> cn/judgeonline/problemid </s> <s> http//acm </s> <s> pku </s> <s> edu </s> <s> cn/judgeonline/problemid </s> <s> http//acmicpclivearchive </s> <s> uva </s> <s> es/nuevoportal/data/problem </s> <s> phpp </s> <s> http//acm </s> <s> pku </s> <s> edu </s> <s> cn/judgeonline/problemid </s> <s> http//acm </s> <s> uva </s> <s> es/p/v/ </s> <s> html </s> <s> http//acm </s> <s> sgu </s> <s> ru/problem </s> <s> phpcontestampproblem </s> <s> </s> <s> </s> <s> </s> <s> persistent data structures </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/persistentdatastructures </s> <s> </s> <s> </s> <s> </s> <s> tác giả nguyễn rr thành trung </s> <s> </s> <s> table of contents  </s> <s> mở đầu  </s> <s> persistent it tư tưởng cài đặt phân tích  </s> <s> persistent bit tư tưởng cài đặt phân tích  </s> <s> retroactive data structures bài tập áp dụng </s> <s> </s> <s>  </s> <s> mở đầu </s> <s> </s> <s> persistent data structures là những cấu trúc dữ liệu được dùng khi chúng ta cần có toàn bộ lịch sử của các thay đổi trên  cấu trúc dữ liệu ctdl </s> <s> chú ý rằng từ persistent còn được dùng trong persistent storage với một nghĩa hoàn toàn khác </s> <s> </s> <s> </s> <s> xét bài toán ví dụ </s> <s> </s> <s> </s> <s> cho một dãy a gồm n phần tử </s> <s> </s> <s> có  loại truy vấn </s> <s> </s> <s> </s> <s> update gán ai  v </s> <s> query tìm maxai </s> <s> </s> <s> </s> <s>  aj tại thời điểm sau phép gán thứ k </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> nếu không có đoạn tại thời điểm sau phép gán thứ k  bài toán là  bài cơ bản trên interval tree </s> <s> đoạn tại thời điểm sau phép gán thứ k buộc chúng ta phải lưu lại các thông tin về lịch sử cập nhật ctdl  việc này được giải quyết bằng các persistent data structures </s> <s> </s> <s> </s> <s> gọi trạng thái của ctdl tại một thời điểm là  version của ctdl đó </s> <s> một cách cụ thể hơn persistent data structures cho phép chúng ta </s> <s> </s> <s> </s> <s> truy vấn trên một version cũ của ctdl </s> <s> cập nhật dữ liệu trong version mới nhất của ctdl bằng cách tạo thêm  version mới của ctdl </s> <s> </s> <s> </s> <s> </s> <s> trong một số cách cài đặt persistent data structures còn có thể cho phép thay version hiện tại của ctdl thành một version trong quá khứ phần  mô tả phương pháp cài đặt có thể thực hiện được thao tác này </s> <s> </s> <s> </s> <s> cần hiểu rằng persistent data structures không phải là một loại ctdl mới </s> <s> nó là một số kĩ năng tổng quát giúp thêm thông tin về lịch sử thay đổi vào ctdl thông thường một cách hiệu quả </s> <s> ví dụ </s> <s> </s> <s> </s> <s> it  persistent gt persistent it </s> <s> bit  persistent gt persistent bit </s> <s> </s> <s> </s> <s> tại sao lại là một cách hiệu quả  bởi vì ta hoàn toàn có thể có một persistent data structures bằng cách trâu bò khi cập nhật ta tạo một bản sao hoàn toàn mới của ctdl thay đổi một số dữ liệu trên nó và lưu lại </s> <s> như vậy ta luôn có được một thuật toán với độ phức tạp oq  n  t và bộ nhớ oq  n với q là số thao tác cần thực hiện và n là độ lớn của ctdl và t là thời gian để thực hiện thao tác trên ctdl </s> <s> </s> <s> </s> <s> trong các phần dưới đây mình sẽ trình bày về  kĩ thuật thông thường của persistent data structures </s> <s> </s> <s> </s> <s>  </s> <s> persistent it </s> <s> </s> <s> tư tưởng </s> <s> </s> <s> quay trở lại bài toán </s> <s> chúng ta biết rằng mỗi thao tác update trên it chỉ mất ologn </s> <s> điều này tương đương với việc mỗi thao tác update chỉ làm thay đổi ologn nút trên cây </s> <s> như vậy ta hoàn toàn có thể lưu lại tất cả các thay đổi trên tất cả các nút trong oqlogn </s> <s> </s> <s> </s> <s> từ đó ta rút ra được một tư tưởng cài đặt thuật toán </s> <s> </s> <s> </s> <s> </s> <s> với mỗi thao tác update ta tạo thêm một số nút mới trên it </s> <s> để không phải sinh thêm các nút không bị thay đổi một nút ở version mới có thể có con là một nút ở vesion cũ </s> <s> </s> <s> </s> <s> chú ý mỗi thao tác update luôn thay đổi một đường đi từ gốc đến một nút lá nên không có trường hợp một nút ở version cũ có con là một nút ở version mới hơn </s> <s> nếu thao tác update là update  đoạn các nút bị thay đổi không còn là một đường đi nữa nhưng nhận xét này vẫn đúng </s> <s> </s> <s> </s> <s> khi thực hiện thao tác query trên version t ta chỉ cần thực hiện query trên nút gốc ở version t </s> <s> </s> <s> tư tưởng này còn được gọi là path copy trong các tài liệu tiếng anh </s> <s> </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> </s> <s> struct node  </s> <s> int left  right  // id of left child amp right child </s> <s> long long ln  // max value of node </s> <s> node   </s> <s> node  long long ln  int left  int right   ln  ln  left  left  right  right   </s> <s>  it    // each node has a position in this array called id </s> <s> int nnode  </s> <s> </s> <s> int ver  mn  // id of root in each version </s> <s> </s> <s> // update max value of a node </s> <s> inline void refine  int cur   </s> <s> it  cur  </s> <s> ln  max  it  it  cur  </s> <s> left  </s> <s> ln  it  it  cur  </s> <s> right  </s> <s> ln  </s> <s>  </s> <s> </s> <s> // update a range and return new id of node </s> <s> int update  int l  int r  int u  int x  int oldid   </s> <s> if  l  r   </s> <s>  nnode  </s> <s> it  nnode   node  x      </s> <s> return nnode  </s> <s>  </s> <s> </s> <s> int mid   l  r  gtgt   </s> <s> int cur   nnode  </s> <s> </s> <s> if  u lt mid   </s> <s> it  cur  </s> <s> left  update  l  mid  u  x  it  oldid  </s> <s> left  </s> <s> it  cur  </s> <s> right  it  oldid  </s> <s> right  </s> <s> refine  cur  </s> <s>  </s> <s> else  </s> <s> it  cur  </s> <s> left  it  oldid  </s> <s> left  </s> <s> it  cur  </s> <s> right  update  mid    r  u  x  it  oldid  </s> <s> right  </s> <s> refine  cur  </s> <s>  </s> <s> </s> <s> return cur  </s> <s>  </s> <s> </s> <s> // get max of range </s> <s> same as usual it </s> <s> int get  int nodeid  int l  int r  int u  int v   </s> <s> if  v lt l  r lt u  return    </s> <s> if  u lt l ampamp r lt v  return it  nodeid  </s> <s> ln  </s> <s> </s> <s> int mid   l  r  gtgt   </s> <s> return max  get  it  nodeid  </s> <s> left  l  mid  u  v  get  it  nodeid  </s> <s> right  mid    r  u  v  </s> <s>  </s> <s> </s> <s> </s> <s> // when update </s> <s>  nver  </s> <s> ver  nver   update    n  u  x  ver  nver    </s> <s> </s> <s> // when query </s> <s> res  get  ver  t    n  u  v  </s> <s> </s> <s> </s> <s> giải thích </s> <s> </s> <s> </s> <s> ban đầu ta có một mảng it lưu tất cả các nút sẽ được sinh ra của it </s> <s> mỗi nút gồm có </s> <s> </s> <s> </s> <s> chỉ số của con trái index của con phải  biến left và right  </s> <s> giá trị lớn nhất của các số trong khoảng mà nút quản lý ở version khi nút đó được tạo ra biến ln </s> <s> </s> <s> </s> <s> </s> <s> ta lưu thêm chỉ số của các nút gốc ở các version khác nhau vào một mảng ver </s> <s> </s> <s> hàm update  </s> <s> </s> <s> </s> <s> tạo ra các nút mới và trỏ đến các con ở version cũ hoặc version mới tùy theo các con có bị thay đổi hay không </s> <s> trả lại index của nút mới được tạo </s> <s> </s> <s> </s> <s> hàm get  </s> <s> </s> <s> </s> <s> trả lại max của một đoạn được quản lý bởi nút nodeid </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> </s> <s> cách cài đặt persistent data structures trong mục này rất hiệu quả </s> <s> nó hoàn toàn không làm tăng thêm độ phức tạp persistent it có độ phức tạp mỗi thao tác là ologn và bộ nhớ cần thêm là tối ưu oq  logn </s> <s> </s> <s> tuy nhiên cách cài đặt này không dễ áp dụng với những ctdl khác </s> <s> chẳng hạn sẽ rất khó để cài đúng bit với phương pháp này </s> <s> ở mục tiếp theo mình sẽ trình bày một phương pháp cài đặt khác có thể dùng cho bit tuy nhiên có độ phức tạp lớn hơn </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> persistent bit </s> <s> </s> <s> tư tưởng </s> <s> </s> <s> tại mỗi nút của bit thay vì lưu một giá trị ta lưu lại tất cả các cặp version giá trị ở nút đó </s> <s> </s> <s> </s> <s> </s> <s> thao tác update rất đơn giản chỉ cần thêm một cặp version giá trị vào các nút tương ứng </s> <s> </s> <s> với thao tác query tại version t trên một nút ta cần tìm cặp version giá trị mới nhất vào trước thời điểm t  việc tìm kiếm này có thể được thực hiện bằng tìm kiếm nhị phân </s> <s> </s> <s> </s> <s> </s> <s> cách cài đặt này được gọi là fat node trong các tài liệu tiếng anh </s> <s> </s> <s> </s> <s> cài đặt </s> <s> </s> <s> code bit trích từ bài ipsc   grid surveillance </s> <s> </s> <s> </s> <s> define x x amp x </s> <s> </s> <s> // persistent bit </s> <s> vector lt pair lt int  int gt gt bit      </s> <s> </s> <s> // add val to cell x y at time  time </s> <s> void update  int x  int y  int val  int time   </s> <s> for  int u  x  u lt   u    u  </s> <s> for  int v  y  v lt   v    v   </s> <s> if  bit  u  v  </s> <s> empty   </s> <s> bit  u  v  </s> <s> pushback  makepair  time  val  </s> <s>  </s> <s> else  </s> <s> int cur  bit  u  v  bit  u  v  </s> <s> size     </s> <s> second  </s> <s> bit  u  v  </s> <s> pushback  makepair  time  cur  val  </s> <s>  </s> <s>  </s> <s>  </s> <s> </s> <s> // get the sum of square  gt x y at time  time </s> <s> int get  int time  int x  int y   </s> <s> int res    </s> <s> for  int u  x  u gt   u    u  </s> <s> for  int v  y  v gt   v    v   </s> <s> if  bit  u  v  </s> <s> empty   </s> <s>  </s> <s> else if  bit  u  v  bit  u  v  </s> <s> size     </s> <s> first lt time   </s> <s> res  bit  u  v  bit  u  v  </s> <s> size     </s> <s> second  </s> <s>  </s> <s> else  </s> <s> int pos  upperbound  bit  u  v  </s> <s> begin  bit  u  v  </s> <s> end  makepair  time    </s> <s>  bit  u  v  </s> <s> begin     </s> <s> if  pos gt   </s> <s> res  bit  u  v  pos  </s> <s> second  </s> <s>  </s> <s>  </s> <s> return res  </s> <s>  </s> <s> </s> <s> </s> <s> phân tích </s> <s> </s> <s> </s> <s> độ phức tạp cho mỗi thao tác update không thay đổi ví dụ với bit vẫn là ologn </s> <s> nhưng độ phức tạp cho mỗi thao tác query bị tăng lên logn ví dụ với bit độ phức tạp cho mỗi thao tác là ologn thay vì ologn </s> <s> </s> <s> tuy nhiên cách cài đặt này tổng quát hơn dễ dàng được áp dụng cho nhiều ctdl khác nhau ví dụ cả bit và it </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> retroactive data structures </s> <s> </s> <s> một lớp ctdl khác tương đối giống với persistent data structures  nhưng có tính ứng dụng thực tế cao hơn là retroactive data structures  </s> <s> </s> <s> retroactive data structures là loại ctdl cho phép thực hiện thay đổi với một dãy các thao tác đã được thực hiện trên dữ liệu </s> <s> ví dụ thay đổi một thao tác đã được thực hiện trong quá khứ </s> <s> </s> <s> </s> <s> cả retroactive data structures amp persistent data structures đều quan tâm đến trục thời gian tuy nhiên điểm khác nhau nằm ở chỗ cách xử lý trục thời gian của  ctdl này như thế nào </s> <s> </s> <s> </s> <s> với persistent data structures tất cả các version được lưu lại và bạn không thể nào thay đổi một version trong quá khứ điều duy nhất bạn có thể làm là tạo ra một version mới từ  version cũ và thực hiện thay đổi trên version mới này </s> <s> </s> <s> với retroactive data structures bạn có thể thực hiện thay đổi trên một version cũ </s> <s> thay đổi trên một version cũ này ảnh hưởng đến tất cả các version sau nó </s> <s> </s> <s> </s> <s> </s> <s> sự khác biệt về cách xử lý trục thời gian khiến cho retroactive data structures có rất nhiều ứng dụng trên thực tế  trái ngược hẳn với persistent data structures chỉ thường được thấy ở trong các kỳ thi </s> <s> một vài ứng dụng quan trọng của retroactive data structures gồm có </s> <s> </s> <s> </s> <s> </s> <s> error correction  giả sử một dữ liệu bị nhập sai làm ảnh hưởng đến tất cả các thao tác sau đấy </s> <s> retroactive ds cho phép sửa dữ liệu nhập sai và ảnh hưởng tích cực đến tất cả các thao tác sau đó </s> <s> </s> <s> </s> <s> bad data  gần giống với error correction nhưng dữ liệu sai bị xóa đi thay vì được sửa lại </s> <s> </s> <s> </s> <s> recovery  giả sử một lỗi của phần cứng làm một số dữ liệu không được đọc </s> <s> retroactive ds cho phép đọc lại những dữ liệu này và thay đổi tất cả các thao tác được thực hiện sau đó </s> <s> </s> <s> </s> <s> </s> <s> trên thực tế retroactive data structures còn đang dừng lại ở việc là một khái niệm chứ chưa có một phương pháp cài đặt nào hiệu quả </s> <s> các bạn nếu muốn tìm hiểu có thể nghiên cứu thêm về cơ chế rollback trong database hoặc tìm kiếm thêm về retroactive data structures </s> <s> </s> <s> </s> <s> bài tập áp dụng </s> <s> </s> <s> </s> <s> spoj  cot </s> <s> spoj  mkthnum </s> <s> codechef  query </s> <s> codechef  sorting </s> <s> codeforces  round  div   e </s> <s> codeforces  round  div   e </s> <s> ipsc   grid surveillance </s> <s> </s> <s> </s> <s> </s> <s> binary heap </s> <s> http//vnoi </s> <s> info/wiki/translate/wcipeg/binaryheap </s> <s> </s> <s> </s> <s> </s> <s> biên soạn đỗ việt anh lionit </s> <s> </s> <s> email dovietanh </s> <s> gmail </s> <s> com </s> <s> </s> <s> nguồn wcipeg </s> <s> com/wiki </s> <s> </s> <s> table of contents  </s> <s> kiến thức cần biết trước  </s> <s> giới thiệu chung  </s> <s>  </s> <s> tính chất  </s> <s>  </s> <s> ứng dụng  </s> <s>  </s> <s> cài đặt  </s> <s> các thao tác trên binary heap  </s> <s>  </s> <s> các thao tác thường dùng với binary heap là  </s> <s>  </s> <s> tìm phần tử lớn nhất  </s> <s>  </s> <s> thêm một nút node trên cây  </s> <s>  </s> <s> xóa nút gốc khỏi cây  </s> <s>  </s> <s> tăng giảm nhãn của một nút  </s> <s>  </s> <s> xây đựng binary heap từ tập n phần tử  </s> <s> câu hỏi thêm cho bạn đọc </s> <s> </s> <s>  </s> <s> kiến thức cần biết trước </s> <s> </s> <s> để đọc và hiểu được bài viết các bạn cần có kiến thức về cấu trúc cây  tree  và cây nhị phân đầy đủ  complete binary tree  </s> <s> </s> <s>  </s> <s> giới thiệu chung </s> <s> </s> <s>  </s> <s>  </s> <s> tính chất </s> <s> </s> <s> một cấu trúc binary heap thỏa mãn  điều kiện sau </s> <s> </s> <s> </s> <s> tính chất   binary  tc  là một cây nhị phân đầy đủ  complete binary tree  </s> <s> tính chất   heap  tc  mỗi nút node trên cây đều chứa một nhãn lớn hơn hoặc bằng các con của nó nếu có và nhỏ hơn hoặc bằng nút cha trừ nút gốc là và nó là nút lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> một cấu trúc như trên được gọi là max binary heap vì nhãn ở gốc root tương tự ta có thể thay đổi tc  để có được min binary heap với nhãn ở gốc là nhỏ nhất trong cây </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> ứng dụng </s> <s> </s> <s> binary heap được dùng để cài đặt priority queue trong c java </s> <s> </s> <s> </s> <s>  hay dùng để tăng tốc các thuật toán như dijkstra  prim </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> cài đặt </s> <s> </s> <s> </s> <s> trong c bạn có thể sử dụng ctdl priorityqueue hoặc set  vì vậy việc tự cài đặt lại là không cần thiết </s> <s> </s> <s> với pascal bạn có thể tìm hiểu cách cài đặt trong quyển sách của thầy lê minh hoàng </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> các thao tác trên binary heap </s> <s> </s> <s>  </s> <s>  </s> <s> các thao tác thường dùng với binary heap là </s> <s> </s> <s> </s> <s> tìm nhãn lớn nhất trên binary heap nút gốc </s> <s> thêm một nút vào binary heap </s> <s> xóa bỏ nút gốc root hay nhãn lớn nhất trên binary heap </s> <s> xây dựng một binary heap từ một tập n phần tử </s> <s> </s> <s> </s> <s>  các bạn có thể vào visualgo để có thể hình dung cụ thể về các thao tác trên heap  </s> <s> </s> <s> đặt h là độ cao của cây </s> <s> nút gốc ở độ sâu   nút con của gốc ở độ sâu  và nút sâu nhất có độ sâu là h </s> <s> ở độ sâu k cây có tối đa k nút do đó tổng số nút trên cây n le h </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> tìm phần tử lớn nhất </s> <s> </s> <s> </s> <s> rõ ràng gốc root luôn chứa nhãn lớn nhất theo tc các nút con luôn không nhỏ hơn nút cha </s> <s> </s> <s> độ phức tạp thuật toán o </s> <s> </s> <s> </s> <s> </s> <s> thông thường thao tác này sẽ đi kèm với thao tác xóa nút gốc để tìm nhãn tiếp theo như khi sort </s> <s> thao tác xóa sẽ được miêu tả ở mục  </s> <s>  </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> thêm một nút node trên cây </s> <s> </s> <s> </s> <s> </s> <s> chọn vị trí để thêm nút </s> <s> </s> <s> </s> <s> nếu binary heap là rỗng ta chỉ cần cho nút cần thêm làm gốc </s> <s> </s> <s> nếu binary heap không rỗng thêm nó vào vị trí phải nhất ở của lớp đáy nếu lớp đáy đã đủ số phần tử đúng bằng h thêm nút này vào lớp mới </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> vun đống từ dưới lên bottomup heapify </s> <s> </s> <s> </s> <s> việc thêm như trên sẽ đảm bảo được tính chất tc cây nhị phân đầy đủ complete binary tree nhưng tc có thể không được thỏa mãn </s> <s> </s> <s> nếu nút mới này nhỏ hơn nút cha của nó ta không cần phải làm gì thêm nữa </s> <s> </s> <s> ngược lại nếu phần tử mới lớn hơn nút cha ta đổi chỗ  nút cho nhau so sánh với nút cha mới đổi chỗ nếu nó lớn hơn nút cha cứ thế đến khi nó nhỏ hoặc bằng nút cha hoặc nó là gốc không còn nút cha nào nữa </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> </s> <s> quá trình chọn vị trí cho nút chỉ mất o </s> <s> quá trình vun đống từ dưới lên bottomup heapify ta có thể thấy số lần so sánh và đổi chỗ  phần tử không quá độ sâu h của cây nhị phân hay le logn với n là số nút hiện có trên cây </s> <s> </s> <s> độ phức tạp của cả quá trình này là ologn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> xóa nút gốc khỏi cây </s> <s> </s> <s> </s> <s> </s> <s> ta chỉ có thể xóa phần tử lớn nhất hay góc của binary heap ra khỏi cây </s> <s> </s> <s> </s> <s> </s> <s> nếu cây chỉ có nút gốc ta xóa nó khỏi cây nếu không </s> <s> gán nhãn nút góc bằng nhãn của nút phải nhất ở lớp sâu nhất </s> <s> xóa nút phải nhất ở lớp sâu nhất đi nút này vừa được chuyển nhãn lên gốc </s> <s> khi này tính chất tc vấn được đảm bảo nhưng tc thì có thể không do đó ta cần vun đống từ trên xuống topdown heapify </s> <s> </s> <s> </s> <s> so sánh nhãn nút gốc với nút lớn hơn trong  nút con của nó nếu chỉ có  nút con thì nút con đó được coi là nút lớn hơn </s> <s> nếu nó nhỏ hơn nút con lớn hơn của nó đổi chỗ  nút này tiếp tục xét tiếp với nút con mới cho đến khi nó lớn hơn hoặc bằng nút con lớn hơn của nó hoặc nó không có con hay nút lá leaf </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> </s> <s> nếu cây chỉ có duy nhất nút gốc độ phức tạp là o </s> <s> </s> <s> nếu cây có n nút </s> <s> </s> <s> </s> <s> xóa nút phải nhất ở lớp sâu nhất khỏi cây có độ phức tạp o </s> <s> vun đống từ trên xuống topdown heapify cũng như bottomup heapify không vượt quá độ sâu h của cây nên có độ phức tạp là ologn </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> tăng giảm nhãn của một nút </s> <s> </s> <s> </s> <s> trước tiên cần xác định vị trí của nút ta cần thay đổi nhãn </s> <s> thay đổi nhãn </s> <s> </s> <s> vun đống heap </s> <s> </s> <s> </s> <s> nếu nhãn tăng so với nhãn trước đó cần thực hiện bottomup heapify như khi thêm nút </s> <s> nếu nhãn giảm đi so với nhãn trước đó cần thưc hiện topdown heapify như khi xóa nút </s> <s> </s> <s> </s> <s> </s> <s> độ phức tạp độ thức tạp của thao tác này bằng độ phức tạp của topdown heapify hoặc bottomup heapify hay bằng ologn </s> <s> </s> <s> </s> <s>  </s> <s>  </s> <s> xây đựng binary heap từ tập n phần tử </s> <s> </s> <s> </s> <s> một cách đơn giản ta có thể thực hiện n phép thêm nút </s> <s> nhưng có một kĩ thuật hiệu quả hơn để xây dựng binary heap được gọi là bottomup construction </s> <s> </s> <s> bottomup construction kỹ thuật này yêu cầu xây dựng một cây nhị phân đầy đủ trước và thực hiện topdown heapify các nút trên cây theo tứ tự giảm dần độ cao của cây từ các nút lá lên các nút cha và tiếp tục cho đến gốc </s> <s> chứng minh kết quả của cách xây dựng là một binary heap không phải là khó </s> <s> </s> <s> </s> <s> độ phức tạp </s> <s> </s> <s> </s> <s> khi thực hiện n bước thêm nút ta có thể thấy độ phức tạp là olog  log  </s> <s> </s> <s> </s> <s>  logn  onlogn </s> <s> </s> <s> ở cách xây dựng thứ  ta thấy nếu một nút ở độ xâu k nó sẽ mất không quá h  k lần so sánh với nút con nhắc lại h là độ sâu của cây và số nút của cây n lt h và một nửa số nút trên cây là lá và sẽ không phải so sánh với nút con nào cả ta suy ra được </s> <s> </s> <s> </s> <s> ở độ sâu k  h có h nút số phép so sánh là   h  /  n </s> <s> ở độ sâu k  h có h nút số phép so sánh là   h  /  n </s> <s> ở độ sâu k  h có h nút số phép so sánh là   h  /  n </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> ở độ sâu k   gốc có  nút số phép so sánh là h    h/n  n </s> <s> tổng hợp lại ta có /  n  /  n  /  n  </s> <s> </s> <s> </s> <s>  h/n  n  n phép so sánh </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s> </s> <s>  </s> <s> câu hỏi thêm cho bạn đọc </s> <s> </s> <s> </s> <s> tại sao binary heap nên là một cây nhị phân đầy đủ tc  </s> <s> nếu heap không phải là một cây nhị phân mà là một cây tam phân tứ phân kphân thì độ phức tạp của các thao tác sẽ thay đổi thế nào  </s> <s> tc cần thêm điểu kiện tập nhãn phải là một totally ordered set  giá trị bất kì trong tập đều có thể so sánh được và có tính chất bắc cầu trong các phép so sánh ví dụ như tập số thực mathbbr </s> <s> </s> <s> </s> <s> </s> <s> kĩ thuật sử dụng deque tìm min/max trên đoạn tịnh tiến </s> <s> http//vnoi </s> <s> info/wiki/algo/datastructures/dequeminmax </s> <s> </s> <s> </s> <s> </s> <s> nguồn bài  link </s> <s> </s> <s> tác giả  yên vũ </s> <s> </s> <s> kĩ thuật sử dụng deque tìm min/max trên đoạn tịnh tiến xuất hiện nhiều trong các bài tập tin học thông thường để cải tiến chương trình làm giảm độ phức tạp </s> <s> chúng ta sẽ tìm hiểu kĩ thuật này qua một vài ví dụ cụ thể và xem xét khả năng mở rộng ứng dụng của nó trong các bài toán khác </s> <s> </s> <s> </s> <s> bài toán </s> <s> </s> <s> cho dãy số nguyên không âm a có n phần tử n le  </s> <s> ta cần xây dựng  mảng l và r có n phần tử được định nghĩa như sau </s> <s> </s> <s> </s> <s>  le li le i le ri le n </s> <s> </s> <s> ai  min ali ali   </s> <s> </s> <s> </s> <s>  ari </s> <s> </s> <s> ri  li là lớn nhất nói cách khác là số phần tử trong đoạn li ri là lớn nhất </s> <s> </s> <s> </s> <s> </s> <s> nói một cách đơn giản hơn với mỗi phần tử i của mảng a ta cần tìm đoạn li ri dài nhất sao cho i in li ri và ai  minali </s> <s> </s> <s> </s> <s>  ari </s> <s> với n nhỏ ta có thể giải quyết bài toán một cách đơn giản như sau với mỗi i ta kiểm tra các phần tử xung quanh i để mở rộng phạm vi li ri </s> <s> cụ thể </s> <s> </s> <s> for  int i    i lt n  i    </s> <s> l  i   i  </s> <s> while  l  i  gt  ampamp a  i  lt a  l  i   l  i  </s> <s>  l  i  </s> <s> </s> <s> r  i   i  </s> <s> while  r  i  lt n ampamp a  i  lt a  r  i   r  i  </s> <s>  r  i  </s> <s>  </s> <s> </s> <s> cách làm trâu bò này có độ phức tạp là mathcalon </s> <s> ta có thể cải tiến dựa vào các nhận xét sau </s> <s> </s> <s> </s> <s> </s> <s> li   bằng  hoặc là số lớn nhất mà li   lt i và ali   lt ai  </s> <s> </s> <s> </s> <s> ri   bằng n hoặc là số nhỏ nhất mà ri   gt i và ari   lt ai  </s> <s> </s> <s> </s> <s> </s> <s> từ nhận xét này ta xây dựng deque bằng cách lọc lại dãy như sau trong quá trình duyệt dãy a luôn đưa i vào cuối deque hiện tại nhưng loại bỏ tất cả các vị trí j đã được đưa vào trong deque mà aj ge ai </s> <s> như vậy tại mọi thời điểm i ta luôn có danh sách các vị trí trên deque mà các giá trị tương ứng trên mảng a là tăng dần </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> a        </s> <s> </s> <s> i   deque   </s> <s> i   deque    </s> <s> i   deque     </s> <s> i   deque     </s> <s> i   deque    </s> <s> i   deque     </s> <s> </s> <s> code </s> <s> </s> <s> for  int i    i lt n   i  </s> <s> while  top gt  ampamp a  d  top  gt a  i   top  //cap nhat deque </s> <s> d   top   i  //dua i vao cuoi deque </s> <s>  </s> <s> </s> <s> theo cách hoạt động của deque ta có </s> <s> </s> <s> giả sử tại bước i đã xác định được i ở vị trí top trong deque </s> <s> khi đó li  dequetop     </s> <s> </s> <s> chứng minh </s> <s> </s> <s> từ  ta có ali –  lt ai  nên li   không bị loại khỏi deque trong quá trình cập nhật lại deque </s> <s> mặt khác cũng từ  ta có li   lớn nhất mọi số j in li i đều đã bị loại khỏi deque do aj ge ai nên li   sẽ đứng liền sát i trong deque </s> <s> ta đưa i vào vị trí cuối top của deque nên li   chính bằng dequetop   hay li  dequetop     </s> <s> </s> <s> </s> <s> vậy ta xác định được l của một phần tử bất kỳ ngay khi đưa phần tử đó vào deque </s> <s> </s> <s> </s> <s> bên cạnh đó gọi t là vị trí các phần tử của a bị loại khỏi deque trong quá trình cập nhật deque </s> <s> t bị loại khỏi deque tại thời điểm i chứng tỏ i là số đầu tiên xuất hiện trong deque mà ai lt at vì nếu tồn tại một số k thỏa mãn t lt k lt i mà ak lt at thì t đã bị loại tại thời điểm k </s> <s> </s> <s> </s> <s> d       </s> <s> for  int i    i lt n   i  </s> <s> while  top gt  ampamp a  d  top  gt a  i   top  </s> <s> l  i   d  top     </s> <s> d   top   i  </s> <s>  </s> <s> </s> <s> để tính mảng r ta làm ngược lại </s> <s> </s> <s> d     n    </s> <s> for  int i  n  i gt    i   </s> <s> while  top gt  ampamp a  d  top  gt a  i   top  </s> <s> r  i   d  top     </s> <s> d   top   i  </s> <s>  </s> <s> </s> <s> độ phức tạp của đoạn chương trình trên có thể đánh giá như sau với mỗi số trong dãy a ta chỉ đưa vào deque  lần duy nhất và cũng chỉ lấy ra khỏi deque  lần duy nhất </s> <s> do vậy chi phí thực hiện chỉ là n hay độ phức tạp của chương trình là mathcalon </s> <s> </s> <s> </s> <s> áp dụng </s> <s> </s> <s> chúng ta xem các bài tập sau đây </s> <s> </s> <s> áp dụng  </s> <s> </s> <s> voj  kagain </s> <s> </s> <s> tóm tắt đề </s> <s> </s> <s> cho dãy a gồm n phần tử </s> <s> </s> <s> </s> <s> ta chọn các đoạn liên tiếp i j bất kì </s> <s> “sức mạnh” của đoạn i j được định nghĩa như sau smi j  j – i    minai </s> <s> </s> <s> </s> <s>  aj </s> <s> </s> <s> </s> <s> yêu cầu cho biết sm lớn nhất có thể trong dãy a </s> <s> </s> <s> </s> <s> lời giải </s> <s> </s> <s> để tìm kết quả ta xét tất cả n trường hợp có ak chính bằng min của đoạn i j </s> <s> do ta đã cố định min của đoạn i j sức mạnh lớn nhất đạt được khi j  i là lớn nhất nói cách khác là khi dãy dài nhất </s> <s> rõ ràng đây chính là ứng dụng trực tiếp của mảng l và r </s> <s> </s> <s> </s> <s> xây dựng mảng l r và cập nhật kết quả bằng ri – li  ai </s> <s> </s> <s> </s> <s> áp dụng  </s> <s> </s> <s> voj  qbrect </s> <s> </s> <s> tóm tắt đề </s> <s> </s> <s> cho bảng số a chỉ gồm các phần tử   kích thước m  n </s> <s> tìm diện tích hình chữ nhật lớn nhất chỉ gồm các số  có cạnh song song với bảng </s> <s> </s> <s> </s> <s> lời giải </s> <s> </s> <s> xét hàng i </s> <s> với mỗi ô i j có giá trị  ta xét các ô ngay bên trên nó i j i j </s> <s> </s> <s> </s> <s>   j </s> <s> giả sử ô đầu tiên bằng  là k j </s> <s> nói cách khác tất cả các ô i j i j </s> <s> </s> <s> </s> <s>  k j đều bằng  </s> <s> ta đặt hij  k </s> <s> </s> <s> </s> <s> nếu i j có giá trị  ta đặt hij   </s> <s> </s> <s> </s> <s> ví dụ </s> <s> </s> <s> a  </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> </s> <s> h  </s> <s>     </s> <s>     </s> <s>     </s> <s>     </s> <s> </s> <s> ta có thể tính bảng h bằng quy hoạch động với độ phức tạp mathcalon như sau </s> <s> </s> <s> </s> <s> hij   nếu aij   </s> <s> ngược lại hij  hi – j   </s> <s> </s> <s> </s> <s> </s> <s> tiếp đó ta thấy rằng hình chữ nhật có cạnh đáy nằm ở hàng i cột trái ở j cột phải ở j có độ cao tối đa là minhi j </s> <s> </s> <s>  hi j </s> <s> và diện tích của hình chữ nhật này là j  i    minhi j </s> <s> </s> <s> </s> <s>  hi j </s> <s> đến đây ta làm tương tự bài kagain giả sử hình chữ nhật có cạnh đáy nằm ở hàng i và có hi j là min tìm đoạn j j dài nhất để có được hình chữ nhật lớn nhất </s> <s> </s> <s> </s> <s> áp dụng cách làm như bài kagain ta có thuật toán với độ phức tạp mathcalon cho bước này </s> <s> </s> <s> </s> <s> do đó ta giải quyết được bài tập này với mathcalon </s> <s> chú ý đây là độ phức tạp tối ưu do phần đọc ma trận a đã mất mathcalon rồi </s> <s> </s> <s> </s> <s> áp dụng  </s> <s> </s> <s> vojmink </s> <s> </s> <s> tóm tắt đề </s> <s> </s> <s> với mỗi ltiltnk tính minai </s> <s> </s> <s> aik </s> <s> </s> <s> lời giải </s> <s> </s> <s> ta thấy rằng khi dùng deque tương tự bài kagain thì ở mỗi vị trí i  d là mina </s> <s> </s> <s> ai </s> <s> vậy phần còn lại là loại đi các phần từ đầu deque có vị trí nhỏ hơn ik </s> <s> sau đó phần tử đầu deque sẽ là câu trả lời </s> <s> </s> <s> </s> <s> bài tập tương tự </s> <s> </s> <s> </s> <s> voj  crec </s> <s> voj  crect </s> <s> voj  nkgolf </s> <s> </s> <s> </s> <s> một vài bài tập khác sử dụng kĩ thuật tịnh tiến deque </s> <s> </s> <s> </s> <s> voj  kdiff </s> <s> voj  bland </s> <s> voj  ccir </s> <s> voj  vmquabeo </s> <s> </s> <s> </s> <s> </s> 