{"content": "Tác_giả : Nguyễn_Hoành Tiến_Table of_Contents Bài 1 : Kiểm_tra Palindrome_Bài 2 : Xâu con Palindrome dài nhất Cách 1 : QHĐ_Cách 2 : Duyệt có cận Bài 3 : Chia một xâu thành ít_nhất các Palindrome_Bài 4 : Pal - Ioicamp - Marathon 2005-2006 Bài 5 : Palindrome - IOI 2000 Bài_tập luyện_tập : Palindrome hay còn gọi_là xâu đối_xứng , xâu đối gương là tên_gọi của những xâu kí_tự mà khi viết từ phải qua trái hay từ trái qua phải_thì xâu đó không thay_đổi .\nVD : MADAM , IOI , . . .\nNhờ tính_chất đặc_biệt đó mà có khá nhiều bài_tập có liên_quan đến Palindrome , phần_lớn trong chúng thường đi_kèm với QHĐ .\nTôi xin giới_thiệu với các bạn một_vài bài_tập như_vậy .\nBài 1 : Kiểm_tra Palindrome Bài_toán : Cho 1 xâu .\nKiểm_tra nó có_phải là Palindrome hay_không ?\nĐây là một bài cơ_bản , nhưng quan_trọng vì nó được đề_cập đến trong nhiều bài_tập khác .\nCách làm tốt nhất_là duyệt đơn_thuần mất O(N) .\nfunction is_palindrome ( s : string ) : boolean ; var i , n : integer ; begin n : = length ( s ); for i : = 1 to ( n div 2 ) do if s i lt;gt; s n + 1 - i then exit ( false ); exit ( true ); end ; Một đoạn chương_trình khác : function is_palindrome ( s : string ) : boolean ; var i , j : integer ; begin i : = 1 ; j : = length ( n ); while ( i lt; j ) begin if s i lt;gt; s j then exit ( false ); inc ( i ); dec ( j ); end ; exit ( true ); end ; Bài 2 : Xâu con Palindrome dài nhất Bài_toán : Cho một xâu S , độ_dài không quá 1000 kí_tự .\nTìm palindrome dài nhất_là xâu con của S (Xâu con là một dãy các kí_tự liên tiếp) .\nĐây cũng là một bài cơ_bản với nhiều cách làm .\nCách 1 : QHĐ_Dùng mảng Fi , j có_ý nghĩa : Fi , j = true/false nếu đoạn gồm các kí_tự từ i đến j của S có/không là palindrome .\nTa có_công thức là : Fi , i = True : xâu 1 ký_tự luôn đối_xứng .\nFi , j = Fi+1 , j-1 nếu S_i = S_j .\nFi , j = False nếu S_i \\ne S_j .\nĐoạn chương_trình như_sau : FillChar ( F , sizeof ( F ) , false ); for i : = 1 to n do F i , i : = True ; for k : = 1 to ( n - 1 ) do for i : = 1 to ( n - k ) do begin j : = i + k ; F i , j : = ( F i + 1 , j - 1 ) and ( s i = s j ); end ; Kết_quả là : Max(j-i+1) \\le j thỏa Fi , j = True .\nĐộ phức_tạp thuật_toán là O(N2) .\nChú_ý : Với_N lớn , ta phải thay mảng 2 chiều F bằng 3 mảng 1 chiều và dùng thêm biến max lưu giá_trị tối_ưu .\nCách 2 : Duyệt có cận Ta xét từng vị_trí i : Xem S_i có_phải là tâm của Palindrome có lẻ kí_tự không ?\n(ví dụ Palindrome_MADAM có tâm là kí_tự D)_Xem S_i và S_i+1 có_phải là tâm của Palindrome có chẵn kí_tự không ?\n(ví dụ Palindrome_ABBA có tâm là 2 kí_tự BB)_Với mỗi kí_tự ta tìm palindrome dài nhất nhận nó là tâm , cập nhập lại kết_quả khi duyệt .\nTa duyệt từ giữa ra để dùng kết_quả hiện_tại làm cận .\nĐoạn chương_trình như_sau : Procedure_Lam ; var i , j : Longint ; procedure try ( first , last : Longint ); var dd : Longint ; begin if first = last then begin dd : = 1 ; dec ( first ); inc ( last ); end else dd : = 0 ; repeat if ( first lt; 1 ) or ( last gt; N ) then break ; if s i = s j then begin dd : = dd + 2 ; first : = first - 1 ; last : = last + 1 ; end else break ; until false ; if max lt; dd then max : = dd ; end ; begin i : = n div 2 ; j : = n div 2 + 1 ; max : = 1 ; while ( i gt; max div 2 ) and ( j lt;= N - max div 2 ) do begin if i gt; max div 2 then begin try ( i , i ); try ( i , i + 1 ); end ; if j lt;= N - max div 2 then begin try ( j , j ); try ( j , j + 1 ); end ; i : = i - 1 ; j : = j + 1 ; end ; end ; Cách làm này có độ phức_tạp : max (N-max) .\nVì_vậy nó chạy nhanh hơn cách QHĐ trên , thời_gian chậm nhất khi tất_cả các ký_tự giống nhau (khi đó , max = N/2) : cũng chỉ mất N2/4 và nhanh gấp 4 lần cách dùng QHĐ .\nNhờ vậy , chúng_ta biết là : không_phải lúc nào QHĐ cũng chấp_nhận được về_mặt thời_gian và không_phải lúc nào duyệt lúc nào cũng chậm .\nBài này còn có_một cách NlogN nữa_là dùng Suffix_Aray , thậm_chí có cách O(N) là sử_dụng Suffix_Tree và thuật_toán tìm LCA .\nĐương_nhiên cách cài_đặt không_hề dễ_dàng , tôi sẽ thảo_luận với các bạn vào một dịp khác .\nBài 3 : Chia một xâu thành ít_nhất các Palindrome Bài_toán : Cho 1 xâu độ_dài không quá 1000 .\nChia nó thành ít_nhất các Palindrome .\nBài này phức_tạp hơn bài trên , cách làm thì vẫn là QHĐ .\nGọi_F(i) là số palindrome ít_nhất mà đoạn 1 . . i chia thành được .\nTa có_công thức : Fi = min(Fi , Fj + 1) với j lt; i thỏa_mãn : đoạn j+1 . . i là palindrome Đoạn chương_trình như_sau : F 0 : = INFINITY ; for i : = 1 to n do for j : = i - 1 downto 0 do if ( isPalindrome ( j + 1 , i )) then F i : = min ( F i , F j + 1 ); Hai vòng for lồng nhau mất O(N2) , phần kiểm_tra đoạn j+1 . . i là palindrome hay_không mất O(N) , vậy độ phức_tạp thuật_toán là O(N3) .\nSẽ không được khả_thi nếu N = 1000 .\nĐể giảm độ phức_tạp thuật_toán , ta sử_dụng mảng Li , j có_ý nghĩa tương_tự như mảng Fi , j ở bài 1 .\nQHĐ lập mảng Li , j mất O(N2) .\nTổng_cộng là O(N2) vì mỗi lần kiểm_tra chỉ mất O(1) .\nMột_cách khác sử_dụng ít bộ_nhớ hơn_là dùng hai mảng một_chiều L_i và C_i có_ý nghĩa : L_i là độ_dài lớn nhất của palindrome độ_dài lẻ nhận S_i làm tâm C_i là độ_dài lớn nhất của palindrome độ_dài chẵn nhận S_i và S_i+1 làm tâm .\nL_i và C_i có_thể tính được bằng cách 2 bài 2 trong O(N2) .\nPhần kiểm_tra ta viết lại như_sau : function is_palindrome ( i , j : integer ) : boolean ; var dd : integer ; begin dd : = j - i + 1 ; if odd ( dd ) then is_palindrome : = ( L ( i + j ) div 2 gt;= n ) else is_palindrome : = ( C ( i + j ) div 2 gt;= n ) end ; Vậy thuật_toán của chúng_ta có độ phức_tạp tính_toán là O(N2) , chi_phí bộ_nhớ là O(N) .\nBài 4 : Pal - Ioicamp - Marathon 2005-2006 Bài_toán : Cho một xâu , hỏi nó có bao_nhiêu xâu con là palindrome; xâu con_ở đây gồm các kí_tự không cần liên_tiếp độ_dài không quá 120 .\nVí_dụ , xâu \"IOICAMP\" có 9 xâu con là palindrome : I_O_I_C_A_M_P_II_IOI_Đây là một bài_tập rất thú_vị .\nPhương_pháp là dùng QHĐ .\nGọi_Fi , j là số palindrome là xâu con của đoạn i , j .\nTa có_công thức : Fi , i = 1 Fi , j = Fi+1 , j + Fi , j-1 - Fi+1 , j-1 + T_Nếu S_i = S_j thì T = Fi+1 , j-1 + 1 Nếu S_i \\ne S_j thì T = 0 Đoạn chương_trình như_sau : procedure lam ; var k , i , j : integer ; begin n : = length ( s ); for i : = 1 to n do F i , i : = 1 ; for k : = 1 to n - 1 do for i : = 1 to n - k do begin j : = i + k ; F i , j : = F i , j - 1 + F i + 1 , j - F i + 1 , j - 1 ; if s i = s j then F i , j : = F i , j + F i + 1 , j - 1 + 1 ; end ; end ; Để chương_trình chạy nhanh hơn , chúng_ta sửa_lại đoạn mã một_chút như_sau : procedure lam2 ; var k , i , j : integer ; begin n : = length ( s ); for i : = 1 to n do F i , i : = 1 ; for k : = 1 to n do for i : = 1 to n - k do begin j : = i + k ; F i , j : = F i , j - 1 + F i + 1 , j ; if s i = s j then F i , j : = F i , j + 1 else F i , j : = F i , j - F i + 1 , j - 1 ; end ; end ; Đoạn chương_trình trên chỉ_có tính mô_phỏng , muốn hoàn_thiện bạn phải cài_đặt các phép_tính cộng_trừ số_lớn vì kết_quả có_thể lên tới 2n-1 .\nĐộ phức_tạp của thuật_toán là O(N2) .\nVì_vậy , chúng_ta hoàn_toàn có_thể làm với N = 1000 , khí đó cần rút_gọn mảng F thành ba mảng một_chiều .\nBài 5 : Palindrome - IOI 2000 Bài_toán : Cho một xâu độ_dài không quá 500 , hỏi phải thêm vào nó ít_nhất bao_nhiêu xâu kí_tự để nó trở_thành một palindrome .\nBài này cũng sử_dụng QHĐ : Gọi_Fi , j là số phép biến_đổi ít_nhất cần thêm vào đoạn i , j để đoạn i , j trở_thành palindrome .\nTa có_công thức : Fi , i = 0 Nếu S_i = S_j thì Fi , j = Fi+1 , j-1 Nếu S_i \\ne S_j thì Fi , j = Min(_Fi , j-1 , Fi+1 , j ) + 1 Bài này được ra từ thời năm 2000 , khi đó bộ_nhớ cho_phép rất nhỏ .\nMuốn chương_trình chạy với n = 500 thì cần rút_gọn F thành ba mảng một_chiều .\nMuốn truy vết , bạn phải dùng mảng bit hoặc dùng dữ_liệu động .\nBài_tập luyện_tập : SPOJ - PALIN\n", "tagged": "Tác_giả/N :/CH Nguyễn_Hoành/Np Tiến_Table/Np of_Contents/Np Bài/N 1/M :/CH Kiểm_tra/V Palindrome_Bài/Np 2/M :/CH Xâu/Np con/Nc Palindrome/Np dài/A nhất/A Cách/N 1/M :/CH QHĐ_Cách/Np 2/M :/CH Duyệt/V có/V cận/A Bài/N 3/M :/CH Chia/V một/M xâu/Np thành/V ít_nhất/A các/L Palindrome_Bài/Np 4/M :/CH Pal/Np -/CH Ioicamp/Np -/CH Marathon/Np 2005-2006/Np Bài/N 5/M :/CH Palindrome/Np -/CH IOI/Np 2000/M Bài_tập/Np luyện_tập/V :/CH Palindrome/Np hay/Cc còn/R gọi_là/V xâu/Np đối_xứng/Np ,/CH xâu/Np đối/V gương/N là/V tên_gọi/Np của/E những/L xâu/Np kí_tự/Np mà/C khi/N viết/V từ/E phải/V qua/V trái/Nc hay/Cc từ/E trái/Nc qua/V phải_thì/Np xâu/Np đó/P không/R thay_đổi/V ./CH\nVD/Np :/CH MADAM/Nb ,/CH IOI/Np ,/CH ./CH ./CH ./CH\nNhờ/V tính_chất/N đặc_biệt/A đó/P mà/C có/V khá/R nhiều/A bài_tập/Np có/V liên_quan/V đến/E Palindrome/Np ,/CH phần_lớn/N trong/E chúng/P thường/R đi_kèm/Np với/E QHĐ/Np ./CH\nTôi/P xin/V giới_thiệu/V với/E các/L bạn/N một_vài/L bài_tập/Np như_vậy/X ./CH\nBài/N 1/M :/CH Kiểm_tra/V Palindrome/Np Bài_toán/N :/CH Cho/E 1/M xâu/Np ./CH\nKiểm_tra/V nó/P có_phải/Np là/V Palindrome/Np hay_không/Np ?/CH\nĐây/P là/V một/M bài/N cơ_bản/A ,/CH nhưng/C quan_trọng/A vì/E nó/P được/V đề_cập/V đến/E trong/E nhiều/A bài_tập/Np khác/A ./CH\nCách/N làm/V tốt/A nhất_là/X duyệt/V đơn_thuần/A mất/V O(N)/Np ./CH\nfunction/Np is_palindrome/Np (/CH s/Y :/CH string/Np )/CH :/CH boolean/Np ;/CH var/Np i/M ,/CH n/Ny :/CH integer/Np ;/CH begin/Np n/Ny :/CH =/CH length/Np (/CH s/Y );/CH for/Np i/M :/CH =/CH 1/M to/A (/CH n/Ny div/Np 2/M )/CH do/E if/Np s/Y i/M lt;gt;/Np s/Y n/Ny +/CH 1/M -/CH i/M then/Np exit/Np (/CH false/Np );/CH exit/Np (/CH true/Np );/CH end/Np ;/CH Một/M đoạn/Nc chương_trình/N khác/A :/CH function/Np is_palindrome/Np (/CH s/Y :/CH string/Np )/CH :/CH boolean/Np ;/CH var/Np i/M ,/CH j/Np :/CH integer/Np ;/CH begin/Np i/M :/CH =/CH 1/M ;/CH j/Np :/CH =/CH length/Np (/CH n/Ny );/CH while/Np (/CH i/M lt;/Np j/Np )/CH begin/Np if/Np s/Y i/M lt;gt;/Np s/Y j/Np then/Np exit/Np (/CH false/Np );/CH inc/Np (/CH i/M );/CH dec/Np (/CH j/Np );/CH end/Np ;/CH exit/Np (/CH true/Np );/CH end/Np ;/CH Bài/N 2/M :/CH Xâu/Np con/Nc Palindrome/Np dài/A nhất/A Bài_toán/N :/CH Cho/E một/M xâu/Np S/Y ,/CH độ_dài/Np không/R quá/R 1000/M kí_tự/Np ./CH\nTìm/V palindrome/Np dài/A nhất_là/X xâu/Np con/Nc của/E S/Y (Xâu/Np con/Nc là/V một/M dãy/Nc các/L kí_tự/Np liên/Z tiếp)/Np ./CH\nĐây/P cũng/R là/V một/M bài/N cơ_bản/A với/E nhiều/A cách/N làm/V ./CH\nCách/N 1/M :/CH QHĐ_Dùng/Np mảng/N Fi/Np ,/CH j/Np có_ý/Np nghĩa/N :/CH Fi/Np ,/CH j/Np =/CH true/Np nếu/C đoạn/Nc gồm/V các/L kí_tự/Np từ/E i/M đến/E j/Np của/E S/Y có/V là/V palindrome/Np ./CH\nTa/P có_công/Np thức/V là/V :/CH Fi/Np ,/CH i/M =/CH True/Np :/CH xâu/Np 1/M ký_tự/Np luôn/R đối_xứng/Np ./CH\nFi/Np ,/CH j/Np =/CH Fi+1/Np ,/CH j-1/Np nếu/C S_i/Np =/CH S_j/Np ./CH\nFi/Np ,/CH j/Np =/CH False/Np nếu/C S_i/Np \\ne/Np S_j/Np ./CH\nĐoạn/Nc chương_trình/N như_sau/Np :/CH FillChar/Np (/CH F/Np ,/CH sizeof/Np (/CH F/Np )/CH ,/CH false/Np );/CH for/Np i/M :/CH =/CH 1/M to/A n/Ny do/E F/Np i/M ,/CH i/M :/CH =/CH True/Np ;/CH for/Np k/N :/CH =/CH 1/M to/A (/CH n/Ny -/CH 1/M )/CH do/E for/Np i/M :/CH =/CH 1/M to/A (/CH n/Ny -/CH k/N )/CH do/E begin/Np j/Np :/CH =/CH i/M +/CH k/N ;/CH F/Np i/M ,/CH j/Np :/CH =/CH (/CH F/Np i/M +/CH 1/M ,/CH j/Np -/CH 1/M )/CH and/Np (/CH s/Y i/M =/CH s/Y j/Np );/CH end/Np ;/CH Kết_quả/N là/V :/CH Max(j-i+1)/Np \\le/Np j/Np thỏa/V Fi/Np ,/CH j/Np =/CH True/Np ./CH\nĐộ/N phức_tạp/A thuật_toán/N là/V O(N2)/Np ./CH\nChú_ý/V :/CH Với_N/Np lớn/A ,/CH ta/P phải/V thay/V mảng/N 2/M chiều/N F/Np bằng/E 3/M mảng/N 1/M chiều/N và/Cc dùng/V thêm/V biến/V max/Np lưu/V giá_trị/N tối_ưu/A ./CH\nCách/N 2/M :/CH Duyệt/V có/V cận/A Ta/P xét/V từng/R vị_trí/N i/M :/CH Xem/V S_i/Np có_phải/Np là/V tâm/N của/E Palindrome/Np có/V lẻ/A kí_tự/Np không/R ?/CH\n(ví/Np dụ/V Palindrome_MADAM/Np có/V tâm/N là/V kí_tự/Np D)_Xem/Np S_i/Np và/Cc S_i+1/Np có_phải/Np là/V tâm/N của/E Palindrome/Np có/V chẵn/Np kí_tự/Np không/R ?/CH\n(ví/Np dụ/V Palindrome_ABBA/Np có/V tâm/N là/V 2/M kí_tự/Np BB)_Với/Np mỗi/L kí_tự/Np ta/P tìm/V palindrome/Np dài/A nhất/A nhận/V nó/P là/V tâm/N ,/CH cập/V nhập/V lại/R kết_quả/N khi/N duyệt/V ./CH\nTa/P duyệt/V từ/E giữa/N ra/V để/E dùng/V kết_quả/N hiện_tại/N làm/V cận/A ./CH\nĐoạn/Nc chương_trình/N như_sau/Np :/CH Procedure_Lam/Np ;/CH var/Np i/M ,/CH j/Np :/CH Longint/Np ;/CH procedure/Np try/Np (/CH first/Np ,/CH last/Np :/CH Longint/Np );/CH var/Np dd/Np :/CH Longint/Np ;/CH begin/Np if/Np first/Np =/CH last/Np then/Np begin/Np dd/Np :/CH =/CH 1/M ;/CH dec/Np (/CH first/Np );/CH inc/Np (/CH last/Np );/CH end/Np else/Np dd/Np :/CH =/CH 0/M ;/CH repeat/Np if/Np (/CH first/Np lt;/Np 1/M )/CH or/Np (/CH last/Np gt;/Np N/Ny )/CH then/Np break/Np ;/CH if/Np s/Y i/M =/CH s/Y j/Np then/Np begin/Np dd/Np :/CH =/CH dd/Np +/CH 2/M ;/CH first/Np :/CH =/CH first/Np -/CH 1/M ;/CH last/Np :/CH =/CH last/Np +/CH 1/M ;/CH end/Np else/Np break/Np ;/CH until/Np false/Np ;/CH if/Np max/Np lt;/Np dd/Np then/Np max/Np :/CH =/CH dd/Np ;/CH end/Np ;/CH begin/Np i/M :/CH =/CH n/Ny div/Np 2/M ;/CH j/Np :/CH =/CH n/Ny div/Np 2/M +/CH 1/M ;/CH max/Np :/CH =/CH 1/M ;/CH while/Np (/CH i/M gt;/Np max/Np div/Np 2/M )/CH and/Np (/CH j/Np lt;=/Np N/Ny -/CH max/Np div/Np 2/M )/CH do/E begin/Np if/Np i/M gt;/Np max/Np div/Np 2/M then/Np begin/Np try/Np (/CH i/M ,/CH i/M );/CH try/Np (/CH i/M ,/CH i/M +/CH 1/M );/CH end/Np ;/CH if/Np j/Np lt;=/Np N/Ny -/CH max/Np div/Np 2/M then/Np begin/Np try/Np (/CH j/Np ,/CH j/Np );/CH try/Np (/CH j/Np ,/CH j/Np +/CH 1/M );/CH end/Np ;/CH i/M :/CH =/CH i/M -/CH 1/M ;/CH j/Np :/CH =/CH j/Np +/CH 1/M ;/CH end/Np ;/CH end/Np ;/CH Cách/N làm/V này/P có/V độ/N phức_tạp/A :/CH max/Np (N-max)/Np ./CH\nVì_vậy/C nó/P chạy/V nhanh/A hơn/A cách/N QHĐ/Np trên/E ,/CH thời_gian/N chậm/A nhất/A khi/N tất_cả/P các/L ký_tự/Np giống/N nhau/N (khi/Np đó/P ,/CH max/Np =/CH N/Ny :/CH cũng/R chỉ/R mất/V N2/Np và/Cc nhanh/A gấp/V 4/M lần/N cách/N dùng/V QHĐ/Np ./CH\nNhờ/V vậy/P ,/CH chúng_ta/P biết/V là/V :/CH không_phải/Np lúc/N nào/P QHĐ/Np cũng/R chấp_nhận/V được/V về_mặt/Np thời_gian/N và/Cc không_phải/Np lúc/N nào/P duyệt/V lúc/N nào/P cũng/R chậm/A ./CH\nBài/N này/P còn/R có_một/Np cách/N NlogN/Np nữa_là/X dùng/V Suffix_Aray/Np ,/CH thậm_chí/R có/V cách/N O(N)/Np là/V sử_dụng/V Suffix_Tree/Np và/Cc thuật_toán/N tìm/V LCA/Np ./CH\nĐương_nhiên/Np cách/N cài_đặt/V không_hề/Np dễ_dàng/A ,/CH tôi/P sẽ/R thảo_luận/V với/E các/L bạn/N vào/E một/M dịp/N khác/A ./CH\nBài/N 3/M :/CH Chia/V một/M xâu/Np thành/V ít_nhất/A các/L Palindrome/Np Bài_toán/N :/CH Cho/E 1/M xâu/Np độ_dài/Np không/R quá/R 1000/M ./CH\nChia/V nó/P thành/V ít_nhất/A các/L Palindrome/Np ./CH\nBài/N này/P phức_tạp/A hơn/A bài/N trên/E ,/CH cách/N làm/V thì/C vẫn/R là/V QHĐ/Np ./CH\nGọi_F(i)/Np là/V số/N palindrome/Np ít_nhất/A mà/C đoạn/Nc 1/M ./CH ./CH i/M chia/V thành/V được/V ./CH\nTa/P có_công/Np thức/V :/CH Fi/Np =/CH min(Fi/Np ,/CH Fj/Np +/CH 1)/Np với/E j/Np lt;/Np i/M thỏa_mãn/V :/CH đoạn/Nc j+1/Np ./CH ./CH i/M là/V palindrome/Np Đoạn/Nc chương_trình/N như_sau/Np :/CH F/Np 0/M :/CH =/CH INFINITY/Np ;/CH for/Np i/M :/CH =/CH 1/M to/A n/Ny do/E for/Np j/Np :/CH =/CH i/M -/CH 1/M downto/Np 0/M do/E if/Np (/CH isPalindrome/Np (/CH j/Np +/CH 1/M ,/CH i/M ))/Np then/Np F/Np i/M :/CH =/CH min/Np (/CH F/Np i/M ,/CH F/Np j/Np +/CH 1/M );/CH Hai/M vòng/N for/Np lồng/N nhau/N mất/V O(N2)/Np ,/CH phần/N kiểm_tra/V đoạn/Nc j+1/Np ./CH ./CH i/M là/V palindrome/Np hay_không/Np mất/V O(N)/Np ,/CH vậy/P độ/N phức_tạp/A thuật_toán/N là/V O(N3)/Np ./CH\nSẽ/R không/R được/V khả_thi/A nếu/C N/Ny =/CH 1000/M ./CH\nĐể/E giảm/V độ/N phức_tạp/A thuật_toán/N ,/CH ta/P sử_dụng/V mảng/N Li/Np ,/CH j/Np có_ý/Np nghĩa/N tương_tự/A như/C mảng/N Fi/Np ,/CH j/Np ở/E bài/N 1/M ./CH\nQHĐ/Np lập/V mảng/N Li/Np ,/CH j/Np mất/V O(N2)/Np ./CH\nTổng_cộng/V là/V O(N2)/Np vì/E mỗi/L lần/N kiểm_tra/V chỉ/R mất/V O(1)/Np ./CH\nMột_cách/N khác/A sử_dụng/V ít/A bộ_nhớ/Np hơn_là/Np dùng/V hai/M mảng/N một_chiều/Np L_i/Np và/Cc C_i/Np có_ý/Np nghĩa/N :/CH L_i/Np là/V độ_dài/Np lớn/A nhất/A của/E palindrome/Np độ_dài/Np lẻ/A nhận/V S_i/Np làm/V tâm/N C_i/Np là/V độ_dài/Np lớn/A nhất/A của/E palindrome/Np độ_dài/Np chẵn/Np nhận/V S_i/Np và/Cc S_i+1/Np làm/V tâm/N ./CH\nL_i/Np và/Cc C_i/Np có_thể/R tính/V được/V bằng/E cách/N 2/M bài/N 2/M trong/E O(N2)/Np ./CH\nPhần/N kiểm_tra/V ta/P viết/V lại/R như_sau/Np :/CH function/Np is_palindrome/Np (/CH i/M ,/CH j/Np :/CH integer/Np )/CH :/CH boolean/Np ;/CH var/Np dd/Np :/CH integer/Np ;/CH begin/Np dd/Np :/CH =/CH j/Np -/CH i/M +/CH 1/M ;/CH if/Np odd/Np (/CH dd/Np )/CH then/Np is_palindrome/Np :/CH =/CH (/CH L/Ny (/CH i/M +/CH j/Np )/CH div/Np 2/M gt;=/Np n/Ny )/CH else/Np is_palindrome/Np :/CH =/CH (/CH C/Ni (/CH i/M +/CH j/Np )/CH div/Np 2/M gt;=/Np n/Ny )/CH end/Np ;/CH Vậy/P thuật_toán/N của/E chúng_ta/P có/V độ/N phức_tạp/A tính_toán/V là/V O(N2)/Np ,/CH chi_phí/N bộ_nhớ/Np là/V O(N)/Np ./CH\nBài/N 4/M :/CH Pal/Np -/CH Ioicamp/Np -/CH Marathon/Np 2005-2006/Np Bài_toán/N :/CH Cho/E một/M xâu/Np ,/CH hỏi/V nó/P có/V bao_nhiêu/P xâu/Np con/Nc là/V palindrome;/Np xâu/Np con_ở/Np đây/P gồm/V các/L kí_tự/Np không/R cần/V liên_tiếp/A độ_dài/Np không/R quá/R 120/M ./CH\nVí_dụ/C ,/CH xâu/Np \"IOICAMP\"/Np có/V 9/M xâu/Np con/Nc là/V palindrome/Np :/CH I_O_I_C_A_M_P_II_IOI_Đây/Np là/V một/M bài_tập/Np rất/R thú_vị/A ./CH\nPhương_pháp/N là/V dùng/V QHĐ/Np ./CH\nGọi_Fi/Np ,/CH j/Np là/V số/N palindrome/Np là/V xâu/Np con/Nc của/E đoạn/Nc i/M ,/CH j/Np ./CH\nTa/P có_công/Np thức/V :/CH Fi/Np ,/CH i/M =/CH 1/M Fi/Np ,/CH j/Np =/CH Fi+1/Np ,/CH j/Np +/CH Fi/Np ,/CH j-1/Np -/CH Fi+1/Np ,/CH j-1/Np +/CH T_Nếu/Np S_i/Np =/CH S_j/Np thì/C T/Nu =/CH Fi+1/Np ,/CH j-1/Np +/CH 1/M Nếu/C S_i/Np \\ne/Np S_j/Np thì/C T/Nu =/CH 0/M Đoạn/Nc chương_trình/N như_sau/Np :/CH procedure/Np lam/Np ;/CH var/Np k/N ,/CH i/M ,/CH j/Np :/CH integer/Np ;/CH begin/Np n/Ny :/CH =/CH length/Np (/CH s/Y );/CH for/Np i/M :/CH =/CH 1/M to/A n/Ny do/E F/Np i/M ,/CH i/M :/CH =/CH 1/M ;/CH for/Np k/N :/CH =/CH 1/M to/A n/Ny -/CH 1/M do/E for/Np i/M :/CH =/CH 1/M to/A n/Ny -/CH k/N do/E begin/Np j/Np :/CH =/CH i/M +/CH k/N ;/CH F/Np i/M ,/CH j/Np :/CH =/CH F/Np i/M ,/CH j/Np -/CH 1/M +/CH F/Np i/M +/CH 1/M ,/CH j/Np -/CH F/Np i/M +/CH 1/M ,/CH j/Np -/CH 1/M ;/CH if/Np s/Y i/M =/CH s/Y j/Np then/Np F/Np i/M ,/CH j/Np :/CH =/CH F/Np i/M ,/CH j/Np +/CH F/Np i/M +/CH 1/M ,/CH j/Np -/CH 1/M +/CH 1/M ;/CH end/Np ;/CH end/Np ;/CH Để/E chương_trình/N chạy/V nhanh/A hơn/A ,/CH chúng_ta/P sửa_lại/Np đoạn/Nc mã/N một_chút/L như_sau/Np :/CH procedure/Np lam2/Np ;/CH var/Np k/N ,/CH i/M ,/CH j/Np :/CH integer/Np ;/CH begin/Np n/Ny :/CH =/CH length/Np (/CH s/Y );/CH for/Np i/M :/CH =/CH 1/M to/A n/Ny do/E F/Np i/M ,/CH i/M :/CH =/CH 1/M ;/CH for/Np k/N :/CH =/CH 1/M to/A n/Ny do/E for/Np i/M :/CH =/CH 1/M to/A n/Ny -/CH k/N do/E begin/Np j/Np :/CH =/CH i/M +/CH k/N ;/CH F/Np i/M ,/CH j/Np :/CH =/CH F/Np i/M ,/CH j/Np -/CH 1/M +/CH F/Np i/M +/CH 1/M ,/CH j/Np ;/CH if/Np s/Y i/M =/CH s/Y j/Np then/Np F/Np i/M ,/CH j/Np :/CH =/CH F/Np i/M ,/CH j/Np +/CH 1/M else/Np F/Np i/M ,/CH j/Np :/CH =/CH F/Np i/M ,/CH j/Np -/CH F/Np i/M +/CH 1/M ,/CH j/Np -/CH 1/M ;/CH end/Np ;/CH end/Np ;/CH Đoạn/Nc chương_trình/N trên/E chỉ_có/Np tính/V mô_phỏng/Np ,/CH muốn/V hoàn_thiện/V bạn/N phải/V cài_đặt/V các/L phép_tính/Np cộng_trừ/Np số_lớn/Np vì/E kết_quả/N có_thể/R lên/V tới/E 2n-1/Np ./CH\nĐộ/N phức_tạp/A của/E thuật_toán/N là/V O(N2)/Np ./CH\nVì_vậy/C ,/CH chúng_ta/P hoàn_toàn/A có_thể/R làm/V với/E N/Ny =/CH 1000/M ,/CH khí/N đó/P cần/V rút_gọn/Np mảng/N F/Np thành/V ba/M mảng/N một_chiều/Np ./CH\nBài/N 5/M :/CH Palindrome/Np -/CH IOI/Np 2000/M Bài_toán/N :/CH Cho/E một/M xâu/Np độ_dài/Np không/R quá/R 500/M ,/CH hỏi/V phải/V thêm/V vào/E nó/P ít_nhất/A bao_nhiêu/P xâu/Np kí_tự/Np để/E nó/P trở_thành/V một/M palindrome/Np ./CH\nBài/N này/P cũng/R sử_dụng/V QHĐ/Np :/CH Gọi_Fi/Np ,/CH j/Np là/V số/N phép/N biến_đổi/V ít_nhất/A cần/V thêm/V vào/E đoạn/Nc i/M ,/CH j/Np để/E đoạn/Nc i/M ,/CH j/Np trở_thành/V palindrome/Np ./CH\nTa/P có_công/Np thức/V :/CH Fi/Np ,/CH i/M =/CH 0/M Nếu/C S_i/Np =/CH S_j/Np thì/C Fi/Np ,/CH j/Np =/CH Fi+1/Np ,/CH j-1/Np Nếu/C S_i/Np \\ne/Np S_j/Np thì/C Fi/Np ,/CH j/Np =/CH Min(_Fi/Np ,/CH j-1/Np ,/CH Fi+1/Np ,/CH j/Np )/CH +/CH 1/M Bài/N này/P được/V ra/V từ/E thời/N năm/N 2000/M ,/CH khi/N đó/P bộ_nhớ/Np cho_phép/V rất/R nhỏ/A ./CH\nMuốn/V chương_trình/N chạy/V với/E n/Ny =/CH 500/M thì/C cần/V rút_gọn/Np F/Np thành/V ba/M mảng/N một_chiều/Np ./CH\nMuốn/V truy/V vết/N ,/CH bạn/N phải/V dùng/V mảng/N bit/Np hoặc/Cc dùng/V dữ_liệu/N động/N ./CH\nBài_tập/Np luyện_tập/V :/CH SPOJ/Np -/CH PALIN/Np\n", "title": "Một vài bài tập về Palindrome\n", "link": "http://vnoi.info/wiki/algo/dp/palindrome-problems\n"}