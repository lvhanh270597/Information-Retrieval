{"content": "Nơi tổng_hợp và chia_sẻ những kiến_thức liên_quan tới giải_thuật nói_chung và lý_thuyết khoa_học máy_tính nói_riêng .\nin Nếu bạn đã từng thực_thi thuật_toán Kruskal tìm cây khung nhỏ nhất , chắc bạn sẽ_biết cấu_trúc union-find .\nĐó là một trong số rất nhiều ứng_dụng của cấu_trúc này .\nTrong phần này mình trình_bày cấu_trúc đó góc_độ một cấu_trúc dữ_liệu để lưu_trữ các tập_hợp rời nhau (disjoint sets) .\nDo_đó , cấu_trúc này còn gọi_là .\nBài_toán của chúng_ta như_sau : Hãy thiết_kế một cấu_trúc dữ_liệu cho thuật_toán sao_cho các thao_tác này được thực_hiện một_cách hiệu_quả nhất .\nTrong cấu_trúc này , mỗi tập_hợp được lưu_trữ bởi môt danh_sách liên_kết , và mỗi phần_tử của danh_sách sẽ có_một con_trỏ chỉ đến đầu của danh_sách (có thể coi là id của danh_sách vì mỗi phần_tử chỉ xuất_hiện trong tối_đa 1 danh sách) .\nCác thao_tác () và () có_thể được thực_hiện trong thời_gian như_sau : Với cấu_trúc lưu_trữ này , ta có_thể thực_hiện thao_tác gộp hai tập với chiều_dài tương_ứng trong thời_gian như_sau : Ta có_thể áp_dụng một_vài kĩ_thuật như_sau để cải_tiến ý_tưởng của thuật_toán ở trên : Do_đó : Ở đây chú_ý là chúng_ta phải thay_đổi thủ_tục () khởi tạo thông_tin và contrỏ (chi tiết coi_như bài tập) .\nGiả mã của thao_tác như_sau : Thao_tác union được minh_họa trong hình dưới_đây : Trong trường_hợp xấu nhất , ta sẽ mất thời_gian để gộp hai danh_sách có kích_thước cỡ .\nTuy_nhiên , những trường_hợp như_vậy sẽ \"không thường xuyên\" xảy_ra vì sau khi gộp ta thu được danh_sách kích_thước .\nNếu phân_tích kĩ hơn ta sẽ thấy trung_bình mỗi thao_tác () chỉ tốn cỡ .\nDễ thấy bước union sẽ thao_tác trên tập có kích_thước vì mỗi thao_tác union chỉ thao_tác trên tối_đa phần_tử mới .\nXét một phần_tử , ta sẽ phân_tích xem bao_nhiêu lần con_trỏ của được cập_nhật .\nTừ bổ_đề 1 , mỗi lần cập_nhật con_trỏ , kích_thước của tập_hợp chứa tăng lên ít_nhất 2 lần .\nDo_đó , con_trỏ của được cập_nhật tối_đa lần .\nTừ_đó , ta thu được định_lý 1 . Từ định_lý 1 , ta thu được hệ_quả sau : Do_đó , có_thể coi thời_gian \"khấu trừ\" (amortized time) của mỗi thao_tác là .\nTrong cấu_trúc cây , mỗi tập_hợp sẽ được biểu_diễn bởi một cây và mỗi nút của cây có_một con_trỏ chỉ tới một nút cha (parent -- người viết không có_ý phân_biệt cha/mẹ , chỉ là thấy nghe cha \"xuôi hơn\") .\nId của tập_hợp là id của nút gốc của cây .\nNgoài_ra , gốc của mỗi cây lưu_thông_tin là chiều_cao của cây biểu_diễn_tập hiện_tại .\nTrong cấu_trúc cây , thao_tác vẫn có thời_gian hằng_số , tuy_nhiên thao_tác sẽ không còn là hằng_số nữa .\nSự linh_động đó cũng dẫn đến nhiều phương_pháp cải_tiến cấu_trúc này .\nTrước_hết_mình trình_bày cấu_trúc cây đơn_giản , là cơ_sở cho các cải_tiến sau_này .\nHai thao_tác và trong cấu_trúc cây như_sau : Để phép được hiệu qủa , chúng_ta thiết_kế sao_cho chiều_cao của cây càng nhỏ càng tốt .\nMặt_khác chúng_ta phải duy_trì cấu_trúc cây sao_cho phép thực_hiện được hiệu qủa .\nTrong cấu_trúc cây , phép sẽ gộp cây có chiều_cao nhỏ vào cây có chiều_cao lớn hơn (gốc của cây_nhỏ hơn sẽ trở_thành nut con của gốc của cây lớn hơn) .\nKhác với cấu_trúc danh_sách , trong cấu_trúc cây , chúng_ta không cần phải thay_đổi con_trỏ của các nút của cây khi gộp ngoại_trừ nút gốc , do_đó , phép có_thể được thực_hiện nhanh hơn .\nGiả mã như_sau : Gọi_là cây có chiều_cao lớn nhất .\nCó_thể chứng_minh được bằng quy_nạp số_lượng nút trong cây có gốc ít_nhất_là .\nDo_đó . Ý_tưởng cải_thiện cấu_trúc cây cơ_bản như_sau : mỗi lần thực_hiện thao_tác () , ta kết_hợp với cập_nhật con_trỏ của các nút trên đường_đi từ nút tới nút gốc của cây_chứa để trỏ tới nút gốc .\nKhông khó để nhận_thấy nếu thao_tác () mất thời_gian thì việc thêm thao_tác cập_nhật con_trỏ trên đường_đi (còn gọi_là nén đường_đi -- path compression) mất thời_gian .\nDo_đó , về_mặt tiệm_cận , thời_gian của thao_tác () không thay_đổi .\nDo kết_hợp với nén đường_đi mỗi lần tìm_kiếm , thông_tin của nút gốc sẽ bị thay_đổi .\nCập_nhật thông_tin này rất tốn_kém .\nDo_đó , ta có_thể thay_đổi một_chút , thay_vì gộp cây theo độ sâu (depth) , ta sẽ gộp cây theo .\nThủ_tục và vẫn tương_tự như trường_hợp cây cơ_bản .\nMột_số tính_chất của hạng chúng_ta có_thể liệt_kê ra như_sau : Tính_chất cuối_cùng không dễ để nhận_thấy , tuy_nhiên chúng_ta có_thể lập_luận như_sau : để_ý thấy nếu một nút thay_đổi hạng từ lên (trường hợp này xảy_ra khi gộp hai cây có gốc có cùng hạng ) , cây mới có ít_nhất nút .\nTheo tính_chất 2 , hạng của các nút không_phải là gốc sẽ không bao_giờ thay_đổi , ta có_thể gán cho mỗi nút hạng một_tập hợp chứa có kích_thước .\nDo với hai nút có cùng hạng , .\nDo_đó , có tối_đa nút có_hạng . Ta sẽ phân_tích thời_gian tính_toán của thao_tác vì thao_tác tốn thời_gian bằng 2 thao_tác cộng với một hằng_số .\nTrước_hết ta định_nghĩa hàm .\nHàm tăng cực chậm , với , , do_đó , có_thể coi thực_tế nhỏ hơn hoặc bằng ( mới có cỡ ~ hạt cơ bản) .\nMột hàm tăng chậm khác dùng trong phân_tích union-find là hàm Ackerman ngược , kí_hiệu .\nHàm này còn chậm hơn rất nhiều so_với hàm .\nTarjan 4 chứng_minh rằng mỗi thao_tác find trong cấu_trúc cây kết_hợp nén đường_đi có thời_gian khấu_trừ .\nTrong bài này , mình chứng_minh kết_quả yếu hơn : Ta có_thể tính thời_gian cho mỗi thao_tác () bằng cách đếm \"chi phí\" như_sau : Cuối_cùng , phải trả chi_phí là số tiền mà nó nợ .\nNếu ở độ sâu càng lớn , chi_phí phải trả cuối_cùng càng nhiều .\nTuy_nhiên , sau khi đã thực_hiện thao_tác find đối_với và nén đường_đi , các thao_tác tìm_kiếm các nút trên đường_đi từ tới nút gốc sau_đó sẽ rẻ hơn rất nhiều .\nDo_đó , các nút trên đường_đi đó được hưởng lợi từ .\nĐể_cho công_bằng giữa các nút , chúng_ta sẽ tìm cách nào_đó để \"khấu trừ\" chi_phí khi thực_hiện () , hay nói_cách_khác , các nút trên đường_đi từ tới gốc cũng phải trả bớt tiền mà nợ . Trước_hết ta sẽ phân các nút thành các nhóm như_sau : Ở đây kí_hiệu , dấu_mũ_lặp lại lần .\nTóm_lại mỗi nhóm có_hạng từ tới .\nMột_vài điểm quan_trọng ở đây là : Xét một đường_đi từ tới nút gốc trong thao_tác () .\nGiả_sử đi_qua hai nút và trong đó nút là cha của nút .\nNếu và nằm trong cùng một nhóm , ta lấy đồng_từ thay_vì từ (vì được hưởng lợi) .\nNếu nằm trong nhóm cao hơn (là nhóm có_số thứ_tự cao hơn) , ta sẽ lấy đồng_từ .\nDo_đó : chỉ phải trả đồng vì chúng_ta chỉ_có nhóm khác_nhau . Bây_giờ sẽ là phần khó nhất , đó là trung_bình mỗi nút như_trên phải trả bao_nhiêu đồng ?\nThứ nhất , nút sẽ không bao_giờ thay_đổi hạng , theo tính_chất 2 của hạng .\nThứ_hai , mỗi lần nút trả bớt đồng cho một nút nào_đó , hạng của cha của tăng ít_nhất lên 1 , và cha của phải nằm trong cùng một nhóm với .\nDo_đó , nếu hạng của cha của tăng đến_mức của nhóm tiếp_theo , sẽ không bao_giờ phải trả tiền cho bất_kì một nút nào khác .\nNhư_vậy , phải trả tối_đa_số tiền là phạm_vi của hạng trong nhóm chứa ( là nếu trong nhóm có_hạng bắt_đầu_từ đến ) .\nNhóm chứa có kích_thước là , do_đó , tổng_số tiền mà tất_cả các nút trong nhóm này phải \"trả hộ\" nút khác là : Do_đó , tổng_số tiền \"trả hộ\" của tất_cả các nút là_vì số nhóm là .\nTổng_kết lại như_sau : nếu ta có thao_tác () , số tiền tất_cả các nút phải trả cuối_cùng là .\nTrong hầu_hết các thuật_toán , do_đó thời_gian khấu_trừ cho mỗi thao_tác là . Với cấu_trúc danh_sách liên_kết , cách thực_thi hiệu qủa có_lẽ cũng là sử_dụng danh_sách liên_kết .\nTuy_nhiên với cấu_trúc cây , chúng_ta không nhất_thiết phải sử_dụng cây để thực_thi .\nPhần này mình sẽ giới_thiệu phương_pháp thực_thi bằng mảng (array) .\nTa sử_dụng hai mảng : Các thao_tác cơ_bản như_sau : Union-Find có rất nhiều ứng_dụng mà nổi_tiếng là trong thực_thi thuật_toán Kruskal tìm cây khung nhỏ nhất .\nTrong phần này mình sẽ giới_thiệu ứng_dụng của Union-Find trong việc thiết_kế giải_thuật cho bài_toán lập lịch có thời_hạn đã giới_thiệu trọng bài .\nChi_tiết xem thêm tại bài trước .\nỞ đây mình nhắc_lại đề_bài và thuật_toán tham_lam : Giải_thuật : Trong thuật_toán trên , thời_gian để tìm một vị_trí để chèn một tác vụ mới mất cỡ .\nBằng_Union-Find , sử_dụng cấu_trúc cây kết_hợp nén đương đi , chúng_ta có_thể giảm thời_gian này xuống , do_đó , thuật_toán sẽ có tổng thời_gian là (nếu không tính bước sắp_xếp mất ) .\nGiả_sử thời_điểm hiện_tại ta có mảng là mảng lưu_trữ lịch_trình của các tác vụ chúng_ta đã được vào lời_giải tối_ưu trong các bước trước .\nMỗi tập_hợp của chúng_ta sẽ biểu_diễn một dãy liên_tục và tối_đại (maximal) các phần_tử khác 0 của mảng .\nNói_cách_khác , với mỗi tập_hợp chứa các phần_tử , ta luôn đảm_bảo điều_kiện : Ngoài_ra , gốc của mỗi tập_hợp sẽ lưu_trữ số , là vị_trí trái nhất (left-most) còn trống của dãy liên_tục này .\nĐể kiểm_tra xem tác vụ với thời_hạn có_thể chèn vào lịch_trình hiện_tại được không , ta làm như_sau : Chi_tiết giả mã như_sau : Code_bằng C của giả mã : Thủ_tục () không thay_đổi so_với ở trên .\nMảng là mảng lưu_trữ phần_tử trái nhất còn trống của một_tập .\nMột điểm chú_ý là thứ_tự của và trong () là quan_trọng , vì theo tứ tự đó , phần_tử trái nhất còn trống của tập chứa nhỏ hơn của tập chứa .\nThứ nữa đó là trong hàm () , phần_tử ngay sau có_thể khác 0 (do đó trong comment mình để \"supposed empty\") .\nNếu phần_tử này khác 0 , phép gộp trong hàm luôn đảm_bảo tập_hợp chứa sẽ được gộp với tập_hợp chứa .\nCode : .\n1 Avrim_Blum .\n, CMU , 2011 .\n2 Jeff_Erickson .\n, UIUC , 2013 .\n3 Jon_Kleinberg and Eva_Tardos .\n, Chapter 4 .\nAddison-Wesley_Longman_Publishing_Co . , Inc . , Boston , MA , USA , 2005 .\n4 Robert_Endre_Tarjan .\nJ .\nACM 22 , 2 (April 1975) , 215-225 .\nDOI=10 . 1145/321879 . 321884 5 Cormen , Thomas_H . ; Leiserson , Charles_E . , Rivest , Ronald_L . , Stein , Clifford .\n, Chapter 21 .\nMIT_Press and McGraw-Hill (2001) .\nISBN 0-262-03293-7 .\n, , Trackback link : Powered by and\n", "tagged": "Nơi/N tổng_hợp/V và/Cc chia_sẻ/V những/L kiến_thức/N liên_quan/V tới/E giải_thuật/Np nói_chung/X và/Cc lý_thuyết/Np khoa_học/N máy_tính/N nói_riêng/X ./CH\nin/V Nếu/C bạn/N đã/R từng/R thực_thi/V thuật_toán/N Kruskal/Np tìm/V cây/N khung/N nhỏ/A nhất/A ,/CH chắc/V bạn/N sẽ_biết/Np cấu_trúc/N union-find/Np ./CH\nĐó/P là/V một/M trong/E số/N rất/R nhiều/A ứng_dụng/V của/E cấu_trúc/N này/P ./CH\nTrong/E phần/N này/P mình/P trình_bày/V cấu_trúc/N đó/P góc_độ/N một/M cấu_trúc/N dữ_liệu/N để/E lưu_trữ/Np các/L tập_hợp/N rời/V nhau/N (disjoint/Np sets)/Np ./CH\nDo_đó/C ,/CH cấu_trúc/N này/P còn/R gọi_là/V ./CH\nBài_toán/N của/E chúng_ta/P như_sau/Np :/CH Hãy/R thiết_kế/V một/M cấu_trúc/N dữ_liệu/N cho/E thuật_toán/N sao_cho/Np các/L thao_tác/V này/P được/V thực_hiện/V một_cách/N hiệu_quả/N nhất/A ./CH\nTrong/E cấu_trúc/N này/P ,/CH mỗi/L tập_hợp/N được/V lưu_trữ/Np bởi/E môt/Np danh_sách/N liên_kết/V ,/CH và/Cc mỗi/L phần_tử/N của/E danh_sách/N sẽ/R có_một/Np con_trỏ/Np chỉ/R đến/E đầu/N của/E danh_sách/N (có/Np thể/N coi/V là/V id/Np của/E danh_sách/N vì/E mỗi/L phần_tử/N chỉ/R xuất_hiện/V trong/E tối_đa/A 1/M danh/N sách)/Np ./CH\nCác/L thao_tác/V ()/Np và/Cc ()/Np có_thể/R được/V thực_hiện/V trong/E thời_gian/N như_sau/Np :/CH Với/E cấu_trúc/N lưu_trữ/Np này/P ,/CH ta/P có_thể/R thực_hiện/V thao_tác/V gộp/V hai/M tập/V với/E chiều_dài/N tương_ứng/V trong/E thời_gian/N như_sau/Np :/CH Ta/P có_thể/R áp_dụng/V một_vài/L kĩ_thuật/N như_sau/Np để/E cải_tiến/V ý_tưởng/N của/E thuật_toán/N ở/E trên/E :/CH Do_đó/C :/CH Ở/E đây/P chú_ý/V là/V chúng_ta/P phải/V thay_đổi/V thủ_tục/N ()/Np khởi/V tạo/V thông_tin/N và/Cc contrỏ/Np (chi/Np tiết/N coi_như/Np bài/N tập)/Np ./CH\nGiả/A mã/N của/E thao_tác/V như_sau/Np :/CH Thao_tác/V union/Np được/V minh_họa/V trong/E hình/N dưới_đây/Np :/CH Trong/E trường_hợp/N xấu/A nhất/A ,/CH ta/P sẽ/R mất/V thời_gian/N để/E gộp/V hai/M danh_sách/N có/V kích_thước/N cỡ/N ./CH\nTuy_nhiên/C ,/CH những/L trường_hợp/N như_vậy/X sẽ/R \"không/Np thường/R xuyên\"/Np xảy_ra/Np vì/E sau/E khi/N gộp/V ta/P thu/V được/V danh_sách/N kích_thước/N ./CH\nNếu/C phân_tích/V kĩ/A hơn/A ta/P sẽ/R thấy/V trung_bình/A mỗi/L thao_tác/V ()/Np chỉ/R tốn/V cỡ/N ./CH\nDễ/A thấy/V bước/V union/Np sẽ/R thao_tác/V trên/E tập/V có/V kích_thước/N vì/E mỗi/L thao_tác/V union/Np chỉ/R thao_tác/V trên/E tối_đa/A phần_tử/N mới/R ./CH\nXét/V một/M phần_tử/N ,/CH ta/P sẽ/R phân_tích/V xem/V bao_nhiêu/P lần/N con_trỏ/Np của/E được/V cập_nhật/V ./CH\nTừ/E bổ_đề/Np 1/M ,/CH mỗi/L lần/N cập_nhật/V con_trỏ/Np ,/CH kích_thước/N của/E tập_hợp/N chứa/V tăng/V lên/V ít_nhất/A 2/M lần/N ./CH\nDo_đó/C ,/CH con_trỏ/Np của/E được/V cập_nhật/V tối_đa/A lần/N ./CH\nTừ_đó/Np ,/CH ta/P thu/V được/V định_lý/Np 1/M ./CH Từ/E định_lý/Np 1/M ,/CH ta/P thu/V được/V hệ_quả/Np sau/E :/CH Do_đó/C ,/CH có_thể/R coi/V thời_gian/N \"khấu/Np trừ\"/Np (amortized/Np time)/Np của/E mỗi/L thao_tác/V là/V ./CH\nTrong/E cấu_trúc/N cây/N ,/CH mỗi/L tập_hợp/N sẽ/R được/V biểu_diễn/V bởi/E một/M cây/N và/Cc mỗi/L nút/N của/E cây/N có_một/Np con_trỏ/Np chỉ/R tới/E một/M nút/N cha/N (parent/Np --/Np người/N viết/V không/R có_ý/Np phân_biệt/V cha/N ,/CH chỉ/R là/V thấy/V nghe/V cha/N \"xuôi/Np hơn\")/Np ./CH\nId/Np của/E tập_hợp/N là/V id/Np của/E nút/N gốc/N của/E cây/N ./CH\nNgoài_ra/X ,/CH gốc/N của/E mỗi/L cây/N lưu_thông_tin/Np là/V chiều_cao/N của/E cây/N biểu_diễn_tập/Np hiện_tại/N ./CH\nTrong/E cấu_trúc/N cây/N ,/CH thao_tác/V vẫn/R có/V thời_gian/N hằng_số/Np ,/CH tuy_nhiên/C thao_tác/V sẽ/R không/R còn/R là/V hằng_số/Np nữa/R ./CH\nSự/N linh_động/Np đó/P cũng/R dẫn/V đến/E nhiều/A phương_pháp/N cải_tiến/V cấu_trúc/N này/P ./CH\nTrước_hết_mình/Np trình_bày/V cấu_trúc/N cây/N đơn_giản/A ,/CH là/V cơ_sở/N cho/E các/L cải_tiến/V sau_này/N ./CH\nHai/M thao_tác/V và/Cc trong/E cấu_trúc/N cây/N như_sau/Np :/CH Để/E phép/N được/V hiệu/N qủa/Np ,/CH chúng_ta/P thiết_kế/V sao_cho/Np chiều_cao/N của/E cây/N càng/R nhỏ/A càng/R tốt/A ./CH\nMặt_khác/X chúng_ta/P phải/V duy_trì/V cấu_trúc/N cây/N sao_cho/Np phép/N thực_hiện/V được/V hiệu/N qủa/Np ./CH\nTrong/E cấu_trúc/N cây/N ,/CH phép/N sẽ/R gộp/V cây/N có/V chiều_cao/N nhỏ/A vào/E cây/N có/V chiều_cao/N lớn/A hơn/A (gốc/Np của/E cây_nhỏ/Np hơn/A sẽ/R trở_thành/V nut/Np con/Nc của/E gốc/N của/E cây/N lớn/A hơn)/Np ./CH\nKhác/A với/E cấu_trúc/N danh_sách/N ,/CH trong/E cấu_trúc/N cây/N ,/CH chúng_ta/P không/R cần/V phải/V thay_đổi/V con_trỏ/Np của/E các/L nút/N của/E cây/N khi/N gộp/V ngoại_trừ/Np nút/N gốc/N ,/CH do_đó/C ,/CH phép/N có_thể/R được/V thực_hiện/V nhanh/A hơn/A ./CH\nGiả/A mã/N như_sau/Np :/CH Gọi_là/V cây/N có/V chiều_cao/N lớn/A nhất/A ./CH\nCó_thể/R chứng_minh/V được/V bằng/E quy_nạp/Np số_lượng/N nút/N trong/E cây/N có/V gốc/N ít_nhất_là/Np ./CH\nDo_đó/C ./CH Ý_tưởng/N cải_thiện/V cấu_trúc/N cây/N cơ_bản/A như_sau/Np :/CH mỗi/L lần/N thực_hiện/V thao_tác/V ()/Np ,/CH ta/P kết_hợp/V với/E cập_nhật/V con_trỏ/Np của/E các/L nút/N trên/E đường_đi/Np từ/E nút/N tới/E nút/N gốc/N của/E cây_chứa/Np để/E trỏ/Np tới/E nút/N gốc/N ./CH\nKhông/R khó/A để/E nhận_thấy/Np nếu/C thao_tác/V ()/Np mất/V thời_gian/N thì/C việc/N thêm/V thao_tác/V cập_nhật/V con_trỏ/Np trên/E đường_đi/Np (còn/Np gọi_là/V nén/V đường_đi/Np --/Np path/Np compression)/Np mất/V thời_gian/N ./CH\nDo_đó/C ,/CH về_mặt/Np tiệm_cận/Np ,/CH thời_gian/N của/E thao_tác/V ()/Np không/R thay_đổi/V ./CH\nDo/E kết_hợp/V với/E nén/V đường_đi/Np mỗi/L lần/N tìm_kiếm/V ,/CH thông_tin/N của/E nút/N gốc/N sẽ/R bị/V thay_đổi/V ./CH\nCập_nhật/V thông_tin/N này/P rất/R tốn_kém/V ./CH\nDo_đó/C ,/CH ta/P có_thể/R thay_đổi/V một_chút/L ,/CH thay_vì/X gộp/V cây/N theo/V độ/N sâu/A (depth)/Np ,/CH ta/P sẽ/R gộp/V cây/N theo/V ./CH\nThủ_tục/N và/Cc vẫn/R tương_tự/A như/C trường_hợp/N cây/N cơ_bản/A ./CH\nMột_số/L tính_chất/N của/E hạng/N chúng_ta/P có_thể/R liệt_kê/V ra/V như_sau/Np :/CH Tính_chất/N cuối_cùng/A không/R dễ/A để/E nhận_thấy/Np ,/CH tuy_nhiên/C chúng_ta/P có_thể/R lập_luận/N như_sau/Np :/CH để_ý/V thấy/V nếu/C một/M nút/N thay_đổi/V hạng/N từ/E lên/V (trường/Np hợp/V này/P xảy_ra/Np khi/N gộp/V hai/M cây/N có/V gốc/N có/V cùng/A hạng/N )/CH ,/CH cây/N mới/R có/V ít_nhất/A nút/N ./CH\nTheo/V tính_chất/N 2/M ,/CH hạng/N của/E các/L nút/N không_phải/Np là/V gốc/N sẽ/R không/R bao_giờ/P thay_đổi/V ,/CH ta/P có_thể/R gán/V cho/E mỗi/L nút/N hạng/N một_tập/Np hợp/V chứa/V có/V kích_thước/N ./CH\nDo/E với/E hai/M nút/N có/V cùng/A hạng/N ,/CH ./CH\nDo_đó/C ,/CH có/V tối_đa/A nút/N có_hạng/A ./CH Ta/P sẽ/R phân_tích/V thời_gian/N tính_toán/V của/E thao_tác/V vì/E thao_tác/V tốn/V thời_gian/N bằng/E 2/M thao_tác/V cộng/V với/E một/M hằng_số/Np ./CH\nTrước_hết/N ta/P định_nghĩa/N hàm/Np ./CH\nHàm/Np tăng/V cực/A chậm/A ,/CH với/E ,/CH ,/CH do_đó/C ,/CH có_thể/R coi/V thực_tế/N nhỏ/A hơn/A hoặc/Cc bằng/E (/CH mới/R có/V cỡ/N ~/CH hạt/N cơ/N bản)/Np ./CH\nMột/M hàm/Np tăng/V chậm/A khác/A dùng/V trong/E phân_tích/V union-find/Np là/V hàm/Np Ackerman/Np ngược/A ,/CH kí_hiệu/Np ./CH\nHàm/Np này/P còn/R chậm/A hơn/A rất/R nhiều/A so_với/Np hàm/Np ./CH\nTarjan/Np 4/M chứng_minh/V rằng/C mỗi/L thao_tác/V find/Np trong/E cấu_trúc/N cây/N kết_hợp/V nén/V đường_đi/Np có/V thời_gian/N khấu_trừ/Np ./CH\nTrong/E bài/N này/P ,/CH mình/P chứng_minh/V kết_quả/N yếu/A hơn/A :/CH Ta/P có_thể/R tính/V thời_gian/N cho/E mỗi/L thao_tác/V ()/Np bằng/E cách/N đếm/V \"chi/Np phí\"/Np như_sau/Np :/CH Cuối_cùng/A ,/CH phải/V trả/V chi_phí/N là/V số/N tiền/N mà/C nó/P nợ/N ./CH\nNếu/C ở/E độ/N sâu/A càng/R lớn/A ,/CH chi_phí/N phải/V trả/V cuối_cùng/A càng/R nhiều/A ./CH\nTuy_nhiên/C ,/CH sau/E khi/N đã/R thực_hiện/V thao_tác/V find/Np đối_với/E và/Cc nén/V đường_đi/Np ,/CH các/L thao_tác/V tìm_kiếm/V các/L nút/N trên/E đường_đi/Np từ/E tới/E nút/N gốc/N sau_đó/Np sẽ/R rẻ/A hơn/A rất/R nhiều/A ./CH\nDo_đó/C ,/CH các/L nút/N trên/E đường_đi/Np đó/P được/V hưởng/V lợi/N từ/E ./CH\nĐể_cho/Np công_bằng/A giữa/N các/L nút/N ,/CH chúng_ta/P sẽ/R tìm/V cách/N nào_đó/P để/E \"khấu/Np trừ\"/Np chi_phí/N khi/N thực_hiện/V ()/Np ,/CH hay/Cc nói_cách_khác/Np ,/CH các/L nút/N trên/E đường_đi/Np từ/E tới/E gốc/N cũng/R phải/V trả/V bớt/V tiền/N mà/C nợ/N ./CH Trước_hết/N ta/P sẽ/R phân/V các/L nút/N thành/V các/L nhóm/N như_sau/Np :/CH Ở/E đây/P kí_hiệu/Np ,/CH dấu_mũ_lặp/Np lại/R lần/N ./CH\nTóm_lại/Np mỗi/L nhóm/N có_hạng/A từ/E tới/E ./CH\nMột_vài/L điểm/N quan_trọng/A ở/E đây/P là/V :/CH Xét/V một/M đường_đi/Np từ/E tới/E nút/N gốc/N trong/E thao_tác/V ()/Np ./CH\nGiả_sử/Np đi_qua/Np hai/M nút/N và/Cc trong/E đó/P nút/N là/V cha/N của/E nút/N ./CH\nNếu/C và/Cc nằm/V trong/E cùng/A một/M nhóm/N ,/CH ta/P lấy/V đồng_từ/Np thay_vì/X từ/E (vì/Np được/V hưởng/V lợi)/Np ./CH\nNếu/C nằm/V trong/E nhóm/N cao/A hơn/A (là/Np nhóm/N có_số/Np thứ_tự/N cao/A hơn)/Np ,/CH ta/P sẽ/R lấy/V đồng_từ/Np ./CH\nDo_đó/C :/CH chỉ/R phải/V trả/V đồng/Nu vì/E chúng_ta/P chỉ_có/Np nhóm/N khác_nhau/Np ./CH Bây_giờ/P sẽ/R là/V phần/N khó/A nhất/A ,/CH đó/P là/V trung_bình/A mỗi/L nút/N như_trên/Np phải/V trả/V bao_nhiêu/P đồng/Nu ?/CH\nThứ/N nhất/A ,/CH nút/N sẽ/R không/R bao_giờ/P thay_đổi/V hạng/N ,/CH theo/V tính_chất/N 2/M của/E hạng/N ./CH\nThứ_hai/N ,/CH mỗi/L lần/N nút/N trả/V bớt/V đồng/Nu cho/E một/M nút/N nào_đó/P ,/CH hạng/N của/E cha/N của/E tăng/V ít_nhất/A lên/V 1/M ,/CH và/Cc cha/N của/E phải/V nằm/V trong/E cùng/A một/M nhóm/N với/E ./CH\nDo_đó/C ,/CH nếu/C hạng/N của/E cha/N của/E tăng/V đến_mức/Np của/E nhóm/N tiếp_theo/V ,/CH sẽ/R không/R bao_giờ/P phải/V trả/V tiền/N cho/E bất_kì/R một/M nút/N nào/P khác/A ./CH\nNhư_vậy/X ,/CH phải/V trả/V tối_đa_số/Np tiền/N là/V phạm_vi/N của/E hạng/N trong/E nhóm/N chứa/V (/CH là/V nếu/C trong/E nhóm/N có_hạng/A bắt_đầu_từ/Np đến/E )/CH ./CH\nNhóm/N chứa/V có/V kích_thước/N là/V ,/CH do_đó/C ,/CH tổng_số/N tiền/N mà/C tất_cả/P các/L nút/N trong/E nhóm/N này/P phải/V \"trả/Np hộ\"/Np nút/N khác/A là/V :/CH Do_đó/C ,/CH tổng_số/N tiền/N \"trả/Np hộ\"/Np của/E tất_cả/P các/L nút/N là_vì/Np số/N nhóm/N là/V ./CH\nTổng_kết/V lại/R như_sau/Np :/CH nếu/C ta/P có/V thao_tác/V ()/Np ,/CH số/N tiền/N tất_cả/P các/L nút/N phải/V trả/V cuối_cùng/A là/V ./CH\nTrong/E hầu_hết/R các/L thuật_toán/N ,/CH do_đó/C thời_gian/N khấu_trừ/Np cho/E mỗi/L thao_tác/V là/V ./CH Với/E cấu_trúc/N danh_sách/N liên_kết/V ,/CH cách/N thực_thi/V hiệu/N qủa/Np có_lẽ/X cũng/R là/V sử_dụng/V danh_sách/N liên_kết/V ./CH\nTuy_nhiên/C với/E cấu_trúc/N cây/N ,/CH chúng_ta/P không/R nhất_thiết/R phải/V sử_dụng/V cây/N để/E thực_thi/V ./CH\nPhần/N này/P mình/P sẽ/R giới_thiệu/V phương_pháp/N thực_thi/V bằng/E mảng/N (array)/Np ./CH\nTa/P sử_dụng/V hai/M mảng/N :/CH Các/L thao_tác/V cơ_bản/A như_sau/Np :/CH Union-Find/Np có/V rất/R nhiều/A ứng_dụng/V mà/C nổi_tiếng/A là/V trong/E thực_thi/V thuật_toán/N Kruskal/Np tìm/V cây/N khung/N nhỏ/A nhất/A ./CH\nTrong/E phần/N này/P mình/P sẽ/R giới_thiệu/V ứng_dụng/V của/E Union-Find/Np trong/E việc/N thiết_kế/V giải_thuật/Np cho/E bài_toán/N lập/V lịch/N có/V thời_hạn/N đã/R giới_thiệu/V trọng/Np bài/N ./CH\nChi_tiết/N xem/V thêm/V tại/E bài/N trước/E ./CH\nỞ/E đây/P mình/P nhắc_lại/Np đề_bài/Np và/Cc thuật_toán/N tham_lam/Np :/CH Giải_thuật/Np :/CH Trong/E thuật_toán/N trên/E ,/CH thời_gian/N để/E tìm/V một/M vị_trí/N để/E chèn/V một/M tác/Np vụ/N mới/R mất/V cỡ/N ./CH\nBằng_Union-Find/Np ,/CH sử_dụng/V cấu_trúc/N cây/N kết_hợp/V nén/V đương/Np đi/V ,/CH chúng_ta/P có_thể/R giảm/V thời_gian/N này/P xuống/V ,/CH do_đó/C ,/CH thuật_toán/N sẽ/R có/V tổng/N thời_gian/N là/V (nếu/Np không/R tính/V bước/V sắp_xếp/V mất/V )/CH ./CH\nGiả_sử/Np thời_điểm/N hiện_tại/N ta/P có/V mảng/N là/V mảng/N lưu_trữ/Np lịch_trình/N của/E các/L tác/Np vụ/N chúng_ta/P đã/R được/V vào/E lời_giải/Np tối_ưu/A trong/E các/L bước/V trước/E ./CH\nMỗi/L tập_hợp/N của/E chúng_ta/P sẽ/R biểu_diễn/V một/M dãy/Nc liên_tục/A và/Cc tối_đại/Np (maximal)/Np các/L phần_tử/N khác/A 0/M của/E mảng/N ./CH\nNói_cách_khác/Np ,/CH với/E mỗi/L tập_hợp/N chứa/V các/L phần_tử/N ,/CH ta/P luôn/R đảm_bảo/V điều_kiện/N :/CH Ngoài_ra/X ,/CH gốc/N của/E mỗi/L tập_hợp/N sẽ/R lưu_trữ/Np số/N ,/CH là/V vị_trí/N trái/Nc nhất/A (left-most)/Np còn/R trống/A của/E dãy/Nc liên_tục/A này/P ./CH\nĐể/E kiểm_tra/V xem/V tác/Np vụ/N với/E thời_hạn/N có_thể/R chèn/V vào/E lịch_trình/N hiện_tại/N được/V không/R ,/CH ta/P làm/V như_sau/Np :/CH Chi_tiết/N giả/A mã/N như_sau/Np :/CH Code_bằng/Np C/Ni của/E giả/A mã/N :/CH Thủ_tục/N ()/Np không/R thay_đổi/V so_với/Np ở/E trên/E ./CH\nMảng/N là/V mảng/N lưu_trữ/Np phần_tử/N trái/Nc nhất/A còn/R trống/A của/E một_tập/Np ./CH\nMột/M điểm/N chú_ý/V là/V thứ_tự/N của/E và/Cc trong/E ()/Np là/V quan_trọng/A ,/CH vì/E theo/V tứ/M tự/P đó/P ,/CH phần_tử/N trái/Nc nhất/A còn/R trống/A của/E tập/V chứa/V nhỏ/A hơn/A của/E tập/V chứa/V ./CH\nThứ/N nữa/R đó/P là/V trong/E hàm/Np ()/Np ,/CH phần_tử/N ngay/R sau/E có_thể/R khác/A 0/M (do/Np đó/P trong/E comment/Np mình/P để/E \"supposed/Np empty\")/Np ./CH\nNếu/C phần_tử/N này/P khác/A 0/M ,/CH phép/N gộp/V trong/E hàm/Np luôn/R đảm_bảo/V tập_hợp/N chứa/V sẽ/R được/V gộp/V với/E tập_hợp/N chứa/V ./CH\nCode/Np :/CH ./CH\n1/M Avrim_Blum/Np ./CH\n,/CH CMU/Np ,/CH 2011/M ./CH\n2/M Jeff_Erickson/Np ./CH\n,/CH UIUC/Np ,/CH 2013/M ./CH\n3/M Jon_Kleinberg/Np and/Np Eva_Tardos/Np ./CH\n,/CH Chapter/Np 4/M ./CH\nAddison-Wesley_Longman_Publishing_Co/Np ./CH ,/CH Inc/Np ./CH ,/CH Boston/Np ,/CH MA/N ,/CH USA/Np ,/CH 2005/M ./CH\n4/M Robert_Endre_Tarjan/Np ./CH\nJ/Np ./CH\nACM/Np 22/M ,/CH 2/M (April/Np 1975)/Np ,/CH 215-225/Np ./CH\nDOI=10/Np ./CH 1145/Np ./CH 321884/Np 5/M Cormen/Np ,/CH Thomas_H/Np ./CH ;/CH Leiserson/Np ,/CH Charles_E/Np ./CH ,/CH Rivest/Np ,/CH Ronald_L/Np ./CH ,/CH Stein/Np ,/CH Clifford/Np ./CH\n,/CH Chapter/Np 21/M ./CH\nMIT_Press/Np and/Np McGraw-Hill/Np (2001)/Np ./CH\nISBN/Np 0-262-03293-7/Np ./CH\n,/CH ,/CH Trackback/Np link/Np :/CH Powered/Np by/Np and/Np\n", "title": "Cấu trúc Union-Find -- Union-Find data structure\n", "link": "http://www.giaithuatlaptrinh.com/?p=218\n"}