{"content": "Nơi tổng_hợp và chia_sẻ những kiến_thức liên_quan tới giải_thuật nói_chung và lý_thuyết khoa_học máy_tính nói_riêng .\nin Xem bài tiếp_theo về . Trong , chúng_ta đã tìm_hiểu sơ_bộ về cây nhị_phân tìm_kiếm , tìm_kiếm trên cây và định_nghĩa hai loại cây : AVL và cây_đỏ đen .\nTrong bài này ta tìm_hiểu cách chèn thêm một khóa vào cây AVL mà vẫn đảm_bảo các tính_chất của cây AVL sau khi chèn .\nBài tiếp_theo , chúng_ta sẽ tìm_hiểu cách xóa_một nút khỏi cây AVL . Một_số khái_niệm như chiều_cao của một nút , bạn_đọc xem_lại .\nMình chỉ nhắc_lại tính_chất cân_bằng của cây AVL ở đây .\nTrong , ta đã chứng_minh rằng cây AVL có nút trong sẽ có chiều_cao .\nỞ đây ta vẫn giữ quy_ước các nút lá là . Giả_sử khóa ta muốn chèn vào trong cây AVL là một , i . e , không có khóa nào trong cây có cùng giá_trị .\nĐiều này có_thể được đảm_bảo bằng cách kiểm_tra xem khóa đã tồn_tại trong cây hay chưa trước_khi thực_hiện chèn .\nSau khi chèn một khóa , ta phải đảm_bảo hai điều_kiện : Để đảm_bảo điều_kiện (1) , ta luôn chèn một khóa mới vào vị_trí sao_cho nút mới chèn là nút lá của cây .\nTạm_thời gác lại điều_kiện (2) , giả mã chèn vào cây như_sau : Ví_dụ trong Figure 1 dưới_đây , ta có_một cây AVL với tập khóa (Figure 1(a)) .\nTa chèn thêm khóa 15 vào cây trong Figure 1(a) , thu được cây trong Figure 1(b) .\nDễ_dàng kiểm_tra được cây trong Figure 1(b) vẫn là cây AVL .\nTa chèn tiếp khóa 12 vào Figure 1(b) , thu được Figure 1(c) .\nCây trong Figure 1(c) không còn là cây AVL nữa vì hai nút tô_màu đỏ trong cây vi_phạm điều_kiện trong phương_trình .\n(a) một cây AVL .\nNode có kí_hiệu lần_lượt tương_ứng với trường_hợp chiều_cao con phải chiều_cao con trái , chiều_cao con phải chiều_cao con trái 1 đơn_vị và chiều_cao con phải chiều_cao con trái 1 đơn_vị .\n(b) cây thu được sau khi chèn khóa 15 .\nChú_ý sự thay_đổi của 3 kí_hiệu .\n(c) cây thu được sau khi chèn thêm khóa 12 .\nHai nút tô_màu hồng và có dấu là nút bị mất cân_bằng , chiều_cao con phải lớn hơn chiều_cao con trái 2 đơn_vị tại các nút này .\nPhép chèn như_trên đảm_bảo điều_kiện (1) nhưng sau khi chèn , cây mới có_thể vi_phạm điều_kiện cân_bằng .\nVí_dụ trong Figure 1(c) , sau khi chèn , các nút đều vi_phạm điều_kiện cân_bằng .\nDo_đó , ta cần một cơ_chế để đảm_bảo tính cân_bằng sau khi chèn .\nĐể hiểu các cơ_chế này , trước_hết , ta nghiên_cứu cấu_trúc của các nút bị mất cân_bằng .\nTa có nhận_xét : Gọi_là nút mới chèn .\nGọi_là nút bị mất cần bằng gần nhất .\nGọi_là chiều_cao của nút trước_khi chèn .\nKhông mất tính tổng_quát , ta giả_sử được chèn vào của .\nTa có : Gọi_là nút con phải của .\nTheo_Observation 2 , .\nBổ_đề sau cho chúng_ta biết cấu_trúc của cây tại nút .\nGiả_sử < .\nNếu được vào cây_con phải của thì nút sẽ bị mất cân_bằng , trái với giả_thiết là nút mất cân_bằng gần nhất .\nNếu được chèn vào cây_con trái của thì chiều_cao của không thay_đổi sau khi chèn .\nNhư_vậy , sẽ không bị mất cân_bằng .\nTrái với giả_thiết_bị mất cân_bằng . Trường_hợp < chứng_minh tương_tự . Ta xét hai trường_hợp . Xem minh_họa trong Figure 3(a) .\nTrường_hợp này ta thực_hiện (left rotation) tại : ta gán con trái của làm con phải của và gán làm con trái của và cho nút cha của trỏ vào .\nXem minh_họa trong Figure 3(b) .\n(a) nút bị mất cân_bằng (lệch về bên phải) sau khi chèn vào cây_con phải của .\n(b) phép quay_trái tại để thự hiện cân_bằng .\nChú_ý chiều_cao của và sự thay_đổi các kí_hiệu sau khi quay .\nTa có : Giả mã : Code_C : Gọi_là nút con trái của .\nLập_luận tương_tự như Lemma 1 , ta có : Xem minh_họa Lemma 2 trong Figure 4(a) .\nNhư_vậy , sau khi chèn , cây_con trái hoặc phải của sẽ có chiều_cao , tùy thuộc bị chèn vào cây_con nào .\nTrong trường_hợp này , ta thực_hiện phép (doubly left rotation) tại như_sau : (a) gán con trái của làm con phải của , (b) gán con phải của làm con trái của , (c) gán làm con trái của và (d) gán làm con phải của .\nXem minh_họa trong Figure 4(b) .\n(a) nút bị mất cân_bằng (lệch về bên phải) sau khi chèn vào cây_con trái của .\nTrong hình trên , ta giả_sử được chèn vào cây_con trái của .\nNếu được chèn vào cây_con phải của thì thao_tác quay vẫn không thay_đổi .\n(b) phép quay kép trái tại để thự hiện cân_bằng .\nChú_ý chiều_cao của và sự thay_đổi các kí_hiệu sau khi quay .\nGiả mã : Thủ_tục chèn đầy_đủ như_sau : Giả mã của và coi_như bài_tập cho bạn_đọc .\nCode đây đủ thủ_tục chèn trong C : Cám_ơn bạn Nam_Nguyen đã chỉ ra một_số lỗi sai rất tinh_vi trong phiên_bản trước của bài vết . Code đầy_đủ : 1 G .\nAdelson-Velsky and E .\nLandis .\n.\nProceedings of the USSR_Academy of Sciences (in Russian) .\n146 : 263–266 .\nEnglish translation by Myron_J .\nRicci in Soviet_Math .\nDoklady , 3 : 1259–1263 , 1962 .\n2 D .\nKnuth .\n.\nAddison-Wesley , 1997 . Trackback link : Powered by and\n", "tagged": "Nơi/N tổng_hợp/V và/Cc chia_sẻ/V những/L kiến_thức/N liên_quan/V tới/E giải_thuật/Np nói_chung/X và/Cc lý_thuyết/Np khoa_học/N máy_tính/N nói_riêng/X ./CH\nin/V Xem/V bài/N tiếp_theo/V về/E ./CH Trong/E ,/CH chúng_ta/P đã/R tìm_hiểu/V sơ_bộ/A về/E cây/N nhị_phân/Np tìm_kiếm/V ,/CH tìm_kiếm/V trên/E cây/N và/Cc định_nghĩa/N hai/M loại/N cây/N :/CH AVL/Np và/Cc cây_đỏ/Np đen/A ./CH\nTrong/E bài/N này/P ta/P tìm_hiểu/V cách/N chèn/V thêm/V một/M khóa/N vào/E cây/N AVL/Np mà/C vẫn/R đảm_bảo/V các/L tính_chất/N của/E cây/N AVL/Np sau/E khi/N chèn/V ./CH\nBài/N tiếp_theo/V ,/CH chúng_ta/P sẽ/R tìm_hiểu/V cách/N xóa_một/Np nút/N khỏi/V cây/N AVL/Np ./CH Một_số/L khái_niệm/N như/C chiều_cao/N của/E một/M nút/N ,/CH bạn_đọc/N xem_lại/V ./CH\nMình/P chỉ/R nhắc_lại/Np tính_chất/N cân_bằng/A của/E cây/N AVL/Np ở/E đây/P ./CH\nTrong/E ,/CH ta/P đã/R chứng_minh/V rằng/C cây/N AVL/Np có/V nút/N trong/E sẽ/R có/V chiều_cao/N ./CH\nỞ/E đây/P ta/P vẫn/R giữ/V quy_ước/N các/L nút/N lá/N là/V ./CH Giả_sử/Np khóa/N ta/P muốn/V chèn/V vào/E trong/E cây/N AVL/Np là/V một/M ,/CH i/M ./CH e/Ni ,/CH không/R có/V khóa/N nào/P trong/E cây/N có/V cùng/A giá_trị/N ./CH\nĐiều/N này/P có_thể/R được/V đảm_bảo/V bằng/E cách/N kiểm_tra/V xem/V khóa/N đã/R tồn_tại/V trong/E cây/N hay/Cc chưa/R trước_khi/Np thực_hiện/V chèn/V ./CH\nSau/E khi/N chèn/V một/M khóa/N ,/CH ta/P phải/V đảm_bảo/V hai/M điều_kiện/N :/CH Để/E đảm_bảo/V điều_kiện/N (1)/Np ,/CH ta/P luôn/R chèn/V một/M khóa/N mới/R vào/E vị_trí/N sao_cho/Np nút/N mới/R chèn/V là/V nút/N lá/N của/E cây/N ./CH\nTạm_thời/A gác/V lại/R điều_kiện/N (2)/Np ,/CH giả/A mã/N chèn/V vào/E cây/N như_sau/Np :/CH Ví_dụ/C trong/E Figure/Np 1/M dưới_đây/Np ,/CH ta/P có_một/Np cây/N AVL/Np với/E tập/V khóa/N (Figure/Np 1(a))/Np ./CH\nTa/P chèn/V thêm/V khóa/N 15/M vào/E cây/N trong/E Figure/Np 1(a)/Np ,/CH thu/V được/V cây/N trong/E Figure/Np 1(b)/Np ./CH\nDễ_dàng/A kiểm_tra/V được/V cây/N trong/E Figure/Np 1(b)/Np vẫn/R là/V cây/N AVL/Np ./CH\nTa/P chèn/V tiếp/V khóa/N 12/M vào/E Figure/Np 1(b)/Np ,/CH thu/V được/V Figure/Np 1(c)/Np ./CH\nCây/N trong/E Figure/Np 1(c)/Np không/R còn/R là/V cây/N AVL/Np nữa/R vì/E hai/M nút/N tô_màu/Np đỏ/A trong/E cây/N vi_phạm/V điều_kiện/N trong/E phương_trình/Np ./CH\n(a)/Np một/M cây/N AVL/Np ./CH\nNode/Np có/V kí_hiệu/Np lần_lượt/R tương_ứng/V với/E trường_hợp/N chiều_cao/N con/Nc phải/V chiều_cao/N con/Nc trái/Nc ,/CH chiều_cao/N con/Nc phải/V chiều_cao/N con/Nc trái/Nc 1/M đơn_vị/N và/Cc chiều_cao/N con/Nc phải/V chiều_cao/N con/Nc trái/Nc 1/M đơn_vị/N ./CH\n(b)/Np cây/N thu/V được/V sau/E khi/N chèn/V khóa/N 15/M ./CH\nChú_ý/V sự/N thay_đổi/V của/E 3/M kí_hiệu/Np ./CH\n(c)/Np cây/N thu/V được/V sau/E khi/N chèn/V thêm/V khóa/N 12/M ./CH\nHai/M nút/N tô_màu/Np hồng/A và/Cc có/V dấu/N là/V nút/N bị/V mất/V cân_bằng/A ,/CH chiều_cao/N con/Nc phải/V lớn/A hơn/A chiều_cao/N con/Nc trái/Nc 2/M đơn_vị/N tại/E các/L nút/N này/P ./CH\nPhép/N chèn/V như_trên/Np đảm_bảo/V điều_kiện/N (1)/Np nhưng/C sau/E khi/N chèn/V ,/CH cây/N mới/R có_thể/R vi_phạm/V điều_kiện/N cân_bằng/A ./CH\nVí_dụ/C trong/E Figure/Np 1(c)/Np ,/CH sau/E khi/N chèn/V ,/CH các/L nút/N đều/R vi_phạm/V điều_kiện/N cân_bằng/A ./CH\nDo_đó/C ,/CH ta/P cần/V một/M cơ_chế/N để/E đảm_bảo/V tính/V cân_bằng/A sau/E khi/N chèn/V ./CH\nĐể/E hiểu/V các/L cơ_chế/N này/P ,/CH trước_hết/N ,/CH ta/P nghiên_cứu/V cấu_trúc/N của/E các/L nút/N bị/V mất/V cân_bằng/A ./CH\nTa/P có/V nhận_xét/N :/CH Gọi_là/V nút/N mới/R chèn/V ./CH\nGọi_là/V nút/N bị/V mất/V cần/V bằng/E gần/A nhất/A ./CH\nGọi_là/V chiều_cao/N của/E nút/N trước_khi/Np chèn/V ./CH\nKhông/R mất/V tính/V tổng_quát/Np ,/CH ta/P giả_sử/Np được/V chèn/V vào/E của/E ./CH\nTa/P có/V :/CH Gọi_là/V nút/N con/Nc phải/V của/E ./CH\nTheo_Observation/Np 2/M ,/CH ./CH\nBổ_đề/Np sau/E cho/E chúng_ta/P biết/V cấu_trúc/N của/E cây/N tại/E nút/N ./CH\nGiả_sử/Np </Np ./CH\nNếu/C được/V vào/E cây_con/Np phải/V của/E thì/C nút/N sẽ/R bị/V mất/V cân_bằng/A ,/CH trái/Nc với/E giả_thiết/N là/V nút/N mất/V cân_bằng/A gần/A nhất/A ./CH\nNếu/C được/V chèn/V vào/E cây_con/Np trái/Nc của/E thì/C chiều_cao/N của/E không/R thay_đổi/V sau/E khi/N chèn/V ./CH\nNhư_vậy/X ,/CH sẽ/R không/R bị/V mất/V cân_bằng/A ./CH\nTrái/Nc với/E giả_thiết_bị/Np mất/V cân_bằng/A ./CH Trường_hợp/N </Np chứng_minh/V tương_tự/A ./CH Ta/P xét/V hai/M trường_hợp/N ./CH Xem/V minh_họa/V trong/E Figure/Np 3(a)/Np ./CH\nTrường_hợp/N này/P ta/P thực_hiện/V (left/Np rotation)/Np tại/E :/CH ta/P gán/V con/Nc trái/Nc của/E làm/V con/Nc phải/V của/E và/Cc gán/V làm/V con/Nc trái/Nc của/E và/Cc cho/E nút/N cha/N của/E trỏ/Np vào/E ./CH\nXem/V minh_họa/V trong/E Figure/Np 3(b)/Np ./CH\n(a)/Np nút/N bị/V mất/V cân_bằng/A (lệch/Np về/E bên/N phải)/Np sau/E khi/N chèn/V vào/E cây_con/Np phải/V của/E ./CH\n(b)/Np phép/N quay_trái/Np tại/E để/E thự/Np hiện/N cân_bằng/A ./CH\nChú_ý/V chiều_cao/N của/E và/Cc sự/N thay_đổi/V các/L kí_hiệu/Np sau/E khi/N quay/V ./CH\nTa/P có/V :/CH Giả/A mã/N :/CH Code_C/Np :/CH Gọi_là/V nút/N con/Nc trái/Nc của/E ./CH\nLập_luận/N tương_tự/A như/C Lemma/Np 1/M ,/CH ta/P có/V :/CH Xem/V minh_họa/V Lemma/Np 2/M trong/E Figure/Np 4(a)/Np ./CH\nNhư_vậy/X ,/CH sau/E khi/N chèn/V ,/CH cây_con/Np trái/Nc hoặc/Cc phải/V của/E sẽ/R có/V chiều_cao/N ,/CH tùy/V thuộc/V bị/V chèn/V vào/E cây_con/Np nào/P ./CH\nTrong/E trường_hợp/N này/P ,/CH ta/P thực_hiện/V phép/N (doubly/Np left/Np rotation)/Np tại/E như_sau/Np :/CH (a)/Np gán/V con/Nc trái/Nc của/E làm/V con/Nc phải/V của/E ,/CH (b)/Np gán/V con/Nc phải/V của/E làm/V con/Nc trái/Nc của/E ,/CH (c)/Np gán/V làm/V con/Nc trái/Nc của/E và/Cc (d)/Np gán/V làm/V con/Nc phải/V của/E ./CH\nXem/V minh_họa/V trong/E Figure/Np 4(b)/Np ./CH\n(a)/Np nút/N bị/V mất/V cân_bằng/A (lệch/Np về/E bên/N phải)/Np sau/E khi/N chèn/V vào/E cây_con/Np trái/Nc của/E ./CH\nTrong/E hình/N trên/E ,/CH ta/P giả_sử/Np được/V chèn/V vào/E cây_con/Np trái/Nc của/E ./CH\nNếu/C được/V chèn/V vào/E cây_con/Np phải/V của/E thì/C thao_tác/V quay/V vẫn/R không/R thay_đổi/V ./CH\n(b)/Np phép/N quay/V kép/N trái/Nc tại/E để/E thự/Np hiện/N cân_bằng/A ./CH\nChú_ý/V chiều_cao/N của/E và/Cc sự/N thay_đổi/V các/L kí_hiệu/Np sau/E khi/N quay/V ./CH\nGiả/A mã/N :/CH Thủ_tục/N chèn/V đầy_đủ/A như_sau/Np :/CH Giả/A mã/N của/E và/Cc coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nCode/Np đây/P đủ/A thủ_tục/N chèn/V trong/E C/Ni :/CH Cám_ơn/V bạn/N Nam_Nguyen/Np đã/R chỉ/R ra/V một_số/L lỗi/N sai/A rất/R tinh_vi/A trong/E phiên_bản/N trước/E của/E bài/N vết/N ./CH Code/Np đầy_đủ/A :/CH 1/M G/Nu ./CH\nAdelson-Velsky/Np and/Np E/Ni ./CH\nLandis/Np ./CH\n./CH\nProceedings/Np of/E the/B USSR_Academy/Np of/E Sciences/Np (in/Np Russian)/Np ./CH\n146/Np :/CH 263–266/Np ./CH\nEnglish/Np translation/Np by/Np Myron_J/Np ./CH\nRicci/Np in/V Soviet_Math/Np ./CH\nDoklady/Np ,/CH 3/M :/CH 1259–1263/Np ,/CH 1962/M ./CH\n2/M D/Ny ./CH\nKnuth/Np ./CH\n./CH\nAddison-Wesley/Np ,/CH 1997/M ./CH Trackback/Np link/Np :/CH Powered/Np by/Np and/Np\n", "title": "Cây AVL I --  AVL tree I\n", "link": "http://www.giaithuatlaptrinh.com/?p=2054\n"}