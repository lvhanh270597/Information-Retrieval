{"content": "Nơi tổng_hợp và chia_sẻ những kiến_thức liên_quan tới giải_thuật nói_chung và lý_thuyết khoa_học máy_tính nói_riêng .\nin Trong bài này chúng_ta sẽ tìm_hiểu cách thực_hiện xóa_một nút khỏi cây AVL .\nBài này tiếp_nối về phép chèn một nút vào cây AVL; mình khuyến_khích bạn_đọc xem_lại các kí_hiệu đã dùng trong bài trước .\nTa nhắc_lại tính_chất sau của cây AVL : Tạm_thời bỏ_qua các điều_kiện cân_bằng của cậy , ta tập_trung vào xóa_một nút mà đảm_bảo cây nhị_phân sau khi xóa vẫn là cây nhị_phân tìm_kiếm .\nSau_đó ta sẽ tìm_hiểu cách cân_bằng lại cây .\nGiả_sử nút ta muốn xóa là nút có_con trái hoặc con phải là .\nTrong trường_hợp này , ta chỉ việc thay_thế bởi nút con (duy nhất) khác của nó và xóa ra khỏi cây .\nKhông khó để thấy rằng cây thu được vẫn là cây nhị_phân tìm_kiếm .\nTuy_nhiên , nếu có cả hai con đều khác , ta có_thể quy về trường_hợp một trong hai nút con bằng_như sau .\nGọi_là nút có khóa nhỏ nhất trong cây_con của .\nTa thay_thế bằng và sau_đó xóa ra khỏi cây .\nỞ đây , thay_thế có_nghĩa là ta gán lại khóa và dữ_liệu của nút bằng khóa và dữ_liệu của nút .\nTheo cách ta chọn , không khó để thấy rằng cây thu được vẫn là cây nhị_phân tìm_kiếm .\nXem minh_họa trong Figure 5 .\n(a) Xóa nút có khóa 19 (nút màu đỏ) ra khỏi cây AVL .\nDo 19 có hai nút con đều khác , ta sẽ thay_thế nút 20 (nút màu xanh) vào vị_trí của nút 19 .\n(b) Cây thu được sau khi xóa 19 .\nChú_ý sự thay_đổi của các kí_hiệu .\nÝ_nghĩa của các kí_hiệu này ta đã giải_thích trong .\nNút 20 bị mất cân_bằng sau khi xóa (lệch trái) .\nGiả mã của thủ_tục xóa : Trong giả mã trên , ta giả_sử luôn tồn_tại một nút có khóa trong cây . Để thực_hiện cân_bằng sau khi xóa , trước_hết chúng_ta phải xem_xét cấu_trúc của cây tại nút bị mất cân_bằng .\nGọi_là nút gần lá nhất mà tại đó cây AVL bị mất cân_bằng .\nTa sẽ lặp_lại các phân_tích như trong để xác_định cấu_trúc của cây_con có gốc .\nMình sẽ không phân_tích các cấu_trúc một_cách tỉ_mỉ như bài trước nữa , mà sẽ chỉ ra cụ_thể các cấu_trúc này .\nPhần chứng_minh (không thay_đổi nhiều so_với bài trước) coi_như bài_tập cho bạn_đọc .\nGọi_là chiều_cao của khi ta xóa_một nút ra khỏi cây AVL .\nKhông khó để thấy nút ta xóa_khỏi cây cũng là nút con_cháu (desancendt) của .\nChú_ý , nút ta xóa_khỏi cây luôn có_con phải hoặc con trái là . Không giảm tính tổng_quát , ta giả_sử cây_con trái của có chiều_cao lớn hơn cây_con phải của .\nTa có : Gọi .\nĐể cây bằng , ta sẽ thực_hiện các phép quay_phải , trái , kép như_ta đã thực_hiện trong bài trước .\nĐể biết khi_nào thực_hiện phép quay nào , ta cần phải phân_tích kĩ hơn cấu_trúc của cây_con gốc tại .\nTa xét các trường_hợp sau : Xem minh_họa trong Figure 6(a) .\nTa sẽ thực_hiện phép (right rotation) tại .\nXem minh_họa trong Figure 6(b) .\n(a) Trường_hợp cây_con trái có chiều_cao .\n(b) Cây thu được sau khi thực_hiện quay_phải tại .\nCác nút mà ta không đánh_dấu bằng các kí_hiệu có tính cân_bằng chưa xác_định vì ta chưa biết chiều_cao của tất_cả các cây_con của nó .\nGiả mã : Code_C : Để tìm_hiểu tính cân_bằng của cây sau khi quay , ta xét hai trường_hợp con : có chiều_cao .\nTrong trường_hợp này , sau khi quay , có chiều_cao và có chiều_cao .\nChiều_cao của bằng chiều_cao trước_khi thực_hiện phép xóa của .\nDo_đó , tính cân_bằng của cây AVL đã được phục_hồi .\nXem minh_họa trong Figure 6(b) .\ncó chiều_cao .\nSau khi quay , có chiều_cao và do_đó , có chiều_cao .\nChiều_cao của nhỏ hơn chiều_cao trước_khi thực_hiện phép xóa của một đơn_vị .\nDo_đó , sau khi quay , cây AVL có_thể bị mất cân_bằng tại nút tổ_tiên (ancestor) nào_đó của .\nĐể phục_hồi lại cân_bằng , ta phải đệ_quy trên nút tổ_tiên của để thực_hiện quay .\nTrong trường_hợp xấu nhất , ta phải thực_hiện quay đến lần .\nXem minh_họa trong Figure 6(b) . Vì có chiều_cao , con phải của có chiều_cao .\nGọi .\nTa có .\nTa thực_hiện phép quay kép phải (doubly right rotation) tại .\nXem minh_họa trong Figure 7 . Giả mã : Code_C : Sau khi quay , không khó để chứng_minh rằng : Vì sau khi quay chiều_cao của nhỏ hơn chiều_cao trước_khi thực_hiện phép xóa của một đơn_vị , mất cân_bằng có_thể xảy_ra tại nút tổ_tiên của .\nTrong trường_hợp này , ta phải thực_hiện đệ_quy trên các nút tổ_tiên của .\nTrong trường_hợp xấu nhất , ta phải quay lần để khôi_phục tính cân_bằng của cây .\n(a) Trường_hợp cây_con trái của có chiều_cao .\n(b) Cây thu được sau khi ta quay kép phải tại .\nChú_ý sự thay_đổi của các kí_hiệu .\nCây sau khi quay kép có chiều_cao nhỏ hơn cây trước_khi quay đơn_vị , do_đó , vẫn có khả_năng mất cân_bằng xảy_ra tại nút tổ_tiên . Giả mã đầy_đủ của thủ_tục xóa và cân_bằng lại cây AVL : Code_C : Code đầy_đủ : Do mỗi phép quay đơn hoặc kép ta có_thể thực_hiện được trong thời_gian , tổng thời_gian để cây bằng lại cây là .\nTa có : Áp_dụng phép quay để cân_bằng lại cây trong Figure 5(b) .\nSửa_đổi lại cây ví_dụ trong Figure 5(a) sao_cho sau khi quay , cây vẫn bị mất cân_bằng .\nTìm một cấu_trúc cây AVL có nút sao_cho khi xóa_một nút khỏi cây , ta phải sử_dụng phép quay để khôi_phục lại sự cân_bằng của cây AVL . 1 R .\nSedgewick and K .\nWayne .\n.\nAddison-Wesley_Professional , 2011 .\n2 D .\nKnuth .\n, Third_Edition .\nAddison-Wesley , 1997 .\n, , Trackback link : Powered by and\n", "tagged": "Nơi/N tổng_hợp/V và/Cc chia_sẻ/V những/L kiến_thức/N liên_quan/V tới/E giải_thuật/Np nói_chung/X và/Cc lý_thuyết/Np khoa_học/N máy_tính/N nói_riêng/X ./CH\nin/V Trong/E bài/N này/P chúng_ta/P sẽ/R tìm_hiểu/V cách/N thực_hiện/V xóa_một/Np nút/N khỏi/V cây/N AVL/Np ./CH\nBài/N này/P tiếp_nối/Np về/E phép/N chèn/V một/M nút/N vào/E cây/N AVL;/Np mình/P khuyến_khích/V bạn_đọc/N xem_lại/V các/L kí_hiệu/Np đã/R dùng/V trong/E bài/N trước/E ./CH\nTa/P nhắc_lại/Np tính_chất/N sau/E của/E cây/N AVL/Np :/CH Tạm_thời/A bỏ_qua/V các/L điều_kiện/N cân_bằng/A của/E cậy/Np ,/CH ta/P tập_trung/V vào/E xóa_một/Np nút/N mà/C đảm_bảo/V cây/N nhị_phân/Np sau/E khi/N xóa/V vẫn/R là/V cây/N nhị_phân/Np tìm_kiếm/V ./CH\nSau_đó/Np ta/P sẽ/R tìm_hiểu/V cách/N cân_bằng/A lại/R cây/N ./CH\nGiả_sử/Np nút/N ta/P muốn/V xóa/V là/V nút/N có_con/Np trái/Nc hoặc/Cc con/Nc phải/V là/V ./CH\nTrong/E trường_hợp/N này/P ,/CH ta/P chỉ/R việc/N thay_thế/V bởi/E nút/N con/Nc (duy/Np nhất)/Np khác/A của/E nó/P và/Cc xóa/V ra/V khỏi/V cây/N ./CH\nKhông/R khó/A để/E thấy/V rằng/C cây/N thu/V được/V vẫn/R là/V cây/N nhị_phân/Np tìm_kiếm/V ./CH\nTuy_nhiên/C ,/CH nếu/C có/V cả/P hai/M con/Nc đều/R khác/A ,/CH ta/P có_thể/R quy/Np về/E trường_hợp/N một/M trong/E hai/M nút/N con/Nc bằng_như/Np sau/E ./CH\nGọi_là/V nút/N có/V khóa/N nhỏ/A nhất/A trong/E cây_con/Np của/E ./CH\nTa/P thay_thế/V bằng/E và/Cc sau_đó/Np xóa/V ra/V khỏi/V cây/N ./CH\nỞ/E đây/P ,/CH thay_thế/V có_nghĩa/A là/V ta/P gán/V lại/R khóa/N và/Cc dữ_liệu/N của/E nút/N bằng/E khóa/N và/Cc dữ_liệu/N của/E nút/N ./CH\nTheo/V cách/N ta/P chọn/V ,/CH không/R khó/A để/E thấy/V rằng/C cây/N thu/V được/V vẫn/R là/V cây/N nhị_phân/Np tìm_kiếm/V ./CH\nXem/V minh_họa/V trong/E Figure/Np 5/M ./CH\n(a)/Np Xóa/V nút/N có/V khóa/N 19/M (nút/Np màu/N đỏ)/Np ra/V khỏi/V cây/N AVL/Np ./CH\nDo/E 19/M có/V hai/M nút/N con/Nc đều/R khác/A ,/CH ta/P sẽ/R thay_thế/V nút/N 20/M (nút/Np màu/N xanh)/Np vào/E vị_trí/N của/E nút/N 19/M ./CH\n(b)/Np Cây/N thu/V được/V sau/E khi/N xóa/V 19/M ./CH\nChú_ý/V sự/N thay_đổi/V của/E các/L kí_hiệu/Np ./CH\nÝ_nghĩa/N của/E các/L kí_hiệu/Np này/P ta/P đã/R giải_thích/V trong/E ./CH\nNút/N 20/M bị/V mất/V cân_bằng/A sau/E khi/N xóa/V (lệch/Np trái)/Np ./CH\nGiả/A mã/N của/E thủ_tục/N xóa/V :/CH Trong/E giả/A mã/N trên/E ,/CH ta/P giả_sử/Np luôn/R tồn_tại/V một/M nút/N có/V khóa/N trong/E cây/N ./CH Để/E thực_hiện/V cân_bằng/A sau/E khi/N xóa/V ,/CH trước_hết/N chúng_ta/P phải/V xem_xét/V cấu_trúc/N của/E cây/N tại/E nút/N bị/V mất/V cân_bằng/A ./CH\nGọi_là/V nút/N gần/A lá/N nhất/A mà/C tại/E đó/P cây/N AVL/Np bị/V mất/V cân_bằng/A ./CH\nTa/P sẽ/R lặp_lại/Np các/L phân_tích/V như/C trong/E để/E xác_định/V cấu_trúc/N của/E cây_con/Np có/V gốc/N ./CH\nMình/P sẽ/R không/R phân_tích/V các/L cấu_trúc/N một_cách/N tỉ_mỉ/A như/C bài/N trước/E nữa/R ,/CH mà/C sẽ/R chỉ/R ra/V cụ_thể/A các/L cấu_trúc/N này/P ./CH\nPhần/N chứng_minh/V (không/Np thay_đổi/V nhiều/A so_với/Np bài/N trước)/Np coi_như/Np bài_tập/Np cho/E bạn_đọc/N ./CH\nGọi_là/V chiều_cao/N của/E khi/N ta/P xóa_một/Np nút/N ra/V khỏi/V cây/N AVL/Np ./CH\nKhông/R khó/A để/E thấy/V nút/N ta/P xóa_khỏi/Np cây/N cũng/R là/V nút/N con_cháu/N (desancendt)/Np của/E ./CH\nChú_ý/V ,/CH nút/N ta/P xóa_khỏi/Np cây/N luôn/R có_con/Np phải/V hoặc/Cc con/Nc trái/Nc là/V ./CH Không/R giảm/V tính/V tổng_quát/Np ,/CH ta/P giả_sử/Np cây_con/Np trái/Nc của/E có/V chiều_cao/N lớn/A hơn/A cây_con/Np phải/V của/E ./CH\nTa/P có/V :/CH Gọi/V ./CH\nĐể/E cây/N bằng/E ,/CH ta/P sẽ/R thực_hiện/V các/L phép/N quay_phải/Np ,/CH trái/Nc ,/CH kép/N như_ta/Np đã/R thực_hiện/V trong/E bài/N trước/E ./CH\nĐể/E biết/V khi_nào/Np thực_hiện/V phép/N quay/V nào/P ,/CH ta/P cần/V phải/V phân_tích/V kĩ/A hơn/A cấu_trúc/N của/E cây_con/Np gốc/N tại/E ./CH\nTa/P xét/V các/L trường_hợp/N sau/E :/CH Xem/V minh_họa/V trong/E Figure/Np 6(a)/Np ./CH\nTa/P sẽ/R thực_hiện/V phép/N (right/Np rotation)/Np tại/E ./CH\nXem/V minh_họa/V trong/E Figure/Np 6(b)/Np ./CH\n(a)/Np Trường_hợp/N cây_con/Np trái/Nc có/V chiều_cao/N ./CH\n(b)/Np Cây/N thu/V được/V sau/E khi/N thực_hiện/V quay_phải/Np tại/E ./CH\nCác/L nút/N mà/C ta/P không/R đánh_dấu/V bằng/E các/L kí_hiệu/Np có/V tính/V cân_bằng/A chưa/R xác_định/V vì/E ta/P chưa/R biết/V chiều_cao/N của/E tất_cả/P các/L cây_con/Np của/E nó/P ./CH\nGiả/A mã/N :/CH Code_C/Np :/CH Để/E tìm_hiểu/V tính/V cân_bằng/A của/E cây/N sau/E khi/N quay/V ,/CH ta/P xét/V hai/M trường_hợp/N con/Nc :/CH có/V chiều_cao/N ./CH\nTrong/E trường_hợp/N này/P ,/CH sau/E khi/N quay/V ,/CH có/V chiều_cao/N và/Cc có/V chiều_cao/N ./CH\nChiều_cao/N của/E bằng/E chiều_cao/N trước_khi/Np thực_hiện/V phép/N xóa/V của/E ./CH\nDo_đó/C ,/CH tính/V cân_bằng/A của/E cây/N AVL/Np đã/R được/V phục_hồi/V ./CH\nXem/V minh_họa/V trong/E Figure/Np 6(b)/Np ./CH\ncó/V chiều_cao/N ./CH\nSau/E khi/N quay/V ,/CH có/V chiều_cao/N và/Cc do_đó/C ,/CH có/V chiều_cao/N ./CH\nChiều_cao/N của/E nhỏ/A hơn/A chiều_cao/N trước_khi/Np thực_hiện/V phép/N xóa/V của/E một/M đơn_vị/N ./CH\nDo_đó/C ,/CH sau/E khi/N quay/V ,/CH cây/N AVL/Np có_thể/R bị/V mất/V cân_bằng/A tại/E nút/N tổ_tiên/N (ancestor)/Np nào_đó/P của/E ./CH\nĐể/E phục_hồi/V lại/R cân_bằng/A ,/CH ta/P phải/V đệ_quy/Np trên/E nút/N tổ_tiên/N của/E để/E thực_hiện/V quay/V ./CH\nTrong/E trường_hợp/N xấu/A nhất/A ,/CH ta/P phải/V thực_hiện/V quay/V đến/E lần/N ./CH\nXem/V minh_họa/V trong/E Figure/Np 6(b)/Np ./CH Vì/E có/V chiều_cao/N ,/CH con/Nc phải/V của/E có/V chiều_cao/N ./CH\nGọi/V ./CH\nTa/P có/V ./CH\nTa/P thực_hiện/V phép/N quay/V kép/N phải/V (doubly/Np right/Np rotation)/Np tại/E ./CH\nXem/V minh_họa/V trong/E Figure/Np 7/M ./CH Giả/A mã/N :/CH Code_C/Np :/CH Sau/E khi/N quay/V ,/CH không/R khó/A để/E chứng_minh/V rằng/C :/CH Vì/E sau/E khi/N quay/V chiều_cao/N của/E nhỏ/A hơn/A chiều_cao/N trước_khi/Np thực_hiện/V phép/N xóa/V của/E một/M đơn_vị/N ,/CH mất/V cân_bằng/A có_thể/R xảy_ra/Np tại/E nút/N tổ_tiên/N của/E ./CH\nTrong/E trường_hợp/N này/P ,/CH ta/P phải/V thực_hiện/V đệ_quy/Np trên/E các/L nút/N tổ_tiên/N của/E ./CH\nTrong/E trường_hợp/N xấu/A nhất/A ,/CH ta/P phải/V quay/V lần/N để/E khôi_phục/V tính/V cân_bằng/A của/E cây/N ./CH\n(a)/Np Trường_hợp/N cây_con/Np trái/Nc của/E có/V chiều_cao/N ./CH\n(b)/Np Cây/N thu/V được/V sau/E khi/N ta/P quay/V kép/N phải/V tại/E ./CH\nChú_ý/V sự/N thay_đổi/V của/E các/L kí_hiệu/Np ./CH\nCây/N sau/E khi/N quay/V kép/N có/V chiều_cao/N nhỏ/A hơn/A cây/N trước_khi/Np quay/V đơn_vị/N ,/CH do_đó/C ,/CH vẫn/R có/V khả_năng/N mất/V cân_bằng/A xảy_ra/Np tại/E nút/N tổ_tiên/N ./CH Giả/A mã/N đầy_đủ/A của/E thủ_tục/N xóa/V và/Cc cân_bằng/A lại/R cây/N AVL/Np :/CH Code_C/Np :/CH Code/Np đầy_đủ/A :/CH Do/E mỗi/L phép/N quay/V đơn/N hoặc/Cc kép/N ta/P có_thể/R thực_hiện/V được/V trong/E thời_gian/N ,/CH tổng/N thời_gian/N để/E cây/N bằng/E lại/R cây/N là/V ./CH\nTa/P có/V :/CH Áp_dụng/V phép/N quay/V để/E cân_bằng/A lại/R cây/N trong/E Figure/Np 5(b)/Np ./CH\nSửa_đổi/V lại/R cây/N ví_dụ/C trong/E Figure/Np 5(a)/Np sao_cho/Np sau/E khi/N quay/V ,/CH cây/N vẫn/R bị/V mất/V cân_bằng/A ./CH\nTìm/V một/M cấu_trúc/N cây/N AVL/Np có/V nút/N sao_cho/Np khi/N xóa_một/Np nút/N khỏi/V cây/N ,/CH ta/P phải/V sử_dụng/V phép/N quay/V để/E khôi_phục/V lại/R sự/N cân_bằng/A của/E cây/N AVL/Np ./CH 1/M R/Np ./CH\nSedgewick/Np and/Np K/N ./CH\nWayne/Np ./CH\n./CH\nAddison-Wesley_Professional/Np ,/CH 2011/M ./CH\n2/M D/Ny ./CH\nKnuth/Np ./CH\n,/CH Third_Edition/Np ./CH\nAddison-Wesley/Np ,/CH 1997/M ./CH\n,/CH ,/CH Trackback/Np link/Np :/CH Powered/Np by/Np and/Np\n", "title": "Cây AVL II --  AVL tree II\n", "link": "http://www.giaithuatlaptrinh.com/?p=2125\n"}