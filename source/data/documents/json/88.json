{"content": "Nguồn bài : Topcoder Ví_dụ minh_họa John_Smith đang gặp rắc_rối ! Anh ấy là một thành_viên của Topcoder và sau khi học cách để_trở thành bậc_thầy trong việc đối phối với các bài_toán quy_hoạch_động , anh ấy bắt_đầu giải_quyết hàng_loạt các bài_tập .\nNhưng chiếc máy_tính \"dễ bảo\" của anh bắt_đầu trở_chứng vào hôm_nay .\nVào mỗi buổi_sáng như_thường lệ , John thức_dậy vào lúc 10 giờ sáng , uống một cốc cà_phê và bắt_đầu giải các bài_tập trước_khi thưởng_thức bữa sáng .\nMặc_dù có thứ gì đó \"sai sai\" so_với mọi hôm , nhưng dựa vào kho_tàng kiến_thức mà anh ấy vừa_mới gặt_hái được , John đã viết chương_trình với một tốc_độ thần_thánh .\nMệt_mỏi với việc cấp_phát ma_trận vào mỗi buổi_sáng , chiếc máy_tính thông_báo rằng : \"Segmentation fault ! \" .\nDù_cho dạ_dày còn đang rỗng , song với ý_tưởng thông_minh của mình , John đã vượt_qua rắc_rối bằng cách chèn thêm một vòng_lặp .\nNhưng chiếc máy_tính lại gào lên : \"Time limit exceeded ! \" .\nThay_vì tiếp_tục vướng vào mớ rắc_rối , John đã có_một quyết_định thông_minh hơn .\n\"Quá đủ cho việc lập_trình ! \" - John nói .\nAnh ấy quyết_định sẽ có_một kỳ nghỉ như_là phần_thưởng cho những nỗ_lực của mình .\nLà một con_người tràn_trề sinh_lực , John muốn dành thời_gian nhiều cho cuộc_đời của mình .\nCó quá nhiều thứ mà anh ta muốn làm , nhưng không may là anh ta không_thể_nào làm hết tất_cả chúng được .\nThế nên trong_lúc ăn_sáng , John đã vạch_ra một \"Fun plan\" được_thể hiện bằng một_thời gian biểu cho từng hoạt_động như_sau : Id Hoạt_động Thời_gian 1 Sửa_phòng Thứ 2 , 22 : 00 đến thứ 3 , 1 : 00 2 Du_lịch Hawaii_Thứ 3 , 6 : 00 đến thứ 7 , 22 : 00 3 Vô_địch cuộc_thi cờ_vua Thứ 3 , 11 : 00 đến thứ 3 , 21 : 00 4 Thạm dự nhạc hội Rock_Thứ 3 , 19 : 00 đến thứ 3 , 23 : 00 5 Chiến_thắng cuộc_thi Starcraft_Thứ 4 , 15 : 00 đến thứ 5 , 15 : 00 6 Chơi trò bắn súng nước_sơn Thứ 5 , 10 : 00 đến thứ 5 , 16 : 00 7 Tham_gia kỳ thi SRM trên Topcoder_Thứ 7 , 12 : 00 đến thứ 7 , 14 : 00 8 Tắm_rửa Thứ 7 , 20 : 30 đến thứ 7 , 20 : 45 9 Tổ_chức tiệc ngủ Thứ 7 , 21 : 00 đến Chủ_nhật , 6 : 00 10 Tham_gia thử_thách \"All you can eat\" và \"All you can drink\" Thứ 7 , 21 : 01 đến thứ 7 , 23 : 59 Giờ anh ấy muốn thực_hiện được tối_đa các hoạt_động trong thời_gian_biểu trên .\nMặc_dù để lên kế_hoạch hiệu_quả thì cần phải có chút lý_trí , nhưng giờ thì hồn anh ấy đã đắm_chìm vào kỳ nghỉ rồi .\nPhát_biểu bài_toán Liệu ta có_thể giúp anh ấy có_một kỳ nghỉ tuyệt_vời ?\nTa hoàn_toàn có_thể ! Đầu_tiên , ta cần phải trình_bày lại bài_toán : John có N hoạt_động .\nHoạt_động i bắt_đầu vào thời_gian L_i và kết_thúc vào thời_gian R_i .\nJohn có_thể thực_hiện cả hoạt_động i và hoạt_động j , nếu 2 khoảng thời_gian L_i , R_i và L_j , R_j không giao nhau .\nLà một lập_trình_viên tỉ_mỉ , một_khi đã đặt ra kế_hoạch , anh ấy buộc phải thực_hiện nó .\nMỗi hoạt_động chỉ_có hai chọn_lựa là có hoặc không .\nVới mỗi trường_hợp chọn_lựa cho hoạt_động thứ nhất , ta lại có thêm 2 lựa_chọn cho hoạt_động thứ 2 .\nPhân_tích nhanh_ta sẽ thấy được rằng có 2n trường_hợp , và trong tình_huống này thì sẽ có 210 = 1024 trường_hợp .\nVới mỗi trường_hợp ta sẽ kiểm_tra xem có_thể thực_hiện được các hoạt_động đó không : có 2 cặp hoạt_động nào bị trùng thời_gian hay_không .\nSau khi xét hết các phương_án , ta dễ_dàng tìm_ra 1 phương_án có nhiều hoạt_động nhất .\nVới khá nhiều sự chọn_lựa như_thế này , John buộc phải nhờ đến sự giúp_đỡ của chiếc máy_tính đang mệt_mỏi .\nNhưng điều gì sẽ xảy_ra nếu John có tới 50 hoạt_động trong danh_sách ?\nThậm_chí dùng đến cả siêu máy_tính nhanh nhất thế_giới thì cũng cần đến vài năm để tìm_ra câu trả_lời .\nThế nên , phương_án này khá phi thực_tế .\nTiếp_cận 1 Chúng_ta cần tìm một_cách tiếp_cận mới .\nMột phương_án tốt có_lẽ là thực_hiện công_việc ngay khi thời_cơ đến : Nếu ta có hai hoạt_động và chúng bị trùng về thời_gian , ta sẽ ưu_tiên lựa_chọn hoạt_động bắt_đầu trước nhằm tiết_kiệm thời_gian (nghĩa là hoạt_động có L_i nhỏ hơn) .\nNếu áp_dụng cách này vào 10 hoạt_động trên thì : John bắt_đầu buổi_tối T2 bằng việc Sửa_phòng .\nBuổi_sáng T3 , anh ấy sẽ lên máy_bay đi Du_lịch Hawaii .\nVà chưa đầy một ngày nhưng anh ấy đã thực_hiện được 2 hoạt_động .\nThật tuyệt_vời ! Nhưng thật_ra , đó chỉ là lựa_chọn tốt nhất lúc_này thôi .\nVà bây_giờ thì ta có gì , 5 ngày ăn_chơi ở Hawaii và cho_đến tận tối thứ 7 thì anh ấy vẫn chỉ_thực hiện được 2 hoạt_động .\nHãy nghĩ xem trong 5 ngày đó anh ta đã có_thể thực_hiện được những gì .\nMặc_dù đơn_giản và thực_thi rất nhanh , song rất không may là thuật_toán này lại không chính_xác .\nTiếp_cận 2 Hãy thử một mánh_khóe khác .\nGiờ ta sẽ bỏ những hoạt_động tiêu tốn nhiều thời_gian như đi Du_lịch Hawaii bằng cách lựa_chọn những hoạt_động tốn ít thời_gian nhất (nghĩa là có R_i - L_i nhỏ nhất) và kiểm_tra xem nó có hợp_lí với những hoạt_động đã chọn trước đó chưa rồi tiếp_tục quá_trình .\nTheo_như thời_gian_biểu ở trên thì hoạt_động đầu tiện được chọn_lựa sẽ là tắm .\nVới thời_gian chỉ 15 phút , đây chính là lựa_chọn tối_ưu cục_bộ ( local best ) .\nVà giờ điều mà ta cần biết đó là có_thể giữ được tối_ưu cục_bộ khi mà những hoạt_động thích_hợp khác được chọn_lựa .\nThời_gian_biểu của John sẽ như_sau : Tắm_rửa (15 phút , tối T7 , 20 : 30 - 20 : 45) .\nTham_gia kỳ thi SRM trên Topcoder (2 tiếng , T7 , 12 : 00 - 14 : 00) .\nTham_gia thử_thách \"All you can eat\" và \"All you can drink\" (2 tiếng 58 phút , T7 , 21 : 01 - 23 : 59) .\nSửa_phòng (3 tiếng , T2 , 22 : 00 - T3 , 1 : 00) .\nThạm dự nhạc hội Rock (4 tiếng , T3 , 19 : 00 - 23 : 00) .\nChơi trò bắn súng nước_sơn (6 tiếng , T5 , 10 : 00 - 16 : 00) .\nTrong 10 hành_động , ta đã lựa ra được 6 hành_động , không tệ chút_nào ! Giờ thì thuật_toán của ta vẫn chạy rất nhanh và đáng_tin cậy hơn chút .\nVà quả_thực , đáp_án chính_xác trong trường_hợp này là 6 .\nJohn rất hài_lòng về sự hỗ_trợ của chúng_ta , nhưng sau khi trở_về từ kỳ nghỉ với kế_hoạch thông_minh này , John đã phải đối_mặt với những rắc_rối nghiêm_trọng khác : Áp_dụng thuật_toán của ta , John đã tham_gia một cuộc hẹn_hò chóng_vánh (màu đỏ) , để rồi anh ấy đã bỏ_lỡ cả bài_thi trong trường (màu xanh da trời) lẫn trận_đấu bóng_rổ của đội anh ấy yêu_thích (màu xanh lá) .\nLà một Topcoder , chúng_ta cần phải viết ra một chương_trình hoàn_toàn chính_xác , chứ không_phải chỉ đúng trong 1 số trường_hợp .\nChỉ_cần một trường_hợp duy_nhất chúng_ta không giải_quyết được sẽ dẫn tới một thất_bại toàn_diện .\nTiếp_cận 3 Những gì_mà chúng_ta thường làm trong tình_huống này là phân_tích điều gì đã gây ra lỗi ở cách làm trước để tránh lặp_lại nó trong tương_lai .\nHãy xem_xét_lại trường_hợp sai .\nCuộc hẹn_hò trùng thời_gian với cả việc_làm bài_thi lẫn trận_đấu bóng_rổ , trong_khi cả trận_đấu bóng_rổ lẫn làm_bài thi chỉ trùng_lặp với một_mình cuộc hẹn_hò .\nVậy_thì ý_tưởng cũng tự_sinh ra từ vấn_đề này .\nTại_sao ta không chọn hoạt_động ít bị trùng_lặp_nhất so_với những hoạt_động còn_lại ?\nNghe có_vẻ hợp_lí ! Để đảm_bảo rằng phương_pháp này hoàn_toàn đúng_đắn , lần này ta hãy thử chứng_minh .\nGiờ giả_sử_ta đã lựa_chọn hoạt_động X , ta sẽ thử kiểm_tra xem ta có_thể lựa_chọn hoạt_động A và B (những hoạt_động bị trùng_lặp với X) thay_vì X được hay_không .\nVà_A , B cũng không được trùng_lặp nhau , nếu_không ta cũng không_thể tối_ưu_hóa kết_quả .\nBây_giờ , ta sẽ quay về trường_hợp trước đó (X trùng với 2 hoạt_động , A và B trùng với 1 hoạt động) .\nTrong trường_hợp này , ta sẽ chọn A và B ngay từ_đầu tiên .\nMột trong những cách để phản_bác lại giả_thiết này chính là cho hoạt_động A và B trùng_lặp với nhiều hoạt_động hơn_nữa chứ không chỉ hoạt_động X .\nNghe nó có_vẻ không trực_quan cho_lắm , nhưng (thật không may) ta vẫn có_thể xây_dựng trường_hợp đó như_sau : Nhưng hoạt_động được biểu_diễn bằng gạch màu xanh chính là những lựa_chọn tối_ưu trong thời_gian_biểu trên .\nNhưng hoạt_động tô_màu đỏ trùng_lặp với 2 hoạt_động nên nó sẽ được chọn trước .\nVẫn còn 4 hoạt_động thích_hợp khác trước hoạt_động đỏ , nhưng chúng đều bị trùng_lặp lẫn_nhau , thế nên ta chỉ_có thể lựa_chọn thêm 1 hoạt_động .\nĐiều tương_tự cũng xảy_ra đối_với 4 hoạt_động sau hoạt_động màu đỏ , nhưng ta vẫn chỉ_có thể chọn 1 .\nVậy tổng_cộng theo phương_pháp này , ta vẫn chỉ_có thể chọn 3 hoạt_động , trong_khi kết_quả tối_ưu là 4 .\nTiếp_cận 4 Tổng_quát lại , ta đã thử 3 cách khác_nhau , và mỗi cách_đều có thiếu_sót : Cách 1 : Chọn hoạt_động có L_i nhỏ nhất Cách 2 : Chọn hoạt_động có R_i - L_i nhỏ nhất Cách 3 : Chọn hoạt_động giao với ít hoạt_động khác nhất .\nCó_vẻ như chúng_ta đang đối_mặt với một vấn_đề hóc_búa .\nNhưng thật_ra , vấn_đề này vẫn có_một cách giải_quyết đẹp_đẽ , và không_hề phức_tạp .\nNếu ta xem_xét hình trên một_cách kỹ_lưỡng hơn_nữa , ta sẽ thấy được rằng hoạt_động màu xanh nằm ở góc trái dưới là_là hoạt_động duy_nhất hoàn_thành trước đường vẽ dọc màu đỏ .\nVậy , nếu lựa_chọn 1 hoạt_động đơn_lẻ , ta sẽ chọn hoạt_động kết_thúc sớm nhất (có R_i nhỏ nhất) .\nGọi thời_điểm hoàn_thành hoạt_động đó là t_1 , thì khoảng thời_gian sau t_1 sẽ trống để ta có_thể chọn các hoạt_động khác .\nNếu chúng_ta chọn bất_kỳ hoạt_động nào khác , thì khoảng thời_gian còn_lại sẽ ngắn đi .\nĐiều này là hiển_nhiên , bởi_vì khi ta kết_thúc với bất_kỳ một hoạt_động nào khác thì luôn_luôn t_2 gt; t_1 .\nTrong trường_hợp đầu_tiên , ta sẽ có toàn_bộ thời_gian từ t_1 đến khi kết_thúc và bao_gồm luôn khoảng từ t_2 đến kết_thúc .\nBởi_vậy mà nó cũng không có khuyết_điểm trong việc lựa_chọn hoạt_động kết_thúc sớm .\nVà nó còn có_một ưu_điểm đó là ta hoàn_toàn có_thể chèn thêm một hoạt đồng bất_kỳ vào giữa t_1 và t_2 và kết_thúc trước_khi hoạt_động của t_2 bắt_đầu .\nTrên đây là ý_tưởng để chứng_minh thuật_toán này đúng .\nTa có_thể từ_đó để chứng_minh chặt_chẽ là cách làm này đúng .\nĐược biết tới với tên_gọi \"Lựa chọn hoạt động\" ( Activity_Selection ) , đây là bài_toán cơ_sở sử_dụng \"Phương pháp Tham lam\" .\nGiống_như là một gã tham_lam luôn muốn chiếm lấy nhiều nhất , thường_xuyên nhất mà hắn_ta có_thể , trong trường_hợp này , ở mỗi bước_ta sẽ chọn_lựa một hoạt_động kết_thúc đầu_tiên và mỗi lần đều không có hoạt_động đang trong tiến_trình .\nVà có_một sự_thật đó là ta luôn_luôn áp_dụng phương_pháp tham_lam cho mỗi bước trong cuộc_đời của mình .\nKhi ta đi mua_sắm hoặc đi xe_hơi , ta đều luôn lựa_chọn phương_án tốt nhất tại thời_điểm hiện_tại .\nThật_ra , phương_pháp tham_lam có 2 công_thức chung : Tính lựa_chọn tối_ưu : Từ những kết_quả tối_ưu cục_bộ ta có_thể đi đến kết_quả tối_ưu toàn_cục mà không cần phải xem_xét_lại các kết_quả .\nTính tối_ưu từ bài_toán nhỏ : Kết_quả tối_ưu có được xác_định bằng các kết_quả tối_ưu từ bài_toán nhỏ hơn .\nĐoạn mã giả dưới_đây diễn_ta cách lựa_chọn tối_ưu các hoạt_động bằng thuật_toán tham_lam mà ta vừa chứng_minh phía trên : Đặt_N là số hoạt_động và I là hoạt_động thứ I (1 lt;= I lt;= N)_Với mỗi I , xét SI và FI lần_lượt là thời_gian bắt_đầu và kết_thúc của hoạt_động đó .\nSắp_xếp lại các hoạt_động theo thứ_tự tăng dần của thời_gian kết_thúc .\n- Có_nghĩa là , với I lt; J ta phải có F_I lt;= F_J // A là tập_hợp các hoạt_động được chọn A = 1 // J là hoạt_động cuối_cùng được chọn J = 1 For_I = 2 to N // ta có_thể chọn I nếu nó là hoạt_động cuối_cùng // việc chọn_lựa đã hoàn_thành If_S_I gt;= F_J // lựa_chọn hoạt_động I_A = A + I // hoạt_động I giờ trở_thành hoạt_động cuối_cùng được lựa_chọn J = I_Endif_Endfor_Return_A_Sau khi áp_dụng thuật_toán trên , \"Fun plan\" của Johnny sẽ như_thế này : Sửa_phòng Vô_địch cuộc_thi cờ_vua Chiến_thắng cuộc_thi Starcraft Tham_gia kỳ thi SRM trên Topcoder Tắm_rửa Tham_gia thử_thách \"All you can eat\" và \"All you can drink\" Vấn_đề của John_Smith đã được giải_quyết , tuy_nhiên đây chỉ là một ví_dụ mà Tham_lam có_thể hoạt_động .\nBài_tập tương_tự : Boxing_BioScore Bài_toán Cho_N dãy ký_tự dài bằng_nhau .\nMỗi dãy gồm 4 loại ký_tự : A , C , T , G .\nĐộ tương_đồng của 2 dãy là tổng_điểm của các cặp ký_tự của cùng vị_trí .\nVí_dụ , độ tương_đồng của ACTA và GATC là : score(A , G) + score(C , A) + score(T , T) + score(A , C) .\nTìm cách xây_dựng bảng S ( score ) sao_cho độ tương_đồng của tất_cả các cặp 2 xâu trong N xâu là lớn nhất , biết rằng bảng S phải thỏa_mãn các tính_chất : Các giá_trị từ -10 đến 10 Đối_xứng : S(x , y) = S(y , x) .\nĐường_chéo dương : S(x , x) gt; 0 .\nTổng_các số trong S phải bằng 0 .\nPhân_tích Việc đầu_tiên mà ta cần làm là xây_dựng một ma_trận cho_biết số lần_lặp ( ma_trận tần_số ) của từng cặp 2 ký_tự .\nĐây là một công_việc khá nhẹ_nhàng khi mà ta chỉ_cần ghép từng cặp ký_tự ở hai chuỗi tạo rồi đếm_số lần xuất_hiện của chúng ( AA , AC , AG , AT , CA , CC , CG , CT , GA , GC , GG , GT , TA , TC , TG , TT ) .\nTừng cặp ký_tự sẽ được xem như một phần_tử trong ma_trận và giá_trị của nó chính là số lần xuất_hiện của nó .\nVí_dụ , hãy xét bộ \"ACTAGAGAC\" , \"AAAAAAAAA\" , \"TAGTCATAC\" , \"GCAGCATTC\" được sử_dụng ở ví_dụ thứ 2 .\nỞ góc phải - dưới của hình minh_họa trên , ta có_thể thấy kết_quả của ma_trận tần_số đối_với bộ đã cho .\nTạm gọi nó là F .\nGiờ việc mà ta cần làm là tìm_ra một ma_trận S sao_cho tổng của các tích : Fi , j Si , j với (1 \\le i , j \\le 4) là lớn nhất .\nGiờ ta xét từng điều_kiện cho ma_trận cần tìm : 1) Tổng của 16 phần_tử bằng 0 : Rõ_ràng , nếu ta không giới_hạn tổng của các phần_tử , thì ta có_thể đạt được tổng_bằng vô_cùng , nếu gán tất_cả các phần_tử của S là vô_cùng .\nNhưng bởi_vì tống của chúng phải bằng 0 , thế nên khi ta tăng_giá_trị 1 phần_tử lên thì ta sẽ phải giảm đi giá_trị của 1 phần_tử khác .\nThử_thách ở điều_kiện này chính là phải tìm_ra một sự phân_bố tối_ưu .\n2) Giá_trị mỗi phần_tử chỉ nằm trong_khoảng từ -10 đến 10 (Si , j \\in -10 , 10) Tương_tự , nếu_không có_điều kiện này , kết_quả có_thể lên đến vô_cùng , nếu ta có 1 cặp không xuất_hiện , gán S tương_ứng là âm vô_cùng , còn các phần_tử còn_lại trong mảng là dương vô_cùng .\n3) Mỗi phần_tử đối_xứng phải có_giá trị bằng_nhau (S(x , y) = S(y , x)) Bởi_vì tính đối_xứng , ta phải quy_định cho các điểm cho các cặp như AC và CA bằng_nhau .\nDo tính đối_xứng này , ta_cập nhật lại mảng tần_số xuất_hiện để tính cả các cặp đối_xứng .\nĐối_với ví_dụ trên , ta có bảng tần_số mới như_sau : AA : 14 AC+CA : 11 AG+GA : 10 AT+TA : 10 CC : 4 CG+GC : 2 TC+CT : 0 GG : 0 GT+TG : 3 TT : 1 Từ trực_giác ta có_thể thấy ngay đến phương_án như_sau : đã sẽ gán điểm_số càng cao đối_với cặp xuất_hiện càng nhiều lần .\n4) Các phần_tử trên đường_chéo phải dương (S(x , x) gt; 0) Do tính_chất này , ta phải xét riêng hai loại phần_tử : 4 phần_tử trên đường_chéo (các phần_tử đại_diện cho AA , CC , GG , TT ) 6 phần_tử không nằm trên đường_chéo (các phần_tử đại_diện cho AC + CA , AG + GA , AT + TA , CG + GC , CT + TC , GT +TG ) .\nTa xét tất_cả các trường_hợp chọn các phần_tử của nhóm thứ nhất .\nCó 104 = 10 , 000 trường_hợp khác_nhau .\nVới mỗi trường_hợp của nhóm thứ nhất , ta sẽ tìm đáp_án tối_ưu cho nhóm thứ 2 .\nVới mỗi trường_hợp , ta có tổng_các phần_tử của nhóm thứ nhất nằm trong_khoảng 4 , 40 , nên tổng_các phần_tử của nhóm thứ 2 nằm trong_khoảng -20 , -2 (chú ý rằng nhóm thứ 2 đối_xứng , mỗi phần_tử xuất_hiện 2 lần trong ma_trận S , nên ta phải nhân đôi) Vì các phần_tử của nhóm 2 có chung tính_chất , ta sử_dụng Tham_lam để tìm kết_quả tối_ưu cho nhóm thứ 2 .\nNhắc_lại tư_tưởng của Tham_lam : tại mỗi bước , ta chọn một lựa_chọn tối_ưu cục_bộ .\nTrong trường_hợp này nghĩa_là ta xét lần_lượt từng phần_tử , với mỗi phần_tử , gán cho nó giá_trị tối_ưu .\nNhận_xét : Nếu ta xét lần_lượt các phần_tử theo thứ_tự giảm_dần , ở mỗi bước_ta gán giá_trị lớn nhất có_thể cho phần_tử đó , thì kết_quả thu được sẽ tối_ưu .\nDo_đó , cách làm là : Sắp_xếp 6 phần_tử của nhóm 2 theo thứ_tự giảm_dần (theo ma_trận F) .\nHai giá_trị đầu_tiên sẽ được gán bằng 10 (vì trường_hợp xấu nhất ta cần tổng_bằng -20 , thì ta vẫn có_thể gán 4 giá_trị còn_lại là -10) .\nTa biết rằng số điểm cuối_cùng sẽ nhỏ hơn 0 .\nBởi_vì ta muốn tối_đa_hóa số điểm của phần_tử thứ 3 , nên ba phần_tử còn_lại sẽ luôn là -10 : Trong trường_hợp tốt nhất , tổng_bằng -2 , ta thu được : 10 , 10 , 8 , -10 , -10 , -10 .\nTrong trường_hợp xấu nhất , tổng_bằng -20 , ta thu được : 10 , 10 , -10 , -10 , -10 , -10 .\nTa có_thể thu được tất_cả các tổng_từ -20 đến -2 bằng việc thay_đổi giá_trị của phần_tử thứ 3 từ 8 đến -10 .\nGiờ ta cần chứng_minh rằng phương_pháp của mình là đúng .\nVì ta xét hết tất_cả các trường_hợp của nhóm 1 , nên ta chỉ_cần chứng_minh cách chọn các phần_tử của nhóm 2 là tối_ưu .\nVì tổng_các phần_tử của nhóm 2 cố_định , nên nếu ta tăng 1 phần_tử , thì_phải giảm 1 phần_tử khác .\nGọi f_1 và f_2 là số lần xuất_hiện của 2 số bất_kỳ của nhóm 2 .\nTa có : f_1 s_1 + f_2 s_2 = X .\nKhông làm mất tính tổng_quát , giả_sử f_1 \\ge f_2 .\nDo cách tham , ta có s_1 \\ge s_2 .\nTa cũng có s_1 là lớn nhất có_thể , nên ta không_thể tăng s_1 .\nGiả_sử cách làm của ta không tối_ưu , nghĩa_là ta có_một cách chọn 1 số a sao_cho : f_1 (s_1 - a) + f_2 (s_2 + a) = Y với a là số_dương .\nTa có Y-X = a (f2-f1) .\nBởi_vì f1 \\ge f2 nên Y-X luôn âm .\nDo_vậy , cách làm của ta là tối_ưu .\nCài_đặt Ý_tưởng chính của thuật_toán trên sẽ được minh_họa trong đoạn mã giả dưới_đây : Best = -Infinity For_S1 = 1 to 10 For_S2 = 1 to 10 For_S3 = 1 to 10 For_S4 = 1 to 10 If (S1 + S2 + S3 + S4) mod 2 = 0) S5 = S6 = 10 S7 = 10 - (S1 + S2 + S3 + S4) / 2 S8 = S9 = S10 = -10) // biến Best sẽ lưu lại giá_trị trung_bình lớn nhất tìm được Best = max (Best , score (F , S))_Endif_Endfor_Endfor_Endfor_Endfor_Return_Best Đối_với mảng lưu điểm đã cho (trong trường_hợp của chúng_ta là mảng S) , ta sẽ tính kết_quả cuối_cùng bằng việc chỉ tính tổng của tích FI_S_I .\nGoldMine Bài_toán Có_N mỏ vàng , mỗi mỏ vàng chứa được tối_đa 6 công_nhân .\nBằng cách phân_bổ các công_nhân , công_ty sẽ thu được (hoặc mất đi) số tiền như_sau : Nếu mỏ vàng có ít nhân_công hơn trữ_lượng của nó , công_ty sẽ thu được 60 với mỗi công_nhân .\nNếu mỏ vàng có_số công_nhân bằng với trữ_lượng của nó , công_ty sẽ thu được 50 cho với mỗi công_nhân .\nNếu mỏ vàng có_số công_nhân nhiều hơn trữ_lượng của nó , công_ty sẽ được số tiền là 50 nhân cho trữ_lượng mỏ .\nVới mỗi công_nhân bị thừa ra so_với sản_lượng mỏ , công_ty sẽ bị mất đi 20 .\nDù_cho có bị mất tiền đi_chăng_nữa thì công_ty cũng buộc phải phân_công đủ các công_nhân vào các mỏ .\nPhân_tích Bằng việc sử_dụng phương_pháp tham_lam , ta sẽ phân_tích xem cách một mỏ vàng bị khai_thác triệt .\nKinh_nghiệm cho thấy , đối_với dạng bài như tìm_kiếm giá_trị tối_đa , thường_ta có_thể giải_quyết bằng Tham_lam .\nTrong trường_hợp này , mục_tiêu của ta là chỉ_định những công_nhân đến các mỏ vàng sao_cho tổng lợi_nhuận thu được là tối_đa .\nPhân_tích nhanh , ta thấy rằng cần phải_biết lợi_nhuận thu được từ các mỏ vàng trong tất_cả các trường_hợp (chỉ có 7 trường_hợp - từ 0 đến 6 công nhân) .\nBảng dưới_đây sẽ cho ta thấy lợi_nhuận khả_thi đối_với hai mỏ ở ví_dụ 0 trong bài : 0 người 1 người 2 người 3 người 4 người 5 người 6 người Mỏ 1 0 57 87 87 67 47 27 Mỏ 2 0 52 66 75 75 66 48 Nếu ta chỉ_có duy_nhất một công_nhân , lựa_chọn tối_ưu chính là cho anh ta vào mỏ nơi mà anh ta mang_lại nhiều lợi_nhuận nhất .\nNhưng nếu ta có nhiều công_nhân , ta cần phải kiểm_tra xem nếu phân_công anh ở mỏ tương_tự có_mang lại lợi_nhuận cục_bộ tối_ưu không .\nTrong ví_dụ , ta có 4 công_nhân cần được phân_công .\nBảng dưới_đây sẽ cho_biết lợi_nhuận thu được_của mỗi mỏ với từng công_nhân được thêm vào .\nBan_đầu Người 1 Người 2 Người 3 Người 4 Người 5 Người 6 Mỏ 1 - 57 30 0 -20 -20 -20 Mỏ 1 - 52 14 9 0 -9 -20 Ta để_ý rằng , mỏ 1 sẽ tăng thêm 57 nếu ta thêm vào một công_nhân , trong_khi mỏ 2 chỉ tăng thêm 52 .\nThế nên , ta sẽ phân_bố người đầu_tiên vào mỏ 1 .\nBan_đầu Người 1 Người 2 Người 3 Người 4 Người 5 Người 6 Mỏ 1 - 57 30 0 -20 -20 -20 Mỏ 1 - 52 14 9 0 -9 -20 Giờ , nếu ta thêm công_nhân vào mỏ 1 , ta chỉ tăng lợi_nhuận được thêm 30 .\nBởi_vậy nên ta sẽ thêm công_nhân vào mỏ 2 , lúc_này lợi_nhuận ta thu được sẽ tăng thêm 52 .\nBan_đầu Người 1 Người 2 Người 3 Người 4 Người 5 Người 6 Mỏ 1 - 57 30 0 -20 -20 -20 Mỏ 1 - 52 14 9 0 -9 -20 Công_nhân thứ 3 sẽ có_ích hơn khi làm ở mỏ 1 với lợi_nhuận thu được là 30 .\nBan_đầu Người 1 Người 2 Người 3 Người 4 Người 5 Người 6 Mỏ 1 - 57 30 0 -20 -20 -20 Mỏ 1 - 52 14 9 0 -9 -20 Với công_nhân thứ 4 , ta có_thể cho anh ta vào mỏ 1 (với lợi_nhuận là 0) hoặc mỏ 2 (với lợi_nhuận là 14) .\nDĩ_nhiên , ta sẽ phân_công anh ấy vào mỏ hai .\nBan_đầu Người 1 Người 2 Người 3 Người 4 Người 5 Người 6 Mỏ 1 - 57 30 0 -20 -20 -20 Mỏ 1 - 52 14 9 0 -9 -20 Cuối_cùng , hai công_nhân còn_lại sẽ được phân_công_bằng cách cho cả hai vào làm ở mỏ 2 hoặc mỗi người_làm ở một mỏ riêng .\nVí_dụ cho ta thấy kết_quả mà ta vừa tìm được chính là kết_quả tối_ưu .\nNhưng câu_hỏi đặt ra là liệu phương_pháp này có luôn đúng hay_không ?\nKhẳng_định : Ta luôn_luôn thu được tổng lợi_nhuận lớn nhất khi lần_lượt cho từng công_nhân vào mỏ có_lợi nhuận cao nhất ở thời_điểm hiện_tại .\nChứng_minh : Gọi_A , B lần_lượt là mỏ 1 và mỏ 2 , a1 , b1 , a2 , b2 được định_nghĩa như_sau : a1 - lợi_nhuận thu được khi phân_công thêm một công_nhân vào A .\na1+a2 - lợi_nhuận thu được khi phân_công thêm hai công_nhân vào A .\nb1 - lợi_nhuận thu được khi phân_công thêm một công_nhân vào B .\nb1+b2 - lợi_nhuận thu được khi phân_công thêm hai công_nhân vào B .\nThuật_toán Tham_lam của ta sẽ gia_tăng lợi_nhuận bằng a1 cho công_nhân đầu_tiên và (a2+b1) cho công_nhân thứ 2 .\nTổng lợi_nhuận lúc_này sẽ là a1+max(a2 , b1) .\nNếu ban_đầu ta chọn b1 thì lợi_nhuận của_công nhân thứ 2 thu được sẽ là a1 hoặc b2 .\nTrong trường_hợp đầu_tiên , ta sẽ có a1+b1 \\le a1+max(a2 , b1) .\nTrong trường_hợp thứ_hai , tổng lợi_nhuận sẽ là b1+b2 .\nTa cần phải chứng_minh b1+b2 \\le a1+max(a2 , b1) .\nMà ta luôn có b1 \\le b2 vì lợi_nhuận thu được từ việc thêm một công_nhân vào một mỏ luôn_luôn lớn hơn hoặc bằng lợi_nhuận thu được từ việc thêm một công_nhân nữa vào mỏ đó .\nTrạng_thái của mỏ vàng Lợi_nhuận từ việc thêm 1 người Lợi_nhuận từ việc thêm 1 người Số_lượng mỏ gt;số lượng người đào+2 60 60 Số_lượng mỏ = số_lượng người đào+2 60 50 Số_lượng mỏ = số_lượng người đào+1 50 -20 Số_lượng mỏ -20 -20 Vì b1+b2 \\le a1+a2 \\le a1+b1 \\le a1+max(a2 , b1) , lựa_chọn Tham_lam cũng chính là phương_án tối_ưu .\nCài_đặt thuật_toán này hoàn_toàn không khó , tuy_nhiên ta cần phải xử_lý thêm một_vài trường_hợp nữa (tất cả các công_nhân đều phải được phân_công , chỉ_có tối_đa sáu người trong một mỏ và nếu một công_nhân có_thể được đặt tối_ưu ở nhiều mỏ , ưu_tiên mỏ có chỉ_số nhỏ hơn) .\nWorldPeace Bài_toán : Cho n đất_nước , mỗi nước có dân_số của họ .\nHãy chia thành thành các nhóm có k người không có cùng quốc_tịch .\nHãy cho_biết số_lượng nhóm tối_đa có_thể đạt được .\nPhân_tích : Những thuật_toán Tham_lam đều hoạt_động tốt ở mọi tình_huống bởi ta đã chứng_minh được tính đúng_đắn của nó .\nNhưng còn một lớp bài_toán tối_ưu_hóa nữa mà thuật_toán Tham_lam có_thể được áp_dụng .\nĐây là những bài_tập thuộc lớp NP - đầy_đủ (như bài_toán người đưa thư TSP_Traveling_Salesman_Problem ) , đối_với dạng bài_toán này , ta thường sẽ sử_dụng phượng pháp nhánh cận để giải_quyết vấn_đề hơn_là chờ_đợi chương_trình thực_thi . . .\nLời_giải không_phải lúc nào cũng là tối_ưu , song trong phần_lớn trường_hợp , nó đã đủ tốt rồi .\nVới một bài_toán không thuộc lớp NP như_thế này , đây chính là ví_dụ tuyệt_vời cho việc một thuật_toán Tham_lam không chỉ_có thể đánh_lừa và vượt_qua các test mẫu , mà nó còn có_thể vượt_qua cả những bộ test hệ_thống được thiết_kế kỹ_càng .\nThuật_toán này không quá khó để nghĩ_ra , mà chỉ_cần một_vài phân_tích nhanh_ta có_thể nhận_ra , để tối_đa_hóa tổng_số_lượng nhóm , luôn_luôn tối_ưu để tạo thiết_lập một nhóm từ k quốc_gia có dân_số đông nhất .\nChúng_ta áp_dụng phương_pháp này ở từng bước và sau_đó sắp_xếp lại đoạn để thấy được k quốc_gia tiếp_theo có dân_số đông nhất .\nÝ_tưởng này sẽ được minh_họa trong đoạn mã giả dưới_đây : Groups = 0 Repeat // sắp_xếp lại mảng theo thứ_tự giảm_dần Sort (A) Min = AK_If_Min gt; 0 Groups = Groups + 1 For_I = 1 to K_AI = AI - 1 Endfor_Until_Min = 0 Return_Groups_Không may_thay , mỗi quốc_gia lại có tới hàng_tỷ người dân , thế nên ta không_thể_nào thiết_lập từng nhóm một được .\nVề_mặt lý_thuyết , đối_với một_tập hợp của k quốc_gia , chúng_ta sẽ tạo nhóm cho_đến khi mà toàn_bộ người dân của nước đó đã được phân nhóm .\nVà điều này sẽ được thực_hiện chỉ trong 1 bước : Groups = 0 Repeat // sắp_xếp lại mảng theo thứ_tự giảm_dần Sort (A) Min=_AK_Groups = Groups + Min_For_I = 1 to K_AI = AI - Min_Endfor_Until_Min = 0 Return_Groups Thời_gian_thực thi giờ không còn là vấn_đề nữa , mà vấn_đề giờ_đây chính là tính đúng_đắn của thuật_toán ! Khi ta thử ví_dụ 0 trong bài , thuật_toán của chúng_ta trả về kết_quả là 4 chứ không_phải là 5 .\nNhưng kết_quả trả về trong ví_dụ 1 , 2 và 3 thì đúng .\nTrong với ví_dụ cuối_cùng , thay_vì tạo ra 3983180234 nhóm , ta chỉ tạo được 3983180207 nhóm mà_thôi .\nBằng việc chỉ kết_quả có sai_lệch không_đáng_kể , ta có_thể thấy rằng giải_thuật của mình khá tốt .\nThế nên giờ ta chỉ_cần cải_tiến nó theo hướng này .\nCho_đến hiện_tại , ta đã có trong tay hai thuật_toán : Thuật_toán tham_lam đầu_tiên chính_xác , nhưng không đủ nhanh .\nThuật_toán tham_lam thứ_hai nhanh , nhưng lại không chính_xác .\nGiờ , điều mà ta cần làm đó chính là tăng độ_chính_xác của thuật_toán này lên nhiều nhất có_thể , mà thời_gian_thực thi vẫn không bị quá giới_hạn .\nMột_cách cơ_bản , ta đang tìm_kiếm sự cân_bằng giữa thời_gian_thực thi và độ_chính_xác .\nĐiểm khác_biệt duy_nhất giữa hai thuật_toán kể_trên chính là số_lượng nhóm mà chúng_ta lựa_chọn được .\nChúng_ta sẽ có_một phương_án như_sau : ta sẽ lựa ra một_số lượng lớn nhóm ngẫu_nhiên lúc đầu , sau_đó sẽ giải_quyết đoạn còn_lại theo cách tiếp_cận an_toàn hơn .\nKhi mà chúng_ta chỉ còn_lại một_số lượng nhỏ_người dân chưa được phân nhóm ở các quốc_gia , thì lúc_này nó hoàn_toàn hợp_lí khi ta sử_dụng phương_pháp vét cạn .\nVới biến Allowed được khỏi tạo trong thuật_toán dưới_đây , ta điều_khiển số_lượng nhóm mà ta mong_muốn tạo tại thời_điểm được cho .\nGroups = 0 Repeat // sắp_xếp lại mảng theo thứ_tự giảm_dần Sort (A) Min = AK_Allowance = (Min+999) / 1000 Groups = Groups + Allowance_For_I = 1 to K_AI = AI - Allowance_Endfor_Until_Min = 0 Return_Groups_Nếu cách tiếp_cận này thật_sự đúng , ta hoàn_toàn có_thể nhận_ra được .\nMặc_dù nó có_thể thoát_khỏi ánh_mắt sắc nhọn của Tomek cũng_như là test hệ_thống , nhưng có_vẻ là nó sẽ không_thể_nào đưa_ra kết_quả quả đúng_với mọi bộ test_khả_thi .\nĐây chính một ví_dụ cho thấy nếu được tinh_chỉnh , từ một thuật_toán tham_lam đơn_giản (nhưng vẫn còn khiếm khuyết) cũng cũng có_thể trở_thành một giải_thuật \"đúng\" .\nĐể biết thêm về thuật_toán chính_xác cho bài này , xem lời_giải ở Match_Editorial .\nTổng_kết Tham_lam thường dễ nghĩ_ra , dễ cài_đặt và chạy nhanh , nhưng không_phải lúc nào cũng đúng .\nKhi bạn sử_dụng duyệt hoặc quy_hoạch_động , nó giống_như bạn đang di_chuyển trên mặt_đất an_toàn .\nCòn đối_với tham_lam , thì giống_như bạn đang đi trên một bãi_mìn .\nNhư bạn đã thấy qua ví_dụ 1 , có rất nhiều cách tham khác_nhau nhưng chỉ_có một_cách cho kết_quả đúng .\nVì_vậy , khi làm_bài , bạn luôn_luôn nên tìm cách chứng_minh tính đúng_đắn của thuật tham .\nKhông tồn_tại một công_thức chung nào cho việc áp_dụng Tham_lam , tuy_nhiên , ta có_thể nhìn ra thuật tham bằng việc phân_tích các tính_chất của bài_toán , kinh_nghiệm cũng_như trực_giác .\nMột_vài lưu_ý nhỏ Nhưng bài_tập mà có_vẻ cực_kỳ phức_tạp (như TCSocks ) có_thể xem như_là dấu_hiệu để tiếp_cận bằng phương_pháp Tham_lam .\nNhưng bài_toán mà dữ_liệu đầu_vào rất lớn (mà kể_cả thuật_toán có độ phức_tạp O(n2) vẫn không kịp) thường được giải bằng tham_lam hơn_là quay lui hoặc quy_hoạch_động .\nMặc_dù nó có_vẻ rùng_rợn , nhưng bạn nên nhìn thuật_toán tham_lam dưới đôi mắt của một thám_tử chứ không_phải là dưới cặp kính của một nhà toán_học .\nMột thám_tử giỏi tham_lam .\nMột người tham_lam may_mắn .\nMột người tham_lam không may_mắn .\nNgoài_ra , việc học_tập một_số thuật_toán có sử_dụng Tham_lam sẽ giúp nắm_vững phương_pháp này hơn ( thuật_toán Prim , thuật_toán Kruskal , thuật_toán Dijkstra ) Bài_tập mở_rộng Cấp_độ 1 GroceryBagger – SRM 222 FanFailure – SRM 195 PlayGame – SRM 217 SchoolAssembly – TCO04_Round 2 RockStar – SRM 216 Apothecary – SRM 204 Boxing – TCO04_Round 3 Unblur – TCO04_Semifinal_Room 3 Cấp_độ 2 Crossroads – SRM 217 TCSocks – SRM 207 HeatDeath – TCO04_Round 4 BioScore – TCO04_Semifinal_Room 1 Rationalization – SRM 224 Cấp_độ 3 GoldMine – SRM 169 MLBRecord – TCO04_Round 2 RearrangeFurniture – SRM 220 WorldPeace – SRM 204\n", "tagged": "Nguồn/N bài/N :/CH Topcoder/Np Ví_dụ/C minh_họa/V John_Smith/Np đang/R gặp/V rắc_rối/N !/CH Anh/N ấy/P là/V một/M thành_viên/N của/E Topcoder/Np và/Cc sau/E khi/N học/V cách/N để_trở/Np thành/V bậc_thầy/Np trong/E việc/N đối/V phối/V với/E các/L bài_toán/N quy_hoạch_động/Np ,/CH anh/N ấy/P bắt_đầu/V giải_quyết/V hàng_loạt/N các/L bài_tập/Np ./CH\nNhưng/C chiếc/Nc máy_tính/N \"dễ/Np bảo\"/Np của/E anh/N bắt_đầu/V trở_chứng/Np vào/E hôm_nay/N ./CH\nVào/E mỗi/L buổi_sáng/N như_thường/Np lệ/N ,/CH John/Np thức_dậy/Np vào/E lúc/N 10/M giờ/N sáng/N ,/CH uống/V một/M cốc/N cà_phê/N và/Cc bắt_đầu/V giải/N các/L bài_tập/Np trước_khi/Np thưởng_thức/V bữa/N sáng/N ./CH\nMặc_dù/C có/V thứ/N gì/P đó/P \"sai/Np sai\"/Np so_với/Np mọi/L hôm/N ,/CH nhưng/C dựa/V vào/E kho_tàng/N kiến_thức/N mà/C anh/N ấy/P vừa_mới/R gặt_hái/V được/V ,/CH John/Np đã/R viết/V chương_trình/N với/E một/M tốc_độ/N thần_thánh/Np ./CH\nMệt_mỏi/A với/E việc/N cấp_phát/V ma_trận/N vào/E mỗi/L buổi_sáng/N ,/CH chiếc/Nc máy_tính/N thông_báo/V rằng/C :/CH \"Segmentation/Np fault/Np !/CH \"/CH ./CH\nDù_cho/C dạ_dày/N còn/R đang/R rỗng/A ,/CH song/C với/E ý_tưởng/N thông_minh/A của/E mình/P ,/CH John/Np đã/R vượt_qua/Np rắc_rối/N bằng/E cách/N chèn/V thêm/V một/M vòng_lặp/Np ./CH\nNhưng/C chiếc/Nc máy_tính/N lại/R gào/Np lên/V :/CH \"Time/Np limit/Np exceeded/Np !/CH \"/CH ./CH\nThay_vì/X tiếp_tục/V vướng/V vào/E mớ/Nc rắc_rối/N ,/CH John/Np đã/R có_một/Np quyết_định/V thông_minh/A hơn/A ./CH\n\"Quá/Np đủ/A cho/E việc/N lập_trình/V !/CH \"/CH -/CH John/Np nói/V ./CH\nAnh/N ấy/P quyết_định/V sẽ/R có_một/Np kỳ/N nghỉ/V như_là/V phần_thưởng/N cho/E những/L nỗ_lực/N của/E mình/P ./CH\nLà/V một/M con_người/N tràn_trề/A sinh_lực/N ,/CH John/Np muốn/V dành/V thời_gian/N nhiều/A cho/E cuộc_đời/N của/E mình/P ./CH\nCó/V quá/R nhiều/A thứ/N mà/C anh/N ta/P muốn/V làm/V ,/CH nhưng/C không/R may/A là/V anh/N ta/P không_thể_nào/R làm/V hết/V tất_cả/P chúng/P được/V ./CH\nThế/P nên/C trong_lúc/Np ăn_sáng/Np ,/CH John/Np đã/R vạch_ra/Np một/M \"Fun/Np plan\"/Np được_thể/Np hiện/N bằng/E một_thời/Np gian/N biểu/Np cho/E từng/R hoạt_động/N như_sau/Np :/CH Id/Np Hoạt_động/N Thời_gian/N 1/M Sửa_phòng/Np Thứ/N 2/M ,/CH 22/M :/CH 00/M đến/E thứ/N 3/M ,/CH 1/M :/CH 00/M 2/M Du_lịch/V Hawaii_Thứ/Np 3/M ,/CH 6/M :/CH 00/M đến/E thứ/N 7/M ,/CH 22/M :/CH 00/M 3/M Vô_địch/N cuộc_thi/Np cờ_vua/N Thứ/N 3/M ,/CH 11/M :/CH 00/M đến/E thứ/N 3/M ,/CH 21/M :/CH 00/M 4/M Thạm/Np dự/V nhạc/N hội/N Rock_Thứ/Np 3/M ,/CH 19/M :/CH 00/M đến/E thứ/N 3/M ,/CH 23/M :/CH 00/M 5/M Chiến_thắng/N cuộc_thi/Np Starcraft_Thứ/Np 4/M ,/CH 15/M :/CH 00/M đến/E thứ/N 5/M ,/CH 15/M :/CH 00/M 6/M Chơi/V trò/N bắn/V súng/N nước_sơn/Np Thứ/N 5/M ,/CH 10/M :/CH 00/M đến/E thứ/N 5/M ,/CH 16/M :/CH 00/M 7/M Tham_gia/V kỳ/N thi/V SRM/Np trên/E Topcoder_Thứ/Np 7/M ,/CH 12/M :/CH 00/M đến/E thứ/N 7/M ,/CH 14/M :/CH 00/M 8/M Tắm_rửa/V Thứ/N 7/M ,/CH 20/M :/CH 30/M đến/E thứ/N 7/M ,/CH 20/M :/CH 45/M 9/M Tổ_chức/V tiệc/N ngủ/V Thứ/N 7/M ,/CH 21/M :/CH 00/M đến/E Chủ_nhật/N ,/CH 6/M :/CH 00/M 10/M Tham_gia/V thử_thách/V \"All/Np you/Np can/N eat\"/Np và/Cc \"All/Np you/Np can/N drink\"/Np Thứ/N 7/M ,/CH 21/M :/CH 01/M đến/E thứ/N 7/M ,/CH 23/M :/CH 59/M Giờ/N anh/N ấy/P muốn/V thực_hiện/V được/V tối_đa/A các/L hoạt_động/N trong/E thời_gian_biểu/Np trên/E ./CH\nMặc_dù/C để/E lên/V kế_hoạch/N hiệu_quả/N thì/C cần/V phải/V có/V chút/L lý_trí/Np ,/CH nhưng/C giờ/N thì/C hồn/N anh/N ấy/P đã/R đắm_chìm/Np vào/E kỳ/N nghỉ/V rồi/C ./CH\nPhát_biểu/V bài_toán/N Liệu/V ta/P có_thể/R giúp/V anh/N ấy/P có_một/Np kỳ/N nghỉ/V tuyệt_vời/A ?/CH\nTa/P hoàn_toàn/A có_thể/R !/CH Đầu_tiên/A ,/CH ta/P cần/V phải/V trình_bày/V lại/R bài_toán/N :/CH John/Np có/V N/Ny hoạt_động/N ./CH\nHoạt_động/N i/M bắt_đầu/V vào/E thời_gian/N L_i/Np và/Cc kết_thúc/V vào/E thời_gian/N R_i/Np ./CH\nJohn/Np có_thể/R thực_hiện/V cả/P hoạt_động/N i/M và/Cc hoạt_động/N j/Np ,/CH nếu/C 2/M khoảng/N thời_gian/N L_i/Np ,/CH R_i/Np và/Cc L_j/Np ,/CH R_j/Np không/R giao/V nhau/N ./CH\nLà/V một/M lập_trình_viên/Np tỉ_mỉ/A ,/CH một_khi/X đã/R đặt/V ra/V kế_hoạch/N ,/CH anh/N ấy/P buộc/V phải/V thực_hiện/V nó/P ./CH\nMỗi/L hoạt_động/N chỉ_có/Np hai/M chọn_lựa/V là/V có/V hoặc/Cc không/R ./CH\nVới/E mỗi/L trường_hợp/N chọn_lựa/V cho/E hoạt_động/N thứ/N nhất/A ,/CH ta/P lại/R có/V thêm/V 2/M lựa_chọn/V cho/E hoạt_động/N thứ/N 2/M ./CH\nPhân_tích/V nhanh_ta/Np sẽ/R thấy/V được/V rằng/C có/V 2n/Np trường_hợp/N ,/CH và/Cc trong/E tình_huống/N này/P thì/C sẽ/R có/V 210/M =/CH 1024/Np trường_hợp/N ./CH\nVới/E mỗi/L trường_hợp/N ta/P sẽ/R kiểm_tra/V xem/V có_thể/R thực_hiện/V được/V các/L hoạt_động/N đó/P không/R :/CH có/V 2/M cặp/N hoạt_động/N nào/P bị/V trùng/V thời_gian/N hay_không/Np ./CH\nSau/E khi/N xét/V hết/V các/L phương_án/N ,/CH ta/P dễ_dàng/A tìm_ra/Np 1/M phương_án/N có/V nhiều/A hoạt_động/N nhất/A ./CH\nVới/E khá/R nhiều/A sự/N chọn_lựa/V như_thế/X này/P ,/CH John/Np buộc/V phải/V nhờ/V đến/E sự/N giúp_đỡ/V của/E chiếc/Nc máy_tính/N đang/R mệt_mỏi/A ./CH\nNhưng/C điều/N gì/P sẽ/R xảy_ra/Np nếu/C John/Np có/V tới/E 50/M hoạt_động/N trong/E danh_sách/N ?/CH\nThậm_chí/R dùng/V đến/E cả/P siêu/Z máy_tính/N nhanh/A nhất/A thế_giới/N thì/C cũng/R cần/V đến/E vài/L năm/N để/E tìm_ra/Np câu/N trả_lời/V ./CH\nThế/P nên/C ,/CH phương_án/N này/P khá/R phi/Z thực_tế/N ./CH\nTiếp_cận/V 1/M Chúng_ta/P cần/V tìm/V một_cách/N tiếp_cận/V mới/R ./CH\nMột/M phương_án/N tốt/A có_lẽ/X là/V thực_hiện/V công_việc/N ngay/R khi/N thời_cơ/N đến/E :/CH Nếu/C ta/P có/V hai/M hoạt_động/N và/Cc chúng/P bị/V trùng/V về/E thời_gian/N ,/CH ta/P sẽ/R ưu_tiên/V lựa_chọn/V hoạt_động/N bắt_đầu/V trước/E nhằm/V tiết_kiệm/V thời_gian/N (nghĩa/Np là/V hoạt_động/N có/V L_i/Np nhỏ/A hơn)/Np ./CH\nNếu/C áp_dụng/V cách/N này/P vào/E 10/M hoạt_động/N trên/E thì/C :/CH John/Np bắt_đầu/V buổi_tối/Np T2/Ny bằng/E việc/N Sửa_phòng/Np ./CH\nBuổi_sáng/N T3/Np ,/CH anh/N ấy/P sẽ/R lên/V máy_bay/N đi/V Du_lịch/V Hawaii/Np ./CH\nVà/Cc chưa/R đầy/A một/M ngày/N nhưng/C anh/N ấy/P đã/R thực_hiện/V được/V 2/M hoạt_động/N ./CH\nThật/R tuyệt_vời/A !/CH Nhưng/C thật_ra/X ,/CH đó/P chỉ/R là/V lựa_chọn/V tốt/A nhất/A lúc_này/Np thôi/T ./CH\nVà/Cc bây_giờ/P thì/C ta/P có/V gì/P ,/CH 5/M ngày/N ăn_chơi/V ở/E Hawaii/Np và/Cc cho_đến/E tận/E tối/N thứ/N 7/M thì/C anh/N ấy/P vẫn/R chỉ_thực/Np hiện/N được/V 2/M hoạt_động/N ./CH\nHãy/R nghĩ/V xem/V trong/E 5/M ngày/N đó/P anh/N ta/P đã/R có_thể/R thực_hiện/V được/V những/L gì/P ./CH\nMặc_dù/C đơn_giản/A và/Cc thực_thi/V rất/R nhanh/A ,/CH song/C rất/R không/R may/A là/V thuật_toán/N này/P lại/R không/R chính_xác/A ./CH\nTiếp_cận/V 2/M Hãy/R thử/V một/M mánh_khóe/Np khác/A ./CH\nGiờ/N ta/P sẽ/R bỏ/V những/L hoạt_động/N tiêu/V tốn/V nhiều/A thời_gian/N như/C đi/V Du_lịch/V Hawaii/Np bằng/E cách/N lựa_chọn/V những/L hoạt_động/N tốn/V ít/A thời_gian/N nhất/A (nghĩa/Np là/V có/V R_i/Np -/CH L_i/Np nhỏ/A nhất)/Np và/Cc kiểm_tra/V xem/V nó/P có/V hợp_lí/A với/E những/L hoạt_động/N đã/R chọn/V trước/E đó/P chưa/R rồi/C tiếp_tục/V quá_trình/N ./CH\nTheo_như/Np thời_gian_biểu/Np ở/E trên/E thì/C hoạt_động/N đầu/N tiện/V được/V chọn_lựa/V sẽ/R là/V tắm/V ./CH\nVới/E thời_gian/N chỉ/R 15/M phút/Nu ,/CH đây/P chính/T là/V lựa_chọn/V tối_ưu/A cục_bộ/A (/CH local/Np best/Np )/CH ./CH\nVà/Cc giờ/N điều/N mà/C ta/P cần/V biết/V đó/P là/V có_thể/R giữ/V được/V tối_ưu/A cục_bộ/A khi/N mà/C những/L hoạt_động/N thích_hợp/A khác/A được/V chọn_lựa/V ./CH\nThời_gian_biểu/Np của/E John/Np sẽ/R như_sau/Np :/CH Tắm_rửa/V (15/Np phút/Nu ,/CH tối/N T7/Np ,/CH 20/M :/CH 30/M -/CH 20/M :/CH 45)/Np ./CH\nTham_gia/V kỳ/N thi/V SRM/Np trên/E Topcoder/Np (2/Np tiếng/N ,/CH T7/Np ,/CH 12/M :/CH 00/M -/CH 14/M :/CH 00)/Np ./CH\nTham_gia/V thử_thách/V \"All/Np you/Np can/N eat\"/Np và/Cc \"All/Np you/Np can/N drink\"/Np (2/Np tiếng/N 58/M phút/Nu ,/CH T7/Np ,/CH 21/M :/CH 01/M -/CH 23/M :/CH 59)/Np ./CH\nSửa_phòng/Np (3/Np tiếng/N ,/CH T2/Ny ,/CH 22/M :/CH 00/M -/CH T3/Np ,/CH 1/M :/CH 00)/Np ./CH\nThạm/Np dự/V nhạc/N hội/N Rock/Np (4/Np tiếng/N ,/CH T3/Np ,/CH 19/M :/CH 00/M -/CH 23/M :/CH 00)/Np ./CH\nChơi/V trò/N bắn/V súng/N nước_sơn/Np (6/Np tiếng/N ,/CH T5/Np ,/CH 10/M :/CH 00/M -/CH 16/M :/CH 00)/Np ./CH\nTrong/E 10/M hành_động/V ,/CH ta/P đã/R lựa/V ra/V được/V 6/M hành_động/V ,/CH không/R tệ/Nu chút_nào/Np !/CH Giờ/N thì/C thuật_toán/N của/E ta/P vẫn/R chạy/V rất/R nhanh/A và/Cc đáng_tin/Np cậy/Np hơn/A chút/L ./CH\nVà/Cc quả_thực/Np ,/CH đáp_án/N chính_xác/A trong/E trường_hợp/N này/P là/V 6/M ./CH\nJohn/Np rất/R hài_lòng/V về/E sự/N hỗ_trợ/V của/E chúng_ta/P ,/CH nhưng/C sau/E khi/N trở_về/V từ/E kỳ/N nghỉ/V với/E kế_hoạch/N thông_minh/A này/P ,/CH John/Np đã/R phải/V đối_mặt/V với/E những/L rắc_rối/N nghiêm_trọng/A khác/A :/CH Áp_dụng/V thuật_toán/N của/E ta/P ,/CH John/Np đã/R tham_gia/V một/M cuộc/N hẹn_hò/Np chóng_vánh/A (màu/Np đỏ)/Np ,/CH để/E rồi/C anh/N ấy/P đã/R bỏ_lỡ/Np cả/P bài_thi/Np trong/E trường/N (màu/Np xanh/A da/N trời)/Np lẫn/C trận_đấu/Np bóng_rổ/N của/E đội/N anh/N ấy/P yêu_thích/V (màu/Np xanh/A lá)/Np ./CH\nLà/V một/M Topcoder/Np ,/CH chúng_ta/P cần/V phải/V viết/V ra/V một/M chương_trình/N hoàn_toàn/A chính_xác/A ,/CH chứ/C không_phải/Np chỉ/R đúng/A trong/E 1/M số/N trường_hợp/N ./CH\nChỉ_cần/Np một/M trường_hợp/N duy_nhất/A chúng_ta/P không/R giải_quyết/V được/V sẽ/R dẫn/V tới/E một/M thất_bại/V toàn_diện/A ./CH\nTiếp_cận/V 3/M Những/L gì_mà/Np chúng_ta/P thường/R làm/V trong/E tình_huống/N này/P là/V phân_tích/V điều/N gì/P đã/R gây/V ra/V lỗi/N ở/E cách/N làm/V trước/E để/E tránh/V lặp_lại/Np nó/P trong/E tương_lai/N ./CH\nHãy/R xem_xét_lại/Np trường_hợp/N sai/A ./CH\nCuộc/N hẹn_hò/Np trùng/V thời_gian/N với/E cả/P việc_làm/N bài_thi/Np lẫn/C trận_đấu/Np bóng_rổ/N ,/CH trong_khi/Np cả/P trận_đấu/Np bóng_rổ/N lẫn/C làm_bài/Np thi/V chỉ/R trùng_lặp/Np với/E một_mình/X cuộc/N hẹn_hò/Np ./CH\nVậy_thì/X ý_tưởng/N cũng/R tự_sinh/Np ra/V từ/E vấn_đề/N này/P ./CH\nTại_sao/X ta/P không/R chọn/V hoạt_động/N ít/A bị/V trùng_lặp_nhất/Np so_với/Np những/L hoạt_động/N còn_lại/Np ?/CH\nNghe/V có_vẻ/X hợp_lí/A !/CH Để/E đảm_bảo/V rằng/C phương_pháp/N này/P hoàn_toàn/A đúng_đắn/A ,/CH lần/N này/P ta/P hãy/R thử/V chứng_minh/V ./CH\nGiờ/N giả_sử_ta/Np đã/R lựa_chọn/V hoạt_động/N X/CH ,/CH ta/P sẽ/R thử/V kiểm_tra/V xem/V ta/P có_thể/R lựa_chọn/V hoạt_động/N A/Ni và/Cc B/Ni (những/Np hoạt_động/N bị/V trùng_lặp/Np với/E X)/Np thay_vì/X X/CH được/V hay_không/Np ./CH\nVà_A/Np ,/CH B/Ni cũng/R không/R được/V trùng_lặp/Np nhau/N ,/CH nếu_không/Np ta/P cũng/R không_thể/R tối_ưu_hóa/Np kết_quả/N ./CH\nBây_giờ/P ,/CH ta/P sẽ/R quay/V về/E trường_hợp/N trước/E đó/P (X/Np trùng/V với/E 2/M hoạt_động/N ,/CH A/Ni và/Cc B/Ni trùng/V với/E 1/M hoạt/Np động)/Np ./CH\nTrong/E trường_hợp/N này/P ,/CH ta/P sẽ/R chọn/V A/Ni và/Cc B/Ni ngay/R từ_đầu/Np tiên/N ./CH\nMột/M trong/E những/L cách/N để/E phản_bác/N lại/R giả_thiết/N này/P chính/T là/V cho/E hoạt_động/N A/Ni và/Cc B/Ni trùng_lặp/Np với/E nhiều/A hoạt_động/N hơn_nữa/C chứ/C không/R chỉ/R hoạt_động/N X/CH ./CH\nNghe/V nó/P có_vẻ/X không/R trực_quan/Np cho_lắm/Np ,/CH nhưng/C (thật/Np không/R may)/Np ta/P vẫn/R có_thể/R xây_dựng/V trường_hợp/N đó/P như_sau/Np :/CH Nhưng/C hoạt_động/N được/V biểu_diễn/V bằng/E gạch/N màu/N xanh/A chính/T là/V những/L lựa_chọn/V tối_ưu/A trong/E thời_gian_biểu/Np trên/E ./CH\nNhưng/C hoạt_động/N tô_màu/Np đỏ/A trùng_lặp/Np với/E 2/M hoạt_động/N nên/C nó/P sẽ/R được/V chọn/V trước/E ./CH\nVẫn/R còn/R 4/M hoạt_động/N thích_hợp/A khác/A trước/E hoạt_động/N đỏ/A ,/CH nhưng/C chúng/P đều/R bị/V trùng_lặp/Np lẫn_nhau/Np ,/CH thế/P nên/C ta/P chỉ_có/Np thể/N lựa_chọn/V thêm/V 1/M hoạt_động/N ./CH\nĐiều/N tương_tự/A cũng/R xảy_ra/Np đối_với/E 4/M hoạt_động/N sau/E hoạt_động/N màu/N đỏ/A ,/CH nhưng/C ta/P vẫn/R chỉ_có/Np thể/N chọn/V 1/M ./CH\nVậy/P tổng_cộng/V theo/V phương_pháp/N này/P ,/CH ta/P vẫn/R chỉ_có/Np thể/N chọn/V 3/M hoạt_động/N ,/CH trong_khi/Np kết_quả/N tối_ưu/A là/V 4/M ./CH\nTiếp_cận/V 4/M Tổng_quát/Np lại/R ,/CH ta/P đã/R thử/V 3/M cách/N khác_nhau/Np ,/CH và/Cc mỗi/L cách_đều/Np có/V thiếu_sót/N :/CH Cách/N 1/M :/CH Chọn/V hoạt_động/N có/V L_i/Np nhỏ/A nhất/A Cách/N 2/M :/CH Chọn/V hoạt_động/N có/V R_i/Np -/CH L_i/Np nhỏ/A nhất/A Cách/N 3/M :/CH Chọn/V hoạt_động/N giao/V với/E ít/A hoạt_động/N khác/A nhất/A ./CH\nCó_vẻ/X như/C chúng_ta/P đang/R đối_mặt/V với/E một/M vấn_đề/N hóc_búa/Np ./CH\nNhưng/C thật_ra/X ,/CH vấn_đề/N này/P vẫn/R có_một/Np cách/N giải_quyết/V đẹp_đẽ/A ,/CH và/Cc không_hề/Np phức_tạp/A ./CH\nNếu/C ta/P xem_xét/V hình/N trên/E một_cách/N kỹ_lưỡng/A hơn_nữa/C ,/CH ta/P sẽ/R thấy/V được/V rằng/C hoạt_động/N màu/N xanh/A nằm/V ở/E góc/N trái/Nc dưới/E là_là/Np hoạt_động/N duy_nhất/A hoàn_thành/V trước/E đường/N vẽ/V dọc/A màu/N đỏ/A ./CH\nVậy/P ,/CH nếu/C lựa_chọn/V 1/M hoạt_động/N đơn_lẻ/A ,/CH ta/P sẽ/R chọn/V hoạt_động/N kết_thúc/V sớm/A nhất/A (có/Np R_i/Np nhỏ/A nhất)/Np ./CH\nGọi/V thời_điểm/N hoàn_thành/V hoạt_động/N đó/P là/V t_1/Np ,/CH thì/C khoảng/N thời_gian/N sau/E t_1/Np sẽ/R trống/A để/E ta/P có_thể/R chọn/V các/L hoạt_động/N khác/A ./CH\nNếu/C chúng_ta/P chọn/V bất_kỳ/A hoạt_động/N nào/P khác/A ,/CH thì/C khoảng/N thời_gian/N còn_lại/Np sẽ/R ngắn/A đi/V ./CH\nĐiều/N này/P là/V hiển_nhiên/Np ,/CH bởi_vì/E khi/N ta/P kết_thúc/V với/E bất_kỳ/A một/M hoạt_động/N nào/P khác/A thì/C luôn_luôn/R t_2/Np gt;/Np t_1/Np ./CH\nTrong/E trường_hợp/N đầu_tiên/A ,/CH ta/P sẽ/R có/V toàn_bộ/L thời_gian/N từ/E t_1/Np đến/E khi/N kết_thúc/V và/Cc bao_gồm/V luôn/R khoảng/N từ/E t_2/Np đến/E kết_thúc/V ./CH\nBởi_vậy/Np mà/C nó/P cũng/R không/R có/V khuyết_điểm/Np trong/E việc/N lựa_chọn/V hoạt_động/N kết_thúc/V sớm/A ./CH\nVà/Cc nó/P còn/R có_một/Np ưu_điểm/N đó/P là/V ta/P hoàn_toàn/A có_thể/R chèn/V thêm/V một/M hoạt/Np đồng/Nu bất_kỳ/A vào/E giữa/N t_1/Np và/Cc t_2/Np và/Cc kết_thúc/V trước_khi/Np hoạt_động/N của/E t_2/Np bắt_đầu/V ./CH\nTrên/E đây/P là/V ý_tưởng/N để/E chứng_minh/V thuật_toán/N này/P đúng/A ./CH\nTa/P có_thể/R từ_đó/Np để/E chứng_minh/V chặt_chẽ/A là/V cách/N làm/V này/P đúng/A ./CH\nĐược/V biết/V tới/E với/E tên_gọi/Np \"Lựa/Np chọn/V hoạt/Np động\"/Np (/CH Activity_Selection/Np )/CH ,/CH đây/P là/V bài_toán/N cơ_sở/N sử_dụng/V \"Phương/Np pháp/Np Tham/V lam\"/Np ./CH\nGiống_như/Np là/V một/M gã/Nc tham_lam/Np luôn/R muốn/V chiếm/V lấy/V nhiều/A nhất/A ,/CH thường_xuyên/A nhất/A mà/C hắn_ta/Np có_thể/R ,/CH trong/E trường_hợp/N này/P ,/CH ở/E mỗi/L bước_ta/Np sẽ/R chọn_lựa/V một/M hoạt_động/N kết_thúc/V đầu_tiên/A và/Cc mỗi/L lần/N đều/R không/R có/V hoạt_động/N đang/R trong/E tiến_trình/Np ./CH\nVà/Cc có_một/Np sự_thật/N đó/P là/V ta/P luôn_luôn/R áp_dụng/V phương_pháp/N tham_lam/Np cho/E mỗi/L bước/V trong/E cuộc_đời/N của/E mình/P ./CH\nKhi/N ta/P đi/V mua_sắm/V hoặc/Cc đi/V xe_hơi/N ,/CH ta/P đều/R luôn/R lựa_chọn/V phương_án/N tốt/A nhất/A tại/E thời_điểm/N hiện_tại/N ./CH\nThật_ra/X ,/CH phương_pháp/N tham_lam/Np có/V 2/M công_thức/N chung/A :/CH Tính/V lựa_chọn/V tối_ưu/A :/CH Từ/E những/L kết_quả/N tối_ưu/A cục_bộ/A ta/P có_thể/R đi/V đến/E kết_quả/N tối_ưu/A toàn_cục/Np mà/C không/R cần/V phải/V xem_xét_lại/Np các/L kết_quả/N ./CH\nTính/V tối_ưu/A từ/E bài_toán/N nhỏ/A :/CH Kết_quả/N tối_ưu/A có/V được/V xác_định/V bằng/E các/L kết_quả/N tối_ưu/A từ/E bài_toán/N nhỏ/A hơn/A ./CH\nĐoạn/Nc mã/N giả/A dưới_đây/Np diễn_ta/Np cách/N lựa_chọn/V tối_ưu/A các/L hoạt_động/N bằng/E thuật_toán/N tham_lam/Np mà/C ta/P vừa/R chứng_minh/V phía/N trên/E :/CH Đặt_N/Np là/V số/N hoạt_động/N và/Cc I/M là/V hoạt_động/N thứ/N I/M (1/Np lt;=/Np I/M lt;=/Np N)_Với/Np mỗi/L I/M ,/CH xét/V SI/Ny và/Cc FI/Np lần_lượt/R là/V thời_gian/N bắt_đầu/V và/Cc kết_thúc/V của/E hoạt_động/N đó/P ./CH\nSắp_xếp/V lại/R các/L hoạt_động/N theo/V thứ_tự/N tăng/V dần/R của/E thời_gian/N kết_thúc/V ./CH\n-/CH Có_nghĩa/A là/V ,/CH với/E I/M lt;/Np J/Np ta/P phải/V có/V F_I/Np lt;=/Np F_J/Np //CH A/Ni là/V tập_hợp/N các/L hoạt_động/N được/V chọn/V A/Ni =/CH 1/M //CH J/Np là/V hoạt_động/N cuối_cùng/A được/V chọn/V J/Np =/CH 1/M For_I/Np =/CH 2/M to/A N/Ny //CH ta/P có_thể/R chọn/V I/M nếu/C nó/P là/V hoạt_động/N cuối_cùng/A //CH việc/N chọn_lựa/V đã/R hoàn_thành/V If_S_I/Np gt;=/Np F_J/Np //CH lựa_chọn/V hoạt_động/N I_A/Np =/CH A/Ni +/CH I/M //CH hoạt_động/N I/M giờ/N trở_thành/V hoạt_động/N cuối_cùng/A được/V lựa_chọn/V J/Np =/CH I_Endif_Endfor_Return_A_Sau/Np khi/N áp_dụng/V thuật_toán/N trên/E ,/CH \"Fun/Np plan\"/Np của/E Johnny/Np sẽ/R như_thế/X này/P :/CH Sửa_phòng/Np Vô_địch/N cuộc_thi/Np cờ_vua/N Chiến_thắng/N cuộc_thi/Np Starcraft/Np Tham_gia/V kỳ/N thi/V SRM/Np trên/E Topcoder/Np Tắm_rửa/V Tham_gia/V thử_thách/V \"All/Np you/Np can/N eat\"/Np và/Cc \"All/Np you/Np can/N drink\"/Np Vấn_đề/N của/E John_Smith/Np đã/R được/V giải_quyết/V ,/CH tuy_nhiên/C đây/P chỉ/R là/V một/M ví_dụ/C mà/C Tham_lam/Np có_thể/R hoạt_động/N ./CH\nBài_tập/Np tương_tự/A :/CH Boxing_BioScore/Np Bài_toán/N Cho_N/Np dãy/Nc ký_tự/Np dài/A bằng_nhau/Np ./CH\nMỗi/L dãy/Nc gồm/V 4/M loại/N ký_tự/Np :/CH A/Ni ,/CH C/Ni ,/CH T/Nu ,/CH G/Nu ./CH\nĐộ/N tương_đồng/Np của/E 2/M dãy/Nc là/V tổng_điểm/Np của/E các/L cặp/N ký_tự/Np của/E cùng/A vị_trí/N ./CH\nVí_dụ/C ,/CH độ/N tương_đồng/Np của/E ACTA/Np và/Cc GATC/Np là/V :/CH score(A/Np ,/CH G)/Np +/CH score(C/Np ,/CH A)/Np +/CH score(T/Np ,/CH T)/Np +/CH score(A/Np ,/CH C)/Np ./CH\nTìm/V cách/N xây_dựng/V bảng/N S/Y (/CH score/Np )/CH sao_cho/Np độ/N tương_đồng/Np của/E tất_cả/P các/L cặp/N 2/M xâu/Np trong/E N/Ny xâu/Np là/V lớn/A nhất/A ,/CH biết/V rằng/C bảng/N S/Y phải/V thỏa_mãn/V các/L tính_chất/N :/CH Các/L giá_trị/N từ/E -10/Np đến/E 10/M Đối_xứng/Np :/CH S(x/Np ,/CH y)/Np =/CH S(y/Np ,/CH x)/Np ./CH\nĐường_chéo/Np dương/A :/CH S(x/Np ,/CH x)/Np gt;/Np 0/M ./CH\nTổng_các/Np số/N trong/E S/Y phải/V bằng/E 0/M ./CH\nPhân_tích/V Việc/N đầu_tiên/A mà/C ta/P cần/V làm/V là/V xây_dựng/V một/M ma_trận/N cho_biết/V số/N lần_lặp/Np (/CH ma_trận/N tần_số/N )/CH của/E từng/R cặp/N 2/M ký_tự/Np ./CH\nĐây/P là/V một/M công_việc/N khá/R nhẹ_nhàng/A khi/N mà/C ta/P chỉ_cần/Np ghép/V từng/R cặp/N ký_tự/Np ở/E hai/M chuỗi/N tạo/V rồi/C đếm_số/Np lần/N xuất_hiện/V của/E chúng/P (/CH AA/Np ,/CH AC/Np ,/CH AG/Np ,/CH AT/Np ,/CH CA/N ,/CH CC/Ny ,/CH CG/Np ,/CH CT/Ny ,/CH GA/N ,/CH GC/Np ,/CH GG/Np ,/CH GT/Np ,/CH TA/P ,/CH TC/Np ,/CH TG/Np ,/CH TT/Ny )/CH ./CH\nTừng/R cặp/N ký_tự/Np sẽ/R được/V xem/V như/C một/M phần_tử/N trong/E ma_trận/N và/Cc giá_trị/N của/E nó/P chính/T là/V số/N lần/N xuất_hiện/V của/E nó/P ./CH\nVí_dụ/C ,/CH hãy/R xét/V bộ/N \"ACTAGAGAC\"/Np ,/CH \"AAAAAAAAA\"/Np ,/CH \"TAGTCATAC\"/Np ,/CH \"GCAGCATTC\"/Np được/V sử_dụng/V ở/E ví_dụ/C thứ/N 2/M ./CH\nỞ/E góc/N phải/V -/CH dưới/E của/E hình/N minh_họa/V trên/E ,/CH ta/P có_thể/R thấy/V kết_quả/N của/E ma_trận/N tần_số/N đối_với/E bộ/N đã/R cho/E ./CH\nTạm/A gọi/V nó/P là/V F/Np ./CH\nGiờ/N việc/N mà/C ta/P cần/V làm/V là/V tìm_ra/Np một/M ma_trận/N S/Y sao_cho/Np tổng/N của/E các/L tích/N :/CH Fi/Np ,/CH j/Np Si/Ny ,/CH j/Np với/E (1/Np \\le/Np i/M ,/CH j/Np \\le/Np 4)/Np là/V lớn/A nhất/A ./CH\nGiờ/N ta/P xét/V từng/R điều_kiện/N cho/E ma_trận/N cần/V tìm/V :/CH 1)/Np Tổng/N của/E 16/M phần_tử/N bằng/E 0/M :/CH Rõ_ràng/A ,/CH nếu/C ta/P không/R giới_hạn/V tổng/N của/E các/L phần_tử/N ,/CH thì/C ta/P có_thể/R đạt/V được/V tổng_bằng/Np vô_cùng/R ,/CH nếu/C gán/V tất_cả/P các/L phần_tử/N của/E S/Y là/V vô_cùng/R ./CH\nNhưng/C bởi_vì/E tống/V của/E chúng/P phải/V bằng/E 0/M ,/CH thế/P nên/C khi/N ta/P tăng_giá_trị/Np 1/M phần_tử/N lên/V thì/C ta/P sẽ/R phải/V giảm/V đi/V giá_trị/N của/E 1/M phần_tử/N khác/A ./CH\nThử_thách/V ở/E điều_kiện/N này/P chính/T là/V phải/V tìm_ra/Np một/M sự/N phân_bố/V tối_ưu/A ./CH\n2)/Np Giá_trị/N mỗi/L phần_tử/N chỉ/R nằm/V trong_khoảng/Np từ/E -10/Np đến/E 10/M (Si/Np ,/CH j/Np \\in/Np -10/Np ,/CH 10)/Np Tương_tự/A ,/CH nếu_không/Np có_điều/X kiện/V này/P ,/CH kết_quả/N có_thể/R lên/V đến/E vô_cùng/R ,/CH nếu/C ta/P có/V 1/M cặp/N không/R xuất_hiện/V ,/CH gán/V S/Y tương_ứng/V là/V âm/A vô_cùng/R ,/CH còn/R các/L phần_tử/N còn_lại/Np trong/E mảng/N là/V dương/A vô_cùng/R ./CH\n3)/Np Mỗi/L phần_tử/N đối_xứng/Np phải/V có_giá/Np trị/V bằng_nhau/Np (S(x/Np ,/CH y)/Np =/CH S(y/Np ,/CH x))/Np Bởi_vì/E tính/V đối_xứng/Np ,/CH ta/P phải/V quy_định/N cho/E các/L điểm/N cho/E các/L cặp/N như/C AC/Np và/Cc CA/N bằng_nhau/Np ./CH\nDo/E tính/V đối_xứng/Np này/P ,/CH ta_cập/Np nhật/N lại/R mảng/N tần_số/N xuất_hiện/V để/E tính/V cả/P các/L cặp/N đối_xứng/Np ./CH\nĐối_với/E ví_dụ/C trên/E ,/CH ta/P có/V bảng/N tần_số/N mới/R như_sau/Np :/CH AA/Np :/CH 14/M AC+CA/Np :/CH 11/M AG+GA/Np :/CH 10/M AT+TA/Np :/CH 10/M CC/Ny :/CH 4/M CG+GC/Np :/CH 2/M TC+CT/Np :/CH 0/M GG/Np :/CH 0/M GT+TG/Np :/CH 3/M TT/Ny :/CH 1/M Từ/E trực_giác/Np ta/P có_thể/R thấy/V ngay/R đến/E phương_án/N như_sau/Np :/CH đã/R sẽ/R gán/V điểm_số/N càng/R cao/A đối_với/E cặp/N xuất_hiện/V càng/R nhiều/A lần/N ./CH\n4)/Np Các/L phần_tử/N trên/E đường_chéo/Np phải/V dương/A (S(x/Np ,/CH x)/Np gt;/Np 0)/Np Do/E tính_chất/N này/P ,/CH ta/P phải/V xét/V riêng/A hai/M loại/N phần_tử/N :/CH 4/M phần_tử/N trên/E đường_chéo/Np (các/Np phần_tử/N đại_diện/N cho/E AA/Np ,/CH CC/Ny ,/CH GG/Np ,/CH TT/Ny )/CH 6/M phần_tử/N không/R nằm/V trên/E đường_chéo/Np (các/Np phần_tử/N đại_diện/N cho/E AC/Np +/CH CA/N ,/CH AG/Np +/CH GA/N ,/CH AT/Np +/CH TA/P ,/CH CG/Np +/CH GC/Np ,/CH CT/Ny +/CH TC/Np ,/CH GT/Np +TG/Np )/CH ./CH\nTa/P xét/V tất_cả/P các/L trường_hợp/N chọn/V các/L phần_tử/N của/E nhóm/N thứ/N nhất/A ./CH\nCó/V 104/M =/CH 10/M ,/CH 000/Np trường_hợp/N khác_nhau/Np ./CH\nVới/E mỗi/L trường_hợp/N của/E nhóm/N thứ/N nhất/A ,/CH ta/P sẽ/R tìm/V đáp_án/N tối_ưu/A cho/E nhóm/N thứ/N 2/M ./CH\nVới/E mỗi/L trường_hợp/N ,/CH ta/P có/V tổng_các/Np phần_tử/N của/E nhóm/N thứ/N nhất/A nằm/V trong_khoảng/Np 4/M ,/CH 40/M ,/CH nên/C tổng_các/Np phần_tử/N của/E nhóm/N thứ/N 2/M nằm/V trong_khoảng/Np -20/Np ,/CH -2/Np (chú/Np ý/N rằng/C nhóm/N thứ/N 2/M đối_xứng/Np ,/CH mỗi/L phần_tử/N xuất_hiện/V 2/M lần/N trong/E ma_trận/N S/Y ,/CH nên/C ta/P phải/V nhân/N đôi)/Np Vì/E các/L phần_tử/N của/E nhóm/N 2/M có/V chung/A tính_chất/N ,/CH ta/P sử_dụng/V Tham_lam/Np để/E tìm/V kết_quả/N tối_ưu/A cho/E nhóm/N thứ/N 2/M ./CH\nNhắc_lại/Np tư_tưởng/N của/E Tham_lam/Np :/CH tại/E mỗi/L bước/V ,/CH ta/P chọn/V một/M lựa_chọn/V tối_ưu/A cục_bộ/A ./CH\nTrong/E trường_hợp/N này/P nghĩa_là/V ta/P xét/V lần_lượt/R từng/R phần_tử/N ,/CH với/E mỗi/L phần_tử/N ,/CH gán/V cho/E nó/P giá_trị/N tối_ưu/A ./CH\nNhận_xét/N :/CH Nếu/C ta/P xét/V lần_lượt/R các/L phần_tử/N theo/V thứ_tự/N giảm_dần/Np ,/CH ở/E mỗi/L bước_ta/Np gán/V giá_trị/N lớn/A nhất/A có_thể/R cho/E phần_tử/N đó/P ,/CH thì/C kết_quả/N thu/V được/V sẽ/R tối_ưu/A ./CH\nDo_đó/C ,/CH cách/N làm/V là/V :/CH Sắp_xếp/V 6/M phần_tử/N của/E nhóm/N 2/M theo/V thứ_tự/N giảm_dần/Np (theo/Np ma_trận/N F)/Np ./CH\nHai/M giá_trị/N đầu_tiên/A sẽ/R được/V gán/V bằng/E 10/M (vì/Np trường_hợp/N xấu/A nhất/A ta/P cần/V tổng_bằng/Np -20/Np ,/CH thì/C ta/P vẫn/R có_thể/R gán/V 4/M giá_trị/N còn_lại/Np là/V -10)/Np ./CH\nTa/P biết/V rằng/C số/N điểm/N cuối_cùng/A sẽ/R nhỏ/A hơn/A 0/M ./CH\nBởi_vì/E ta/P muốn/V tối_đa_hóa/Np số/N điểm/N của/E phần_tử/N thứ/N 3/M ,/CH nên/C ba/M phần_tử/N còn_lại/Np sẽ/R luôn/R là/V -10/Np :/CH Trong/E trường_hợp/N tốt/A nhất/A ,/CH tổng_bằng/Np -2/Np ,/CH ta/P thu/V được/V :/CH 10/M ,/CH 10/M ,/CH 8/M ,/CH -10/Np ,/CH -10/Np ,/CH -10/Np ./CH\nTrong/E trường_hợp/N xấu/A nhất/A ,/CH tổng_bằng/Np -20/Np ,/CH ta/P thu/V được/V :/CH 10/M ,/CH 10/M ,/CH -10/Np ,/CH -10/Np ,/CH -10/Np ,/CH -10/Np ./CH\nTa/P có_thể/R thu/V được/V tất_cả/P các/L tổng_từ/Np -20/Np đến/E -2/Np bằng/E việc/N thay_đổi/V giá_trị/N của/E phần_tử/N thứ/N 3/M từ/E 8/M đến/E -10/Np ./CH\nGiờ/N ta/P cần/V chứng_minh/V rằng/C phương_pháp/N của/E mình/P là/V đúng/A ./CH\nVì/E ta/P xét/V hết/V tất_cả/P các/L trường_hợp/N của/E nhóm/N 1/M ,/CH nên/C ta/P chỉ_cần/Np chứng_minh/V cách/N chọn/V các/L phần_tử/N của/E nhóm/N 2/M là/V tối_ưu/A ./CH\nVì/E tổng_các/Np phần_tử/N của/E nhóm/N 2/M cố_định/A ,/CH nên/C nếu/C ta/P tăng/V 1/M phần_tử/N ,/CH thì_phải/N giảm/V 1/M phần_tử/N khác/A ./CH\nGọi/V f_1/Np và/Cc f_2/Np là/V số/N lần/N xuất_hiện/V của/E 2/M số/N bất_kỳ/A của/E nhóm/N 2/M ./CH\nTa/P có/V :/CH f_1/Np s_1/Np +/CH f_2/Np s_2/Np =/CH X/CH ./CH\nKhông/R làm/V mất/V tính/V tổng_quát/Np ,/CH giả_sử/Np f_1/Np \\ge/Np f_2/Np ./CH\nDo/E cách/N tham/V ,/CH ta/P có/V s_1/Np \\ge/Np s_2/Np ./CH\nTa/P cũng/R có/V s_1/Np là/V lớn/A nhất/A có_thể/R ,/CH nên/C ta/P không_thể/R tăng/V s_1/Np ./CH\nGiả_sử/Np cách/N làm/V của/E ta/P không/R tối_ưu/A ,/CH nghĩa_là/V ta/P có_một/Np cách/N chọn/V 1/M số/N a/Ni sao_cho/Np :/CH f_1/Np (s_1/Np -/CH a)/Np +/CH f_2/Np (s_2/Np +/CH a)/Np =/CH Y/N với/E a/Ni là/V số_dương/Np ./CH\nTa/P có/V Y-X/Np =/CH a/Ni (f2-f1)/Np ./CH\nBởi_vì/E f1/Ny \\ge/Np f2/Ny nên/C Y-X/Np luôn/R âm/A ./CH\nDo_vậy/C ,/CH cách/N làm/V của/E ta/P là/V tối_ưu/A ./CH\nCài_đặt/V Ý_tưởng/N chính/T của/E thuật_toán/N trên/E sẽ/R được/V minh_họa/V trong/E đoạn/Nc mã/N giả/A dưới_đây/Np :/CH Best/Np =/CH -Infinity/Np For_S1/Np =/CH 1/M to/A 10/M For_S2/Np =/CH 1/M to/A 10/M For_S3/Np =/CH 1/M to/A 10/M For_S4/Np =/CH 1/M to/A 10/M If/Np (S1/Np +/CH S2/Np +/CH S3/Np +/CH S4)/Np mod/Np 2/M =/CH 0)/Np S5/Np =/CH S6/Np =/CH 10/M S7/Np =/CH 10/M -/CH (S1/Np +/CH S2/Np +/CH S3/Np +/CH S4)/Np //CH 2/M S8/Np =/CH S9/Np =/CH S10/Np =/CH -10)/Np //CH biến/V Best/Np sẽ/R lưu/V lại/R giá_trị/N trung_bình/A lớn/A nhất/A tìm/V được/V Best/Np =/CH max/Np (Best/Np ,/CH score/Np (F/Np ,/CH S))_Endif_Endfor_Endfor_Endfor_Endfor_Return_Best/Np Đối_với/E mảng/N lưu/V điểm/N đã/R cho/E (trong/Np trường_hợp/N của/E chúng_ta/P là/V mảng/N S)/Np ,/CH ta/P sẽ/R tính/V kết_quả/N cuối_cùng/A bằng/E việc/N chỉ/R tính/V tổng/N của/E tích/N FI_S_I/Np ./CH\nGoldMine/Np Bài_toán/N Có_N/Np mỏ/N vàng/N ,/CH mỗi/L mỏ/N vàng/N chứa/V được/V tối_đa/A 6/M công_nhân/N ./CH\nBằng/E cách/N phân_bổ/V các/L công_nhân/N ,/CH công_ty/N sẽ/R thu/V được/V (hoặc/Np mất/V đi)/Np số/N tiền/N như_sau/Np :/CH Nếu/C mỏ/N vàng/N có/V ít/A nhân_công/N hơn/A trữ_lượng/N của/E nó/P ,/CH công_ty/N sẽ/R thu/V được/V 60/M với/E mỗi/L công_nhân/N ./CH\nNếu/C mỏ/N vàng/N có_số/Np công_nhân/N bằng/E với/E trữ_lượng/N của/E nó/P ,/CH công_ty/N sẽ/R thu/V được/V 50/M cho/E với/E mỗi/L công_nhân/N ./CH\nNếu/C mỏ/N vàng/N có_số/Np công_nhân/N nhiều/A hơn/A trữ_lượng/N của/E nó/P ,/CH công_ty/N sẽ/R được/V số/N tiền/N là/V 50/M nhân/N cho/E trữ_lượng/N mỏ/N ./CH\nVới/E mỗi/L công_nhân/N bị/V thừa/V ra/V so_với/Np sản_lượng/N mỏ/N ,/CH công_ty/N sẽ/R bị/V mất/V đi/V 20/M ./CH\nDù_cho/C có/V bị/V mất/V tiền/N đi_chăng_nữa/Np thì/C công_ty/N cũng/R buộc/V phải/V phân_công/V đủ/A các/L công_nhân/N vào/E các/L mỏ/N ./CH\nPhân_tích/V Bằng/E việc/N sử_dụng/V phương_pháp/N tham_lam/Np ,/CH ta/P sẽ/R phân_tích/V xem/V cách/N một/M mỏ/N vàng/N bị/V khai_thác/V triệt/Np ./CH\nKinh_nghiệm/N cho/E thấy/V ,/CH đối_với/E dạng/N bài/N như/C tìm_kiếm/V giá_trị/N tối_đa/A ,/CH thường_ta/Np có_thể/R giải_quyết/V bằng/E Tham_lam/Np ./CH\nTrong/E trường_hợp/N này/P ,/CH mục_tiêu/N của/E ta/P là/V chỉ_định/V những/L công_nhân/N đến/E các/L mỏ/N vàng/N sao_cho/Np tổng/N lợi_nhuận/N thu/V được/V là/V tối_đa/A ./CH\nPhân_tích/V nhanh/A ,/CH ta/P thấy/V rằng/C cần/V phải_biết/N lợi_nhuận/N thu/V được/V từ/E các/L mỏ/N vàng/N trong/E tất_cả/P các/L trường_hợp/N (chỉ/Np có/V 7/M trường_hợp/N -/CH từ/E 0/M đến/E 6/M công/N nhân)/Np ./CH\nBảng/N dưới_đây/Np sẽ/R cho/E ta/P thấy/V lợi_nhuận/N khả_thi/A đối_với/E hai/M mỏ/N ở/E ví_dụ/C 0/M trong/E bài/N :/CH 0/M người/N 1/M người/N 2/M người/N 3/M người/N 4/M người/N 5/M người/N 6/M người/N Mỏ/N 1/M 0/M 57/M 87/M 87/M 67/M 47/M 27/M Mỏ/N 2/M 0/M 52/M 66/M 75/M 75/M 66/M 48/M Nếu/C ta/P chỉ_có/Np duy_nhất/A một/M công_nhân/N ,/CH lựa_chọn/V tối_ưu/A chính/T là/V cho/E anh/N ta/P vào/E mỏ/N nơi/N mà/C anh/N ta/P mang_lại/Np nhiều/A lợi_nhuận/N nhất/A ./CH\nNhưng/C nếu/C ta/P có/V nhiều/A công_nhân/N ,/CH ta/P cần/V phải/V kiểm_tra/V xem/V nếu/C phân_công/V anh/N ở/E mỏ/N tương_tự/A có_mang/Np lại/R lợi_nhuận/N cục_bộ/A tối_ưu/A không/R ./CH\nTrong/E ví_dụ/C ,/CH ta/P có/V 4/M công_nhân/N cần/V được/V phân_công/V ./CH\nBảng/N dưới_đây/Np sẽ/R cho_biết/V lợi_nhuận/N thu/V được_của/Np mỗi/L mỏ/N với/E từng/R công_nhân/N được/V thêm/V vào/E ./CH\nBan_đầu/N Người/N 1/M Người/N 2/M Người/N 3/M Người/N 4/M Người/N 5/M Người/N 6/M Mỏ/N 1/M -/CH 57/M 30/M 0/M -20/Np -20/Np -20/Np Mỏ/N 1/M -/CH 52/M 14/M 9/M 0/M -9/Np -20/Np Ta/P để_ý/V rằng/C ,/CH mỏ/N 1/M sẽ/R tăng/V thêm/V 57/M nếu/C ta/P thêm/V vào/E một/M công_nhân/N ,/CH trong_khi/Np mỏ/N 2/M chỉ/R tăng/V thêm/V 52/M ./CH\nThế/P nên/C ,/CH ta/P sẽ/R phân_bố/V người/N đầu_tiên/A vào/E mỏ/N 1/M ./CH\nBan_đầu/N Người/N 1/M Người/N 2/M Người/N 3/M Người/N 4/M Người/N 5/M Người/N 6/M Mỏ/N 1/M -/CH 57/M 30/M 0/M -20/Np -20/Np -20/Np Mỏ/N 1/M -/CH 52/M 14/M 9/M 0/M -9/Np -20/Np Giờ/N ,/CH nếu/C ta/P thêm/V công_nhân/N vào/E mỏ/N 1/M ,/CH ta/P chỉ/R tăng/V lợi_nhuận/N được/V thêm/V 30/M ./CH\nBởi_vậy/Np nên/C ta/P sẽ/R thêm/V công_nhân/N vào/E mỏ/N 2/M ,/CH lúc_này/Np lợi_nhuận/N ta/P thu/V được/V sẽ/R tăng/V thêm/V 52/M ./CH\nBan_đầu/N Người/N 1/M Người/N 2/M Người/N 3/M Người/N 4/M Người/N 5/M Người/N 6/M Mỏ/N 1/M -/CH 57/M 30/M 0/M -20/Np -20/Np -20/Np Mỏ/N 1/M -/CH 52/M 14/M 9/M 0/M -9/Np -20/Np Công_nhân/N thứ/N 3/M sẽ/R có_ích/A hơn/A khi/N làm/V ở/E mỏ/N 1/M với/E lợi_nhuận/N thu/V được/V là/V 30/M ./CH\nBan_đầu/N Người/N 1/M Người/N 2/M Người/N 3/M Người/N 4/M Người/N 5/M Người/N 6/M Mỏ/N 1/M -/CH 57/M 30/M 0/M -20/Np -20/Np -20/Np Mỏ/N 1/M -/CH 52/M 14/M 9/M 0/M -9/Np -20/Np Với/E công_nhân/N thứ/N 4/M ,/CH ta/P có_thể/R cho/E anh/N ta/P vào/E mỏ/N 1/M (với/Np lợi_nhuận/N là/V 0)/Np hoặc/Cc mỏ/N 2/M (với/Np lợi_nhuận/N là/V 14)/Np ./CH\nDĩ_nhiên/A ,/CH ta/P sẽ/R phân_công/V anh/N ấy/P vào/E mỏ/N hai/M ./CH\nBan_đầu/N Người/N 1/M Người/N 2/M Người/N 3/M Người/N 4/M Người/N 5/M Người/N 6/M Mỏ/N 1/M -/CH 57/M 30/M 0/M -20/Np -20/Np -20/Np Mỏ/N 1/M -/CH 52/M 14/M 9/M 0/M -9/Np -20/Np Cuối_cùng/A ,/CH hai/M công_nhân/N còn_lại/Np sẽ/R được/V phân_công_bằng/Np cách/N cho/E cả/P hai/M vào/E làm/V ở/E mỏ/N 2/M hoặc/Cc mỗi/L người_làm/N ở/E một/M mỏ/N riêng/A ./CH\nVí_dụ/C cho/E ta/P thấy/V kết_quả/N mà/C ta/P vừa/R tìm/V được/V chính/T là/V kết_quả/N tối_ưu/A ./CH\nNhưng/C câu_hỏi/N đặt/V ra/V là/V liệu/V phương_pháp/N này/P có/V luôn/R đúng/A hay_không/Np ?/CH\nKhẳng_định/V :/CH Ta/P luôn_luôn/R thu/V được/V tổng/N lợi_nhuận/N lớn/A nhất/A khi/N lần_lượt/R cho/E từng/R công_nhân/N vào/E mỏ/N có_lợi/Np nhuận/Np cao/A nhất/A ở/E thời_điểm/N hiện_tại/N ./CH\nChứng_minh/V :/CH Gọi_A/Np ,/CH B/Ni lần_lượt/R là/V mỏ/N 1/M và/Cc mỏ/N 2/M ,/CH a1/Np ,/CH b1/Ni ,/CH a2/Np ,/CH b2/Ni được/V định_nghĩa/N như_sau/Np :/CH a1/Np -/CH lợi_nhuận/N thu/V được/V khi/N phân_công/V thêm/V một/M công_nhân/N vào/E A/Ni ./CH\na1+a2/Np -/CH lợi_nhuận/N thu/V được/V khi/N phân_công/V thêm/V hai/M công_nhân/N vào/E A/Ni ./CH\nb1/Ni -/CH lợi_nhuận/N thu/V được/V khi/N phân_công/V thêm/V một/M công_nhân/N vào/E B/Ni ./CH\nb1+b2/Np -/CH lợi_nhuận/N thu/V được/V khi/N phân_công/V thêm/V hai/M công_nhân/N vào/E B/Ni ./CH\nThuật_toán/N Tham_lam/Np của/E ta/P sẽ/R gia_tăng/V lợi_nhuận/N bằng/E a1/Np cho/E công_nhân/N đầu_tiên/A và/Cc (a2+b1)/Np cho/E công_nhân/N thứ/N 2/M ./CH\nTổng/N lợi_nhuận/N lúc_này/Np sẽ/R là/V a1+max(a2/Np ,/CH b1)/Np ./CH\nNếu/C ban_đầu/N ta/P chọn/V b1/Ni thì/C lợi_nhuận/N của_công/Np nhân/N thứ/N 2/M thu/V được/V sẽ/R là/V a1/Np hoặc/Cc b2/Ni ./CH\nTrong/E trường_hợp/N đầu_tiên/A ,/CH ta/P sẽ/R có/V a1+b1/Np \\le/Np a1+max(a2/Np ,/CH b1)/Np ./CH\nTrong/E trường_hợp/N thứ_hai/N ,/CH tổng/N lợi_nhuận/N sẽ/R là/V b1+b2/Np ./CH\nTa/P cần/V phải/V chứng_minh/V b1+b2/Np \\le/Np a1+max(a2/Np ,/CH b1)/Np ./CH\nMà/C ta/P luôn/R có/V b1/Ni \\le/Np b2/Ni vì/E lợi_nhuận/N thu/V được/V từ/E việc/N thêm/V một/M công_nhân/N vào/E một/M mỏ/N luôn_luôn/R lớn/A hơn/A hoặc/Cc bằng/E lợi_nhuận/N thu/V được/V từ/E việc/N thêm/V một/M công_nhân/N nữa/R vào/E mỏ/N đó/P ./CH\nTrạng_thái/N của/E mỏ/N vàng/N Lợi_nhuận/N từ/E việc/N thêm/V 1/M người/N Lợi_nhuận/N từ/E việc/N thêm/V 1/M người/N Số_lượng/N mỏ/N gt;số/Np lượng/N người/N đào+2/Np 60/M 60/M Số_lượng/N mỏ/N =/CH số_lượng/N người/N đào+2/Np 60/M 50/M Số_lượng/N mỏ/N =/CH số_lượng/N người/N đào+1/Np 50/M -20/Np Số_lượng/N mỏ/N -20/Np -20/Np Vì/E b1+b2/Np \\le/Np a1+a2/Np \\le/Np a1+b1/Np \\le/Np a1+max(a2/Np ,/CH b1)/Np ,/CH lựa_chọn/V Tham_lam/Np cũng/R chính/T là/V phương_án/N tối_ưu/A ./CH\nCài_đặt/V thuật_toán/N này/P hoàn_toàn/A không/R khó/A ,/CH tuy_nhiên/C ta/P cần/V phải/V xử_lý/V thêm/V một_vài/L trường_hợp/N nữa/R (tất/Np cả/P các/L công_nhân/N đều/R phải/V được/V phân_công/V ,/CH chỉ_có/Np tối_đa/A sáu/M người/N trong/E một/M mỏ/N và/Cc nếu/C một/M công_nhân/N có_thể/R được/V đặt/V tối_ưu/A ở/E nhiều/A mỏ/N ,/CH ưu_tiên/V mỏ/N có/V chỉ_số/N nhỏ/A hơn)/Np ./CH\nWorldPeace/Np Bài_toán/N :/CH Cho/E n/Ny đất_nước/N ,/CH mỗi/L nước/N có/V dân_số/N của/E họ/P ./CH\nHãy/R chia/V thành/V thành/V các/L nhóm/N có/V k/N người/N không/R có/V cùng/A quốc_tịch/N ./CH\nHãy/R cho_biết/V số_lượng/N nhóm/N tối_đa/A có_thể/R đạt/V được/V ./CH\nPhân_tích/V :/CH Những/L thuật_toán/N Tham_lam/Np đều/R hoạt_động/N tốt/A ở/E mọi/L tình_huống/N bởi/E ta/P đã/R chứng_minh/V được/V tính/V đúng_đắn/A của/E nó/P ./CH\nNhưng/C còn/R một/M lớp/N bài_toán/N tối_ưu_hóa/Np nữa/R mà/C thuật_toán/N Tham_lam/Np có_thể/R được/V áp_dụng/V ./CH\nĐây/P là/V những/L bài_tập/Np thuộc/V lớp/N NP/Np -/CH đầy_đủ/A (như/Np bài_toán/N người/N đưa/V thư/N TSP_Traveling_Salesman_Problem/Np )/CH ,/CH đối_với/E dạng/N bài_toán/N này/P ,/CH ta/P thường/R sẽ/R sử_dụng/V phượng/N pháp/Np nhánh/N cận/A để/E giải_quyết/V vấn_đề/N hơn_là/Np chờ_đợi/V chương_trình/N thực_thi/V ./CH ./CH ./CH\nLời_giải/Np không_phải/Np lúc/N nào/P cũng/R là/V tối_ưu/A ,/CH song/C trong/E phần_lớn/N trường_hợp/N ,/CH nó/P đã/R đủ/A tốt/A rồi/C ./CH\nVới/E một/M bài_toán/N không/R thuộc/V lớp/N NP/Np như_thế/X này/P ,/CH đây/P chính/T là/V ví_dụ/C tuyệt_vời/A cho/E việc/N một/M thuật_toán/N Tham_lam/Np không/R chỉ_có/Np thể/N đánh_lừa/V và/Cc vượt_qua/Np các/L test/Np mẫu/N ,/CH mà/C nó/P còn/R có_thể/R vượt_qua/Np cả/P những/L bộ/N test/Np hệ_thống/N được/V thiết_kế/V kỹ_càng/Np ./CH\nThuật_toán/N này/P không/R quá/R khó/A để/E nghĩ_ra/Np ,/CH mà/C chỉ_cần/Np một_vài/L phân_tích/V nhanh_ta/Np có_thể/R nhận_ra/Np ,/CH để/E tối_đa_hóa/Np tổng_số_lượng/Np nhóm/N ,/CH luôn_luôn/R tối_ưu/A để/E tạo/V thiết_lập/V một/M nhóm/N từ/E k/N quốc_gia/N có/V dân_số/N đông/A nhất/A ./CH\nChúng_ta/P áp_dụng/V phương_pháp/N này/P ở/E từng/R bước/V và/Cc sau_đó/Np sắp_xếp/V lại/R đoạn/Nc để/E thấy/V được/V k/N quốc_gia/N tiếp_theo/V có/V dân_số/N đông/A nhất/A ./CH\nÝ_tưởng/N này/P sẽ/R được/V minh_họa/V trong/E đoạn/Nc mã/N giả/A dưới_đây/Np :/CH Groups/Np =/CH 0/M Repeat/Np //CH sắp_xếp/V lại/R mảng/N theo/V thứ_tự/N giảm_dần/Np Sort/Np (A)/Np Min/Np =/CH AK_If_Min/Np gt;/Np 0/M Groups/Np =/CH Groups/Np +/CH 1/M For_I/Np =/CH 1/M to/A K_AI/Np =/CH AI/P -/CH 1/M Endfor_Until_Min/Np =/CH 0/M Return_Groups_Không/Np may_thay/Np ,/CH mỗi/L quốc_gia/N lại/R có/V tới/E hàng_tỷ/Np người/N dân/N ,/CH thế/P nên/C ta/P không_thể_nào/R thiết_lập/V từng/R nhóm/N một/M được/V ./CH\nVề_mặt/Np lý_thuyết/Np ,/CH đối_với/E một_tập/Np hợp/V của/E k/N quốc_gia/N ,/CH chúng_ta/P sẽ/R tạo/V nhóm/N cho_đến/E khi/N mà/C toàn_bộ/L người/N dân/N của/E nước/N đó/P đã/R được/V phân/V nhóm/N ./CH\nVà/Cc điều/N này/P sẽ/R được/V thực_hiện/V chỉ/R trong/E 1/M bước/V :/CH Groups/Np =/CH 0/M Repeat/Np //CH sắp_xếp/V lại/R mảng/N theo/V thứ_tự/N giảm_dần/Np Sort/Np (A)/Np Min=_AK_Groups/Np =/CH Groups/Np +/CH Min_For_I/Np =/CH 1/M to/A K_AI/Np =/CH AI/P -/CH Min_Endfor_Until_Min/Np =/CH 0/M Return_Groups/Np Thời_gian_thực/Np thi/V giờ/N không/R còn/R là/V vấn_đề/N nữa/R ,/CH mà/C vấn_đề/N giờ_đây/P chính/T là/V tính/V đúng_đắn/A của/E thuật_toán/N !/CH Khi/N ta/P thử/V ví_dụ/C 0/M trong/E bài/N ,/CH thuật_toán/N của/E chúng_ta/P trả/V về/E kết_quả/N là/V 4/M chứ/C không_phải/Np là/V 5/M ./CH\nNhưng/C kết_quả/N trả/V về/E trong/E ví_dụ/C 1/M ,/CH 2/M và/Cc 3/M thì/C đúng/A ./CH\nTrong/E với/E ví_dụ/C cuối_cùng/A ,/CH thay_vì/X tạo/V ra/V 3983180234/Np nhóm/N ,/CH ta/P chỉ/R tạo/V được/V 3983180207/Np nhóm/N mà_thôi/T ./CH\nBằng/E việc/N chỉ/R kết_quả/N có/V sai_lệch/A không_đáng_kể/Np ,/CH ta/P có_thể/R thấy/V rằng/C giải_thuật/Np của/E mình/P khá/R tốt/A ./CH\nThế/P nên/C giờ/N ta/P chỉ_cần/Np cải_tiến/V nó/P theo/V hướng/N này/P ./CH\nCho_đến/E hiện_tại/N ,/CH ta/P đã/R có/V trong/E tay/N hai/M thuật_toán/N :/CH Thuật_toán/N tham_lam/Np đầu_tiên/A chính_xác/A ,/CH nhưng/C không/R đủ/A nhanh/A ./CH\nThuật_toán/N tham_lam/Np thứ_hai/N nhanh/A ,/CH nhưng/C lại/R không/R chính_xác/A ./CH\nGiờ/N ,/CH điều/N mà/C ta/P cần/V làm/V đó/P chính/T là/V tăng/V độ_chính_xác/Np của/E thuật_toán/N này/P lên/V nhiều/A nhất/A có_thể/R ,/CH mà/C thời_gian_thực/Np thi/V vẫn/R không/R bị/V quá/R giới_hạn/V ./CH\nMột_cách/N cơ_bản/A ,/CH ta/P đang/R tìm_kiếm/V sự/N cân_bằng/A giữa/N thời_gian_thực/Np thi/V và/Cc độ_chính_xác/Np ./CH\nĐiểm/N khác_biệt/A duy_nhất/A giữa/N hai/M thuật_toán/N kể_trên/Np chính/T là/V số_lượng/N nhóm/N mà/C chúng_ta/P lựa_chọn/V được/V ./CH\nChúng_ta/P sẽ/R có_một/Np phương_án/N như_sau/Np :/CH ta/P sẽ/R lựa/V ra/V một_số/L lượng/N lớn/A nhóm/N ngẫu_nhiên/A lúc/N đầu/N ,/CH sau_đó/Np sẽ/R giải_quyết/V đoạn/Nc còn_lại/Np theo/V cách/N tiếp_cận/V an_toàn/A hơn/A ./CH\nKhi/N mà/C chúng_ta/P chỉ/R còn_lại/Np một_số/L lượng/N nhỏ_người/Np dân/N chưa/R được/V phân/V nhóm/N ở/E các/L quốc_gia/N ,/CH thì/C lúc_này/Np nó/P hoàn_toàn/A hợp_lí/A khi/N ta/P sử_dụng/V phương_pháp/N vét/V cạn/A ./CH\nVới/E biến/V Allowed/Np được/V khỏi/V tạo/V trong/E thuật_toán/N dưới_đây/Np ,/CH ta/P điều_khiển/V số_lượng/N nhóm/N mà/C ta/P mong_muốn/V tạo/V tại/E thời_điểm/N được/V cho/E ./CH\nGroups/Np =/CH 0/M Repeat/Np //CH sắp_xếp/V lại/R mảng/N theo/V thứ_tự/N giảm_dần/Np Sort/Np (A)/Np Min/Np =/CH AK_Allowance/Np =/CH (Min+999)/Np //CH 1000/M Groups/Np =/CH Groups/Np +/CH Allowance_For_I/Np =/CH 1/M to/A K_AI/Np =/CH AI/P -/CH Allowance_Endfor_Until_Min/Np =/CH 0/M Return_Groups_Nếu/Np cách/N tiếp_cận/V này/P thật_sự/A đúng/A ,/CH ta/P hoàn_toàn/A có_thể/R nhận_ra/Np được/V ./CH\nMặc_dù/C nó/P có_thể/R thoát_khỏi/Np ánh_mắt/Np sắc/A nhọn/Np của/E Tomek/Np cũng_như/C là/V test/Np hệ_thống/N ,/CH nhưng/C có_vẻ/X là/V nó/P sẽ/R không_thể_nào/R đưa_ra/Np kết_quả/N quả/N đúng_với/Np mọi/L bộ/N test_khả_thi/Np ./CH\nĐây/P chính/T một/M ví_dụ/C cho/E thấy/V nếu/C được/V tinh_chỉnh/Np ,/CH từ/E một/M thuật_toán/N tham_lam/Np đơn_giản/A (nhưng/Np vẫn/R còn/R khiếm/Np khuyết)/Np cũng/R cũng/R có_thể/R trở_thành/V một/M giải_thuật/Np \"đúng\"/Np ./CH\nĐể/E biết/V thêm/V về/E thuật_toán/N chính_xác/A cho/E bài/N này/P ,/CH xem/V lời_giải/Np ở/E Match_Editorial/Np ./CH\nTổng_kết/V Tham_lam/Np thường/R dễ/A nghĩ_ra/Np ,/CH dễ/A cài_đặt/V và/Cc chạy/V nhanh/A ,/CH nhưng/C không_phải/Np lúc/N nào/P cũng/R đúng/A ./CH\nKhi/N bạn/N sử_dụng/V duyệt/V hoặc/Cc quy_hoạch_động/Np ,/CH nó/P giống_như/Np bạn/N đang/R di_chuyển/V trên/E mặt_đất/N an_toàn/A ./CH\nCòn/R đối_với/E tham_lam/Np ,/CH thì/C giống_như/Np bạn/N đang/R đi/V trên/E một/M bãi_mìn/Np ./CH\nNhư/C bạn/N đã/R thấy/V qua/V ví_dụ/C 1/M ,/CH có/V rất/R nhiều/A cách/N tham/V khác_nhau/Np nhưng/C chỉ_có/Np một_cách/N cho/E kết_quả/N đúng/A ./CH\nVì_vậy/C ,/CH khi/N làm_bài/Np ,/CH bạn/N luôn_luôn/R nên/C tìm/V cách/N chứng_minh/V tính/V đúng_đắn/A của/E thuật/Np tham/V ./CH\nKhông/R tồn_tại/V một/M công_thức/N chung/A nào/P cho/E việc/N áp_dụng/V Tham_lam/Np ,/CH tuy_nhiên/C ,/CH ta/P có_thể/R nhìn/V ra/V thuật/Np tham/V bằng/E việc/N phân_tích/V các/L tính_chất/N của/E bài_toán/N ,/CH kinh_nghiệm/N cũng_như/C trực_giác/Np ./CH\nMột_vài/L lưu_ý/V nhỏ/A Nhưng/C bài_tập/Np mà/C có_vẻ/X cực_kỳ/R phức_tạp/A (như/Np TCSocks/Np )/CH có_thể/R xem/V như_là/V dấu_hiệu/N để/E tiếp_cận/V bằng/E phương_pháp/N Tham_lam/Np ./CH\nNhưng/C bài_toán/N mà/C dữ_liệu/N đầu_vào/N rất/R lớn/A (mà/Np kể_cả/X thuật_toán/N có/V độ/N phức_tạp/A O(n2)/Np vẫn/R không/R kịp)/Np thường/R được/V giải/N bằng/E tham_lam/Np hơn_là/Np quay/V lui/V hoặc/Cc quy_hoạch_động/Np ./CH\nMặc_dù/C nó/P có_vẻ/X rùng_rợn/Np ,/CH nhưng/C bạn/N nên/C nhìn/V thuật_toán/N tham_lam/Np dưới/E đôi/M mắt/N của/E một/M thám_tử/N chứ/C không_phải/Np là/V dưới/E cặp/N kính/N của/E một/M nhà/N toán_học/N ./CH\nMột/M thám_tử/N giỏi/A tham_lam/Np ./CH\nMột/M người/N tham_lam/Np may_mắn/A ./CH\nMột/M người/N tham_lam/Np không/R may_mắn/A ./CH\nNgoài_ra/X ,/CH việc/N học_tập/V một_số/L thuật_toán/N có/V sử_dụng/V Tham_lam/Np sẽ/R giúp/V nắm_vững/Np phương_pháp/N này/P hơn/A (/CH thuật_toán/N Prim/Np ,/CH thuật_toán/N Kruskal/Np ,/CH thuật_toán/N Dijkstra/Np )/CH Bài_tập/Np mở_rộng/V Cấp_độ/N 1/M GroceryBagger/Np –/CH SRM/Np 222/M FanFailure/Np –/CH SRM/Np 195/M PlayGame/Np –/CH SRM/Np 217/Np SchoolAssembly/Np –/CH TCO04_Round/Np 2/M RockStar/Np –/CH SRM/Np 216/Np Apothecary/Np –/CH SRM/Np 204/Np Boxing/Np –/CH TCO04_Round/Np 3/M Unblur/Np –/CH TCO04_Semifinal_Room/Np 3/M Cấp_độ/N 2/M Crossroads/Np –/CH SRM/Np 217/Np TCSocks/Np –/CH SRM/Np 207/M HeatDeath/Np –/CH TCO04_Round/Np 4/M BioScore/Np –/CH TCO04_Semifinal_Room/Np 1/M Rationalization/Np –/CH SRM/Np 224/Np Cấp_độ/N 3/M GoldMine/Np –/CH SRM/Np 169/Np MLBRecord/Np –/CH TCO04_Round/Np 2/M RearrangeFurniture/Np –/CH SRM/Np 220/M WorldPeace/Np –/CH SRM/Np 204/Np\n", "title": "Thuật toán Tham lam\n", "link": "http://vnoi.info/wiki/translate/topcoder/Greedy-is-Good\n"}